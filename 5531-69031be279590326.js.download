!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="3f2a8c86-e3b5-44d5-a6fc-b36ff3e87270",e._sentryDebugIdIdentifier="sentry-dbid-3f2a8c86-e3b5-44d5-a6fc-b36ff3e87270")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"ef5ff8f4"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2857,5531],{9:e=>{e.exports={container:"StripeConnectionSection_container__JSnLS",clickable:"StripeConnectionSection_clickable__WYk8r",contentBorder:"StripeConnectionSection_contentBorder__GkFcz",hiddenContent:"StripeConnectionSection_hiddenContent__2SG96",sectionDivider:"StripeConnectionSection_sectionDivider__iTbzq"}},122:e=>{e.exports={container:"AgentDetail_container__D7_tq",chatContainer:"AgentDetail_chatContainer__i7PyO",toolItem:"AgentDetail_toolItem__DOcUc"}},154:(e,n,t)=>{"use strict";t.d(n,{_:()=>l});var r=t(34837),a=t(42793),i=t(18712),o=t(2717),s=(0,a.AH)([i.wp.height(18)]);function l(){return(0,r.Y)(o.a,{css:s,text:"Staff-only",colorway:"warning"})}},314:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(21462),a=t(90352),i=t(78624);function o(e){var n=e.repl,t=e.currentUser,o=e.container,s=(0,i.L)(),l=(0,a.$)(n&&t?{repl:n,currentUser:t}:null);(0,r.useEffect)(function(){if(o&&l)return o.connect({context:l,getMinimumRetryDelayMs:s}),function(){o.close()}},[l,o,s])}},454:(e,n,t)=>{"use strict";t.d(n,{T:()=>D});var r=t(83846),a=t(17844),i=t(34837),o=t(62684),s=t(93629),l=t(17459),u=t(25189),c=t(99365),d=t(42793),f=t(18712),p=t(2717),h=t(91953),m=(0,d.AH)([f.wp.fontSize(13)]);function v(e){var n=e.name,t=(0,l._)(e,["name"]),r=(0,c.Jn)(n.id),o=(0,u.vm)();if(!r)return null;var d=(0,c.LH)(r,o);return""===d.trim()?null:(0,i.Y)(p.a,(0,s._)((0,a._)({},t),{text:(0,i.Y)(h.EY,{css:m,color:"dimmest",children:d})}))}var g=t(39534),b=t(25227),y=(0,d.AH)([f.wp.borderRadius("full"),f.wp.position.absolute,f.wp.top(-3),f.wp.right(-3)]);function w(e){var n=e.color,t=void 0===n?g.LU.redStronger:n,r=e.small,a=e.className,o=r?6:8;return(0,i.Y)(b.S,{className:a,style:{backgroundColor:t,width:o,height:o,zIndex:2,boxShadow:"0 0 0 2px ".concat(g.LU.backgroundDefault)},css:y})}var _=t(62246),S=t(88233),A=t(70764),k=t(28736),C=t(12478),Y=t(72643),E=t(88589),x=(0,A.x)({root:[{paddingInline:C.eQ.inputBarPadding,"&:hover .icon":{backgroundColor:"var(".concat(g.qo.interactiveBackground,")")}}],iconAndIndicator:[f.wp.position.relative],iconContainer:[f.wp.position.relative,C.Ef,{width:C.eQ.iconSize,height:C.eQ.iconSize}],textContent:[f.wp.flex.growAndShrink(1)],aliasContainer:[f.wp.color.foregroundDimmest,f.wp.align.center,f.wp.flex.growAndShrink(1)],descriptionText:[{fontSize:"0.9em"}]});function T(e){var n=e.pane,t=e.active,o=e.labelHighlights,s=(0,_.Vv)(),l=s.Icon({pane:n,size:e.iconSize}),u=s.getTitle(n),c=(0,_.qo)(n,{short:!0}),d=s.getTitlePill(n),f=(0,S.F9)({paneType:n.type}),m=(0,k.mg)();return(0,i.FD)(b.S,{css:x.root,grow:!0,shrink:!0,row:!0,align:"center",gap:C.eQ.inputBarPadding,style:m?(0,r._)({paddingTop:C.eQ.inputBarPadding,paddingBottom:C.eQ.inputBarPadding},C.O3.iconSize,e.iconSize+"px"):void 0,children:[(0,i.FD)(b.S,{css:x.iconAndIndicator,children:[(0,i.Y)(b.S,{css:x.iconContainer,style:{opacity:e.active?1:.7},children:l}),f?(0,i.Y)(w,{color:f}):null]}),(0,i.FD)(b.S,{css:x.textContent,gap:2,"data-cy":"command-bar-tool-".concat(u.toLowerCase()),children:[(0,i.FD)(b.S,{row:!0,gap:4,justify:"space-between",children:[e.alias?(0,i.FD)(b.S,{row:!0,gap:8,css:x.textContent,children:[(0,i.Y)(h.EY,{children:u}),(0,i.FD)(b.S,{css:x.aliasContainer,row:!0,gap:4,children:["(",e.aliasPrefix?(0,i.FD)(h.EY,{color:"dimmest",children:[e.aliasPrefix," "]}):null,(0,i.Y)(E.e,{dimmed:!0,text:e.alias,highlight:o}),")"]})]}):(0,i.Y)(E.e,{dimmed:!t,text:u,highlight:o}),m&&null!=d?(0,i.Y)(p.a,(0,a._)({},d)):null]}),m&&null!=c?(0,i.Y)(E.e,{dimmed:!t,text:c,highlight:e.descriptionHighlights,multiline:!0,css:x.descriptionText}):null]}),e.shortcutCommand?(0,i.Y)(v,{name:e.shortcutCommand}):null]})}function D(e){var n=e.pane,t=e.aliases,r=void 0===t?[]:t,a=e.iconSize;return function(e){var t=e.searchQuery,s=e.data,l=e.active;if("group"===s.type)return null;if(!t)return{score:1,render:{content:(0,i.Y)(T,{iconSize:a,pane:n})}};var u=(0,o.w2)(t,s.label,{casing:"case-insensitive"}),c=null;if(null!=s.description&&(c=(0,o.w2)(t,s.description,{filterLowMatchScores:!0,fuzzy:!1,casing:"case-insensitive"}))&&(c.score*=Y.B.toolDescription),null!=u||null!=c)return{score:null!=(m=null!=(h=null==u?void 0:u.score)?h:null==c?void 0:c.score)?m:0,render:{content:(0,i.Y)(T,{iconSize:a,pane:n,labelHighlights:null!=(v=null==u?void 0:u.ranges)?v:[],descriptionHighlights:null!=(g=null==c?void 0:c.ranges)?g:[],active:l})}};var d=!0,f=!1,p=void 0;try{for(var h,m,v,g,b,y=r[Symbol.iterator]();!(d=(b=y.next()).done);d=!0){var w=b.value,_="string"==typeof w?{alias:w,prefix:void 0}:w,S=_.alias,A=_.prefix,k=(0,o.w2)(t,S,{casing:"case-insensitive"});if(k)return{score:k.score,render:{content:(0,i.Y)(T,{iconSize:a,pane:n,active:l,alias:S,aliasPrefix:A,labelHighlights:k.ranges})}}}}catch(e){f=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw p}}return null}}},692:(e,n,t)=>{"use strict";t.d(n,{L:()=>a,Y:()=>r});var r=(0,t(41409).F)(null);function a(e,n,t){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Date.now();Array.isArray(e)||(e=[e]);var o=null!=(a=n.output)?a:"",s=n.error,l=t?i:Date.now(),u="".concat(i,"-").concat(Math.random());r.set({input:e,output:o,error:s,start:i,end:l,cached:t,key:u})}},726:(e,n,t)=>{"use strict";t.d(n,{oD:()=>d,wo:()=>p});var r=t(17844),a=t(12584),i=t(41114),o=t(54744),s=t(32516);function l(){var e=(0,a._)(["\n  fragment TransferReplReplInfo on Repl {\n    id\n    slug\n    title\n    owner {\n      ... on Team {\n        id\n        username\n      }\n      ... on User {\n        id\n        username\n      }\n    }\n    org {\n      id\n      slug\n    }\n  }\n"]);return l=function(){return e},e}function u(){var e=(0,a._)(["\n  query TransferReplDialog {\n    currentUser {\n      id\n      ...ReplOwnerCurrentUser\n    }\n  }\n  ","\n"]);return u=function(){return e},e}var c={},d=(0,i.J1)(l()),f=(0,i.J1)(u(),s.nM);function p(e){var n=(0,r._)({},c,e);return o.I(f,n)}},738:(e,n,t)=>{"use strict";t.d(n,{M:()=>l});var r=t(34837),a=t(62246),i=t(91953),o=t(25227),s=t(90843),l={Content:function(){return(0,r.Y)(o.S,{style:{padding:32},children:(0,r.Y)(i.EY,{variant:"text",multiline:!1,children:"Sorry, this feature is not supported."})})},Icon:function(){return(0,r.Y)(s.A,{})},getTitle:function(){return"Unsupported"},category:a.bY.Other,decode:function(){return{type:"commands",data:{autoFocus:!1}}}}},790:(e,n,t)=>{"use strict";function r(e){return e.replace("GraphQL error: ","")}t.d(n,{A:()=>r})},938:(e,n,t)=>{"use strict";t.d(n,{A:()=>N});var r=t(12694),a=t(34837),i=t(21462),o=t(169),s=t(37700),l=t(17844),u=t(93629),c=t(12584),d=t(41114),f=t(39590);function p(){var e=(0,c._)(["\n  mutation SendSmsVerification($input: SendSmsVerificationInput!) {\n    sendSmsVerification(input: $input) {\n      ... on SendSmsVerificationResult {\n        __typename\n        success\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n      ... on TooManyRequestsError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return p=function(){return e},e}function h(){var e=(0,c._)(["\n  mutation ConfirmSmsVerification($input: ConfirmSmsVerificationInput!) {\n    confirmSmsVerification(input: $input) {\n      ... on ConfirmSmsVerificationResult {\n        __typename\n        success\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n      ... on TooManyRequestsError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return h=function(){return e},e}var m={},v=(0,d.J1)(p()),g=(0,d.J1)(h()),b=function(e,n){switch(n.type){case"setPhoneNumber":return(0,u._)((0,l._)({},e),{phoneNumber:n.phoneNumber});case"setCode":return(0,u._)((0,l._)({},e),{code:n.code});case"setError":return(0,u._)((0,l._)({},e),{error:n.message});case"setMode":return(0,u._)((0,l._)({},e),{mode:n.mode});default:return e}},y=function(){var e,n,t,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=o.onSuccess,c=o.context,d=(0,r._)((0,i.useReducer)(b,{mode:"phone-input"}),2),p=d[0],h=d[1],y=(0,r._)((e={onError:function(){return h({type:"setError",message:"Something went wrong"})},onCompleted:function(e){if("SendSmsVerificationResult"===e.sendSmsVerification.__typename)return void h({type:"setMode",mode:"code-input"});h({type:"setError",message:e.sendSmsVerification.message})}},n=(0,l._)({},m,e),f.n(v,n)),2),w=y[0],_=y[1].loading,S=(0,r._)((t={onError:function(){return h({type:"setError",message:"Something went wrong"})},onCompleted:function(e){if("ConfirmSmsVerificationResult"===e.confirmSmsVerification.__typename){null==s||s(),h({type:"setMode",mode:"success"});return}h({type:"setError",message:e.confirmSmsVerification.message})}},a=(0,l._)({},m,t),f.n(g,a)),2),A=S[0],k=S[1].loading;return[(0,u._)((0,l._)({},p),{loading:k||_}),{reset:function(){h({type:"setMode",mode:"phone-input"}),h({type:"setPhoneNumber",phoneNumber:void 0}),h({type:"setCode",code:void 0}),h({type:"setError",message:void 0})},submitCode:function(){if(!k){var e=p.phoneNumber,n=p.code;if(!e)return void h({type:"setError",message:"Phone number is required"});if(!n)return void h({type:"setError",message:"Verification code is required"});h({type:"setError",message:void 0}),A({variables:{input:{phoneNumber:e,code:n,context:c}}})}},submitPhoneNumber:function(){if(!_){var e=p.phoneNumber;if(!e)return void h({type:"setError",message:"Phone number is required"});h({type:"setError",message:void 0}),w({variables:{input:{phoneNumber:e,context:c}}})}},handleCodeChange:function(e){h({type:"setCode",code:e})},handlePhoneNumberChange:function(e){h({type:"setPhoneNumber",phoneNumber:e})}}]},w=t(39534),_=t(38592),S=t(70764),A=t(51292),k=t(18712),C=t(40756),Y=t(83096),E=t(9844),x=t(91953),T=t(25227),D=t(33683),I=(0,S.x)({mobilePhoneInput:[{".PhoneInput":[k.wp.display.flex,k.wp.rowWithGap(4),A.b.filledAndOutlined,k.wp.px(8),k.wp.py(4),k.wp.color.foregroundDefault,{".PhoneInputCountry":[k.wp.rowWithGap(4),k.wp.display.flex,k.wp.align.center,k.wp.flex.shrink(1),k.wp.position.relative,{".PhoneInputCountryIcon":[k.wp.width(16),k.wp.height(12),{".PhoneInputCountryIconImg":[k.wp.display.block,k.wp.width("100%"),k.wp.height("100%")]}],".PhoneInputCountrySelect":[k.wp.position.absolute,k.wp.top(0),k.wp.left(0),k.wp.width("100%"),k.wp.height("100%"),{opacity:0,zIndex:1,cursor:"pointer"}],".PhoneInputCountrySelectArrow":[k.wp.display.block,k.wp.width(8),k.wp.height(8),k.wp.mx(2),k.wp.mb(4),{content:'""',borderStyle:"solid",borderColor:w.LU.foregroundDefault,borderTopWidth:0,borderBottomWidth:1,borderLeftWidth:0,borderRightWidth:1,transform:"rotate(45deg)"}]}],".PhoneInputInput":[k.wp.flex.grow(1),{appearance:"none",background:"transparent",border:0,"&:focus":{outline:0}}]}]}],resetResendOptions:[k.wp.display.inlineBlock],textButton:[k.wp.reset.button,k.wp.color.accentPrimaryStronger,k.wp.focusRing,k.wp.borderRadius(4),{":focus":{outlineOffset:"2px"},transitionProperty:"color, box-shadow",transitionDuration:_.Ds.duration,transitionTimingFunction:_.Ds.timingFunction,":not([disabled])":{textDecoration:"underline",cursor:"pointer","@media (hover: hover)":{":hover":{color:w.LU.accentPrimaryStrongest}},":not(textarea):active":{color:w.LU.accentPrimaryStrongest}}}]}),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,i.useId)();return e?"".concat(e,"-").concat(n):n};let N=function(e){var n=e.context,t=e.ctas,i=void 0===t?{sendCode:"Send code",confirmCode:"Confirm code"}:t,l=e.onSuccess,u=e.autoFocus,c=(0,r._)(y({onSuccess:l,context:n}),2),d=c[0],f=c[1],p=R("sms-verification-phone"),h=R("sms-verification-phone-error"),m=R("sms-verification-code"),v=R("sms-verification-code-error");switch(d.mode){case"phone-input":return(0,a.FD)(T.S,{css:I.mobilePhoneInput,gap:8,tag:"form",onSubmit:function(e){e.preventDefault(),f.submitPhoneNumber()},children:[(0,a.Y)(x.EY,{children:"Enter your phone number:"}),(0,a.Y)(o.s,{children:(0,a.Y)("label",{htmlFor:p,children:"Phone Number"})}),(0,a.Y)(s.Ay,{id:p,addInternationalOption:!1,countryCallingCodeEditable:!1,defaultCountry:"US",international:!0,value:d.phoneNumber,onChange:f.handlePhoneNumberChange,numberInputProps:{"aria-describedby":h,onKeyDown:function(e){"Enter"===e.key&&f.submitPhoneNumber()},autoFocus:void 0===u||u}}),d.error?(0,a.Y)(E.N,{id:h,colorway:"warning",text:d.error}):null,(0,a.Y)(x.EY,{variant:"small",color:"dimmer",children:"Your phone number is only used for account verification."}),(0,a.Y)(C.$n,{colorway:"primary",text:i.sendCode,loading:d.loading,type:"submit"})]});case"code-input":return(0,a.FD)(T.S,{gap:8,tag:"form",onSubmit:function(e){e.preventDefault(),f.submitCode()},children:[(0,a.FD)(x.EY,{children:["We just sent a verification code to ",d.phoneNumber,". Enter the code below."]}),(0,a.Y)(o.s,{children:(0,a.Y)("label",{htmlFor:m,children:"code"})}),(0,a.Y)(Y.pd,{id:m,type:"text",inputMode:"numeric",pattern:"[0-9]*",autoComplete:"one-time-code",value:d.code,onChange:function(e){var n=e.currentTarget.value;return f.handleCodeChange(n)},onKeyDown:function(e){"Enter"===e.key&&f.submitCode()},"aria-describedby":v}),d.error?(0,a.Y)(E.N,{id:v,colorway:"warning",text:d.error}):null,(0,a.FD)(T.S,{gap:0,children:[(0,a.Y)(x.EY,{variant:"small",color:"dimmer",multiline:!0,children:"Didn't get the code?"}),(0,a.FD)(x.EY,{variant:"small",color:"dimmer",css:I.resetResendOptions,children:[(0,a.Y)("button",{disabled:d.loading,css:I.textButton,onClick:f.submitPhoneNumber,type:"button",children:"Resend the code"})," or ",(0,a.Y)("button",{disabled:d.loading,css:I.textButton,onClick:f.reset,type:"button",children:"use a different number"})]})]}),(0,a.Y)(C.$n,{text:i.confirmCode,colorway:"primary",loading:d.loading,type:"submit"})]});case"success":return(0,a.Y)(T.S,{align:"center",children:(0,a.Y)(D.A,{size:24})})}}},1012:(e,n,t)=>{"use strict";t.d(n,{U:()=>a});var r=t(45773),a=new(t(74309)).k(function(e){var n=e.addAttachments,t=e.onAutoAttachedLargePaste;return r.Lz.domEventHandlers({paste:function(e){if(!e.clipboardData)return!1;var r=e.clipboardData.items,a=!1,i=!0,o=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;if(0===c.type.indexOf("image")){e.preventDefault();var d=c.getAsFile();if(d){var f={fileName:d.name,file:d};n([f]),a=!0;break}}}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}if(a)return!0;var p=e.clipboardData.getData("text");if(p.length<2e3)return!1;e.preventDefault();var h="Pasted-".concat(p.slice(0,100).replace(/[^a-zA-Z0-9-]/g,"-").replace(/-+/g,"-"),"-").concat(Date.now(),".txt"),m=new File([p],h,{type:"text/plain"});return n([{fileName:h,file:m}]),null==t||t(m.size),!0}})})},1095:(e,n,t)=>{"use strict";t.d(n,{A:()=>y});var r=t(34837),a=t(21462),i=t(48373),o=t(40115),s=t(48576),l=t(63591),u=t(65950),c=t(40756),d=t(91953),f=t(25227),p=t(33683),h=t(6525),m=t(1303),v=t(5857);function g(e){var n=e.children,t=e.action;return(0,r.FD)(f.S,{align:"center",children:[(0,r.Y)(d.EY,{children:n}),t?(0,r.Y)(f.S,{row:!0,align:"center",gap:4,children:t}):null]})}function b(e){var n=e.openNetworkingTool,t=(0,l.lO)().isRunning,s=(0,o.A)().ports,d=(0,i.A)(s.portsState),f=(0,a.useMemo)(function(){return null==d?void 0:d.some(function(e){return e.isOpen})},[d]);return t?f?(0,r.Y)(g,{action:(0,r.FD)(r.FK,{children:["Use"," ",(0,r.Y)(c.$n,{onClick:n,size:"small",text:"Networking",iconLeft:(0,r.Y)(m.A,{size:12})})," ","tool to configure them."]}),children:"The app is running, but has no external ports configured."}):(0,r.Y)(g,{children:"The app is running, but there's no webpage to preview right now."}):(0,r.Y)(g,{action:(0,r.FD)(r.FK,{children:[(0,r.Y)(u.d,{})," to see the results of your app."]}),children:"The app is currently not running."})}function y(e){var n=e.openNetworkingTool,t=e.didConnectOnce,a=e.didDisconnect;return!t||a?(0,r.Y)(s.A,{pane:{type:"webview"},icon:t?(0,r.Y)(v.A,{size:48}):(0,r.Y)(p.A,{size:48}),headerText:t?"The workspace is reconnecting…":"The workspace is loading…",bodyText:null}):(0,r.Y)(s.A,{pane:{type:"webview"},icon:(0,r.Y)(h.A,{size:48}),headerText:"Preview your app here",bodyText:(0,r.Y)(b,{openNetworkingTool:n})})}},1195:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M9.713 4.077a8.25 8.25 0 0 1 10.07 5.173.75.75 0 1 0 1.414-.5A9.75 9.75 0 0 0 5.118 5.1L1.75 8.266V4a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h6a.75.75 0 0 0 0-1.5H2.893l3.26-3.063a8.25 8.25 0 0 1 3.56-2.11ZM23.75 14a.75.75 0 0 0-.75-.75h-6a.75.75 0 0 0 0 1.5h4.107l-3.26 3.063-.018.017a8.25 8.25 0 0 1-13.612-3.08.75.75 0 1 0-1.414.5A9.75 9.75 0 0 0 18.882 18.9l3.368-3.165V20a.75.75 0 0 0 1.5 0v-6Z",clipRule:"evenodd"})}))}},1303:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M3.75 5.646a2.751 2.751 0 1 0-1.5 0V6.5A2.75 2.75 0 0 0 5 9.25h6.25v2H7.2a1.95 1.95 0 0 0-1.95 1.95v6a1.95 1.95 0 0 0 1.95 1.95h4.05v.9H9.6a.75.75 0 0 0 0 1.5h4.8a.75.75 0 0 0 0-1.5h-1.65v-.9h4.05a1.95 1.95 0 0 0 1.95-1.95v-6a1.95 1.95 0 0 0-1.95-1.95h-4.05v-2H19a2.75 2.75 0 0 0 2.75-2.75v-.854a2.751 2.751 0 1 0-1.5 0V6.5c0 .69-.56 1.25-1.25 1.25h-6.25V5.646a2.751 2.751 0 1 0-1.5 0V7.75H5c-.69 0-1.25-.56-1.25-1.25v-.854ZM1.75 3a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0ZM21 4.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5ZM13.25 3a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM7.2 12.75a.45.45 0 0 0-.45.45v6c0 .248.201.45.45.45h9.6a.45.45 0 0 0 .45-.45v-6a.45.45 0 0 0-.45-.45H7.2Z",clipRule:"evenodd"})}))}},1453:(e,n,t)=>{"use strict";t.d(n,{A:()=>l});var r=t(12694),a=t(21462),i=t(40115),o=t(45261),s=t(25423);function l(e){var n=(0,r._)((0,a.useState)(!1),2),t=n[0],l=n[1],u=function(e){var n,t,s,l,u=(0,o.A)(),c=(n=(0,i.A)().container,s=(t=(0,r._)((0,a.useState)("/home/runner"),2))[0],l=t[1],(0,a.useEffect)(function(){n.exec("pwd").then(function(e){var n;e.output&&l((null==(n=e.output)?void 0:n.replace("\n",""))||"")})},[n]),s);if(!u)return"".concat(e,"://vscode-remote/ssh-remote");var d=u.sshUser,f=u.sshHostname,p=u.sshPort,h="".concat(e,"://vscode-remote/ssh-remote+").concat(d,"@").concat(f,":").concat(p).concat(c);try{return window.encodeURI(h)}catch(e){return h}}(e),c=(0,s.A)("ssh","workspace-ssh-connect-to-vscode-config-tour"),d=c.register;return(0,a.useEffect)(function(){d()},[d]),{openEditor:(0,a.useCallback)(function(){if(c.shouldDisplay)return void l(!0);window.location.href=u},[c.shouldDisplay,u]),onConfirmConfig:(0,a.useCallback)(function(){l(!1),c.dismiss(),window.location.href=u},[c,u]),isConfigModalOpen:t,closeConfigModal:(0,a.useCallback)(function(){l(!1)},[])}}},1594:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(86105),a=t(21462),i=t(25687),o=t(63591);function s(e){var n=e.handleOpenPane,t=(0,o.If)(),s=(0,a.useRef)(new Set);(0,a.useEffect)(function(){if(t){Object.values(t).forEach(function(e){var t;if(e.step===i.zY.RUNNING&&(null==(t=e.workflow.metadata)?void 0:t.outputType)!==void 0&&!s.current.has(e.runId)){var r=e.workflow.metadata.outputType;switch(s.current.add(e.runId),r){case"webview":n("webview");break;case"console":n("runnerOutput");break;case"vnc":n("vnc");break;case"automations":n("automations")}}});var e,a=new Set(Object.keys(t));e=s.current,s.current=new Set((0,r._)(e).filter(function(e){return a.has(e)}))}},[n,t])}},1698:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M4 3.75A1.25 1.25 0 0 0 2.75 5v14A1.25 1.25 0 0 0 4 20.25h16A1.25 1.25 0 0 0 21.25 19V8A1.25 1.25 0 0 0 20 6.75h-9a.75.75 0 0 1-.624-.334L8.599 3.75H4Zm-1.945-.695A2.75 2.75 0 0 1 4 2.25h5a.75.75 0 0 1 .624.334l1.777 2.666H20A2.75 2.75 0 0 1 22.75 8v11A2.75 2.75 0 0 1 20 21.75H4A2.75 2.75 0 0 1 1.25 19V5c0-.73.29-1.429.805-1.945ZM12 10.25a.75.75 0 0 1 .75.75v2.25H15a.75.75 0 0 1 0 1.5h-2.25V17a.75.75 0 0 1-1.5 0v-2.25H9a.75.75 0 0 1 0-1.5h2.25V11a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}))}},1774:e=>{e.exports={stageIcon:"StageIcon_stageIcon__LN8nP"}},1786:e=>{e.exports={drawerSurface:"TaskListDrawer_drawerSurface__l5YuQ",expandableTaskItem:"TaskListDrawer_expandableTaskItem__zuBXS",chevron:"TaskListDrawer_chevron__B1_My",drawerItems:"TaskListDrawer_drawerItems__c4DzY",statusIconContainer:"TaskListDrawer_statusIconContainer__eD0DQ",titleContainer:"TaskListDrawer_titleContainer__kOA_m",chevronIconContainer:"TaskListDrawer_chevronIconContainer__jxFEz",taskContent:"TaskListDrawer_taskContent__gwr8e",expandedContent:"TaskListDrawer_expandedContent__B6u6t",emptyIconContainer:"TaskListDrawer_emptyIconContainer__tEDXX",truncatedSection:"TaskListDrawer_truncatedSection__7wunx",showMoreButton:"TaskListDrawer_showMoreButton__ZDY9q"}},1923:(e,n,t)=>{"use strict";t.d(n,{A:()=>l});var r=t(40185),a=t(21462),i=t(67201),o=t(40115),s=t(79113);function l(){var e=(0,r.useRouter)(),n=(0,o.A)().container,t=(0,s.lY)(),l=(0,s.nZ)(),u=(0,s.hr)();(0,a.useEffect)(function(){e.query.debug&&"undefined"!==e.query.debug&&l(!0)},[l,e.query.debug]),(0,a.useEffect)(function(){if(t)return n.client().onDebugLog(function(e){if("log"===e.type){var t={name:e.log.channel.name,service:null};if("string"==typeof e.log.channel.service)t.service=e.log.channel.service;else if(e.log.channel.service){var r=n.getContext();r&&(t.service=e.log.channel.service(r))}u({id:(0,i.A)(),channel:t,dir:e.log.direction,cmd:e.log.cmd,stringifiedCmd:JSON.stringify(e.log.cmd),timestamp:window.performance.now()})}})},[t,n,u])}},1937:e=>{e.exports={button:"VisualSelectorButton_button__7PF5k"}},1962:(e,n,t)=>{"use strict";t.d(n,{Dy:()=>r,RB:()=>i,Wf:()=>a});var r=18,a=30,i=28},2008:(e,n,t)=>{"use strict";t.d(n,{l:()=>c});var r=t(17844),a=t(93629),i=t(21462),o=t(79203),s=t(68689),l=t(34896),u={content:!0,fontSize:!0,fontStyle:!0,alignment:!0,textColor:!0,backgroundColor:!0,margin:!0,padding:!0,imageSource:!1};function c(e){var n=(0,o.md)(s.AW);return(0,i.useMemo)(function(){var t=function(e,n){var t,i,o,s=(null!=(i=null==e||null==(t=e.textContent)?void 0:t.length)?i:0)>0,c=(null!=(o=null==e?void 0:e.siblingCount)?o:0)>1,d=n&&!n.includes("standalone")&&(0,l.C)(n,"0.2.7")>=0;switch(null==e?void 0:e.elementName.toLowerCase()){case"img":return(0,a._)((0,r._)({},u),{content:!1,fontSize:!1,fontStyle:!1,alignment:!1,textColor:!1,backgroundColor:!1,imageSource:!c&&!!d});case"input":case"textarea":case"select":return(0,a._)((0,r._)({},u),{content:!1,fontSize:!1,fontStyle:!1,alignment:!1,textColor:!1});default:return(0,a._)((0,r._)({},u),{content:s&&!c&&!(null==e?void 0:e.hasChildElements),fontSize:s,alignment:s,fontStyle:s})}}(null!=e?e:void 0,n);return(0,a._)((0,r._)({},t),{textSectionHeader:t.content||t.fontSize||t.fontStyle||t.alignment,imageSectionHeader:t.imageSource,appearanceSectionHeader:t.textColor||t.backgroundColor,layoutSectionHeader:t.margin||t.padding})},[e,n])}},2152:(e,n,t)=>{"use strict";t.d(n,{U:()=>R});var r=t(86105),a=t(34837),i=t(21462),o=t(80719),s=t(49555),l=t(26737),u=t(42683),c=t(72058),d=t(882),f=t(61125),p=t(1224),h=t(71132),m=t(44807),v=t(23788),g=t(21738),b=t(81920),y=t(88233),w=t(39534),_=t(73455),S=t(79690),A=t(74013),k=t(88976),C=t(13315),Y=t(89660),E=t(12778),x=t(71936),T=t(90173),D=t(31111),I=t(23706);function R(e){var n=e.filetree,t=e.size,R=e.closeFiletree,N=(0,f.A)(),O=(0,d.R)(N).orgId,P=(0,c.A)(O).banSourceCodeExport,F=(0,y.xu)(),U=(0,y.xi)(),L=(0,i.useRef)(null),M=(0,i.useRef)(null),J=(0,u.k)(),H=(0,o.jt)(),B=(0,l.g)("agentPosition"),V=B.preferences.agentPosition,$=B.update,G=(0,i.useCallback)(function(){var e=[];return J&&e.push({icon:(0,a.Y)(E.A,{}),label:m.SS.UploadFolder.text,run:function(){M.current&&(M.current.click(),(0,b.A)({replId:N,action:"uploaded",fileType:s.pt.Directory}))}}),P||e.push({icon:(0,a.Y)(A.A,{}),label:m.SS.DownloadZip.text,run:function(){return(0,g._)(N)}},{icon:U?(0,a.Y)(C.A,{}):(0,a.Y)(k.A,{}),label:U?m.SS.HideHiddenFiles.text:m.SS.ShowHiddenFiles.text,run:function(){F(!U)}}),n.getExpandedDirs()&&e.push({icon:(0,a.Y)(S.A,{}),label:"Collapse all",run:function(){var e=n.getExpandedDirs();e&&n.collapse((0,r._)(e))}}),R&&e.push({icon:(0,a.Y)(Y.A,{}),label:"Close files",run:R}),H&&e.push({icon:"leftSidebar"===V?(0,a.Y)(D.A,{}):(0,a.Y)(I.A,{}),label:"Move filetree to the "+("leftSidebar"===V?"left":"right"),run:function(){$({agentPosition:"leftSidebar"===V?"rightSidebar":"leftSidebar"})}}),{data:{type:"context",label:"Search actions",icon:(0,a.Y)(T.A,{})},commands:function(){return e.map(function(e){return{match:p.G2,data:{type:"action",label:e.label,run:e.run,icon:e.icon}}})}}},[U,F,N,J,n,P,R,H,V,$]),z=(0,h.EF)().openContextMenu,W=(0,i.useRef)(null);return(0,a.FD)(a.FK,{children:[(0,a.Y)(_.K0,{size:t,alt:"menu",tooltipBehavior:"hidden",ref:W,onClick:function(){return W.current&&z({target:W.current,command:G()})},children:(0,a.Y)(x.A,{color:w.LU.foregroundDimmest})}),(0,a.Y)(v.v,{fileUploadInputRef:L,dirUploadInputRef:M,uploadFiles:n.upload})]})}},2234:(e,n,t)=>{"use strict";t.d(n,{I:()=>c});var r,a=t(83846),i=t(34837),o=t(96513),s=t(30705),l=t(17683),u=t(13212),c=(r={},(0,a._)(r,o.J_c.Slack,{displayName:"Slack",entityName:"Agent",icon:(0,i.Y)(l.A,{}),description:"Your agent will be triggered by Slack messages once you deploy your app",allowWorkflowTesting:!1}),(0,a._)(r,o.J_c.Telegram,{displayName:"Telegram",entityName:"Agent",icon:(0,i.Y)(u.A,{}),description:"Your agent will be triggered by Telegram messages once you deploy your app",allowWorkflowTesting:!1}),(0,a._)(r,o.J_c.TimeBased,{displayName:"Time-based",entityName:"Automation",icon:(0,i.Y)(s.A,{}),description:"Your automation will run automatically based on scheduled time intervals once you deploy your app",allowWorkflowTesting:!0}),r)},2321:(e,n,t)=>{"use strict";t.d(n,{$:()=>l});var r=t(53847),a=t(34837),i=t(91953),o=t(2714),s=t.n(o);function l(e){var n=e.data;if(null==n)return(0,a.Y)(i.EY,{color:"dimmer",children:"No data"});try{var t=JSON.stringify(n,null,2);return(0,a.Y)("pre",{className:s().jsonDisplay,children:(0,a.Y)(i.EY,{children:t})})}catch(e){return(0,a.FD)(i.EY,{color:"dimmer",children:["Failed to format JSON:"," ",(0,r._)(e,Error)?e.message:"Unknown error"]})}}},2400:(e,n,t)=>{"use strict";t.d(n,{L:()=>A});var r=t(17844),a=t(93629),i=t(17459),o=t(12694),s=t(34837),l=t(21462),u=t(90603),c=t(88269),d=t(70764),f=t(18712),p=t(39042),h=t(73455),m=t(83096),v=t(3937),g=t(16491),b=t(70399),y=t(33683),w=t(90173),_=(0,d.x)({field:[f.wp.display.grid,{gridTemplateAreas:'\n      "label label"\n      "input icon-right"\n      "description description"\n      ',gridTemplateColumns:"1fr 32px"}]}),S=(0,l.forwardRef)(function(e,n){var t=e.dataCy,o=e.children,l=(0,i._)(e,["dataCy","children"]),c=(0,r._)({"data-cy":t,ref:n},l);return(0,s.Y)(u.L,(0,a._)((0,r._)({},c),{children:o}))});function A(e){var n=e.label,t=e.description,u=e.errorMessage,d=e.isLoading,f=(0,i._)(e,["label","description","errorMessage","isLoading"]),A=(0,o._)((0,l.useState)(!1),2),k=A[0],C=A[1],Y=(0,l.useRef)(null);return(0,l.useEffect)(function(){var e=Y.current;if(e){var n=function(){C(!0)};e.addEventListener("mouseenter",n);var t=function(){C(!1)};return e.addEventListener("mouseleave",t),function(){e.removeEventListener("mouseenter",n),e.removeEventListener("mouseleave",t)}}},[Y]),(0,s.Y)(S,(0,a._)((0,r._)({},f),{css:_.field,children:function(e){var r=e.isEmpty;return(0,s.FD)(s.FK,{children:[(0,s.Y)(c.J,{style:{gridArea:"label"},children:n}),(0,s.Y)(m.pd,{"aria-busy":d,style:{gridArea:"input /input / icon-right / icon-right",paddingRight:32}}),(0,s.Y)(v.ui,{elevated:!0,style:{gridArea:"icon-right",alignSelf:"center",justifySelf:"center"},innerRef:Y,children:r?(0,s.Y)(s.FK,{children:d?(0,s.Y)(y.A,{}):(0,s.Y)(w.A,{})}):(0,s.Y)(h.K0,{alt:"Clear field",children:k?(0,s.Y)(b.A,{}):d?(0,s.Y)(y.A,{}):(0,s.Y)(b.A,{})})}),t?(0,s.Y)(g.A3,{style:{gridArea:"description"},children:t}):null,(0,s.Y)(p.bg,{children:u})]})}}))}},2407:(e,n,t)=>{"use strict";t.d(n,{P:()=>S});var r=t(29935),a=t(82643),i=t(34837),o=t(21462),s=t(80478),l=t(86103),u=t(19786),c=t(1224),d=t(75640),f=t(99365),p=t(9092),h=t(39534),m=t(64053),v=t(29274),g=t(63427),b=t(68534),y=t(90173),w=t(52389),_=t(49941);function S(e){var n,t,S,A,k,C,Y,E,x=e.xterm,T=e.openShellSearch,D=e.openSearchAndReplace,I=e.openGeneratePrompt,R=e.isWorkflowsTerminal,N=(n=(0,l._P)({controlName:"flag-killswitch-ghostwriter-chat",logFlagToAnalytics:!1}),t=(0,f.Jn)(d.Ws.id),(0,o.useMemo)(function(){if(!n){var e=[];if(I&&e.push({match:c.G2,data:{type:"action",label:"Generate command",icon:(0,i.Y)(b.A,{color:h.LU.tealStronger}),keyboardShortcut:t,run:function(){I()}}}),0!==e.length)return{data:{type:"context",label:"AI",icon:(0,i.Y)(g.A,{})},commands:function(){return e}}}},[n,t,I])),O=(A=(S={xterm:x,openShellSearch:T,openSearchAndReplace:D,isWorkflowsTerminal:void 0!==R&&R}).xterm,k=S.openShellSearch,C=S.openSearchAndReplace,Y=S.isWorkflowsTerminal,(0,o.useMemo)(function(){var e=[];if(k){var n=Y?(0,i.Y)(_.A,{}):(0,i.Y)(w.A,{});e.push({match:c.G2,data:{type:"action",label:Y?"Find in Console":"Find in Shell",icon:n,run:function(){var e;k(null!=(e=null==A?void 0:A._term.getSelection())?e:"")}}})}if(C&&e.push({match:c.G2,data:{type:"action",label:"Find in Repl",icon:(0,i.Y)(y.A,{}),run:function(){var e;C(null!=(e=null==A?void 0:A._term.getSelection())?e:"")}}}),0!==e.length)return{data:{type:"context",label:"Search",icon:(0,i.Y)(y.A,{})},commands:function(){return e}}},[A,k,C,Y])),P=(E=function(){return window.navigator.userAgent.includes("Linux")},(0,o.useMemo)(function(){return{data:{type:"context",label:"Clipboard",icon:(0,i.Y)(m.A,{})},commands:function(){return[{match:c.G2,data:{type:"action",label:"Copy",icon:(0,i.Y)(v.A,{}),keyboardShortcut:(0,p.FM)({cmdOrCtrl:!0,shift:E(),key:"c"}),run:function(){var e,n=null!=(e=null==x?void 0:x._term.getSelection())?e:"";(0,u.default)(n)}}},{match:c.G2,data:{type:"action",label:"Paste",icon:(0,i.Y)(m.A,{}),keyboardShortcut:(0,p.FM)({cmdOrCtrl:!0,shift:E(),key:"v"}),run:function(){return(0,r._)(function(){var e,n;return(0,a.YH)(this,function(t){switch(t.label){case 0:e="",t.label=1;case 1:return t.trys.push([1,3,,4]),[4,window.navigator.clipboard.readText()];case 2:return e=t.sent(),[3,4];case 3:return n=t.sent(),s.vF.error("Shell context menu paste failed",{message:n.message}),[2];case 4:return null==x||x._term.paste(e),[2]}})})()}}}]}}},[x]));return(0,o.useMemo)(function(){var e=[];return N&&e.push(N),O&&e.push(O),P&&e.push(P),{data:{type:"context",label:"Search actions",icon:(0,i.Y)(y.A,{})},commands:function(){return e}}},[N,O,P])}},2418:(e,n,t)=>{"use strict";t.d(n,{A:()=>u});var r=t(17844),a=t(93629),i=t(40185),o=t.n(i),s=t(47676),l=t(95570);function u(e){var n=e.throwBsod,t=e.tags,i=e.extras,u=e.origin,c=e.onNonBsodUnrecoverableError;return function(e){var d=(0,s.Ay)(e);if(d===s.ub.NotFound)return void o().push("/home","~/");if(d===s.ub.LanguageTokenDenied)return void window.location.reload();if(d===s.ub.CrosisChannel)t=(0,a._)((0,r._)({},t),{crosis:!0});else if(d){null==c||c(d);return}l.error(e),n({error:e,tags:t,extras:i,origin:u})}}},2649:(e,n,t)=>{"use strict";t.d(n,{p:()=>o});var r=t(73920),a=t(64946),i=t(60594).Buffer;function o(e){var n=e.split(".");if(4!==n.length)throw Error("Invalid token: should have exactly 4 parts: "+e);for(var t=n[2].replace(/-/g,"+").replace(/_/g,"/");t.length%4;)t+="=";var a=window.atob(t);if(a.length<64)throw Error("Invalid token: signed part is too short: "+a.length);var o=a.substring(0,a.length-64);return r.api.token.ReplToken.decode(new i(o,"base64"))}a.env.PROXY_SUFFIX},2714:e=>{e.exports={jsonDisplay:"PrettyJSONDisplay_jsonDisplay__4KFmi"}},2976:(e,n,t)=>{"use strict";t.d(n,{NE:()=>A,O5:()=>x,WB:()=>T,ww:()=>S});var r,a,i,o,s,l,u,c,d=t(83846),f=t(17844),p=t(93629),h=t(12694),m=t(96513),v=t(86035),g=t(97678),b={maxSteps:0,initialBuildMode:v.jV8.AGENT_INITIAL_BUILD_MODE_UNSPECIFIED,samplingRate:0},y=(r={},(0,d._)(r,m.Fje.ModelProfileUnspecified,v.Fje.MODEL_PROFILE_UNSPECIFIED),(0,d._)(r,m.Fje.ModelProfileStandard,v.Fje.MODEL_PROFILE_STANDARD),(0,d._)(r,m.Fje.ModelProfileAdvanced,v.Fje.MODEL_PROFILE_ADVANCED),r),w=(a={},(0,d._)(a,m.HWZ.Unspecified,v.xyI.AGENT_MODE_UNSPECIFIED),(0,d._)(a,m.HWZ.General,v.xyI.AGENT_MODE_GENERAL),(0,d._)(a,m.HWZ.Discussion,v.xyI.AGENT_MODE_DISCUSSION),(0,d._)(a,m.HWZ.InitialPlanning,v.xyI.AGENT_MODE_INITIAL_PLANNING),a),_=(i={},(0,d._)(i,m.TAx.Unspecified,v.TAx.AUTONOMY_LEVEL_UNSPECIFIED),(0,d._)(i,m.TAx.Low,v.TAx.AUTONOMY_LEVEL_LOW),(0,d._)(i,m.TAx.Medium,v.TAx.AUTONOMY_LEVEL_MEDIUM),(0,d._)(i,m.TAx.High,v.TAx.AUTONOMY_LEVEL_HIGH),(0,d._)(i,m.TAx.Max,v.TAx.AUTONOMY_LEVEL_MAX),i),S=(o={},(0,d._)(o,v.TAx.AUTONOMY_LEVEL_UNSPECIFIED,m.TAx.Unspecified),(0,d._)(o,v.TAx.AUTONOMY_LEVEL_LOW,m.TAx.Low),(0,d._)(o,v.TAx.AUTONOMY_LEVEL_MEDIUM,m.TAx.Medium),(0,d._)(o,v.TAx.AUTONOMY_LEVEL_HIGH,m.TAx.High),(0,d._)(o,v.TAx.AUTONOMY_LEVEL_MAX,m.TAx.Max),o);function A(e){var n=e.modelProfile,t=e.chatMode,r=e.autonomyLevel,a=e.enableAutomatedTesting,i=e.imageGenerationEnabled,o=e.webSearchEnabled,s=e.thinkingEnabled,l=e.maxAutonomyEnabled,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Object.fromEntries(Object.entries(u).filter(function(e){var n=(0,h._)(e,2);return void 0!==(n[0],n[1])}));return(0,f._)((0,p._)((0,f._)({},b),{enableAutomatedTesting:a,imageGenerationEnabled:i,webSearchEnabled:o,thinkingEnabled:s,maxAutonomyEnabled:l,modelProfile:y[n],agentMode:w[t],autonomyLevel:_[r]}),c)}var k=(s={},(0,d._)(s,g.Fje.UNSPECIFIED,m.Fje.ModelProfileUnspecified),(0,d._)(s,g.Fje.STANDARD,m.Fje.ModelProfileStandard),(0,d._)(s,g.Fje.ADVANCED,m.Fje.ModelProfileAdvanced),s),C=(l={},(0,d._)(l,g.TAx.UNSPECIFIED,m.TAx.Unspecified),(0,d._)(l,g.TAx.LOW,m.TAx.Low),(0,d._)(l,g.TAx.MEDIUM,m.TAx.Medium),(0,d._)(l,g.TAx.HIGH,m.TAx.High),(0,d._)(l,g.TAx.MAX,m.TAx.Max),l),Y=(u={},(0,d._)(u,m.Fje.ModelProfileUnspecified,g.Fje.UNSPECIFIED),(0,d._)(u,m.Fje.ModelProfileStandard,g.Fje.STANDARD),(0,d._)(u,m.Fje.ModelProfileAdvanced,g.Fje.ADVANCED),u),E=(c={},(0,d._)(c,m.TAx.Unspecified,g.TAx.UNSPECIFIED),(0,d._)(c,m.TAx.Low,g.TAx.LOW),(0,d._)(c,m.TAx.Medium,g.TAx.MEDIUM),(0,d._)(c,m.TAx.High,g.TAx.HIGH),(0,d._)(c,m.TAx.Max,g.TAx.MAX),c);function x(e){var n=e.modelProfile,t=e.autonomyLevel,r=e.enableAutomatedTesting,a=e.imageGenerationEnabled,i=e.webSearchEnabled,o=e.thinkingEnabled;return{modelProfile:k[n],autonomyLevel:C[t],enableAutomatedTesting:r,imageGenerationEnabled:a,webSearchEnabled:i,thinkingEnabled:o}}function T(e){var n=e.modelProfile,t=e.autonomyLevel,r=e.enableAutomatedTesting,a=e.imageGenerationEnabled,i=e.webSearchEnabled,o=e.thinkingEnabled;return{modelProfile:Y[n],autonomyLevel:E[t],enableAutomatedTesting:r,imageGenerationEnabled:a,webSearchEnabled:i,thinkingEnabled:o}}},3452:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(7017),a=t(86103),i=t(18304);function o(){var e=(0,r.ET)().orgId,n=(0,a._P)({controlName:"flag-exponential-mobility"}),t=(0,i.o)({controlName:"flag-exponential-mobility"});return e?null!=t&&t:n}},3971:e=>{e.exports={vulnerability:"DependencyVulnerability_vulnerability__etruT",vulnerabilityHeader:"DependencyVulnerability_vulnerabilityHeader__QAGOh",isExpanded:"DependencyVulnerability_isExpanded__mCj_2",dependencyVulnerabilityGroup:"DependencyVulnerability_dependencyVulnerabilityGroup__y7l3_",dependencyVulnerabilityName:"DependencyVulnerability_dependencyVulnerabilityName__JdCz_"}},5453:e=>{e.exports={sectionRow:"DomainManagement_sectionRow__QQT7m",key:"DomainManagement_key__o6_pZ",accordionCard:"DomainManagement_accordionCard__lHOM0",accordionHeader:"DomainManagement_accordionHeader__c1yGS",accordionFooter:"DomainManagement_accordionFooter__9vWje",addRow:"DomainManagement_addRow__zbuCQ",addRowHasMx:"DomainManagement_addRowHasMx__l2JIU"}},5568:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(21462),a=t(71696),i=t(40115);function o(){var e=(0,i.A)().container;(0,r.useEffect)(function(){var n=function(){e.getConnectionState()===a.KN.CONNECTED&&e.focus()};return window.addEventListener("focus",n),function(){window.removeEventListener("focus",n)}},[e])}},5586:(e,n,t)=>{"use strict";t.d(n,{g9:()=>r.g,iv:()=>a.iv}),t(97040);var r=t(56783),a=t(97317)},5590:(e,n,t)=>{"use strict";t.d(n,{S:()=>s,s:()=>l});var r=t(34837),a=t(21462),i=t(41426),o=(0,a.createContext)(null);function s(e){var n=e.children,t=e.sessionId,a=e.uploadFiles,s=e.onError,l=(0,i._u)({sessionId:t,uploadFiles:a,onError:s});return(0,r.Y)(o.Provider,{value:l,children:n})}function l(){var e=(0,a.useContext)(o);if(!e)throw Error("useAiChatAttachments(must be used within an AiChatAttachmentsProvider");return e}},5857:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M.47.47a.75.75 0 0 1 1.06 0L6.64 5.578a.742.742 0 0 1 .023.024l3.96 3.96c.056.042.105.09.147.146L23.53 22.47a.75.75 0 1 1-1.06 1.06l-6.72-6.72a.75.75 0 0 1-.704-.089 5.25 5.25 0 0 0-6.082 0 .75.75 0 0 1-.868-1.222 6.75 6.75 0 0 1 5.224-1.118l-3.408-3.408a10.19 10.19 0 0 0-4.43 2.152.75.75 0 1 1-.963-1.15 11.69 11.69 0 0 1 4.16-2.235L5.944 7.004a15.16 15.16 0 0 0-4.027 2.558.75.75 0 1 1-.994-1.124 16.66 16.66 0 0 1 3.888-2.567L.47 1.531A.75.75 0 0 1 .47.47Zm16.34 6.058a15.25 15.25 0 0 0-6.04-.73.75.75 0 0 1-.12-1.496 16.75 16.75 0 0 1 12.426 4.136.75.75 0 0 1-.992 1.124 15.25 15.25 0 0 0-5.274-3.034Zm-.764 4.203a.75.75 0 0 1 1.003-.345 11.69 11.69 0 0 1 2.436 1.592.75.75 0 0 1-.97 1.144 10.191 10.191 0 0 0-2.124-1.388.75.75 0 0 1-.345-1.003ZM11.25 20a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 0 1.5H12a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}))}},5862:e=>{e.exports={cta:"CreateDatabase_cta__kEB8r",ctaStatusBanner:"CreateDatabase_ctaStatusBanner__IY2_B",payment:"CreateDatabase_payment__A5WHr"}},6056:(e,n,t)=>{"use strict";t.d(n,{Bm:()=>v,Y9:()=>h,Yw:()=>y,ou:()=>w});var r=t(34837),a=t(40185),i=t.n(a),o=t(21462),s=t(56141),l=t(41382),u=t(42793),c=t(39534),d=t(18712),f=t(25227),p=(0,u.AH)([d.wp.height(28),d.wp.flex.row,d.wp.align.center,{borderBottom:"1px solid ".concat(c.LU.backgroundHigher),opacity:.8,":hover":{opacity:1}}]);function h(e){return"/replEnvironmentDesktop"!==i().pathname?null:(0,r.Y)(f.S,{css:p,children:e.children})}var m=(0,u.AH)([d.wp.flex.row,d.wp.align.center,d.wp.flex.growAndShrink(1),d.wp.overflowX("auto"),d.wp.height("100%"),{"&::-webkit-scrollbar":{height:0},scrollbarWidth:"none"}]);function v(e){return(0,r.Y)(f.S,{pl:e.noPadding?void 0:4,css:m,children:e.children})}var g=(0,u.AH)([d.wp.flex.row,d.wp.align.center,d.wp.height("100%")]),b=(0,u.AH)([d.wp.flex.row,d.wp.align.center,d.wp.height("100%"),d.wp.px(2)]);function y(e){return(0,r.Y)(f.S,{css:g,children:(0,r.Y)(f.S,{css:b,children:e.children})})}function w(e){var n=e.path,t=e.performPaneOperation,a=e.children,i=(0,o.useCallback)(function(e){t({operation:"replace",pane:(0,l.a)(e)})},[t]);return(0,r.FD)(h,{children:[(0,r.Y)(v,{children:(0,r.Y)(s.D,{path:n,onFileClick:i})}),a?(0,r.Y)(y,{children:a}):null]})}},6441:(e,n,t)=>{"use strict";t.d(n,{q:()=>y});var r=t(29935),a=t(53847),i=t(12694),o=t(82643),s=t(34837),l=t(21462),u=t(14683),c=t(40756),d=t(83096),f=t(47306),p=t(70251),h=t(9844),m=t(91953),v=t(25227),g=t(73635),b=t(90843);function y(e){var n=e.isOpen,t=e.onRequestClose,y=(0,i._)((0,l.useState)(""),2),w=y[0],_=y[1],S=(0,i._)((0,l.useState)(""),2),A=S[0],k=S[1],C=(0,i._)((0,l.useState)(!1),2),Y=C[0],E=C[1],x=(0,i._)((0,l.useState)(null),2),T=x[0],D=x[1],I=(0,i._)((0,u.TY)(),1)[0],R=(0,l.useRef)(null),N=function(){_(""),k(""),D(null)};(0,l.useEffect)(function(){return function(){R.current&&(clearTimeout(R.current),R.current=null)}},[]);var O=function(){Y||(N(),t())},P=!w.trim()||!A.trim()||Y;return(0,s.Y)(p.a,{isOpen:n,onRequestClose:O,centered:!0,maxWidth:500,preventClose:Y,children:(0,s.FD)(v.S,{gap:24,p:16,children:[(0,s.FD)(v.S,{gap:8,children:[(0,s.Y)(m.Y9,{level:2,variant:"headerDefault",children:"Request a new integration"}),(0,s.Y)(m.EY,{color:"dimmer",children:"Tell us about an integration you'd like to see added to Replit. We'll review your request and consider it for future development."})]}),(0,s.FD)(v.S,{gap:16,children:[(0,s.FD)(v.S,{gap:4,children:[(0,s.Y)(f.J,{variant:"text",htmlFor:"integration-name",children:"Integration Name"}),(0,s.Y)(d.pd,{placeholder:"e.g., Notion, Google Docs, Slack, etc.",id:"integration-name",value:w,onChange:function(e){return _(e.target.value)},disabled:Y,maxLength:100})]}),(0,s.FD)(v.S,{gap:4,children:[(0,s.Y)(f.J,{variant:"text",htmlFor:"use-case-description",children:"Use Case Description"}),(0,s.Y)(d.ov,{placeholder:"Describe how you would use this integration and what specific functionality you need...",id:"use-case-description",value:A,onChange:function(e){return k(e.target.value)},disabled:Y,rows:4,maxLength:1e3}),(0,s.FD)(m.EY,{color:"dimmer",variant:"small",children:[A.length,"/1000 characters"]})]})]}),(0,s.FD)(v.S,{gap:12,children:[T?(0,s.Y)(h.N,{text:T.text,colorway:"success"===T.type?"positive":"negative",icon:"success"===T.type?(0,s.Y)(g.A,{}):(0,s.Y)(b.A,{})}):null,(0,s.FD)(v.S,{row:!0,gap:12,justify:"end",children:[(0,s.Y)(c.$n,{variant:"outlined",text:"Cancel",onClick:O,disabled:Y}),(0,s.Y)(c.$n,{text:"Submit request",colorway:"primary",onClick:function(){return(0,r._)(function(){var e;return(0,o.YH)(this,function(n){switch(n.label){case 0:if(!w.trim()||!A.trim())return[2];E(!0),D(null),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,I({variables:{input:{connectorName:w.trim(),description:A.trim()}}})];case 2:return n.sent(),D({type:"success",text:"Your integration request has been submitted successfully! We'll review it and consider it for future development."}),[3,5];case 3:return e=n.sent(),D({type:"error",text:(0,a._)(e,Error)?e.message:"Failed to submit your integration request. Please try again."}),[3,5];case 4:return R.current=setTimeout(function(){E(!1),t(),N()},3e3),[7];case 5:return[2]}})})()},disabled:P,loading:Y})]})]})]})})}},6520:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(12694),a=t(86105),i=t(21462),o=t(40115);function s(){var e=(0,o.A)().secrets,n=(0,r._)((0,i.useState)(null),2),t=n[0],s=n[1],l=(0,i.useMemo)(function(){return!!t&&(0,a._)(t.values()).some(function(e){return!e})},[t]);return(0,i.useEffect)(function(){return e.watch(s)},[t,e]),l}},6530:(e,n,t)=>{"use strict";t.d(n,{nL:()=>_});var r=t(29935),a=t(12694),i=t(82643),o=t(21462),s=t(76957),l=t(79203),u=t(17844),c=t(12584),d=t(41114),f=t(39590);function p(){var e=(0,c._)(["\n  mutation MintReplShieldToken($input: MintReplShieldTokenInput!) {\n    mintReplShieldToken(input: $input) {\n      ... on ReplShieldToken {\n        token\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return p=function(){return e},e}var h={},m=(0,d.J1)(p()),v=t(39938),g=t(61125),b=function(e){try{var n=e.split(".")[1],t=JSON.parse(atob(n));return t.exp?1e3*t.exp:null}catch(e){return null}},y=(0,s.eU)(null),w=(0,s.eU)(!1);function _(){var e,n=(0,g.A)(),t=(0,a._)((e=(0,u._)({},h,void 0),f.n(m,e)),2),s=t[0],c=t[1].loading,d=(0,a._)((0,l.fp)(y),2),p=d[0],_=d[1],S=(0,a._)((0,l.fp)(w),2),A=S[0],k=S[1],C=(0,o.useRef)(null),Y=(0,v.A)(c),E=(0,o.useCallback)(function(){return(0,r._)(function(){var e,t,r;return(0,i.YH)(this,function(a){switch(a.label){case 0:if(!n||Y.current)return[2];k(!1),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,s({variables:{input:{replId:n}}})];case 2:if((t=null==(e=a.sent().data)?void 0:e.mintReplShieldToken)&&"ReplShieldToken"===t.__typename){if(!(r=t.token))return[2,null];return _(r),[2,r]}return k(!0),[2,null];case 3:return a.sent(),k(!0),[2,null];case 4:return[2]}})})()},[n,s,_,k,Y]),x=(0,o.useCallback)(function(){return(0,r._)(function(){return(0,i.YH)(this,function(e){return _(null),k(!1),[2,E()]})})()},[E,_,k]),T=(0,o.useCallback)(function(){if(!p)return!1;var e=b(p);if(!e)return!1;var n=e-Date.now();return!(n<=0)&&!(n<=3e5)},[p]),D=(0,o.useCallback)(function(){if(C.current&&(clearTimeout(C.current),C.current=null),p){var e=b(p);if(e){var n=e-Date.now();if(n<=3e5)return void E();C.current=setTimeout(function(){E()},n-3e5)}}},[p,E]);return(0,o.useEffect)(function(){return!n||p||Y.current||A||E(),n&&p&&!Y.current&&!A&&(T()?D():E()),function(){C.current&&(clearTimeout(C.current),C.current=null)}},[n,p,E,A,T,D,Y]),{token:p,error:A,retry:E,loading:c,forceRemint:x}}},6705:(e,n,t)=>{"use strict";t.d(n,{A:()=>e0});var r=t(29935),a=t(12694),i=t(86105),o=t(82643),s=t(96907),l=t.n(s);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.session,t=e.askpass,r=e.author,a=e.committer,i={GIT_AUTHOR_NAME:"",GIT_AUTHOR_EMAIL:"",GIT_COMMITTER_NAME:"",GIT_COMMITTER_EMAIL:"",GIT_ASKPASS:"replit-git-askpass",GIT_PAGER:"",GIT_EDITOR:"",PAGER:"",EDITOR:""};if(void 0!==n&&(i.REPLIT_SESSION=n),void 0!==t&&(i.GIT_ASKPASS=t),r){i.GIT_AUTHOR_NAME=r.username,i.GIT_COMMITTER_NAME=r.username;var o=c(r);i.GIT_AUTHOR_EMAIL=o,i.GIT_COMMITTER_EMAIL=o,a&&(i.GIT_COMMITTER_NAME=a.username,i.GIT_COMMITTER_EMAIL=c(a))}return i}function c(e){if("id"in e)return"".concat(e.id,"-").concat(e.username,"@users.noreply.replit.com");if("email"in e)return e.email;throw Error("Invalid user")}var d=t(83807),f=t(17844),p=t(93629),h=t(74651),m=t(63841),v=t(31472);function g(e,n){return"{ ".concat(e,"; } > /dev/null 2>&1 && echo -n '").concat(n,"' && exit 0")}var b=[g("! git rev-parse --is-inside-work-tree",v.Gi.NOT_INITIALIZED),g('[ "$(! git rev-parse HEAD -- 2>&1)" = "fatal: bad revision \'HEAD\'" ]',v.Gi.ON_UNBORN_BRANCH),g("! git cat-file -e HEAD",v.Gi.HEAD_MISSING),g("! git ls-tree HEAD > /dev/null 2>&1",v.Gi.TREE_CORRUPTED),g("git rev-parse -q --verify MERGE_HEAD",v.Gi.MERGING),g("[ -d '.git/rebase-apply' ] && [ -f '.git/rebase-apply/applying' ]",v.Gi.APPLYING_MAILBOX),g("[ -d '.git/rebase-apply' ] || [ -d '.git/rebase-merge' ]",v.Gi.REBASING),g("git rev-parse -q --verify REVERT_HEAD",v.Gi.REVERTING),g("git rev-parse -q --verify CHERRY_PICK_HEAD",v.Gi.CHERRY_PICKING),g("[ -f '.git/BISECT_LOG' ]",v.Gi.BISECTING),g("! git symbolic-ref -q HEAD",v.Gi.DETACHED_HEAD),g("[ -f '.git/index.lock' ]",v.Gi.INDEX_LOCKED),g("[ -f '.git/config.lock' ]",v.Gi.CONFIG_LOCKED),"git update-index -q --refresh > /dev/null || exit $?",g('{ ! git diff-files --quiet; } || [ -n "$(git ls-files --others --exclude-standard)" ]',v.Gi.DIRTY_WORKTREE),g("! git diff-index --cached --quiet HEAD --",v.Gi.DIRTY_INDEX),'echo -n "CLEAN"'].join(";");function y(e){return(0,r._)(function(){var n,t,r;return(0,o.YH)(this,function(a){switch(a.label){case 0:return[4,e(b,{serviceMethod:"git-get-repository-state"})];case 1:if((n=a.sent()).error)return[2,n];if(!(n.output in v.Gi))return[2,{error:m.uA.UNKNOWN,extras:{output:n.output}}];return r=function(e){switch(e){case v.Gi.NOT_INITIALIZED:case v.Gi.ON_UNBORN_BRANCH:return v.UN.INITIALIZING;case v.Gi.MERGING:case v.Gi.REBASING:case v.Gi.REVERTING:case v.Gi.CHERRY_PICKING:case v.Gi.APPLYING_MAILBOX:case v.Gi.BISECTING:case v.Gi.INDEX_LOCKED:case v.Gi.CONFIG_LOCKED:return v.UN.INTERMEDIATE;case v.Gi.DIRTY_WORKTREE:case v.Gi.DIRTY_INDEX:case v.Gi.CLEAN:return v.UN.NORMAL;case v.Gi.DETACHED_HEAD:return v.UN.DETACHED_HEAD;case v.Gi.HEAD_MISSING:case v.Gi.TREE_CORRUPTED:return v.UN.HEAD_MISSING}}(t=n.output),[2,{state:t,type:r,error:null}]}})})()}h.ZU.Object({enableGitsafeForExistingRepls:h.ZU.Optional(h.ZU.Boolean()),gitsafeBackupUrl:h.ZU.Optional(h.ZU.String())});var w='git commit --allow-empty --no-edit --quiet -m "Initial commit"',_='git add -A && git commit --allow-empty --no-edit --quiet -m "Initial commit"';function S(e,n){return(0,r._)(function(e){var n,t,a,i,s,l,u,c,d,h,g,b,S,A,k,C,Y,E=arguments;return(0,o.YH)(this,function(x){switch(x.label){case 0:return a=void 0===(t=(n=E.length>1&&void 0!==E[1]?E[1]:{}).initialCommit)||t,s=void 0===(i=n.includeAllInitialFiles)||i,u=void 0!==(l=n.enableGitsafeForNewRepls)&&l,d=void 0===(c=n.gitsafeBackupUrl)?"git://gitsafe:5418/backup.git":c,h=E.length>2?E[2]:void 0,g=(0,p._)((0,f._)({},h),{serviceMethod:"git-init"}),[4,y(e)];case 1:if((b=x.sent()).error)return[2,b];if(b.type!==v.UN.INITIALIZING)return[2,{error:m.uA.ALREADY_INITIALIZED}];if(b.state!==v.Gi.ON_UNBORN_BRANCH)return[3,4];if(!a)return[3,3];return[4,e(s?_:w,g)];case 2:if((S=x.sent()).error)return[2,S];x.label=3;case 3:return[2,{error:null}];case 4:return[4,e(["git init --quiet","git checkout --quiet --no-progress -b main"],g)];case 5:if((A=x.sent()).error)return[2,A];if(!u)return[3,7];return[4,e("git remote add gitsafe-backup ".concat(d),g)];case 6:if((k=x.sent()).error)return[2,k];x.label=7;case 7:if(!a)return[3,10];return[4,e(s?_:w,g)];case 8:if((C=x.sent()).error)return[2,C];return[4,function(e,n){return(0,r._)(function(e){var n,t,r,a,i,s,l,u,c=arguments;return(0,o.YH)(this,function(o){switch(o.label){case 0:return r=void 0!==(t=(n=c.length>1&&void 0!==c[1]?c[1]:{}).enableGitsafeForExistingRepls)&&t,i=void 0===(a=n.gitsafeBackupUrl)?"git://gitsafe:5418/backup.git":a,[4,e("git remote get-url gitsafe-backup",s=c.length>2?c[2]:void 0)];case 1:if(!o.sent().error)return[3,4];if(!r)return[3,3];return[4,e("git remote add gitsafe-backup ".concat(i),s)];case 2:if((l=o.sent()).error)return[2,l];return[3,4];case 3:return[2,{error:null}];case 4:return[4,e("git push --quiet gitsafe-backup HEAD:main",s)];case 5:if((u=o.sent()).error)return[2,u];return[2,{error:null}]}})}).apply(this,arguments)}(e,{},g)];case 9:if((Y=x.sent()).error)return[2,Y];x.label=10;case 10:return[2,{error:null}]}})}).apply(this,arguments)}function A(e){return(0,r._)(function(){var n;return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,e("git rev-parse --is-inside-work-tree",{serviceMethod:"git-is-initialized"})];case 1:if((n=t.sent()).error){if(n.error===m.uA.NOT_INITIALIZED)return[2,{initialized:!1,error:null}];return[2,n]}return[2,{initialized:"true"===n.output,error:null}]}})})()}function k(e){return(0,r._)(function(e){var n,t=arguments;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[];return e.cached&&n.push("--cached"),e.deleted&&n.push("--deleted"),e.modified&&n.push("--modified"),e.others&&n.push("--others"),e.ignored&&n.push("--ignored"),e.directory&&n.push("--directory"),e.noEmptyDirectory&&n.push("--no-empty-directory"),"git ls-files ".concat(n.join(" "))}(t.length>1&&void 0!==t[1]?t[1]:{}),{serviceMethod:"git-ls-files"})];case 1:if((n=r.sent()).error)return[2,n];return[2,{files:n.output.split("\n").filter(function(e){return e.length>0}),error:null}]}})}).apply(this,arguments)}h.ZU.Object({initialCommit:h.ZU.Optional(h.ZU.Boolean()),includeAllInitialFiles:h.ZU.Optional(h.ZU.Boolean()),enableGitsafeForNewRepls:h.ZU.Optional(h.ZU.Boolean()),gitsafeBackupUrl:h.ZU.Optional(h.ZU.String())});var C=t(16057),Y=t(58226),E="# branch.oid ",x="# branch.head ",T="# branch.upstream ",D="# branch.ab ",I="# stash ",R=/^(\S)(\S) (\S{4}) (\S+) (\S+) (\S+) (\S+) (\S+) (.*)$/,N=/^([RC])([0-9]+) (.+?)\t(.+)$/,O=/^(\S)(\S) (\S{4}) (\S+) (\S+) (\S+) (\S+) (\S+) (\S+) (\S+) (.*)$/,P=/([RC][0-9]+ .+?)\0(.+?(?:\0|$))/g,F=function(e){return e.ORDINARY="1",e.RENAMED_OR_COPIED="2",e.UNMERGED="u",e.UNTRACKED="?",e.IGNORED="!",e}(F||{});function U(e){return(0,r._)(function(){var n,t,r,i,s,l,u,c,d,f,p,h,m,v,g,b,y,w,_,S,A,k;return(0,o.YH)(this,function(o){switch(o.label){case 0:return n=null,t=null,r=null,i=0,s=[],l=["-z","--porcelain=v2","--branch","--show-stash","--untracked-files=all"],[4,e("git status ".concat(l.join(" ")),{serviceMethod:"git-status"})];case 1:if((u=o.sent()).error)return[2,u];c=u.output.replaceAll(P,"$1	$2"),d=(0,C.jr)(c,"\0"),f=!0,p=!1,h=void 0;try{for(m=d[Symbol.iterator]();!(f=(v=m.next()).done);f=!0)(g=v.value).startsWith("#")?g.startsWith(E)?(b=g.substring(E.length),"(initial)"!==b&&(n=b)):g.startsWith(x)?(y=g.substring(x.length),"(detached)"!==y&&(t=y)):g.startsWith(T)?(w=g.substring(T.length),"(not queried)"!==w&&(r={branch:w,ahead:0,behind:0})):g.startsWith(D)?r&&(S=(_=(0,a._)(g.substring(D.length).split(" ").map(function(e){return Math.abs(parseInt(e,10))}),2))[0],A=_[1],r.ahead=S,r.behind=A):g.startsWith(I)&&(i=parseInt(g.substring(I.length),10)):(k=function(e){var n=e[0];switch(e=e.substring(2),n){case"!":default:return null;case"?":return{type:{index:Y.PX.UNTRACKED,worktree:Y.PX.UNTRACKED},path:e,staged:!1,unmerged:!1};case"u":var t=e.match(O);if(!t)return null;var r=(0,a._)(t,12),i=r[1],o=r[2],s=r[11],l=L(i),u=L(o),c=l!==Y.PX.UNMODIFIED;return{type:{index:l,worktree:u},path:s,staged:c,unmerged:!0};case"1":case"2":var d=e.match(R);if(!d)return null;var f=(0,a._)(d,10),p=f[1],h=f[2],m=f[9],v=L(p),g=L(h),b=v!==Y.PX.UNMODIFIED;if("1"===n)return{type:{index:v,worktree:g},path:m,staged:b,unmerged:!1};if("2"===n){var y=m.match(N);if(!y)return null;var w=(0,a._)(y,5),_=w[1],S=w[2],A=w[3],k=w[4];return{type:{index:v,worktree:g},path:A,staged:b,unmerged:!1,source:{type:function(e){switch(e){case"R":default:return Y.PX.RENAMED;case"C":return Y.PX.COPIED}}(_),score:parseInt(S,10),path:k}}}return null}}(g),null!==k&&s.push(k))}catch(e){p=!0,h=e}finally{try{f||null==m.return||m.return()}finally{if(p)throw h}}return[2,{commit:n,branch:t,upstream:r,stashes:i,changes:s,error:null}]}})})()}function L(e){switch(e){case".":default:return Y.PX.UNMODIFIED;case"M":return Y.PX.MODIFIED;case"T":return Y.PX.TYPE_CHANGED;case"A":return Y.PX.ADDED;case"D":return Y.PX.DELETED;case"R":return Y.PX.RENAMED;case"C":return Y.PX.COPIED;case"U":return Y.PX.UNMERGED}}var M=t(25544),J={char:"\0"},H={format:"%x1f",char:"\x1f"},B={format:"%x1e",char:"\x1e"},V={format:"%x1d",char:"\x1d"},$=["only","separator=".concat(B.format),"key_value_separator=".concat(V.format)].join(","),G='--format="format:'+["%D","%H","%P","%an","%ae","%at","%cn","%ce","%ct","%s","%b","%(trailers:".concat($,")"),"%N"].join(H.format)+'"';function z(e){var n=e.trimStart().split(H.char),t=(0,a._)(n,13),r=t[0],i=t[1],o=t[2],s=t[3],l=t[4],u=t[5],c=t[6],d=t[7],f=t[8],p=t[9],h=t[10],m=t[11],v=t[12],g=[],b=o?o.split(" "):null,y=!1,w=!0,_=!1,S=void 0;try{for(var A,k=(0,C.jr)(r,",")[Symbol.iterator]();!(w=(A=k.next()).done);w=!0){var Y=A.value;if("grafted"===Y){y=!0;continue}g.push((0,M.T)(Y))}}catch(e){_=!0,S=e}finally{try{w||null==k.return||k.return()}finally{if(_)throw S}}var E={name:s,email:l,date:1e3*parseInt(u,10)},x={name:c,email:d,date:1e3*parseInt(f,10)},T=p?p.trim():"",D=h?h.trim():"",I=!1,R=Object.fromEntries((0,C.jr)(m,B.char).map(function(e){var n=e.indexOf(V.char),t=-1===n?e:e.slice(0,n),r=-1===n?"":e.slice(n+1);if(D&&!I){I=!0;var a=D.lastIndexOf(t+":");-1!==(a=-1===a?D.lastIndexOf(t+"="):a)&&(D=D.slice(0,a).trim())}return[t,(0,C.Ps)(r)]})),N=v&&""!==v.trim()?v.trim():void 0;return{refs:g,hash:i,parents:b,grafted:y,author:E,committer:x,subject:T,body:D,trailers:R,notes:N}}function W(e){return(0,r._)(function(e){var n,t=arguments;return(0,o.YH)(this,function(r){switch(r.label){case 0:var a,i,o,s,l,u,c;return[4,e((o=void 0===(i=(a=t.length>1&&void 0!==t[1]?t[1]:{}).max)?25:i,s=a.skip,l=a.revRange,u=a.path,c=["-z","--decorate=full","--full-history",G],o=Math.max(1,Math.min(o,200)),c.push("-n ".concat(o)),s&&c.push("--skip ".concat(s)),l&&c.push(l),c.push("--"),u&&c.push(u),"git log ".concat(c.join(" "))),{serviceMethod:"git-log"})];case 1:if((n=r.sent()).error){if(n.error===m.uA.NO_COMMITS)return[2,{commits:[],error:null}];return[2,n]}return[2,{commits:(0,C.jr)(n.output,J.char).map(z),error:null}]}})}).apply(this,arguments)}h.ZU.Object({max:h.ZU.Optional(h.ZU.Integer()),skip:h.ZU.Optional(h.ZU.Integer()),revRange:h.ZU.Optional(h.ZU.String()),path:h.ZU.Optional(h.ZU.String())});var j=["main","master","trunk","dev","develop","development","staging","prod","production"].map(function(e){return'if [ $(git rev-parse --verify --quiet "heads/'.concat(e,'") ]; then\n      echo "refs/heads/').concat(e,'"\n    fi')}).join("\n"),q='\ngit remote | while IFS= read -r remote; do\n  if [ -z "$remote" ]; then continue; fi\n  branch="$('.concat('\nif [ -f ".git/refs/remotes/$remote/HEAD" ]; then\n  echo "$(sed -e "s/^ref: refs\\/remotes\\/$remote\\///" < .git/refs/remotes/$remote/HEAD)"\nelse\n  remote_result="$(git ls-remote --symref "$remote" HEAD)"\n  if [ -z "$remote_result" ]; then\n    echo ""\n  else\n    branch_name="$(\n      echo "$remote_result" | \\\n      head -1 | \\\n      awk \'{print $2}\' | \\\n      sed -e "s/^refs\\/heads\\///"\n    )"\n    git remote set-head "$remote" "$branch_name" >&2\n    echo "$branch_name"\n  fi\nfi\n'.trim(),')"\n  if [ -z "$branch" ]; then continue; fi\n  echo "refs/remotes/$remote/$branch"\n  if [ $(git rev-parse --verify --quiet "heads/$branch") ]; then\n    echo "refs/heads/$branch"\n  fi\ndone\n').concat(j,"\n").trim();function Z(e){return(0,r._)(function(){var n;return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,e(q,{serviceMethod:"git-find-default-branches"})];case 1:if((n=t.sent()).error)return[2,n];return[2,{refs:(0,i._)(new Set((0,C.jr)(n.output,"\n"))).map(function(e){return(0,M.T)(e)}),error:null}]}})})()}var K=t(55689);function Q(e,n){return(0,r._)(function(e,n){var t,r,a,i;return(0,o.YH)(this,function(o){switch(o.label){case 0:return t=n.upstream,r=n.branchName,a=["--set-upstream-to",t],r&&a.push((0,C.hh)(r)),[4,e("git branch ".concat(a.join(" ")),{serviceMethod:"git-set-branch-upstream"})];case 1:if((i=o.sent()).error)return[2,i];return[2,{error:null}]}})}).apply(this,arguments)}function X(e,n){return(0,r._)(function(){var t,r;return(0,o.YH)(this,function(a){switch(a.label){case 0:if(!(t=function(e){if("all"in e)return e.all?["git add -A"]:["git reset -q -- ."];var n=e.add,t=e.reset;if(!(null==n?void 0:n.length)&&!(null==t?void 0:t.length))return null;var r=[];if(n){var a=n.map(C.hh).join(" ");r.push("git --literal-pathspecs add -- ".concat(a))}if(t){var i=t.map(C.hh).join(" ");r.push("git --literal-pathspecs reset -q -- ".concat(i))}return r}(n)))return[2,{error:null}];return[4,e(t,{serviceMethod:"git-stage-files"})];case 1:if((r=a.sent()).error)return[2,r];return[2,{error:null}]}})})()}function ee(e,n){return(0,r._)(function(){var t,r;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,e(function(e){var n=e.message,t=e.trailers,r=e.files,o=e.allowEmpty,s=e.noVerify,l=["--allow-empty-message","--cleanup=whitespace","--no-edit","--quiet","-m ".concat((0,C.hh)(n))];if(t){var u=!0,c=!1,d=void 0;try{for(var f,p=Object.entries(t)[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=(0,a._)(f.value,2),m=h[0],v=h[1],g=(0,C.hh)("".concat(m,":").concat((0,C.dO)(v)));l.push("--trailer ".concat(g))}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}return(void 0===o||o)&&l.push("--allow-empty"),(void 0===s||s)&&l.push("--no-verify"),r&&l.push.apply(l,["--only","--"].concat((0,i._)(r.map(C.hh)))),"git --literal-pathspecs commit ".concat(l.join(" "))}(n),{serviceMethod:"git-commit"})];case 1:if((t=o.sent()).error)return[2,t];return[4,e("git rev-parse HEAD",{serviceMethod:"git-commit"})];case 2:if((r=o.sent()).error)return[2,r];return[2,{hash:r.output,error:null}]}})})()}h.ZU.Union([h.ZU.Object({all:h.ZU.Boolean()}),h.ZU.Object({add:h.ZU.Optional(h.ZU.Array(h.ZU.String())),reset:h.ZU.Optional(h.ZU.Array(h.ZU.String()))})]),h.ZU.Object({message:h.ZU.String(),trailers:h.ZU.Optional(h.ZU.Record(h.ZU.String(),h.ZU.String())),noVerify:h.ZU.Optional(h.ZU.Boolean()),files:h.ZU.Optional(h.ZU.Array(h.ZU.String())),allowEmpty:h.ZU.Optional(h.ZU.Boolean())});var en=t(44122),et=t(11874);function er(e,n){return(0,r._)(function(){var t,r,a,i,s,l;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(t=(n=(0,en.fn)(n)).startsWith("refs/heads/"),r=n.startsWith("refs/remotes/"),t)return[3,2];return a=r?n:"refs/remotes/".concat(n),[4,e("git show-ref --verify ".concat(a),{serviceMethod:"git-branch-exists"})];case 1:if(!(i=o.sent()).error)return[2,{exists:!0,ref:(0,M.T)(a),error:null}];if(i.error!==m.uA.INVALID_REFERENCE)return[2,i];o.label=2;case 2:if(r)return[3,4];return s=t?n:"refs/heads/".concat(n),[4,e("git show-ref --verify ".concat(s),{serviceMethod:"git-branch-exists"})];case 3:if(!(l=o.sent()).error)return[2,{exists:!0,ref:(0,M.T)(s),error:null}];if(l.error!==m.uA.INVALID_REFERENCE)return[2,l];o.label=4;case 4:return[2,{exists:!1,ref:null,error:null}]}})})()}function ea(e,n){return(0,r._)(function(){var t,a,i,s,l;return(0,o.YH)(this,function(u){switch(u.label){case 0:return[4,er(e,n=(0,en.fn)(n,!0))];case 1:if((t=u.sent()).error)return[2,t];if(!t.exists)return[2,{error:m.uA.INVALID_REFERENCE,extras:{branch:n}}];if(a={guess:!1},t.ref.type!==et.QN.REMOTE_BRANCH)return[3,3];return s=t.ref.branch,[4,er(e,"refs/heads/".concat(s))];case 2:if((l=u.sent()).error)return[2,l];return l.exists?i=l.ref:(a.track=!0,a.newBranch=s,i=t.ref),[3,4];case 3:i=t.ref,u.label=4;case 4:var c;return c=(0,f._)({branchRef:i},a),[2,(0,r._)(function(){var n,t;return(0,o.YH)(this,function(r){switch(r.label){case 0:return n=["--quiet"],c.guess||n.push("--no-guess"),(c.newBranch&&void 0===c.track||c.track)&&n.push("--track"),c.force&&n.push("-f"),c.newBranch&&n.push("-b",c.newBranch),n.push((0,C.hh)(c.branchRef.name),"--"),[4,e("git checkout ".concat(n.join(" ")),{serviceMethod:"git-checkout"})];case 1:if((t=r.sent()).error)return[2,t];return[2,{ok:!0,error:null}]}})})()]}})})()}function ei(e,n){return(0,r._)(function(e,n){var t,r,a,i,s,l,u,c,d,f,p;return(0,o.YH)(this,function(o){switch(o.label){case 0:return t=n.name,a=void 0===(r=n.startPoint)?"HEAD":r,i=n.track,l=void 0!==(s=n.checkout)&&s,[4,er(e,t=(0,C.w9)(t))];case 1:if((u=o.sent()).error)return[2,u];if(u.exists)return[2,{error:m.uA.BRANCH_ALREADY_EXISTS,extras:{branch:t}}];if("HEAD"===a){if(!0===i)return[2,{error:m.uA.INVALID_REFERENCE,extras:{branch:t}}];i=!1}if(!1===i)return[3,3];return[4,er(e,a)];case 2:if((c=o.sent()).error)return[2,c];if(!c.exists&&!0===i)return[2,{error:m.uA.INVALID_REFERENCE,extras:{branch:t}}];c.exists&&c.ref.type===et.QN.REMOTE_BRANCH&&void 0===i&&(i=!0),o.label=3;case 3:return d=["--quiet",i?"--track":"--no-track",(0,C.hh)(t),(0,C.hh)(a)],[4,e("git branch ".concat(d.join(" ")),{serviceMethod:"git-create-branch"})];case 4:if((f=o.sent()).error)return[2,f];if(!l)return[3,6];return[4,ea(e,t)];case 5:if((p=o.sent()).error)return[2,p];o.label=6;case 6:return[2,{error:null}]}})}).apply(this,arguments)}function eo(e){return(0,r._)(function(){var n,t,r,i,s,l,u,c,d,f,p,h,m,v;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,e("git remote -v",{serviceMethod:"git-get-remotes"})];case 1:if((n=o.sent()).error)return[2,n];if(""===n.output)return[2,{remotes:new Map,error:null}];t=new Map,r=!0,i=!1,s=void 0;try{for(l=(0,C.jr)(n.output,"\n")[Symbol.iterator]();!(r=(u=l.next()).done);r=!0)c=u.value,f=(d=(0,a._)(c.split(/\s+/),3))[0],p=d[1],h=d[2],f&&p&&h&&"gitsafe-backup"!==f&&(v=null!=(m=t.get(f))?m:{name:f,fetch:"",push:""},"(fetch)"===h?(v.fetch=p,""===v.push&&(v.push=p),t.set(f,v)):"(push)"===h&&(v.push=p,""===v.fetch&&(v.fetch=p),t.set(f,v)))}catch(e){i=!0,s=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw s}}return[2,{remotes:t,error:null}]}})})()}function es(e){return(0,r._)(function(e){var n,t,r,a,s,l=arguments;return(0,o.YH)(this,function(o){switch(o.label){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:{},t=["--quiet"],n.depth&&(r=n.deepen?"--deepen":"--depth",t.push("".concat(r,"=").concat(n.depth))),n.remote?t.push((0,C.hh)(n.remote)):t.push("--all"),!1===n.tags&&t.push("--no-tags"),n.refs&&n.refs.length>0&&(a=t).push.apply(a,(0,i._)(n.refs)),[4,e("git fetch ".concat(t.join(" ")),{serviceMethod:"git-fetch"})];case 1:if((s=o.sent()).error)return[2,s];return[2,{error:null}]}})}).apply(this,arguments)}function el(e,n,t){return(0,r._)(function(){var r,a,i;return(0,o.YH)(this,function(o){switch(o.label){case 0:if((0,en.CC)(n,t)){if(n=(0,en.qK)(n,!0),t=(0,en.qK)(t),n===t)return[2,{canMerge:!0,error:null}]}else n=(0,en.qK)(n),t=(0,en.qK)(t);return n=(0,C.hh)(n),t=(0,C.hh)(t),r="git merge-base ".concat(n," ").concat(t),a='git merge-tree "$('.concat(r,')" ').concat(n," ").concat(t),[4,e("set -eo pipefail; (".concat(a," | ").concat("( (grep -q -e '^+<* \\.our$' && echo '1') || echo '0')",") || test $? -eq 141"),{serviceMethod:"git-can-merge-branches"})];case 1:if((i=o.sent()).error)return[2,i];return[2,{canMerge:"0"===i.output,error:null}]}})})()}function eu(e){return(0,r._)(function(e){var n,t,r,i,s,l,u,c,d,f=arguments;return(0,o.YH)(this,function(o){switch(o.label){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},[4,U(e)];case 1:if((t=o.sent()).error)return[2,t];if(!t.branch)return[2,{error:m.uA.HEAD_DETACHED}];if(!t.upstream&&!n.experimental_override_remote||(i=(r=(0,a._)(n.experimental_override_remote?[n.experimental_override_remote.name,n.experimental_override_remote.branch]:(0,C.xM)(t.upstream.branch),2))[0],s=r[1],!i||!s))return[2,{error:m.uA.UPSTREAM_NOT_SET}];if(t.changes.length>0)return[2,{error:m.uA.DIRTY_WORKTREE}];if("FF_ONLY"===(u=null!=(l=n.mode)?l:"FF_ONLY")&&t.upstream&&t.upstream.ahead>0)return[2,{error:m.uA.MERGE_CONFLICT}];switch("FF_ONLY"!==u&&t.upstream&&0===t.upstream.ahead&&(u="FF_ONLY"),c=["--quiet","--no-edit"],u){case"FF_ONLY":c.push("--no-rebase","--ff-only");break;case"MERGE":c.push("--no-rebase","--ff");break;case"REBASE":c.push("--rebase")}return c.push((0,C.hh)(i),(0,C.hh)(s)),[4,e("git pull ".concat(c.join(" ")),{serviceMethod:"git-pull"})];case 2:if((d=o.sent()).error!==m.uA.MERGE_CONFLICT)return[3,8];if(n.allowConflicts)return[2,{hasConflicts:!0,error:null}];switch(u){case"MERGE":return[3,3];case"REBASE":return[3,5]}return[3,7];case 3:return[4,e("git merge --abort",{serviceMethod:"git-pull"})];case 4:case 6:return o.sent(),[3,7];case 5:return[4,e("git rebase --abort",{serviceMethod:"git-pull"})];case 7:return[2,d];case 8:if(d.error)return[2,d];return[2,{hasConflicts:!1,error:null}]}})}).apply(this,arguments)}function ec(e){return(0,r._)(function(e){var n,t,r,i,s,l,u,c,d,f,p,h=arguments;return(0,o.YH)(this,function(o){switch(o.label){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:{},[4,U(e)];case 1:if((t=o.sent()).error)return[2,t];if(!t.branch)return[2,{error:m.uA.HEAD_DETACHED}];if(r=null,i=null,n.publish){if(t.upstream)return[2,{error:m.uA.BRANCH_ALREADY_EXISTS,extras:{branch:t.upstream}}];r=n.publish.remote,i=null!=(s=n.publish.name)?s:t.branch,r=(0,C.w9)(r),i=(0,C.w9)(i)}else{if(!t.upstream)return[2,{error:m.uA.UPSTREAM_NOT_SET}];if(!n.force&&t.upstream.behind>0)return[2,{error:m.uA.PUSH_REJECTED}];r=(l=(0,a._)((0,C.xM)(t.upstream.branch),2))[0],i=l[1]}if(!r||!i)return[2,{error:m.uA.UPSTREAM_NOT_SET}];if(n.force)return[3,3];return[4,es(e,{remote:r})];case 2:if((u=o.sent()).error)return[2,u];o.label=3;case 3:if(!n.publish)return[3,5];return[4,er(e,"refs/remotes/".concat(r,"/").concat(i))];case 4:if((c=o.sent()).error)return[2,c];if(c.exists&&c.ref.type===et.QN.REMOTE_BRANCH)return[2,{error:m.uA.BRANCH_ALREADY_EXISTS,extras:{branch:i}}];o.label=5;case 5:return d=["--quiet"],n.force&&!n.publish&&d.push("--force-with-lease"),n.publish&&d.push("--set-upstream"),f="refs/heads/".concat(t.branch,":refs/heads/").concat(i),d.push((0,C.hh)(r),(0,C.hh)(f)),[4,e("git push ".concat(d.join(" ")),{serviceMethod:"git-push"})];case 6:if((p=o.sent()).error)return[2,p];return[2,{error:null}]}})}).apply(this,arguments)}function ed(e,n){return(0,r._)(function(e,n){var t,r,a,i,s,l;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(t=n.path,r=n.convertToBase64,i=void 0===(a=n.revision)?"HEAD":a,""===t)return[2,{content:null,error:null}];return s=(0,C.hh)("".concat(i,":").concat(t)),[4,e(r?"git --no-pager show ".concat(s," | base64"):"git --no-pager show ".concat(s),{verbatim:!0,serviceMethod:"git-get-file-contents"})];case 1:if((l=o.sent()).error){if(l.error===m.uA.PATH_MATCHED_NO_FILES)return[2,{content:null,error:null}];return[2,l]}return[2,{content:l.output,error:null}]}})}).apply(this,arguments)}function ef(e,n){return(0,r._)(function(e,n){var t,r,a,s,l;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(t=n.name,r=n.url,s=void 0!==(a=n.fetch)&&a,t=(0,C.K1)(t),!(0,en.em)(t))return[2,{error:m.uA.INVALID_REFERENCE,extras:{remote:t}}];return t=(0,C.hh)(t),r=(0,C.hh)(r),[4,e(["git remote add"].concat((0,i._)(s?["-f"]:[]),[t,r]).join(" "),{serviceMethod:"git-add-remote"})];case 1:if((l=o.sent()).error)return[2,l];return[2,{didFetch:l.output.includes("Updating"),error:null}]}})}).apply(this,arguments)}function ep(e,n){return(0,r._)(function(){var t;return(0,o.YH)(this,function(r){switch(r.label){case 0:if(n=(0,C.K1)(n),!(0,en.em)(n))return[2,{error:m.uA.INVALID_REFERENCE,extras:{remote:n}}];return[4,e("git remote rm ".concat((0,C.hh)(n)),{serviceMethod:"git-remove-remote"})];case 1:if((t=r.sent()).error)return[2,t];return[2,{error:null}]}})})()}function eh(e,n){return(0,r._)(function(e,n){var t,r,a;return(0,o.YH)(this,function(i){switch(i.label){case 0:if(t=n.remote,r=n.url,t=(0,C.K1)(t),!(0,en.em)(t))return[2,{error:m.uA.INVALID_REFERENCE,extras:{remote:t}}];if(!(0,en.C2)(r))return[2,{error:m.uA.INVALID_REFERENCE,extras:{url:r}}];return t=(0,C.hh)(t),r=(0,C.hh)(r),[4,e("git remote set-url ".concat(t," ").concat(r),{serviceMethod:"git-set-remote-url"})];case 1:if((a=i.sent()).error)return[2,a];return[2,{error:null}]}})}).apply(this,arguments)}h.ZU.Object({branchRef:h.ZU.Union([et.VH,et.$5]),guess:h.ZU.Optional(h.ZU.Boolean()),newBranch:h.ZU.Optional(h.ZU.String()),track:h.ZU.Optional(h.ZU.Boolean()),force:h.ZU.Optional(h.ZU.Boolean())}),h.ZU.Object({remote:h.ZU.Optional(h.ZU.String()),depth:h.ZU.Optional(h.ZU.Number()),deepen:h.ZU.Optional(h.ZU.Boolean()),tags:h.ZU.Optional(h.ZU.Boolean()),refs:h.ZU.Optional(h.ZU.Array(h.ZU.String()))});var em=t(52080);function ev(e,n){return(0,r._)(function(){var t,r,i,s,l,u,c,d,f,p,h,v;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(n=(0,en.qK)(n,!0),!(0,en.eB)(n))return[2,{error:m.uA.INVALID_REFERENCE,extras:{branch:n}}];return t=(0,C.w9)(n),i=(r=(0,a._)((0,C.xM)(n),2))[0],s=r[1],l=["refs/heads/".concat(t),"refs/remotes/*/".concat(t)],i&&s&&(l.push("refs/heads/".concat(s)),l.push("refs/remotes/".concat(i,"/").concat(s))),[4,(0,K.A)(e,{pattern:l})];case 1:if((u=o.sent()).error)return[2,u];if(0===u.branches.length)return[2,{error:m.uA.INVALID_REFERENCE,extras:{branch:n}}];c=!0,d=!1,f=void 0;try{for(p=u.branches[Symbol.iterator]();!(c=(h=p.next()).done);c=!0)if((v=h.value).type!==em.xx.REMOTE&&v.name===t||i&&s&&v.type!==em.xx.LOCAL&&v.remote===i&&v.name===s)return[2,{branch:v,error:null}]}catch(e){d=!0,f=e}finally{try{c||null==p.return||p.return()}finally{if(d)throw f}}return[2,{error:m.uA.INVALID_REFERENCE,extras:{branch:n}}]}})})()}function eg(e,n,t){return(0,r._)(function(){var r,a,i,s,l,u,c,d,f,p,h,m,v,g,b;return(0,o.YH)(this,function(o){switch(o.label){case 0:if("string"==typeof n){if(""===n)return[2,{error:null}];n=[n]}if(!0!==n&&0===n.length)return[2,{error:null}];if(void 0===t)return[3,2];return r=["--quiet","--no-overlay","--worktree","--source=".concat(t),!0===n?".":"-- ".concat(n.join(" "))],[4,e("git --literal-pathspecs restore ".concat(r.join(" ")),{serviceMethod:"git-restore-files"})];case 1:if((a=o.sent()).error)return[2,a];return[2,{error:null}];case 2:return[4,U(e)];case 3:if((i=o.sent()).error)return[2,i];s=[],l=[],u=!0,c=!1,d=void 0;try{for(f=i.changes[Symbol.iterator]();!(u=(p=f.next()).done);u=!0)if(h=p.value,!0===n||n.includes(h.path))switch(h.type.worktree){case Y.PX.UNMODIFIED:continue;case Y.PX.UNTRACKED:s.push((0,C.hh)(h.path));break;default:l.push((0,C.hh)(h.path))}}catch(e){c=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw d}}if(0===s.length&&0===l.length&&void 0===t)return[2,{error:null}];return m=[],s.length&&(v=["--quiet","--force","--",s.join(" ")],m.push("git --literal-pathspecs clean ".concat(v.join(" ")))),l.length&&(g=["--quiet","--no-overlay","--worktree","-- ".concat(l.join(" "))],m.push("git --literal-pathspecs restore ".concat(g.join(" ")))),[4,e(m,{serviceMethod:"git-restore-files"})];case 4:if((b=o.sent()).error)return[2,b];return[2,{error:null}]}})})()}function eb(e){return(0,r._)(function(){var n,t;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,e("if [ -f '.git/FETCH_HEAD' ]; then stat -c %Y '.git/FETCH_HEAD'; fi",{serviceMethod:"git-last-fetched"})];case 1:if((n=r.sent()).error)return[2,n];if(!n.output||isNaN(t=parseInt(n.output,10)))return[2,{lastFetched:null,error:null}];return[2,{lastFetched:new Date(t*=1e3),error:null}]}})})()}function ey(e,n){return(0,r._)(function(e,n){var t,r,a,i,s,l,u,c,d;return(0,o.YH)(this,function(o){switch(o.label){case 0:return t=n.branch,r=n.message,i=void 0!==(a=n.allowConflicts)&&a,[4,y(e)];case 1:if((s=o.sent()).error)return[2,s];if(l=s.state,s.type!==v.UN.NORMAL||l===v.Gi.DIRTY_WORKTREE||l===v.Gi.DIRTY_INDEX)return[2,{error:m.uA.INVALID_STATE,extras:{state:l,expected:[v.UN.NORMAL]}}];return[4,er(e,t)];case 2:if((u=o.sent()).error)return[2,u];if(!u.exists)return[2,{error:m.uA.INVALID_REFERENCE,extras:{branch:t}}];if(i)return[3,4];return[4,el(e,t,"HEAD")];case 3:if((c=o.sent()).error)return[2,c];if(!c.canMerge)return[2,{error:m.uA.MERGE_CONFLICT}];o.label=4;case 4:var f,p,h,g;return p=(f={branch:t,message:r}).branch,h=f.message,p=(0,en.fn)(p),g=["--quiet","--no-edit","--no-ff","--overwrite-ignore","--commit"],h&&g.push("-m",(0,C.hh)(h)),g.push((0,C.hh)(p)),[4,e("git merge ".concat(g.join(" ")),{serviceMethod:"git-merge"})];case 5:if((d=o.sent()).error!==m.uA.MERGE_CONFLICT)return[3,8];if(i)return[3,7];return[4,e("git merge --abort")];case 6:return o.sent(),[2,d];case 7:return[2,{hasConflicts:!0,error:null}];case 8:if(d.error)return[2,d];return[2,{hasConflicts:!1,error:null}]}})}).apply(this,arguments)}function ew(e){return(0,r._)(function(){var n;return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,e("GIT_EDITOR=: git merge --continue",{serviceMethod:"git-merge-continue"})];case 1:if((n=t.sent()).error)return[2,n];return[2,{error:null}]}})})()}function e_(e){return(0,r._)(function(){var n;return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,e("git merge --abort",{serviceMethod:"git-merge-abort"})];case 1:if((n=t.sent()).error)return[2,n];return[2,{error:null}]}})})()}var eS=["git diff -z --name-only --diff-filter=U","echo -n ".concat("\x1f"),"{ git grep -z -l -E '<{7,}|={7,}|>{7,}' || exit $(( $? == 1 ? 0 : $? )); }"].join(" && ");function eA(e){return(0,r._)(function(){var n,t,r,i,s,l,u,c,d,f,p;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,e(eS,{serviceMethod:"git-get-conflicting-files"})];case 1:if((n=o.sent()).error)return[2,n];if(r=(t=(0,a._)(n.output.split("\x1f").map(function(e){return(0,C.jr)(e,"\0")}),2))[0],i=t[1],!r.length)return[2,{files:new Map,error:null}];s=new Map,l=!0,u=!1,c=void 0;try{for(d=r[Symbol.iterator]();!(l=(f=d.next()).done);l=!0)p=f.value,s.set(p,!i.includes(p))}catch(e){u=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw c}}return[2,{files:s,error:null}]}})})()}function ek(e){return(0,r._)(function(){var n,t,r,a,i,s,l;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,y(e)];case 1:if((n=o.sent()).error)return[2,n];if((t=n.state)!==v.Gi.MERGING)return[2,{error:m.uA.INVALID_STATE,extras:{state:t,expected:[v.Gi.MERGING]}}];return[4,e("cat '.git/MERGE_HEAD'",{serviceMethod:"git-get-merging-refs"})];case 2:if((r=o.sent()).error)return[2,r];if(!(a=(0,C.jr)(r.output,"\n")).length)return[2,{commits:[],branches:[],error:null}];return i="{ grep -F '".concat(a.join("\n"),"' || exit 0; }"),[4,e("".concat('git for-each-ref --format="%(objectname)	%(refname)" refs/heads/ refs/remotes/'," | ").concat(i),{serviceMethod:"git-get-merging-refs"})];case 3:if((s=o.sent()).error)return[2,s];if(!s.output)return[2,{commits:a,branches:[],error:null}];return l=(0,C.jr)(s.output,"\n").map(function(e){return e.split("	")[1]}).map(C.w9),[2,{commits:a,branches:l,error:null}]}})})()}var eC=t(82514);function eY(e,n){return(0,r._)(function(){var t,r;return(0,o.YH)(this,function(a){switch(a.label){case 0:if(!n.commit)return[2,{error:m.uA.INVALID_REFERENCE,extras:{commit:n.commit}}];return[4,W(e,{max:1,revRange:n.commit})];case 1:if((t=a.sent()).error)return[2,t];if(0===t.commits.length)return[2,{error:m.uA.INVALID_REFERENCE,extras:{commit:n.commit}}];return r=t.commits[0],[2,(0,p._)((0,f._)({},r),{error:null})]}})})()}h.ZU.Object({commit:h.ZU.String()});var eE=t(56120),ex=t(91818),eT=/(?:(?:[ADMTU]\0[^\0]+?)|(?:[RC][0-9]+\0[^\0]+?\0[^\0]+?))(?=\0|$)/g,eD=/([ACDMRTU])([0-9]+)?\0([^\0]+?)(?:\0([^\0]+?))?$/;function eI(e,n){return(0,r._)(function(){var t,r,i,s,l,u,c,d,f,p,h,m,v,g,b;return(0,o.YH)(this,function(o){switch(o.label){case 0:return t="".concat((0,C.hh)(n.a)," ").concat((0,C.hh)(n.b)),r=["--name-status","-z","-M"],n.copies&&r.push("-C","-C"),[4,e("git diff ".concat(r.join(" ")," ").concat(t))];case 1:if((i=o.sent()).error)return[2,i];s=[],l=!0,u=!1,c=void 0;try{for(d=i.output.matchAll(eT)[Symbol.iterator]();!(l=(f=d.next()).done);l=!0)(p=(0,a._)(f.value,1)[0].match(eD))&&(m=(h=(0,a._)(p,5))[1],v=h[3],g=h[4],b=function(e){switch(e){case"A":case"U":return ex.Os.ADDED;case"C":return ex.Os.COPIED;case"D":return ex.Os.DELETED;case"M":return ex.Os.MODIFIED;case"R":return ex.Os.RENAMED;case"T":return ex.Os.TYPE_CHANGED;default:throw Error("Unknown file type: ".concat(e))}}(m),s.push(b===ex.Os.RENAMED||b===ex.Os.COPIED?{type:b,path:g,originalPath:v}:{type:b,path:v}))}catch(e){u=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw c}}return[2,{files:s,error:null}]}})})()}h.ZU.Object({a:h.ZU.String(),b:h.ZU.String(),copies:h.ZU.Optional(h.ZU.Boolean())});var eR=t(7659),eN=t(71696),eO=t(12584),eP=t(41114);function eF(){var e=(0,eO._)(["\n  fragment GitServiceGitHubUser on CurrentUser {\n    image\n    username\n    email\n    firstName\n    lastName\n    gitHubInfo {\n      isAppCurrentlyInstalled\n      accessToken\n      userInfo {\n        name\n        username\n        email\n        avatarUrl\n      }\n    }\n  }\n"]);return eF=function(){return e},e}function eU(){var e=(0,eO._)(["\n  query GitServiceCurrentUser {\n    currentUser {\n      id\n      ...GitServiceGitHubUser\n    }\n  }\n  ","\n"]);return eU=function(){return e},e}var eL=(0,eP.J1)(eF()),eM=(0,eP.J1)(eU(),eL),eJ=t(62449),eH=t(24506);function eB(e){return(0,r._)(function(e){var n,t,r,a,i,s,l,u,c,f,p,h,m,v,g,b,y,w,_,S,A,k;return(0,o.YH)(this,function(o){switch(o.label){case 0:return n=e.defaultUsername,t=e.defaultUserId,r=e.onProfiles,s=new Map,[4,null===eJ.V||void 0===eJ.V?void 0:eJ.V.query({query:eM,fetchPolicy:"network-only",context:{noBatch:!0}})];case 1:var C,Y;return p=(f=null!=(c=null==(u=(null!=(l=o.sent())?l:{data:null}).data)?void 0:u.currentUser)?c:{username:n,id:t,firstName:null,lastName:null}).id,h=f.firstName,m=f.lastName,v=f.username,p&&v&&(b=v,h&&(b=h),m&&(b=m),h&&m&&(b=h+" "+m),w={provider:d.H.REPLIT_DEFAULT,email:"".concat(p,"-").concat(v,"@").concat(eH.O),name:b,username:v,avatar:null!=(y=null==u||null==(g=u.currentUser)?void 0:g.image)?y:null},s.set(w.provider,w)),(_=null==u||null==(i=u.currentUser)||null==(a=i.gitHubInfo)?void 0:a.userInfo)&&_.email&&_.username&&(null==u||null==(Y=u.currentUser)||null==(C=Y.gitHubInfo)?void 0:C.isAppCurrentlyInstalled)&&(k={provider:d.H.GITHUB,email:_.email,name:null!=(S=_.name)?S:_.username,username:_.username,avatar:null!=(A=_.avatarUrl)?A:null},s.set(k.provider,k)),r(s),[2]}})}).apply(this,arguments)}var eV=t(37743),e$=t(90629),eG=t(5278),ez=t(41409),eW=t(95793),ej=function(){function e(n,t){(0,eV._)(this,e),this.cache=new Map,this.lastInvalidation=0,this.ttl=n,this.debounceTime=t}var n=e.prototype;return n.has=function(e){return this.cache.has(e)},n.get=function(e){var n=this.cache.get(e);if(!n)throw Error("No value found for key: ".concat(e));return n.result},n.set=function(e,n){var t=this,r=this.cache.get(e);r&&(clearTimeout(r.timeout),this.cache.delete(e));var a={result:n,timeout:setTimeout(function(){return t.cache.delete(e)},this.ttl),pending:!0};n.finally(function(){return a.pending=!1}),this.cache.set(e,a)},n.invalidate=function(){if(!(Date.now()-this.lastInvalidation<this.debounceTime)){var e=new Map,n=!0,t=!1,r=void 0;try{for(var i,o=this.cache[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=(0,a._)(i.value,2),l=s[0],u=s[1];u.pending?e.set(l,u):clearTimeout(u.timeout)}}catch(e){t=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}this.cache=e,this.lastInvalidation=Date.now()}},n.clear=function(){var e=!0,n=!1,t=void 0;try{for(var r,a=this.cache.values()[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var i=r.value;clearTimeout(i.timeout)}}catch(e){n=!0,t=e}finally{try{e||null==a.return||a.return()}finally{if(n)throw t}}this.cache.clear(),this.lastInvalidation=0},e}(),eq=t(692),eZ=function(){function e(n){var t=this,a=n.container,i=n.getEnv,s=n.awaitPromise;(0,eV._)(this,e),this.cache=new ej(3e4,2e3),this.running=(0,ez.F)(!1),this.queue=[],a.openChannel({service:"exec"},function(e){var n=e.channel,a=function(e,t){return(0,r._)(function(){var a,l,u;return(0,o.YH)(this,function(c){switch(c.label){case 0:if(0===e.length)throw Error("Expected at least one command");if(!s)return[3,2];return[4,s];case 1:c.sent(),c.label=2;case 2:var d;return a=Date.now(),[4,(l=["bash","-c",Array.isArray(e)?e.join(" && "):e],d=i(),(0,r._)(function(){var e,r,a,i,s,u,c;return(0,o.YH)(this,function(o){switch(o.label){case 0:if("open"!==n.status)return[2,{output:"JS Error\nchannel closed before command was run",error:m.uA.CHANNEL_CLOSED}];o.label=1;case 1:return o.trys.push([1,3,,4]),e="",r=n.onCommand(function(n){null!==n.output&&void 0!==n.output&&(e+=n.output)}),a=void 0,(i=Promise.race([new Promise(function(e){return a=setTimeout(e,9e4)}),n.request({exec:{env:d,args:l,noUserEnv:!0}})])).finally(function(){r(),clearTimeout(a)}),[4,i];case 2:if(void 0===(s=o.sent()))return eW.vF.error("Git request timed out.",{appService:"git",command:l,gitEnv:JSON.stringify(d),TIMEOUT:9e4,verbatim:null==t?void 0:t.verbatim,serviceMethod:null==t?void 0:t.serviceMethod,extraEnv:null==t?void 0:t.env}),[2,{output:e,error:m.uA.TIMEOUT}];if(!s.ok&&s.channelClosed)return[2,{output:"JS Error\nchannel closed during command execution",error:m.uA.CHANNEL_CLOSED}];if(s.error||!s.ok)return[2,{output:u="".concat(s.error,"\n").concat(e),error:(0,m.sg)(u)}];return[2,{output:e,error:null}];case 3:return c=o.sent(),e$.v4(function(e){e.setTag("service","git"),e.setExtra("command",l),e.setExtra("env",d),t&&e.setExtra("options",t),e$.Cp(c)}),[2,{output:"JS Error\n".concat(String(c)),error:m.uA.UNKNOWN_NOT_GIT}];case 4:return[2]}})})())];case 3:if(u=c.sent(),(0,eq.L)(e,u,!1,a),u.error)return[2,{error:u.error}];return[2,{output:(null==t?void 0:t.verbatim)?u.output:u.output.trim(),error:null}]}})})()},l=function(e,n){if(0===e.length)throw Error("Expected at least one command");var r=Array.isArray(e)?e.join(" && "):e;if(t.cache.has(r)){var i=t.cache.get(r);return i.then(function(n){(0,eq.L)(e,n,!0)}),i}var o=a(r,n);return t.cache.set(r,o),o},u=function(e,n){return t.cache.clear(),a(e,n)},c=function(){return(0,r._)(function(){var e;return(0,o.YH)(this,function(t){switch(t.label){case 0:if(!(this.queue.length>0)||"open"!==n.status)return[3,7];if(!(e=this.queue.shift()))return[3,6];if("read"!==e.type)return[3,2];return[4,e.fn(l)];case 1:case 3:return t.sent(),[3,6];case 2:if("write"!==e.type)return[3,4];return[4,e.fn(u)];case 4:return[4,e.fn(a)];case 5:t.sent(),t.label=6;case 6:return[3,0];case 7:return 0===this.queue.length&&this.running.set(!1),[2]}})}).call(t)};return t.running.current&&c(),t.running.subscribe(function(e){e&&c()})})}var n=e.prototype;return n.add=function(e,n){var t=(0,eG.A)();return this.queue.push({type:n,fn:function(n){return(0,r._)(function(){var r;return(0,o.YH)(this,function(a){switch(a.label){case 0:return[4,e(n)];case 1:return r=a.sent(),t.resolve(r),[2]}})})()}}),this.running.current||this.running.set(!0),t.promise},n.wrap=function(e,n){var t=this;if("function"!=typeof e)throw Error("Expected a function");return function(){for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return t.add(function(n){return e.apply(void 0,[n].concat((0,i._)(a)))},n)}},e}(),eK=t(36163),eQ=t(49555),eX=".git";function e0(e){var n=e.container,t=e.fs,s=e.provideProfiles,c=void 0===s?eB:s,f=(0,eR.Ay)();f.setMaxListeners(1/0);var p=u(),h=!1,m=new Map,v=null,g=n.getContext(),b=function(e){return(0,r._)(function(){var n,t;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,c({defaultUsername:null==g||null==(n=g.currentUser)?void 0:n.username,defaultUserId:null==g||null==(t=g.currentUser)?void 0:t.id,onProfiles:function(n){var t=!0,r=!1,i=void 0;try{for(var o,s=n[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var l=(0,a._)(o.value,2),u=l[0],c=l[1];m.set(u,c),f.emit(d.J.NEW_PROFILE)}}catch(e){r=!0,i=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw i}}n.has(d.H.GITHUB)||m.delete(d.H.GITHUB);var p=m.get(d.H.REPLIT_DEFAULT),h=m.get(d.H.GITHUB);if(v&&!e&&(e=v.provider),e===d.H.GITHUB&&h)v=h;else{if(!p)return;v=p}f.emit(d.J.CHANGED_PROFILE)}})];case 1:return[2,r.sent()]}})})()},w=new eZ({container:n,getEnv:function(){return p},awaitPromise:b(d.H.GITHUB)});f.on(d.J.FS_CHANGE,function(){return w.cache.invalidate()}),f.on(d.J.FORCED_REFRESH,function(){return w.cache.invalidate()}),f.on(d.J.NEW_PROFILE,function(){return w.cache.invalidate()}),f.on(d.J.CHANGED_PROFILE,function(){return w.cache.invalidate()});var _=function(){var e,t=n.getContext(),r=null==t||null==(e=t.currentUser)?void 0:e.id;if(null!=r){var a="[init]\ndefaultBranch = main\n[user]\n";""!==p.GIT_AUTHOR_EMAIL&&(a+="email = ".concat(p.GIT_AUTHOR_EMAIL.replace(/'/g,"'\"'\"'"),"\n")),""!==p.GIT_AUTHOR_NAME&&(a+="name = ".concat(p.GIT_AUTHOR_NAME.replace(/'/g,"'\"'\"'"),"\n"));var i="/run/replit/user/".concat(r,"/.config/git");null!=r&&n.exec("bash","-c","tmpf=$(mktemp); mkdir -p ".concat(i," && echo '").concat(a,'\' > "$tmpf" && mv "$tmpf" ').concat("".concat(i,"/config")))}};return n.onConnectionStateChanged(function(e){e===eN.KN.CONNECTED&&_()}),f.on(d.J.CHANGED_PROFILE,function(){null!=v&&(p=u({author:{username:v.name,email:v.email}}),_())}),{getEnv:function(){return p},getProfiles:function(){return Array.from(m.values())},hasProfile:function(e){return m.has(e)},getProfile:function(e){var n=m.get(e);if(!n)throw Error("Fetched a profile that has not been setup!");return n},addProfile:function(e){m.set(e.provider,e),f.emit(d.J.NEW_PROFILE)},getCurrentProfile:function(){return v},setCurrentProfile:function(e){var n=m.get(e);if(!n)throw Error("Can't set a non-existent profile!");v=n,p=u({author:{username:n.name,email:n.email}}),f.emit(d.J.CHANGED_PROFILE)},onProfileAdded:function(e){var n=function(){e(Array.from(m.values()))};return f.on(d.J.NEW_PROFILE,n),function(){f.off(d.J.NEW_PROFILE,n)}},onCurrentProfileChanged:function(e){var n=function(){e(v)};return f.on(d.J.CHANGED_PROFILE,n),function(){f.off(d.J.CHANGED_PROFILE,n)}},refreshProfiles:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preferredProvider;return b(e)},onRefresh:function(e){if(!h){var a,s,u,c,p,m,v,g,b,y,w,_;a=!1,s=!1,u=function(){return f.emit(d.J.FS_CHANGE)},m=(c={wait:1e3,cooldown:5e3,maxWait:5e3}).wait,v=c.cooldown,g=c.maxWait,b=null,y=!1,w=l()(function(e){return b=setTimeout(function(){return b=null},v),y=!1,p=u.apply(void 0,(0,i._)(e))},m,{maxWait:g}),(_=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return null!==b?p:(y||(y=!0),w(n))}).cancel=function(){null!==b?(clearTimeout(b),b=null):(w.cancel(),y=!1)},_.flush=function(){return null!==b?(clearTimeout(b),b=null,p):w.flush()},_.isPending=function(){return y},_.isInCooldown=function(){return null!==b},(0,r._)(function(){var e;return(0,o.YH)(this,function(r){return e=!0,t.watchDir(eK.Dl,{onChange:function(r){!a&&r.find(function(e){return e.filename===eX&&e.type===eQ.pt.Directory})&&(function(){if(!a){a=!0;var e=!0;t.watchDir(eX,{onChange:function(){e?e=!1:_()},onMoveOrDelete:function(){a=!1,_()},onError:function(e,t){a=!1,RegExp(".+permission denied","im").test(e.message)||n.unrecoverableError(e,t)}})}}(),e||_()),e&&(e=!1)},onError:function(e,t){return n.unrecoverableError(e,t)}}),[2]})})(),t.onStatusChange(function(e){a&&(e===eQ.sn.Syncing&&_.isInCooldown()?s=!0:e===eQ.sn.Clean&&(s||_(),s=!1))}),h=!0}var S=function(){return e(d.J.FS_CHANGE)},A=function(){return e(d.J.FORCED_REFRESH)},k=function(){return e(d.J.NEW_PROFILE)},C=function(){return e(d.J.CHANGED_PROFILE)};return f.on(d.J.FS_CHANGE,S),f.on(d.J.FORCED_REFRESH,A),f.on(d.J.NEW_PROFILE,k),f.on(d.J.CHANGED_PROFILE,C),function(){f.off(d.J.FS_CHANGE,S),f.off(d.J.FORCED_REFRESH,A),f.off(d.J.NEW_PROFILE,k),f.off(d.J.CHANGED_PROFILE,C)}},forceRefresh:function(){f.emit(d.J.FORCED_REFRESH)},isBusy:function(){return w.running.current},onBusyChange:function(e){var n=!1,t=l()(e,200);return w.running.subscribe(function(e){n&&!e?(t(!1),n=!1):!n&&e&&(t(!0),n=!0)})},init:w.wrap(S,"write"),isInitialized:w.wrap(A,"read"),lsFiles:w.wrap(k,"read"),status:w.wrap(U,"read"),log:w.wrap(W,"read"),findDefaultBranches:w.wrap(Z,"read"),listBranches:w.wrap(K.A,"read"),setBranchUpstream:w.wrap(Q,"write"),stageFiles:w.wrap(X,"write"),commit:w.wrap(ee,"write"),switchBranch:w.wrap(ea,"write"),branchExists:w.wrap(er,"read"),createBranch:w.wrap(ei,"write"),getRemotes:w.wrap(eo,"read"),fetch:w.wrap(es,"write"),canMergeBranches:w.wrap(el,"read"),pull:w.wrap(eu,"write"),push:w.wrap(ec,"write"),getRepositoryState:w.wrap(y,"read"),getFileContents:w.wrap(ed,"read"),addRemote:w.wrap(ef,"write"),removeRemote:w.wrap(ep,"write"),setRemoteURL:w.wrap(eh,"write"),getBranch:w.wrap(ev,"read"),restoreFiles:w.wrap(eg,"write"),lastFetched:w.wrap(eb,"read"),merge:w.wrap(ey,"write"),mergeContinue:w.wrap(ew,"write"),mergeAbort:w.wrap(e_,"write"),getConflictingFiles:w.wrap(eA,"read"),getMergingRefs:w.wrap(ek,"read"),getFilesForCommit:w.wrap(eC.Ay,"read"),getCommit:w.wrap(eY,"read"),restoreCommit:w.wrap(eE.Ay,"write"),escapeHatchGitExecRead:w.wrap(function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return e.apply(void 0,(0,i._)(t))},"read"),escapeHatchGitExecWrite:w.wrap(function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return e.apply(void 0,(0,i._)(t))},"write"),getChangesBetweenCommits:w.wrap(eI,"read")}}},6912:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.FD)(o.Ay,(0,a._)((0,r._)({},e),{children:[(0,i.Y)("path",{fillRule:"evenodd",d:"M18 2.5H6A1.5 1.5 0 0 0 4.5 4v16A1.5 1.5 0 0 0 6 21.5h12a1.5 1.5 0 0 0 1.5-1.5V4A1.5 1.5 0 0 0 18 2.5ZM6 1a3 3 0 0 0-3 3v16a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V4a3 3 0 0 0-3-3H6Z",clipRule:"evenodd"}),(0,i.Y)("path",{fillRule:"evenodd",d:"M16 17.25c0 .414-.316.75-.706.75H8.706c-.39 0-.706-.336-.706-.75s.316-.75.706-.75h6.588c.39 0 .706.336.706.75ZM16 9.5c0 .414-.316.75-.706.75H8.706c-.39 0-.706-.336-.706-.75s.316-.75.706-.75h6.588c.39 0 .706.336.706.75Z",clipRule:"evenodd"}),(0,i.Y)("path",{fillRule:"evenodd",d:"M12 13.5c-.414 0-.75-.316-.75-.706V6.206c0-.39.336-.706.75-.706s.75.316.75.706v6.588c0 .39-.336.706-.75.706Z",clipRule:"evenodd"})]}))}},6983:(e,n,t)=>{"use strict";function r(e,n){var t=n.existing,r=n.getKey,a=new Map,i=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;a.set(r(c),c)}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}var d=new Set,f=[],p=!0,h=!1,m=void 0;try{for(var v,g=t[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var b=v.value,y=r(b),w=a.get(y);w&&(f.push(w),d.add(y))}}catch(e){h=!0,m=e}finally{try{p||null==g.return||g.return()}finally{if(h)throw m}}var _=!0,S=!1,A=void 0;try{for(var k,C=e[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){var Y=k.value;d.has(r(Y))||f.push(Y)}}catch(e){S=!0,A=e}finally{try{_||null==C.return||C.return()}finally{if(S)throw A}}return f}t.d(n,{A:()=>r})},7069:(e,n,t)=>{"use strict";t.d(n,{A:()=>l});var r=t(86105),a=t(34837),i=t(63082),o=t.n(i),s=t(843);function l(e){var n,t=e.repl,i=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,r._)(n.filter(Boolean)).concat(["Replit"]).join(" - ")}((0,s.mU)(),null==t||null==(n=t.project)?void 0:n.title,t.title);return(0,a.Y)(o(),{children:(0,a.Y)("title",{children:i},"title")})}},7083:(e,n,t)=>{"use strict";t.d(n,{e:()=>d});var r=t(29935),a=t(12694),i=t(82643),o=t(21462),s=t(86103),l=t(39938),u=t(41479),c=t(21130);function d(e){var n=e.isAgentReplInConfig,t=e.isExpertModeInConfig,d=(0,c.x)(),f=(0,l.A)(d),p=(0,c.j)(),h=(0,a._)((0,o.useState)(!1),2),m=h[0],v=h[1],g=(0,s._P)({controlName:"flag-agent-everywhere"});(0,o.useEffect)(function(){if(g&&m){if((t||!n)&&void 0===f.current)return void p(!0);if(n&&void 0===f.current)return void p(!1)}},[f,p,g,n,t,m]);var b=(0,u.I)(function(e){return function(){return e.agentReplConfig.getReplConfig.rpc({})}},[]),y=(0,u.I)(function(e){return function(n){return(0,r._)(function(){return(0,i.YH)(this,function(t){return[2,e.agentReplConfig.updateReplConfig.rpc({expertMode:n})]})})()}},[]);(0,o.useEffect)(function(){g&&void 0===f.current&&b&&(m||(0,r._)(function(){var e;return(0,i.YH)(this,function(n){switch(n.label){case 0:return[4,b()];case 1:if(!1===(e=n.sent()).ok&&"NOT_FOUND"===e.payload.code)return v(!0),[2];if(!1===e.ok)return[2];return v(!0),void 0!==e.payload.expertMode&&p(e.payload.expertMode),[2]}})})())},[b,g,p,f,m]),(0,o.useEffect)(function(){(0,r._)(function(){return(0,i.YH)(this,function(e){switch(e.label){case 0:if(!g||!y||void 0===d||!m||n&&!1===d)return[2];return[4,y(d)];case 1:return e.sent(),[2]}})})()},[g,m,n,d,y])}},7195:(e,n,t)=>{"use strict";t.d(n,{n:()=>s});var r=t(12694),a=t(21462),i=t(80719),o=t(69832);function s(e){var n=(0,r._)((0,a.useState)(null!=e?e:null),2),t=n[0],s=n[1],l=(0,r._)((0,a.useState)(),2),u=l[0],c=l[1],d=(0,i.NC)(),f=t?d.sessions.get(t):d.sessions.agent.current;return(0,o.q3)(f,{next:function(e){c(e)}}),{session:u,setSession:c,setSessionId:s}}},7343:(e,n,t)=>{"use strict";t.d(n,{d:()=>k,O:()=>C});var r,a=t(34837),i=t(21462),o=t(99784),s=t(61997),l=t(86103),u=t(29935),c=t(37743),d=t(82643),f=t(75375),p=t(95793),h=new(function(){function e(){(0,c._)(this,e)}var n=e.prototype;return n.export=function(e,n){var t=new Map,r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l,u=o.value,c=u.spanContext(),d={name:u.name,service:"repl.it-web",trace_id:c.traceId,span_id:c.spanId,start:u.startTime,end:u.endTime,parent_id:u.parentSpanId,attributes:u.attributes};t.has(c.traceId)||t.set(c.traceId,[]),null==(l=t.get(c.traceId))||l.push(d)}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}var h=Array.from(t.values());if(0===h.length)return void n({code:f.V.SUCCESS});var m=(0,p.JM)();fetch("/datadog/traces",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Requested-With":"fetch"},body:JSON.stringify({repl:{id:null==m?void 0:m.id,rootOriginReplUrl:null==m?void 0:m.rootOriginReplUrl},traces:h})}).then(function(){n({code:f.V.SUCCESS})}).catch(function(e){p.vF.error("Failed to send traces to Datadog: ".concat(e.message)),n({code:f.V.FAILED,error:e.message})})},n.shutdown=function(){return(0,u._)(function(){return(0,d.YH)(this,function(e){return[2]})})()},n.forceFlush=function(){return(0,u._)(function(){return(0,d.YH)(this,function(e){return[2]})})()},e}()),m=t(62019),v=t(51175),g=t(86466),b=t(1833),y=t(57010),w=t(41675),_=t(57080),S=function(e){function n(){var e;return(0,c._)(this,n),e=(0,m._)(this,n,arguments),e.spanSet=new Map,e}(0,b._)(n,e);var t=n.prototype;return t.startSpan=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y._.active(),a=(0,v._)((0,g._)(n.prototype),"startSpan",this).call(this,e,t,r);return this.spanSet.set(a.spanContext().spanId,a),a},t.pruneSpans=function(){this.spanSet.forEach(function(e){e.isRecording()&&e.setAttribute("pruned",!0)}),this.spanSet=new Map},n}(w.s),A=function(e){function n(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c._)(this,n),(e=(0,m._)(this,n,[t]))._wsTracers=new Map,e._wsConfig=t,e}(0,b._)(n,e);var t=n.prototype;return t.getTracer=function(e,n,t){var r="".concat(e,"@").concat(n||"",":").concat((null==t?void 0:t.schemaUrl)||"");return this._wsTracers.has(r)||this._wsTracers.set(r,new S({name:e,version:n,schemaUrl:null==t?void 0:t.schemaUrl},this._wsConfig,this)),this._wsTracers.get(r)},t.pruneSpansForTracer=function(e,n,t){var r,a="".concat(e,"@").concat(n||"",":").concat((null==t?void 0:t.schemaUrl)||"");this._wsTracers.has(a)&&(null==(r=this._wsTracers.get(a))||r.pruneSpans())},n}(_.Z);function k(){var e=(0,l._P)({controlName:"flag-open-telemetry-tracing"});return(0,i.useEffect)(function(){e&&((r=new A).addSpanProcessor(new s.J(h)),r.register({propagator:new o.lm}))},[e]),(0,a.Y)(a.FK,{})}function C(e){r.pruneSpansForTracer(e)}},7579:(e,n,t)=>{"use strict";t.d(n,{j:()=>s});var r=t(21462),a=t(45773),i=t(74309),o=t(58631),s=function(e,n){return(0,r.useEffect)(function(){if(e&&(null==n||!n.state.doc.toString())){var t=o.A.get(e,"string");if(t){if(!n)return;n.dispatch({changes:{from:0,to:n.state.doc.length,insert:t}})}}},[e,n]),{persistPromptDraftCompartment:l.use(e),clearPersistedPromptDraft:function(){e&&o.A.remove(e)}}},l=new i.k(function(e){return e?a.Lz.updateListener.of(function(n){if(n.docChanged){var t=n.state.doc.toString();o.A.set(e,t)}}):[]})},7615:(e,n,t)=>{"use strict";t.d(n,{Jj:()=>o,Xr:()=>u,fk:()=>s,qu:()=>d,rf:()=>c}),t(21462);var r=t(76957),a=t(83028),i=(0,r.eU)(!1),o=function(){return(0,a.h)(i)},s=function(){return(0,a.ob)(i)},l=(0,r.eU)(null),u=function(){return(0,a.h)(l)},c=function(){return(0,a.ob)(l)},d=function(){return null!==(0,a.h)(l)};(0,r.eU)(new Set)},7882:(e,n,t)=>{"use strict";t.d(n,{Wu:()=>A,n3:()=>w,qv:()=>S});var r=t(12694),a=t(86105),i=t(34837),o=t(21462),s=t(48686),l=t(97126),u=t(49451),c=t(63591),d=t(39534),f=t(70764),p=t(18712),h=t(40756),m=t(89381),v=t(83096),g=t(91953),b=t(25227),y=t(55929);function w(e){var n=e.mode,t=void 0===n?"sequential":n,r=e.onChange,a=e.disabled;return(0,i.FD)(m.e2,{disabled:void 0!==a&&a,name:"mode",onChange:r,row:!0,value:null!=t?t:"sequential",children:[(0,i.Y)(m.$O,{id:"sequential",text:"Sequential",value:"sequential"}),(0,i.Y)(m.$O,{id:"parallel",text:"Parallel",value:"parallel"})]})}var _=(0,f.x)({root:[p.wp.maxHeight(520),p.wp.overflow("auto"),p.wp.backgroundColor.backgroundDefault,p.wp.borderRadius(0,0,4,4),p.wp.border({color:d.LU.backgroundHigher})],connectors:[p.wp.position.relative,p.wp.zIndex(0)],inputRow:[p.wp.position.relative],switchInputs:[p.wp.position.relative,p.wp.align.center,p.wp.justify.spaceBetween],nameWarning:[{color:d.LU.redDefault}],task:[p.wp.position.relative,p.wp.zIndex(1)],tasks:[p.wp.position.relative],taskItem:[p.wp.position.relative]});function S(e){var n,t=e.workflow,r=e.readOnlyMode,a=e.addTask,o=e.reorderTask,s=e.taskIds,c=e.workflowIndex,d=e.simplified;return(0,i.FD)(b.S,{children:[t.tasks.length>0?(0,i.Y)(l.i,{mode:null!=(n=t.mode)?n:"sequential"}):null,(0,i.Y)(b.S,{css:_.tasks,pl:12,pb:8,gap:8,children:t.tasks.map(function(e,n,a){var f,p,h,m;return(0,i.FD)(b.S,{css:_.taskItem,children:[(0,i.Y)(l.L,{dragAble:!r,css:_.connectors,mode:t.mode,hideBottom:n>=a.length-1}),void 0!==c?(0,i.Y)(u.YZ,{css:_.task,disabled:r,format:null!=(h=null==(f=t.metadata)?void 0:f.generated)&&h,lastTask:1===a.length,onReorder:o,workflowIndex:c,taskIndex:n,simplified:d}):(0,i.Y)(u.S2,{css:_.task,disabled:r,format:null!=(m=null==(p=t.metadata)?void 0:p.generated)&&m,lastTask:1===a.length,onReorder:o,taskIndex:n,initialConfig:t.tasks[n],onChange:function(){},onRemove:function(){},simplified:d})]},s?s[n]:n)})}),r?null:(0,i.Y)(h.$n,{iconLeft:(0,i.Y)(y.A,{}),text:"Add task",onClick:a})]})}function A(e){var n,t=e.index,l=e.readOnly,u=(0,c.wS)(),d=(0,c.j3)(t),f=(0,c.XO)(),p=(0,c.Ss)(),h=(0,c.af)(),m=(0,c.IW)(),y=void 0!==l&&l||(null==d||null==(n=d.metadata)?void 0:n.generated)||(null==d?void 0:d.name)==="Project"&&"agent"===d.author,A=(0,o.useMemo)(function(){return f.filter(function(e){return e===(null==d?void 0:d.name)}).length>1},[d,f]),k=(0,o.useMemo)(function(){var e;return Array.from({length:null!=(e=null==d?void 0:d.tasks.length)?e:0},function(e){return(0,s.Ak)()})},[null==d?void 0:d.tasks.length]);return d?(0,i.FD)(b.S,{css:_.root,p:8,gap:8,children:[(0,i.Y)(g.EY,{variant:"small",color:"dimmest",children:"Workflow"}),A?(0,i.FD)(g.EY,{variant:"small",css:_.nameWarning,children:[d.name," already exists"]}):null,(0,i.Y)(b.S,{pb:4,row:!0,gap:8,align:"center",children:(0,i.Y)(v.pd,{onBlur:u,value:d.name,placeholder:"Name of your workflow",onChange:function(e){p(t,function(n){n.name=e.currentTarget.value})},disabled:y})}),(0,i.Y)(b.S,{css:_.switchInputs,row:!0,gap:4,children:(0,i.FD)(b.S,{children:[(0,i.Y)(g.EY,{variant:"small",color:"dimmest",children:"Mode"}),(0,i.Y)(w,{mode:d.mode,onChange:function(e){p(t,function(n){n.mode=e}),u()},disabled:y})]})}),(0,i.FD)(b.S,{css:_.inputRow,gap:4,children:[(0,i.Y)(g.EY,{variant:"small",color:"dimmest",children:"Tasks"}),(0,i.Y)(S,{workflow:d,readOnlyMode:y,addTask:function(){return m(t)},reorderTask:function(e,n){var i=null==d?void 0:d.tasks;if(i&&e!==n){var o=(0,a._)(i),s=(0,r._)(o.splice(e,1),1)[0];o.splice(n,0,s);var l=(0,r._)(k.splice(e,1),1)[0];k.splice(n,0,l),h({workflowIndex:t},o,{persist:!0}),u()}},taskIds:k,workflowIndex:t})]})]}):(0,i.Y)(g.EY,{children:"Workflow not found"})}},8282:e=>{e.exports={vulnerability:"MaliciousVulnerability_vulnerability__qhYBX",vulnerabilityHeader:"MaliciousVulnerability_vulnerabilityHeader__BqJkL",isExpanded:"MaliciousVulnerability_isExpanded__Gjwkk",maliciousVulnerabilityCode:"MaliciousVulnerability_maliciousVulnerabilityCode__WaU9X",filePath:"MaliciousVulnerability_filePath__TsA7x"}},8466:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M23.377 1.634a.75.75 0 1 0-.955-1.156L.578 18.522a.75.75 0 0 0 .956 1.157L23.377 1.634ZM4 2.25h13.921l-1.816 1.5H4c-.69 0-1.25.56-1.25 1.25v9.783L1.4 15.898A2.746 2.746 0 0 1 1.25 15V5A2.75 2.75 0 0 1 4 2.25Zm16 14H8.04l-1.816 1.5h5.026v2.5H8a.75.75 0 0 0 0 1.5h8a.75.75 0 0 0 0-1.5h-3.25v-2.5H20A2.75 2.75 0 0 0 22.75 15V5c0-.28-.042-.55-.12-.804l-1.38 1.14V15c0 .69-.56 1.25-1.25 1.25Z",clipRule:"evenodd"})}))}},8787:(e,n,t)=>{"use strict";t.d(n,{A:()=>m});var r=t(21462),a=t(17844),i=t(12584),o=t(41114),s=t(90676);function l(){var e=(0,i._)(["\n  subscription WorkspaceUserCanWrite($replId: String!) {\n    currentUserCanWrite(replId: $replId)\n  }\n"]);return l=function(){return e},e}var u={},c=(0,o.J1)(l()),d=t(49555),f=t(96091),p=t(61125),h=t(40115);function m(){var e,n,t=(0,h.A)().fs,i=(e={variables:{replId:(0,p.A)()}},n=(0,a._)({},u,e),s.R(c,n)).data,o=(null==i?void 0:i.currentUserCanWrite)===!1;(0,r.useEffect)(function(){o&&window.location.reload()},[o]);var l=(0,r.useCallback)(function(){return o||t.getStatus()===d.sn.Clean?f.Nn.NavigateAnyway:f.Nn.PromptUser},[t,o]);(0,f.Ay)({shouldPreventNavCb:l})}},10021:(e,n,t)=>{"use strict";t.d(n,{CI:()=>E,RC:()=>x,Ww:()=>D,jn:()=>I,n1:()=>d,s:()=>Y,tH:()=>T});var r,a=t(62019),i=t(37743),o=t(83846),s=t(1833),l=t(45773),u=t(39534),c=u.LU.space2,d="cm-diff-gutter",f="".concat(d,"-element"),p="".concat(f,"-insertion"),h="".concat(f,"-modified"),m="".concat(f,"-deleted"),v="".concat(f,"-file-added"),g="".concat(f,"-empty"),b=u.LU.greenDefault,y=u.LU.greenStronger,w=u.LU.blueDefault,_=u.LU.blueStronger,S=u.LU.redDefault,A=u.LU.redStronger,k=u.LU.greenDimmer,C=u.LU.greenDefault,Y=l.Lz.theme((r={},(0,o._)(r,".".concat(d,":first-of-type, .").concat(f),{width:c}),(0,o._)(r,".".concat(p),{backgroundColor:b,"&.cm-activeLineGutter":{backgroundColor:y}}),(0,o._)(r,".".concat(h),{backgroundColor:w,"&.cm-activeLineGutter":{backgroundColor:_}}),(0,o._)(r,".".concat(m),{backgroundColor:S,"&.cm-activeLineGutter":{backgroundColor:A}}),(0,o._)(r,".".concat(v),{backgroundColor:k,"&.cm-activeLineGutter":{backgroundColor:C}}),(0,o._)(r,".".concat(g),{opacity:0}),r)),E=new(function(e){function n(){var e;return(0,i._)(this,n),e=(0,a._)(this,n,arguments),e.elementClass="".concat(f," ").concat(p),e}return(0,s._)(n,e),n}(l.wJ)),x=new(function(e){function n(){var e;return(0,i._)(this,n),e=(0,a._)(this,n,arguments),e.elementClass="".concat(f," ").concat(m),e}return(0,s._)(n,e),n}(l.wJ)),T=new(function(e){function n(){var e;return(0,i._)(this,n),e=(0,a._)(this,n,arguments),e.elementClass="".concat(f," ").concat(h),e}return(0,s._)(n,e),n}(l.wJ)),D=new(function(e){function n(){var e;return(0,i._)(this,n),e=(0,a._)(this,n,arguments),e.elementClass="".concat(f," ").concat(v),e}return(0,s._)(n,e),n}(l.wJ)),I=new(function(e){function n(){var e;return(0,i._)(this,n),e=(0,a._)(this,n,arguments),e.elementClass="".concat(f," ").concat(g),e}return(0,s._)(n,e),n}(l.wJ))},10044:(e,n,t)=>{"use strict";t.d(n,{o:()=>h});var r=t(17844),a=t(12584),i=t(41114),o=t(90676);function s(){var e=(0,a._)(["\n  subscription RegisterReplConnection($replId: String!) {\n    replConnection(replId: $replId)\n  }\n"]);return s=function(){return e},e}var l={},u=(0,i.J1)(s()),c=t(61125),d=t(71696),f=t(42008),p=t(40115);function h(){var e,n,t=(0,c.A)(),a=(0,p.A)().container;e={variables:{replId:t},skip:(0,f.A)(a)!==d.KN.CONNECTED},n=(0,r._)({},l,e),o.R(u,n)}},10647:(e,n,t)=>{"use strict";t.d(n,{n:()=>y,U:()=>w});var r=t(29935),a=t(12694),i=t(82643),o=t(21462),s=t(90629),l=t(20907),u=t(39938),c=t(61125),d=t(34778),f=t(27172),p=t(93144),h=t(72951),m=t(40115),v=t(57221),g=t(85689),b=t(42845),y=function(e){return e.Connecting="Connecting",e.Connected="Connected",e.Disconnected="Disconnected",e.Errored="Errored",e}({});function w(e){var n,y,w,_,S,A=e.vncOptions,k=e.password,C=e.setPassword,Y=e.handlePromptForPassword,E=(0,o.useRef)(null),x=(0,a._)((0,o.useState)("Disconnected"),2),T=x[0],D=x[1],I=(0,a._)((0,o.useState)(null),2),R=I[0],N=I[1],O=(0,o.useRef)(null),P=(0,o.useRef)(null),F=(0,o.useRef)(0),U=(0,u.A)(A),L=(0,m.A)().secrets,M=(0,c.A)(),J=(n=(0,m.A)().container,w=(y=(0,a._)((0,o.useState)(null),2))[0],_=y[1],S=(0,g.A)(n).url,(0,o.useEffect)(function(){if(!w){if(n.getConnectionState()===v.KN.CONNECTED){if(!S)return;_((0,b.jq)(S.replace("http","ws"),v.wF).toString());return}return n.onConnectionStateChanged(function(e){e===v.KN.CONNECTED&&S&&_((0,b.jq)(S.replace("http","ws"),v.wF).toString())})}},[S,w,n]),w),H=(0,u.A)(Y),B=(0,u.A)(C);(0,o.useEffect)(function(){(0,l.jc)(function(){return t.e(5333).then(t.bind(t,25333)).then(function(e){return e.default})}).then(function(e){N(function(){return e})})},[]);var V=(0,o.useCallback)(function(){if(F.current=0,D("Connected"),R&&O.current){var e,n=O.current;R.messages.pointerEvent(n._sock,n._display.absX(0),n._display.absY(0),0),(null==(e=U.current)?void 0:e.desktopSize)&&R.messages.setDesktopSize(n._sock,U.current.desktopSize.width,U.current.desktopSize.height,n._screenID,n._screenFlags)}},[R,U]),$=(0,o.useCallback)(function(e){if(O.current=null,!e.detail.clean){var n;s.v4(function(n){n.setTag("vnc",!0),n.setExtras({vncUrl:J,replId:M,clean:e.detail.clean}),s.Cp(Error("VNC connection failed"))}),(null==(n=U.current)?void 0:n.reconnectOnError)&&(F.current=1),D("Errored");return}D("Disconnected")},[J,M,U]),G=(0,o.useCallback)(function(){(0,r._)(function(){var e;return(0,i.YH)(this,function(n){switch(n.label){case 0:return[4,L.read()];case 1:if(!(e=n.sent().get("VNC_PASSWORD")))return H.current(),[2];return B.current(e),[2]}})})().catch(function(e){return s.Cp(e)})},[L,B,H]),z=(0,o.useCallback)(function(){var e;null==(e=P.current)||e.abort(),P.current=null,O.current&&(O.current.removeEventListener("connect",V),O.current.removeEventListener("disconnect",$),O.current.removeEventListener("securityfailure",G),O.current.disconnect(),O.current=null)},[V,$,G]),W=(0,o.useCallback)(function(){return(0,r._)(function(){var e,n,t,r,a,o,s,l,u;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(!R||!E.current||!J)return[2];return z(),D("Connecting"),F.current++,P.current=new AbortController,r=P.current.signal,o={replId:M,isLoggedIn:!0},[4,(0,f.E)()];case 1:return o.requestedPid2Version=i.sent(),[4,(0,h.A)()];case 2:return[4,p.A.apply(void 0,[(o.overrideClusterMetadata=i.sent(),o)])];case 3:if(a=i.sent(),r.aborted)return[2];return l={credentials:{username:null!=(s=null==a?void 0:a.token)?s:"",password:null!=k?k:"",target:""}},(0,d.u4)(d.AZ.VNC_CONNECTED),O.current=u=new R(E.current,J,l),u.background="black",(null==(e=U.current)?void 0:e.scaleViewport)!==void 0&&(u.scaleViewport=U.current.scaleViewport),(null==(n=U.current)?void 0:n.resizeSession)!==void 0&&(u.resizeSession=U.current.resizeSession),(null==(t=U.current)?void 0:t.viewOnly)!==void 0&&(u.viewOnly=U.current.viewOnly),u.addEventListener("connect",V),u.addEventListener("disconnect",$),u.addEventListener("securityfailure",G),[2]}})})()},[M,R,z,U,k,J,V,$,G]);return(0,o.useEffect)(function(){O.current&&((null==A?void 0:A.scaleViewport)!==void 0&&(O.current.scaleViewport=A.scaleViewport),(null==A?void 0:A.resizeSession)!==void 0&&(O.current.resizeSession=A.resizeSession),(null==A?void 0:A.viewOnly)!==void 0&&(O.current.viewOnly=A.viewOnly))},[A]),(0,o.useEffect)(function(){R&&W()},[R,W]),(0,o.useEffect)(function(){R&&void 0!==k&&W()},[R,k,W]),(0,o.useEffect)(function(){if("Disconnected"===T||"Errored"===T&&(null==A?void 0:A.reconnectOnError)){var e=setTimeout(W,100*Math.pow(2,F.current));return function(){clearTimeout(e)}}},[T,W,null==A?void 0:A.reconnectOnError]),(0,o.useEffect)(function(){return function(){z()}},[z]),{status:T,vncUrl:J,vncEl:E,connect:W,disconnect:z}}},10681:(e,n,t)=>{"use strict";t.d(n,{A:()=>Y});var r=t(34837),a=t(72096),i=t.n(a),o=t(40185),s=t(17844),l=t(12584),u=t(41114),c=t(54744);function d(){var e=(0,l._)(["\n  query NotAllowedModal {\n    currentUser {\n      id\n      isStaff: hasRole(role: REPLIT_STAFF)\n    }\n  }\n"]);return d=function(){return e},e}var f={},p=(0,u.J1)(d()),h=t(67862),m=t(61125),v=t(39534),g=t(70764),b=t(18712),y=t(40756),w=t(70251),_=t(91953),S=t(90233),A=t(25227),k=t(63731),C=(0,g.x)({staffHelpers:[b.wp.border({color:v.LU.accentNegativeDefault,width:1,style:"solid"}),b.wp.overflow("hidden")]});let Y=function(e){var n,t,a,l=e.isOpen,u=(0,o.useRouter)(),d=(n={skip:!l},t=(0,s._)({},f,n),c.I(p,t)).data,v=(0,m.A)(),g=null==d||null==(a=d.currentUser)?void 0:a.isStaff;return(0,r.Y)(w.a,{preventClose:!0,isOpen:l,centered:!0,onRequestClose:function(){},maxWidth:600,children:(0,r.FD)(A.S,{gap:32,children:[(0,r.Y)(A.S,{row:!0,gap:16,align:"center",children:(0,r.Y)(_.Y9,{css:{width:"fit-content"},level:2,variant:"headerDefault",children:"You can’t run this Repl right now."})}),(0,r.FD)(A.S,{gap:16,children:[(0,r.FD)(_.EY,{children:["It may be temporarily unavailable or it may have violated our"," ",(0,r.Y)(i(),{href:h.aC.TERMS_OF_SERVICE,children:"Terms of Service"}),"."]}),(0,r.Y)(_.EY,{children:"If you are the owner of this Repl and believe you should be able to run it, you can try again later or contact support."}),g?(0,r.FD)(A.S,{css:C.staffHelpers,gap:8,children:[(0,r.FD)(A.S,{row:!0,gap:8,children:[(0,r.Y)(S.m_,{tooltip:"You are seeing this functionality because you have special permissions.",children:(0,r.Y)(k.A,{})}),(0,r.Y)(_.Y9,{level:3,children:"Debug Info"})]}),(0,r.Y)(A.S,{children:(0,r.FD)(_.EY,{children:["Repl ID ",v," is not allowed to run. This is most likely due to a policy takedown."]})}),(0,r.Y)(A.S,{children:(0,r.FD)(_.EY,{multiline:!1,children:[(0,r.Y)(i(),{href:"https://us5.datadoghq.com/logs?query=%40replid%3A".concat(v),children:"All datadog logs"})," ","•"," ",(0,r.Y)(i(),{href:"https://us5.datadoghq.com/logs?query=%40replid%3A".concat(v,"+taking+down"),children:"Takedown-specific logs"})]})})]}):null]}),(0,r.FD)(A.S,{row:!0,gap:16,justify:"end",children:[(0,r.Y)(y.$n,{text:"Reload",onClick:function(){window.location.reload()}}),(0,r.Y)(y.$n,{text:"Leave",onClick:function(){u.push("/home","~/")}})]})]})})}},10788:(e,n,t)=>{"use strict";function r(e){var n=e.length;if(0===n)return!1;var t=0,r=Math.min(n,512);if(n>=3&&239===e[0]&&187===e[1]&&191===e[2]||n>=4&&0===e[0]&&0===e[1]&&254===e[2]&&255===e[3]||n>=4&&255===e[0]&&254===e[1]&&0===e[2]&&0===e[3]||n>=4&&132===e[0]&&49===e[1]&&149===e[2]&&51===e[3])return!1;if(r>=5&&"%PDF-"===e.slice(0,5).toString())return!0;if(n>=2&&254===e[0]&&255===e[1]||n>=2&&255===e[0]&&254===e[1])return!1;for(var a=0;a<r;a++)if(0===e[a])return!0;else if((e[a]<7||e[a]>14)&&(e[a]<32||e[a]>127)){if(e[a]>193&&e[a]<224&&a+1<r){if(e[++a]>127&&e[a]<192)continue}else if(e[a]>223&&e[a]<240&&a+2<r&&e[++a]>127&&e[a]<192&&e[a+1]>127&&e[a+1]<192){a++;continue}if(t++,a>=32&&100*t/r>10)return!0}return 100*t/r>10}t.d(n,{A:()=>r})},10821:(e,n,t)=>{"use strict";t.d(n,{Y:()=>d});var r=t(17844),a=t(93629),i=t(17459),o=t(34837),s=t(21462),l=t(53558),u=t(70764),c=t(18712),d=(0,s.forwardRef)(function(e,n){var t=e.children,s=(0,i._)(e,["children"]);return(0,o.Y)(l.Y,(0,a._)((0,r._)({},s),{ref:n,css:f.group,children:t}))}),f=(0,u.x)({group:[c.wp.display.flex,c.wp.flex.row,c.wp.gap(1),c.wp.align.stretch,{"> :not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"> :not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}}]})},10922:(e,n,t)=>{"use strict";t.d(n,{O:()=>d});var r=t(12694),a=t(34837),i=t(21462),o=t(40756),s=t(75054),l=t(83096),u=t(91953),c=t(25227);function d(e){var n=e.showHeading,t=e.onSubmit,d=(0,r._)((0,i.useState)(""),2),f=d[0],p=d[1];return(0,a.Y)(s.lV,{onSubmit:function(e){e.preventDefault(),t(f)},children:(0,a.FD)(c.S,{gap:8,children:[void 0===n||n?(0,a.FD)(c.S,{gap:2,children:[(0,a.Y)(u.Y9,{variant:"subheadDefault",level:1,children:"Feedback"}),(0,a.Y)(u.EY,{color:"dimmer",children:"All feedback is reviewed by the Replit team."})]}):null,(0,a.FD)(c.S,{gap:8,style:{minHeight:120},children:[(0,a.Y)(l.ov,{placeholder:"Please share bugs, feature requests, and anything else related to your experience...",autoSize:!0,value:f,onChange:function(e){return p(e.currentTarget.value)},autoFocus:!0}),(0,a.Y)(o.$n,{colorway:"primary",text:"Send feedback",type:"submit"})]})]})})}},11082:(e,n,t)=>{"use strict";t.d(n,{oR:()=>y,HG:()=>w,s_:()=>_,Ju:()=>S});var r=t(12694),a=t(21462),i=t(17844),o=t(12584),s=t(41114),l=t(54744),u=t(39590);function c(){var e=(0,o._)(["\n  query ReplConfigIsExtension($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        config {\n          isExtension\n        }\n      }\n    }\n  }\n"]);return c=function(){return e},e}function d(){var e=(0,o._)(["\n  mutation UpdateReplConfigIsExtension(\n    $replId: String!\n    $isExtension: Boolean!\n  ) {\n    updateRepl(input: { id: $replId, isExtension: $isExtension }) {\n      repl {\n        id\n        config {\n          isExtension\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}var f={},p=(0,s.J1)(c());function h(e){var n=(0,i._)({},f,e);return l.I(p,n)}var m=(0,s.J1)(d()),v=t(22585),g=t(61125),b=t(40115);function y(){var e=h({variables:{replId:(0,g.A)()},fetchPolicy:"cache-only"}).data,n=(0,r._)((0,a.useState)(function(){var n,t;return(null==e||null==(n=e.getRepl)?void 0:n.__typename)==="Repl"&&null!=(t=e.getRepl.config.isExtension)&&t}),2),t=n[0],i=n[1],o=(0,b.A)().dotReplit;return(0,a.useEffect)(function(){return o.watch(function(e){var n,t,r;i(null!=(r=null==(t=e.config)||null==(n=t.extension)?void 0:n.isExtension)&&r)})},[o]),t}function w(){var e=(0,r._)((0,a.useState)(null),2),n=e[0],t=e[1],i=(0,b.A)().dotReplit;return(0,a.useEffect)(function(){return i.watch(function(e){var n,r,a=null==(r=e.config)||null==(n=r.extension)?void 0:n.extensionID;a?t((0,v.PM)(a)):t(null)})},[i]),n}var _=function(){var e=(0,b.A)().dotReplit,n=(0,r._)((0,a.useState)(null),2),t=n[0],i=n[1];return(0,a.useEffect)(function(){return e.watch(function(e){var n,t,r=null==(t=e.config)||null==(n=t.extension)?void 0:n.staticDirectory;r?i({path:r,relativePath:r.replace(/^\.\//,"")}):i(null)})},[e]),t};function S(){var e,n,t,o=(0,g.A)(),s=h({variables:{replId:o}}),l=s.data,c=s.loading,d=s.error,p=(0,r._)((e=(0,i._)({},f,void 0),u.n(m,e)),1)[0],v=!c&&!d&&!!(null==l?void 0:l.getRepl)&&"Repl"===l.getRepl.__typename&&null!=(t=null==(n=l.getRepl.config)?void 0:n.isExtension)&&t,y=(0,r._)((0,a.useState)(!1),2),w=y[0],_=y[1],S=(0,b.A)().dotReplit;(0,a.useEffect)(function(){return S.watch(function(e){var n,t,r;_(null!=(r=null==(t=e.config)||null==(n=t.extension)?void 0:n.isExtension)&&r)})},[S]),(0,a.useEffect)(function(){c||d||w!==v&&p({variables:{replId:o,isExtension:w},optimisticResponse:{__typename:"RootMutationType",updateRepl:{__typename:"UpdateReplPayload",repl:{id:o,__typename:"Repl",config:{__typename:"ReplConfig",isExtension:w}}}}})},[c,d,o,v,w,p])}},11148:(e,n,t)=>{"use strict";t.d(n,{v:()=>l});var r=t(17844),a=t(21462),i=t(61125),o=t(43120),s=t(81920);function l(){var e=(0,i.A)(),n=(0,o.A)("fileTree").trackTimeToLoadFileStart;return(0,a.useCallback)(function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(t);var i={action:"select",source:"filetree"};a.newTab?i={action:"newTab",source:"filetree"}:a.newPane&&(i={action:"newPane",source:"filetree"}),(0,s.A)((0,r._)({replId:e},i))},[e,n])}},11218:(e,n,t)=>{"use strict";t.d(n,{h:()=>S});var r=t(34837),a=t(17844),i=t(12584),o=t(41114),s=t(54744),l=t(49696);function u(){var e=(0,i._)(["\n  query WorkspaceUsageBudget($replId: String!) {\n    getRepl(id: $replId) {\n      __typename\n      ... on Repl {\n        id\n        org {\n          ... on Org {\n            id\n            authorizations {\n              editUsageLimit {\n                isAuthorized\n                message\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}function c(){var e=(0,i._)(["\n  query WorkspaceUsageBasedBillingAlerts($orgId: String) {\n    currentUser {\n      id\n      usageBasedBillingAlerts {\n        ...EditUsageBasedBillingAlertsFormInitialConfig\n      }\n      org(orgId: $orgId) {\n        ... on Org {\n          id\n          name\n          usageBasedBillingAlerts {\n            ...EditUsageBasedBillingAlertsFormInitialConfig\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return c=function(){return e},e}var d={},f=(0,o.J1)(u()),p=(0,o.J1)(c(),l.B9),h=t(882),m=t(88181),v=t(70764),g=t(18712),b=t(9844),y=t(25227),w=t(69685),_=(0,v.x)({budgetContainer:[g.wp.colWithGap(8),g.wp.border(),g.wp.borderRadius(8),g.wp.p(8)],budgetContainerBorderless:[g.wp.colWithGap(8),g.wp.p(8)],bannerText:[g.wp.textAlign.left]});function S(e){var n,t,i,o,l,u,c,v,g,S,A=e.replId,k=e.onUpdateSuccess,C=e.style,Y=(n={variables:{replId:A}},t=(0,a._)({},d,n),s.I(f,t)),E=Y.data,x=Y.loading,T=Y.error,D=(0,h.R)(A).orgId,I=(i={variables:{orgId:D}},o=(0,a._)({},d,i),s.I(p,o)),R=I.data,N=I.loading,O=I.error;if(!E||!R||x||N)return null;if(D?(u=(null==(c=R.currentUser)?void 0:c.org.__typename)==="Org"?null==(v=R.currentUser)?void 0:v.org:void 0,l=(null==(g=R.currentUser)?void 0:g.org.__typename)==="Org"&&"UsageBasedBillingAlertsConfig"===R.currentUser.org.usageBasedBillingAlerts.__typename?R.currentUser.org.usageBasedBillingAlerts:void 0):l=(null==(S=R.currentUser)?void 0:S.usageBasedBillingAlerts.__typename)==="UsageBasedBillingAlertsConfig"?R.currentUser.usageBasedBillingAlerts:void 0,T)return(0,r.Y)(b.N,{css:_.bannerText,colorway:"red",text:T.message,icon:(0,r.Y)(w.A,{})});if(O)return(0,r.Y)(b.N,{css:_.bannerText,colorway:"red",text:O.message,icon:(0,r.Y)(w.A,{})});var P="Repl"===E.getRepl.__typename&&E.getRepl.org?E.getRepl.org:void 0,F=(null==P?void 0:P.authorizations.editUsageLimit.isAuthorized)===!1?P.authorizations.editUsageLimit.message:void 0;return F?(0,r.Y)(b.N,{css:_.bannerText,colorway:"red",text:"".concat(F," Reach out to an org admin to update your usage budget."),icon:(0,r.Y)(w.A,{})}):(0,r.Y)(y.S,{css:"outlined"===(void 0===C?"outlined":C)?_.budgetContainer:_.budgetContainerBorderless,children:(0,r.Y)(m.j,{org:u,initialSettings:l,onDone:function(){return k}})})}},11257:(e,n,t)=>{"use strict";t.d(n,{E:()=>a});var r=t(86103);function a(){return(0,r._P)({controlName:"flag-enraged-tremendous-squares"})}},11915:e=>{e.exports={stage:"PrepareDatabaseStage_stage__3c8o8",stageHeader:"PrepareDatabaseStage_stageHeader__jAPQt",isExpanded:"PrepareDatabaseStage_isExpanded__pk7AO"}},11960:(e,n,t)=>{"use strict";t.d(n,{F4:()=>a,l0:()=>l});var r=t(86105);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=[],a=function(e){return e.forEach(function(e){return e&&t.push("-g",e)})},s=[],u=[],c=!0,d=!1,f=void 0;try{for(var p,h=e[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=p.value,v=o(m);v.startsWith("**")?s.push(v):u.push(v)}}catch(e){d=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(d)throw f}}return u.length>0&&(a(["!*"]),new Set(u).forEach(function(e){a((function(e){var n=function(e){Array.isArray(a[e])||(a[e]=[]);var n,i=t[e],o=i.startsWith("{")&&i.endsWith("}")?l(i.substring(1,i.length-1),","):[i];(n=a[e]).push.apply(n,(0,r._)(o.map(function(n){var t=a[e-1];return t&&t.length>0?t.map(function(e){return"".concat(e,"/").concat(n)}):n}).flat(2)))},t=l(e,"/").filter(function(e){return e.length>0});"**"!==t[t.length-1]&&t.push("**");for(var a={},i=0;i<t.length;i++)n(i);return Object.values(a).flat(2)})(e).map(i))})),a(s),a(n.map(function(e){return"!".concat(i(o(e)))})),t}function i(e){return e.startsWith("**")||e.startsWith("/")?e:"/".concat(e)}function o(e){return e.replaceAll(/\*/g,function(e,n,t){return n>0&&("*"===t[n-1]||"\\"===t[n-1])||n<t.length-1&&"*"===t[n+1]?e:"**"})}var s=function(){var e={},n={},t=function(t,r){e[t]=r,n[r]=t};return t("{","}"),t("(",")"),t("[","]"),{hasKey:function(n){return n in e},getKey:function(n){return e[n]},hasValue:function(e){return e in n},getValue:function(e){return n[e]}}}();function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";if(0===e.length)return[];var t=[],r=[],a="",i=!0,o=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var d=u.value;if(d===n){if(0===r.length){t.push(a),a="";continue}}else if(s.hasKey(d))r.push(d);else if(s.hasValue(d)&&r.pop()!==s.getValue(d))return[e];a+=d}}catch(e){o=!0,l=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return 0!==r.length?[e]:(a.length>0&&t.push(a),t)}},12216:e=>{e.exports={statusBanner:"DnsChecker_statusBanner__gexZN",statusText:"DnsChecker_statusText__zjpcg",dnsTable:"DnsChecker_dnsTable__qklkh",strikeThrough:"DnsChecker_strikeThrough__1qnIo"}},12252:(e,n,t)=>{"use strict";t.d(n,{O:()=>C,W:()=>Y});var r=t(29935),a=t(12694),i=t(82643),o=t(34837),s=t(21462),l=t(9965),u=t(17844),c=t(12584),d=t(41114),f=t(57933);function p(){var e=(0,c._)(["\n  query AiSessionDebugInfoCurrentUser {\n    currentUser {\n      id\n      username\n    }\n  }\n"]);return p=function(){return e},e}var h={},m=(0,d.J1)(p()),v=t(80719),g=t(35897),b=t(61125),y=t(36772);function w(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var _=t(39534),S=t(73455),A=t(99933),k=t(24857);function C(e){var n=e.sessionId,t=e.sessionType,a=(0,b.A)(),s=(0,g.A)().showConfirm,u=Y();return(0,o.Y)(A.in,{trigger:(0,o.Y)(S.K0,{alt:"[Staff] Debug tools",children:(0,o.Y)(k.A,{color:_.LU.foregroundDimmer})}),children:(0,o.FD)(l.H9,{children:[(0,o.Y)(A.j,{text:"[Staff] Debug tools"}),(0,o.Y)(A.Dr,{label:"Copy debug info",onAction:function(){return(0,r._)(function(){var e,r,a;return(0,i.YH)(this,function(i){switch(i.label){case 0:return[4,u(n,t)];case 1:return r=(e=i.sent()).html,a=e.plainText,(0,y.A)(r,a),s("Copied debug info to clipboard"),[2]}})})()}}),(0,o.Y)(A.Dr,{href:(0,v.nv)(n),label:"Go to TraceForge",target:"_blank"}),(0,o.Y)(A.Dr,{href:(0,v.Yd)(n,t),label:"Go to LangSmith",target:"_blank"}),(0,o.Y)(A.Dr,{href:(0,v.r)(n),label:"Go to Braintrust",target:"_blank"}),(0,o.Y)(A.Dr,{href:(0,v.Ds)(n),label:"Go to Temporal",target:"_blank"}),(0,o.Y)(A.Dr,{href:"https://us5.datadoghq.com/logs?query=%40replid%3A".concat(a),label:"Go to Datadog logs",target:"_blank"}),(0,o.Y)(A.Dr,{href:(0,v.fn)(a),label:"Go to Datadog traces",target:"_blank"})]})})}function Y(){var e,n=(0,b.A)(),t=(0,a._)((e=(0,u._)({},h,void 0),f._(m,e)),1)[0];return(0,s.useCallback)(function(e,a){return(0,r._)(function(){var r,o,s,l,u,c,d,f,p,h,m,g,b;return(0,i.YH)(this,function(i){switch(i.label){case 0:return[4,t()];case 1:if(l=null==(s=null==(o=i.sent())||null==(r=o.data)?void 0:r.currentUser)?void 0:s.id.toString(),u=null==s?void 0:s.username,!e||!s)return[2,{html:"",plainText:""}];return c=(0,v.r)(e),d=(0,v.Yd)(e,a),f=(0,v.nv)(e),p=(0,v.Ds)(e),h=(0,v.xH)(n),b="\n• User ID: ".concat(null!=(m=null==s?void 0:s.id)?m:"N/A","\n• Username: ").concat(null!=(g=null==s?void 0:s.username)?g:"N/A","\n• Repl ID: ").concat(null!=n?n:"N/A","\n• Session ID: ").concat(null!=e?e:"N/A","\n• TraceForge URL: ").concat(f,"\n• Braintrust URL: ").concat(null!=c?c:"N/A","\n• LangSmith URL: ").concat(null!=d?d:"N/A","\n• Temporal URL: ").concat(null!=p?p:"N/A","\n• Datadog URL: ").concat(null!=h?h:"N/A","\n    ").trim(),[2,{html:"\n<ul>\n  <li>User ID: ".concat(l?w(l):"N/A","</li>\n  <li>Username: ").concat(u?w(u):"N/A","</li>\n  <li>Repl ID: ").concat(n?w(n):"N/A","</li>\n  <li>Session ID: ").concat(e?w(e):"N/A",'</li>\n  <li><a href="').concat(f,'" target="_blank">TraceForge</a></li>\n  <li>').concat(c?'<a href="'.concat(c,'" target="_blank">Braintrust</a>'):"Braintrust: N/A","</li>\n  <li>").concat(d?'<a href="'.concat(d,'" target="_blank">LangSmith</a>'):"LangSmith: N/A","</li>\n  <li>").concat(p?'<a href="'.concat(p,'" target="_blank">Temporal</a>'):"Temporal: N/A",'</li>\n  <li><a href="').concat(h,'" target="_blank">Datadog</a></li>\n</ul>\n    ').trim(),plainText:b}]}})})()},[t,n])}},12267:(e,n,t)=>{"use strict";t.d(n,{A:()=>l});var r=t(21462),a=t(12694),i=t(2649),o=t(40115),s=t(95793);function l(e){var n,t,l,u,c,d=(n=(0,o.A)().container,l=(t=(0,a._)((0,r.useState)(null),2))[0],u=t[1],(0,r.useEffect)(function(){if(n)return n.onConnectionStateChanged(function(){u(n.getConnectionMetadata())})},[n]),c=l,(0,r.useMemo)(function(){return c?(0,i.p)(c.token):null},[c]));(0,r.useEffect)(function(){if(e){var n,t,r,a=(null==(n=e.origin)?void 0:n.__typename)==="Repl"?e.origin.id:null,i={id:e.id,slug:e.slug,originId:a,rootOriginReplUrl:e.rootOriginReplUrl,rootOriginReplReleaseId:null==(r=e.source)||null==(t=r.release)?void 0:t.id,tokenCluster:null==d?void 0:d.cluster};return(0,s.aq)(i),function(){(0,s.ve)()}}},[e,d])}},12403:(e,n,t)=>{"use strict";t.d(n,{I:()=>i});var r=t(48373),a=t(40115);function i(){var e=(0,a.A)().toolchain;return(0,r.A)(e.configs)}},12493:(e,n,t)=>{"use strict";t.d(n,{Ai:()=>f,Ot:()=>h,PY:()=>l,UK:()=>p,ob:()=>d,uB:()=>u});var r=t(12694),a=t(21462),i=t(76957),o=t(79203),s=t(26325);function l(){return(0,r._)((0,a.useState)(function(){return(0,i.y$)()}),1)[0]}var u=(0,a.createContext)(null);function c(){var e=(0,a.useContext)(u);if(!e)throw Error("Expected store in context");return e}var d=function(e){return(0,o.Xr)(e,{store:c()})},f=(0,i.eU)(null);function p(){return(0,o.md)(f,{store:c()})}function h(){return(0,s.yF)((0,a.useCallback)(function(e){return e(f)},[f]),{store:c()})}},12778:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.FD)(o.Ay,(0,a._)((0,r._)({},e),{children:[(0,i.Y)("path",{d:"M10.47 9.97a.75.75 0 0 1 1.06 0l3.5 3.5a.75.75 0 1 1-1.06 1.06l-2.22-2.22v5.19a.75.75 0 0 1-1.5 0v-5.19l-2.22 2.22a.75.75 0 0 1-1.06-1.06l3.5-3.5Z"}),(0,i.Y)("path",{fillRule:"evenodd",d:"M1.055 3.055A2.75 2.75 0 0 1 3 2.25h5a.75.75 0 0 1 .624.334l1.777 2.666H19A2.75 2.75 0 0 1 21.75 8v11A2.75 2.75 0 0 1 19 21.75H3A2.75 2.75 0 0 1 .25 19V5c0-.73.29-1.429.805-1.945ZM3 3.75A1.25 1.25 0 0 0 1.75 5v14A1.25 1.25 0 0 0 3 20.25h16A1.25 1.25 0 0 0 20.25 19V8A1.25 1.25 0 0 0 19 6.75h-9a.75.75 0 0 1-.624-.334L7.599 3.75H3Z",clipRule:"evenodd"})]}))}},12856:(e,n,t)=>{"use strict";t.d(n,{bZ:()=>m,tP:()=>w,v$:()=>S});var r=t(83846),a=t(34837),i=t(49069),o=t(45773),s=t(68488),l=t(85692),u=t(74309),c=t(39534),d=t(70764),f=t(18712),p=t(91953),h=i.sj.define({combine:function(e){var n;return null!=(n=e[0])?n:0}}),m=new u.k(function(e){return h.of(e)}),v={marker:"cm-empty-state-dom"},g=o.Lz.theme((0,r._)({},".".concat(v.marker),{backgroundColor:c.LU.redDefault,opacity:"0.2"})),b=i.sU.define({create:function(e){return e.doc.length},update:function(e,n){return n.state.doc.length}}),y=function(e){return Math.max(e.doc.length-e.facet(h),0)},w=i.sU.define({create:y,update:function(e,n){return(0,s.$H)(n,"doc",h)?y(n.state):e},provide:function(e){return[b,g,(0,o.qd)({above:!1,update:function(n){return(0,s.$H)(n,e)},markers:function(n){var t=n.state.field(e);if(0===t)return[];var r=n.state.doc.length;return o.Ip.forRange(n,v.marker,i.OF.range(r-t,r))}})]}}),_=(0,d.x)({charLimit:[f.wp.color.redDefault]});function S(e){var n=e.view,t=(0,l.Vn)(n,w);return t?(0,a.Y)(p.EY,{variant:"small",css:_.charLimit,children:t}):null}},13040:(e,n,t)=>{"use strict";t.d(n,{S:()=>o});var r=t(21462),a=t(86035),i=t(66186);function o(){var e=(0,i.C9)().agentState;return(0,r.useMemo)(function(){return e?e.select(function(e){switch(null==e?void 0:e.state){case a.g32.AGENT_STATE_RUNNING:case a.g32.AGENT_STATE_PAUSING:return!0;default:return!1}}):null},[e])}},13258:e=>{e.exports={editorContainer:"TargetedElementEditor_editorContainer__T_zFw",bordered:"TargetedElementEditor_bordered__xJv3C",editor:"TargetedElementEditor_editor__BJYmJ",formRow:"TargetedElementEditor_formRow__XnXKf",formField:"TargetedElementEditor_formField__jyHS4",sectionTitle:"TargetedElementEditor_sectionTitle__eQHf5",placeholderContainer:"TargetedElementEditor_placeholderContainer__Ijp3W",placeholder:"TargetedElementEditor_placeholder__3VYBi"}},13357:(e,n,t)=>{"use strict";t.d(n,{o:()=>o});var r=t(37743),a=t(82643),i=t(62511),o=function(){function e(n,t,a,i){(0,r._)(this,e),this.a=n,this.b=t,this.chunks=a,this.map=i}var n=e.prototype;return n.line=function(e,n){return n===i.mn.A?this.a.line(e):this.b.line(e)},n.bounds=function(e){if(0===this.chunks.length)return null;var n=(0,i.Dk)(this.chunks[0],e),t=(0,i.Dk)(this.chunks[this.chunks.length-1],e),r=e===i.mn.A?this.a.length:this.b.length,a=Math.min(t.to,r);return{from:n.from,to:a}},n.hasChanges=function(){return this.chunks.length>0},n.updateA=function(n,t,r){var a=this.b,o=(0,i.Pt)(n,a,{chunks:this.chunks,changesA:t},r),s=(0,i.k1)(n,a,o);return new e(n,a,o,s)},n.updateB=function(n,t,r){var a=this.a,o=(0,i.Pt)(a,n,{chunks:this.chunks,changesB:t},r),s=(0,i.k1)(a,n,o);return new e(a,n,o,s)},n.getContainingChunk=function(e,n){for(var t=0,r=this.chunks.length-1;t<=r;){var a=t+r>>>1,o=this.chunks[a],s=(0,i.Dk)(o,n);if(e>=s.from&&e<=s.to)return o;e<s.from?r=a-1:e>s.to&&(t=a+1)}return null},n.getCorrespondingLine=function(e,n){var t=this.map.get(n===i.mn.A?-e:e);return t?this.line(t,(0,i.Nl)(n)):null},n.getLineChangeType=function(e,n){if(this.map.get(n===i.mn.A?-e:e))return i.DE.UNCHANGED;var t=this.line(e,n),r=this.getContainingChunk(t.from,n);return r?(0,i.$F)(this.a,this.b,t,n,r.changes,r):i.DE.UNCHANGED},n.getLineStats=function(){for(var e={added:0,removed:0},n=1;n<=this.a.lines;n++)this.getLineChangeType(n,i.mn.A)!==i.DE.UNCHANGED&&e.removed++;for(var t=1;t<=this.b.lines;t++)this.getLineChangeType(t,i.mn.B)!==i.DE.UNCHANGED&&e.added++;return e},n.iterLines=function(e){var n,t,r,o;return(0,a.YH)(this,function(a){switch(a.label){case 0:n=e===i.mn.A?this.a:this.b,t=1,a.label=1;case 1:if(!(t<=n.lines))return[3,4];return r=n.line(t),o=this.getCorrespondingLine(r.number,e),[4,{line:r,correspondingLine:o}];case 2:a.sent(),a.label=3;case 3:return t++,[3,1];case 4:return[2]}})},n.iterRanges=function(){var e,n,t,r,i;return(0,a.YH)(this,function(a){switch(a.label){case 0:e=0,a.label=1;case 1:if(!(e<this.chunks.length))return[3,6];n=this.chunks[e].fromA,t=this.chunks[e].fromB,r=0,a.label=2;case 2:if(!(r<this.chunks[e].changes.length))return[3,5];return i=this.chunks[e].changes[r],[4,{fromA:n+i.fromA,toA:n+i.toA,fromB:t+i.fromB,toB:t+i.toB}];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return e++,[3,1];case 6:return[2]}})},e.create=function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.r6,a=(0,i.Pt)(n,t,void 0,r),o=(0,i.k1)(n,t,a);return new e(n,t,a,o)},e}()},13421:(e,n,t)=>{"use strict";t.d(n,{c:()=>function e(n,t){return(0,r._)(function(){var a,o,s;return(0,i.YH)(this,function(u){switch(u.label){case 0:return[4,n.data];case 1:if(a=u.sent(),!l.J(p,a))throw Error("Invalid command");if(o=null,"string"==typeof a.icon){if(""===a.icon)throw Error("Command icon cannot be empty. Omit it if you do not want an icon.");o=a.icon}return s={data:{label:a.label,description:a.description,type:a.type,iconPath:o,id:a.id?a.id:void 0},extension:t.extension},a.contributions&&(s.data.contributions=a.contributions,t.logger.warn("Command ".concat(a.label," uses deprecated contributions field"))),"context"===a.type?s.commands=function(a){var o=a.active,s=a.searchQuery,l=a.path;return(0,r._)(function(){var r,a,u,c,d,f;return(0,i.YH)(this,function(i){switch(i.label){case 0:r=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.commands({active:o,searchQuery:s,path:l})];case 2:return r=i.sent(),[3,4];case 3:return a=i.sent(),t.logger.error(a.message,{commandError:a,api:"command"}),[2,[]];case 4:return[4,r.length];case 5:u=i.sent(),c=[],d=0,i.label=6;case 6:if(!(d<u))return[3,9];return f=c.push,[4,e(r[d],t)];case 7:f.apply(c,[i.sent()]),i.label=8;case 8:return d++,[3,6];case 9:return[2,c]}})})()}:s.run=function(){return(0,r._)(function(){var e;return(0,i.YH)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n.run()];case 1:return r.sent(),[2,void 0];case 2:return e=r.sent(),t.logger.error(e.message,{runError:e,api:"command"}),[2,{type:"error",message:e.message}];case 3:return[2]}})})()},[2,s]}})})()},l:()=>function e(n,t){if(!["context","action"].includes(n.data.type))throw Error("Command type not supported: "+n.data.type);if("action"===n.data.type)return{match:c.G2,data:{label:n.data.label,description:n.data.description,icon:n.data.iconPath?(0,o.Y)(f.A,{src:(0,u.sU)(n.extension.baseUrl,n.data.iconPath),layout:"fill",alt:""}):(0,o.Y)(o.FK,{children:" "}),type:"action",run:function(){return(0,r._)(function(){var e;return(0,i.YH)(this,function(t){switch(t.label){case 0:if(!(e=n.run))throw Error("Action command must have run");return[4,e()];case 1:return[2,t.sent()]}})})()}}};var s=n.commands;if(!s)throw Error("Context command must have commands");return{match:c.G2,data:{label:n.data.label,description:n.data.description,icon:n.data.iconPath?(0,o.Y)(f.A,{src:(0,u.sU)(n.extension.baseUrl,n.data.iconPath),layout:"fill",alt:""}):(0,o.Y)(o.FK,{}),type:n.data.type},commands:function(o){var l=o.active,u=o.searchQuery;return(0,r._)(function(){var r;return(0,i.YH)(this,function(i){switch(i.label){case 0:return[4,s({active:l,searchQuery:u,path:r=(0,a._)(t.path).concat([{data:n.data}])})];case 1:return[2,i.sent().map(function(n){return e(n,{path:r})})]}})})()}}}});var r=t(29935),a=t(86105),i=t(82643),o=t(34837),s=t(74651),l=t(97858),u=t(31736),c=t(1224),d=t(43517),f=t(9797),p=s.ZU.Object({id:s.ZU.Optional(s.ZU.String()),icon:s.ZU.Optional(s.ZU.String()),type:s.ZU.Union([s.ZU.Literal("action"),s.ZU.Literal("context")]),label:s.ZU.String(),description:s.ZU.String(),contributions:s.ZU.Optional(s.ZU.Array(s.ZU.Enum(d.P)))})},13541:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(34837),a=t(21462),i=t(89914);function o(e){var n=e.json,t=(0,a.useMemo)(function(){return JSON.stringify(n,null,2)},[n]);return(0,r.Y)(i.A,{language:"json",code:t})}},13594:e=>{e.exports={wrapper:"DatabaseTabs_wrapper__ALL87",tabList:"DatabaseTabs_tabList__70cns",tabPanels:"DatabaseTabs_tabPanels__tcoVn",studioTabPanel:"DatabaseTabs_studioTabPanel__UQhwY",overviewTabPanel:"DatabaseTabs_overviewTabPanel__dbJ0_",settingsTabPanel:"DatabaseTabs_settingsTabPanel__UrnW_",content:"DatabaseTabs_content__WQ1W0"}},13672:(e,n,t)=>{"use strict";t.d(n,{J:()=>l});var r=t(17844),a=t(93629),i=t(21462),o=t(12403),s={nodejs:["package.json","package-lock.json","yarn.lock","node_modules/"],python2:["poetry.lock","pyproject.toml","requirements.txt",".venv/",".local"],python3:["poetry.lock","pyproject.toml","requirements.txt",".venv/",".local"],ruby:["Gemfile","Gemfile.lock"],java:["pom.xml","target"]};function l(){var e=(0,o.I)();return{configs:(0,i.useMemo)(function(){var n=(null==e?void 0:e.packagers)||[],t=(null==n?void 0:n.map(function(e){var n,t;return(0,a._)((0,r._)({},e),{title:e.language,packagerFiles:(null==(n=e.packagerFiles)?void 0:n.length)?e.packagerFiles:null!=(t=s[e.language])?t:[]})}))||[];return t.push({id:"nix",title:"system",name:"System Dependencies",language:"nix",packageSearch:!0,guessImports:!1,packagerFiles:["replit.nix"]}),t},[e]),loading:!e}}},14524:(e,n,t)=>{"use strict";t.d(n,{sK:()=>A,j$:()=>k,Si:()=>C});var r=t(12694),a=t(21462),i=t(35992),o=t(17844),s=t(12584),l=t(41114),u=t(90676),c=t(6876);function d(){var e=(0,s._)(["\n  fragment OrgPresenceSessionUser on User {\n    id\n    username\n    fullName\n    image\n    url\n  }\n"]);return d=function(){return e},e}function f(){var e=(0,s._)(["\n  fragment OrgPresenceSessionProject on Project {\n    id\n    title\n  }\n"]);return f=function(){return e},e}function p(){var e=(0,s._)(["\n  fragment OrgPresenceSessionRepl on Repl {\n    id\n    title\n    iconUrl\n    ...ReplLinkRepl\n    project {\n      id\n      org {\n        id\n        slug\n      }\n      ...OrgPresenceSessionProject\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}function h(){var e=(0,s._)(["\n  fragment OrgPresenceSessionItem on OrgPresenceSession {\n    id\n    user {\n      ...OrgPresenceSessionUser\n    }\n    repl {\n      ...OrgPresenceSessionRepl\n    }\n  }\n  ","\n  ","\n"]);return h=function(){return e},e}function m(){var e=(0,s._)(["\n  subscription OrgPresence($input: OrgReplPresenceSessionEventsInput!) {\n    orgReplPresenceSessionEvents(input: $input) {\n      __typename\n      ... on OrgPresenceSessionInitEvent {\n        sessions {\n          ...OrgPresenceSessionItem\n        }\n      }\n      ... on OrgPresenceSessionPingEvent {\n        session {\n          ...OrgPresenceSessionItem\n        }\n      }\n      ... on OrgPresenceSessionLeaveEvent {\n        sessionId\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var v={},g=(0,l.J1)(d()),b=(0,l.J1)(f()),y=(0,l.J1)(p(),c.r,b),w=(0,l.J1)(h(),g,y),_=(0,l.J1)(m(),w);function S(e,n){var t=n.id,r=n.repl,a=n.user;if(a&&r){var i={id:t,repl:r,user:a,project:r.project||null},o=e.findIndex(function(e){return e.id===t});-1===o?e.push(i):e.splice(o,1,i)}}var A=function(e){var n,t,s=e.orgId,l=e.projectId,c=(0,r._)((0,a.useState)([]),2),d=c[0],f=c[1];return(0,a.useEffect)(function(){f([])},[s,l]),n={variables:{input:{orgId:s,projectId:l}},onData:function(e){var n,t=null==(n=e.data.data)?void 0:n.orgReplPresenceSessionEvents;t&&f(function(e){return(0,i.jM)(e,function(e){!function(e,n){switch(n.__typename){case"OrgPresenceSessionInitEvent":var t=!0,r=!1,a=void 0;try{for(var i,o=n.sessions[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;S(e,s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}break;case"OrgPresenceSessionPingEvent":S(e,n.session);break;case"OrgPresenceSessionLeaveEvent":var l=e.findIndex(function(e){return e.id===n.sessionId});if(-1===l)return;e.splice(l,1)}}(e,t)})})}},t=(0,o._)({},v,n),u.R(_,t),d},k=function(e){var n=A({orgId:e});return(0,a.useMemo)(function(){return n.reduce(function(e,n){return n.project&&(e[n.project.id]||(e[n.project.id]={}),e[n.project.id][n.user.id]=n.user),e},{})},[n])},C=function(e){var n=A({orgId:e.orgId,projectId:e.projectId});return(0,a.useMemo)(function(){return n.reduce(function(e,n){return e[n.repl.id]||(e[n.repl.id]={}),e[n.repl.id][n.user.id]=n.user,e},{})},[n])}},14785:(e,n,t)=>{"use strict";t.d(n,{B:()=>nw,a:()=>nS});var r=t(29935),a=t(82643),i=t(34837),o=t(21462),s=t(74651),l=t(42028),u=t(80719),c=t(34778),d=t(41479),f=t(40115),p=t(1224),h=t(30545),m=t(99365),v=t(62246),g=t(99708),b=t(12694),y=t(25687),w=t(65797),_=t(21727),S=t(75228),A=t(7503),k=t(99795),C=t(42811),Y=t(63591),E=t(41608),x=t(18947),T=t(70764),D=t(40756),I=t(16653),R=t(73455),N=t(91953),O=t(25227),P=t(70111),F=t(94686),U=(0,T.x)({emptyStateWrapper:[{lineHeight:"32px"}]});function L(e){var n,t=e.openPane,r=(0,Y.g3)(),a=(0,Y.oh)(),o=!!(null==r?void 0:r.workflowId),s=function(){if(null==r?void 0:r.run){r.run(E.QG.RUN_BUTTON_CLICKED),(0,c.u4)(c.AZ.WORKFLOW_RAN,{source:"console"});return}};return a?(0,i.Y)(O.S,{css:U.emptyStateWrapper,p:8,children:"The system is starting up…"}):(0,i.FD)(O.S,{p:8,gap:8,children:[(0,i.Y)(N.EY,{children:"Results of your code will appear here when you run"}),(0,i.Y)(I.a,{}),(0,i.FD)(O.S,{pt:4,pb:8,gap:6,align:"start",children:[(0,i.Y)(N.EY,{variant:"small",color:"dimmer",children:"Default"}),(0,i.Y)(D.$n,{size:"small",text:null!=(n=null==r?void 0:r.workflowId)?n:E.Ov,iconLeft:(0,i.Y)(P.A,{}),colorway:"positive",onClick:function(){(0,c.u4)(c.AZ.WORKSPACE,{action:"run_button_used",usage:"clicked",source:"emptyConsole",runner:o?"workflows":"pid1"}),s()}})]}),(0,i.Y)(I.a,{}),(0,i.FD)(O.S,{gap:6,children:[(0,i.FD)(O.S,{row:!0,gap:4,align:"center",children:[(0,i.Y)(N.EY,{variant:"small",color:"dimmer",children:"Workflows"}),(0,i.Y)(R.K0,{alt:"Configure",onClick:function(){t({type:"workflows"})},children:(0,i.Y)(F.A,{size:12})})]}),(0,i.Y)(x.O,{})]})]})}var M=t(46434),J=t(83846),H=t(17844),B=t(93629),V=t(83877),$=t(4722),G=t(49999),z=t(73496),W=t(95793),j=t(26221),q=t(60910),Z=t(11901),K=t(45620),Q=t(84383),X=t(41683),ee=t(16103),en=t(66186),et=t(94160),er=t(71132),ea=t(76420),ei=t(2407),eo=t(63853),es=t(25722),el=t(88233),eu=t(59552),ec=t(53495),ed=t(1962),ef=t(24499),ep=t(18712),eh=(0,T.x)({terminalLoadingLine:[ep.wp.borderRadius(2),ef.S.foregroundPulse(),ep.wp.height(16),ep.wp.mb(4)]});function em(e){var n=e.targetHeight,t=Math.min(Math.floor((n-8)/20),4),r=(0,o.useMemo)(function(){return Array.from({length:t}).map(function(e,n){return(0,i.Y)(O.S,{css:eh.terminalLoadingLine,style:{width:100*Math.random()+"%"}},n)})},[t]);return(0,i.Y)(O.S,{p:8,style:{height:n+"px"},children:(0,i.Y)(O.S,{style:{position:"sticky",top:ed.RB+8},children:r})})}var ev=t(77135),eg=function(e){return e.EXPANDED="EXPANDED",e.COLLAPSED="COLLAPSED",e}({}),eb=t(39534),ey=t(90233),ew=t(73635),e_=t(8553),eS=t(77901),eA=t(90843),ek=(0,T.x)({outputMetadataTooltip:[ep.wp.pl(4),ep.wp.pr(4)]});function eC(e){var n=e.isDone,t=e.hasError,r=e.errorMessage,a=e.finishedMessage,o=e.stopTask;return n?(0,i.Y)(ey.m_,{css:ek.outputMetadataTooltip,tooltip:t?"Error".concat(r?": ".concat(r):""):"Finished".concat(a?": ".concat(a):""),children:t?(0,i.Y)(eA.A,{}):(0,i.Y)(ew.A,{})}):void 0!==o?(0,i.Y)(R.K0,{alt:"Stop",onClick:o,children:(0,i.Y)(eS.A,{color:eb.LU.accentNegativeDefault})}):(0,i.Y)(ey.m_,{tooltip:"Running...",children:(0,i.Y)(e_.A,{color:eb.LU.accentPositiveDefault})})}var eY=t(33747),eE=t(69805),ex=t(28611),eT=t(53958),eD=t(25590);function eI(e){return(0,i.FD)(eD.Ay,(0,B._)((0,H._)({},e),{children:[(0,i.Y)("path",{fillRule:"evenodd",d:"M5 3.75A1.25 1.25 0 0 0 3.75 5v14.19l2.72-2.72a.75.75 0 0 1 .53-.22h12A1.27 1.27 0 0 0 20.25 15v-4a.75.75 0 0 1 1.5 0v4A2.77 2.77 0 0 1 19 17.75H7.31l-3.78 3.78A.75.75 0 0 1 2.25 21V5A2.75 2.75 0 0 1 5 2.25h8a.75.75 0 0 1 0 1.5H5Z",clipRule:"evenodd"}),(0,i.Y)("path",{fillRule:"evenodd",d:"M18.438 1.8c-.147-.4-.73-.4-.875 0l-1.005 2.744a.458.458 0 0 1-.298.278l-2.436.746a.446.446 0 0 0 0 .857l2.437.752a.458.458 0 0 1 .297.279l1.005 2.745c.146.399.728.399.875 0l1.004-2.745a.458.458 0 0 1 .297-.278l2.437-.75a.446.446 0 0 0 0-.857l-2.437-.749a.458.458 0 0 1-.297-.278L18.437 1.8Z",clipRule:"evenodd"})]}))}var eR=(0,T.x)({askAIButton:[ep.wp.display.flex,ep.wp.flex.row,ep.wp.align.center,ep.wp.m(0),{"@container (max-width: 120px)":[ep.wp.display.none]}],aiButtonWithoutPorts:[{"@container (max-width: 320px)":{padding:"0 4px","& > span":[ep.wp.display.none]}}],aiButtonWithPorts:[{"@container (max-width: 420px)":{padding:"0 4px","& > span":[ep.wp.display.none]}}],verticalDivider:[ep.wp.mx(6),{width:1,height:ed.RB,background:eb.LU.backgroundHigher}]}),eN=[eR.askAIButton,eR.aiButtonWithoutPorts],eO=[eR.askAIButton,eR.aiButtonWithPorts];function eP(e){var n=e.onClick,t=e.showingPorts;return(0,i.FD)(O.S,{css:t?eO:eN,children:[(0,i.Y)(N.EY,{color:"dimmer",children:(0,i.Y)(D.$n,{size:"small",variant:"underlinedOnHover",iconLeft:(0,i.Y)(eI,{}),text:"Ask ".concat(eY.BP),onClick:void 0===n?function(){}:n})}),(0,i.Y)(O.S,{css:eR.verticalDivider})]})}function eF(e){var n=e.onClick,t=e.showingPorts,r=(0,b._)((0,o.useState)(!1),2),a=r[0],s=r[1],l="Ask ".concat(eY.g$,"…");return(0,i.FD)(O.S,{css:t?eO:eN,children:[(0,i.FD)(ex.Wv,{isOpen:a,onOpenChange:s,label:l,placement:"bottom end",children:[(0,i.Y)(N.EY,{color:"dimmer",children:(0,i.Y)(D.$n,{size:"small",variant:"underlinedOnHover",iconLeft:(0,i.Y)(eT.A,{}),text:l,onClick:function(){return s(!0)}})}),(0,i.Y)(eE._,{onClick:n,prefix:"Ask"})]}),(0,i.Y)(O.S,{css:eR.verticalDivider})]})}var eU=t(21276);function eL(e){var n,t,r,a,s,l,u=e.startTime,c=e.endTime,d=(t=!c,a=(r=(0,b._)((0,o.useState)(function(){return Date.now()}),2))[0],s=r[1],(0,o.useEffect)(function(){if(t){var e=setInterval(function(){s(Date.now())},100);return function(){clearInterval(e)}}},[t]),a);u&&c?l=c-u:c||(l=d-u);var f=l?(0,i.Y)(ey.m_,{tooltip:"".concat(Math.round(l).toLocaleString(),"ms"),children:(n=l)<1e3?"".concat(Math.floor(n),"ms"):n<6e4?"".concat(Math.floor(n/1e3),"s"):"".concat(Math.floor(n/6e4),"m")}):null,p=(0,i.Y)(eU.Dc,{live:!0,date:u,textVariant:"small",textColor:"dimmer",textTransform:"first-letter-capitalized"});return(0,i.Y)(i.FK,{children:f?(0,i.FD)(i.FK,{children:[f,eM,p]}):p})}var eM="\xa0•\xa0",eJ=t(19944),eH=t(2717),eB=t(84118),eV=t(6520),e$=t(59092),eG=(0,T.x)({button:[ep.wp.textAlign.left]});let ez=function(e){var n=e.onClick;return(0,eV.A)()?(0,i.Y)(e$.d,{text:"Missing required secrets. Click here to add them.",onClick:n,iconRight:(0,i.Y)(F.A,{}),colorway:"warning",css:eG.button}):null};var eW=t(85826),ej=t(81512),eq=t(74286),eZ=t(91175),eK=t(60594).Buffer,eQ=(0,eJ.v)(["blockMinHeight","terminalBackgroundColor","previewHeight"]),eX=eQ.cssVars,e0=eQ.styleTokens,e1=(0,T.x)({outputBlockMetadataWrapper:[{containerType:"size"},ep.wp.pl(4),ep.wp.pr(8),ep.wp.rowWithGap(4),ep.wp.align.center,ep.wp.justify.spaceBetween,ep.wp.height(ed.RB),ep.wp.backgroundColor.backgroundDefault,ep.wp.border({direction:"bottom",width:1,style:"solid",color:eb.LU.backgroundHigher}),ep.wp.position.sticky,ep.wp.top(0),ep.wp.zIndex(1)],outputBlockMetadataWrapperLeft:[ep.wp.rowWithGap(4),ep.wp.align.center],outputBlockMetadataWrapperRight:[ep.wp.rowWithGap(4),ep.wp.align.center],taskNamePill:[ep.wp.maxWidth(100),ep.wp.flex.shrink(0),ep.wp.display.flex,{"> span":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"@container (max-width: 120px)":[ep.wp.display.none],"&:hover":{maxWidth:"none","> span":{overflow:"visible",textOverflow:"clip"}}}],dateText:[ep.wp.flex.row,ep.wp.align.center,ep.wp.textAlign.right,ep.wp.flex.shrink(1),{marginLeft:"auto",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}],dateContainer:[ep.wp.overflow("hidden"),ep.wp.width(120),ep.wp.flex.shrink(0),{"@container (max-width: 510px)":[ep.wp.display.none]}],outputBlockClosingBorder:[ep.wp.height(1),ep.wp.zIndex(1),ep.wp.border({direction:"bottom",width:1,style:"solid",color:eb.LU.backgroundHigher}),{marginTop:-1}],outputBlockTerminalWrapper:[ep.wp.minHeight(e0.blockMinHeight)],terminal:{gridRow:1,gridColumn:1,position:"sticky",top:et.eQ.topOffset,"& .xterm":[ep.wp.py(et.Ww),ep.wp.pl(et.Ww),ep.wp.height("100%"),ep.wp.overflow("hidden")],"& .xterm-viewport":[ep.wp.overflow("hidden")],"& .xterm-scroll-area":{height:"0px !important"}},errorMessage:[{gridRow:1,gridColumn:1,position:"sticky",top:et.eQ.topOffset},ep.wp.py(et.Ww),ep.wp.pl(et.Ww),ep.wp.height("100%"),ep.wp.overflow("hidden")],searchWidget:{gridRow:1,gridColumn:1,position:"sticky",top:et.eQ.topOffset,height:30,margin:"2px 0 0 auto",zIndex:4},avatarWrapper:[],outputMetadataTooltip:[ep.wp.pl(4),ep.wp.pr(4)],verticalDivider:[ep.wp.mx(6),{width:1,height:ed.RB,background:eb.LU.backgroundHigher}],portInfoDomain:[ep.wp.display.flex,ep.wp.flex.row,ep.wp.align.center,ep.wp.m(0),{"@container (max-width: 400px)":ep.wp.display.none}],portInfoText:[ep.wp.mr(0)],portInfoPorts:[ep.wp.display.flex,ep.wp.flex.row,ep.wp.align.center,ep.wp.m(0),{"@container (max-width: 320px)":ep.wp.display.none}],portTooltipHeader:[ep.wp.color.foregroundDimmer,ep.wp.fontWeight.normal,ep.wp.px(2),ep.wp.pb(2)],portTooltipColumnLeft:[ep.wp.textAlign.right],portTooltipColumnMiddle:[ep.wp.textAlign.center,ep.wp.px(4)]});function e2(e){var n=e.isDone,t=e.hasError,r=e.errorMessage,a=e.finishedMessage,o=e.stopTask;return n?(0,i.Y)(ey.m_,{css:e1.outputMetadataTooltip,tooltip:t?"Error".concat(r?": ".concat(r):""):"Finished".concat(a?": ".concat(a):""),children:t?(0,i.Y)(eA.A,{}):(0,i.Y)(ew.A,{})}):void 0!==o?(0,i.Y)(R.K0,{alt:"Stop",onClick:o,children:(0,i.Y)(eS.A,{color:eb.LU.accentNegativeDefault})}):(0,i.Y)(ey.m_,{tooltip:"Running...",children:(0,i.Y)(e_.A,{color:eb.LU.accentPositiveDefault})})}function e3(e){var n=e.isCollapsed,t=e.setIsCollapsed,r=e.taskName,a=e.isDone,s=e.hasError,l=e.errorMessage,c=e.startTime,d=e.endTime,f=e.activeUsers,p=e.openPane,h=e.openedPorts,m=e.onAskAssistantClick,v=e.onAskAgentClick,g=e.stopTask,b="packager.installForAll"===r||"packager.installForLanguage"===r,y=(0,u.jt)(),w=h.length>0,_=(0,o.useCallback)(function(){p({type:"developer",data:{tab:["dependencies","import"]}})},[p]);return(0,i.FD)(O.S,{css:e1.outputBlockMetadataWrapper,onDoubleClick:function(){return t(!n)},children:[b?(0,i.FD)(O.S,{css:e1.outputBlockMetadataWrapperLeft,children:[(0,i.Y)(R.K0,{alt:"Open Packager",onClick:_,children:(0,i.Y)(eZ.A,{})}),(0,i.Y)(eH.a,{color:"grey",text:"Packager",css:e1.taskNamePill})]}):(0,i.FD)(O.S,{css:e1.outputBlockMetadataWrapperLeft,onDoubleClick:function(e){return e.stopPropagation()},children:[(0,i.Y)(R.K0,{alt:n?"Expand":"Collapse",onClick:function(){return t(!n)},children:n?(0,i.Y)(ej.A,{}):(0,i.Y)(eW.A,{})}),(0,i.Y)(eH.a,{color:"grey",text:r,css:e1.taskNamePill})]}),(0,i.FD)(O.S,{css:e1.outputBlockMetadataWrapperRight,onDoubleClick:function(e){return e.stopPropagation()},children:[y?(0,i.Y)(eF,{showingPorts:w,onClick:v}):(0,i.Y)(eP,{showingPorts:w,onClick:m}),(0,i.Y)(nn,{openPane:p,openedPorts:h}),(0,i.FD)(O.S,{css:e1.dateContainer,row:!0,justify:"space-between",children:[(0,i.Y)(N.EY,{color:"dimmer",variant:"small",css:e1.dateText,children:(0,i.Y)(eL,{startTime:c,endTime:d})}),(0,i.Y)(O.S,{css:e1.verticalDivider})]}),f.length>0?(0,i.Y)(O.S,{grow:0,shrink:0,row:!0,gap:4,align:"center",children:f.map(function(e){return(0,i.Y)(eB.A,{user:e,size:16},e.id)})}):null,(0,i.Y)(e2,{isDone:a,stopTask:g,hasError:s,errorMessage:l})]})]})}function e4(){}var e5={noScroll:!0};function e7(e){var n,t,s,l,c=e.taskIdx,d=e.runId,f=e.currentUserId,p=e.maxHeight,h=e.scrollParent,m=e.scrollPosition,v=e.openPane,g=e.openAssistantWithMessage,y=e.openAgentWithMessage,w=(0,et.Ui)({maxHeight:p,openPane:v}),_=w.visibleHeight,S=w.visibleLines,A=w.bufferHeight,k=w.bufferLines,C=w.wrapperResizeRef,Y=w.hasScrollback,E=w.xterm,x=w.xtermRef,T=(0,o.useMemo)(function(){return null==E?void 0:E._term},[E]),D=(0,o.useMemo)(function(){var e,n=null==T?void 0:T._core;return null!=(e=null==n?void 0:n._renderService.dimensions.css.cell)?e:{width:0,height:0}},[T]),I=(0,b._)((0,o.useState)(null),2),R=I[0],N=I[1],P=(0,b._)((0,o.useState)(!1),2),F=P[0],U=P[1],L=(0,o.useRef)(null);(0,o.useEffect)(function(){return function(){null!==L.current&&clearTimeout(L.current)}},[L]),(0,o.useEffect)(function(){if(T){if(m<1||!Y)return void T.scrollToLine(0);var e=A-_,n=k-S;if(e<1)return void T.scrollToLine(0);var t=Math.round(m/e*n);T.scrollToLine(t)}},[A,k,Y,m,T,_,S]);var J=(0,b._)((0,o.useState)(null),2),H=J[0],B=J[1];(0,K.b)(function(e,n){var t=n.signal;return(0,r._)(function(){var n,r,i,o,s,l,u,p,h,m;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(!E||!R)return[2];r=(n=e.workflows.connectToTask.stream({runId:d,taskIdx:c,userId:f,processViewId:"outputs"},{signal:t})).reqWritable,i=n.resReadable,B({onInput:function(e){if(r.isWritable()){var n=new Uint8Array(eK.from(e));r.write({$kind:"stdin",stdin:n})}},onResizeTerminal:function(e){r.isWritable()&&r.write({$kind:"resize",size:e})},onFocus:function(){r.isWritable()&&r.write({$kind:"focused"})},onBlur:function(){r.isWritable()&&r.write({$kind:"blurred"})}}),r.write({$kind:"resize",size:E.getSize()}),o=!1,s=!1,a.label=1;case 1:a.trys.push([1,6,7,12]),u=(0,M._)(i),a.label=2;case 2:return[4,u.next()];case 3:if(!(o=!(p=a.sent()).done))return[3,5];if(!(h=p.value).ok){if("UNEXPECTED_DISCONNECT"===h.payload.code||"CANCEL"===h.payload.code||"NO_MATCHING_TASK_STATE"===h.payload.code)return[3,5];if("TASK_ERROR"===h.payload.code)return W.vF.info("[".concat(h.payload.code,"] ").concat(h.payload.message," in workflow outputs")),[3,4];throw Error("[".concat(h.payload.code,"] ").concat(h.payload.message))}"output"===h.payload.$kind&&R(h.payload.chunk),a.label=4;case 4:return o=!1,[3,2];case 5:return[3,12];case 6:return m=a.sent(),s=!0,l=m,[3,12];case 7:if(a.trys.push([7,,10,11]),!(o&&null!=u.return))return[3,9];return[4,u.return()];case 8:a.sent(),a.label=9;case 9:return[3,11];case 10:if(s)throw l;return[7];case 11:return[7];case 12:return B(null),r.close(),[2]}})})()},[d,c,R,E,f]);var V=(0,o.useCallback)(function(e){return N(function(){return e}),function(){}},[]),G=(0,b._)((0,o.useState)(!1),2),z=G[0],j=G[1],Z=(0,b._)((0,o.useState)(""),2),Q=Z[0],X=Z[1],ea=(0,u.NC)(),es=(0,en.jT)(),el=(0,o.useCallback)(function(e){v({type:"searchReplace",data:{initialQuery:e}},!0)},[v]),eu=(0,er.EF)().onContextMenu,ed=(0,ei.P)({xterm:E,isWorkflowsTerminal:!0,openShellSearch:function(e){j(!0),X(e)},openSearchAndReplace:el}),ef=(0,o.useCallback)(function(e){return(0,r._)(function(){var n,t;return(0,a.YH)(this,function(r){switch(r.label){case 0:if(n=(0,$.kq)(e),!es)return[3,2];return t=(0,ee.tF)({text:n,attachedFiles:[]}),[4,ea.queue.enqueue({contents:t})];case 1:return r.sent(),[3,3];case 2:y(n,{createNewSession:!1}),r.label=3;case 3:return[2]}})})()},[es,y,ea.queue]);(0,ec.Z)({xterm:E,onAskAssistant:function(e){g((0,$.kq)(e))},onAskAgent:ef,isAgentBusy:es});var ep=(0,o.useCallback)(function(){if(T){var e=T.getSelectionPosition();e&&h(e.start.y*D.height-p/2)}},[T,p,h,D.height]);return(0,i.FD)(et._x,{xterm:E,wrapperResizeRef:C,bufferHeight:A,setOnMessage:V,onInput:null!=(n=null==H?void 0:H.onInput)?n:e4,onResizeTerminal:null!=(t=null==H?void 0:H.onResizeTerminal)?t:e4,onFocus:null!=(s=null==H?void 0:H.onFocus)?s:e4,onBlur:null!=(l=null==H?void 0:H.onBlur)?l:e4,style:{pointerEvents:F?"none":"all"},onWheel:function(){U(!0),L.current&&clearTimeout(L.current),L.current=setTimeout(function(){U(!1)},200)},onKeyDown:function(e){"f"===e.key&&(0,q.T$)(e)&&(j(!0),e.preventDefault())},children:[z?(0,i.Y)(O.S,{css:e1.searchWidget,children:(0,i.Y)(eo.p,{searchValue:Q,setSearchValue:X,findPrevious:function(e){(null==E?void 0:E.findPrevious(e,e5))&&ep()},findNext:function(e){(null==E?void 0:E.findNext(e,e5))&&ep()},exit:function(){return j(!1)}})}):null,(0,i.Y)(et.DJ,{xtermRef:x,visibleHeight:_,maxHeight:p,css:e1.terminal,onContextMenu:function(e){return eu(e,{command:ed})}})]})}function e9(e){var n,t=e.runId,r=e.taskIdx,a=e.task,s=e.config,l=e.isCollapsed,u=e.setIsCollapsed,c=e.openPane,f=e.openedPorts,p=e.onAskAssistantClick,h=e.onAskAgentClick,m="ERROR"===a.state||"FAILED"===a.state,v="ERROR"===a.state||"FAILED"===a.state?null==(n=a.result)?void 0:n.message:void 0,g="RUNNING"!==a.state,b=(0,el.Q4)(),y=(0,o.useMemo)(function(){return a.userIds.map(function(e){return b.find(function(n){return n.id===e})}).filter(Boolean)},[a,b]),w="shell.exec"===s.task&&"args"in s?(0,E.ZM)(s.args):s.task,_=(0,d.I)(function(e){return function(){e.workflows.stopTask.rpc({runId:t,taskIdx:r,graceful:!0})}},[t,r]);return(0,i.Y)(e3,{isCollapsed:l,setIsCollapsed:u,taskName:w,isDone:g,hasError:m,errorMessage:v,startTime:a.startTime,endTime:g?a.endTime:void 0,activeUsers:y,openPane:c,openedPorts:f,stopTask:null!=_?_:void 0,onAskAssistantClick:p,onAskAgentClick:h})}function e8(e){var n,t,s,l,u,c,f,p,h,m,v,g,y,w,S,A,k,C,Y,E,x,T,D,I,R,N,P=e.task,F=e.taskIdx,U=e.runId,L=e.config,G=e.maxHeight,W=e.rootRef,q=e.currentUser,Z=e.ports,K=e.openAssistantWithMessage,Q=e.openAgentWithMessage,ee=e.openPane,en=e.onDoExposePort,er=e.onDontExposePort,ei=(0,o.useRef)(null),eo=(0,b._)((0,o.useState)(!0),2),es=eo[0],el=eo[1],ec=(0,b._)((0,o.useState)(!1),2),ef=ec[0],ep=ec[1],eh=(0,b._)((0,o.useState)(0),2),eb=eh[0],ey=eh[1],ew=(0,eu.V)(),e_=(0,z.A)(es,ef?6e4:500),eS=null!=(R=(null==(T=P.metadata)?void 0:T.task)==="shell.exec"&&P.metadata.isInRecoveryMode)&&R,eA=(0,X.LO)(Z,(null==(D=P.metadata)?void 0:D.task)==="shell.exec"?null==(I=P.metadata)?void 0:I.cgroupPath:void 0),ek=(0,b._)((0,o.useState)(eg.EXPANDED),2),eC=(t=(n={maxHeight:G,visualState:ek[0],onSetVisualState:ek[1]}).visualState,s=n.onSetVisualState,l=n.maxHeight,c=(u=(0,b._)((0,o.useState)("EXPANDED"===t?0:void 0),2))[0],f=u[1],p=(0,o.useRef)(null),m=(h=(0,b._)((0,o.useState)("EXPANDED"===t?"expanded":"collapsed"),2))[0],v=h[1],y=(g=(0,b._)((0,o.useState)("COLLAPSED"===t?0:void 0),2))[0],w=g[1],S=(0,o.useCallback)(function(e){e&&f(e.getBoundingClientRect().height)},[]),A=(0,_.A)(function(e){var n=e.height;"expanded"===m&&f(n)},{type:"debounce",wait:200}),(0,o.useEffect)(function(){if(p.current)switch(m){case"start-collapsing":v("is-collapsing");break;case"is-collapsing":w(0);break;case"start-expanding":v("is-expanding");break;case"is-expanding":w(c);break;case"expanded":w(void 0)}},[m,c]),k="expanded"!==m&&"is-expanding"!==m,C=(0,o.useCallback)(function(e){s(e?"COLLAPSED":"EXPANDED")},[s]),Y=(0,o.useRef)(t),(0,o.useEffect)(function(){"EXPANDED"===Y.current&&"COLLAPSED"===t&&p.current&&(v("start-collapsing"),w(Math.min(p.current.getBoundingClientRect().height,l)),v("start-collapsing")),"COLLAPSED"===Y.current&&"EXPANDED"===t&&v("start-expanding"),Y.current=t},[l,t]),E=(0,o.useCallback)(function(){"is-collapsing"===m&&v("collapsed"),"is-expanding"===m&&v("expanded")},[m]),x=(0,o.useMemo)(function(){return{style:{height:y,transition:"height 120ms ease-out",overflow:"expanded"===m||"start-collapsing"===m?"visible":"hidden"},onTransitionEnd:E}},[y,m,E]),{collapsedStep:m,isCollapsed:k,setIsCollapsed:C,blockWrapperRef:p,blockWrapperProps:x,blockResizeRef:(0,ev.S)([A,S],{breadcrumb:"client/workspace/components/Outputs/useAnimatedBlockCollapsing.tsx:173"}),measuredBlockHeight:c}),eY=eC.collapsedStep,eE=eC.isCollapsed,ex=eC.setIsCollapsed,eT=eC.blockWrapperRef,eD=eC.blockWrapperProps,eI=eC.blockResizeRef,eR=eC.measuredBlockHeight;(0,o.useEffect)(function(){if(W.current){var e,n=W.current,t=function(){var t,r;ey(Math.max(0,n.scrollTop-(null!=(r=null==(t=ei.current)?void 0:t.offsetTop)?r:0))),ep(!0),e&&clearTimeout(e),e=setTimeout(function(){ep(!1)},500)};return n.addEventListener("scroll",t),function(){clearInterval(e),n.removeEventListener("scroll",t)}}},[W,ei]),(0,o.useEffect)(function(){if(ei.current&&W.current)return(0,j.l)(ei.current,function(){return el(!0),function(){el(!1)}},{root:W.current,threshold:0})},[W,ei]);var eN=(0,d.I)(function(e){return function(){return(0,r._)(function(){var n,t,r,i,o,s,l,u,c,d;return(0,a.YH)(this,function(a){switch(a.label){case 0:n=e.workflows.readTaskBuffer.subscribe({runId:U,taskIdx:F}).resReadable,t=new Uint8Array([]),r=!1,i=!1,a.label=1;case 1:a.trys.push([1,6,7,12]),s=(0,M._)(n),a.label=2;case 2:return[4,s.next()];case 3:if(!(r=!(l=a.sent()).done))return[3,5];if(!(u=l.value).ok)throw Error(u.payload.code+": "+u.payload.message);if("output"===u.payload.$kind&&(t=eK.concat([t,u.payload.chunk])),"finished"===u.payload.$kind)return c=(0,V.A)(t.toString()),[2,(0,$.kq)(c)];a.label=4;case 4:return r=!1,[3,2];case 5:return[3,12];case 6:return d=a.sent(),i=!0,o=d,[3,12];case 7:if(a.trys.push([7,,10,11]),!(r&&null!=s.return))return[3,9];return[4,s.return()];case 8:a.sent(),a.label=9;case 9:return[3,11];case 10:if(i)throw o;return[7];case 11:return[7];case 12:return[2]}})})()}}),eO=(0,o.useCallback)(function(){return(0,r._)(function(){var e;return(0,a.YH)(this,function(n){switch(n.label){case 0:if(null==eN)return[2];return[4,eN()];case 1:return(e=n.sent())&&K(e),[2]}})})()},[eN,K]),eP=(0,o.useCallback)(function(e){return(0,r._)(function(){var n;return(0,a.YH)(this,function(t){switch(t.label){case 0:if(null==eN)return[2];return[4,eN()];case 1:return(n=t.sent())&&Q(n,e),[2]}})})()},[eN,Q]),eF=(0,b._)((0,o.useState)(0),2),eU=eF[0],eL=eF[1],eM=(0,_.A)(function(e){var n=e.height;"expanded"===eY&&eL(n)},{type:"debounce",wait:200}),eJ=(0,o.useCallback)(function(){ee({type:"developer",data:{tab:["networking"]}})},[ee]),eH=(0,o.useCallback)(function(e,n){ee({type:"webview",data:{ports:{type:"local",path:e,port:n}}})},[ee]),eB=(0,o.useCallback)(function(){ee({type:"envEditor"})},[ee]),eV="FINISHED"===P.state||"FAILED"===P.state,e$=G-ed.RB-eU,eG=!1;return"collapsed"===eY?eG=!1:(!eV||e_)&&(eG=!0),(0,i.FD)(O.S,{innerRef:ei,children:[(0,i.Y)(e9,{runId:U,taskIdx:F,task:P,config:L,isInRecoveryMode:eS,isCollapsed:eE,setIsCollapsed:ex,openPane:ee,openedPorts:eA,onAskAssistantClick:eO,onAskAgentClick:eP}),(0,i.FD)(O.S,{innerRef:eM,style:{position:"sticky",top:ed.RB},children:[(0,i.Y)(ez,{onClick:eB}),(0,i.Y)(ea.yN,{configurations:eA.map(function(e){return e.configuration}),openWebview:function(){eH("/",eA[0].configuration.localPort)},openNetworkingTool:eJ,onDontExposePort:function(){1===eA.length&&er(eA[0].configuration.localPort)},onDoExposePort:function(){1===eA.length&&en(eA[0].configuration.localPort)}})]}),(0,i.Y)("div",(0,B._)((0,H._)({ref:eT},eD),{children:(0,i.Y)(O.S,{css:e1.outputBlockTerminalWrapper,style:(N={},(0,J._)(N,eX.blockMinHeight,eR+"px"),(0,J._)(N,eX.terminalBackgroundColor,null==ew?void 0:ew.background),(0,J._)(N,et.O3.topOffset,ed.RB+eU+"px"),N),children:eG?(0,i.Y)(O.S,{innerRef:eI,children:(0,i.Y)(e7,{taskIdx:F,runId:U,maxHeight:e$,currentUserId:q.id,scrollParent:function(e){var n,t,r,a=e+(null!=(r=null==(n=ei.current)?void 0:n.offsetTop)?r:0);null==(t=W.current)||t.scrollTo({top:a})},scrollPosition:eb,openPane:ee,openAssistantWithMessage:K,openAgentWithMessage:Q})}):(0,i.Y)(em,{targetHeight:null!=eR?eR:0})})})),(0,i.Y)(O.S,{css:e1.outputBlockClosingBorder})]})}function e6(e){var n,t,r=(0,o.useCallback)(function(){e.openPane({type:"developer",data:{tab:["dependencies","import"]}})},[e]),a=e.task.metadata;if(((null==a?void 0:a.task)==="packager.installForAll"||(null==a?void 0:a.task)==="packager.installForLanguage")&&(null==a?void 0:a.hasUserFacingOutput)===!0)return(0,i.Y)(e8,(0,H._)({},e));var s="ERROR"===e.task.state||"FAILED"===e.task.state,l="ERROR"===e.task.state||"FAILED"===e.task.state?null==(n=e.task.result)?void 0:n.message:void 0,u="FINISHED"===e.task.state?null==(t=e.task.result)?void 0:t.message:void 0,c="RUNNING"!==e.task.state;return(0,i.FD)(O.S,{children:[(0,i.FD)(O.S,{css:e1.outputBlockMetadataWrapper,children:[(0,i.FD)(O.S,{css:e1.outputBlockMetadataWrapperLeft,children:[(0,i.Y)(R.K0,{alt:"Open Packager",onClick:r,children:(0,i.Y)(eZ.A,{})}),(0,i.Y)(eH.a,{color:"grey",text:"Packager",css:e1.taskNamePill})]}),(0,i.FD)(O.S,{css:e1.outputBlockMetadataWrapperRight,children:[(0,i.Y)(N.EY,{color:"dimmer",variant:"small",css:e1.dateText,children:(0,i.Y)(eL,{startTime:e.task.startTime,endTime:"RUNNING"!==e.task.state?e.task.endTime:void 0})}),(0,i.Y)(O.S,{css:e1.verticalDivider}),(0,i.Y)(eC,{isDone:c,hasError:s,errorMessage:l,finishedMessage:u})]})]}),(0,i.Y)(O.S,{css:e1.outputBlockTerminalWrapper,children:(0,i.Y)(O.S,{css:e1.errorMessage,style:{color:eb.LU.accentNegativeStronger},children:l})})]})}function ne(e){var n=(0,es.i)();if(!n)return null;var t=e.config.task;switch(t){case"shell.exec":return(0,i.Y)(e8,(0,B._)((0,H._)({},e),{currentUser:n}));case"packager.installForLanguage":case"packager.installForAll":return(0,i.Y)(e6,(0,B._)((0,H._)({},e),{currentUser:n}));case"workflow.run":return null;default:(0,G.A)(t)}}function nn(e){var n=e.openPane,t=e.openedPorts,r=void 0!==t&&t.length>0,a=r?"{...}.replit.dev":"",s=(0,o.useMemo)(function(){return r?1===t.length?":".concat(t[0].configuration.localPort):"".concat(t.length," ").concat((0,Z.A)("port",t.length)):""},[r,t]),l=(0,o.useCallback)(function(){n({type:"webview",data:{ports:r?{type:"local",port:t[0].configuration.localPort}:void 0}},!0)},[r,n,t]),u=(0,o.useCallback)(function(){n({type:"developer",data:{tab:["networking"]}},!0)},[n]);return r?(0,i.FD)(i.FK,{children:[(0,i.FD)(O.S,{css:e1.portInfoDomain,children:[(0,i.Y)(N.EY,{color:"dimmer",css:e1.portInfoText,children:(0,i.Y)(ey.m_,{tooltip:"Open Preview",children:(0,i.Y)(D.$n,{size:"small",variant:"underlinedOnHover",text:a,onClick:l})})}),(0,i.Y)(O.S,{css:e1.verticalDivider})]}),(0,i.FD)(O.S,{css:e1.portInfoPorts,children:[(0,i.Y)(N.EY,{color:"dimmer",css:e1.portInfoText,children:(0,i.Y)(ey.m_,{tooltip:(0,i.Y)(nt,{openedPorts:t}),children:(0,i.Y)(D.$n,{size:"small",variant:"underlinedOnHover",iconLeft:(0,i.Y)(eq.A,{color:eb.LU.accentPositiveStronger}),text:s,onClick:u})})}),(0,i.Y)(O.S,{css:e1.verticalDivider})]})]}):null}function nt(e){var n=e.openedPorts;return(0,i.Y)(O.S,{children:(0,i.FD)("table",{children:[(0,i.FD)("tr",{children:[(0,i.Y)("th",{css:e1.portTooltipHeader,children:"Internal"}),(0,i.Y)("th",{}),(0,i.Y)("th",{css:e1.portTooltipHeader,children:"External"})]}),(0,i.Y)("tbody",{children:n.map(function(e){var n=e.configuration,t=!0,r=null;switch(n.type){case Q.gH.FORWARDED:t=!0,r=":".concat(n.externalPort);break;case Q.gH.INTERNAL_ONLY:t=!1,r=null;break;case Q.gH.NO_MORE_EXTERNAL_PORTS_AVAILABLE:case Q.gH.MISCONFIGURED:case Q.gH.CONFIG_MISSING:t=!0,r=(0,i.Y)(eA.A,{})}return(0,i.FD)("tr",{children:[(0,i.FD)("td",{css:e1.portTooltipColumnLeft,children:[":",n.localPort]}),(0,i.Y)("td",{css:e1.portTooltipColumnMiddle,children:t?"→":null}),(0,i.Y)("td",{children:r})]},n.localPort)})})]})})}function nr(e){return e[e.length-1]}var na=(0,T.x)({menuItemSelector:[ep.wp.height(28),ep.wp.pl(4),{flex:1,transition:"none",span:{flex:1,textAlign:"left"}}],iconInvisible:{"& > svg":[ep.wp.visibility.hidden],"&:hover > svg":[ep.wp.visibility.visible]}});function ni(e){var n=e.setDefault,t=e.onAction,r=e.name,a=e.isRunning,o=e.isRunButton?null:na.iconInvisible;return(0,i.FD)(O.S,{row:!0,"aria-label":r,align:"center",children:[(0,i.Y)(R.K0,{onClick:function(){return n(r)},alt:"Make default",css:o,children:(0,i.Y)(ew.A,{})}),(0,i.Y)(D.$n,{css:na.menuItemSelector,onClick:t,text:r,variant:"nofill",iconRight:a?(0,i.Y)(eS.A,{}):(0,i.Y)(P.A,{})})]})}function no(){var e,n,t,r,a,s=(0,Y.g3)(),l=(0,Y.wS)(),u=(0,Y.z1)(),f=(0,Y.OK)(),p=(0,Y.If)(),h=(0,Y.MP)(),m=null==s?void 0:s.workflowId,v=!!(null==f||null==(t=f.workflow)||null==(n=t.find(function(e){return e.name===m}))||null==(e=n.metadata)?void 0:e.generated),g=null==f||null==(a=f.workflow)||null==(r=a.find(function(e){var n;return null==(n=e.metadata)?void 0:n.dotReplitRun}))?void 0:r.name,b=(0,d.I)(function(e){return function(n){return h(E.QG.RUN_BUTTON_CLICKED),(0,c.u4)(c.AZ.WORKFLOW_RAN,{source:"dropdownMenu"}),e.workflows.runWorkflow.rpc({workflowId:n})}},[h]),y=(0,d.I)(function(e){return function(n){return(0,c.u4)(c.AZ.WORKFLOW_STOPPED,{source:"dropdownMenu"}),e.workflows.stopRun.rpc({runId:n})}},[]),w=function(e){(0,c.u4)(c.AZ.WORKSPACE,{action:"run_button_used",usage:"default_changed",runner:e?"workflows":"pid1"}),u(e),l()},_=(0,o.useMemo)(function(){var e;return(null==f?void 0:f.workflow)&&null!=(e=null==f?void 0:f.workflow.filter(function(e){var n,t;return!(null!=(t=null==(n=e.metadata)?void 0:n.generated)&&t)}).map(function(e){var n=Object.values(null!=p?p:{}).filter(function(n){return n.workflow.name===e.name}).sort(function(e,n){return e.startTime-n.startTime});return{workflowConfig:e,workflowRunState:nr(n)}}))?e:[]},[f,p]),S=(0,o.useMemo)(function(){if(g)return nr(Object.values(null!=p?p:{}).filter(function(e){return g===e.workflow.name}).sort(function(e,n){return e.startTime-n.startTime}))},[p,g]);return(0,i.Y)(O.S,{"aria-label":"Workflows",gap:4,children:(0,i.FD)(O.S,{children:[g?(0,i.Y)(ni,{isRunButton:v,isRunning:(null==S?void 0:S.step)==="RUNNING",onAction:function(){(null==S?void 0:S.step)!=="RUNNING"?null==b||b(g):S&&(null==y||y(S.runId))},setDefault:function(e){w()},name:g}):null,_.map(function(e,n){var t,r=e.workflowConfig,a=e.workflowRunState,o=(null==a?void 0:a.step)==="RUNNING";return(0,i.Y)(ni,{onAction:function(){o?a&&(null==y||y(a.runId)):null==b||b(r.name)},setDefault:w,name:r.name,isRunning:o,isRunButton:r.name===m},r.name+"-"+n+"-"+(null!=(t=null==a?void 0:a.step)?t:"not-started"))})]})})}var ns=t(51292),nl=(0,T.x)({dropDown:[{'&[data-visible="true"]':{visibility:"visible",maxWidth:"100px",transform:"translateX(-4px)",opacity:1},'&[data-visible="false"]':{visibility:"hidden",maxWidth:0,transform:"translateX(-20px)",opacity:0},zIndex:0,transition:"\ntransform 0.2s linear,\nopacity 0.2s linear\n"}],dropDownButton:[ep.wp.reset.button,ns.b.filled,ep.wp.color.foregroundDimmer,ep.wp.height(32),ep.wp.minWidth(20),ep.wp.flex.column,ep.wp.justify.center,ep.wp.pr(2),ep.wp.pl(4),ep.wp.borderRadius(0,"default","default",0),{backgroundColor:"transparent"}],popoverWrapper:[ep.wp.minWidth(240)],popoverSection:[ep.wp.p(8),{":not(:last-of-type)":{borderBottom:"1px solid "+eb.LU.outlineDimmest}}]});function nu(e){var n=e.openPane,t=e.isVisible,r=e.triggerElement,a=(0,b._)((0,o.useState)(!1),2),s=a[0],l=a[1],u=(0,o.useCallback)(function(){(0,c.u4)(c.AZ.WORKFLOWS_SETTINGS_OPENED,{source:"runButton"}),n({type:"workflows"}),l(!1)},[n]);return(0,i.Y)(O.S,{css:nl.dropDown,"data-visible":void 0===t||t?"true":"false",children:(0,i.FD)(ex.Wv,{isOpen:s,onOpenChange:function(e){(0,c.u4)(c.AZ.WORKSPACE,{action:"run_button_used",usage:"dropdown_opened"}),l(e)},label:"Workflows",placement:"bottom start",children:[r||(0,i.Y)(O.D.button,{css:nl.dropDownButton,children:(0,i.Y)(ey.m_,{tooltip:"Configure Run Button",children:(0,i.Y)(eW.A,{})})}),(0,i.FD)(O.S,{css:nl.popoverWrapper,children:[(0,i.Y)(O.S,{css:nl.popoverSection,children:(0,i.Y)(no,{})}),(0,i.Y)(O.S,{css:nl.popoverSection,children:(0,i.Y)(D.$n,{text:"Manage Workflows",onClick:u,iconLeft:(0,i.Y)(F.A,{})})})]})]})})}var nc=t(73215),nd=t(43193),nf=(0,eJ.v)(["blockMinHeight","terminalBackgroundColor"]).styleTokens,np=(0,T.x)({outputsListParent:[ep.wp.overflow("hidden"),ep.wp.borderRadius(4)],outputsListWrapper:[ep.wp.height("100%")],outputsList:[ep.wp.height("auto"),ep.wp.overflowY("scroll"),ep.wp.flex.growAndShrink(1)],outputsListSnapToBottom:{scrollSnapType:"y mandatory"},scrollSnap:[ep.wp.height(1),{marginTop:-1,pointerEvents:"none",scrollSnapAlign:"end"}],outputBlockCollapsingWrapper:[ep.wp.minHeight(nf.blockMinHeight)],outputBlockTerminalWrapper:[ep.wp.minHeight(nf.blockMinHeight),{backgroundColor:nf.terminalBackgroundColor}],outputBlockClosingBorder:[ep.wp.height(1),ep.wp.zIndex(1),ep.wp.border({direction:"bottom",width:1,style:"solid",color:eb.LU.backgroundHigher}),{marginTop:-1}],workflowsListButton:[ep.wp.viewStyle,ep.wp.reset.button,ep.wp.p(2),ep.wp.height(22),ep.wp.rowWithGap(8),ep.wp.align.center,ns.b.nofill,{transitionProperty:"background-color, box-shadow, opacity",opacity:.8}],workflowsListButtonText:[{fontSize:eb.LU.fontSizeSmall}]});function nh(e){var n=e.openPane,t=e.ports,r=e.openAssistantWithMessage,a=e.openAgentWithMessage,s=e.onClear,l=e.onDontExposePort,u=e.onDoExposePort,c=(0,b._)((0,o.useState)(0),2),d=c[0],f=c[1],p=(0,b._)((0,o.useState)(!0),2),h=p[0],m=p[1],v=(0,o.useRef)(null),g=(0,A.Jw)(S.C.id,S.j.Output),k=(0,o.useRef)(0),C=(0,b._)((0,w.A)("show-only-latest-console-runs",!0),2),E=C[0],x=C[1],T=(0,Y.IE)(),D=(0,_.A)(function(e){f(e.height)},{type:"throttle",wait:200}),I=(0,o.useMemo)(function(){var e=T.sort(function(e,n){return e.task.startTime-n.task.startTime}),n=e.filter(function(e){var n=e.task;return!E||n.state===y.Dr.RUNNING});return 0===n.length&&e.length>0?[e[e.length-1]]:n},[E,T]),R=(0,o.useMemo)(function(){return I.some(function(e){return e.task.state!==y.Dr.RUNNING})},[I]),N=0===I.length;return(0,i.Y)(O.S,{css:np.outputsListParent,grow:!0,shrink:!0,innerRef:g,"data-cy":"console",children:(0,i.FD)(O.S,{css:np.outputsListWrapper,innerRef:D,children:[(0,i.Y)(nv,{onClear:s,showOnlyLatest:E,setShowOnlyLatest:x,hasFinishedRuns:R,openPane:n}),N?(0,i.Y)(L,{openPane:n}):(0,i.FD)(O.S,{css:[np.outputsList,h&&np.outputsListSnapToBottom],innerRef:v,onScroll:function(){v.current&&(v.current.scrollTop<k.current?m(!1):m(v.current.scrollHeight-v.current.scrollTop-20<d),k.current=v.current.scrollTop)},children:[I.map(function(e){var o=e.task,s=e.taskIdx,c=e.runId,f=e.config;return(0,i.Y)(ne,{task:o,taskIdx:s,runId:c,config:f,maxHeight:d,rootRef:v,ports:t,openPane:n,openAssistantWithMessage:r,openAgentWithMessage:a,onDoExposePort:u,onDontExposePort:l},c+"-"+s)}),h?(0,i.Y)(O.S,{css:np.scrollSnap}):null]})]})})}var nm=(0,T.x)({header:[ep.wp.height(28),ep.wp.width("100%"),ep.wp.pl(8),ep.wp.pr(2),ep.wp.flex.row,{borderBottom:"1px solid ".concat(eb.LU.outlineDimmest),opacity:.8,":hover":{opacity:1}}],headerRecoveryMode:[ep.wp.height(28),ep.wp.width("100%"),ep.wp.backgroundColor.orangeDimmer,{cursor:"pointer",borderBottom:"1px solid ".concat(eb.LU.outlineDimmer),"&:hover":[ep.wp.backgroundColor.orangeDefault]}],groupRight:[ep.wp.height("100%"),ep.wp.rowWithGap(4),ep.wp.px(2)],workflowsDropdownText:[{fontSize:eb.LU.fontSizeSmall}],workflowsDropdownButton:[ep.wp.reset.button,ep.wp.justify.center,ep.wp.p(2),ep.wp.height(22),ep.wp.align.center,ns.b.nofill,ep.wp.rowWithGap(4)]});function nv(e){var n=(0,C.NT)(),t=(0,b._)((0,o.useState)(!1),2),r=t[0],a=t[1],s=(0,o.useCallback)(function(n){e.openPane({type:"codeEditor",data:{path:n}})},[e]);return n?(0,i.FD)(i.FK,{children:[(0,i.FD)(O.S,{css:nm.headerRecoveryMode,justify:"center",align:"center",gap:8,row:!0,onClick:function(){return a(!0)},children:[(0,i.Y)(eA.A,{}),"App is in recovery mode"]}),(0,i.Y)(nc.E,{isOpen:r,setIsOpen:a,nixError:n,openFile:s})]}):(0,i.FD)(O.S,{css:nm.header,justify:"space-between",align:"center",children:[(0,i.Y)(O.S,{children:(0,i.Y)(nu,{openPane:e.openPane,triggerElement:(0,i.FD)(O.D.button,{css:nm.workflowsDropdownButton,children:[(0,i.Y)(N.EY,{css:nm.workflowsDropdownText,children:"Workflows"}),(0,i.Y)(eW.A,{size:12})]})})}),(0,i.FD)(O.S,{css:nm.groupRight,align:"center",children:[(0,i.Y)(k.g,{text:"Show Only Latest",isSelected:e.showOnlyLatest,onChange:e.setShowOnlyLatest}),(0,i.Y)(k.k,{altText:"Clear Past Runs",buttonText:"Clear Past Runs",icon:(0,i.Y)(nd.A,{}),onClick:e.onClear,disabled:!e.hasFinishedRuns})]})]})}var ng=t(28191),nb=t(49941),ny=s.ZU.Object({type:s.ZU.Literal("runnerOutput")}),nw={id:"outputs.clear",name:"Clear console history",default:void 0};function n_(e){var n,t,s,l,v,b,y=e.options,w=(t=(n=(0,f.A)()).fs,s=n.ports,l=(0,d.I)(function(e){return function(){return e.workflows.clearHistory.rpc({})}},[]),v=(0,o.useCallback)(function(){null==l||l()},[l]),(0,g.Qt)(function(){return{commands:[{commands:[{match:p.G2,data:{type:"action",label:"Clear History",icon:(0,i.Y)(nd.A,{}),run:function(){return v()}}}]}]}},[v]),(0,m.SJ)(function(){return[nw.id,v]},[v]),b=(0,o.useCallback)(function(e){s.updateDotReplitPortsMapping(e,void 0)},[s]),{onClear:v,onDoExposePort:(0,o.useCallback)(function(e){s.tryExposingPortAutomatically(e)},[s]),onDontExposePort:b,ports:s,fs:t}),_=w.ports,S=w.onDontExposePort,A=w.onDoExposePort,k=w.onClear,C=y.performPaneOperation,Y=(0,o.useCallback)(function(e){C({operation:"open",secondary:"ghostwriterChat"===e.type,pane:e})},[C]),E=(0,ng.H)({openPane:Y}),x=(0,h.c)({openPane:Y}),T=(0,u.dm)().assistantMode,D=(0,u.jt)(),I=(0,o.useCallback)(function(e){return(0,r._)(function(){return(0,a.YH)(this,function(n){return(0,c.u4)(c.AZ.ASSISTANT_USED,{action:"message_sent",assistant_mode:T,message_content:e,message_source:"console",is_agent_repl:D}),E(e),[2]})})()},[D,T,E]),R=(0,o.useCallback)(function(e,n){return(0,r._)(function(){return(0,a.YH)(this,function(t){switch(t.label){case 0:return(0,c.u4)(c.AZ.AGENT_USED,{action:"message_sent",message_content:e,message_source:"console"}),[4,x(e,n)];case 1:return t.sent(),[2]}})})()},[x]);return(0,i.Y)(nh,{ports:_,openPane:Y,openAssistantWithMessage:I,openAgentWithMessage:R,onClear:k,onDontExposePort:S,onDoExposePort:A})}var nS={Content:function(e){var n=e.options;return(0,i.Y)(n_,{options:n})},Icon:function(e){var n=e.size;return(0,i.Y)(eD.Vx.Provider,{value:{color:eb.LU.yellowStrongest,size:n},children:(0,i.Y)(nb.A,{})})},getTitle:function(){return"Console"},description:"View the terminal output after running your code",category:v.bY.WorkspaceFeatures,decode:function(e){return l.T(ny,e)}}},15256:(e,n,t)=>{"use strict";t.d(n,{Nx:()=>Z,jl:()=>K,Ay:()=>Q});var r=t(12694),a=t(86105),i=t(34837),o=t(40185),s=t(21462),l=t(7576),u=t.n(l),c=t(96513),d=t(17844),f=t(12584),p=t(41114),h=t(54744),m=t(66246);function v(){var e=(0,f._)(["\n  query MultiplayerManager($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        isOwner\n        collaborators {\n          user {\n            ...MultiplayerUser\n          }\n        }\n        authorizations {\n          editPermissions {\n            isAuthorized\n          }\n        }\n        multiplayerInvites {\n          email\n          type\n        }\n      }\n    }\n    currentUser {\n      id\n      isSubscribed\n    }\n  }\n  ","\n"]);return v=function(){return e},e}var g={},b=(0,p.J1)(v(),m._9),y=t(85433),w=t(71738),_=t(29935),S=t(82643),A=t(44411),k=t(56783),C=t(71125),Y=t(5586),E=t(39534),x=t(70764),T=t(18712),D=t(87087),I=t(2717),R=t(91953),N=t(90233),O=t(25227),P=t(33683),F=function(e){var n=e.modalState,t=(0,C.X)(),r=(0,Y.g9)().show,a=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onPurchaseComplete,n=(0,k.g)().show;return{showUpgradeModal:function(){return(0,_._)(function(){return(0,S.YH)(this,function(t){switch(t.label){case 0:return[4,n("MembershipPurchaseModal",{headingText:"Upgrade for more collaborators",subHeadingText:"Share your Apps with up to ".concat(y.z$," collaborators with Replit ").concat(A.en),onPurchaseComplete:e,analyticsContext:{upgrade:{context:"workspace_multiplayer_header"}}})];case 1:return t.sent(),[2]}})})()}}}({onPurchaseComplete:(0,s.useCallback)(function(){"data"===t.type&&t.refetch(),"open"===n.type&&n.onUpgradeSuccess()},[t,n])}).showUpgradeModal,o=(0,s.useCallback)(function(){return(0,_._)(function(){return(0,S.YH)(this,function(e){switch(e.label){case 0:if("data"!==t.type)return[2];if(!t.isStarterUser)return[3,2];return[4,a()];case 1:return e.sent(),[3,4];case 2:return[4,r("TeamUpgradeModal")];case 3:e.sent(),e.label=4;case 4:return[2]}})})()},[t,a,r]);if((0,s.useEffect)(function(){(null==n?void 0:n.type)==="open"&&"data"===t.type&&o()},[null==n?void 0:n.type,t.type,o]),"loading"===t.type)return(0,i.FD)(O.S,{grow:!0,justify:"center",row:!0,gap:4,align:"center",children:[(0,i.Y)(P.A,{color:E.LU.foregroundDimmer}),(0,i.Y)(R.EY,{color:"dimmer",multiline:!1,children:"Loading..."})]});if("data"!==t.type)return null;var l=t.collaboratorCount,u=t.collaboratorLimit,c=Math.max(0,u-l);return(0,i.Y)(O.S,{row:!0,gap:8,children:(0,i.FD)(O.S,{css:U.limitsContainer,align:"center",row:!0,gap:8,children:[(0,i.Y)(N.m_,{tooltip:"Your account is limited to ".concat(u," collaborators. Manage your collaborators on the Usage page."),children:(0,i.Y)(I.a,{colorway:"yellow",css:U.pill,text:"".concat(l," / ").concat(u),onClick:o})}),(0,i.Y)(O.S,{css:U.measureBarWrapper,onClick:o,children:(0,i.Y)(D.W,{css:U.measureBar,total:u,current:l,tooltip:"".concat(c," account collaborators remaining"),backgroundColor:E.LU.yellowDimmer,color:E.LU.yellowDefault})})]})})},U=(0,x.x)({pill:[T.wp.cursor.pointer,T.wp.borderRadius(4),T.wp.pr(0)],measureBar:[T.wp.height(8),T.wp.width(60)],measureBarWrapper:[T.wp.cursor.default],limitsContainer:[T.wp.borderRadius(4),T.wp.backgroundColor.yellowDimmest,T.wp.pr(8)]}),L=t(41287),M=t(47737),J=t(69522),H=t(42600),B=t(48125),V=t(88233),$=t(40756),G=t(3937),z=t(8553),W=t(7595),j=t(85801);function q(e,n){return n.some(function(n){return n.id===e})}var Z={root:[T.wp.color.foregroundDefault,T.wp.colWithGap(12),T.wp.align.stretch,T.wp.flex.growAndShrink(1),T.wp.px(12)],header:[T.wp.flex.row,T.wp.justify.spaceBetween,T.wp.align.center],header_mobile:[T.wp.px(0)],titleContainer:[T.wp.flex.row,T.wp.rowWithGap(4),T.wp.align.center],limitsContainer:[T.wp.align.center,T.wp.rowWithGap(8)],loading:[T.wp.rowWithGap(4),T.wp.align.center,T.wp.flex.grow(1),T.wp.justify.center],measureBar:[T.wp.height(8),T.wp.width(60)],searchContainer:[T.wp.position.relative,T.wp.maxHeight(32)],userList:[T.wp.flex.column,T.wp.colWithGap(16),T.wp.scrollbar.thin,T.wp.position.relative,T.wp.overflowY("auto"),T.wp.flex.growAndShrink(1),{maxHeight:300,"::-webkit-scrollbar-thumb":[T.wp.backgroundColor.backgroundHighest,T.wp.borderRadius(4)],scrollbarColor:"".concat(E.LU.backgroundDefault," ").concat(E.LU.backgroundHighest)}],userGroup:{root:[T.wp.colWithGap(8)],titleContainer:[T.wp.rowWithGap(4),T.wp.align.center],title:[T.wp.fontWeight.medium]},emptyContainer:[T.wp.position.relative,T.wp.colWithGap(16),T.wp.py(16),T.wp.justify.start,{maxHeight:220}]},K=function(e){var n=e.title,t=e.count,r=e.color,a=e.tooltip;return(0,i.FD)(O.S,{css:Z.userGroup.titleContainer,children:[(0,i.Y)(z.A,{color:r,size:6}),(0,i.Y)(R.EY,{variant:"small",css:Z.userGroup.title,multiline:!1,children:n}),(0,i.Y)(R.EY,{multiline:!1,variant:"small",color:"dimmest",css:Z.userGroup.title,children:t}),a?(0,i.Y)(N.m_,{tooltip:a,children:(0,i.Y)(j.A,{})}):null]})};let Q=function(e){var n,t,l,f=e.replId,p=e.handleUpgradeTriggered,m=(0,o.useRouter)(),v=(0,M.Po)(m),_=(0,C.X)(),S=(0,L.A)({isMobileApp:v,isTeam:!1,handleUpgradeTriggered:p,replId:f}),A=S.addOrInviteReplMultiplayer,k=S.loadingAddMutation,Y=(0,V.Q4)(),x=(0,r._)((0,s.useState)({type:"closed"}),2),T=x[0],I=x[1],N=(0,r._)((0,s.useState)(!1),2),U=N[0],z=N[1],j=(n={variables:{replId:f},pollInterval:8e3},t=(0,d._)({},g,n),h.I(b,t)),Q=j.data,X=j.loading,ee=(null==Q?void 0:Q.getRepl.__typename)==="Repl"?Q.getRepl:null,en=null==Q?void 0:Q.currentUser,et=(null!=(l=null==ee?void 0:ee.collaborators)?l:[]).reduce(function(e,n){var t=n.user;return(0,a._)(e).concat([t.username])},[]),er=(null==ee?void 0:ee.authorizations.editPermissions.isAuthorized)||!1,ea=!!(ee&&!et.length&&!ee.multiplayerInvites.length),ei=null==ee?void 0:ee.collaborators.map(function(e){return e.user}).filter(function(e){return e.id!==(null==en?void 0:en.id)}),eo=null==ei?void 0:ei.filter(function(e){return e&&q(e.id,Y)}),es=null==ei?void 0:ei.filter(function(e){return e&&!q(e.id,Y)}),el=ei?ei.length:null,eu=(0,i.FD)(i.FK,{children:[null===el||(null==en?void 0:en.isSubscribed)?null:(0,i.FD)(i.FK,{children:[(0,i.FD)(R.EY,{variant:"small",color:"dimmest","aria-hidden":!0,multiline:!1,children:[el," / ",y.vF]}),(0,i.Y)(D.W,{css:Z.measureBar,total:y.vF,current:el,tooltip:"".concat(y.vF-el," free editors remaining")})]}),X||(null==en?void 0:en.isSubscribed)||v?null:(0,i.Y)(B.A,{size:"small",context:"workspace_multiplayer_header",onClickCallback:function(){p&&p(!0)},onCancel:function(){p&&p(!1)}})]});return(0,i.FD)(G.ui,{background:"default",css:Z.root,children:[(0,i.FD)(i.FK,{children:[(0,i.FD)(O.S,{css:[Z.header,v&&Z.header_mobile],children:[(0,i.Y)(O.S,{css:Z.titleContainer,children:(0,i.Y)(R.EY,{variant:"subheadDefault",multiline:!1,children:"Multiplayers"})}),(0,i.FD)(O.S,{css:Z.limitsContainer,children:[X?(0,i.FD)(O.S,{css:Z.loading,children:[(0,i.Y)(P.A,{color:E.LU.foregroundDimmer}),(0,i.Y)(R.EY,{color:"dimmer",multiline:!1,children:"Loading..."})]}):null,"data"===_.type&&_.shouldEnforceMultiplayerLimit?(0,i.Y)(F,{modalState:T}):eu]})]}),er&&et&&ee?(0,i.Y)(O.S,{css:Z.searchContainer,children:(0,i.Y)(H.A,{existingUsernames:et,onSubmit:function(e){if(!X||(null==en?void 0:en.isSubscribed)){if(!k){var n=new Set(("data"===_.type?(0,a._)(_.collaboratorsByRepl.values()).map(function(e){return e.users}).flat():[]).map(function(e){return e.username})),t="data"===_.type&&_.shouldEnforceMultiplayerLimit&&_.collaboratorCount>=_.collaboratorLimit&&!n.has(e),r={method:u()(e)?c.LIG.Email:c.LIG.Username,value:e},i=function(){return A({variables:{input:{replId:f,target:r,level:c.Hy.Rw}}})};if(t)return void I({type:"open",onUpgradeSuccess:i});i()}}}})}):null,ea?(0,i.Y)(O.S,{css:Z.emptyContainer,children:(0,i.Y)(O.S,{children:(0,i.Y)(R.EY,{color:"dimmest",multiline:!1,children:"No one else is here"})})}):(0,i.FD)(G.ui,{css:Z.userList,children:[(null==eo?void 0:eo.length)?(0,i.FD)(O.S,{css:Z.userGroup.root,children:[(0,i.Y)(K,{title:"Online",count:eo.length||0,color:E.LU.greenStrongest}),eo.map(function(e){return e?(0,i.Y)(J.A,{isPendingInvitation:!1,replId:f,canEditMultiplayers:er,user:e},e.id):null})]}):null,(null==es?void 0:es.length)?(0,i.FD)(O.S,{css:Z.userGroup.root,children:[(0,i.Y)(K,{title:"Offline",count:es.length||0,color:E.LU.outlineStrongest}),null==es?void 0:es.map(function(e){return e?(0,i.Y)(J.A,{canEditMultiplayers:er,isPendingInvitation:!1,user:e,replId:f},e.id):null})]}):null,(null==ee?void 0:ee.multiplayerInvites.length)?(0,i.FD)(O.S,{css:Z.userGroup.root,children:[(0,i.Y)(K,{title:"Pending Invitations",count:(null==ee?void 0:ee.multiplayerInvites.length)||0,color:E.LU.outlineStrongest}),ee.multiplayerInvites.map(function(e){return(0,i.Y)(J.A,{canEditMultiplayers:er,replId:f,isPendingInvitation:!0,email:e.email},e.email)})]}):null]})]}),(null==en?void 0:en.isSubscribed)?(0,i.FD)(i.FK,{children:[(0,i.Y)(O.S,{children:(0,i.Y)($.$n,{text:"Refer a friend and earn more credits",iconLeft:(0,i.Y)(W.A,{}),onClick:function(){return z(!0)}})}),(0,i.Y)(w.Zu,{isOpen:U,onClose:function(){return z(!1)},trackingContext:"workspace-invite-dialog"})]}):null]})}},15920:e=>{e.exports={root:"GeneralSubagentEvents_root__XqSOV",isExpanded:"GeneralSubagentEvents_isExpanded__Cfthk",subSurface:"GeneralSubagentEvents_subSurface___j9b_",expandable:"GeneralSubagentEvents_expandable__w5__0",expandableHeader:"GeneralSubagentEvents_expandableHeader___i3ux"}},15930:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M13.163 3.834a8.25 8.25 0 1 0 6.62 10.916.75.75 0 1 1 1.414.5 9.75 9.75 0 1 1-2.305-10.148l3.358 3.162V4a.75.75 0 0 1 1.5 0v6a.75.75 0 0 1-.75.75h-6a.75.75 0 0 1 0-1.5h4.11l-3.254-3.064a8.25 8.25 0 0 0-4.693-2.352Z",clipRule:"evenodd"})}))}},16057:(e,n,t)=>{"use strict";t.d(n,{K1:()=>c,Ps:()=>p,ao:()=>o,dO:()=>d,hh:()=>s,jr:()=>i,qo:()=>f,w9:()=>l,xM:()=>u});var r=t(12694),a=t(56902);function i(e,n){for(var t=[],r=e.split(n),a=0;a<r.length;a++){var i=r[a].trim();""!==i&&t.push(i)}return t}function o(e){return e.replace(/^<|>$/g,"")}function s(e){return"'".concat(e.replace(/'/g,"'\\''"),"'")}function l(e){return e.replace(/^refs\/(?:heads|remotes)\//,"")}function u(e){if(-1===e.indexOf("/")||e.startsWith("refs/heads/"))return[null,null];if(e.startsWith("refs/remotes/")){var n=(0,a._)(e.split("/"));return[n[2],n.slice(3).join("/")]}var t=(0,a._)(e.split("/"));return[t[0],t.slice(1).join("/")]}function c(e){return e.replace(/^refs\/remotes\//,"")}function d(e){var n=(0,a._)(e.split("\n")),t=n[0],r=n.slice(1);return r.length?"".concat(t,"\n").concat(r.map(function(e){return"	"+e}).join("\n")):e}function f(e){if(0===Object.keys(e).length)return"";var n=Object.entries(e).map(function(e){var n=(0,r._)(e,2),t=n[0],a=n[1];return"".concat(t,": ").concat(d(a))}).join("\n");return'-m "'.concat(n,'"')}function p(e){var n=(0,a._)(e.split("\n")),t=n[0],r=n.slice(1);return r.length?"".concat(t,"\n").concat(r.map(function(e){return e.slice(1)}).join("\n")):e}},16103:(e,n,t)=>{"use strict";t.d(n,{tF:()=>p,tX:()=>h});var r=t(29935),a=t(17844),i=t(93629),o=t(82643),s=t(47888),l=t(78040),u=t.n(l),c=t(79127),d=t(2976),f=t(56451);function p(e){var n=e.text,t=e.attachedFiles,r=e.agentConfig,a=e.targetedElement,i=t.map(function(e){return{path:e.path,mimeType:e.mimeType}}),o=s.X(c.ZCJ);return o.content=n,o.uploadedFiles=i,r&&(o.agentConfig=s.X(c.j8z),Object.assign(o.agentConfig,(0,d.WB)(r))),a&&(o.targetedElement=a),o}function h(e){return(0,r._)(function(e){var n,t,s,l,c,p;return(0,o.YH)(this,function(h){switch(h.label){case 0:return n=e.contents,t=e.readFile,s=n.content,[4,Promise.all(n.uploadedFiles.map(function(e){return(0,r._)(function(){var n,r,s;return(0,o.YH)(this,function(o){switch(o.label){case 0:return n=e.path.split("/").pop()||"attachment",[4,t(e.path)];case 1:return s=new File(null===(r=o.sent()).error&&null!==r.content.asBuffer?[r.content.asBuffer]:[],n,{type:e.mimeType}),[2,(0,i._)((0,a._)({},e),{file:s,isLoading:!1})]}})})()}))];case 1:return l=h.sent(),c=n.agentConfig?u()((0,d.O5)(n.agentConfig),f.e6):void 0,p=n.targetedElement,[2,{message:s,attachments:l,agentConfig:c,webviewTargetedElement:p}]}})}).apply(this,arguments)}},16246:(e,n,t)=>{"use strict";t.d(n,{yf:()=>S,h2:()=>y,LJ:()=>_});var r=t(29935),a=t(37743),i=t(82643),o=t(23099),s=t.n(o),l=t(49069),u=t(45773),c=t(68488),d=t(60490),f=t(69420),p=t(68803),h=t(14603),m=t(16732),v=t(41118);function g(e){var n,t;return null!=(t=null==(n=e.facet(f.q))?void 0:n.isDocumentSymbolSupported)&&t}var b=l.Pe.define(),y=l.sU.define({create:function(){return null},update:function(e,n){var t=e;return(0,p.C)(n,b,function(e){t=e.value}),t}});function w(e){if("Debounced function cancelled"!==e.message)throw e}var _=l.sU.define({create:function(){return[]},update:function(e,n){if(!(0,c.$H)(n,y,"selection"))return e;var t=n.state.field(y);return t?function e(n,t,r){var a=r.find(function(e){var r=e.range;return(0,h.TU)(n,r.end)>=t&&(0,h.TU)(n,r.start)<=t});return null==a?[]:a.children?[a].concat(e(n,t,a.children)):[a]}(n.state.doc,n.state.selection.main.head,t):[]},compare:s()});function S(e){return[y,_,u.Z9.fromClass(function(){function n(t){var o=this;(0,a._)(this,n),this.abortControllers=[],this.getSymbolMap=(0,m.A)(function(){return(0,r._)(function(){var n,a,o,s;return(0,i.YH)(this,function(l){switch(l.label){case 0:if(n=this,!(a=t.state.facet(d.Md)))return[2];return this.abortControllers=[],[4,Promise.all(e.map(function(e){if(!(0,v.A)(e).isDocumentSymbolSupported)return null;var t,o=new AbortController;return n.abortControllers.push(o),t=o.signal,(0,r._)(function(){var n,r,o,s,l,u,c,d,f;return(0,i.YH)(this,function(i){switch(i.label){case 0:return[4,e.request.documentSymbol(a,{signal:t})];case 1:if(!(n=i.sent())||n.cancelled||!(r="result"in n&&!n.cancelled?n.result:null))return[2,null];o=[],s=!0,l=!1,u=void 0;try{for(c=r[Symbol.iterator]();!(s=(d=c.next()).done);s=!0)(f=d.value)&&"range"in f&&o.push(f)}catch(e){l=!0,u=e}finally{try{s||null==c.return||c.return()}finally{if(l)throw u}}return[2,o.length?o:null]}})})()}))];case 1:return o=l.sent(),t.dispatch({effects:b.of(null!=(s=o.find(Boolean))?s:null)}),[2]}})}).call(o)},{wait:200}),g(t.state)&&this.getSymbolMap().catch(w)}var t=n.prototype;return t.update=function(e){(0,c.$H)(e,"doc",f.q)&&g(e.state)&&(this.abortControllers.forEach(function(e){return e.abort()}),this.getSymbolMap().catch(w))},t.destroy=function(){this.abortControllers.forEach(function(e){return e.abort()}),this.getSymbolMap.isScheduled()&&this.getSymbolMap.cancel()},n}())]}},16837:e=>{e.exports={pulseBorderAnimation:"LiveContent_pulseBorderAnimation__2gPRM","pulse-blurple-border":"LiveContent_pulse-blurple-border__BKXOh",rotationAnimation:"LiveContent_rotationAnimation__YnOPk",rotation:"LiveContent_rotation__Re3pL",vncWrapper:"LiveContent_vncWrapper__nzbMz",vncInner:"LiveContent_vncInner__0ctjv",vncInnerReadOnly:"LiveContent_vncInnerReadOnly__iDv95",vncNovnc:"LiveContent_vncNovnc___a6a6",vncNovncHidden:"LiveContent_vncNovncHidden__J_5ON",liveIndicator:"LiveContent_liveIndicator___Qb7D",liveIndicatorDot:"LiveContent_liveIndicatorDot__bbIxt"}},17370:(e,n,t)=>{"use strict";t.d(n,{g:()=>w,h:()=>b});var r=t(29935),a=t(12694),i=t(86105),o=t(82643),s=t(34837),l=t(90629),u=t(98565),c=t(1224),d=t(69010),f=t(32289),p=t(91953),h=t(25227),m=t(72643),v=t(55247),g=t(90843);function b(e){return(0,r._)(function(e){var n,t,r,a;return(0,o.YH)(this,function(i){switch(i.label){case 0:if(n=e.searchQuery,t=e.paths,r=e.run,a=e.description,!n)return[2,t.map(function(e){return{data:{type:"action",label:e,icon:(0,s.Y)(f.A,{path:e}),description:a,run:function(){return r(e)}},match:function(){return{score:1,render:(0,d.SS)({path:e,description:a})}}}})];return[4,(0,d.UI)(n,t)];case 1:return[2,i.sent().map(function(e){var n=e.path,t=e.score,i=e.ranges;return{data:{type:"action",label:n,icon:(0,s.Y)(f.A,{path:n}),run:function(){return r(n)}},match:function(){return{score:t,render:(0,d.SS)({path:n,ranges:i,description:a})}}}})]}})}).apply(this,arguments)}function y(){return(0,s.FD)(h.S,{row:!0,gap:8,children:[(0,s.Y)(g.A,{}),(0,s.Y)(p.EY,{color:"dimmest",multiline:!1,children:"Something went wrong searching your App's files. Please try again."})]})}function w(e){return(0,c.gu)({type:"context",label:"Files",description:"Find a file",icon:(0,s.Y)(v.A,{}),keyboardShortcut:e.keyboardShortcut?e.keyboardShortcut:void 0},{match:e.lazyLoad?c.KK:(0,c.u4)({defaultScore:m.q.findOrCreateFile}),commands:function(n){return(0,r._)(function(){var t,c,d,p,h,m,v,w,_,S,A,k,C,Y,E,x,T,D,I,R;return(0,o.YH)(this,function(N){switch(N.label){case 0:if(e.lazyLoad&&!n.active)return[2,[]];return t=e.fs,c=e.shouldHideFile,[4,Promise.resolve(e.getRecentFiles())];case 1:if(d=N.sent(),p=[],!(n.searchQuery||n.active))return[3,3];return[4,t.listFiles()];case 2:if((h=N.sent()).error)return l.Cp(Error("Find or create file returned an error"),{extra:{message:h.error}}),[2,[{data:{type:"error",label:h.error,icon:(0,s.Y)(g.A,{})},match:function(){return{score:1,render:{content:(0,s.Y)(y,{})}}}}]];if(!h.files)throw Error("Expected files");m=!0,v=!1,w=void 0;try{for(_=h.files[Symbol.iterator]();!(m=(S=_.next()).done);m=!0)A=S.value,c(A)||d.includes(A)||p.push(A)}catch(e){v=!0,w=e}finally{try{m||null==_.return||_.return()}finally{if(v)throw w}}N.label=3;case 3:return k=[],[4,Promise.all([b({searchQuery:n.searchQuery,paths:d,description:"Recently opened",run:function(n){e.openFile({path:n})}}),b({searchQuery:n.searchQuery,paths:p,run:function(n){e.openFile({path:n})}})])];case 4:if(Y=(C=a._.apply(void 0,[N.sent(),2]))[0],E=C[1],!e.getCurrentlyOpenFilePanesCommands)return[3,6];return[4,e.getCurrentlyOpenFilePanesCommands({searchQuery:n.searchQuery})];case 5:T=N.sent(),(x=k).push.apply(x,(0,i._)(T)),N.label=6;case 6:return Y.length&&(D=k).push.apply(D,(0,i._)(Y)),E.length&&(I=k).push.apply(I,(0,i._)(E)),0===E.length&&0===Y.length&&n.active&&(R=n.searchQuery,k.push({data:{label:R,description:"Create a new file",icon:(0,s.Y)(f.A,{path:R}),type:"action",run:function(){return(0,r._)(function(){return(0,o.YH)(this,function(n){switch(n.label){case 0:return[4,t.writeFile(R,u.A.from(""))];case 1:if(n.sent().error)return[2,{type:"error",message:'Could not create "'+R+'"'}];return e.openFile({path:R}),[2]}})})()}},match:function(){return{score:1}}})),[2,k]}})})()}})}},17683:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(72272);function s(e){return(0,i.FD)(o.A,(0,a._)((0,r._)({},e),{children:[(0,i.FD)("g",{clipPath:"url(#clip0_7378_478)",children:[(0,i.Y)("path",{fill:"#E01E5A",d:"M5.14 15.118a2.492 2.492 0 0 1-2.494 2.495A2.492 2.492 0 0 1 .15 15.118a2.492 2.492 0 0 1 2.495-2.494H5.14v2.494Zm1.247 0a2.492 2.492 0 0 1 2.495-2.494 2.492 2.492 0 0 1 2.494 2.494v6.236a2.492 2.492 0 0 1-2.494 2.495 2.492 2.492 0 0 1-2.495-2.495v-6.236Z"}),(0,i.Y)("path",{fill:"#36C5F0",d:"M8.882 5.102a2.492 2.492 0 0 1-2.495-2.494A2.492 2.492 0 0 1 8.882.113a2.492 2.492 0 0 1 2.494 2.495v2.494H8.882Zm0 1.267a2.492 2.492 0 0 1 2.494 2.494 2.492 2.492 0 0 1-2.494 2.495H2.627A2.492 2.492 0 0 1 .132 8.863a2.492 2.492 0 0 1 2.495-2.494h6.255Z"}),(0,i.Y)("path",{fill:"#2EB67D",d:"M18.879 8.863a2.492 2.492 0 0 1 2.494-2.494 2.492 2.492 0 0 1 2.495 2.494 2.492 2.492 0 0 1-2.495 2.495H18.88V8.863Zm-1.248 0a2.492 2.492 0 0 1-2.494 2.495 2.492 2.492 0 0 1-2.495-2.495V2.608A2.492 2.492 0 0 1 15.138.113a2.492 2.492 0 0 1 2.494 2.495v6.255Z"}),(0,i.Y)("path",{fill:"#ECB22E",d:"M15.137 18.86a2.492 2.492 0 0 1 2.494 2.494 2.492 2.492 0 0 1-2.494 2.495 2.492 2.492 0 0 1-2.495-2.495V18.86h2.495Zm0-1.247a2.492 2.492 0 0 1-2.495-2.495 2.492 2.492 0 0 1 2.495-2.494h6.255a2.492 2.492 0 0 1 2.495 2.494 2.492 2.492 0 0 1-2.495 2.495h-6.255Z"})]}),(0,i.Y)("defs",{children:(0,i.Y)("clipPath",{id:"clip0_7378_478",children:(0,i.Y)("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}))}},17761:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M21.53 2.47a.75.75 0 0 1 0 1.06l-5.72 5.72H20a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1-.75-.75V4a.75.75 0 0 1 1.5 0v4.19l5.72-5.72a.75.75 0 0 1 1.06 0ZM4 14.75a.75.75 0 0 1 0-1.5h6a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-4.19l-5.72 5.72a.75.75 0 0 1-1.06-1.06l5.72-5.72H4Z",clipRule:"evenodd"})}))}},17767:(e,n,t)=>{"use strict";t.d(n,{A:()=>h});var r=t(34837),a=t(60910),i=t(25189),o=t(39534),s=t(70764),l=t(18712),u=t(25227),c=(0,s.x)({root:[l.wp.position.relative,l.wp.px(4),l.wp.py(2),{margin:"-2px 0"},{fontSize:"inherit",width:"max-content",textAlign:"center",color:"inherit",textTransform:"capitalize"}],border:[l.wp.coverContainer,l.wp.borderRadius(4),{opacity:.5,minWidth:o.LU.space16,border:"1px solid",borderColor:o.LU.outlineStrongest}]});function d(e){var n=e.text;return(0,r.FD)(u.S,{css:[c.root],children:[n,(0,r.Y)(u.S,{css:c.border})]})}var f=(0,s.x)({shortcut:[l.wp.justify.end,l.wp.align.center,{"& > div":{minWidth:o.LU.space16}},l.wp.pr(4),l.wp.color.foregroundDimmest],block:[l.wp.rowWithGap(4),{display:"inline-flex"}],color:[l.wp.color.foregroundDefault],dimmed:[{opacity:.6}],noBorder:[l.wp.rowWithGap(2),{textTransform:"capitalize"}]}),p=(0,s.x)({inherit:[{fontSize:"inherit"}],small:[{fontSize:o.LU.fontSizeSmall}],default:[{fontSize:o.LU.fontSizeDefault}]});function h(e){var n=e.shortcut,t=e.size,o=void 0===t?"default":t,s=e.dimmed,l=e.hideBorder,c=e.className,h=(0,i.vm)();return l?(0,r.FD)(u.S,{css:[f.shortcut,f.color,f.noBorder,void 0===s||s?f.dimmed:null,p[o]],className:c,children:[n.cmdOrCtrlKey?(0,r.Y)(u.S,{children:(0,a.t3)(a.YX.CMD_OR_CTRL_KEY,h)}):null,n.shiftKey?(0,r.Y)(u.S,{children:(0,a.t3)(a.YX.SHIFT_KEY,h)}):null,n.altKey?(0,r.Y)(u.S,{children:(0,a.t3)(a.YX.ALT_KEY,h)}):null,(0,r.Y)(u.S,{children:"Enter"===n.key?(0,a.t3)(a.YX.RETURN_OR_ENTER_KEY,h):n.key})]}):(0,r.FD)(u.S,{css:[f.shortcut,f.block,f.color,p[o]],className:c,children:[n.cmdOrCtrlKey?(0,r.Y)(d,{text:(0,a.t3)(a.YX.CMD_OR_CTRL_KEY,h)}):null,n.shiftKey?(0,r.Y)(d,{text:(0,a.t3)(a.YX.SHIFT_KEY,h)}):null,n.altKey?(0,r.Y)(d,{text:(0,a.t3)(a.YX.ALT_KEY,h)}):null,"string"==typeof n.key?(0,r.Y)(d,{text:"Enter"===n.key?(0,a.t3)(a.YX.RETURN_OR_ENTER_KEY,h):n.key}):n.key]})}},17997:(e,n,t)=>{"use strict";t.d(n,{G:()=>l});var r=t(29935),a=t(82643),i=t(48373),o=t(95793),s=t(40115);function l(){var e=(0,s.A)().toolchain;return{modules:(0,i.A)(e.modules),configs:(0,i.A)(e.configs),moduleConfig:(0,i.A)(e.moduleConfig),setModuleConfig:function(n){return(0,r._)(function(){return(0,a.YH)(this,function(t){return[2,e.setModuleConfig(n)]})})()},addModule:function(n){return(0,r._)(function(){return(0,a.YH)(this,function(t){switch(t.label){case 0:return[4,e.addModule(n).catch(function(e){o.vF.error("Toolchain: failed to add Nix module: "+e.message)})];case 1:return t.sent(),[2]}})})()},removeModule:function(n){return(0,r._)(function(){return(0,a.YH)(this,function(t){switch(t.label){case 0:return[4,e.removeModule(n).catch(function(e){o.vF.error("Toolchain: failed to remove Nix module: "+e.message)})];case 1:return t.sent(),[2]}})})()},upgradeModule:function(n,t){return(0,r._)(function(){return(0,a.YH)(this,function(r){switch(r.label){case 0:return[4,e.upgradeModule(n,t).catch(function(e){o.vF.error("Toolchain: failed to upgrade Nix module: "+e.message)})];case 1:return r.sent(),[2]}})})()}}}},18872:e=>{e.exports={root:"Preferences_root__r7OOv",tabPanel:"Preferences_tabPanel__PG3pv"}},18947:(e,n,t)=>{"use strict";t.d(n,{O:()=>ee,A:()=>ea});var r=t(12694),a=t(34837),i=t(72096),o=t.n(i),s=t(21462),l=t(86035),u=t(80719),c=t(67862),d=t(48373),f=t(34778),p=t(41479),h=t(86105),m=t(35992),v=t(48686),g=t(92972),b=t(97126),y=t(49451),w=t(7882),_=t(63591),S=t(39534),A=t(70764),k=t(18712),C=t(40756),Y=t(75054),E=t(83096),x=t(3937),T=t(91953),D=t(90233),I=t(25227),R=t(6609),N=t(55929),O=t(62462),P=(0,A.x)({wrapper:[k.wp.borderRadius(4),k.wp.border({color:S.LU.backgroundHigher})],root:[k.wp.colWithGap(8),k.wp.maxHeight(520),k.wp.overflow("hidden")],inputs:[k.wp.mb(4),k.wp.p(8)],nameWarning:[{color:S.LU.redDefault}],taskItem:[k.wp.position.relative],buttons:[k.wp.border({direction:"top",color:S.LU.backgroundHigher})],nameInput:[k.wp.my(4)]});function F(e){var n=(0,r._)((0,s.useState)(""),2),t=n[0],i=n[1],o=(0,r._)((0,s.useState)([{id:(0,v.Ak)(),config:null}]),2),l=o[0],u=o[1],c=(0,r._)((0,s.useState)("sequential"),2),d=c[0],p=c[1],S=(0,_.XO)(),A=(0,s.useMemo)(function(){return!S.includes(t)},[t,S]),k=(0,s.useMemo)(function(){if(!t)return(0,g._)("Missing name");if(!A)return(0,g._)("".concat(t," already exists"));if(0===l.length)return(0,g._)("Missing tasks");var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=l[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if(null===u.config)return(0,g._)("Invalid task");n.push(u.config)}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return(0,g.Ok)({name:t,mode:d,author:e.userId,tasks:n})},[t,d,l,A,e.userId]);function F(e,n){if(l&&e!==n){var t=(0,h._)(l),a=(0,r._)(t.splice(e,1),1)[0];t.splice(n,0,a),u(t)}}return(0,a.Y)(x.ui,{css:P.wrapper,children:(0,a.FD)(Y.lV,{css:P.root,onSubmit:function(n){(0,f.u4)(f.AZ.WORKFLOW_CREATED,{pane:"workflows",shellExecCount:l.reduce(function(e,n){var t;return(null==(t=n.config)?void 0:t.task)==="shell.exec"?e+1:e},0),packagerCount:l.reduce(function(e,n){var t,r;return(null==(t=n.config)?void 0:t.task)==="packager.installForAll"||(null==(r=n.config)?void 0:r.task)==="packager.installForLanguage"?e+1:e},0),mode:d,userId:e.userId}),n.preventDefault(),k.ok&&e.onCreate(k.value)},children:[(0,a.FD)(I.S,{css:P.inputs,gap:8,children:[(0,a.FD)(I.S,{gap:2,children:[(0,a.Y)(T.EY,{variant:"small",color:"dimmest",children:"Workflow"}),A?null:(0,a.Y)(T.EY,{variant:"small",css:P.nameWarning,children:"Duplicate workflow name"}),(0,a.Y)(E.pd,{css:P.nameInput,required:!0,placeholder:"Name",value:t,onChange:function(e){return i(e.currentTarget.value)}})]}),(0,a.FD)(I.S,{gap:2,children:[(0,a.Y)(T.EY,{variant:"small",color:"dimmest",children:"Mode"}),(0,a.Y)(w.n3,{mode:d,disabled:!1,onChange:p})]}),(0,a.FD)(I.S,{gap:2,children:[(0,a.Y)(T.EY,{variant:"small",color:"dimmest",children:"Tasks"}),l.length?(0,a.Y)(b.i,{mode:d}):null,(0,a.FD)(I.S,{pl:12,gap:8,children:[(0,a.Y)(R.A,{children:l.map(function(e,n){var t;return(0,a.FD)(I.S,{css:P.taskItem,children:[(0,a.Y)(y.S2,{taskIndex:n,disabled:!1,format:!1,onReorder:F,onChange:function(e){u(function(t){return(0,m.jM)(t,function(t){t[n].config=e})})},onRemove:function(){u(function(e){return(0,m.jM)(e,function(e){e.splice(n,1)})})},initialConfig:null!=(t=l[n].config)?t:void 0}),(0,a.Y)(b.L,{mode:d,hideBottom:n>=l.length-1})]},e.id)})}),(0,a.Y)(C.$n,{text:"Add task",type:"button",onClick:function(){u(function(e){return(0,m.jM)(e,function(e){e.push({id:(0,v.Ak)(),config:null})})})},iconLeft:(0,a.Y)(N.A,{})})]})]})]}),(0,a.FD)(I.S,{css:P.buttons,grow:!0,shrink:!0,justify:"end",p:8,row:!0,gap:12,children:[(0,a.Y)(C.$n,{text:"Cancel",onClick:e.onCancel}),(0,a.Y)(D.m_,{tooltip:k.ok?"Save Workflow":k.error,children:(0,a.Y)(C.$n,{iconLeft:(0,a.Y)(O.A,{}),colorway:"primary",disabled:!k.ok,text:"Save",type:"submit"})})]})]})})}var U=t(25722),L=t(66186),M=t(83031),J=t(16653),H=t(73455),B=t(70251),V=t(95905),$=t(22611),G=t(9844),z=t(84014),W=t(33683),j=t(70111),q=t(77901),Z=t(43193),K=t(90843);function Q(e){var n=(0,_.cQ)(),t=(0,p.I)(function(t){return function(){(0,f.u4)(f.AZ.WORKFLOW_RAN,{source:"workflowsPane"});var r,a=null==(r=n())?void 0:r[e];return!!a&&t.workflows.runWorkflow.rpc({workflowId:a.name})}},[n,e]),r=(0,_.Jl)(e),a=(0,p.I)(function(e){return function(){(0,f.u4)(f.AZ.WORKFLOW_STOPPED,{source:"workflowsPane"});var n,t=null==(n=r())?void 0:n.runId;return!!t&&e.workflows.stopRun.rpc({runId:t})}},[r]),i=(0,_.ch)(e);return(0,s.useMemo)(function(){return t&&a?{run:t,stop:a,isRunningObservable:i}:null},[t,a,i])}function X(e){var n=e.index,t=(0,_.j3)(n),r=Q(n),i=(0,d.A)(null==r?void 0:r.isRunningObservable);return t&&r?(0,a.Y)(I.S,{row:!0,gap:8,children:(0,a.Y)(C.$n,{size:"small",iconLeft:i?(0,a.Y)(q.A,{}):(0,a.Y)(j.A,{}),text:t.name,onClick:function(){i?r.stop():r.run()}})}):null}function ee(){var e=(0,_.wU)(),n=(0,_.mP)();return(0,a.Y)(I.S,{gap:8,children:e.filter(function(e){var t;return!(null==(t=n[e].metadata)?void 0:t.generated)}).map(function(e){return(0,a.Y)(X,{index:e},e)})})}var en=(0,A.x)({wrapper:[k.wp.borderRadius(4),k.wp.backgroundColor.backgroundHigher],expandedContent:[k.wp.border({direction:"top"})]});function et(e){var n,t=e.index,i=e.readOnly,o=(0,_.j3)(t),l=(0,_.nd)(t),u=Q(t),c=(0,d.A)(null==u?void 0:u.isRunningObservable),f=(0,r._)((0,s.useState)(!1),2),p=f[0],h=f[1],m=(0,_.oE)(),v=(0,_.jP)(),g=(0,s.useMemo)(function(){return(null==o?void 0:o.name)===v},[o,v]);return o?(0,a.FD)(x.ui,{children:[(0,a.Y)(M.A,{css:en.wrapper,headerContent:(0,a.FD)(I.S,{grow:!0,shrink:!0,row:!0,gap:4,children:[u?(0,a.Y)(H.K0,{alt:c?"Stop workflow":"Run workflow",onClick:function(){c?u.stop():u.run()},children:c?(0,a.Y)(q.A,{}):(0,a.Y)(j.A,{})}):null,(0,a.Y)(I.S,{grow:!0,shrink:!0,row:!0,gap:8,align:"center",justify:"start",children:(0,a.Y)(T.EY,{multiline:!1,children:o.name})}),(0,a.FD)(I.S,{row:!0,gap:4,align:"center",children:[l?(0,a.Y)(D.m_,{tooltip:l,children:(0,a.Y)(K.A,{color:S.LU.accentNegativeDefault})}):null,g?(0,a.Y)(D.m_,{tooltip:"Assigned to run button",maxWidth:150,children:(0,a.Y)(V.K,{text:"Run Button",colorway:"positive"})}):null,"agent"===o.author||(null==(n=o.metadata)?void 0:n.generated)?(0,a.Y)(D.m_,{tooltip:"Generated by ".concat(o.author),maxWidth:150,children:(0,a.Y)(V.K,{text:"Generated",colorway:"purple"})}):(0,a.Y)(H.K0,{alt:"Delete",onClick:function(){h(!0)},children:(0,a.Y)(Z.A,{})})]})]}),children:(0,a.Y)(I.S,{css:en.expandedContent,children:(0,a.Y)(w.Wu,{index:t,readOnly:i})})}),(0,a.Y)(B.a,{isOpen:p,onRequestClose:function(){return h(!1)},children:(0,a.Y)(z.A,{name:"Workflow",description:o.name,confirmDescription:"workflow",hideModal:function(){return h(!1)},delete:function(){return m(t)}})})]}):null}var er=(0,A.x)({generatedList:[{opacity:.7}],loading:[k.wp.center,k.wp.p(16)],error:[k.wp.center,k.wp.p(16)],divider:[k.wp.height(2),k.wp.backgroundColor.accentPrimaryDimmest]});function ea(){var e=(0,r._)((0,s.useState)(""),2),n=e[0],t=e[1],i=(0,r._)((0,s.useState)(!1),2),d=i[0],p=i[1],h=(0,u.jt)(),m=(0,L.hT)(),v=(0,r._)((0,s.useState)(!1),2),g=v[0],b=v[1],y=(0,_.wU)(),w=(0,_.mP)(),S=(0,_.XO)(),A=(0,_.Eo)(),k=(0,_.oh)(),Y=(0,_.wb)(),E=(0,U.i)(),x=!!Y||h&&(m===l.g32.AGENT_STATE_RUNNING||m===l.g32.AGENT_STATE_PAUSING),R=(0,s.useMemo)(function(){return y.reduce(function(e,t){return S[t].toLowerCase().includes(n.toLowerCase())&&e.push(t),e},[]).sort(function(e,n){var t,r,a,i,o=null!=(a=(null==(t=w[e].metadata)?void 0:t.generated)||"agent"===w[e].author)&&a,s=null!=(i=(null==(r=w[n].metadata)?void 0:r.generated)||"agent"===w[n].author)&&i;return o&&!s?1:!o&&s?-1:0})},[n,y,S,w]),O=(0,s.useMemo)(function(){return R.filter(function(e){var n=w[e];return!(n.metadata&&n.metadata.generated)&&"agent"!==n.author})},[R,w]),P=(0,s.useMemo)(function(){return R.filter(function(e){return"agent"===w[e].author})},[R,w]),H=(0,s.useRef)(),B=function(){clearTimeout(H.current),H.current=setTimeout(function(){(0,f.u4)(f.AZ.WORKFLOWS_SEARCHED)},1e3)};return k?(0,a.Y)(I.S,{css:er.loading,children:(0,a.Y)(W.A,{})}):(0,a.FD)(I.S,{p:8,gap:8,children:[(0,a.FD)(I.S,{row:!0,gap:8,children:[(0,a.Y)(I.S,{grow:!0,shrink:!0,children:(0,a.Y)($.I,{placeholder:"Search for a workflow...",value:n,onChange:function(e){B(),t(e.target.value)},onClear:function(){return t("")}})}),(0,a.Y)(D.m_,{tooltip:"Workflow editing is disabled while the Agent is running",isDisabled:!x,children:(0,a.Y)(C.$n,{isDisabled:x,colorway:"primary",iconLeft:(0,a.Y)(N.A,{}),text:"New Workflow",disabled:d,onClick:function(){p(!0)}})})]}),(0,a.Y)(J.a,{}),d?(0,a.FD)(a.FK,{children:[(0,a.Y)(F,{onCreate:function(e){A(e),p(!1)},onCancel:function(){p(!1)},userId:null==E?void 0:E.id}),(0,a.Y)(J.a,{css:er.divider})]}):null,Y?(0,a.Y)(I.S,{css:er.error,children:(0,a.Y)(D.m_,{tooltip:Y.extras,children:(0,a.Y)(G.N,{icon:(0,a.Y)(K.A,{}),colorway:"red",text:Y.message})})}):null,(0,a.FD)(I.S,{gap:8,children:[O.length||Y?null:(0,a.Y)(I.S,{align:"center",children:(0,a.Y)(T.EY,{children:(0,a.Y)(o(),{target:"_blank",href:c.ik.WORKFLOWS,children:"Learn more about configuring Workflows"})})}),O.length?O.map(function(e){return(0,a.Y)(et,{readOnly:x,index:e},e)}):null,P.length?(0,a.Y)(I.S,{children:(0,a.Y)(M.A,{headerContent:"Agent Workflows",expanded:g,onClick:function(){return b(!g)},children:(0,a.Y)(I.S,{css:er.generatedList,py:8,gap:8,children:P.map(function(e){return(0,a.Y)(et,{index:e,readOnly:x},e)})})})}):null]})]})}},19042:(e,n,t)=>{"use strict";t.d(n,{n:()=>b});var r=t(29935),a=t(82643),i=t(34837),o=t(44411),s=t(56783),l=t(42996),u=t(26512),c=t(70764),d=t(18712),f=t(40756),p=t(3937),h=t(91953),m=t(25227),v=t(62036),g=(0,c.x)({root:[d.wp.borderRadius()],buttonContainer:[d.wp.width("100%"),d.wp.justify.center],upgradeButton:[d.wp.width("60%")]});function b(e){var n=e.aiName,t=(0,s.g)().show,c=(0,u.A)(),d=(0,l.e)();return(0,i.FD)(p.ui,{elevated:!0,css:g.root,py:8,px:12,gap:8,align:"center",children:[(0,i.FD)(h.EY,{children:[n," is currently experiencing high demand and is temporarily unavailable for ",o.Lm," plan users."]}),(0,i.FD)(h.EY,{children:["Please try again later, or upgrade to ",o.en," for immediate access."]}),(0,i.Y)(m.S,{css:g.buttonContainer,row:!0,gap:6,children:(0,i.Y)(f.$n,{text:"Upgrade to ".concat(o.en),iconLeft:(0,i.Y)(v.A,{}),onClick:function(){return(0,r._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,t("MembershipPurchaseModal",{analyticsContext:{upgrade:{context:"agent_freemium_quota"}},onPurchaseComplete:function(){return c()},redirectPath:d})];case 1:return e.sent(),[2]}})})()},colorway:"brand",css:g.upgradeButton})})]})}},19320:e=>{e.exports={requiresPaymentContainer:"Footer_requiresPaymentContainer__yb4l8",guestUnauthorizedContainer:"Footer_guestUnauthorizedContainer__FafEK",drawerContainer:"Footer_drawerContainer__qpqwO"}},19412:(e,n,t)=>{"use strict";t.d(n,{tB:()=>S,fW:()=>k,iO:()=>A});var r=t(21462),a=t(76957),i=t(17844),o=t(12584),s=t(41114),l=t(54744);function u(){var e=(0,o._)(["\n  query ThemeOverlayAvailability($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        timeCreated\n      }\n    }\n  }\n"]);return u=function(){return e},e}var c={},d=(0,s.J1)(u()),f=t(83028),p=t(86103),h=t(61125),m=t(17991),v=t(84135),g=new Set(["background","foreground","card","card-foreground","popover","popover-foreground","primary","primary-foreground","secondary","secondary-foreground","muted","muted-foreground","accent","accent-foreground","destructive","destructive-foreground","border","input","ring","font-sans","font-serif","font-mono","radius"]),b=new Date("2024-08-15T00:00:00.000Z"),y=(0,a.eU)(!1);(0,a.eU)(null,function(e,n){n(y,!0)});var w=(0,a.eU)(null,function(e,n){n(y,!1)}),_=(0,a.eU)(null,function(e,n){n(y,function(e){return!e})});function S(){return(0,f.ob)(w)}function A(){var e,n,t=(0,h.A)(),a=(0,m._)(),o=(0,p._P)({controlName:"flag-app-themes"}),s=(e={variables:{replId:t},skip:!o},n=(0,i._)({},c,e),l.I(d,n)).data,u=(0,v.n)(),f=u.theme,y=u.error,w=(0,r.useMemo)(function(){if(!(null==s?void 0:s.getRepl))return!1;var e=s.getRepl;return"Repl"===e.__typename&&new Date(e.timeCreated)>=b},[s]),_=(0,r.useMemo)(function(){if(y||!f)return!1;var e=f[":root"];if(!e)return!1;var n=new Set(Object.keys(e));if(n.size<g.size)return!1;var t=!0,r=!1,a=void 0;try{for(var i,o=g[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;if(!n.has(s))return!1}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return!0},[f,y]);return(0,r.useMemo)(function(){return!!a&&!!o&&!!w&&!!_},[o,w,_,a])}function k(){return{isThemeOverlayVisible:(0,f.h)(y),toggleThemeOverlay:(0,f.ob)(_)}}},19557:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var r=t(29935),a=t(82643),i=t(40185),o=t.n(i),s=t(59270),l=t(67276),u=t(89117);function c(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r._)(function(){var i,c,d,f,p,h,m,v,g,b,y;return(0,a.YH)(this,function(w){switch(w.label){case 0:if(i=(0,s.P7)(e),c=(0,s.WP)(e),(d=document.createElement("a")).download=c,d.target="_blank",d.style.display="none",!t)return[3,2];if("string"!=typeof(p=o().query.replId))throw Error("replId not found in router query");return h=function(){return(0,r._)(function(){return(0,a.YH)(this,function(e){return[2,{isEmbed:!!(o().query.lite||o().query.embed),hCaptchaSiteKey:u.lh}]})})()},[4,(0,l.KF)({replId:p,getCaptcha:h})];case 1:return v=(m=w.sent()).baseUrl,g=m.token,d.href="".concat(v,"/repls/").concat(p,"/files/file?path=").concat(encodeURIComponent(e),"&token=").concat(g,"&download=true"),[3,3];case 2:b=new Blob([n.toBuffer()],{type:i}),y=window.URL.createObjectURL(b),d.href=y,f=function(){window.URL.revokeObjectURL(y)},w.label=3;case 3:return document.body.appendChild(d),d.click(),setTimeout(function(){document.body.removeChild(d),null==f||f()},1e4),[2]}})})()}},19849:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(34837),a=t(21462),i=t(91242),o=t(25227);function s(e){var n=e.modules,t=(0,a.useMemo)(function(){return n.filter(function(e){return"replit"!==e.id})},[n]);return(0,r.Y)(o.S,{gap:8,children:t.map(function(e){return(0,r.Y)(i.A,{module:e,defaultExpanded:!0,isInstalled:!0},e.id)})})}},19882:(e,n,t)=>{"use strict";t.d(n,{u:()=>N});var r=t(12694),a=t(86105),i=t(34837),o=t(21462),s=t(39534),l=t(91953),u=t(25227),c=t(24857),d=t(16935),f=t(66404),p=t(86868),h=t(46973),m=t(78603),v=t(21550),g=t(89364),b=t(80325),y=t(22440),w=t(59771),_=t(50957),S=t(2718),A=t(12785),k=t(14952),C=t(51481),Y=t(99229),E=t(8440),x=t(55939),T=t.n(x),D=[{text:"Built-in database (just ask Agent!)",icon:"Database"},{text:"Develop on the go with the mobile app",icon:"Smartphone"},{text:'Press "Publish" to put your app online',icon:"Deploy"},{text:"Use Plan Mode to chat without code changes",icon:"Chat"},{text:"Use Edit Mode to change individual elements",icon:"Edit"},{text:"Use App Storage for images/videos",icon:"Cloud"},{text:"Invite collaborators in real-time",icon:"UserAdd"},{text:"Use Rollbacks to undo changes",icon:"History"},{text:"Turn on Dynamic Intelligence for more power",icon:"Cpu"},{text:"Send message while Agent is working to add to queue",icon:"ChatAdd"},{text:"Seamless integrations with 3rd party tools",icon:"Puzzle"}],I=[{text:"Generate images with AI, automatically",icon:"Sparkle"},{text:"Agent checks its work with App Testing",icon:"Cursor"},{text:"Custom domains for professional apps",icon:"Globe"}],R=[{text:"Connect your agent or automation to external services",icon:"Link"}];function N(e){var n,t,x=e.isAgentStackRepl,N=(0,r._)((0,o.useState)(0),2),O=N[0],P=N[1],F=(0,r._)((0,o.useState)(!0),2),U=F[0],L=F[1],M=(0,o.useRef)(null),J=x?(0,a._)(D).concat((0,a._)(R)):(0,a._)(D).concat((0,a._)(I));(0,o.useEffect)(function(){var e=setInterval(function(){L(!1),M.current=window.setTimeout(function(){P(function(e){return(e+1)%J.length}),L(!0)},300)},3500);return function(){clearInterval(e),M.current&&clearTimeout(M.current)}},[J.length]);var H=J[O];return(0,i.FD)(u.S,{row:!0,align:"center",gap:12,py:4,className:T().capabilityContainer,style:{opacity:+!!U,transform:U?"translateY(0)":"translateY(4px)"},children:[(0,i.Y)(u.S,{children:(n=H.icon,(t=({Deploy:g.A,Sparkle:C.A,Database:v.A,Cloud:p.A,Smartphone:k.A,UserAdd:Y.A,Cursor:m.A,History:w.A,Chat:d.A,Edit:b.A,Cpu:h.A,ChatAdd:f.A,Puzzle:A.A,Globe:y.A,Link:_.A,Publish:S.A,UserMultiplayer:E.A,Bug:c.A})[n])?(0,i.Y)(t,{size:20,color:s.LU.foregroundDimmer}):null)}),(0,i.Y)(l.EY,{color:"dimmer",children:H.text})]})}},20016:(e,n,t)=>{"use strict";t.d(n,{A:()=>u});var r=t(21462),a=t(26737),i=t(61125),o=t(34778),s=t(40115),l=new Set([3e3,3001,3002,3003,3306,4e3,4200,5e3,5432,5173,6e3,6800,7e3,7001,8e3,8008,8080,8081,8888,9e3,9001,1e4,25565,25577,8887,27017,27018]);function u(){var e=(0,s.A)().container,n=(0,a.g)("webviewAutoOpenOnPortOpened").preferences.webviewAutoOpenOnPortOpened,t=(0,i.A)();(0,r.useEffect)(function(){return e.onPortOpened(function(e){var r=e.port,a=e.address,i=e.isForwarded,s=e.isVnc,u=e.externalPort;if(i)return void(0,o.u4)(o.AZ.WORKSPACE,{action:"port_opened",type:s?"vnc":"webview",replId:t,port:r,externalPort:u,address:a,webviewAutoOpenOnPortOpened:n});(0,o.u4)(o.AZ.WORKSPACE,{action:"unforwarded_port_opened",port:r,isCommon:l.has(r),address:a,type:s?"vnc":"webview",replId:t,externalPort:u})})},[e,t,n])}},20060:(e,n,t)=>{"use strict";t.d(n,{uG:()=>A,gv:()=>S});var r=t(37743),a=t(17844),i=t(93629),o=t(12694),s=t(34837),l=t(21462),u=t(41409),c=t(48373),d=t(61146),f=t(82701),p=t(94123),h=t(39534),m=t(18712),v=t(91953),g=t(25227),b=t(73635),y=t(25590);function w(e){return(0,s.FD)(y.Ay,(0,i._)((0,a._)({},e),{children:[(0,s.Y)("path",{fillRule:"evenodd",d:"M12 2.6a9.4 9.4 0 1 0 0 18.8 9.4 9.4 0 0 0 0-18.8ZM1.4 12C1.4 6.146 6.146 1.4 12 1.4c5.854 0 10.6 4.746 10.6 10.6 0 5.854-4.746 10.6-10.6 10.6-5.854 0-10.6-4.746-10.6-10.6Zm7-3a.6.6 0 0 1 .6-.6h.01a.6.6 0 0 1 0 1.2H9a.6.6 0 0 1-.6-.6Zm6 0a.6.6 0 0 1 .6-.6h.01a.6.6 0 1 1 0 1.2H15a.6.6 0 0 1-.6-.6Z",clipRule:"evenodd"}),(0,s.Y)("path",{d:"M8.71 14.515c.753-.548 1.875-1.115 3.29-1.115s2.537.567 3.29 1.115a6.538 6.538 0 0 1 1.1 1.013 3.76 3.76 0 0 1 .081.1l.009.012a.6.6 0 0 1-.959.722l-.05-.062a5.353 5.353 0 0 0-.886-.815c-.622-.452-1.5-.885-2.585-.885s-1.963.433-2.585.885a5.351 5.351 0 0 0-.886.815 2.31 2.31 0 0 0-.041.05l-.009.011a.6.6 0 0 1-.839.119.613.613 0 0 1-.093-.875l.063-.077c.053-.064.13-.152.23-.256.2-.207.492-.482.87-.757Z"})]}))}var _=t(33683),S=new(function(){function e(){var n=this;(0,r._)(this,e),this.counter=0,this.enabled=!1,this.maxEntries=10,this.logs=(0,u.F)([]),this.clear=function(){n.logs.current=[]}}var n=e.prototype;return n.toggle=function(e){this.enabled=e},n.add=function(e){var n=this,t=this.counter++;if(!this.enabled)return{id:t};var r={id:t,request:e,requestTime:Date.now()};return this.logs.update(function(e){return[r].concat(e).slice(0,n.maxEntries)}),{id:t}},n.update=function(e,n){this.enabled&&this.logs.update(function(t){var r=t.findIndex(function(n){return n.id===e.id});if(-1===r)return t;var a=t.slice();return a[r]=n(a[r]),a})},n.complete=function(e,n){this.update(e,function(e){return(0,i._)((0,a._)({},e),{response:n,responseTime:Date.now()})})},n.abort=function(e){this.logs.update(function(n){return n.filter(function(n){return n.id!==e.id||null!=n.responseTime})})},e}()),A=function(e){var n=e.isHidden,t=(0,c.A)(S.logs);return n?null:(0,s.FD)(g.S,{css:[m.wp.flex.column],children:[(0,s.FD)(g.S,{css:[m.wp.m(4),m.wp.position.sticky,m.wp.top(0),m.wp.backgroundColor.backgroundDefault,m.wp.zIndex(1)],row:!0,align:"center",children:[(0,s.Y)(v.EY,{css:m.wp.flex.grow(1),multiline:!1,children:"Requests"}),(0,s.Y)(p.D,{onClick:S.clear})]}),(0,s.FD)(g.S,{css:[m.wp.flex.column,m.wp.overflow("auto")],grow:!0,children:[t.map(function(e){var n;return(0,s.Y)(k,{log:e},null!=(n=e.id)?n:e.requestTime.valueOf())}),!t.length&&(0,s.Y)(g.S,{css:m.wp.m(4),children:"\uD83D\uDE14 No logs yet..."})]})]})},k=(0,l.memo)(function(e){var n,t=e.log,r=t.requestTime,a=t.responseTime,i=t.request,l=t.response,u=(0,o._)((0,f.A)(!0),2),c=u[0],p=u[1],y=i.prefix.length>20?"...".concat(i.prefix.slice(-20)):i.prefix;return(0,s.FD)(g.S,{css:[m.wp.my(4),m.wp.mx(4)],children:[(0,s.FD)(g.S,{role:"button",onClick:p,onKeyDown:p,tabIndex:0,css:[{"&:hover":{cursor:"pointer",".lspLog-requestMethod":{textDecoration:"underline"}}}],row:!0,gap:4,children:[(0,s.FD)(g.S,{grow:!0,row:!0,gap:2,children:[(0,s.Y)(v.EY,{multiline:!1,children:(n=t.response)?"CompleteCodeResult"===n.__typename?(0,s.Y)(b.A,{}):(0,s.Y)(w,{}):(0,s.Y)(_.A,{})}),(0,s.Y)(v.EY,{multiline:!1,children:(0,s.Y)("code",{children:y})})]}),(0,s.Y)(g.S,{css:{opacity:.5},children:null!=a&&(0,s.FD)(v.EY,{css:m.wp.fontSize(13),multiline:!1,children:[a.valueOf()-r.valueOf(),"ms"]})})]}),!c&&(0,s.FD)(s.FK,{children:[void 0!==i&&(0,s.Y)(d.U,{name:"request",src:i}),void 0!==l&&("CompleteCodeResult"===l.__typename?(0,s.FD)("details",{children:[(0,s.Y)("summary",{children:"Response"}),(0,s.Y)("pre",{css:[m.wp.overflow("scroll"),m.wp.borderRadius(4),m.wp.p(4),{border:"1px solid ".concat(h.LU.outlineDimmest)}],children:l.code})]}):(0,s.Y)(d.U,{name:"response",src:l}))]})]})})},20573:(e,n,t)=>{"use strict";t.d(n,{N:()=>s});var r=t(45772),a=t(29935),i=t(82643);let o={name:"upm",getInstalledPackages:function(e){return(0,a._)(function(e){var n,t;return(0,i.YH)(this,function(r){switch(r.label){case 0:return n=e.id,[4,e.services.packager.listSpecfile(n)];case 1:if((t=r.sent()).error||null===t.packages)return[2,[]];return[2,t.packages]}})}).apply(this,arguments)},getPackageInfo:function(e){return(0,a._)(function(e){var n,t;return(0,i.YH)(this,function(r){return n=e.id,t=e.name,[2,e.services.packager.fetchPackageInfo(t,n)]})}).apply(this,arguments)},search:function(e){return(0,a._)(function(e){var n,t;return(0,i.YH)(this,function(r){return n=e.id,t=e.query,[2,e.services.packager.searchPackages(t,n)]})}).apply(this,arguments)},install:function(e){return(0,a._)(function(e){var n,t;return(0,i.YH)(this,function(r){switch(r.label){case 0:return n=e.id,t=e.pkgs,[4,e.services.packager.addPackages(t,n)];case 1:if(!r.sent())throw Error("Package install failed");return[2]}})}).apply(this,arguments)},uninstall:function(e){return(0,a._)(function(e){var n,t,r,a;return(0,i.YH)(this,function(i){switch(i.label){case 0:return n=e.id,t=e.pkgs,r=e.services.packager,a=t.filter(function(e){return e.name}).map(function(e){return e.name}),[4,r.removePackages(a,n)];case 1:if(!i.sent())throw Error("Package uninstall failed");return[2]}})}).apply(this,arguments)}};function s(e){return"nix"===e?r.A:o}},21105:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r=t(21462);function a(e){(0,r.useEffect)(function(){var n=function(n){"Escape"===n.key&&e(n)};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}},[e])}},21117:(e,n,t)=>{"use strict";t.d(n,{l:()=>a});var r=t(86035);function a(e){return!!e&&e===r.qf8.STACK_BLUEPRINT_FULLSTACK_JS}},21130:(e,n,t)=>{"use strict";t.d(n,{j:()=>s,x:()=>o});var r=t(76957),a=t(49313),i=(0,r.eU)(void 0);function o(){return(0,a.h)(i)}function s(){return(0,a.ob)(i)}},21365:(e,n,t)=>{"use strict";t.d(n,{A:()=>v});var r=t(29935),a=t(12694),i=t(86105),o=t(82643),s=t(21462),l=t(29544),u=t(59270),c=t(49555),d=t(34778),f=t(40115),p=t(91539),h=t(41285),m=t(843);function v(e){var n,t,v=e.moveOrDeleteFile,g=(0,f.A)().fs,b=(0,s.useRef)(new Map),y=(0,m.mU)(),w=(0,a._)((0,s.useState)(!1),2),_=w[0],S=w[1],A=(0,a._)((0,s.useState)(!1),2),k=A[0],C=A[1],Y=(0,a._)((0,s.useState)([]),2),E=Y[0],x=Y[1],T=(0,h.i)(),D=(0,p.iO)(),I=E.map(function(e){return e.path}).map(function(e){return{title:e,path:e}}),R=(0,a._)((0,s.useState)(),2),N=R[0],O=R[1],P=(0,m.tn)();(0,s.useEffect)(function(){if(y&&!b.current.has(y)){var e=function(e){var n=e.node.path;P(e.eventType===c.dV.Move?{path:n,type:"move",to:e.to}:{path:n,type:"delete"}),v&&v(e),b.current.delete(y),x(function(e){return e.filter(function(e){return e.path!==y})})};(0,u.m6)(y)?g.watchTextFile(y,{onMoveOrDelete:e,onError:function(e,n){e.code||(g.flush(),g.persist({skipDebounce:!0}),D({error:e,extras:n,tags:{ot:!0},origin:"useContentsDiverged: fs.watchTextFile"}))},onReconnectFail:function(e,n){x(function(t){return(0,i._)(t.filter(function(e){return e.path!==y})||[]).concat([{path:y,prompt:n,cb:e}])}),S(!0),N||O(y)}}):g.watchFile(y,{onChange:function(){},onMoveOrDelete:e}),b.current.set(y,!0)}},[y,g,D,v,N,P]);var F=N?E.find(function(e){return e.path===N}):null,U=null==F?void 0:F.prompt,L=(0,l.M)({left:{code:null!=(n=null==U?void 0:U.localContent)?n:"",filePath:N},right:{code:null!=(t=null==U?void 0:U.remoteContent)?t:"",filePath:N}});return{isConverging:k,didContentsDiverge:_,showMoreDetail:T,failedFiles:E,failedFilesOptions:I,selectedFile:N,setSelectedFile:O,reviewingPrompt:U,onChoice:function(e){return(0,r._)(function(){return(0,o.YH)(this,function(n){switch(n.label){case 0:return(0,d.u4)(d.AZ.FILE_RECONNECT_FALLBACK_CHOSEN,{choice:e}),(0,d.u4)(d.AZ.CONTENTS_DIVERGED_ACTION,{action:"local"===e?"client":"server"}),C(!0),[4,Promise.all(E.map(function(n){return x(function(e){var t=e.filter(function(e){return e.path!==n.path});return 0===t.length?S(!1):O(t[0].path),t}),n.cb(e)}))];case 1:return n.sent(),C(!1),[2]}})})()},local:L.left,remote:L.right}}},21369:e=>{e.exports={welcomeMessage:"Thread_welcomeMessage___EQvg",welcomeSuggestions:"Thread_welcomeSuggestions__TBZv_",suggestionDisplay:"Thread_suggestionDisplay__PO5x1",suggestionButton:"Thread_suggestionButton__EIDRe",root:"Thread_root__J9xI_",viewport:"Thread_viewport__twpzD",welcomeContainer:"Thread_welcomeContainer__0pBdY",welcomeTitle:"Thread_welcomeTitle__Aegg0",welcomeSubtitle:"Thread_welcomeSubtitle__Ku052",suggestionTitle:"Thread_suggestionTitle__jFRlA",composerWrapper:"Thread_composerWrapper__FPoWY",composerRoot:"Thread_composerRoot__gg79p",composerInput:"Thread_composerInput__ixeRv",composerInputWrapper:"Thread_composerInputWrapper__m_cw_",composerActions:"Thread_composerActions__jnAXT",composerActionButton:"Thread_composerActionButton__AJVpt",assistantErrorMessage:"Thread_assistantErrorMessage__j4flU",assistantMessage:"Thread_assistantMessage__aRGN3",assistantAvatar:"Thread_assistantAvatar__kVqt5",assistantContent:"Thread_assistantContent__SE0Bt",thinkingIndicator:"Thread_thinkingIndicator__JL6VW",userMessage:"Thread_userMessage__RiXDz",userContent:"Thread_userContent__b8Y2p",assistantActionBar:"Thread_assistantActionBar__iyQNK",messageActions:"Thread_messageActions__Jl0jl",scrollToBottom:"Thread_scrollToBottom__j_20K",spacer:"Thread_spacer__CFZA9",markdownContent:"Thread_markdownContent__hmRZF"}},21441:e=>{e.exports={animatedContainer:"FigmaUrlInputAnimated_animatedContainer__Oy9UK","smooth-slide-down-and-fade-in":"FigmaUrlInputAnimated_smooth-slide-down-and-fade-in__q6jnY"}},21484:(e,n,t)=>{"use strict";t.d(n,{N:()=>r});var r=t(45773).Lz.contentAttributes.of({autocapitalize:"on"})},21733:(e,n,t)=>{"use strict";t.d(n,{T:()=>Y,O:()=>k});var r=t(17844),a=t(93629),i=t(34837),o=t(21462),s=t(860),l=t(60910),u=t(35992),c=t(76957),d=t(12694),f=t(79203);function p(){return(0,d._)((0,o.useState)(function(){return(0,c.y$)()}),1)[0]}var h=(0,o.createContext)(null),m=function(e){return(0,f.Xr)(e,{store:function(){var e=(0,o.useContext)(h);if(!e)throw Error("Expected store in context");return e}()})},v=(0,c.eU)(-1),g=(0,c.eU)([]),b=(0,c.eU)(void 0),y=(0,c.eU)(null,function(e,n,t){var r=e(b);switch(r&&(clearTimeout(r.id),r.cb()),t){case"forward":n(v,function(n){return Math.min(e(g).length,n+1)});break;case"backward":n(v,function(e){return Math.max(0,e-1)})}var a=e(g),i=e(v);return i>=a.length?"":a[i]}),w=(0,c.eU)(null,function(e,n,t){clearTimeout(null==(r=e(b))?void 0:r.id);var r,a=function(){if(t.length>0){var r=!1;n(g,function(n){return(0,u.jM)(n,function(n){if(t!==n[e(v)])for(r=!0,n.push(t);n.length>20;)n.shift()})}),r&&n(v,e(g).length-1)}n(b,void 0)};n(b,{id:setTimeout(a,2e3),cb:a})}),_=t(83096);function S(e){var n,t=m(w),i=(n=m(y),{forward:(0,s.A)(function(){return function(){return n("forward")}},[n]),backward:(0,s.A)(function(){return function(){return n("backward")}},[n])}),u=i.forward,c=i.backward,d=(0,o.useRef)(e.value);return(0,o.useEffect)(function(){e.value!==(null==d?void 0:d.current)&&(e.value&&t(e.value),d.current=e.value)},[t,e.value]),(0,a._)((0,r._)({},e),{onKeyDown:(0,s.A)(function(){return function(n){if(n.shiftKey||(0,l.T$)(n)){null==(r=e.onKeyDown)||r.call(e,n);return}var t,r,a=n.currentTarget,i=!!a.value.match(/\n/);if("ArrowUp"===n.key){if(i&&a.selectionStart&&a.selectionStart>0)return;e.onChange(c()),n.preventDefault(),n.stopPropagation();return}if("ArrowDown"===n.key){if(i&&a.selectionEnd&&a.selectionEnd<a.value.length)return;e.onChange(u()),n.preventDefault(),n.stopPropagation();return}null==(t=e.onKeyDown)||t.call(e,n)}},[c,u,e]),onChange:(0,s.A)(function(){return function(n){e.onChange(n.target.value)}},[e])})}var A=(0,o.forwardRef)(function(e,n){var t=S(e);return(0,i.Y)(_.ov,(0,r._)({ref:n},t))}),k=(0,o.forwardRef)(function(e,n){var t=p();return(0,i.Y)(h.Provider,{value:t,children:(0,i.Y)(A,(0,r._)({ref:n},e))})}),C=(0,o.forwardRef)(function(e,n){var t=S(e);return(0,i.Y)(_.pd,(0,r._)({ref:n},e,t))}),Y=(0,o.forwardRef)(function(e,n){var t=p();return(0,i.Y)(h.Provider,{value:t,children:(0,i.Y)(C,(0,r._)({ref:n},e))})})},21738:(e,n,t)=>{"use strict";t.d(n,{_:()=>u});var r=t(29935),a=t(82643),i=t(12584);function o(){var e=(0,i._)(["\n  query FiletreeDownloadZip($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        url\n      }\n    }\n  }\n"]);return o=function(){return e},e}var s=(0,t(41114).J1)(o()),l=t(62449);function u(e){return(0,r._)(function(){var n,t,r;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,null===l.V||void 0===l.V?void 0:l.V.query({query:s,variables:{replId:e}})];case 1:return r=(null==(t=a.sent())||null==(n=t.data)?void 0:n.getRepl.__typename)==="Repl"?t.data.getRepl.url:window.location.pathname,window.open(r+".zip","_blank"),[2]}})})()}},22170:(e,n,t)=>{"use strict";t.d(n,{X:()=>o});var r=t(21462),a=t(41683),i=t(40115);function o(e){var n=(0,i.A)().ports,t=(0,a.w)(n);return(0,r.useMemo)(function(){return 0===t.length||void 0===e},[t.length,e])}},22239:(e,n,t)=>{"use strict";t.d(n,{q:()=>l});var r=t(34837),a=t(40756),i=t(91953),o=t(25227),s=t(8466);function l(e){var n=e.openPane;return(0,r.FD)(o.S,{align:"center",justify:"center",p:48,gap:24,grow:!0,children:[(0,r.FD)(o.S,{align:"center",gap:12,children:[(0,r.Y)(s.A,{size:48}),(0,r.Y)(i.EY,{variant:"headerDefault",children:"Preview"})]}),(0,r.Y)(o.S,{align:"center",gap:16,children:(0,r.FD)(o.S,{align:"center",gap:8,children:[(0,r.Y)(i.EY,{textAlign:"center",color:"dimmer",children:"Preview is not available in this type of app."}),(0,r.FD)(o.S,{row:!0,gap:4,align:"center",justify:"center",style:{flexWrap:"wrap"},children:[(0,r.Y)(i.EY,{textAlign:"center",color:"dimmer",children:"Use the"}),(0,r.Y)(a.$n,{variant:"underlined",text:"Playground",onClick:function(){return n({type:"automations"})}}),(0,r.Y)(i.EY,{textAlign:"center",color:"dimmer",children:"to test your agents and automations."})]})]})})]})}},22290:(e,n,t)=>{"use strict";t.d(n,{b:()=>m});var r=t(12694),a=t(21462),i=t(17844),o=t(12584),s=t(41114),l=t(54744);function u(){var e=(0,o._)(["\n  query GetReplIcon($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        iconUrl\n      }\n    }\n  }\n"]);return u=function(){return e},e}var c={},d=(0,s.J1)(u()),f=t(26659),p=t(58648),h=t(40115);function m(e){var n,t,o=e.replId,s=e.replIconUrl,u=(0,r._)((0,a.useState)(null),2),m=u[0],v=u[1],g=(0,r._)((0,a.useState)(!1),2),b=g[0],y=g[1],w=(0,h.A)().container,_=s===f.QY&&null===m&&!b;(0,p.Z)(function(){_&&y(!0)},_?3e4:null);var S=(n={variables:{replId:o},pollInterval:2e3*!!_,onCompleted:function(e){var n,t=(null==e||null==(n=e.getRepl)?void 0:n.__typename)==="Repl"?e.getRepl.iconUrl:null;s===f.QY&&t&&t!==f.QY&&(w.exec("sh","-c","curl -o generated-icon.png ".concat(t)),v(t))}},t=(0,i._)({},c,n),l.I(d,t)).error;return{loading:_,error:S,generatedIconUrl:m}}},22668:(e,n,t)=>{"use strict";t.d(n,{R:()=>a,U:()=>i});var r=t(74651),a=r.ZU.Object({title:r.ZU.String(),screen:r.ZU.Object({height:r.ZU.Number(),width:r.ZU.Number()})}),i=[{title:"iPhone SE",screen:{height:667,width:375}},{title:"iPhone Air",screen:{height:912,width:420}},{title:"iPhone 17",screen:{height:874,width:402}},{title:"iPhone 17 Pro",screen:{height:874,width:402}},{title:"iPhone 17 Pro Max",screen:{height:956,width:440}},{title:"Pixel 10",screen:{height:924,width:412}},{title:"Pixel 10 Pro",screen:{height:924,width:412}},{title:"Pixel 10 Pro XL",screen:{height:996,width:448}},{title:"Samsung Galaxy S25",screen:{height:882,width:406}},{title:"Samsung Galaxy S25+",screen:{height:954,width:439}},{title:"Samsung Galaxy S25 Ultra",screen:{height:980,width:451}}]},22784:e=>{e.exports={expandableButton:"GeneralSubagentShared_expandableButton__zH_oN",chevron:"GeneralSubagentShared_chevron__OMQhj"}},23585:(e,n,t)=>{"use strict";t.d(n,{G:()=>X,C:()=>ee});var r,a=t(34837),i=t(21462),o=t(33747),s=t(45773),l=t(37743),u=t(83846),c=t(17844),d=t(93629),f=t(23099),p=t.n(f),h=t(49069),m=t(68488),v=t(72837),g=t(89832),b=t(68803),y=t(74309),w=t(41833),_=t(25189),S=t(99365),A=t(49540),k=t(39534),C=t(70764),Y=t(51292),E=t(19944),x=t(18712),T=t(3937),D=t(91953),I=t(90233),R=t(25227),N=t(71936),O=(0,E.v)(["opacity","transform"]),P=O.cssVars,F=O.styleTokens,U=[x.wp.display.flex,x.wp.reset.button,x.wp.cursor.pointer,x.wp.center,Y.b.nofill,x.wp.height("100%"),x.wp.borderRadius(0)],L=[U,x.wp.width(28),{"& svg":x.wp.display.block}],M=(0,C.x)({root:[x.wp.borderRadius(6),x.wp.border({color:k.LU.outlineDefault}),x.wp.position.relative,x.wp.height(30),{opacity:F.opacity,transform:F.transform,transition:"opacity 120ms, transform 120ms","button:first-of-type":{borderTopLeftRadius:6,borderBottomLeftRadius:6},"button:last-of-type":{borderTopRightRadius:6,borderBottomRightRadius:6}}],moreButton:L,button:[U,x.wp.rowWithGap(4),x.wp.align.center,x.wp.pl(4),x.wp.pr(6),x.wp.flex.growAndShrink(1),x.wp.border({direction:"right",color:k.LU.outlineDefault}),{fontFamily:k.LU.fontFamilyDefault,"*":{color:k.LU.foregroundDimmer},":hover *":{color:k.LU.foregroundDefault},".shortcut":{color:k.LU.foregroundDimmest},":hover .shortcut":{color:k.LU.foregroundDimmer}}],iconButton:[L,x.wp.border({direction:"right",color:k.LU.outlineDefault})]}),J=new g.E(function(e){var n,t=e.controls,r=e.verticalPlacement,o=e.onMoreClick,s=(0,i.useRef)(null),l=(0,_.vm)(),f=(0,A.zg)();(0,i.useEffect)(function(){var e;f(),(0,w.U)(s,(e={},(0,u._)(e,P.opacity,"1"),(0,u._)(e,P.transform,"translateY(calc(".concat("top"===r?1:-1," * ").concat(k.LU.space4,"))")),e))},[r,f]);var p=(0,i.useRef)((0,A.Nf)());return(0,a.FD)(T.ui,{innerRef:s,elevated:!0,css:M.root,align:"stretch",row:!0,style:(n={},(0,u._)(n,P.opacity,"0"),(0,u._)(n,P.transform,"translateY(calc(".concat("top"===r?1:-1," * ").concat(k.LU.space16,"))")),n),children:[t.map(function(e){if(p.current){var n=(0,a.FD)(R.S,{row:!0,gap:2,align:"center",children:[(0,a.Y)(D.EY,{variant:"small",multiline:!1,children:e.text}),e.shortcut?(0,a.Y)(D.EY,{variant:"small",className:"shortcut",color:"dimmest",children:(0,S.LH)(e.shortcut,l)}):null]});return(0,a.Y)(I.m_,{tooltip:n,children:function(n,t){return(0,a.Y)(R.S,(0,d._)((0,c._)({},n),{innerRef:t,css:M.iconButton,onClick:e.onClick,tag:"button",children:e.icon}))}},e.text)}return(0,a.FD)(R.S,{css:M.button,onClick:e.onClick,tag:"button",children:[e.icon,(0,a.Y)(D.EY,{variant:"small",multiline:!1,children:e.text}),e.shortcut?(0,a.FD)(D.EY,{variant:"small",className:"shortcut",children:["(",(0,S.LH)(e.shortcut,l),")"]}):null]},e.text)}),o?(0,a.Y)(R.S,{"aria-label":"More",css:M.moreButton,onClick:function(e){var n=(s.current||e.currentTarget).getBoundingClientRect();o({top:n.top,right:n.right})},tag:"button",children:(0,a.Y)(N.A,{size:16})}):null]})}),H={layer:"cm-selection-controls-layer",dom:"cm-selection-controls-dom"},B=s.Lz.theme((r={},(0,u._)(r,".".concat(H.layer),{width:"100%"}),(0,u._)(r,".".concat(H.dom),{position:"absolute"}),r)),V=function(){function e(n){(0,l._)(this,e),this.options=n}var n=e.prototype;return n.draw=function(){var e=this.options,n=e.controls,t=e.onMoreClick,r=e.top,a=e.align,i=e.verticalPlacement,o=J.create({controls:n,onMoreClick:t,verticalPlacement:i});return o.className=H.dom,o.style.top=r+"px","left"===a.side?(o.style.left=a.value+"px",o.style.right=""):(o.style.right=a.value+"px",o.style.left=""),o.style.pointerEvents="none",setTimeout(function(){o.style.pointerEvents="auto"},200),o},n.eq=function(e){return p()(e.options,this.options)},e}(),$=h.Pe.define(),G=h.sU.define({create:function(){return null},update:function(e,n){var t;return!n.state.selection||(null==(t=n.state.selection)?void 0:t.main.empty)?null:((0,b.C)(n,$,function(n){e=n.value}),e)}}),z=h.sU.define({create:function(e){return!e.selection.main.empty},update:function(e,n){return!n.state.selection.main.empty}}),W=s.Z9.define(function(e){var n=function(){var n=e.state.selection.main;e.dispatch({effects:$.of(n.empty?null:Date.now())})},t=function(e){"Shift"===e.key&&n()},r=function(){document.addEventListener("mouseup",n),document.addEventListener("keyup",t)},a=function(){document.removeEventListener("mouseup",n),document.removeEventListener("keyup",t)};return{update:function(e){(0,m.$H)(e,z)&&(e.state.field(z)?r():a())},destroy:a}}),j=new y.k(function(e){return[B,(0,s.qd)({above:!0,class:H.layer,update:function(e){return(0,m.$H)(e,v.z,G)},markers:function(n){if(!n.hasFocus)return[];var t=n.state.field(G)?n.state.selection.main:null;if(!t||n.state.field(v.z,!1))return[];var r=function(e,n){for(var t=Math.min(n.from,n.to),r=Math.max(n.from,n.to),a=null;t<=r;){var i=e.lineAt(t);t=i.to+1,null!==a&&i.length<a.length||(a=i)}return a}(n.state.doc,t);if(!r)return[];var a=n.coordsAtPos(r.to);if(!a)return[];var i=n.lineBlockAt(Math.min(t.anchor,t.head)),o=n.dom.getBoundingClientRect(),s=n.contentDOM.getBoundingClientRect(),l=i.top+n.documentPadding.top-30,u=s.right-a.left<200?{side:"right",value:o.right-s.right+16}:{side:"left",value:a.left-o.left},c="top";if(l<n.scrollDOM.scrollTop){var d=n.lineBlockAt(t.to);l=d.top+d.height,c="bottom"}return[new V({top:l,align:u,controls:e.controls(n),onMoreClick:e.onMoreClick,verticalPlacement:c})]}}),z,G,W]}),q=t(65586),Z=t(9092),K=t(81076),Q=t(52076),X={id:"editor.generateOrModifyWithAI",name:"AI",description:"Generate or modify selection with AI",default:(0,Z.FM)({cmdOrCtrl:!0,key:"i"})};function ee(e){var n=e.editCode,t=e.explainCode,r=e.generateCode,l=e.onMoreClick,u=(0,q.f)().isTeamWithAiDisabled,c=(0,S.Jn)(X.id),d=(0,i.useMemo)(function(){if(!c)return[];var e=Array.isArray(c)?c.join(" "):c;return s.w4.of([{key:e,scope:"editor",run:function(e){return e.state.selection.main.empty?r(e,"shortcut"):n(e,"shortcut"),!0}}])},[c,r,n]),f=(0,i.useMemo)(function(){return{controls:function(e){return u?[]:[{text:"Modify with "+o.BP,icon:(0,a.Y)(Q.A,{size:16,color:k.LU.blurpleStronger}),onClick:function(){return n(e,"highlight")},shortcut:c},{text:"Explain with "+o.BP,icon:(0,a.Y)(K.A,{size:16,color:k.LU.blurpleStronger}),onClick:function(){return t(e,"highlight")}}]},onMoreClick:l}},[n,t,l,c,u]),p=j.use(f);return(0,i.useMemo)(function(){return[p,d]},[p,d])}},23706:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M21.75 7A4.75 4.75 0 0 0 17 2.25H7A4.75 4.75 0 0 0 2.25 7v10A4.75 4.75 0 0 0 7 21.75h10A4.75 4.75 0 0 0 21.75 17V7ZM12 3.75v16.5H7A3.25 3.25 0 0 1 3.75 17V7A3.25 3.25 0 0 1 7 3.75h5Z",clipRule:"evenodd"})}))}},23788:(e,n,t)=>{"use strict";t.d(n,{v:()=>a});var r=t(34837);function a(e){var n=e.uploadFiles,t=e.fileUploadInputRef,a=e.dirUploadInputRef;return(0,r.FD)(r.FK,{children:[(0,r.Y)("input",{style:{display:"none"},ref:t,type:"file",onChange:function(e){var t=e.target.files;t&&n({files:Array.from(t)})},onClick:function(e){e.currentTarget.value=""},multiple:!0,accept:"*"}),(0,r.Y)("input",{style:{display:"none"},ref:a,type:"file",onChange:function(e){var t=e.target.files;t&&n({files:Array.from(t)})},onClick:function(e){e.currentTarget.value=""},webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",accept:"*"})]})}},24481:(e,n,t)=>{"use strict";t.d(n,{M:()=>h});var r=t(12694),a=t(21462),i=t(86035),o=t(97008),s=t(6132),l=t(80719),u=t(7017),c=t(95793),d=t(13927),f=t(21117),p=t(31207);function h(){var e,n,t,h=(e=(0,a.useRef)(new Map),n=(0,a.useRef)(new Map),t=(0,a.useRef)(null),{addMessage:function(r,a){if(e.current.set(a,r),c.vF.info("user message received",{eventId:a,sessionId:r.sessionId,sender:r.sender,created:r.created,agentRunning:(null==(o=t.current)?void 0:o.state)===i.g32.AGENT_STATE_RUNNING}),t.current&&(null==(s=t.current.reason)?void 0:s.$kind)!=="waitingOnPlanApproval"){var o,s,l=setTimeout(function(){var o;e.current.delete(a),c.vF.info("user message ghosted",{eventId:a,sessionId:r.sessionId,sender:r.sender,created:r.created,duration:Date.now()-r.created.getTime(),agentRunning:(null==(o=t.current)?void 0:o.state)===i.g32.AGENT_STATE_RUNNING}),n.current.delete(a)},t.current.state===i.g32.AGENT_STATE_PAUSED?3e4:6e4);n.current.set(a,l)}},acknowledgeMessage:function(t){var r=t.eventId,a=t.acknowledged,i=e.current.get(r);if(i){var o=a.getTime()-i.created.getTime();c.vF.info("user message acknowledged",{eventId:r,timeToAcknowledge:o,sessionId:i.sessionId,sender:i.sender,created:i.created,acknowledged:a});var s=n.current.get(r);s&&(clearTimeout(s),n.current.delete(r)),e.current.delete(r)}},agentStateChanged:function(e){if((null==(o=t.current)||null==(a=o.reason)?void 0:a.$kind)!=="waitingOnPlanApproval"||e.state!==i.g32.AGENT_STATE_RUNNING){var a,o,s,l=null==(s=e.reason)?void 0:s.$kind;if("userPaused"===l||"waitingOnPlanApproval"===l){(function(){var e=!0,t=!1,a=void 0;try{for(var i,o=n.current.entries()[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var s=(0,r._)(i.value,2),l=s[0],u=s[1];clearTimeout(u),n.current.delete(l)}}catch(e){t=!0,a=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw a}}})(),t.current=e;return}t.current=e}}}),m=h.addMessage,v=h.acknowledgeMessage,g=h.agentStateChanged,b=(0,u.OD)();(0,l.zv)("agent-state-changed",function(e){g(e.state);var n,t=null==(n=e.state.reason)?void 0:n.$kind;if(t){var r=new Map([["userPaused","user_paused"],["waitingOnPlanApproval","waiting_on_plan_approval"],["waitingOnUserResponse","waiting_on_user_input"],["rateLimited","quota_reached"],["error","agent_error_encountered"],["stepLimitExceeded","step_limit_exceeded"]]).get(t);r&&(0,d.pI)({action:r,sessionId:e.sessionId,isEnterprise:b})}});var y=(0,p.F)().isFreemiumStarterPlanUsersOwnRepl?"starter":void 0;(0,l.zv)("received-event",function(e){var n=e.event,t=n.sessionId;if((0,o.TW)(n,"agentPlanEventContents")&&n.state===i.qOk.IN_PROGRESS){var r=n.contents.contents,a=(0,s.QN)(r);n.sender.type===i.utd.AI&&a.requiresApproval&&(0,d.Yp)({action:"plan_proposal_started",sessionId:t,planId:a.planId,planSupportsVisualPreview:(0,f.l)(a.stackBlueprint),stackBlueprint:a.stackBlueprint,isEnterprise:b})}}),(0,l.zv)("received-completed-event",function(e){var n=e.event,t=n.sessionId;if((0,o.TW)(n,"messageEventContents")&&m({sender:n.sender.id,sessionId:t,created:n.created},n.id),(0,o.TW)(n,"agentPlanEventContents")){var r=n.contents.contents,a=(0,s.QN)(r);n.sender.type===i.utd.AI&&a.requiresApproval&&(0,d.Yp)({action:"plan_proposal_completed",sessionId:t,planId:a.planId,planSupportsVisualPreview:(0,f.l)(a.stackBlueprint),stackBlueprint:a.stackBlueprint,isEnterprise:b})}if((0,o.TW)(n,"rapidBuildStarted")?(0,d.pI)({action:"rapid_build_started",sessionId:t,isEnterprise:b}):(0,o.TW)(n,"rapidBuildConcluded")&&(0,d.pI)({action:"rapid_build_concluded",sessionId:t,isEnterprise:b}),(0,o.TW)(n,"agentTimelineEventContents")){var l=(0,s.QN)(n.contents.contents),u=l.toolData;switch(l.toolName){case"mark_current_step_as_succeeded":return(0,d.pI)({action:"step_completed",sessionId:t,replOwnerPlanName:y,isEnterprise:b});case"mark_current_step_as_failed":return(0,d.pI)({action:"step_failed",sessionId:t,replOwnerPlanName:y,isEnterprise:b})}if(u)switch(u.$kind){case"commitData":return(0,d.pI)({action:"checkpoint_created",sessionId:t,freeCheckpoint:u.commitData.billingRate===i.pSr.ZERO_RATED,replOwnerPlanName:y,hasUbbV2:!0,checkpointPrice:u.commitData.usageCents,isEnterprise:b});case"agentPlanStepBegin":var c=u.agentPlanStepBegin.planStep,p=c.id,h=c.name,g=c.blueprints;return(0,d.Yp)({action:"plan_step_started",stepId:p,stepName:h,stepBlueprints:g,sessionId:t,isEnterprise:b});case"blueprintsSetup":var w=u.blueprintsSetup.blueprintData;return(0,d.pI)({action:"blueprints_setup",blueprints:w.map(function(e){return e.name}),sessionId:t,replOwnerPlanName:y,isEnterprise:b});case"acknowledgeUserMessage":var _=u.acknowledgeUserMessage.eventIds,S=!0,A=!1,k=void 0;try{for(var C,Y=_[Symbol.iterator]();!(S=(C=Y.next()).done);S=!0){var E=C.value;v({eventId:E,acknowledged:new Date})}}catch(e){A=!0,k=e}finally{try{S||null==Y.return||Y.return()}finally{if(A)throw k}}}}})}},24506:(e,n,t)=>{"use strict";t.d(n,{D:()=>a,O:()=>r});var r="users.noreply.replit.com",a="users.noreply.github.com"},24739:(e,n,t)=>{"use strict";t.d(n,{D:()=>i});var r=t(49555),a=function(e){if(1===e.length)return e[0].type===r.pt.File?"file":"folder";if(e.length>1){var n=e.filter(function(e){return e.type===r.pt.File}).length,t=e.filter(function(e){return e.type===r.pt.Directory}).length,a=n>1?"files":"file",i=t>1?"folders":"folder",o="file";return n>0&&t>0?o="".concat(a," and ").concat(i):n>0?o="".concat(a):t>0&&(o="".concat(i)),"".concat(o)}return""};function i(e){var n=a(e),t=1===e.length?n:"".concat(e.length," ").concat(n),r=e.slice(0,5).map(function(e){return e.path}).join(", ");return{name:t,description:e.length>5?"".concat(r," and ").concat(e.length-5," more ").concat(a(e.slice(5))):r,confirmDescription:t}}},25159:(e,n,t)=>{"use strict";t.d(n,{u:()=>C});var r=t(34837),a=t(21462),i=t(12694),o=t(29935),s=t(82643),l=t(86035),u=t(86103),c=t(35897),d=t(13927),f=t(10922),p=t(93593),h=t(70764),m=t(18712),v=t(17844),g=t(93629),b=t(51979),y=t(25189),w=t(70251);function _(e){var n=(0,b.A)(),t=(0,y.jl)(),o=(0,i._)((0,a.useState)(0),2),s=o[0],l=o[1],u=(0,a.useRef)(null),c="visualViewport"in window;(0,a.useEffect)(function(){if(!n)return void l(0);if(t&&c){var e=window.visualViewport;if(!e)return;var r=function(){l(window.innerHeight-e.height-e.offsetTop)};return r(),e.addEventListener("resize",r),e.addEventListener("scroll",r),function(){e.removeEventListener("resize",r),e.removeEventListener("scroll",r)}}n&&l(20)},[n,t,c]);var d=(0,a.useMemo)(function(){var t;return(0,g._)((0,v._)({},e.underlayProps||{}),{style:(0,g._)((0,v._)({},(null==(t=e.underlayProps)?void 0:t.style)||{}),{paddingBottom:n?s:void 0})})},[e.underlayProps,n,s]);return(0,r.Y)(w.a,(0,g._)((0,v._)({},e),{underlayProps:d,className:e.className,children:(0,r.Y)("div",{ref:u,children:e.children})}))}var S=(0,h.x)({container:[m.wp.minWidth("300px"),{maxWidth:"90vw","@media (max-width: 600px)":{minWidth:"90vw"}}]});function A(e){var n=e.isOpen,t=e.onClose,i=e.onSubmit,h=e.session,m=e.source,v=void 0===m?"header":m,g=(0,c.A)(),b=g.showConfirm,y=g.showError,w=function(e){return(0,o._)(function(){var n;return(0,s.YH)(this,function(r){switch(r.label){case 0:if(!h)return[2];return[4,h.submitUserFeedback({type:l.O3q.AGENT_FEEDBACK_UNKNOWN,comment:e})];case 1:return(null==(n=r.sent())?void 0:n.ok)?b("Feedback received."):y("Failed to send feedback. Please try again."),null==i||i(e),t(),[2]}})})()},A=(0,u._P)({controlName:"flag-top-ai-spenders",type:"boolean"});return(0,a.useEffect)(function(){n&&h&&(0,d.pI)({action:"open_feedback_modal_from_".concat(v),sessionId:h.id})},[n,h,v]),(0,r.Y)(_,{isOpen:n,onRequestClose:t,centered:!0,css:S.container,children:A?(0,r.Y)(p.L,{onSubmit:w}):(0,r.Y)(f.O,{onSubmit:w})})}var k=t(30453);function C(e,n,t){var o=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"command",t=arguments.length>2?arguments[2]:void 0,o=(0,i._)((0,a.useState)(!1),2),s=o[0],l=o[1],u=(0,a.useCallback)(function(){l(!0)},[]),c=(0,a.useCallback)(function(){l(!1)},[]),d=(0,a.useCallback)(function(){return e?(0,r.Y)(A,{isOpen:s,onClose:c,session:e,source:n,onSubmit:t}):null},[s,e,c,n,t]);return{openFeedbackModal:u,closeFeedbackModal:c,FeedbackModal:d}}(e,t,n),s=o.openFeedbackModal,l=o.FeedbackModal,u=(0,a.useMemo)(function(){return e?{data:{type:"action",icon:(0,r.Y)(k.A,{}),label:"Share feedback",run:s}}:null},[s,e]),c=(0,a.useMemo)(function(){return{name:"Feedback",commands:u?[u]:[]}},[u]);return{FeedbackModal:l,feedbackCommand:u,feedbackCommandGroup:c}}},25396:(e,n,t)=>{"use strict";t.d(n,{b:()=>s,d:()=>o});var r=t(76957),a=t(49313),i=(0,r.eU)(null);function o(){return(0,a.ob)(i)}function s(){return(0,a.h)(i)}},25544:(e,n,t)=>{"use strict";t.d(n,{T:()=>function e(n){var t;switch("HEAD"===(t=n)||"refs/HEAD"===t||t.startsWith(o)?i.QN.HEAD:t.startsWith(s)?i.QN.BRANCH:t.startsWith(l)?d.test(t)?i.QN.REMOTE_HEAD:i.QN.REMOTE_BRANCH:t.startsWith(c)||t.startsWith(u)?i.QN.TAG:i.QN.BRANCH){case i.QN.HEAD:if(n.startsWith(o)){if(n.endsWith("(detached)"))return{type:i.QN.HEAD,name:"HEAD",detached:!0,ref:null};return{type:i.QN.HEAD,name:"HEAD",detached:!1,ref:e(n.slice(o.length))}}return{type:i.QN.HEAD,name:"HEAD",detached:!1,ref:null};case i.QN.REMOTE_HEAD:var f=n.slice(l.length),p=(0,r._)(f.split("/"),1)[0];return{type:i.QN.REMOTE_HEAD,name:"HEAD",remote:p};case i.QN.BRANCH:return{type:i.QN.BRANCH,name:n.startsWith(s)?n.slice(s.length):n};case i.QN.REMOTE_BRANCH:var h=n.slice(l.length),m=(0,a._)(h.split("/")),v=m[0],g=m.slice(1).join("/");return{type:i.QN.REMOTE_BRANCH,name:h,remote:v,branch:g};case i.QN.TAG:return n.startsWith(u)&&(n=n.slice(u.length)),n.startsWith(c)&&(n=n.slice(c.length)),{type:i.QN.TAG,name:n}}}});var r=t(12694),a=t(56902),i=t(11874),o="HEAD -> ",s="refs/heads/",l="refs/remotes/",u="tag: ",c="refs/tags/",d=/^refs\/remotes\/([^/]+)\/HEAD$/},25691:(e,n,t)=>{"use strict";t.d(n,{A:()=>b});var r=t(29935),a=t(12694),i=t(82643),o=t(21462),s=t(69945),l=t.n(s),u=t(10795),c=t(17844),d=t(12584),f=t(41114),p=t(39590);function h(){var e=(0,d._)(["\n  mutation EndLiveActivity($input: EndLiveActivityInput!) {\n    endLiveActivity(input: $input) {\n      ... on EndLiveActivityResult {\n        activitiesEnded\n      }\n      ... on LiveActivitiesNotSupported {\n        message\n      }\n    }\n  }\n"]);return h=function(){return e},e}var m={},v=(0,f.J1)(h()),g=t(61125);function b(){var e,n=(0,g.A)(),t=(0,a._)((e=(0,c._)({},m,void 0),p.n(v,e)),1)[0],s=(0,o.useRef)(!1),d=(0,o.useCallback)(function(){return(0,r._)(function(){var e;return(0,i.YH)(this,function(r){switch(r.label){case 0:if(s.current||"visible"!==document.visibilityState)return[2];return[4,t({variables:{input:{replId:n,step:u.nIq.AppReady}}})];case 1:return s.current=(null==(e=r.sent().data)?void 0:e.endLiveActivity.__typename)==="LiveActivitiesNotSupported",[2]}})})()},[t,n]);(0,o.useEffect)(function(){var e=l()(d,6e4,{trailing:!0});return e(),document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e),e.cancel()}},[d,n])}},25722:(e,n,t)=>{"use strict";t.d(n,{i:()=>c});var r=t(17844),a=t(12584),i=t(41114),o=t(54744);function s(){var e=(0,a._)(["\n  query CurrentUserEnv {\n    currentUser {\n      id\n      username\n    }\n  }\n"]);return s=function(){return e},e}var l={},u=(0,i.J1)(s());function c(){var e,n=(e=(0,r._)({},l,void 0),o.I(u,e)).data;return(null==n?void 0:n.currentUser)||void 0}},26216:(e,n,t)=>{"use strict";t.d(n,{H:()=>s});var r=t(12694),a=t(21770),i=t(6132),o=t(80719);function s(){var e=(0,r._)((0,a.Ko)({fetchPolicy:"network-only",ssr:!1}),1)[0];(0,o.zv)("received-completed-event",function(n){var t,r=n.event.contents.contents;(0,i.VF)(r,"agentTimelineEventContents")&&(null==(t=r.agentTimelineEventContents.toolData)?void 0:t.$kind)==="commitData"&&e()})}},26289:(e,n,t)=>{"use strict";t.d(n,{bc:()=>y,cj:()=>w,nf:()=>b});var r=t(53847),a=t(12694),i=t(34837),o=t(90629),s=t(74651),l=t(97858),u=t(2717),c=t(91953),d=t(25227),f=t(94686),p=s.ZU.Object({type:s.ZU.Optional(s.ZU.String()),default:s.ZU.Optional(s.ZU.Unknown()),description:s.ZU.Optional(s.ZU.String()),minimum:s.ZU.Optional(s.ZU.Number()),maximum:s.ZU.Optional(s.ZU.Number()),items:s.ZU.Optional(s.ZU.Unknown())}),h=s.ZU.Object({type:s.ZU.Optional(s.ZU.String()),properties:s.ZU.Optional(s.ZU.Record(s.ZU.String(),p)),required:s.ZU.Optional(s.ZU.Array(s.ZU.String())),additionalProperties:s.ZU.Optional(s.ZU.Boolean()),$schema:s.ZU.Optional(s.ZU.String())}),m=s.ZU.Object({json:h});function v(e){var n=e.properties;return 0===n.length?null:(0,i.FD)(d.S,{row:!0,gap:8,align:"center",wrap:!0,children:[(0,i.Y)(f.A,{}),(0,i.Y)(c.EY,{color:"dimmer",children:"Default settings:"}),n.map(function(e,n){var t=e.toolName,r=e.propertyName,a=e.defaultValue;return(0,i.Y)(u.a,{text:"".concat(r,": ").concat(function(e){if(null===e)return"null";if(void 0===e)return"undefined";if("string"==typeof e)return'"'.concat(e,'"');if("boolean"==typeof e||"number"==typeof e)return String(e);try{var n=JSON.stringify(e);if(n.length>50)return n.slice(0,47)+"...";return n}catch(e){return"[complex value]"}}(a))},"".concat(t||"default","-").concat(r,"-").concat(n))})]})}function g(e){if(!e||""===e.trim())return[];try{if(n=JSON.parse(e),!l.J(m,n))throw Error("Invalid schema structure or missing json property");t=n}catch(n){return o.v4(function(t){t.setTag("context","schema-defaults-parser"),t.setExtras({schema:e.slice(0,500)}),o.Cp((0,r._)(n,Error)?n:Error(String(n)))}),null}var n,t,i=t.json;return i.properties?Object.entries(i.properties).filter(function(e){var n=(0,a._)(e,2);return void 0!==(n[0],n[1]).default}):[]}function b(e){var n,t=g(e);return null!=(n=null==t?void 0:t.length)?n:0}function y(e){var n=g(e.schema);if(!n||0===n.length)return null;var t=n.map(function(e){var n=(0,a._)(e,2);return{propertyName:n[0],defaultValue:n[1].default}});return(0,i.Y)(v,{properties:t})}function w(e){var n=e.tools,t=[];return n.forEach(function(e){var n=g(e.inputSchema);n&&n.forEach(function(n){var r=(0,a._)(n,2),i=r[0],o=r[1];t.push({toolName:e.name,propertyName:i,defaultValue:o.default})})}),(0,i.Y)(v,{properties:t})}},26756:e=>{e.exports={container:"EnabledTogglePill_container__25NLk",closeButton:"EnabledTogglePill_closeButton__XZq_W",iconClickable:"EnabledTogglePill_iconClickable__Rqq54"}},27144:(e,n,t)=>{"use strict";t.d(n,{P:()=>b});var r=t(12694),a=t(34837),i=t(21462),o=t(35862),s=t(95678),l=t(42008),u=t(40115),c=t(70764),d=t(18712),f=t(40756),p=t(70251),h=t(91953),m=t(25227),v=(0,c.x)({splitContainer:[d.wp.mt(8)],text:[d.wp.mt(8)]}),g=function(){var e=(0,r._)((0,i.useState)(navigator.onLine),2),n=e[0],t=e[1];return(0,i.useEffect)(function(){var e=function(){t(navigator.onLine)};return window.addEventListener("online",e),window.addEventListener("offline",e),function(){window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]),n},b=function(){var e=(0,u.A)().container,n=(0,r._)((0,i.useState)(!1),2),t=n[0],c=n[1],d=(0,i.useRef)(!1),b=(0,l.A)(e),y=(0,i.useMemo)(function(){return b===o.KN.CONNECTED},[b]),w=(0,s.T)(),_=g(),S=(0,i.useCallback)(function(){c(!1)},[]),A=(0,i.useCallback)(function(){location.reload()},[]);return(0,i.useEffect)(function(){if(!d.current&&!y&&w&&_){var e=setTimeout(function(){c(!0),d.current=!0},6e4);return function(){return clearTimeout(e)}}},[y,w,_]),(0,a.Y)(p.a,{isOpen:t,onRequestClose:S,maxWidth:360,centered:!0,children:(0,a.FD)(m.S,{gap:8,children:[(0,a.Y)(h.Y9,{level:2,variant:"subheadBig",children:"You are disconnected"}),(0,a.Y)(h.EY,{css:v.text,children:"Your connection to the server has been lost and reconnection attempts have failed. Please refresh the page to continue."}),(0,a.FD)(m.S,{css:v.splitContainer,row:!0,gap:8,justify:"space-between",children:[(0,a.Y)(f.$n,{text:"Cancel",onClick:S}),(0,a.Y)(m.S,{row:!0,gap:8,children:(0,a.Y)(f.$n,{text:"Refresh",onClick:A,colorway:"blue"})})]})]})})}},27784:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});var r=t(21462),a=t(95793);function i(){(0,r.useEffect)(function(){var e=null;return!function n(){if(window.performance.memory){var t=window.performance.memory,r=t.jsHeapSizeLimit,i=t.totalJSHeapSize,o=t.usedJSHeapSize,s=window.performance.now();a.vF.info("perf:browser_memory",{jsHeapSizeLimit:r,totalJSHeapSize:i,usedJSHeapSize:o,timeElapsed:s}),e=setTimeout(n,-(5*Math.log(Math.random())*6e4))}}(),function(){e&&clearTimeout(e)}},[])}},27810:e=>{e.exports={root:"GuestUnauthorizedDialogs_root__kKXrz"}},28029:(e,n,t)=>{"use strict";t.d(n,{A:()=>h});var r=t(34837),a=t(72096),i=t.n(a),o=t(1040),s=t(39534),l=t(70764),u=t(18712),c=t(22871),d=t(91953),f=t(25227),p=(0,l.x)({url:[u.wp.color.accentPositiveStronger,u.wp.fontSize("small"),u.wp.focusRing,{"&:hover":[u.wp.cursor.pointer,u.wp.color.accentPositiveStrongest]}],expoGoLink:[u.wp.color.foregroundDimmer,u.wp.fontSize("small"),u.wp.focusRing,{textDecoration:"underline"},{"&:hover":[u.wp.cursor.pointer,u.wp.color.foregroundDefault]}],qrCodeWrapper:[u.wp.borderRadius(4),u.wp.display.inlineBlock,u.wp.border({width:1,color:s.LU.outlineDefault}),{backgroundColor:"white"}]});function h(e){var n=e.url,t=e.isExpoUrl,a=void 0!==t&&t,s=a?n.replace(/^https:\/\//,"exp://"):n;return(0,r.FD)(f.S,{gap:4,children:[(0,r.Y)(d.EY,{children:"Dev URL:"}),(0,r.Y)(f.S,{row:!0,gap:4,children:(0,r.FD)(f.S,{row:!0,gap:4,align:"center",children:[(0,r.Y)(i(),{href:n,css:p.url,target:"_blank",children:n}),(0,r.Y)(c.r,{textToCopy:n,tooltipText:"Copy link",tooltipDelay:"none"})]})}),(0,r.FD)(f.S,{align:"start",gap:4,children:[a?(0,r.FD)(d.EY,{variant:"small",color:"dimmer",children:["Scan to open with"," ",(0,r.Y)(i(),{href:"https://expo.dev/go",css:p.expoGoLink,target:"_blank",rel:"noopener noreferrer",children:"Expo Go"}),":"]}):null,(0,r.Y)(f.S,{css:p.qrCodeWrapper,p:8,children:(0,r.Y)(o.Ay,{size:128,value:s})})]}),(0,r.Y)(d.EY,{color:"dimmer",variant:"small",children:"Dev URLs are temporary and will sleep after you leave the workspace."})]})}},28191:(e,n,t)=>{"use strict";t.d(n,{H:()=>l});var r=t(29935),a=t(82643),i=t(21462),o=t(86035),s=t(80719);function l(e){var n,t,l=e.openPane,u=(n=(0,s.NC)(),t=(0,s.dm)().getAssistantMessageIntent,(0,i.useCallback)(function(e){return(0,r._)(function(){var r,i;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,n.sessions.create({sessionType:o.dF3.CHAT})];case 1:if(!(r=a.sent()).ok)return[2,r];return(i=r.payload).appendEvent({kind:"message",message:e,intent:t()}),[2,{ok:!0,payload:{newSessionId:i.id}}]}})})()},[n.sessions,t]));return(0,i.useCallback)(function(e){return(0,r._)(function(){var n;return(0,a.YH)(this,function(t){switch(t.label){case 0:return l({type:"ghostwriterChat"}),[4,u(e)];case 1:if(!(n=t.sent()).ok)return[2];return l({type:"ghostwriterChat",data:{sessionId:n.payload.newSessionId}}),[2]}})})()},[l,u])}},28420:(e,n,t)=>{"use strict";t.d(n,{J:()=>G});var r=t(34837),a=t(74651),i=t(42028),o=t(59270),s=t(29935),l=t(12694),u=t(82643),c=t(21462),d=t(90629),f=t(49555),p=t(40115),h=t(1224),m=t(86105),v=t(44232),g=t(93707),b=t(82315),y=t(30375),w=t(42793),_=t(39534),S=t(70764),A=t(18712),k=t(73455),C=t(22611),Y=t(25227),E=t(80325),x=(0,w.i7)({"0%":{backgroundColor:_.LU.accentPrimaryDimmer},"100%":{backgroundColor:"transparent"}}),T=(0,S.x)({filter:[A.wp.border({color:_.LU.outlineDimmest,direction:"bottom"})],tableRoot:[A.wp.flex.growAndShrink(1),A.wp.width("100%"),A.wp.overflow("auto"),{'&[data-resizing="true"]':{overflow:"hidden",pointerEvents:"none"}}],virtualTable:[A.wp.width("fit-content"),A.wp.position.relative],tableHeader:[A.wp.display.flex,A.wp.flex.row,A.wp.backgroundColor.backgroundDefault,A.wp.position.sticky,A.wp.zIndex(1),A.wp.top(0),A.wp.noSelect],headerCell:[A.wp.color.foregroundDefault,A.wp.fontWeight.medium,A.wp.fontSize(12),A.wp.px(6),A.wp.display.flex,A.wp.align.center,A.wp.border({color:_.LU.outlineDimmest,direction:"bottom"}),A.wp.border({color:_.LU.outlineDimmest,direction:"right"}),{height:25,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","&:first-child":{background:_.LU.backgroundDefault,position:"sticky",left:0,zIndex:1}}],tableRow:[A.wp.flex.row,{'&[data-highlighted="true"]':{animation:"".concat(x," ").concat(2e3,"ms ease-out forwards")}}],tableCell:[A.wp.display.flex,A.wp.align.center,A.wp.color.foregroundDimmer,A.wp.fontSize(12),A.wp.px(6),A.wp.border({color:_.LU.outlineDimmest,direction:"bottom"}),A.wp.border({color:_.LU.outlineDimmest,direction:"right"}),{height:25,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","&:first-child":{justifyContent:"center",position:"sticky",left:0,background:_.LU.backgroundDefault}}],resizeHandle:[A.wp.position.absolute,A.wp.top(0),A.wp.right(0),A.wp.height("100%"),A.wp.width(4),{cursor:"col-resize","&:hover":{backgroundColor:_.LU.accentPrimaryDefault}}]}),D=function(e,n){var t=(0,l._)((0,c.useState)(e),2),r=t[0],a=t[1],i=(0,c.useMemo)(function(){return new b.$S(e,{selector:function(e){return Object.values(e).join(" ")},casing:"case-insensitive"})},[e]);return(0,c.useEffect)(function(){if(!n)return void a(e);i.find(n).then(function(e){a(e.map(function(e){return e.item}))}).catch(function(){})},[e,i,n]),r},I=function(e){var n=(0,l._)((0,c.useState)(e),2),t=n[0],r=n[1],a=(0,l._)((0,c.useState)(null),2),i=a[0],o=a[1],s=(0,l._)((0,c.useState)(0),2),u=s[0],d=s[1],f=(0,l._)((0,c.useState)(0),2),p=f[0],h=f[1],v=(0,c.useCallback)(function(e,n){o(e),d(n.clientX),h(t[e])},[t]),g=(0,c.useCallback)(function(e){if(null!==i){var n=Math.max(50,Math.min(300,p+(e.clientX-u)));r(function(e){var t=(0,m._)(e);return t[i]=n,t})}},[i,p,u]),b=(0,c.useCallback)(function(){o(null)},[]);return(0,c.useEffect)(function(){if(null!==i){var e=function(e){return g(e)},n=function(){return b()};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",n),function(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",n)}}},[b,g,i]),{columnWidths:t,setColumnWidths:r,resizingColumn:i,handleResizeStart:v}};function R(e){var n=e.data,t=e.initialLine,a=e.openInEditor,i=(0,y.a)(),o=(0,l._)((0,c.useState)(""),2),s=o[0],u=o[1],d=(0,c.useMemo)(function(){if(0===n.length)return{headers:[],data:[],calculatedColumnWidths:[]};var e=[""].concat((0,m._)(n[0])),t=e.map(function(e,n){return{key:n.toString(),label:e,isRowHeader:0===n}}),r=[],a=Array(e.length).fill(0);n.slice(1).forEach(function(e,n){var i={0:(n+1).toString(),key:n.toString()};t.slice(1).forEach(function(n,t){var r=e[t]||"";i[(t+1).toString()]=r,a[t+1]=Math.max(a[t+1],r.length)}),r.push(i)});var i=a.map(function(e,n){return 0===n?25:Math.min(Math.max(8*Math.max(e,t[n].label.length),50),300)});return{headers:t,data:r,calculatedColumnWidths:i}},[n]),f=d.headers,p=d.data,h=d.calculatedColumnWidths,b=D(p,s),w=I(h),_=w.columnWidths,S=w.setColumnWidths,A=w.resizingColumn,x=w.handleResizeStart,R=(0,l._)((0,c.useState)(null),2),N=R[0],O=R[1];(0,c.useEffect)(function(){S(h)},[h,S]);var P=(0,c.useRef)(null),F=(0,v.Te)({count:b.length,getScrollElement:function(){return P.current},estimateSize:function(){return 25},overscan:10,rangeExtractor:function(e){var n=new Set([0].concat((0,m._)((0,g.vp)(e))));return(0,m._)(n)}});return(0,c.useEffect)(function(){if(t&&b.length>t){var e=t-2;F.scrollToIndex(e,{align:"center"}),O(e);var n=setTimeout(function(){return O(null)},2e3);return function(){return clearTimeout(n)}}},[b.length,t,F]),(0,r.FD)(r.FK,{children:[(0,r.Y)(Y.S,{css:T.filter,p:4,children:(0,r.Y)(C.I,{value:s,onChange:function(e){return u(e.target.value)},onClear:function(){return u("")}})}),(0,r.Y)("div",{css:T.tableRoot,ref:P,"data-resizing":null!==A,children:(0,r.FD)("div",{css:T.virtualTable,style:{height:"".concat(F.getTotalSize(),"px"),width:"".concat(_.reduce(function(e,n){return e+n},0),"px")},children:[(0,r.Y)("div",{css:T.tableHeader,children:f.map(function(e,n){return(0,r.FD)("div",{css:T.headerCell,style:{width:"".concat(_[n],"px")},children:[e.label,i||0===n?null:(0,r.Y)("div",{css:T.resizeHandle,onMouseDown:function(e){return x(n,e)},role:"separator"})]},e.key)})}),F.getVirtualItems().map(function(e){var n=b[e.index];return n?(0,r.Y)("div",{css:T.tableRow,"data-index":e.index,"data-highlighted":e.index===N,style:{position:"absolute",top:0,left:0,width:"100%",height:"".concat(e.size,"px"),transform:"translateY(".concat(25+e.start,"px)")},children:f.map(function(e,t){var i=n[e.key];return(0,r.Y)("div",{css:T.tableCell,style:{width:"".concat(_[t],"px")},children:0===t?(0,r.Y)(k.K0,{colorway:"primary",alt:"Edit at this line",onClick:function(){return a(parseInt(i,10)+1)},size:18,children:(0,r.Y)(E.A,{})}):i},e.key)})},e.key.toString()):null})]})})]})}var N=t(6056),O=t(99795),P=t(99708),F=t(9844),U=t(49402),L=t(33683),M=t(90843),J=(0,S.x)({root:[A.wp.flex.column,A.wp.height("100%"),A.wp.width("100%"),A.wp.overflow("hidden")],loadingContainer:[A.wp.center]});function H(e){var n=e.filePath,a=e.initialLine,i=e.performPaneOperation,o=(0,p.A)().fs,m=(0,l._)((0,c.useState)([]),2),v=m[0],g=m[1],b=(0,c.useCallback)(function(e){i({operation:"replace",pane:{type:"codeEditor",data:{path:n,line:e}}}),i({operation:"commit"})},[i,n]);(0,P.Qt)(function(){return{commands:[{commands:[{match:h.G2,data:{label:"Open in Editor",icon:(0,r.Y)(U.A,{}),type:"action",run:function(){return b()}}}]}]}},[b]);var y=(0,l._)((0,c.useState)(!1),2),w=y[0],_=y[1],S=(0,l._)((0,c.useState)(!0),2),A=S[0],k=S[1];return(0,c.useEffect)(function(){var e=function(e){return(0,s._)(function(){var n;return(0,u.YH)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.e(5800).then(t.t.bind(t,75800,23))];case 1:return r.sent().default.parse(e,{complete:function(e){g(e.data),k(!1),_(!1)}}),[3,3];case 2:return n=r.sent(),d.Cp(n),_(!0),[3,3];case 3:return[2]}})})()};return o.watchTextFile(n,{onReady:function(n){return e(n.initialContent)},onChange:function(n){return e(n.latestContent)},onMoveOrDelete:function(e){e.eventType===f.dV.Delete&&i({operation:"replace",pane:{type:"commands",data:{autoFocus:!0}}})}})},[n,o,i]),(0,r.FD)(Y.S,{css:J.root,children:[(0,r.Y)(N.ou,{path:n,performPaneOperation:i,children:(0,r.Y)(O.k,{altText:"Open file in editor",buttonText:"Open in Editor",onClick:function(){return b()},icon:(0,r.Y)(U.A,{})})}),w?(0,r.Y)(Y.S,{p:8,children:(0,r.Y)(F.N,{icon:(0,r.Y)(M.A,{}),colorway:"red",text:"This CSV could not be displayed."})}):(0,r.Y)(r.FK,{children:A?(0,r.Y)(Y.S,{css:J.loadingContainer,grow:!0,shrink:!0,children:(0,r.Y)(L.A,{})}):(0,r.Y)(R,{data:v,openInEditor:b,initialLine:a})})]})}var B=t(62246),V=t(56264),$=a.ZU.Object({type:a.ZU.Literal("csvPreview"),data:a.ZU.Object({path:a.ZU.String(),line:a.ZU.Optional(a.ZU.Integer())})}),G={Content:function(e){var n=e.options.performPaneOperation,t=e.pane.data,a=t.path,i=t.line;return(0,r.Y)(H,{filePath:a,performPaneOperation:n,initialLine:i})},Icon:function(e){var n=e.size;return(0,r.Y)(V.A,{size:n})},getTitle:function(e){return e.data.path?(0,o.WP)(e.data.path):"CSV Preview"},description:"Preview CSV files in a tabular format",category:B.bY.Other,decode:function(e){return i.T($,e)}}},28623:(e,n,t)=>{"use strict";t.d(n,{X:()=>q});var r,a=t(49069),i=t(62019),o=t(37743),s=t(48122),l=t(1833),u=t(53847),c=t(23099),d=t.n(c),f=t(45773),p=t(44725),h=t(18254),m=t(13357),v=t(95272),g=a.sj.define({combine:function(e){var n;return null!=(n=e.filter(Boolean)[0])?n:null}}),b=a.sU.define({create:function(){return{diff:null,tree:h.PH.empty}},update:function(e,n){var t,r,a=n.state.facet(g),i=null==(t=n.state.facet(p.BH))?void 0:t.parser;if(!a)return null===e.diff&&e.tree===h.PH.empty?e:{diff:null,tree:h.PH.empty};var o=e.diff,s=e.tree;return(o&&o.a.eq(a)?n.docChanged&&(o=o.updateB(n.newDoc,n.changes)):(o=m.o.create(a,n.newDoc),s=h.PH.empty),(null==(r=n.startState.facet(p.BH))?void 0:r.parser)!==i&&(s=h.PH.empty),i&&s.length!==o.a.length)?(s=(0,v.B)({parser:i,text:o.a,maxTime:16,base:s}),{diff:o,tree:s}):e.diff===o&&e.tree===s?e:{diff:o,tree:s}}}),y=t(83846),w=t(39534),_="cm-inline-diff-line-deletion-base",S="cm-inline-diff-line-deletion",A="cm-inline-diff-text-deletion",k="cm-inline-diff-line-insertion-base",C="cm-inline-diff-line-insertion",Y="cm-inline-diff-text-insertion",E="rgba(180, 0, 0, 0.075)",x="rgba(180, 0, 0, 0.125)",T="rgba(0, 180, 0, 0.075)",D="rgba(0, 180, 0, 0.125)",I="cm-inline-diff-marker",R="cm-inline-diff-marker-left",N="cm-inline-diff-marker-right";function O(e,n){var t="linear-gradient(to right, ".concat(e,", ").concat(e,")");return n&&(t+=", linear-gradient(to right, ".concat(n,", ").concat(n,")")),t}var P=f.Lz.theme((r={},(0,y._)(r,".".concat(_,", .").concat(S),{cursor:"text","&.cm-line ::selection":{backgroundColor:"".concat(w.LU.accentPrimaryDimmest," !important")}}),(0,y._)(r,".".concat(_),{background:O(E)}),(0,y._)(r,".".concat(S),{background:O(E,x)}),(0,y._)(r,".".concat(k),{background:O(T)}),(0,y._)(r,".".concat(C),{background:O(T,D)}),(0,y._)(r,".".concat(Y),{display:"inline-block",background:D,"&:first-of-type":{backgroundClip:"padding-box",borderLeft:"3px solid ".concat(D),paddingLeft:"3px",marginLeft:"-6px"}}),(0,y._)(r,".".concat(A),{display:"inline-block",background:x,"&:first-of-type":{backgroundClip:"padding-box",borderLeft:"3px solid ".concat(x),paddingLeft:"3px",marginLeft:"-6px"}}),(0,y._)(r,".".concat(I),{display:"flex",width:"100%",justifyContent:"space-between"}),(0,y._)(r,".".concat(R),{width:"calc(50% - 1ch)",textAlign:"right"}),(0,y._)(r,".".concat(N),{width:"50%",textAlign:"right"}),r)),F=t(62511),U=t(69963),L=function(e){function n(e,t,r){var a;return(0,o._)(this,n),(a=(0,i._)(this,n)).line=e,a.index=t,a.changed=r,a}(0,l._)(n,e);var t=n.prototype;return t.toDOM=function(){var e=this,n=document.createElement("div");if(n.className=this.changed?"cm-line ".concat(_):"cm-line ".concat(S),!this.changed||!this.changed.length){var t=!0,r=!1,a=void 0;try{for(var i,o=this.line[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value,l=s.text,u=s.tags,c=document.createElement("span");c.textContent=l||"\xa0",c.className=null!=u?u:"",n.appendChild(c)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n}for(var d=0,f=0,p=null,h=null,m=function(n,t){if(!p)throw Error("range is null");var r=e.line[f],a=r.text,i=r.tags,o=a.slice(d-p.from,t-p.from),s=document.createElement("span");s.textContent=o||"\xa0",s.className=null!=i?i:"",n.appendChild(s),d+=o.length};f<this.line.length;){if(!p){var v=this.line[f].text;p={from:d,to:d+v.length}}if(!h){var g=!0,b=!1,y=void 0;try{for(var w,k=this.changed[Symbol.iterator]();!(g=(w=k.next()).done);g=!0){var C=w.value;if(!(C.from>=p.to)&&!(C.to<=d)){var Y=document.createElement("span");Y.className=A,h={from:C.from,to:C.to,dom:Y},d<h.from&&m(n,h.from),n.appendChild(Y);break}}}catch(e){b=!0,y=e}finally{try{g||null==k.return||k.return()}finally{if(b)throw y}}}h?(d<h.to&&m(h.dom,h.to),d>=h.to&&(h=null)):m(n,p.to),d>=p.to&&(p=null,f++)}return n},t.eq=function(e){var t,r;return(0,u._)(e,n)&&this.index===e.index&&this.line.length===e.line.length&&(null==(t=this.changed)?void 0:t.length)===(null==(r=e.changed)?void 0:r.length)&&d()(this.line,e.line)&&d()(this.changed,e.changed)},t.ignoreEvent=function(e){return e.stopImmediatePropagation(),!0},(0,s._)(n,[{key:"estimatedHeight",get:function(){return 21}}]),n}(f.xO),M=f.NZ.line({class:k}),J=f.NZ.line({class:C}),H=f.NZ.mark({class:Y}),B=f.Lz.decorations.compute([b],function(e){var n=function(e,n){if(r.getLineChangeType(e.number,F.mn.B)===F.DE.COVERED)i.push(J.range(e.from));else{i.push(M.range(e.from));var t=!0,a=!1,o=void 0;try{for(var s,l=(0,F.QG)(e,n,F.mn.B,!1)[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var u=s.value;i.push(H.range(u.from,u.to))}}catch(e){a=!0,o=e}finally{try{t||null==l.return||l.return()}finally{if(a)throw o}}}},t=e.field(b,!1);if(!t||!t.diff)return f.NZ.none;var r=t.diff,a=t.tree,i=[],o=!0,s=!1,l=void 0;try{for(var u,c=r.chunks[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;if(d.fromB!==d.endB)for(var p=r.b.lineAt(d.fromB),h=r.b.lineAt(d.endB),m=p.number;m<=h.number;m++)n(r.b.line(m),d);else d.fromA===d.endA&&n(r.b.lineAt(d.fromB),d);if(d.fromA!==d.toA)for(var v=r.a.lineAt(d.fromA),g=(0,U.A7)(a,r.a,e,d.fromA,d.endA),y=0;y<g.length;y++){var w=g[y],_=r.a.line(v.number+y),S=r.getLineChangeType(_.number,F.mn.A)===F.DE.COVERED?null:(0,F.QG)(_,d,F.mn.A,!0),A=f.NZ.widget({widget:new L(w,_.number,S),block:!0,side:-(g.length-y)});i.push(A.range(d.fromB))}}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}return f.NZ.set(i,!0)}),V=t(10021),$=(0,f.cU)({class:V.n1,renderEmptyElements:!0,lineMarker:function(e,n){var t=e.state.field(b,!1);if(!t||!t.diff||!t.diff.hasChanges())return null;if(0===t.diff.a.length)return V.CI;var r=e.state.doc.lineAt(n.from);switch(t.diff.getLineChangeType(r.number,F.mn.B)){case F.DE.COVERED:case F.DE.MODIFIED:return V.CI;default:return null}},widgetMarker:function(e,n){if(!(0,u._)(n,L))return null;var t=e.state.field(b,!1);if(!t||!t.diff||!t.diff.hasChanges())return null;switch(t.diff.getLineChangeType(n.index,F.mn.A)){case F.DE.COVERED:case F.DE.MODIFIED:return V.RC;default:return null}},initialSpacer:function(e){var n=e.state.field(b,!1);return(null==n?void 0:n.diff)?V.CI:V.jn},updateSpacer:function(e,n){var t=n.state.field(b,!1),r=(null==t?void 0:t.diff)?V.CI:V.jn;return e===r?e:r}}),G=t(28410),z=function(e){function n(e,t){var r;return(0,o._)(this,n),(r=(0,i._)(this,n)).left=e,r.right=t,r}(0,l._)(n,e);var t=n.prototype;return t.toDOM=function(e){var n=e.state.doc.lines.toString().length,t=document.createElement("div"),r=document.createElement("span"),a=document.createElement("span");return t.className=I,r.className=R,a.className=N,t.style.width="".concat(2*n+1,"ch"),null!==this.left&&(r.textContent=this.left.toString()),null!==this.right&&(a.textContent=this.right.toString()),t.appendChild(r),t.appendChild(a),t},t.eq=function(e){return(0,u._)(e,n)&&this.left===e.left&&this.right===e.right},n}(f.wJ),W=G.DY.of(function(e,n){if((0,u._)(n,L))return new z(n.index,null)}),j=[G.RG.of(function(e,n){var t,r=e.state.field(b,!1);if(r&&r.diff&&r.diff.hasChanges()){var a=e.state.doc.lineAt(n.from),i=r.diff.getCorrespondingLine(a.number,F.mn.B);return new z(null!=(t=null==i?void 0:i.number)?t:null,a.number)}}),W],q=a.sj.define({enables:function(e){return[g.computeN([e],function(n){return n.facet(e)}),V.s,b,P,B,j,$]}})},28904:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(12694),a=t(21462),i=t(80478),o=t(40115);function s(){var e=(0,o.A)().toolchain,n=(0,r._)((0,a.useState)(null),2),t=n[0],s=n[1];return(0,a.useEffect)(function(){var n=!1;return e.getRegistry().then(function(e){n||s(e)}).catch(function(e){i.vF.error("Toolchain: failed to get module registry: ".concat(e.message))}),function(){n=!0}},[e]),t}},28944:e=>{e.exports={compactButton:"DynamicPrimaryButton_compactButton__L_u7B"}},29100:(e,n,t)=>{"use strict";t.d(n,{A:()=>g});var r=t(62019),a=t(37743),i=t(1833),o=t(17844),s=t(93629),l=t(34837),u=t(21462),c=t(90629),d=t(91539),f=t(25227),p=t(51353),h=t.n(p),m=t(95570),v=function(e){function n(){var e;return(0,a._)(this,n),e=(0,r._)(this,n,arguments),e.state={hasErrored:!1,error:null,errorInfo:null},e}(0,i._)(n,e);var t=n.prototype;return t.componentDidCatch=function(e,n){this.setState({hasErrored:!0,error:e,errorInfo:n}),this.props.handleError(e,n),m.error(e)},t.render=function(){if(this.state.hasErrored){var e,n;return this.props.fallback&&this.state.error&&this.state.errorInfo?this.props.fallback(this.state.error):(0,l.Y)(f.S,{clsx:h().errorMessage,children:null!=(n=null==(e=this.state.error)?void 0:e.stack)?n:"An unknown error occurred."})}return this.props.children},n}(u.Component);function g(e){var n=e.bsod,t=void 0!==n&&n,r=e.reportToSentry,a=void 0===r||r,i=e.handleError,u=e.children,f=e.origin,p=void 0===f?"ErrorBoundary: (no origin provided)":f,h=e.tags,m=void 0===h?{}:h,g=e.extras,b=void 0===g?{}:g,y=e.fallback,w=(0,d.iO)();return(0,l.Y)(v,{fallback:y,handleError:function(e,n){t?w({error:e,extras:(0,s._)((0,o._)({},b),{errorInfo:n}),componentStack:n.componentStack||void 0,tags:(0,s._)((0,o._)({},m),{errorBoundary:!0}),origin:p}):a&&c.v4(function(t){t.setTag("errorBoundary",!0),t.setTags(m),t.setExtra("errorInfo",n),t.setExtras(b),t.setContext("react",{componentStack:n.componentStack}),c.Cp(e)}),i&&i(e,n)},children:u})}},29218:(e,n,t)=>{"use strict";t.d(n,{A:()=>u,E:()=>c});var r=t(34837),a=t(39534),i=t(18712),o=t(91953),s=t(25227),l=t(9797);let u=function(e){var n=e.textVariant,t=e.showImage;return(0,r.FD)(s.S,{css:[i.wp.center,i.wp.textAlign.center,i.wp.px(16),i.wp.colWithGap(8),i.wp.flex.growAndShrink(1)],children:[(0,r.Y)(c,{textVariant:n}),t?(0,r.Y)(l.A,{src:"/public/images/ghostwriter/orb.png",css:[{userSelect:"none",mixBlendMode:"screen",filter:"brightness(110%) saturate(1.2)",maskImage:"linear-gradient(".concat(a.LU.backgroundRoot,", transparent)")}],width:200,height:200,objectFit:"contain","aria-hidden":"true",alt:"",draggable:!1}):null]})};function c(e){var n=e.textVariant;return(0,r.FD)(o.EY,{variant:n,children:["AI Chat is currently unavailable. For more information, visit"," ",(0,r.Y)("a",{href:"https://status.replit.com",target:"_blank",children:"our status page."})]})}},29466:e=>{e.exports={dragPreview:"QueueItemDragPreview_dragPreview__hElVU",dragPreviewContent:"QueueItemDragPreview_dragPreviewContent__kYOp8",dragPreviewText:"QueueItemDragPreview_dragPreviewText__dygsI"}},29544:(e,n,t)=>{"use strict";t.d(n,{N:()=>T,M:()=>x});var r=t(17844),a=t(93629),i=t(17459),o=t(12694),s=t(34837),l=t(21462),u=t(62019),c=t(37743),d=t(1833),f=t(49069),p=t(45773),h=t(48950),m=p.Lz.baseTheme({".cm-diff-inserted":{backgroundColor:"#0053A644",borderLeft:"#0053A6 solid 3px"},".cm-diff-deleted":{backgroundColor:"#c93c3733",borderLeft:"#c93c37 solid 3px"}}),v=p.NZ.line({attributes:{class:"cm-diff-inserted"}}),g=p.NZ.line({attributes:{class:"cm-diff-deleted"}}),b=f.Pe.define({map:function(e,n){return e.map(n)}}),y=function(e){function n(){return(0,c._)(this,n),(0,u._)(this,n,arguments)}(0,d._)(n,e);var t=n.prototype;return t.toDOM=function(){var e=document.createElement("div");return e.className="cm-diff-alignment cm-line",e.innerHTML="&nbsp;",e},t.ignoreEvent=function(){return!1},n}(p.xO);function w(e){var n=new f.vB,t=new y;e.sort(function(e,n){return e.character-n.character});var r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)for(var l=o.value,u=l.character,c=l.padding,d=0;d<c;d++)n.add(u,u,p.NZ.widget({widget:t,side:-1,block:!0}))}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n.finish()}function _(e){var n=e.coloredLines,t=e.colorDecoration;return[m,p.Z9.fromClass(function e(r){(0,c._)(this,e);var a=new f.vB,i=!0,o=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var d=l.value,p=r.state.doc.line(d);a.add(p.from,p.from,t)}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}this.decorations=a.finish()},{decorations:function(e){return e.decorations}}),f.sU.define({create:function(){return p.NZ.none},update:function(e,n){var t=!0,r=!1,a=void 0;try{for(var i,o=n.effects[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;if(s.is(b))return s.value}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n.docChanged?e.map(n.changes):e},provide:function(e){return p.Lz.decorations.from(e)}})]}var S=t(8761),A=t(53556),k=t(89914),C=function(){var e=function(e,n){return p.Lz.domEventHandlers({scroll:function(t,r){if(r===e&&t.target){var a=t.target;if(a.scrollTop){var i=a.scrollTop;n.scrollDOM.scrollTo({top:i})}}}})},n=new f.xx,t=new f.xx;return{extensions:function(){return{right:n.of([]),left:t.of([])}},setup:function(r,a){r.dispatch({effects:t.reconfigure(e(r,a))}),a.dispatch({effects:n.reconfigure(e(a,r))})}}}(),Y=C.extensions,E=C.setup;function x(e){var n=e.left,t=e.right,s=e.showDiffDecorations,u=void 0===s||s,c=n.code,d=(0,i._)(n,["code"]),p=t.code,m=(0,i._)(t,["code"]),y=(0,A.A)(),S=y.ref,k=y.view,C=(0,A.A)(),x=C.ref,T=C.view,D=(0,l.useMemo)(function(){var e=Y().left;return d.extensions?[d.extensions,e]:e},[d.extensions]),I=(0,l.useMemo)(function(){var e=Y().right;return m.extensions?[m.extensions,e]:e},[m.extensions]);d=(0,a._)((0,r._)({},d),{extensions:D}),m=(0,a._)((0,r._)({},m),{extensions:I});var R=(0,o._)((0,l.useState)(!1),2),N=R[0],O=R[1],P=(0,o._)((0,l.useState)(!1),2),F=P[0],U=P[1];return(0,l.useEffect)(function(){if(k&&T&&N&&F&&u){var e=setTimeout(function(){var e;E(k,T),e=(0,h.nw)(k.state.doc.sliceString(0),T.state.doc.sliceString(0)),k.dispatch({effects:[f.Pe.appendConfig.of(_({coloredLines:e.leftColored.sort(function(e,n){return e-n}),colorDecoration:g})),b.of(w(e.leftPadded))]}),T.dispatch({effects:[f.Pe.appendConfig.of(_({coloredLines:e.rightColored.sort(function(e,n){return e-n}),colorDecoration:v})),b.of(w(e.rightPadded))]})});return function(){return clearTimeout(e)}}},[k,T,N,F,u]),(0,l.useEffect)(function(){k&&(k.dispatch({changes:{from:0,to:k.state.doc.length,insert:c}}),O(!0))},[c,k]),(0,l.useEffect)(function(){T&&(T.dispatch({changes:{from:0,to:T.state.doc.length,insert:p}}),U(!0))},[p,T]),{left:{view:k,ref:S,code:c,options:d,ready:N},right:{view:T,ref:x,code:p,options:m,ready:F}}}function T(e){var n=e.diffViewer,t=(0,i._)(e,["diffViewer"]),a=(0,r._)({},n.options,t);return(0,s.FD)(s.FK,{children:[(0,s.Y)(S.Ay,(0,r._)({ref:n.ref,css:{height:n.ready?0:"auto"},initialDoc:n.code,lineWrapping:!1,readOnly:!0},a)),!n.ready&&(0,s.Y)(k.A,{code:n.code,language:a.language,filePath:a.filePath,lineNumbers:!a.hideGutter,fontSize:a.fontSize})]})}},29576:(e,n,t)=>{"use strict";t.d(n,{A:()=>p});var r=t(12694),a=t(34837),i=t(21462),o=t(70764),s=t(18712),l=t(40756),u=t(83096),c=t(91953),d=t(25227),f=(0,o.x)({styles1:[s.wp.color.accentNegativeStronger]});function p(e){var n=e.prompt,t=e.desc,o=e.type,s=e.placeholder,p=e.confirmText,h=e.loading,m=e.errorMessage,v=e.onCancel,g=e.onConfirm,b=e.isDanger,y=e.buttonIcon,w=(0,r._)((0,i.useState)(),2),_=w[0],S=w[1];return(0,a.FD)(d.S,{gap:24,children:[(0,a.Y)(c.Y9,{variant:"headerDefault",level:2,children:n}),(0,a.Y)(c.EY,{children:t}),(0,a.Y)(u.pd,{type:o,value:_,placeholder:s,autoFocus:!0,onChange:function(e){return S(e.target.value)}}),m?(0,a.Y)(c.EY,{css:f.styles1,multiline:!1,children:m}):null,(0,a.FD)(d.S,{row:!0,gap:12,justify:"end",children:[(0,a.Y)(l.$n,{disabled:h,onClick:v,text:"Cancel"}),(0,a.Y)(l.$n,{colorway:b?"negative":"primary",disabled:h,onClick:function(){return _&&g(_)},text:p||"Ok",iconLeft:y,dataCy:"prompt-confirm-button"})]})]})}},29872:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M7.436 3.506A.75.75 0 0 1 8 3.25h13A2.75 2.75 0 0 1 23.75 6v12A2.75 2.75 0 0 1 21 20.75H8a.75.75 0 0 1-.564-.256l-7-8a.75.75 0 0 1 0-.988l7-8ZM8.34 4.75 1.997 12l6.343 7.25H21A1.25 1.25 0 0 0 22.25 18V6A1.25 1.25 0 0 0 21 4.75H8.34Zm3.13 3.72a.75.75 0 0 1 1.06 0L15 10.94l2.47-2.47a.75.75 0 1 1 1.06 1.06L16.06 12l2.47 2.47a.75.75 0 1 1-1.06 1.06L15 13.06l-2.47 2.47a.75.75 0 1 1-1.06-1.06L13.94 12l-2.47-2.47a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}))}},29884:e=>{e.exports={surface:"Header_surface__wvtCj",root:"Header_root__kohSy",checkpointMade:"Header_checkpointMade__k5QGo",checkpointMadeIcon:"Header_checkpointMadeIcon__lzN_w","icon-animate":"Header_icon-animate__b0czC",checkpointMadeText:"Header_checkpointMadeText__lShLs","text-animate":"Header_text-animate__TkFhf",agentBadge:"Header_agentBadge__hr8io"}},29909:(e,n,t)=>{"use strict";t.d(n,{C:()=>T});var r=t(34837),a=t(17844),i=t(93629),o=t(12694),s=t(21462),l=t(44082),u=t(31980),c=t(73496),d=t(34778),f=t(39534),p=t(40756),h=t(83096),m=t(47306),v=t(2717),g=t(3937),b=t(91953),y=t(25227),w=t(9648),_=t(76297),S=t(49380),A=t.n(S),k="Invalid Figma URL. Please ensure link is a valid Figma frame for your connected account in the format https://www.figma.com/design/...";function C(e){var n=e.source,t=e.onCancel,a=e.onSubmit,i=e.title,S=e.submitButtonText,C=e.showHelpText,Y=e.className,E=e.autoFocus,x=void 0===E||E,T=(0,o._)((0,s.useState)(null),2),D=T[0],I=T[1],R=(0,o._)((0,s.useState)(""),2),N=R[0],O=R[1],P=(0,s.useRef)(null),F=(0,c.A)(N,500),U="workspace"===n,L=U?d.AZ.AGENT_USED:d.AZ.START_WITH_AI_USED,M=(0,s.useCallback)(function(){(0,d.u4)(L,{action:"attachment_import_from_figma_cancelled"}),t()},[t,L]);(0,s.useEffect)(function(){F?I((0,o._)((0,l.uQ)(F),1)[0]?null:k):I(null)},[F]);var J=(0,s.useCallback)(function(){var e=N.trim();if(!e)return void I("Please enter a Figma URL");var n=(0,o._)((0,l.uQ)(e),2),t=n[0],r=n[1];if(!t||!r)return void I(k);I(null),(0,d.u4)(L,{action:"attachment_import_from_figma_attached",figma_url:e}),a(e)},[N,a,L]),H=(0,s.useCallback)(function(e){"Enter"===e.key?(e.preventDefault(),J()):"Escape"===e.key&&(e.preventDefault(),M())},[J,M]);return(0,s.useEffect)(function(){if(x){var e;null==(e=P.current)||e.focus()}},[x]),(0,r.FD)(g.ui,{elevated:!0,clsx:[A().container,Y],children:[(0,r.FD)(y.S,{row:!0,gap:8,align:"center",children:[(0,r.Y)(w.A,{size:20}),(0,r.Y)(b.Y9,{variant:"subheadDefault",level:3,children:void 0===i?"Import Figma design":i}),U?(0,r.Y)(v.a,{text:"Beta",colorway:"primary",compact:!0}):null]}),(0,r.FD)(y.S,{gap:8,children:[(0,r.Y)(m.J,{htmlFor:"figmaUrl",className:A().mediumFont,children:"Figma frame URL"}),(0,r.Y)(h.pd,{id:"figmaUrl",ref:P,placeholder:"https://www.figma.com/file/...",value:N,onChange:function(e){return O(e.target.value)},onKeyDown:H,autoFocus:x}),D?(0,r.Y)(y.S,{pb:8,py:4,children:(0,r.Y)(u.A,{children:D})}):null,void 0===C||C?(0,r.FD)(y.S,{row:!0,gap:8,align:"center",children:[(0,r.Y)(y.S,{shrink:!1,children:(0,r.Y)(_.A,{color:f.LU.foregroundDimmer})}),(0,r.Y)(y.S,{grow:!0,shrink:!0,children:(0,r.FD)(b.EY,{color:"dimmer",variant:"small",multiline:!0,children:[(0,r.Y)("span",{className:A().mediumFont,children:"How to find your frame URL:"})," ",'In Figma Design, right click on the frame you want to import, then click "Copy/Paste as" and finally "Copy link to selection".']})})]}):null,(0,r.FD)(y.S,{row:!0,gap:8,justify:"end",children:[(0,r.Y)(p.$n,{text:"Cancel",variant:"outlined",onClick:M}),(0,r.Y)(p.$n,{variant:"outlined",colorway:!N.trim()||D?"grey":"primary",text:void 0===S?"Attach to prompt":S,disabled:!N.trim()||!!D,onClick:J})]})]})]})}var Y=t(21441),E=t.n(Y);function x(e){return(0,r.Y)(C,(0,i._)((0,a._)({},e),{className:E().animatedContainer}))}function T(e){var n=e.source,t=e.onCancel,a=e.onSubmit;return(0,r.Y)(x,{source:n,onCancel:t,onSubmit:a,title:"Import Figma design"})}},29947:(e,n,t)=>{"use strict";t.d(n,{W:()=>A});var r=t(29935),a=t(17844),i=t(93629),o=t(12694),s=t(82643),l=t(21462),u=t(14683),c=t(12584),d=t(41114),f=t(54744);function p(){var e=(0,c._)(["\n  fragment ConnectorContextFragment on CurrentUserConnectorContext {\n    openIntClientToken\n    connections {\n      connectionId\n      connectorName\n      displayName\n      iconPath\n      status\n      repls {\n        ...ConnectorReplInfo\n      }\n    }\n    connectorConfigs {\n      id\n      type\n      connectorName\n      displayName\n      iconPath\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function h(){var e=(0,c._)(["\n  fragment OrgConnectorContextFragment on OrgConnectorContext {\n    openIntClientToken\n    connections {\n      connectionId\n      connectorName\n      displayName\n      iconPath\n      status\n      repls {\n        ...ConnectorReplInfo\n      }\n    }\n    connectorConfigs {\n      id\n      type\n      connectorName\n      displayName\n      iconPath\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function m(){var e=(0,c._)(["\n  query GetConnectorContext {\n    currentUser {\n      ... on CurrentUser {\n        id\n        connectorContext {\n          ...ConnectorContextFragment\n        }\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function v(){var e=(0,c._)(["\n  query GetConnectorContextByOrg($orgId: String!) {\n    currentUser {\n      ... on CurrentUser {\n        id\n        org(orgId: $orgId) {\n          __typename\n          ... on Org {\n            id\n            connectorContext {\n              ...OrgConnectorContextFragment\n            }\n          }\n          ... on Error {\n            __typename\n            message\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}var g={},b=(0,d.J1)(p(),u.Fm),y=(0,d.J1)(h(),u.Fm),w=(0,d.J1)(m(),b),_=(0,d.J1)(v(),y),S=t(7017);function A(){var e,n,t,c,d,p,h,m,v,b,y,A,k,C=(0,S.ET)().orgId,Y=!!C,E=(e={skip:Y},n=(0,a._)({},g,e),f.I(w,n)),x=E.data,T=E.loading,D=E.error,I=E.refetch,R=(t={variables:{orgId:null!=C?C:""},skip:!Y},c=(0,a._)({},g,t),f.I(_,c)),N=R.data,O=R.loading,P=R.error,F=R.refetch,U=(null==x||null==(d=x.currentUser)?void 0:d.__typename)==="CurrentUser"?null==x||null==(p=x.currentUser)?void 0:p.connectorContext:null,L=(null==N||null==(h=N.currentUser)?void 0:h.__typename)==="CurrentUser"&&(null==N||null==(v=N.currentUser)||null==(m=v.org)?void 0:m.__typename)==="Org"?null==N||null==(y=N.currentUser)||null==(b=y.org)?void 0:b.connectorContext:null,M=Y?L:U,J=(0,o._)((0,u.xP)(),2),H=J[0],B=J[1].loading,V=(0,l.useCallback)(function(e){return(0,r._)(function(){return(0,s.YH)(this,function(n){return[2,H((0,i._)((0,a._)({},e),{refetchQueries:Y?[{query:_,variables:{orgId:null!=C?C:""}}]:[{query:w}]}))]})})()},[H,Y,C]);return(null==M?void 0:M.__typename)==="ServiceUnavailable"?{token:null,connections:[],connectorConfigs:[],createConnection:V,loading:Y?O:T,createConnectionLoading:B,error:Y?P:D,refetch:Y?F:I}:{token:null==M?void 0:M.openIntClientToken,connections:null!=(A=null==M?void 0:M.connections)?A:[],connectorConfigs:null!=(k=null==M?void 0:M.connectorConfigs)?k:[],createConnection:V,loading:Y?O:T,createConnectionLoading:B,error:Y?P:D,refetch:Y?F:I}}},30054:e=>{e.exports={root:"FooterRevisionMessages_root__6wDoL",isRevising:"FooterRevisionMessages_isRevising__KX1H8",revisionFeedbackMessage:"FooterRevisionMessages_revisionFeedbackMessage__cu_xh"}},30326:(e,n,t)=>{"use strict";t.d(n,{a:()=>r,e:()=>a});var r=function(e){return e.DEPLOYMENT_PANE_COVER_PAGE="deployment_pane_cover_page",e.DEPLOYMENT_PANE_FINAL_PAGE="deployment_pane_final_page",e.REDEPLOY_PANE="redeploy_pane",e.SECURITY_SCANNER_PANE="security_scanner_pane",e}({}),a=function(e){return e.Dependency="dependency",e.Analysis="analysis",e.Malicious="malicious",e}({})},30453:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.FD)(o.Ay,(0,a._)((0,r._)({},e),{children:[(0,i.Y)("path",{d:"M20.777 2.774a.844.844 0 0 1 .329 1.147l-.844 1.52a.845.845 0 1 1-1.476-.818l.845-1.52a.844.844 0 0 1 1.146-.33Zm4.368 3.148a.844.844 0 0 1-.308 1.152L22.77 8.267a.843.843 0 1 1-.844-1.46l2.067-1.194a.844.844 0 0 1 1.152.309ZM8.052 20.36a3.375 3.375 0 0 0 6.618-1.031l-6.618 1.03Zm-1.677.26-1.82.284a2.363 2.363 0 0 1-2.408-1.152l-.478-.825a2.346 2.346 0 0 1 .199-2.65L12.024 3.61a2.362 2.362 0 0 1 3.885.295l6.37 10.994a2.355 2.355 0 0 1-1.677 3.506l-4.257.662a5.062 5.062 0 0 1-9.97 1.553Zm18.577-9.766-1.63-.436a.844.844 0 0 0-.437 1.63l1.63.436a.844.844 0 0 0 .437-1.63Zm-11.61-6.189L3.184 17.331a.658.658 0 0 0-.056.75l.478.827a.675.675 0 0 0 .688.328l16.048-2.5a.666.666 0 0 0 .475-.99L14.45 4.749a.675.675 0 0 0-1.107-.087"}),(0,i.Y)("path",{d:"M20.777 2.774a.844.844 0 0 1 .329 1.147l-.844 1.52a.845.845 0 1 1-1.476-.818l.845-1.52a.844.844 0 0 1 1.146-.33Zm4.368 3.148a.844.844 0 0 1-.308 1.152L22.77 8.267a.843.843 0 1 1-.844-1.46l2.067-1.194a.844.844 0 0 1 1.152.309ZM8.052 20.36a3.375 3.375 0 0 0 6.618-1.031l-6.618 1.03Zm-1.677.26-1.82.284a2.363 2.363 0 0 1-2.408-1.152l-.478-.825a2.346 2.346 0 0 1 .199-2.65L12.024 3.61a2.362 2.362 0 0 1 3.885.295l6.37 10.994a2.355 2.355 0 0 1-1.677 3.506l-4.257.662a5.062 5.062 0 0 1-9.97 1.553Zm18.577-9.766-1.63-.436a.844.844 0 0 0-.437 1.63l1.63.436a.844.844 0 0 0 .437-1.63Zm-11.61-6.189L3.184 17.331a.658.658 0 0 0-.056.75l.478.827a.675.675 0 0 0 .688.328l16.048-2.5a.666.666 0 0 0 .475-.99L14.45 4.749a.675.675 0 0 0-1.107-.087"})]}))}},30689:e=>{e.exports={expandButton:"Progress_expandButton__D8Guc"}},31111:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M2.25 7A4.75 4.75 0 0 1 7 2.25h10A4.75 4.75 0 0 1 21.75 7v10A4.75 4.75 0 0 1 17 21.75H7A4.75 4.75 0 0 1 2.25 17V7ZM12 3.75v16.5h5A3.25 3.25 0 0 0 20.25 17V7A3.25 3.25 0 0 0 17 3.75h-5Z",clipRule:"evenodd"})}))}},31185:(e,n,t)=>{"use strict";t.d(n,{B6:()=>J,DN:()=>F,Z4:()=>L,ep:()=>O,kx:()=>U,tE:()=>M,tH:()=>P});var r=t(29935),a=t(86105),i=t(82643),o=t(34837),s=t(21462),l=t(59270),u=t(36163),c=t(49555),d=t(86103),f=t(61125),p=t(19786),h=t(50916),m=t(40115),v=t(1224),g=t(80023),b=t(22227),y=t(81920),w=t(88233),_=t(39534),S=t(64053),A=t(79690),k=t(29274),C=t(80325),Y=t(88976),E=t(13315),x=t(59260),T=t(1698),D=t(50957),I=t(62462),R=t(90173),N=t(43193);function O(e){return{match:v.G2,data:{type:"action",label:"Rename",icon:(0,o.Y)(C.A,{}),run:e}}}function P(e){return{match:v.G2,data:{type:"action",label:"Save file",icon:(0,o.Y)(I.A,{}),run:e}}}function F(e){return[{label:"Add file",icon:(0,o.Y)(x.A,{}),run:function(){return e(c.pt.File)}},{label:"Add folder",icon:(0,o.Y)(T.A,{}),run:function(){return e(c.pt.Directory)}}].map(function(e){var n=e.label,t=e.icon,r=e.run;return{match:v.G2,data:{type:"action",label:n,icon:t,run:r}}})}function U(e){return[{label:"Copy file path",icon:(0,o.Y)(S.A,{}),run:function(){return(0,p.default)(e)}},{label:"Copy link",icon:(0,o.Y)(D.A,{}),run:function(){return(0,p.default)((0,b.Ax)({path:e}))}}].map(function(e){var n=e.label,t=e.icon,r=e.run;return{match:v.G2,data:{type:"action",label:n,icon:t,run:r}}})}function L(e){return{match:v.G2,data:{type:"action",label:"Duplicate file",icon:(0,o.Y)(k.A,{}),run:e}}}function M(e){return{match:v.G2,data:{type:"action",icon:(0,o.Y)(N.A,{color:_.LU.redDefault}),label:"Delete",run:e}}}function J(){var e=(0,f.A)(),n=(0,m.A)().fs,t=(0,d._P)({controlName:"flag-direct-file-downloads"}),p=(0,s.useCallback)(function(a,o){var s=a.path,u=[{data:{type:"group",key:"rename"},commands:function(){return[O(function(){return o.rename(s)})]}}];return(0,l.m6)(s)&&u.push({data:{type:"group",key:"saveFile"},commands:function(){return[P(function(){return(0,r._)(function(){return(0,i.YH)(this,function(e){switch(e.label){case 0:return[4,n.flush(new Set([s]),c.sT.MANUAL_SAVE)];case 1:return e.sent(),[2]}})})()})]}}),u.push({data:{type:"group",key:"copy"},commands:function(){return U(s)}}),u.push(L(function(){return(0,r._)(function(){var t;return(0,i.YH)(this,function(r){switch(r.label){case 0:t=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,(0,h.A)(s,n)];case 2:return t=r.sent(),[3,4];case 3:return r.sent(),[2,{type:"error",message:"Error duplicating file"}];case 4:return(0,y.A)({replId:e,action:"duplicated",fileType:c.pt.File}),o.rename(t),[2]}})})()})),u.push((0,g.Gp)(s,n,t)),u.push({data:{type:"group",key:"deleteFile"},commands:function(){return[M(function(){return o.deleteNodes(a)})]}}),u},[e,n,t]),b=(0,w.xu)(),_=(0,w.xi)(),S=(0,s.useCallback)(function(e,n){var t=e.path,r=t===u.Dl,i=r?[]:[{data:{type:"group",key:"rename"},commands:function(){return[O(function(){return n.rename(e.path)})]}}];return i.push.apply(i,(0,a._)(F(function(t){return n.create(t,e.path)}))),r||i.push({data:{type:"group",key:"copy"},commands:function(){return U(t)}}),n.getExpandedDirs()&&i.push({match:v.G2,data:{icon:(0,o.Y)(A.A,{}),type:"action",label:"Collapse "+(r?"all":"child folders"),run:function(){var e=n.getExpandedDirs(t);e&&n.collapse((0,a._)(e))}}}),r||i.push({data:{type:"group",key:"deleteFile"},commands:function(){return[M(function(){return n.deleteNodes(e)})]}}),r&&i.push({data:{type:"group",key:"hiddenFiles"},commands:function(){return[{match:v.G2,data:{type:"action",label:(_?"Hide":"Show")+" hidden files",icon:_?(0,o.Y)(E.A,{}):(0,o.Y)(Y.A,{}),run:function(){b(!_)}}}]}}),i},[_,b]);return(0,s.useCallback)(function(e,n){return{data:{type:"context",label:"Search actions",icon:(0,o.Y)(R.A,{})},commands:function(){return e.type===c.pt.Directory?S(e,n):p(e,n)}}},[p,S])}},31297:e=>{e.exports={stepContainer:"StepItem_stepContainer__bAyNe",stepNumber:"StepItem_stepNumber__ZnX71",title:"StepItem_title__IDA47"}},31334:(e,n,t)=>{"use strict";t.d(n,{OR:()=>c,fJ:()=>l,sz:()=>u});var r=t(90629),a=t(49069),i=t(87777),o=a.Pe.define(),s=a.Pe.define(),l=function(e){var n=e.view,t=e.insert,r=e.scrollIntoView,a=e.overwrite,s=e.insertAt;if(a)n.dispatch({changes:{from:0,to:n.state.doc.length,insert:t},effects:o.of(null),scrollIntoView:r,annotations:i.A.of(!0)});else{var l=null!=s?s:n.state.selection.main.head,u=null!=s?s:n.state.selection.main.from;n.dispatch({changes:{from:u,insert:t},selection:{anchor:l+t.length},effects:o.of(null),scrollIntoView:r,annotations:i.A.of(!0)})}},u=function(e){var n=e.state.field(c,!1);if(!n)return void r.Cp(Error("RevetGhostwriterCodeInsertState not found when trying to revert"));e.dispatch({changes:n,effects:s.of(null)})},c=a.sU.define({create:function(){return null},update:function(e,n){e&&(e=e.map(n.changes));var t=!0,r=!1,a=void 0;try{for(var i,l=n.effects[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var u=i.value;u.is(o)&&(e=n.changes.invert(n.startState.doc)),u.is(s)&&(e=null)}}catch(e){r=!0,a=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw a}}return e}})},31472:(e,n,t)=>{"use strict";t.d(n,{Gi:()=>a,UN:()=>i});var r=t(74651),a=function(e){return e.NOT_INITIALIZED="NOT_INITIALIZED",e.ON_UNBORN_BRANCH="ON_UNBORN_BRANCH",e.MERGING="MERGING",e.REBASING="REBASING",e.REVERTING="REVERTING",e.CHERRY_PICKING="CHERRY_PICKING",e.APPLYING_MAILBOX="APPLYING_MAILBOX",e.BISECTING="BISECTING",e.INDEX_LOCKED="INDEX_LOCKED",e.CONFIG_LOCKED="CONFIG_LOCKED",e.DIRTY_WORKTREE="DIRTY_WORKTREE",e.DIRTY_INDEX="DIRTY_INDEX",e.CLEAN="CLEAN",e.DETACHED_HEAD="DETACHED_HEAD",e.HEAD_MISSING="HEAD_MISSING",e.TREE_CORRUPTED="TREE_CORRUPTED",e}({});r.ZU.Enum(a);var i=function(e){return e.INITIALIZING="INITIALIZING",e.INTERMEDIATE="INTERMEDIATE",e.NORMAL="NORMAL",e.DETACHED_HEAD="DETACHED_HEAD",e.HEAD_MISSING="HEAD_MISSING",e}({});r.ZU.Enum(i)},31804:(e,n,t)=>{"use strict";t.d(n,{N:()=>r});var r=function(e){return e.FileNode="FILE_NODE",e.FileHeaderTab="FILE_HEADER_TAB",e.Code="CODE",e.Pane="PANE",e.NewPane="NEW_PANE",e}({})},32543:(e,n,t)=>{"use strict";t.d(n,{g:()=>m});var r=t(17844),a=t(93629),i=t(17459),o=t(21462),s=t(97008),l=t(86035),u=t(6132),c=t(80719),d=t(69832),f=t(21117),p=t(82920),h=t(66186);function m(){var e=(0,c.NC)(),n=(0,d.Rj)(function(){return e.sessions.agent.current},[e.sessions],{default:void 0}),t=(0,d.Rj)(function(){return e.sessions.agent.all.list.map(function(e){return e[e.length-1]})},[e.sessions],{default:void 0}),r=(0,d.Rj)(function(){return e.sessions.agent.all.list.select(function(e){return e.length>1})},[e.sessions],{default:!1}),a=(0,c.MG)(),i=(0,c.Ik)(),u=(0,c.xq)(),f=(0,c.C)(),m=(0,h.hT)(),g=(0,p.e)(null!=t?t:null),b=(0,o.useRef)(!1),y=(0,o.useMemo)(function(){return(null==g?void 0:g.event)&&(0,s.TW)(null==g?void 0:g.event,"agentPlanEventContents")?(b.current=!0,!0):!!((null==g?void 0:g.event)&&(0,s.TW)(null==g?void 0:g.event,"agentTimelineEventContents"))&&"end_of_run_summary"===g.event.contents.contents.agentTimelineEventContents.toolName&&!0===b.current||(b.current=!1,!1)},[g]),w=(0,o.useMemo)(function(){return null==t?void 0:t.reduce(v,"global")},[t]),_=(0,d.J2)(null==w?void 0:w.result,{proposedPlan:void 0,approvedPlan:void 0}),S=_.proposedPlan,A=_.approvedPlan;(0,o.useEffect)(function(){if(n){if(r)return void a("approved");if("approved"!==i&&"revising"!==i){if(A){a("approved"),f(A),u(S);return}S&&(S.eventState===l.qOk.IN_PROGRESS?y?a("generating"):a("iterating"):y?a("awaiting-approval"):a("iterating"),u(S))}}},[i,m,S,a,y,u,r,n,A,f])}var v={direction:"reverse",state:{proposedPlan:void 0,approvedPlan:void 0,approvedPlanEventId:void 0},reducer:function(e,n){if((0,s.TW)(e,"approvePlanEventContents")){var t=e.contents.contents;n.approvedPlanEventId=(0,u.QN)(t).planEventId}if((0,s.TW)(e,"agentPlanEventContents")){var o,c=(0,u.QN)(e.contents.contents),d=c.objective,p=c.stackBlueprint,h=c.planId,m=(0,i._)(c,["objective","stackBlueprint","planId"]),v=(0,a._)((0,r._)({},m),{planId:h,stackBlueprint:p,eventCreatedAt:e.created,eventState:e.state,objective:d.description,supportsVisualPreview:(0,f.l)(p),eventId:e.id});if(e.id===n.approvedPlanEventId)return n.proposedPlan=v,n.approvedPlan=(0,a._)((0,r._)({},v),{requiresApproval:!1}),!1;if(v.requiresApproval)return n.proposedPlan=v,!1;if(n.approvedPlan=v,n.proposedPlan&&(null==(o=n.proposedPlan)?void 0:o.eventState)===l.qOk.COMPLETE)return!1}}}},32580:(e,n,t)=>{"use strict";t.d(n,{A:()=>X});var r=t(29935),a=t(17459),i=t(12694),o=t(82643),s=t(34837),l=t(21462),u=t(56101),c=t(17997),d=t(28904),f=t(66288),p=t(91076),h=t(61125),m=t(95793),v=t(26279),g=t(34778),b=t(40115),y=t(21090);function w(e,n){var t=[];return t.push((0,y.m_)("interpreter")),t.push((0,y.m_)("entrypoint")),e&&(t.push((0,y.Ez)(e)),t.push((0,y.eH)(e))),n?(t.push((0,y.Up)(n)),t.push((0,y.dA)(n))):(t.push((0,y.m_)("compile")),t.push((0,y.m_)("deployment/build"))),t}var _=t(59270),S=function(e){return e.Unknown="UNKNOWN",e.Npm="NPM",e.Django="DJANGO",e.Flask="FLASK",e.FastAPI="FASTAPI",e.Pyramid="PYRAMID",e.Starlette="STARLETTE",e.Streamlit="STREAMLIT",e.Rails="RAILS",e.DotNet="DOTNET",e.Cargo="CARGO",e.Make="MAKE",e.RegularRun="REGULAR_RUN",e}({}),A="package.json",k="requirements.txt",C=RegExp("((index)|(main)|(app)|(run)|(start)|(server))\\..+","i"),Y=RegExp("((node_modules)|(venv)|(bower_components)|(vendor)|(build)|(dist)|(target)|(\\.git)|(\\.vscode)|(\\.idea)).+$","i"),E=t(39534),x=t(18712),T=t(3937),D=t(25227),I=t(10342),R=t(77672),N=t(17844),O=t(93629),P=t(42793),F=t(70764),U=(0,P.i7)({"0%":{opacity:.1},"50%":{opacity:1},"100%":{opacity:.1}}),L=(0,F.x)({one:{opacity:.1,animation:"".concat(U," 1.5s ease-in-out infinite"),animationDelay:"0s"},two:{opacity:.1,animation:"".concat(U," 1.5s ease-in-out infinite"),animationDelay:"0.1s"},three:{opacity:"0.1",animation:"".concat(U," 1.5s ease-in-out infinite"),animationDelay:"0.2s"}});let M=function(e){var n=(0,I._)({},(0,R._)(e));return(0,s.FD)(s.FK,{children:[(0,s.Y)("span",(0,O._)((0,N._)({},n),{css:L.one,children:"."})),(0,s.Y)("span",(0,O._)((0,N._)({},n),{css:L.two,children:"."})),(0,s.Y)("span",(0,O._)((0,N._)({},n),{css:L.three,children:"."}))]})};function J(e){var n=e.children;return(0,s.Y)(T.ui,{background:"default",css:[x.wp.borderRadius(8),{width:"100%",height:"calc(100% - ".concat(E.LU.space2,")"),backgroundColor:E.LU.backgroundDefault,overflowY:"auto",marginTop:"0px"}],children:(0,s.Y)(D.S,{css:[{flex:"1 1 auto"}],p:16,justify:"center",align:"center",children:n})})}function H(){return(0,s.Y)(J,{children:(0,s.FD)(D.S,{children:[(0,s.Y)(D.S,{children:"We couldn't read your .replit file"}),(0,s.Y)("a",{css:[x.wp.pt(8),{fontSize:E.LU.fontSizeSmall}],target:"_blank",href:"https://docs.replit.com/replit-workspace/configuring-repl",children:"View docs"})]})})}function B(){return(0,s.Y)(J,{children:(0,s.Y)(D.S,{children:(0,s.FD)("p",{children:["Importing from GitHub",(0,s.Y)(M,{style:{color:E.LU.foregroundDefault}})]})})})}var V=t(19849),$=t(77164),G=t(40756),z=t(83096),W=t(77481),j=t(91953),q=t(33683),Z=t(90843),K=D.D.a,Q=(0,F.x)({root:[x.wp.maxWidth(420),x.wp.display.flex,x.wp.gap(12),x.wp.py(4),{margin:"0 auto"}],section:[x.wp.display.flex,x.wp.p(12),x.wp.gap(12)],loading:[x.wp.center,x.wp.flex.growAndShrink(1)],multiParagraph:[x.wp.flex.column,x.wp.gap(8),{a:[x.wp.display.inline]}]});let X=function(e){var n,t,y,T,I,R,N,O,P,F,U,L,M,J,X,ee,en,et,er,ea,ei,eo,es,el,eu,ec,ed,ef,ep,eh,em,ev,eg,eb,ey,ew=e.flow,e_=(0,a._)(e,["flow"]),eS=(n=e_.closeConfigPane,t=e_.openSidebar,y=e_.onNewPaneSelected,T=e_.openConsole,I=(0,v.pE)("gitImport","boolean"),R=(0,h.A)(),O=(N=(0,b.A)()).fs,P=N.dotReplit,U=(F=(0,i._)((0,l.useState)(null),2))[0],L=F[1],J=(M=(0,i._)((0,l.useState)(null),2))[0],X=M[1],ee=(0,l.useCallback)(function(){y({type:"codeEditor",data:{path:".replit"}})},[y]),(0,l.useEffect)(function(){if(!U)return P.watch(function(e){L(e.config),"NOT_FOUND"!==e.error&&X(e.error)})},[P,U]),et=(en=(0,i._)((0,l.useState)(!1),2))[0],er=en[1],ei=(ea=(0,i._)((0,l.useState)(""),2))[0],eo=ea[1],el=(es=(0,i._)((0,l.useState)(""),2))[0],eu=es[1],ed=(ec=(0,i._)((0,l.useState)(!1),2))[0],ef=ec[1],eh=(ep=(0,i._)((0,l.useState)(S.Unknown),2))[0],em=ep[1],eg=(ev=(0,i._)((0,l.useState)(!1),2))[0],eb=ev[1],(0,l.useEffect)(function(){if(!eg)return O.watchDir(".git",{onChange:function(e){eb(e.length>0)},onMoveOrDelete:function(){eb(!0)},onError:function(){eb(!1)}})}),(0,l.useEffect)(function(){(eg||!I)&&(0,r._)(function(){var e,n,t,a,i,s,l,u,c,d,p,h,v,g,b,y,E;return(0,o.YH)(this,function(x){switch(x.label){case 0:if(!U)return[2];return n=(0,f.a8)(null!=(e=U.run)?e:void 0),a=(0,f.a8)(null!=(t=U.compile)?t:void 0),i=!!U.compile,[4,O.listFiles()];case 1:return s=x.sent(),[4,O.readDir(".git")];case 2:var T,D,R;if(l=x.sent(),s.error||null==s.files||I&&l.error)return[2];return u=s.files,[4,(T=n,D=i,R=u,(0,r._)(function(){var e,n,t;return(0,o.YH)(this,function(a){switch(a.label){case 0:if(0===R.length)return[2,{projType:"UNKNOWN",runCommand:null,compileCommand:null}];return[4,function(e,n){return(0,r._)(function(e,n){var t,r,a,i,s,l;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(t=e.initRunCommand,r=e.isCompiled,!((i=new Set(a=e.allFiles)).has("Makefile")||i.has("makefile")))return[3,1];return[2,"MAKE"];case 1:if(!i.has(A))return[3,2];return[2,"NPM"];case 2:if(!i.has("Cargo.toml"))return[3,3];return[2,"CARGO"];case 3:if(!r)return[3,4];return[2,"UNKNOWN"];case 4:if(!i.has("config/application.rb"))return[3,5];return[2,"RAILS"];case 5:if(!a.some(function(e){return"csproj"===(0,_.an)(e)}))return[3,6];return[2,"DOTNET"];case 6:if(!i.has(k))return[3,8];return[4,n.readFile(k)];case 7:if(!(s=o.sent()).error){if((l=s.content.toString()).includes("django"))return[2,"DJANGO"];if(l.includes("flask"))return[2,"FLASK"];if(l.includes("fastapi"))return[2,"FASTAPI"];else if(l.includes("pyramid"))return[2,"PYRAMID"];else if(l.includes("starlette"))return[2,"STARLETTE"];else if(l.includes("streamlit"))return[2,"STREAMLIT"]}return[3,9];case 8:if(C.test(t))return[2,"REGULAR_RUN"];o.label=9;case 9:return[2,"UNKNOWN"]}})}).apply(this,arguments)}(e={initRunCommand:T,isCompiled:D,allFiles:R},O)];case 1:return t={projType:n=a.sent()},[4,function(e,n,t){return(0,r._)(function(e,n,t){var a,i,s,l;return(0,o.YH)(this,function(u){var c;switch(a=n.initRunCommand,s=(i=n.allFiles).find(function(e){return["main.py","app.py"].includes(e)}),e){case"NPM":return[2,(0,r._)(function(){var e,n,r,a;return(0,o.YH)(this,function(i){switch(i.label){case 0:return[4,t.readFile(A)];case 1:e=i.sent();try{if(!e.error&&(r=null==(n=JSON.parse(e.content.toString()))?void 0:n.scripts,a=["dev","serve","watch","start:dev","start"].find(function(e){return null==r?void 0:r[e]})))return[2,"npm run ".concat(a)]}catch(e){}return[2,"node index.js"]}})})()];case"REGULAR_RUN":if(null==(l=null!=(c=i.filter(function(e){return!Y.test(e)}).find(function(e){return C.test(e)}))?c:null))return[2,null];return[2,a.replace(C,l)];case"DJANGO":return[2,"python3 manage.py runserver 0.0.0.0:3000"];case"FLASK":return[2,"python ".concat(s)];case"FASTAPI":case"STARLETTE":return[2,"uvicorn ".concat(null==s?void 0:s.replace(".py",""),":app --host 0.0.0.0 --port 3000")];case"PYRAMID":return[2,"pserve development.ini"];case"STREAMLIT":return[2,"streamlit run ".concat(s)];case"RAILS":return[2,"bundle exec rails server --binding=0.0.0.0"];case"DOTNET":return[2,"dotnet run"];case"CARGO":return[2,"cargo run"];default:return[2,null]}})}).apply(this,arguments)}(n,e,O)];case 2:return[2,(t.runCommand=a.sent(),t.compileCommand=function(e){switch(e){case"MAKE":return"make";case"CARGO":case"DOTNET":case"NPM":return"";default:return null}}(n),t)]}})})())];case 3:if(d=(c=x.sent()).projType,p=c.runCommand,h=c.compileCommand,v=u.includes("Procfile"),g=function(e,n){return e||n},b=v?g(n,p):g(p,n),y=h||a,eo(b||""),eu(y),ef(d!==S.Unknown&&d!==S.RegularRun),em(d),!I)return[3,6];return b||m.vF.warn("Failed to autosuggest run command"),d===S.Unknown&&m.vF.warn("Failed to detect project type"),E=w(b||"",y),[4,P.updateDotReplit(E)];case 4:return x.sent(),[4,O.flush()];case 5:x.sent(),O.persist({skipDebounce:!0}),x.label=6;case 6:return[2]}})})()},[P,U,O,eg,I]),ey=(0,l.useCallback)(function(e){var n=e.run,t=e.compile,a=e.runChanged,i=e.compileChanged,s=e.projType;return(0,r._)(function(){var e;return(0,o.YH)(this,function(r){switch(r.label){case 0:return(0,g.u4)(g.AZ.NIX_GH_IMPORT_USED,{action:p.s.ConfigDone,isCompiled:""!==t,runChanged:a,compileChanged:i,projType:s,replId:R}),e=w(n,t),[4,P.updateDotReplit(e)];case 1:return r.sent(),O.flush().then(function(){O.persist({skipDebounce:!0})}),[2]}})})()},[P,O,R]),{fs:O,applyConfig:ey,closeConfigPane:n,dotReplitConfig:U,dotReplitError:J,isApplyingConfig:et,setIsApplyingConfig:er,initialBuild:el,initialRun:ei,isFrameworkRecommended:ed,projType:eh,openDotReplit:ee,openSidebar:t,openConsole:T}),eA=(0,c.G)(),ek=eA.modules,eC=eA.configs,eY=(0,d.A)(),eE=(0,i._)((0,l.useState)("Overview"),2),ex=eE[0],eT=eE[1],eD=(0,l.useMemo)(function(){return null==ek?void 0:ek.filter(function(e){return"replit"!==e.id})},[ek]),eI=eS.dotReplitConfig,eR=eS.dotReplitError,eN=eS.initialRun,eO=eS.initialBuild,eP=void 0===eO?"":eO,eF=eS.openConsole,eU=eS.openDotReplit,eL=eS.applyConfig,eM=eS.isApplyingConfig,eJ=eS.setIsApplyingConfig,eH=eS.closeConfigPane,eB=eS.openSidebar,eV=eS.projType,e$=!!eV&&eV===S.Rails,eG=(0,u.W)(eN,function(e){if(!e)return{message:"Add a run command"}}),ez=(0,i._)((0,l.useState)(eP),2),eW=ez[0],ej=ez[1];if((0,l.useEffect)(function(){eG.setValue(eN)},[eN]),(0,l.useEffect)(function(){ej(null!=eP?eP:"")},[eP]),eR)return(0,s.Y)(H,{});if(!eI&&"githubImport"===ew)return(0,s.Y)(B,{});if(!ek||!eD||!eC||!eY)return(0,s.Y)(D.S,{css:Q.loading,children:(0,s.Y)(q.A,{})});switch(ex){case"ModuleSearch":return(0,s.Y)($.m,{onBack:function(){return eT("Overview")},disableCategorySelection:!0,initialCategory:"Modules",openConsole:eF});case"Overview":return(0,s.FD)(D.S,{css:Q.root,children:[(0,s.FD)(D.S,{css:Q.section,children:[(0,s.Y)(j.Y9,{variant:"headerDefault",level:1,children:"Configure your App"}),(0,s.Y)(W.s,{color:"dimmer",css:Q.multiParagraph,children:"githubImport"===ew?(0,s.FD)(s.FK,{children:[(0,s.FD)("p",{children:["Your code was successfully imported from GitHub. We've created a"," ",(0,s.Y)("a",{href:"",onClick:function(e){e.preventDefault(),eU()},children:".replit file"}),", which configures your App's behavior."," ",(0,s.Y)("a",{href:"https://docs.replit.com/replit-workspace/configuring-repl#replit-configuration-file",target:"_blank",rel:"noopener noreferrer",children:"Learn more about .replit files."})]}),(0,s.FD)("p",{children:["To get started, verify our recommended platform dependencies and commands. If you're still deciding, try"," ",(0,s.Y)(K,{onClick:function(){return null==e_?void 0:e_.onNewPaneSelected({type:"ghostwriterChat"})},children:"asking AI"}),"."]})]}):(0,s.Y)(s.FK,{children:(0,s.FD)("p",{children:["Before configuring your Run command, make sure you've installed any"," ",(0,s.Y)(K,{onClick:function(){return null==e_?void 0:e_.onNewPaneSelected({type:"developer",data:{tab:["dependencies","import"]}})},children:"languages and packages"})," ","necessary for your project. If you're still deciding, try"," ",(0,s.Y)(K,{onClick:function(){return null==e_?void 0:e_.onNewPaneSelected({type:"ghostwriterChat"})},children:"asking AI"}),"."]})})})]}),"githubImport"===ew?(0,s.FD)(D.S,{css:Q.section,children:[(0,s.Y)(j.Y9,{variant:"subheadDefault",level:2,children:"Modules"}),(0,s.Y)(j.EY,{color:"dimmer",children:"Modules combine support for programming languages, formatters, and packagers."}),(0,s.Y)(V.A,{modules:eD}),(0,s.Y)(G.$n,{stretch:!0,colorway:"primary",variant:"outlined",type:"submit",text:"Add more modules",onClick:function(){eT("ModuleSearch")}})]}):null,(0,s.FD)(D.S,{css:Q.section,children:[(0,s.Y)(D.S,{row:!0,justify:"space-between",children:(0,s.Y)(j.Y9,{variant:"subheadDefault",level:2,children:"Commands"})}),(0,s.Y)("form",{onSubmit:function(e){return(0,r._)(function(){return(0,o.YH)(this,function(n){switch(n.label){case 0:if(e.preventDefault(),eJ(!0),!eG.value)return eG.validate(),[2];return[4,eL({run:eG.value,compile:null!=eW?eW:"",runChanged:eG.value!==eN,compileChanged:eW!==eP,projType:eV})];case 1:return n.sent(),"githubImport"===ew&&(eH(),null==eB||eB()),eJ(!1),[2]}})})()},css:[{width:"100%"}],children:(0,s.Y)(D.S,{gap:8,children:(0,s.FD)(D.S,{gap:8,children:[(0,s.FD)(D.S,{gap:8,children:[eP?(0,s.FD)(D.S,{gap:4,children:[(0,s.Y)("label",{htmlFor:"compile-sel",children:"Compile command"}),(0,s.Y)(j.EY,{variant:"small",color:"dimmest",children:"This is optional, and is executed before your run command."}),(0,s.Y)(z.pd,{disabled:eM,id:"compile-sel",type:"text",value:eW,placeholder:"Enter a command to compile the program",onChange:function(e){ej(e.currentTarget.value)},css:{"&:disabled":{color:E.LU.foregroundDimmer}}})]}):null,(0,s.Y)("label",{htmlFor:"run-sel",css:[x.wp.mt(4)],"data-cy":"import-config-run-command",children:"Run command"}),(0,s.Y)(z.pd,{disabled:eM,id:"run-sel",dataCy:"import-config-run-command-input",type:"text",value:eG.value,placeholder:"Enter a command to run the program",onChange:function(e){eG.setValue(e.currentTarget.value)},css:[{"&:disabled":{color:E.LU.foregroundDimmer,cursor:"auto"},cursor:"text"}]}),eG.error||!eG.value?(0,s.FD)(D.S,{css:[x.wp.color.accentNegativeDefault,x.wp.rowWithGap(4),x.wp.align.center],children:[(0,s.Y)(Z.A,{size:12}),(0,s.Y)(D.S,{children:eG.error?eG.error.message:"Add a run command"})]}):null]}),(0,s.FD)(j.EY,{color:"dimmer",variant:"small",children:["Use either a dev server or start command.",(0,s.Y)(K,{css:x.wp.color.accentPrimaryStronger,target:"_blank",href:"https://docs.replit.com/replit-workspace/configuring-repl#run-command",rel:"noopener noreferrer",children:"Not sure what to use or running multiple apps?"})]}),e$?(0,s.Y)(D.S,{children:(0,s.FD)(j.EY,{variant:"small",color:"dimmest",children:["We detected this is a Rails project. You will need",(0,s.FD)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://docs.replit.com/additional-resources/rails-on-replit",children:[" ","additional changes"," "]}),"to your config files to use all of Replit’s features."]})}):null,(0,s.Y)(D.S,{css:[x.wp.flex.column,x.wp.pt(16)],children:(0,s.Y)(G.$n,{stretch:!0,colorway:"primary",type:"submit",text:eM?"Saving...":"githubImport"===ew?"Confirm and close":"Save",loading:eM,disabled:eM||!!eG.error||!eG.value,dataCy:"import-config-done"})})]})})})]})]})}}},32930:(e,n,t)=>{"use strict";t.d(n,{P:()=>p});var r=t(34837),a=t(39534),i=t(70764),o=t(51292),s=t(18712),l=t(40756),u=t(2717),c=t(3937),d=t(25227),f=(0,i.x)({root:[{borderBottom:"1px solid ".concat(a.LU.outlineDimmest)}],inner:[s.wp.position.relative],tabs:[s.wp.overflowX("auto"),s.wp.pl(8)],tab:[o.b.nofill,s.wp.borderRadius(0),s.wp.px(12),s.wp.position.relative,{transition:"none",height:38,marginRight:1,"::after":{content:'""',display:"block",position:"absolute",right:-2,width:1,height:16,backgroundColor:a.LU.outlineDimmest},"&:last-child":{marginRight:0,"::after":{display:"none"}}}],dot:[s.wp.position.absolute,s.wp.borderRadius(16),s.wp.width(8),s.wp.height(8),s.wp.backgroundColor.accentPrimaryStronger,{top:8,right:8}]}),p=function(e){var n=e.tabs,t=e.value,i=e.onClick;return(0,r.Y)(c.ui,{css:f.root,children:(0,r.Y)(d.S,{css:f.inner,children:(0,r.Y)(d.S,{css:f.tabs,row:!0,align:"center",children:n.map(function(e){return(0,r.FD)(d.S,{css:s.wp.position.relative,children:[(0,r.Y)(l.$n,{style:{borderBottom:"1px solid "+(t===e.value?a.LU.foregroundDefault:"transparent")},css:f.tab,text:e.label,iconLeft:e.icon,iconRight:e.beta?(0,r.Y)(u.a,{text:"Beta",colorway:"grey"}):void 0,onClick:function(){return i(e)}}),e.showDot?(0,r.Y)(d.S,{css:f.dot}):null]},e.value)})})})})}},33841:(e,n,t)=>{"use strict";t.d(n,{x:()=>d});var r=t(17844),a=t(12584),i=t(41114),o=t(54744);function s(){var e=(0,a._)(["\n  query GetIsGuestInStarterPlanUserRepl($replId: String!) {\n    getRepl(id: $replId) {\n      __typename\n      ... on Repl {\n        id\n        org {\n          __typename\n          id\n        }\n        owner {\n          __typename\n          ... on User {\n            id\n            isSubscribed\n          }\n        }\n        isOwner\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return s=function(){return e},e}var l={},u=(0,i.J1)(s()),c=t(61125);function d(){var e,n,t,a,i=(t={variables:{replId:(0,c.A)()}},a=(0,r._)({},l,t),o.I(u,a)).data,s=(null==i?void 0:i.getRepl.__typename)==="Repl"&&null!=(e=i.getRepl.org)&&!!e.id;return(null==i?void 0:i.getRepl.__typename)==="Repl"&&(null==(n=i.getRepl.owner)?void 0:n.__typename)==="User"&&!i.getRepl.owner.isSubscribed&&!i.getRepl.isOwner&&!s}},33855:(e,n,t)=>{"use strict";t.d(n,{T:()=>c});var r=t(21462),a=t(97008),i=t(80719),o=t(69832),s=t(18374),l={direction:"forward",state:{hasSeenFirstCheckpoint:!1},map:function(e){return e.hasSeenFirstCheckpoint},reducer:function(e,n){if((0,a.cL)(e,"commitData"))return n.hasSeenFirstCheckpoint=!0,!1}},u=t(70552);function c(){var e,n,t,a,c,d,f=(0,u.vZ)();return e=function(){f(!0)},n=(0,i.NC)(),t=(0,o.Rj)(function(){return n.sessions.agent.current},[n]),a=(0,s.Y)(),c=(0,r.useRef)(!1),d=(0,r.useMemo)(function(){return a?null==t?void 0:t.reduce(l,"global"):void 0},[t,a]),(0,r.useEffect)(function(){var n=null==d?void 0:d.subscribe(function(n){n&&!c.current&&(e(),c.current=!0)});return function(){return null==n?void 0:n.unsubscribe()}},[d,e,c]),null}},33887:(e,n,t)=>{"use strict";t.d(n,{D:()=>en});var r=t(29935),a=t(12694),i=t(86105),o=t(82643),s=t(40185),l=t(21462),u=t(90629),c=t(10795),d=t(2483),f=t(86035),p=t(78725),h=t(36163),m=t(49555),v=t(91076),g=t(7017),b=t(86103),y=t(35897),w=t(61125),_=t(95793),S=t(26279),A=t(34778),k=t(39938),C=t(93754),Y=t(28904),E=t(40115),x=t(2976),T=t(56451),D=t(21708),I=t.n(D),R=t(96820),N=t(7990),O=t.n(N),P={14:"nodejs-14",16:"nodejs-16",18:"nodejs-18",19:"nodejs-19",20:"nodejs-20"},F={bash:"bash",basic:"qbasic",nix:"nix",clojure:"clojure-1.11","c++":"cpp-clang14",c:"c-clang14","c#":"dotnet-7.0",dart:"dart-3.3",deno:"deno-1",elixir:"elixir-1_15","f#":"dotnet-7.0",go:"go-1.21",haskell:"haskell-ghc9.4",html:"web",css:"web",shell:"bash",java:"java-graalvm22.3",lua:"lua-5.2",nodejs:"nodejs-20",php:"php-8.2",python:{"3.8":"python-3.8","3.10":"python-3.10","3.11":"python-3.11","3.12":"python-3.12"},r:"r-4.3",rust:"rust-stable",ruby:"ruby-3.2",swift:"swift-5.8",typescript:P,javascript:P,vue:{18:"vue-node-18",20:"vue-node-20"}};function U(e,n){if(void 0===e)return!1;if(void 0===n)return!0;var t=I()(e);if(null===t)return!1;var r=I()(n);return null===r||O()(t,r)}var L=t(46434),M=t(41479),J={preparingRepl:"Preparing workspace",gitInit:"Initializing git repository",gitRemoteAdd:"Connecting to remote",checkoutBranch:"Checking out branch",tidyingFiles:"Tidying up files",done:"Import complete"},H=t(30545),B=t(17844),V=t(22531),$=t(12584),G=t(41114),z=t(57933);function W(){var e=(0,$._)(["\n  query WorkspacePatchDotReplitRepl($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        rootOriginReplUrl\n      }\n    }\n  }\n"]);return W=function(){return e},e}var j={},q=(0,G.J1)(W()),Z=function(e,n){return{op:"add",path:e,value:JSON.stringify(n)}},K=new Map([["hintsList","hints"]]);function Q(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return["bash","-c",n.join("&&")]}function X(e){return e.replace(/'/g,"'\"'\"'")}var ee=function(e){var n,t,u,c,d,f=e.checkoutBranch,p=(0,s.useRouter)(),v=(0,E.A)(),g=v.container,b=v.dotReplit,y=v.git,w=v.fs,S=(n=(0,C.A)({container:g,service:"exec"}).channel,t=(0,l.useRef)(!1),u=(0,l.useRef)([]),c=(0,k.A)(function(){return(0,r._)(function(){var e,r,i,s,l,d,f,p,h,m;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(t.current||!u.current.length||(null==n?void 0:n.status)!=="open")return[2];if(!(e=u.current.pop()))throw Error("Expected request");return s=(i=(r=(0,a._)(e,2))[0]).args,l=i.env,d=r[1],f="",p=n.onCommand(function(e){e.output&&(f+=e.output)}),t.current=!0,[4,n.request({exec:{args:s,env:l,noUserEnv:!0}})];case 1:return h=o.sent(),t.current=!1,p(),m=h.channelClosed?"Channel closed":h.error,d(m?{error:m,output:f||null}:{output:f,error:null}),c.current(),[2]}})})()}),d=null==n?void 0:n.status,(0,l.useEffect)(function(){"open"===d&&c.current()},[d,c]),(0,l.useCallback)(function(e){var n=e.args,t=e.env;return new Promise(function(e){u.current.push([{args:n,env:t},e]),c.current()})},[c])),A=function(e){return(0,r._)(function(){var n,t;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,S({args:["git","branch","--list",e]})];case 1:if(!((n=r.sent()).output&&n.output.trim().length>0))return[3,3];return[4,S({args:Q("git checkout -f '".concat(X(e),"' && git reset --hard 'origin/").concat(X(e),"'"))})];case 2:return t=r.sent(),[3,5];case 3:return[4,S({args:Q("git checkout -f -b '".concat(X(e),"' 'origin/").concat(X(e),"'"))})];case 4:t=r.sent(),r.label=5;case 5:if(t.error)throw Error("Failed to checkout branch: ".concat(t.error));return[2]}})})()},Y=function(e){var n=e.deepen,t=void 0!==n&&n,a=e.remote,i=e.branch;return(0,r._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:if(!a.startsWith("https://api.glitch.com"))return[3,2];return[4,S({args:Q("git fetch '".concat(X(a),"' +refs/heads/*:refs/remotes/origin/*"))})];case 1:return e.sent(),[2];case 2:if(!(i&&t))return[3,4];return[4,S({args:Q("git fetch origin '".concat(X(i),"' --progress --deepen=10"))})];case 3:case 5:case 7:return[2,e.sent()];case 4:if(!i)return[3,6];return[4,S({args:Q("git fetch origin '".concat(X(i),"' --progress --depth=10"))})];case 6:return[4,S({args:Q("git fetch origin +refs/heads/*:refs/remotes/origin/* --progress --depth=10")})]}})})()},x={"requirements.txt":["pyproject.toml","poetry.lock"],"pnpm-lock.yaml":["package-lock.json"],"yarn.lock":["package-lock.json"],"bun.lockb":["package-lock.json"],"bun.lock":["package-lock.json"]};return function(e){var n=e.remote;return(0,r._)(function(){var e,t,s;return(0,o.YH)(this,function(l){switch(l.label){case 0:return[4,(0,r._)(function(){var e,n,t,r,a,i;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,w.readDir(h.Dl)];case 1:if((r=o.sent()).error)return[2];return[4,b.getConfig()];case 2:if(!(null==(n=(a=o.sent()).config)||null==(e=n.gitHubImport)?void 0:e.requiredFiles))return[3,4];return i=a.config.gitHubImport.requiredFiles.concat("^\\.cache$").map(function(e){return new RegExp(e)}),[4,Promise.all(r.children.filter(function(e){var n;return n=e.filename,!i.some(function(e){return null!=n.match(e)})}).map(function(e){return e.type===m.pt.Directory?w.deleteDir(e.filename):w.deleteFile(e.filename)}))];case 3:return o.sent(),[3,6];case 4:if(!(null==(t=a.config)?void 0:t.entrypoint))return[3,6];return[4,w.deleteFile(a.config.entrypoint)];case 5:o.sent(),o.label=6;case 6:return[2]}})})()];case 1:return l.sent(),_.vF.info("GitHub Import: Removed template boilerplate"),[4,(0,r._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return[4,y.init({initialCommit:!1,includeAllInitialFiles:!1})];case 1:return e.sent(),[2]}})})()];case 2:return l.sent(),[4,(0,r._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return[4,y.addRemote({name:"origin",url:n})];case 1:return e.sent(),[2]}})})()];case 3:return l.sent(),[4,(0,r._)(function(){var e,n;return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,S({args:Q("git remote show origin | grep 'HEAD branch'")})];case 1:if(!(e=t.sent()).output)return[2,"main"];return(n=(0,a._)(e.output.split(": "),2))[0],[2,n[1].trim()]}})})()];case 4:return[4,Promise.all([Y({deepen:!1,remote:n,branch:e=l.sent()}),f?Y({deepen:!1,remote:n,branch:f}):null])];case 5:if(l.sent(),t=function(){return(0,r._)(function(){var t;return(0,o.YH)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,A(e)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),_.vF.error("GitHub Import: checkout default branch failed",{originalError:String(t),query:JSON.stringify(p.query),checkoutBranch:f,githubRepo:n}),[3,3];case 3:return[2]}})})()},!f)return[3,11];l.label=6;case 6:return l.trys.push([6,8,,10]),[4,A(f)];case 7:case 9:return l.sent(),[3,10];case 8:return s=l.sent(),_.vF.error("GitHub Import: checkout branch from query parameter failed",{originalError:String(s),query:JSON.stringify(p.query),checkoutBranch:f,githubRepo:n}),[4,t()];case 10:return[3,13];case 11:return[4,t()];case 12:l.sent(),l.label=13;case 13:return[4,(0,r._)(function(){var e,n,t,r;return(0,o.YH)(this,function(a){switch(a.label){case 0:for(n in e=[],x)e.push(n);t=0,a.label=1;case 1:if(!(t<e.length))return[3,5];return r=e[t],[4,w.stat(r)];case 2:if(!a.sent().exists)return[3,4];return[4,S({args:["git","clean","-fdx"].concat((0,i._)(x[r]))})];case 3:a.sent(),a.label=4;case 4:return t++,[3,1];case 5:return[2]}})})()];case 14:return l.sent(),_.vF.info("GitHub Import: Tidied up required files"),[2]}})})()}};function en(e){var n,t,i,m,k,C,D,N,O,P,$,G,W,Q,X,en,et,er,ea,ei=e.setConfigScreenLockIsOpen,eo=e.openPane,es=e.onStatusChange,el=(0,s.useRouter)(),eu=(0,w.A)(),ec=(0,a._)((0,d.Bm)(),2),ed=ec[0],ef=ec[1],ep=(0,a._)((0,l.useState)(null),2),eh=ep[0],em=ep[1],ev=(0,E.A)(),eg=ev.fs,eb=ev.dotReplit,ey=(0,y.A)().showError,ew=(t=(n=(0,E.A)()).dotReplit,i=n.nixService,m=(0,w.A)(),C=(0,a._)((k=(0,B._)({},j,void 0),z._(q,k)),1)[0],N=(D=(0,y.A)()).showWarning,O=D.showError,(0,l.useCallback)(function(e){return(0,r._)(function(){var n,s,l,u,c,d,f,p,h,v,g,b;return(0,o.YH)(this,function(y){switch(y.label){case 0:return[4,t.getConfig()];case 1:if(!(s=y.sent().config)||(null==(n=s.modules)?void 0:n.length))return[2];return[4,C({variables:{replId:m}})];case 2:if(!(null==(u=(null==(l=y.sent().data)?void 0:l.getRepl.__typename)==="Repl"?l.getRepl:null)?void 0:u.rootOriginReplUrl))return[2];try{c=(0,R.qg)(e.toString())}catch(e){return O("Failed to parse template .replit file"),_.vF.error("GitHub Import: Failed to parse template .replit file"),[2]}if(!c)return[2];return[4,function(e){return(0,r._)(function(e){var n,t,i,s,l,u,c,d,f,p,h,m,v,g,b;function y(){return(0,r._)(function(){var e,t,r;return(0,o.YH)(this,function(a){switch(a.label){case 0:if(!(e="object"===(0,V._)(i.env)?i.env:null)||0===Object.keys(e).length)return[2];return r=(t="object"===(0,V._)(s.env)?s.env:null)?(0,B._)({},e,t):e,[4,n.updateDotReplit([Z("env",r)])];case 1:return a.sent(),[2]}})})()}function w(){return(0,r._)(function(){var e,r,a,l;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(null==(e=s.nix)?void 0:e.channel)return[2];if(null==i||null==(r=i.nix)?void 0:r.channel)return[3,2];return[4,t.getLatestStableChannel()];case 1:if(!(l=o.sent()).channel)return[2];return a=l.channel,[3,3];case 2:a=i.nix.channel,o.label=3;case 3:return[4,n.updateDotReplit([Z("nix/channel",a)])];case 4:return o.sent(),[2]}})})()}return(0,o.YH)(this,function(_){switch(_.label){case 0:n=e.dotReplit,t=e.nixService,i=e.templateConfig,s=e.config,l=[],u={entrypoint:"entrypoint config",hidden:"hidden files config",audio:"audio config",run:"run command",refreshWebViewOnFileChange:"webview refresh config",language:"language config",onBoot:"onBoot command",languages:"languages config",compile:"compile command",debugger:"debugger config",packager:"packager config",interpreter:"interpreter config",unitTest:"unit test config",nix:w,env:y,hosting:"hosting config",gitHubImport:"GitHub import config",auth:"Repl Auth config",hintsList:"Hints config",ports:"Ports config",deployment:"deployment config",orderedEnv:null,modules:"nix modules config",extension:"extension config",rules:"rules config",suggestions:"suggestions config",objectStorage:"object storage config",autoSave:"autosave config"},c=[],d=!0,f=!1,p=void 0;try{for(h=Object.entries(u)[Symbol.iterator]();!(d=(m=h.next()).done);d=!0)g=(v=(0,a._)(m.value,2))[0],b=v[1],null!==b&&("function"==typeof b?c.push(b()):c.push(function(e){return(0,r._)(function(){var t,r,a,l,u;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(r=!!(t=s[e]),Array.isArray(t)?r=t.length>0:t&&(void 0===t?"undefined":(0,V._)(t))==="object"&&(r=Object.keys(t).length>0),l=null!=(a=K.get(e))?a:e,r||!i[l])return[2];return u=Z(l,i[l]),[4,n.updateDotReplit([u])];case 1:return o.sent(),[2]}})})()}(g)))}catch(e){f=!0,p=e}finally{try{d||null==h.return||h.return()}finally{if(f)throw p}}return[4,Promise.all(c)];case 1:return _.sent(),[2,l]}})}).apply(this,arguments)}({nixService:i,dotReplit:t,config:s,templateConfig:c})];case 3:d=y.sent(),f=!0,p=!1,h=void 0;try{for(v=d[Symbol.iterator]();!(f=(g=v.next()).done);f=!0)b=g.value,N(b,1e3)}catch(e){p=!0,h=e}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}return[2]}})})()},[m,N,O,t,i,C])),e_=(P=(0,S.pE)("importBranch","string"))?decodeURIComponent(P):null,eS=(0,Y.A)(),eA=(0,g.ET)().orgId,ek=(0,T.AP)().settings;(0,l.useEffect)(function(){ef.error&&ey("Failed to finish cloning Repo - "+ef.error)},[ef.error,ey]),(0,l.useEffect)(function(){eh&&ey("Failed to finish cloning Repo - "+eh)},[eh,ey]);var eC=(0,d.m5)({variables:{replId:eu}}).data,eY=($=(0,Y.A)(),W=(G=(0,E.A)()).fs,Q=G.dotReplit,X=(0,b._P)({controlName:"flag-agent-everywhere"}),en=(null==eC?void 0:eC.getRepl.__typename)==="Repl"?eC.getRepl.config.gitRemoteUrl:void 0,er=(null==(et=(0,d.qW)({skip:!(en&&$),variables:en?{input:{githubRepoUrl:en}}:void 0}).data)?void 0:et.githubRepoInfo.__typename)==="GitHubRepoInfoOutput"?et.githubRepoInfo.topLanguages:void 0,ea=(null==et?void 0:et.githubRepoInfo.__typename)==="GitHubRepoInfoOutput"?et.githubRepoInfo.repositorySource:void 0,{addRecommendedModules:(0,l.useCallback)(function(){return(0,r._)(function(){var e,n,t,r,i,s;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(!(er&&$))return[3,4];return e=er.map(function(e){return{language:e}}),[4,W.readFile("package.json")];case 1:return"content"in(n=o.sent())&&(t=function(e){var n,t,r=null;try{t=JSON.parse(e)}catch(e){return null}if(null==(n=t.engines)?void 0:n.node){var a=I()(t.engines.node);a&&(r="".concat(a.major))}return r}(n.content.toString()))&&(e.push({language:"javascript",version:t}),er.includes("Vue")&&e.push({language:"vue",version:t})),[4,W.readFile("pyproject.toml")];case 2:return"content"in(n=o.sent())&&(r=function(e){var n,t,r,a,i,o=null;try{i=(0,R.qg)(e)}catch(e){return null}var s=(null==(r=i.tool)||null==(t=r.poetry)||null==(n=t.dependencies)?void 0:n.python)||(null==(a=i.project)?void 0:a["requires-python"]);if(s){var l=I()(s);l&&(o="".concat(l.major,".").concat(l.minor))}return o}(n.content.toString()))&&e.push({language:"python",version:r}),i=function(e,n){var t=new Map,r=!0,i=!1,o=void 0;try{for(var s,l,u=e[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var c=l.value,d=F[c.language.toLowerCase()];if(d){var f=t.get(d);(!f||U(c.version,f.version))&&t.set(d,c)}}}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}var p=new Map;null==(s=n.fullModules)||s.forEach(function(e){(null==e?void 0:e.id)&&p.set(e.id,e)});var h=new Set,m=!0,v=!1,g=void 0;try{for(var b,y=t.entries()[Symbol.iterator]();!(m=(b=y.next()).done);m=!0){var w=(0,a._)(b.value,2),_=w[0],S=w[1];if("string"==typeof _){var A=p.get(_);A&&h.add(A)}else{var k=S.version;if(!k||!_[k]){var C=Object.keys(_);C.sort(function(e,n){return U(e,n)?-1:1}),k=C[0]}var Y=_[k],E=p.get(Y);E&&h.add(E)}}}catch(e){v=!0,g=e}finally{try{m||null==y.return||y.return()}finally{if(v)throw g}}return Array.from(h)}(e,$),s=[{op:"add",path:"nix/channel",value:'"stable-25_05"'}],i.length>0?(_.vF.info("GitHub Import: recommended modules:",Object.fromEntries(i.map(function(e){return[e.id,e.name]}))),s.push({op:"add",path:"modules",value:JSON.stringify(i.map(function(e){return e.id}))})):_.vF.warn("GitHub Import: no recommended modules found"),ea===c.u_4.Github&&X&&s.push({op:"add",path:"agent/expertMode",value:"true"}),[4,Q.updateDotReplit(s)];case 3:o.sent(),o.label=4;case 4:return[2]}})})()},[Q,W,$,er,ea,X]),topLanguages:er,repositorySource:ea}),eE=eY.addRecommendedModules,ex=eY.topLanguages,eT=eY.repositorySource,eD=(0,H.c)({openPane:eo}),eI=(0,a._)((0,l.useState)(!1),2),eR=eI[0],eN=eI[1];function eO(){return eg.readFile(p.v)}(0,l.useEffect)(function(){eS&&eC&&"Repl"===eC.getRepl.__typename&&ex&&eN(!0)},[eC,eS,eR,ex]),(0,l.useEffect)(function(){eR&&(0,r._)(function(){var e,n,t,r,a,i,s,l;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(!eC||"Repl"!==eC.getRepl.__typename||(n=eC.getRepl,t=eC.currentUser,"Repl"!==n.__typename||!t||"CurrentUser"!==t.__typename)||(a=null!=(r=null==(e=t.gitHubInfo)?void 0:e.accessToken)?r:null,!(i=n.config.gitRemoteUrl)||!n.config.doClone||!ex))return[2];o.label=1;case 1:return o.trys.push([1,3,4,5]),ei(!0),null==es||es({status:"in_progress",text:"Importing"}),[4,eL({remote:i})];case 2:return o.sent(),(0,A.u4)(A.AZ.NIX_GH_IMPORT_USED,{action:v.s.ImportEnded,replId:n.id,orgContext:(0,g.po)(eA?{id:eA}:void 0),repositorySource:eT}),null==es||es({status:"success"}),[3,5];case 3:return s=o.sent(),_.vF.error("GitHub Import: Failed to do GitHub import flow",{originalError:String(s),query:JSON.stringify(el.query),githubRepo:i,hasAccessToken:!!a}),u.Cp(s,{extra:{query:JSON.stringify(el.query),githubRepo:i,hasAccessToken:!!a}}),em(l=String(s)),null==es||es({status:"error",errorMessage:l}),[3,5];case 4:return ei(!1),[7];case 5:return[2]}})})()},[eR]);var eP=(0,b._P)({controlName:"flag-github-import-via-pid2"}),eF=(0,M.I)(function(e){return function(n){var t=n.remote,a=n.checkoutBranch,i=n.onProgress;return(0,r._)(function(){var n,r,s,l,u,c,d,f,p,m,v,g,b;return(0,o.YH)(this,function(o){switch(o.label){case 0:return _.vF.info("Starting PID2 GitHub import flow"),[4,e.git.importFromGitRemote.rpc({cwd:h.Dl,remoteUrl:t,checkoutBranch:null!=a?a:void 0})];case 1:if(!(n=o.sent()).ok)throw Error("Failed to start import: ".concat(JSON.stringify(n.payload)));r=e.git.importFromGitRemoteStatus.subscribe({}).resReadable,s=!1,l=!1,u=!1,o.label=2;case 2:o.trys.push([2,7,8,13]),d=(0,L._)(r),o.label=3;case 3:return[4,d.next()];case 4:if(!(l=!(f=o.sent()).done))return[3,6];if(!(p=f.value).ok)throw _.vF.error("PID2 import error",{pid2ImportError:p.payload}),Error("Import failed: ".concat(JSON.stringify(p.payload)));if(g=null!=(v=J[m=p.payload.state])?v:"Importing...",null==i||i(g),"done"===m)return _.vF.info("Received done state, completing"),s=!0,[3,6];o.label=5;case 5:return l=!1,[3,3];case 6:return[3,13];case 7:return b=o.sent(),u=!0,c=b,[3,13];case 8:if(o.trys.push([8,,11,12]),!(l&&null!=d.return))return[3,10];return[4,d.return()];case 9:o.sent(),o.label=10;case 10:return[3,12];case 11:if(u)throw c;return[7];case 12:return[7];case 13:if(!s)throw _.vF.error("PID2 stream ended without done state"),Error("Import status subscription interrupted");return _.vF.info("PID2 import completed successfully"),[2]}})})()}}),eU=ee({checkoutBranch:e_}),eL=function(e){var n=e.remote;return(0,r._)(function(){var e,t,r;return(0,o.YH)(this,function(a){switch(a.label){case 0:if(!eS||!(eC&&"Repl"===eC.getRepl.__typename))return[2];return _.vF.info("GitHub Import: Starting client-side GitHub import flow",{usePid2Import:eP}),[4,eO()];case 1:if(e=a.sent(),!(eP&&eF))return[3,3];return[4,eF({remote:n,checkoutBranch:e_,onProgress:function(e){null==es||es({status:"in_progress",text:e})}})];case 2:return a.sent(),[3,5];case 3:return[4,eU({remote:n})];case 4:a.sent(),a.label=5;case 5:if(_.vF.info("GitHub Import: Cloned repo into Repl"),"NOT_FOUND"!==e.error)return[3,8];return[4,eb.updateDotReplit([])];case 6:return a.sent(),[4,eO()];case 7:e=a.sent(),a.label=8;case 8:if("content"in e)return[3,9];return _.vF.error("GitHub Import: Skipping patching dotReplit because templateDotReplit was an error",{readError:String(e.error)}),[3,14];case 9:return[4,eO()];case 10:return t=a.sent(),r=""!==e.content.toString()&&"content"in t&&t.content.toString()!==e.content.toString(),[4,ew(e.content)];case 11:if(a.sent(),_.vF.info("GitHub Import: Patched dotreplit"),!r)return[3,12];return _.vF.info("GitHub Import: Repo has .replit",{githubURL:n}),[3,14];case 12:return[4,eE()];case 13:a.sent(),_.vF.info("GitHub Import: Added recommended modules"),a.label=14;case 14:return[4,ed({variables:{input:{id:eu,doClone:!1}}})];case 15:if(a.sent(),_.vF.info("GitHub Import: Disabled doClone on Repl."),!e_)return[3,17];return[4,eg.persist()];case 16:a.sent(),(0,S.HQ)({router:el,params:[{mode:"delete",key:"importBranch"}]}),a.label=17;case 17:return _.vF.info("GitHub Import: Repository source is agent supported source",{repositorySource:eT}),[4,eD({kind:"setupImportedProject",importSource:function(e){if(!e)return f.aJd.PROJECT_IMPORT_SOURCE_UNKNOWN;switch(e){case c.u_4.Github:return f.aJd.PROJECT_IMPORT_SOURCE_OTHER_GITHUB;case c.u_4.Lovable:return f.aJd.PROJECT_IMPORT_SOURCE_LOVABLE;case c.u_4.Bolt:return f.aJd.PROJECT_IMPORT_SOURCE_BOLT;case c.u_4.Vercel:return f.aJd.PROJECT_IMPORT_SOURCE_VERCEL;case c.u_4.ReplitAgent:return f.aJd.PROJECT_IMPORT_SOURCE_REPLIT;default:return f.aJd.PROJECT_IMPORT_SOURCE_UNKNOWN}}(eT),agentConfig:(0,x.NE)(ek)},{createNewSession:!0})];case 18:return a.sent(),[2]}})})()}}},34282:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(34837),a=t(21462);let i=['<svg xmlns="http://www.w3.org/2000/svg" id="0" width="24" height="24" fill="none"><path fill="#A694FF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0ZM15.429 12a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12ZM6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM15.429 20.571a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="1" width="24" height="24" fill="none"><path fill="#A694FF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12Z"/><path fill="#795EFF" fillRule="evenodd" d="M3.429 0a3.429 3.429 0 0 1 3.428 3.429v.026a5.143 5.143 0 0 0 5.137 5.116H12a3.429 3.429 0 1 1 0 6.858 5.143 5.143 0 0 0-5.143 5.142 3.429 3.429 0 1 1-3.428-3.428h.006a5.143 5.143 0 0 0-.007-10.286 3.429 3.429 0 0 1 0-6.857Zm8.57 6.857V3.43H8.572A3.429 3.429 0 0 0 12 6.857ZM6.858 12a3.429 3.429 0 0 0-3.428-3.429v6.858A3.429 3.429 0 0 0 6.856 12ZM12 17.143A3.429 3.429 0 0 0 8.57 20.57H12v-3.428Z" clipRule="evenodd"/><path fill="#A694FF" d="M24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0ZM15.429 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="2" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M12 6.857V3.43H8.57A3.429 3.429 0 0 0 12 6.857Zm0 1.714A5.143 5.143 0 0 1 6.857 3.43H3.429v3.428A5.143 5.143 0 0 1 8.57 12H12V8.571ZM6.857 12a3.429 3.429 0 0 0-3.428-3.429V12h3.428ZM6.857 12H3.428v3.429A3.429 3.429 0 0 0 6.857 12Zm1.714 0a5.143 5.143 0 0 1-5.143 5.143v3.428h3.429A5.143 5.143 0 0 1 12 15.43V12H8.57ZM12 17.143A3.429 3.429 0 0 0 8.57 20.57H12v-3.428ZM20.571 15.429V12h-3.428a3.429 3.429 0 0 0 3.428 3.429Zm0 1.714A5.143 5.143 0 0 1 15.428 12H12v3.429a5.143 5.143 0 0 1 5.143 5.142h3.428v-3.428Zm-5.143 3.428A3.429 3.429 0 0 0 12 17.143v3.428h3.428Z" clipRule="evenodd"/><path fill="#795EFF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12Z"/><path fill="#795EFF" d="M6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="3" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M12 6.857V3.43H8.57A3.429 3.429 0 0 0 12 6.857Zm0 1.714A5.143 5.143 0 0 1 6.857 3.43H3.429v3.428A5.143 5.143 0 0 1 8.57 12H12V8.571ZM6.857 12a3.429 3.429 0 0 0-3.428-3.429V12h3.428ZM12 15.429V12H8.57A3.429 3.429 0 0 0 12 15.429Zm0 1.714A5.143 5.143 0 0 1 6.857 12H3.428v3.429a5.143 5.143 0 0 1 5.143 5.142H12v-3.428ZM6.857 20.57a3.428 3.428 0 0 0-3.429-3.428v3.428h3.429ZM20.571 15.429V12h-3.428a3.429 3.429 0 0 0 3.428 3.429Zm0 1.714A5.143 5.143 0 0 1 15.428 12H12v3.429a5.143 5.143 0 0 1 5.143 5.142h3.428v-3.428Zm-5.143 3.428A3.429 3.429 0 0 0 12 17.143v3.428h3.428Z" clipRule="evenodd"/><path fill="#795EFF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0ZM15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12ZM6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="4" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M12 6.857V3.43H8.57A3.429 3.429 0 0 0 12 6.857Zm0 1.714A5.143 5.143 0 0 1 6.857 3.43H3.429v3.428A5.143 5.143 0 0 1 8.57 12H12V8.571ZM6.857 12a3.429 3.429 0 0 0-3.428-3.429V12h3.428ZM20.571 6.857V3.43h-3.428a3.429 3.429 0 0 0 3.428 3.428Zm0 1.714a5.143 5.143 0 0 1-5.143-5.142H12v3.428A5.143 5.143 0 0 1 17.143 12h3.428V8.571ZM15.428 12A3.429 3.429 0 0 0 12 8.571V12h3.428ZM6.857 12H3.428v3.429A3.429 3.429 0 0 0 6.857 12Zm1.714 0a5.143 5.143 0 0 1-5.143 5.143v3.428h3.429A5.143 5.143 0 0 1 12 15.43V12H8.57ZM12 20.571v-3.428A3.429 3.429 0 0 0 8.57 20.57H12Z" clipRule="evenodd"/><path fill="#795EFF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12ZM6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="5" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M12 6.857V3.43H8.57A3.429 3.429 0 0 0 12 6.857Zm0 1.714A5.143 5.143 0 0 1 6.857 3.43H3.429v3.428A5.143 5.143 0 0 1 8.57 12H12V8.571ZM6.857 12a3.429 3.429 0 0 0-3.428-3.429V12h3.428ZM20.571 6.857V3.43h-3.428a3.429 3.429 0 0 0 3.428 3.428Zm0 1.714a5.143 5.143 0 0 1-5.143-5.142H12v3.428A5.143 5.143 0 0 1 17.143 12h3.428V8.571ZM15.428 12A3.429 3.429 0 0 0 12 8.571V12h3.428ZM6.857 12H3.428v3.429A3.429 3.429 0 0 0 6.857 12Zm1.714 0a5.143 5.143 0 0 1-5.143 5.143v3.428h3.429A5.143 5.143 0 0 1 12 15.43V12H8.57ZM12 17.143A3.429 3.429 0 0 0 8.57 20.57H12v-3.428ZM20.571 15.429V12h-3.428a3.429 3.429 0 0 0 3.428 3.429Zm0 1.714A5.143 5.143 0 0 1 15.428 12H12v3.429a5.143 5.143 0 0 1 5.143 5.142h3.428v-3.428Zm-5.143 3.428A3.429 3.429 0 0 0 12 17.143v3.428h3.428Z" clipRule="evenodd"/><path fill="#795EFF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12ZM6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="6" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M12 6.857V3.43H8.57A3.429 3.429 0 0 0 12 6.857Zm0 1.714A5.143 5.143 0 0 1 6.857 3.43H3.428v3.428A5.143 5.143 0 0 1 8.571 12H12V8.571ZM6.857 12a3.429 3.429 0 0 0-3.429-3.429V12h3.429ZM15.428 3.429H12v3.428a3.429 3.429 0 0 0 3.428-3.428Zm1.715 0A5.143 5.143 0 0 1 12 8.57V12h3.428a5.143 5.143 0 0 1 5.143-5.143V3.43h-3.428ZM20.57 8.57A3.429 3.429 0 0 0 17.143 12h3.428V8.571ZM6.857 12H3.428v3.429A3.429 3.429 0 0 0 6.857 12Zm1.714 0a5.143 5.143 0 0 1-5.143 5.143v3.428h3.429A5.143 5.143 0 0 1 12 15.43V12H8.57ZM12 17.143A3.429 3.429 0 0 0 8.57 20.57H12v-3.428ZM15.428 12H12v3.429A3.429 3.429 0 0 0 15.428 12Zm1.715 0A5.143 5.143 0 0 1 12 17.143v3.428h3.428a5.143 5.143 0 0 1 5.143-5.142V12h-3.428Zm3.428 5.143a3.429 3.429 0 0 0-3.428 3.428h3.428v-3.428Z" clipRule="evenodd"/><path fill="#795EFF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#795EFF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12ZM6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM15.429 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="7" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M12 6.857V3.43H8.57A3.429 3.429 0 0 0 12 6.857Zm0 1.714A5.143 5.143 0 0 1 6.857 3.43H3.428v3.428A5.143 5.143 0 0 1 8.571 12H12V8.571ZM6.857 12a3.429 3.429 0 0 0-3.429-3.429V12h3.429ZM15.428 3.429H12v3.428a3.429 3.429 0 0 0 3.428-3.428Zm1.715 0A5.143 5.143 0 0 1 12 8.57V12h3.428a5.143 5.143 0 0 1 5.143-5.143V3.43h-3.428ZM20.57 8.57A3.429 3.429 0 0 0 17.143 12h3.428V8.571Z" clipRule="evenodd"/><path fill="#795EFF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#795EFF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12ZM6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM15.429 20.571a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="8" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M6.857 3.429H3.43v3.428A3.429 3.429 0 0 0 6.857 3.43Zm1.714 0A5.143 5.143 0 0 1 3.43 8.57V12h3.428A5.143 5.143 0 0 1 12 6.857V3.43H8.571ZM12 8.57A3.429 3.429 0 0 0 8.57 12H12V8.571ZM15.428 3.429H12v3.428a3.429 3.429 0 0 0 3.428-3.428Zm1.715 0A5.143 5.143 0 0 1 12 8.57V12h3.428a5.143 5.143 0 0 1 5.143-5.143V3.43h-3.428ZM20.57 8.57A3.429 3.429 0 0 0 17.143 12h3.428V8.571ZM6.857 12H3.428v3.429A3.429 3.429 0 0 0 6.857 12Zm1.714 0a5.143 5.143 0 0 1-5.143 5.143v3.428h3.429A5.143 5.143 0 0 1 12 15.43V12H8.57ZM12 17.143A3.429 3.429 0 0 0 8.57 20.57H12v-3.428ZM15.428 12H12v3.429A3.429 3.429 0 0 0 15.428 12Zm1.715 0A5.143 5.143 0 0 1 12 17.143v3.428h3.428a5.143 5.143 0 0 1 5.143-5.142V12h-3.428Zm3.428 5.143a3.429 3.429 0 0 0-3.428 3.428h3.428v-3.428Z" clipRule="evenodd"/><path fill="#A694FF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0ZM15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12ZM6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM15.429 20.571a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="9" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M6.857 3.429A3.429 3.429 0 0 1 3.43 6.857V3.43h3.428Zm1.714 0A5.143 5.143 0 0 1 3.43 8.57V12h3.428A5.143 5.143 0 0 1 12 6.857V3.43H8.571ZM12 8.57A3.429 3.429 0 0 0 8.57 12H12V8.571ZM15.428 3.429A3.429 3.429 0 0 1 12 6.857V3.43h3.428Zm1.715 0A5.143 5.143 0 0 1 12 8.57V12h3.428a5.143 5.143 0 0 1 5.143-5.143V3.43h-3.428ZM20.57 8.57A3.429 3.429 0 0 0 17.143 12h3.428V8.571ZM6.857 12H3.428v3.429A3.429 3.429 0 0 0 6.857 12Zm1.714 0a5.143 5.143 0 0 1-5.143 5.143v3.428h3.429A5.143 5.143 0 0 1 12 15.43V12H8.57ZM12 17.143A3.429 3.429 0 0 0 8.57 20.57H12v-3.428ZM20.571 15.429V12h-3.428a3.429 3.429 0 0 0 3.428 3.429Zm0 1.714A5.143 5.143 0 0 1 15.428 12H12v3.429a5.143 5.143 0 0 1 5.143 5.142h3.428v-3.428Zm-5.143 3.428A3.429 3.429 0 0 0 12 17.143v3.428h3.428Z" clipRule="evenodd"/><path fill="#A694FF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0ZM15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12Z"/><path fill="#795EFF" d="M6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 20.571a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#795EFF" d="M24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="10" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M12 6.857V3.43H8.57A3.429 3.429 0 0 0 12 6.857Zm0 1.714A5.143 5.143 0 0 1 6.857 3.43H3.428v3.428A5.143 5.143 0 0 1 8.571 12H12V8.571ZM6.857 12a3.429 3.429 0 0 0-3.429-3.429V12h3.429ZM15.428 3.429A3.429 3.429 0 0 1 12 6.857V3.43h3.428Zm1.715 0A5.143 5.143 0 0 1 12 8.57V12h3.428a5.143 5.143 0 0 1 5.143-5.143V3.43h-3.428ZM20.57 8.57A3.429 3.429 0 0 0 17.143 12h3.428V8.571ZM6.857 12H3.428v3.429A3.429 3.429 0 0 0 6.857 12Zm1.714 0a5.143 5.143 0 0 1-5.143 5.143v3.428h3.429A5.143 5.143 0 0 1 12 15.43V12H8.57ZM12 17.143A3.429 3.429 0 0 0 8.57 20.57H12v-3.428ZM20.571 15.429V12h-3.428a3.429 3.429 0 0 0 3.428 3.429Zm0 1.714A5.143 5.143 0 0 1 15.428 12H12v3.429a5.143 5.143 0 0 1 5.143 5.142h3.428v-3.428Zm-5.143 3.428A3.429 3.429 0 0 0 12 17.143v3.428h3.428Z" clipRule="evenodd"/><path fill="#795EFF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#795EFF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12Z"/><path fill="#795EFF" d="M6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 20.571a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#795EFF" d="M24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="11" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M6.857 3.429H3.43v3.428A3.429 3.429 0 0 0 6.857 3.43Zm1.714 0A5.143 5.143 0 0 1 3.43 8.57V12h3.428A5.143 5.143 0 0 1 12 6.857V3.43H8.571ZM12 8.57A3.429 3.429 0 0 0 8.57 12H12V8.571ZM20.571 6.857V3.43h-3.428a3.429 3.429 0 0 0 3.428 3.428Zm0 1.714a5.143 5.143 0 0 1-5.143-5.142H12v3.428A5.143 5.143 0 0 1 17.143 12h3.428V8.571ZM15.428 12A3.429 3.429 0 0 0 12 8.571V12h3.428ZM12 15.429V12H8.57A3.429 3.429 0 0 0 12 15.429Zm0 1.714A5.143 5.143 0 0 1 6.857 12H3.428v3.429a5.143 5.143 0 0 1 5.143 5.142H12v-3.428ZM6.857 20.57a3.429 3.429 0 0 0-3.429-3.428v3.428h3.429Z" clipRule="evenodd"/><path fill="#A694FF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#795EFF" d="M24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12Z"/><path fill="#A694FF" d="M6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 20.571a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="12" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M20.571 6.857V3.43h-3.428a3.429 3.429 0 0 0 3.428 3.428Zm0 1.714a5.143 5.143 0 0 1-5.143-5.142H12v3.428A5.143 5.143 0 0 1 17.143 12h3.428V8.571ZM15.428 12A3.429 3.429 0 0 0 12 8.571V12h3.428ZM12 15.429V12H8.57A3.429 3.429 0 0 0 12 15.429Zm0 1.714A5.143 5.143 0 0 1 6.857 12H3.428v3.429a5.143 5.143 0 0 1 5.143 5.142H12v-3.428ZM6.857 20.57a3.428 3.428 0 0 0-3.429-3.428v3.428h3.429Z" clipRule="evenodd"/><path fill="#A694FF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#795EFF" d="M24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12Z"/><path fill="#A694FF" d="M6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 20.571a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="13" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M6.857 3.429H3.43v3.428A3.429 3.429 0 0 0 6.857 3.43Zm1.714 0A5.143 5.143 0 0 1 3.43 8.57V12h3.428A5.143 5.143 0 0 1 12 6.857V3.43H8.571ZM12 8.57A3.429 3.429 0 0 0 8.57 12H12V8.571ZM20.571 6.857V3.43h-3.428a3.429 3.429 0 0 0 3.428 3.428Zm0 1.714a5.143 5.143 0 0 1-5.143-5.142H12v3.428A5.143 5.143 0 0 1 17.143 12h3.428V8.571ZM15.428 12A3.429 3.429 0 0 0 12 8.571V12h3.428Z" clipRule="evenodd"/><path fill="#A694FF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#795EFF" d="M24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12Z"/><path fill="#A694FF" d="M6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM15.429 20.571a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="14" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M20.571 6.857V3.43h-3.428a3.429 3.429 0 0 0 3.428 3.428Zm0 1.714a5.143 5.143 0 0 1-5.143-5.142H12v3.428A5.143 5.143 0 0 1 17.143 12h3.428V8.571ZM15.428 12A3.429 3.429 0 0 0 12 8.571V12h3.428ZM15.428 12H12v3.429A3.429 3.429 0 0 0 15.428 12Zm1.715 0A5.143 5.143 0 0 1 12 17.143v3.428h3.428a5.143 5.143 0 0 1 5.143-5.142V12h-3.428Zm3.428 5.143a3.429 3.429 0 0 0-3.428 3.428h3.428v-3.428Z" clipRule="evenodd"/><path fill="#A694FF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0ZM15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#795EFF" d="M24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12Z"/><path fill="#A694FF" d="M6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 20.571a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="15" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M12 15.429V12H8.57A3.429 3.429 0 0 0 12 15.429Zm0 1.714A5.143 5.143 0 0 1 6.857 12H3.428v3.429a5.143 5.143 0 0 1 5.143 5.142H12v-3.428ZM6.857 20.57a3.428 3.428 0 0 0-3.429-3.428v3.428h3.429ZM15.428 12H12v3.429A3.429 3.429 0 0 0 15.428 12Zm1.715 0A5.143 5.143 0 0 1 12 17.143v3.428h3.428a5.143 5.143 0 0 1 5.143-5.142V12h-3.428Zm3.428 5.143a3.429 3.429 0 0 0-3.428 3.428h3.428v-3.428Z" clipRule="evenodd"/><path fill="#A694FF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#795EFF" d="M24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12Z"/><path fill="#A694FF" d="M6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 20.571a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="16" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M6.857 3.429H3.43v3.428A3.429 3.429 0 0 0 6.857 3.43Zm1.714 0A5.143 5.143 0 0 1 3.43 8.57V12h3.428A5.143 5.143 0 0 1 12 6.857V3.43H8.571ZM12 8.57A3.429 3.429 0 0 0 8.57 12H12V8.571ZM6.857 12H3.428v3.429A3.429 3.429 0 0 0 6.857 12Zm1.714 0a5.143 5.143 0 0 1-5.143 5.143v3.428h3.429A5.143 5.143 0 0 1 12 15.43V12H8.57ZM12 17.143A3.429 3.429 0 0 0 8.57 20.57H12v-3.428Z" clipRule="evenodd"/><path fill="#A694FF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0ZM15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12Z"/><path fill="#795EFF" d="M6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 20.571a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="17" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M12 6.857V3.43H8.57A3.429 3.429 0 0 0 12 6.857Zm0 1.714A5.143 5.143 0 0 1 6.857 3.43H3.428v3.428A5.143 5.143 0 0 1 8.571 12H12V8.571ZM6.857 12a3.429 3.429 0 0 0-3.429-3.429V12h3.429ZM20.571 15.429V12h-3.429a3.429 3.429 0 0 0 3.43 3.429Zm0 1.714A5.143 5.143 0 0 1 15.428 12H12v3.429a5.143 5.143 0 0 1 5.142 5.142h3.43v-3.428Zm-5.143 3.428A3.429 3.429 0 0 0 12 17.143v3.428h3.428Z" clipRule="evenodd"/><path fill="#795EFF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12ZM6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM15.429 20.571a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#795EFF" d="M24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="18" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M6.857 3.429H3.43v3.428A3.429 3.429 0 0 0 6.857 3.43Zm1.714 0A5.143 5.143 0 0 1 3.43 8.57V12h3.428A5.143 5.143 0 0 1 12 6.857V3.43H8.571ZM12 8.57A3.429 3.429 0 0 0 8.57 12H12V8.571ZM6.857 12a3.429 3.429 0 0 1-3.429 3.429V12h3.429Zm1.714 0a5.143 5.143 0 0 1-5.143 5.143v3.428h3.429A5.143 5.143 0 0 1 12 15.43V12H8.57ZM12 17.143A3.429 3.429 0 0 0 8.57 20.57H12v-3.428ZM15.428 12A3.429 3.429 0 0 1 12 15.429V12h3.428Zm1.715 0A5.143 5.143 0 0 1 12 17.143v3.428h3.428a5.143 5.143 0 0 1 5.143-5.142V12h-3.428Zm3.428 5.143a3.429 3.429 0 0 0-3.428 3.428h3.428v-3.428Z" clipRule="evenodd"/><path fill="#A694FF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0ZM15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12ZM6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM15.429 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="19" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M12 6.857V3.43H8.57A3.429 3.429 0 0 0 12 6.857Zm0 1.714A5.143 5.143 0 0 1 6.857 3.43H3.429v3.428A5.143 5.143 0 0 1 8.57 12H12V8.571ZM6.857 12a3.429 3.429 0 0 0-3.428-3.429V12h3.428ZM15.428 3.429H12v3.428a3.429 3.429 0 0 0 3.428-3.428Zm1.715 0A5.143 5.143 0 0 1 12 8.57V12h3.428a5.143 5.143 0 0 1 5.143-5.143V3.43h-3.428ZM20.57 8.57A3.429 3.429 0 0 0 17.143 12h3.428V8.571ZM12 15.429V12H8.57A3.429 3.429 0 0 0 12 15.429Zm0 1.714A5.143 5.143 0 0 1 6.857 12H3.428v3.429a5.143 5.143 0 0 1 5.143 5.142H12v-3.428ZM6.857 20.57a3.428 3.428 0 0 0-3.429-3.428v3.428h3.429ZM20.571 15.429V12h-3.428a3.429 3.429 0 0 0 3.428 3.429Zm0 1.714A5.143 5.143 0 0 1 15.428 12H12v3.429a5.143 5.143 0 0 1 5.143 5.142h3.428v-3.428Zm-5.143 3.428A3.429 3.429 0 0 0 12 17.143v3.428h3.428Z" clipRule="evenodd"/><path fill="#795EFF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#795EFF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0ZM15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12ZM6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="20" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M6.857 3.429H3.43v3.428A3.429 3.429 0 0 0 6.857 3.43Zm1.714 0A5.143 5.143 0 0 1 3.43 8.57V12h3.428A5.143 5.143 0 0 1 12 6.857V3.43H8.571ZM12 8.57A3.429 3.429 0 0 0 8.57 12H12V8.571ZM20.571 6.857V3.43h-3.428a3.429 3.429 0 0 0 3.428 3.428Zm0 1.714a5.143 5.143 0 0 1-5.143-5.142H12v3.428A5.143 5.143 0 0 1 17.143 12h3.428V8.571ZM15.428 12A3.429 3.429 0 0 0 12 8.571V12h3.428ZM6.857 12a3.429 3.429 0 0 1-3.429 3.429V12h3.429Zm1.714 0a5.143 5.143 0 0 1-5.143 5.143v3.428h3.429A5.143 5.143 0 0 1 12 15.43V12H8.57ZM12 17.143A3.429 3.429 0 0 0 8.57 20.57H12v-3.428ZM20.571 15.429V12h-3.428a3.429 3.429 0 0 0 3.428 3.429Zm0 1.714A5.143 5.143 0 0 1 15.428 12H12v3.429a5.143 5.143 0 0 1 5.143 5.142h3.428v-3.428Zm-5.143 3.428A3.429 3.429 0 0 0 12 17.143v3.428h3.428Z" clipRule="evenodd"/><path fill="#A694FF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0ZM15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12ZM6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="21" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M12 6.857V3.43H8.57A3.429 3.429 0 0 0 12 6.857Zm0 1.714A5.143 5.143 0 0 1 6.857 3.43H3.429v3.428A5.143 5.143 0 0 1 8.57 12H12V8.571ZM6.857 12a3.429 3.429 0 0 0-3.428-3.429V12h3.428ZM20.571 6.857V3.43h-3.428a3.429 3.429 0 0 0 3.428 3.428Zm0 1.714a5.143 5.143 0 0 1-5.143-5.142H12v3.428A5.143 5.143 0 0 1 17.143 12h3.428V8.571ZM15.428 12A3.429 3.429 0 0 0 12 8.571V12h3.428ZM12 15.429V12H8.57A3.429 3.429 0 0 0 12 15.429Zm0 1.714A5.143 5.143 0 0 1 6.857 12H3.428v3.429a5.143 5.143 0 0 1 5.143 5.142H12v-3.428ZM6.857 20.57a3.428 3.428 0 0 0-3.429-3.428v3.428h3.429ZM20.571 15.429V12h-3.428a3.429 3.429 0 0 0 3.428 3.429Zm0 1.714A5.143 5.143 0 0 1 15.428 12H12v3.429a5.143 5.143 0 0 1 5.143 5.142h3.428v-3.428Zm-5.143 3.428A3.429 3.429 0 0 0 12 17.143v3.428h3.428Z" clipRule="evenodd"/><path fill="#795EFF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0ZM15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12Z"/><path fill="#A694FF" d="M6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="22" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M12 6.857V3.43H8.57A3.429 3.429 0 0 0 12 6.857Zm0 1.714A5.143 5.143 0 0 1 6.857 3.43H3.429v3.428A5.143 5.143 0 0 1 8.57 12H12V8.571ZM6.857 12a3.429 3.429 0 0 0-3.428-3.429V12h3.428ZM20.571 6.857V3.43h-3.428a3.429 3.429 0 0 0 3.428 3.428Zm0 1.714a5.143 5.143 0 0 1-5.143-5.142H12v3.428A5.143 5.143 0 0 1 17.143 12h3.428V8.571ZM15.428 12A3.429 3.429 0 0 0 12 8.571V12h3.428ZM6.857 12H3.428v3.429A3.429 3.429 0 0 0 6.857 12Zm1.714 0a5.143 5.143 0 0 1-5.143 5.143v3.428h3.429A5.143 5.143 0 0 1 12 15.43V12H8.57ZM12 17.143A3.429 3.429 0 0 0 8.57 20.57H12v-3.428ZM15.428 12H12v3.429A3.429 3.429 0 0 0 15.428 12Zm1.715 0A5.143 5.143 0 0 1 12 17.143v3.428h3.428a5.143 5.143 0 0 1 5.143-5.142V12h-3.428Zm3.428 5.143a3.429 3.429 0 0 0-3.428 3.428h3.428v-3.428Z" clipRule="evenodd"/><path fill="#795EFF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12ZM6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM15.429 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" id="23" width="24" height="24" fill="none"><path fill="#795EFF" fillRule="evenodd" d="M12 6.857V3.43H8.57A3.429 3.429 0 0 0 12 6.857Zm0 1.714A5.143 5.143 0 0 1 6.857 3.43H3.429v3.428A5.143 5.143 0 0 1 8.57 12H12V8.571ZM6.857 12a3.429 3.429 0 0 0-3.428-3.429V12h3.428ZM6.857 12H3.428v3.429A3.429 3.429 0 0 0 6.857 12Zm1.714 0a5.143 5.143 0 0 1-5.143 5.143v3.428h3.429A5.143 5.143 0 0 1 12 15.43V12H8.57ZM12 17.143A3.429 3.429 0 0 0 8.57 20.57H12v-3.428Z" clipRule="evenodd"/><path fill="#795EFF" d="M6.857 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 3.429a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0ZM24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0Z"/><path fill="#795EFF" d="M15.429 12a3.429 3.429 0 1 0-6.858 0 3.429 3.429 0 0 0 6.858 0Z"/><path fill="#A694FF" d="M24 12a3.429 3.429 0 1 0-6.857 0A3.429 3.429 0 0 0 24 12Z"/><path fill="#795EFF" d="M6.857 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/><path fill="#A694FF" d="M15.429 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM24 20.571a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"/></svg>'],o=function(e){var n=e.size,t=e.variant,o=(0,a.useRef)(null);return(0,a.useEffect)(function(){if(o.current){var e=o.current,t=window.devicePixelRatio||2,r=n/24;e.width=24*r*t,e.height=24*r*t;var a=e.getContext("2d");if(a){a.scale(r*t,r*t);var s=[],l=0,u=0,c=null,d=function(e){e-u>=120&&(l>=s.length&&(l=0),a.clearRect(0,0,24,24),a.drawImage(s[l],0,0,24,24),l+=1,u=e),c=requestAnimationFrame(d)};return Promise.all(i.map(function(e){return new Promise(function(n){var t=new Image,r=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(r);t.onload=function(){URL.revokeObjectURL(a),n(t)},t.src=a})})).then(function(e){s=e,c=requestAnimationFrame(d)}),function(){c&&cancelAnimationFrame(c)}}}},[n]),(0,r.Y)("canvas",{"data-chromatic":"ignore",ref:o,style:{width:"".concat(n,"px"),height:"".concat(n,"px"),filter:"minimal"===(void 0===t?"default":t)?"grayscale(0.6)":void 0}})}},34563:(e,n,t)=>{"use strict";t.d(n,{D:()=>o});var r=t(74651),a=t(42028),i=r.ZU.Object({type:r.ZU.Literal("commands"),data:r.ZU.Object({autoFocus:r.ZU.Boolean()})}),o=function(e){return a.T(i,e)}},34594:(e,n,t)=>{"use strict";t.d(n,{Rw:()=>T,NO:()=>x,IT:()=>y,lz:()=>C,dc:()=>Y,VL:()=>w,V2:()=>F,iO:()=>L,ed:()=>_,o2:()=>D,rE:()=>I,v_:()=>R,QY:()=>N,Ch:()=>S,uA:()=>E,If:()=>P});var r=t(17844),a=t(93629),i=t(12694),o=t(85230),s=t(76957),l=t(69737),u=t(16182),c=t.n(u),d=t(41426),f=t(68689),p=t(33369),h=t(404),m=function(e){if(!e)return 0;var n=parseFloat(e.replace("px",""));return isNaN(n)?0:n},v=function(e){if(!e)return{x:0,y:0};var n=e.split(" ");switch(n.length){case 1:return{x:m(n[0]),y:m(n[0])};case 2:return{x:m(n[1]),y:m(n[0])};case 3:return{x:m(n[1]),y:(m(n[0])+m(n[2]))/2};case 4:return{x:(m(n[1])+m(n[3]))/2,y:(m(n[0])+m(n[2]))/2};default:return{x:0,y:0}}},g=function(e){switch(e){case"left":case"start":default:return"left";case"right":case"end":return"right";case"center":return"center";case"justify":return"justify"}},b=function(e){var n,t,r,a,i,o,s,l=v(null==e||null==(n=e.computedStyles)?void 0:n.margin),u=v(null==e||null==(t=e.computedStyles)?void 0:t.padding);return{textContent:null==e?void 0:e.textContent,fontSize:m(null==e||null==(r=e.computedStyles)?void 0:r.fontSize),fontWeight:null==e||null==(a=e.computedStyles)?void 0:a.fontWeight,textAlign:g(null==e||null==(i=e.computedStyles)?void 0:i.textAlign),color:(0,h.nj)(null==e||null==(o=e.computedStyles)?void 0:o.color),backgroundColor:(0,h.nj)(null==e||null==(s=e.computedStyles)?void 0:s.backgroundColor),marginX:l.x,marginY:l.y,paddingX:u.x,paddingY:u.y,imageSrc:(null==e?void 0:e.srcAttribute)||""}},y=(0,s.eU)({}),w=(0,s.eU)(null,function(e,n,t){n(y,b(t)),n(S,l.Ut)}),_=(0,s.eU)(function(e){var n=e(y),t=e(f.e0);return!!t&&!c()(n,b(t))}),S=(0,l.tx)({}),A=(0,s.eU)(null,function(e,n,t){n(S,(0,r._)({},e(S),t));var a=e(k);(0,p.dT)({style:a})}),k=(0,s.eU)(function(e){return Object.entries(e(S)).map(function(e){var n=(0,i._)(e,2),t=n[0],r=n[1];return"".concat(t,": ").concat(r)}).join("; ")}),C=(0,s.eU)(function(e){return e(y).fontSize},function(e,n,t){n(A,{"font-size":"".concat(t,"px")}),n(y,(0,a._)((0,r._)({},e(y)),{fontSize:t}))}),Y=(0,s.eU)(function(e){return e(y).fontWeight},function(e,n,t){n(A,{"font-weight":t}),n(y,(0,a._)((0,r._)({},e(y)),{fontWeight:t}))}),E=(0,s.eU)(function(e){return e(y).textAlign},function(e,n,t){n(A,{"text-align":t}),n(y,(0,a._)((0,r._)({},e(y)),{textAlign:t}))}),x=(0,s.eU)(function(e){return e(y).color},function(e,n,t){(o.Ay.valid(t)||(0,h.Md)(t))&&n(A,{color:t}),n(y,(0,a._)((0,r._)({},e(y)),{color:t}))}),T=(0,s.eU)(function(e){return e(y).backgroundColor},function(e,n,t){(o.Ay.valid(t)||(0,h.Md)(t))&&n(A,{"background-color":t}),n(y,(0,a._)((0,r._)({},e(y)),{backgroundColor:t}))}),D=(0,s.eU)(function(e){return e(y).marginX},function(e,n,t){n(A,{"margin-left":"".concat(t,"px"),"margin-right":"".concat(t,"px")}),n(y,(0,a._)((0,r._)({},e(y)),{marginX:t}))}),I=(0,s.eU)(function(e){return e(y).marginY},function(e,n,t){n(A,{"margin-top":"".concat(t,"px"),"margin-bottom":"".concat(t,"px")}),n(y,(0,a._)((0,r._)({},e(y)),{marginY:t}))}),R=(0,s.eU)(function(e){return e(y).paddingX},function(e,n,t){n(A,{"padding-left":"".concat(t,"px"),"padding-right":"".concat(t,"px")}),n(y,(0,a._)((0,r._)({},e(y)),{paddingX:t}))}),N=(0,s.eU)(function(e){return e(y).paddingY},function(e,n,t){n(A,{"padding-top":"".concat(t,"px"),"padding-bottom":"".concat(t,"px")}),n(y,(0,a._)((0,r._)({},e(y)),{paddingY:t}))}),O=(0,s.eU)(!1),P=(0,s.eU)(function(e){return e(y).textContent},function(e,n,t){n(A,{content:t}),n(y,(0,a._)((0,r._)({},e(y)),{textContent:t})),e(O)||(0,p.dT)({textContent:t})}),F=(0,s.eU)(null,function(e,n,t){t!==e(y).textContent&&(n(O,!0),n(P,t),n(O,!1))}),U="/@fs/home/runner/workspace/",L=(0,s.eU)(function(e){var n=e(y).imageSrc;return(null==n?void 0:n.startsWith(U))?n.replace(U,""):n},function(e,n,t){n(y,(0,a._)((0,r._)({},e(y)),{imageSrc:t}));var i=t;t.startsWith(d.Ls)&&(i="".concat(U).concat(t)),(0,p.dT)({src:i})})},35046:(e,n,t)=>{"use strict";t.d(n,{i:()=>w});var r=t(12694),a=t(21462),i=t(67201),o=t(17844),s=t(12584),l=t(41114),u=t(90676),c=t(39590);function d(){var e=(0,s._)(["\n  subscription StartOrgReplPresenceSession(\n    $input: StartOrgReplPresenceSessionInput!\n  ) {\n    startOrgReplPresenceSession(input: $input)\n  }\n"]);return d=function(){return e},e}function f(){var e=(0,s._)(["\n  mutation PingOrgReplPresenceSession(\n    $input: PingOrgReplPresenceSessionInput!\n  ) {\n    pingOrgReplPresenceSession(input: $input)\n  }\n"]);return f=function(){return e},e}var p={},h=(0,l.J1)(d()),m=(0,l.J1)(f()),v=t(61125),g=t(71696),b=t(42008),y=t(40115);function w(){var e,n,t,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],l=(0,v.A)(),d=(0,a.useRef)((0,i.A)()),f=(0,y.A)().container,w=(0,b.A)(f),_=(0,r._)((e=(0,o._)({},p,void 0),c.n(m,e)),1)[0],S=w!==g.KN.CONNECTED||s;(0,a.useEffect)(function(){var e=!1;if(!S&&w===g.KN.CONNECTED){var n=null;return function t(){_({variables:{input:{sessionId:d.current}},onCompleted:function(){e||(n=setTimeout(t,1e4))}})}(),function(){e=!0,n&&clearTimeout(n)}}},[w,d,_,S]),n={variables:{input:{replId:l,sessionId:d.current}},skip:S},t=(0,o._)({},p,n),u.R(h,t)}},35275:(e,n,t)=>{"use strict";t.d(n,{W:()=>a});var r=t(52424),a={overlay:r.Zy+20,gutterActive:r.Zy+19,maximizedTooltip:r.Zy+18,maximizedPane:r.Zy+17,maximizedHeader:r.Zy+16,filetreeDragLayer:17,detachPreview:16,draggingPane:15,draggingHeader:14,floatingPaneActive:11,floatingHeaderActive:10,floatingPane:9,floatingHeader:8,dropPreview:7,gutterHovered:6,tiledPaneActive:5,tiledHeaderActive:4,tiledPane:3,tiledHeader:2,gutter:1,hiddenPane:0}},35465:(e,n,t)=>{"use strict";t.d(n,{A:()=>_,v:()=>A});var r=t(17844),a=t(93629),i=t(86105),o=t(34837),s=t(72096),l=t.n(s),u=t(95719),c=t(12466),d=t(42793),f=t(39534),p=t(18712),h=t(31051),m=t(3937),v=t(91953),g=t(25227),b=t(14385),y=t(7471),w=(0,d.AH)({"::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}});function _(e){var n=e.post,t=n.repl,i=n.user,s=t.isTemplate?"Template":"Repl";return(0,o.FD)(g.S,{gap:8,children:[(0,o.FD)(g.S,{row:!0,align:"center",justify:"space-between",children:[(0,o.Y)(g.S,{row:!0,align:"center",children:(0,o.FD)(g.S,{row:!0,gap:8,align:"center",children:[(0,o.Y)(h.e,{size:24,username:i.username,src:i.image}),(0,o.FD)(g.S,{row:!0,gap:4,children:[(0,o.Y)(v.EY,{multiline:!1,children:i.username}),(0,o.FD)(v.EY,{color:"dimmest",multiline:!1,children:[" ","published a ",s]})]})]})}),(0,o.Y)(y.A,{size:12})]}),(0,o.FD)(m.ui,{css:[p.wp.borderRadius(8),p.wp.colWithGap(8),p.wp.p(8),p.wp.position.relative,{border:"1px solid "+f.LU.outlineDimmest}],children:[(0,o.Y)(g.S,{gap:16,children:(0,o.Y)(g.S,{row:!0,gap:16,justify:"space-between",children:(0,o.FD)(g.S,{grow:!0,shrink:!0,row:!0,gap:8,align:"start",children:[(0,o.Y)(c.Ay,{iconUrl:t.iconUrl,alt:t.title,size:84,css:[p.wp.backgroundColor.backgroundHigher]}),(0,o.FD)(g.S,{grow:!0,shrink:!0,gap:4,children:[(0,o.FD)(g.S,{row:!0,children:[(0,o.Y)(l(),(0,a._)((0,r._)({},(0,b.z9)(t)),{css:[p.wp.viewStyle,{color:"inherit"},w,p.wp.flex.growAndShrink(1),p.wp.minWidth(0)],onClick:function(e){return e.preventDefault()},children:(0,o.Y)(v.EY,{variant:"subheadBig",multiline:!1,children:t.title})})),t.isTemplate?(0,o.Y)(S,{}):null]}),t.description?(0,o.Y)(v.EY,{color:"dimmer",maxLines:2,multiline:!1,children:t.description}):null]})]})})}),(0,o.Y)(g.S,{css:[p.wp.minHeight(24)],row:!0,gap:8,justify:"space-between",children:(0,o.Y)(u.A,{repl:{id:t.id,publicForkCount:0,likeCount:0}})})]})]})}var S=function(){return(0,o.Y)("span",{css:[p.wp.display.inlineFlex,p.wp.align.center,p.wp.height(24),p.wp.px(8),p.wp.borderRadius(16),p.wp.backgroundColor.yellowDimmest,p.wp.color.yellowStrongest,p.wp.justify.center,p.wp.ml(8),{fontSize:f.LU.fontSizeSmall,lineHeight:f.LU.fontSizeSmall}],children:"Template"})},A=function(){return(0,o.FD)(g.S,{gap:8,css:[{opacity:.5}],children:[(0,o.FD)(g.S,{grow:!0,justify:"space-between",row:!0,align:"center",children:[(0,o.FD)(g.S,{row:!0,gap:8,align:"center",children:[(0,o.Y)("span",{css:[p.wp.backgroundColor.backgroundHigher,p.wp.width(24),p.wp.height(24),p.wp.borderRadius(16)]}),(0,o.Y)("span",{css:[p.wp.backgroundColor.backgroundHigher,p.wp.width(126),p.wp.height(12),p.wp.borderRadius(4)]})]}),(0,o.Y)("span",{css:[p.wp.backgroundColor.backgroundHigher,p.wp.width(12),p.wp.height(12),p.wp.borderRadius(8)]})]}),(0,o.FD)(g.S,{css:[p.wp.backgroundColor.backgroundDefault,p.wp.width("100%"),p.wp.height(132),p.wp.borderRadius(8),p.wp.colWithGap(8),p.wp.p(8)],children:[(0,o.FD)(g.S,{row:!0,gap:8,children:[(0,o.Y)("span",{css:[p.wp.backgroundColor.backgroundHigher,p.wp.height(84),p.wp.width(84),p.wp.borderRadius(4)]}),(0,o.FD)(g.S,{gap:12,grow:!0,pt:4,children:[(0,o.Y)("span",{css:[p.wp.backgroundColor.backgroundHigher,p.wp.width(80),p.wp.height(16),p.wp.borderRadius(4)]}),(0,o.FD)(g.S,{gap:8,children:[(0,o.Y)("span",{css:[p.wp.backgroundColor.backgroundHigher,p.wp.width("100%"),p.wp.height(12),p.wp.borderRadius(4)]}),(0,o.Y)("span",{css:[p.wp.backgroundColor.backgroundHigher,p.wp.width("80%"),p.wp.height(12),p.wp.borderRadius(4)]})]})]})]}),(0,o.FD)(g.S,{grow:!0,align:"center",justify:"space-between",row:!0,children:[(0,o.Y)(g.S,{row:!0,gap:16,children:(0,i._)([,,,]).map(function(e,n){return(0,o.FD)(g.S,{row:!0,gap:4,align:"center",children:[(0,o.Y)("span",{css:[p.wp.backgroundColor.backgroundHigher,p.wp.width(12),p.wp.height(12),p.wp.borderRadius(8)]}),(0,o.Y)("span",{css:[p.wp.backgroundColor.backgroundHigher,p.wp.width(16),p.wp.height(8),p.wp.borderRadius(2)]})]},n)})}),(0,o.Y)(g.S,{row:!0,gap:4,children:(0,i._)([,,]).map(function(e,n){return(0,o.Y)("span",{css:[p.wp.backgroundColor.backgroundHigher,p.wp.width(48),p.wp.height(24),p.wp.borderRadius(16)]},n)})})]})]})]})}},35547:e=>{e.exports={crashedBodyWrapper:"AgentAwareWebviewEmptyStates_crashedBodyWrapper__eKra_",borderWrapper:"AgentAwareWebviewEmptyStates_borderWrapper__iQmAp"}},35706:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M1.25 6A2.75 2.75 0 0 1 4 3.25h16A2.75 2.75 0 0 1 22.75 6v12A2.75 2.75 0 0 1 20 20.75H4A2.75 2.75 0 0 1 1.25 18V6ZM4 4.75c-.69 0-1.25.56-1.25 1.25v12c0 .69.56 1.25 1.25 1.25h16c.69 0 1.25-.56 1.25-1.25V6c0-.69-.56-1.25-1.25-1.25H4ZM4.25 8A.75.75 0 0 1 5 7.25h2a.75.75 0 0 1 0 1.5H5A.75.75 0 0 1 4.25 8Zm5 0a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 0 1.5h-1A.75.75 0 0 1 9.25 8Zm4 0a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 0 1.5h-1a.75.75 0 0 1-.75-.75Zm4 0a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 0 1.5h-1a.75.75 0 0 1-.75-.75Zm-13 4a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75Zm4 0a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Zm4 0a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 0 1.5h-1a.75.75 0 0 1-.75-.75Zm4 0a.75.75 0 0 1 .75-.75h2a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1-.75-.75Zm-9 4a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}))}},35751:(e,n,t)=>{"use strict";t.d(n,{U:()=>s});var r=t(34837),a=t(21462),i=t(59737),o=t(90603),s=function(e){var n=e.children,t=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,a.useEffect)(function(){var e=function(e){var n,r,a=e.target;if(a&&"ArrowUp"===e.key){var i=t.current;i&&(null==(n=a.parentElement)?void 0:n.firstElementChild)===a&&(null==(r=i.querySelector("input"))||r.focus())}},n=s.current;if(n)return n.addEventListener("keydown",e,!1),function(){return n.removeEventListener("keydown",e,!1)}},[s,t]),(0,r.Y)(i.JC.Provider,{value:{ref:s,"aria-label":"Search Results"},children:(0,r.Y)(o.a.Provider,{value:{ref:t,onKeyDown:function(e){if("ArrowDown"===e.key){var n;e.preventDefault(),null==(n=s.current)||n.focus()}}},children:n})})}},36007:(e,n,t)=>{"use strict";t.d(n,{V0:()=>f,cQ:()=>c,oU:()=>d});var r=t(34837),a=t(33747),i=t(44411),o=t(3937),s=t(91953),l=t(27810),u=t.n(l);function c(e){var n=e.aiName;return(0,r.Y)(o.ui,{elevated:!0,css:u().root,py:8,px:12,gap:8,align:"center",children:(0,r.FD)(s.EY,{children:["Guests are not allowed to use ",n," in ",i.Lm," Plan user's repls."]})})}function d(){return(0,r.Y)(o.ui,{elevated:!0,css:u().root,py:8,px:12,gap:8,align:"center",children:(0,r.Y)(s.EY,{children:"The owner of this app has exceeded their usage limit."})})}function f(){return(0,r.Y)(o.ui,{elevated:!0,css:u().root,py:8,px:12,gap:8,align:"center",children:(0,r.FD)(s.EY,{children:["Your access to ",a.g$," is restricted in this organization."]})})}},36448:(e,n,t)=>{"use strict";t.d(n,{A:()=>u});var r=t(34837),a=t(59270),i=t(40756),o=t(91953),s=t(25227),l=t(1195);function u(e){var n,t=e.paths,u=e.onCancel,c=e.onConfirm;return(0,r.FD)(s.S,{gap:24,children:[(0,r.Y)(o.Y9,{level:1,variant:"headerDefault",children:t.length>1?"Overwrite files?":"Overwrite file?"}),(0,r.FD)(o.EY,{children:[(n=(n=t).map(a.WP)).length<2?n[0]:"".concat(n.slice(0,-1).join(", ")," and ").concat(n.slice(-1))," already"," ",t.length>1?"exist":"exists"," in the destination, are you sure you want to overwrite ",t.length>1?"them":"it","? This cannot be undone."]}),(0,r.FD)(s.S,{row:!0,gap:12,justify:"end",children:[(0,r.Y)(i.$n,{onClick:function(){return u()},text:"Cancel"}),(0,r.Y)(i.$n,{colorway:"negative",onClick:function(){return c()},text:"Yes, overwrite ".concat(t.length>1?"these files":"this file"),iconLeft:(0,r.Y)(l.A,{})})]})]})}},36456:(e,n,t)=>{"use strict";t.d(n,{Q:()=>i});var r=t(80719),a=t(69832);function i(){var e=(0,r.NC)();return(0,a.Rj)(function(){return e.sessions.agent.current.select(function(e){return null==e?void 0:e.id})},[e])}},36772:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});var r=t(29935),a=t(82643);function i(e,n){return(0,r._)(function(){var t;return(0,a.YH)(this,function(r){switch(r.label){case 0:if(!window.navigator.clipboard)return o(n||e),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),t=new ClipboardItem({"text/html":new Blob([e],{type:"text/html"}),"text/plain":new Blob([n||e],{type:"text/plain"})}),[4,window.navigator.clipboard.write([t])];case 2:return r.sent(),[3,4];case 3:return r.sent(),o(n||e),[3,4];case 4:return[2]}})})()}function o(e){var n=document.createElement("textarea");n.value=e,n.style.top="0",n.style.left="0",n.style.position="fixed",document.body.appendChild(n);try{n.focus(),n.select(),document.execCommand("copy")}finally{document.body.removeChild(n)}}},37452:(e,n,t)=>{"use strict";t.d(n,{F:()=>c});var r=t(21462),a=t(80719),i=t(98081),o=t(97008),s=t(69832),l=t(21130),u=t(63591);function c(){var e,n,t=(0,a.jt)(),c=(e=(0,a.NC)(),n=(0,s.J2)(e.sessions.agent.current),(0,s.Rj)(function(){var e;return null==n?void 0:n.reduce((e=n.created,{direction:"forward",state:{inRapidBuild:!1},map:function(e){return e.inRapidBuild},reducer:function(n,t){if((0,i.A)(e,o.qL))return t.inRapidBuild=!1,!1;if(t.inRapidBuild){if((0,o.TW)(n,"rapidBuildConcluded"))return t.inRapidBuild=!1,!1}else e>o.kt?(0,o.TW)(n,"rapidBuildStarted")&&(t.inRapidBuild=!0):(0,o.TW)(n,"agentPlanEventContents")&&!n.contents.contents.agentPlanEventContents.requiresApproval&&(t.inRapidBuild=!0)}}),"global")},[n])),d=(0,u.hc)(),f=(0,u.X6)(),p=(0,l.x)();return(0,r.useMemo)(function(){return!p&&!!t&&(!!c||!d&&!f)},[p,t,c,d,f])}},37606:(e,n,t)=>{"use strict";t.d(n,{L:()=>u,T:()=>c});var r=t(45773),a=t(74309),i=t(34778),o=t(76957),s=t(49313),l=(0,o.eU)(!1),u=new a.k(function(e){var n=e.analyticsSurface,t=e.shouldTrack,a=e.onPaste;return r.Lz.domEventHandlers({paste:function(){t&&(0,i.u4)(i.AZ.TEXT_PASTED,{surface:n}),null==a||a()}})});function c(e){var n=e.analyticsSurface,t=(0,s.h)(l),r=(0,s.ob)(l);return u.use({analyticsSurface:n,shouldTrack:!t,onPaste:function(){return r(!0)}})}},38172:e=>{e.exports={container:"AutoscaleConfigEditor_container__prdfK"}},38197:(e,n,t)=>{"use strict";t.d(n,{$E:()=>_,Dj:()=>W,FE:()=>H,HQ:()=>C,MJ:()=>K,MS:()=>G,Ni:()=>M,Sv:()=>S,VZ:()=>V,Yu:()=>k,Zb:()=>q,en:()=>Q,ln:()=>D,xp:()=>U});var r=t(46434),a=t(29935),i=t(82643),o=t(21462),s=t(74651),l=t(23099),u=t.n(l),c=t(35992),d=t(76957),f=t(69737),p=t(45620),h=t(49313),m=t(72352);function v(e,n){var t=100*n;return e.slice(0,A).filter(function(e){return e>=t}).length}function g(e){return v(e,S)>=C?"danger":v(e,_)>=C?"warning":"ok"}function b(e){return Math.round(10*e)/10}function y(e){return Math.round((e+Number.EPSILON)*100)/100}function w(e){return e/1024/1024}var _=.9,S=1,A=10,k=20,C=5,Y=s.ZU.Union([s.ZU.Literal("ok"),s.ZU.Literal("warning"),s.ZU.Literal("danger")]);s.ZU.Object({cpu:s.ZU.Object({numVCpu:s.ZU.Number(),utilPercent:s.ZU.Number(),recentUtilPercents:s.ZU.Array(s.ZU.Number()),status:Y,user:s.ZU.Object({utilPercent:s.ZU.Number(),recentUtilPercents:s.ZU.Array(s.ZU.Number())}),system:s.ZU.Object({utilPercent:s.ZU.Number(),recentUtilPercents:s.ZU.Array(s.ZU.Number())})}),memory:s.ZU.Object({softLimitBytes:s.ZU.Number(),hardLimitBytes:s.ZU.Number(),usageBytes:s.ZU.Number(),recentUtilPercents:s.ZU.Array(s.ZU.Number()),status:Y,rss:s.ZU.Object({usageBytes:s.ZU.Number(),recentUtilPercents:s.ZU.Array(s.ZU.Number())}),cache:s.ZU.Object({usageBytes:s.ZU.Number(),recentUtilPercents:s.ZU.Array(s.ZU.Number())})}),storage:s.ZU.Object({usedBytes:s.ZU.Number(),totalBytes:s.ZU.Number(),scratchUsedBytes:s.ZU.Number(),scratchTotalBytes:s.ZU.Number(),nixUsedBytes:s.ZU.Number(),workspaceUsedBytes:s.ZU.Number()})});var E={cpu:{numVCpu:0,utilPercent:0,recentUtilPercents:Array(20).fill(0),status:"ok",user:{utilPercent:0,recentUtilPercents:Array(20).fill(0)},system:{utilPercent:0,recentUtilPercents:Array(20).fill(0)}},memory:{softLimitBytes:0,hardLimitBytes:0,usageBytes:0,recentUtilPercents:Array(20).fill(0),status:"ok",rss:{usageBytes:0,recentUtilPercents:Array(20).fill(0)},cache:{usageBytes:0,recentUtilPercents:Array(20).fill(0)}},storage:{usedBytes:0,totalBytes:0,scratchUsedBytes:0,scratchTotalBytes:0,nixUsedBytes:0,workspaceUsedBytes:0}},x=(0,d.eU)(E),T=(0,d.eU)(!0);function D(){return(0,h.h)(T)}var I=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.min(n?Math.round(e):e,100)};function R(e,n){e.unshift(n),e.pop()}var N=(0,d.eU)(null,function(e,n,t){n(x,function(e){return(0,c.jM)(e,function(e){var n,r,a,i,o,s,l,u,c,d,f,p,h,m;l=e.cpu,u=e.memory,c=e.storage,l.numVCpu=t.numVCpu,l.utilPercent=I(t.cpuUtilizationPercent,!0),l.recentUtilPercents.unshift(l.utilPercent),l.status=g(l.recentUtilPercents),d=l.user,f=l.system,d.utilPercent=I(t.user.cpuUtilizationPercent),R(d.recentUtilPercents,d.utilPercent),f.utilPercent=I(t.system.cpuUtilizationPercent),R(f.recentUtilPercents,f.utilPercent),u.softLimitBytes=t.memorySoftLimitBytes,u.hardLimitBytes=t.memoryHardLimitBytes,u.usageBytes=t.memoryUsageRssBytes,p=u.usageBytes/u.softLimitBytes*100,R(u.recentUtilPercents,p),u.status=g(u.recentUtilPercents),h=u.rss,m=u.cache,h.usageBytes=t.memoryUsageRssBytes,R(h.recentUtilPercents,t.memoryUsageRssBytes/t.memorySoftLimitBytes*100),m.usageBytes=t.memoryUsageCacheBytes,R(m.recentUtilPercents,t.memoryUsageCacheBytes/t.memorySoftLimitBytes*100),c.usedBytes=(null==(n=t.storage)?void 0:n.diskUsedBytes)||0,c.totalBytes=(null==(r=t.storage)?void 0:r.diskLimitBytes)||0x40000000,c.scratchUsedBytes=(null==(a=t.storage)?void 0:a.scratchDiskUsedBytes)||0,c.scratchTotalBytes=(null==(i=t.storage)?void 0:i.scratchDiskLimitBytes)||0x40000000,c.nixUsedBytes=(null==(o=t.storage)?void 0:o.diskUsedNixBytes)||0,c.workspaceUsedBytes=(null==(s=t.storage)?void 0:s.diskUsedWorkspaceBytes)||0})})}),O=(0,f.mg)(x,function(e){return"ok"!==e.cpu.status?e.cpu.status:null}),P=(0,f.mg)(x,function(e){return"ok"!==e.memory.status?e.memory.status:null}),F=(0,d.eU)(function(e){var n=e(P);if(n)return{type:"ram_alert",status:n};var t=e(O);return t?{type:"cpu_alert",status:t}:null});function U(){return(0,h.AI)(F)}(0,d.eU)(function(e){for(var n=e(x),t=n.cpu,r=n.memory,a=0,i=["danger","warning"];a<i.length;a++){var o=i[a];if(t.status===o||r.status===o)return"danger"}return"ok"});var L=(0,f.mg)(x,function(e){var n=b((0,m.$p)(e.memory.softLimitBytes));return{numVCpu:b(e.cpu.numVCpu),ramTotalGB:n}},u());function M(){return(0,h.h)(L)}var J=(0,f.mg)(x,function(e){var n=e.cpu,t=n.status,r=n.recentUtilPercents,a=n.user,i=n.system,o=y(n.utilPercent),s=y(a.utilPercent),l=y(i.utilPercent);return{status:t,currentPercent:o,recentUtilPercents:r,currentUserPercent:s,recentUserUtilPercents:a.recentUtilPercents,currentSystemPercent:l,recentSystemUtilPercents:i.recentUtilPercents}},u());function H(){return(0,h.h)(J)}var B=(0,f.mg)(x,function(e){var n=e.memory,t=n.status,r=n.recentUtilPercents,a=n.cache,i=n.rss,o=n.softLimitBytes,s=n.usageBytes,l=w(o);return{status:t,currentPercent:Math.round(100*Math.min(1,Math.round(y(w(s)))/l)),currentRssInBytes:1024*Math.round(y(w(i.usageBytes)))*1024,currentCacheInBytes:1024*Math.round(y(w(a.usageBytes)))*1024,recentUtilPercents:r,recentRssUtilPercents:i.recentUtilPercents,recentCacheUtilPercents:a.recentUtilPercents}},u());function V(){return(0,h.h)(B)}var $=(0,f.mg)(x,function(e){var n=e.storage;return{replUsedInMib:w(n.usedBytes),scratchUsedInMib:w(n.scratchUsedBytes),nixUsedInMib:w(n.nixUsedBytes),workspaceUsedInMib:w(n.workspaceUsedBytes)}},u());function G(){return(0,h.h)($)}var z=(0,f.mg)(x,function(e){var n=e.cpu,t=e.memory;return{numVCpu:n.numVCpu,ramQuotaMiBs:w(t.softLimitBytes),cpuRecentUtilPercents:n.recentUtilPercents,ramRecentUtilPercents:t.recentUtilPercents}},u());function W(){return(0,h.h)(z)}(0,f.mg)(x,function(e){return e.cpu.numVCpu}),(0,f.mg)(x,function(e){return w(e.memory.softLimitBytes)});var j=(0,f.mg)(x,function(e){return w(e.storage.totalBytes)});function q(){return(0,h.h)(j)}var Z=(0,f.mg)(x,function(e){return w(e.storage.usedBytes)});function K(){return(0,h.h)(Z)}function Q(){var e=(0,h.ob)(T),n=(0,h.ob)(N),t=(0,o.useRef)(!0),s=(0,o.useCallback)(function(r){n(r),t.current?t.current=!1:e(!1)},[n,e]);(0,p.b)(function(e,n){var t=n.signal;return(0,a._)(function(){var n,a,o,l,u,c,d,f;return(0,i.YH)(this,function(i){switch(i.label){case 0:n=e.resources.monitor.subscribe({},{signal:t}).resReadable,a=!1,o=!1,i.label=1;case 1:i.trys.push([1,6,7,12]),u=(0,r._)(n),i.label=2;case 2:return[4,u.next()];case 3:if(!(a=!(c=i.sent()).done))return[3,5];if(!(d=c.value).ok)return[2];s(d.payload),i.label=4;case 4:return a=!1,[3,2];case 5:return[3,12];case 6:return f=i.sent(),o=!0,l=f,[3,12];case 7:if(i.trys.push([7,,10,11]),!(a&&null!=u.return))return[3,9];return[4,u.return()];case 8:i.sent(),i.label=9;case 9:return[3,11];case 10:if(o)throw l;return[7];case 11:return[7];case 12:return[2]}})})()},[s])}},38527:(e,n,t)=>{"use strict";t.d(n,{l:()=>d});var r=t(34837),a=t(70764),i=t(18712),o=t(31051),s=t(91953),l=t(25227),u=t(34282),c=(0,a.x)({avatar:[i.wp.borderRadius(0),{backgroundColor:"transparent","& div":{borderRadius:0,backgroundColor:"transparent",border:"0 none"},"&:after":{display:"none !important"},'& img:not([aria-hidden="true"])':{objectFit:"fill !important"}}]});function d(e){var n=e.size,t=void 0===n?24:n,a=e.showUsername,i=e.showAvatarOnly,d=e.loading,f=e.hidden,p=void 0!==d&&d?(0,r.Y)(u.A,{size:t}):(0,r.Y)(o.e,{size:t,src:"/public/images/ai/agent/AgentIconStandard.svg",username:"AI",css:c.avatar,style:{visibility:void 0!==f&&f?"hidden":void 0}});return void 0===i||i?p:(0,r.FD)(l.S,{row:!0,gap:8,align:"center",children:[p,void 0!==a&&a?(0,r.Y)(s.EY,{variant:"small",color:"dimmer",children:"AI"}):null]})}},38675:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M19 2a.75.75 0 0 1 .75.75V6H23a.75.75 0 0 1 0 1.5h-3.25v3.25a.75.75 0 0 1-1.5 0V7.5H15A.75.75 0 0 1 15 6h3.25V2.75A.75.75 0 0 1 19 2ZM3 7.5c-.69 0-1.25.56-1.25 1.25V10H15.5a.75.75 0 0 1 0 1.5H1.75v7.25c0 .69.56 1.25 1.25 1.25h14c.69 0 1.25-.56 1.25-1.25v-4.5a.75.75 0 0 1 1.5 0v4.5A2.75 2.75 0 0 1 17 21.5H3a2.75 2.75 0 0 1-2.75-2.75v-10A2.75 2.75 0 0 1 3 6h8.5a.75.75 0 0 1 0 1.5H3Z",clipRule:"evenodd"})}))}},39638:e=>{e.exports={surface:"InputBox_surface__Zuciv",outer:"InputBox_outer__e8p0G",autoHeight:"InputBox_autoHeight__914L_",wrapper:"InputBox_wrapper__V9f3B",withDrawer:"InputBox_withDrawer__ty9zD",codemirror:"InputBox_codemirror__4ltuk",attachments:"InputBox_attachments__KUIFp",primaryButtonGroup:"InputBox_primaryButtonGroup__1lFia",agentSettingsControls:"InputBox_agentSettingsControls__7Ujze",maxAutonomyPill:"InputBox_maxAutonomyPill___MTPD","agent-input-glow":"InputBox_agent-input-glow__ISHWN"}},39728:e=>{e.exports={container:"SimpleIntro_container__czwm3",urlContainer:"SimpleIntro_urlContainer__YDQdt",roundedSurface:"SimpleIntro_roundedSurface__5Am0m",clickable:"SimpleIntro_clickable__d9mFK",payment:"SimpleIntro_payment__YBYRD"}},39831:e=>{e.exports={tabs:"ConnectorsPane_tabs__YQXmh",tabPanels:"ConnectorsPane_tabPanels__qd9sc",manageConnectionContainer:"ConnectorsPane_manageConnectionContainer__bOqb2",centeredMessage:"ConnectorsPane_centeredMessage__UndCl",searchControlsDesktop:"ConnectorsPane_searchControlsDesktop__qk49h",searchControlsMobile:"ConnectorsPane_searchControlsMobile____aVO"}},40260:(e,n,t)=>{"use strict";t.d(n,{e:()=>a});var r=t(86103);function a(){return(0,r._P)({controlName:"flag-url-context-feature-killswitch"})}},40371:(e,n,t)=>{"use strict";t.d(n,{w:()=>v});var r=t(34837),a=t(21462),i=t(82315),o=t(34778),s=t(12213),l=t(40756),u=t(93868),c=t(3554),d=t(8613),f=t(35155),p=t(91953),h=t(25227),m=t(64424),v=function(e){var n=e.query,t=e.openPane,v=(0,a.useMemo)(function(){return new i.Rk(s.cL,{fuzzy:!1,selector:function(e){return"".concat(e.name," ").concat(e.type)}})},[]),g=(0,a.useMemo)(function(){return n?v.find(n).map(function(e){return e.item}):s.cL},[v,n]);return(0,r.Y)(c.h,{autoLayout:!1,title:"",columns:[{key:"name",label:"Name",allowSorting:!1,width:200,isRowHeader:!0},{key:"type",label:"Type",allowSorting:!1,minWidth:118},{key:"actions",label:"",allowSorting:!1,width:118}],items:g,children:function(e){return(0,r.FD)(f.H,{id:e.id,children:[(0,r.Y)(d.n,{children:(0,r.FD)(h.S,{gap:8,row:!0,align:"center",children:[e.icon,(0,r.Y)(p.EY,{children:e.name})]})},"name"),(0,r.Y)(d.n,{children:(0,r.Y)(p.EY,{color:"dimmer",children:e.type})},"type"),(0,r.Y)(d.n,{children:(0,r.Y)(h.S,{row:!0,justify:"end",children:t?(0,r.Y)(l.$n,{iconLeft:(0,r.Y)(m.A,{size:12}),text:"Open",onClick:function(){(0,o.u4)(o.AZ.REPLIT_MANAGED_SERVICE_CLICKED,{serviceName:e.name,serviceType:e.type,actionType:"open",source:"workspace"}),t(e.pane)},size:"small"}):(0,r.Y)(u.v,{href:e.link,iconLeft:(0,r.Y)(m.A,{size:12}),text:"Learn more",size:"small",target:"_blank",onClick:function(){(0,o.u4)(o.AZ.REPLIT_MANAGED_SERVICE_CLICKED,{serviceName:e.name,serviceType:e.type,actionType:"learn_more",source:"external"})}})})},"actions")]},e.id)}})}},41269:(e,n,t)=>{"use strict";t.d(n,{ci:()=>u,kB:()=>l});var r=t(83846),a=t(90629),i=t(49999),o=t(34778),s=t(67364);function l(e){(0,o.u4)(o.AZ.SECURITY_SCAN,{action:"run_scan_clicked",context:e})}function u(e){try{var n=[],t=[],l=[];e.forEach(function(e){var r=e.kind;switch(r){case"dependencyAudit":n.push(e);break;case"sast":t.push(e);break;case"maliciousFile":l.push(e);break;default:(0,i.A)(r)}});try{var u,c=(u={},(0,r._)(u,s.A.INFO,[]),(0,r._)(u,s.A.LOW,[]),(0,r._)(u,s.A.MODERATE,[]),(0,r._)(u,s.A.HIGH,[]),(0,r._)(u,s.A.CRITICAL,[]),(0,r._)(u,"majorBumpLibs",[]),u);n.forEach(function(e){var n;c[(0,s.T)(e.severity.level)].push(e.package.name),(null==(n=e.fix)?void 0:n.requiresMajorUpdate)&&c.majorBumpLibs.push(e.package.name)}),(0,o.u4)(o.AZ.DEPENDENCY_AUDIT_COMPLETED,{vulnerabilities:c})}catch(e){a.v4(function(n){n.setTag("securityScan",!0),n.setTag("scanType","dependency"),n.setExtra("originalError",e),a.Cp(Error("Error tracking dependency audit"))})}try{var d,f=(d={},(0,r._)(d,s.A.INFO,[]),(0,r._)(d,s.A.LOW,[]),(0,r._)(d,s.A.MODERATE,[]),(0,r._)(d,s.A.HIGH,[]),(0,r._)(d,s.A.CRITICAL,[]),d);t.forEach(function(e){f[(0,s.T)(e.severity)].push({checkId:e.checkId,path:e.location.path,message:e.message.slice(0,100)})}),(0,o.u4)(o.AZ.SAST_SCAN_COMPLETED,{vulnerabilities:f})}catch(e){a.v4(function(n){n.setTag("securityScan",!0),n.setTag("scanType","sast"),n.setExtra("originalError",e),a.Cp(Error("Error tracking SAST scan"))})}try{var p,h=(p={},(0,r._)(p,s.A.INFO,[]),(0,r._)(p,s.A.LOW,[]),(0,r._)(p,s.A.MODERATE,[]),(0,r._)(p,s.A.HIGH,[]),(0,r._)(p,s.A.CRITICAL,[]),p);l.forEach(function(e){h[(0,s.T)(e.severity)].push({name:e.name,paths:e.paths})}),(0,o.u4)(o.AZ.MALICIOUS_FILE_SCAN_COMPLETED,{vulnerabilities:h})}catch(e){a.v4(function(n){n.setTag("securityScan",!0),n.setTag("scanType","maliciousFile"),n.setExtra("originalError",e),a.Cp(Error("Error tracking malicious file scan"))})}}catch(e){a.v4(function(n){n.setTag("securityScan",!0),n.setExtra("originalError",e),a.Cp(Error("Error tracking security scan result"))})}}},41285:(e,n,t)=>{"use strict";t.d(n,{i:()=>d});var r=t(40185),a=t(17844),i=t(12584),o=t(41114),s=t(54744);function l(){var e=(0,i._)(["\n  query WorkspaceShowAdmin {\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n    }\n  }\n"]);return l=function(){return e},e}var u={},c=(0,o.J1)(l());function d(){var e,n,t=(e=(0,a._)({},u,void 0),s.I(c,e)).data,i=(0,r.useRouter)();return(null==t||null==(n=t.currentUser)?void 0:n.isAdmin)||!!i.query.debug}},41287:(e,n,t)=>{"use strict";t.d(n,{A:()=>d});var r=t(12694),a=t(90629),i=t(66246),o=t(96513),s=t(30284),l=t(71125),u=t(35897),c=t(34778);let d=function(e){var n=e.isMobileApp,t=e.isTeam,d=e.handleUpgradeTriggered,f=e.replId,p=(0,u.A)(),h=p.showConfirm,m=p.showError,v=(0,l.X)(),g=function(e,n){a.ZQ({message:n}),a.Cp(Error(e.message)),m("Something unexpected happened, please try again.")},b=(0,r._)((0,i.t)({onError:function(e){return g(e,"useAddOrInviteReplMultiplayerMutation")},onCompleted:function(e){var r,a,i,l=e.addOrInviteReplMultiplayer;switch(l.__typename){case"NotFoundError":case"UnauthorizedError":m(l.message);return;case"UserError":if(l.message.includes("reached the limit")){if(n&&!t)return void m("You have reached the invite limit for a free account. Please upgrade to add more collaborators.");else if(!n&&d)return void d(!0)}m(l.message);return;case"AddOrInviteReplMultiplayerOuput":"MultiplayerInvite"===l.result.__typename?(r=o.LIG.Email,a=l.result.email):(r=o.LIG.Username,a=(null==(i=l.result.user)?void 0:i.username)?"@".concat(l.result.user.username):"user")}"data"===v.type&&v.refetch(),(0,c.u4)(s.AZ.MULTIPLAYER_INVITED,{replId:f,inviteMethod:r}),h("Added ".concat(a))}}),2);return{addOrInviteReplMultiplayer:b[0],loadingAddMutation:b[1].loading}}},41426:(e,n,t)=>{"use strict";t.d(n,{Ls:()=>h,Vg:()=>m,_u:()=>v});var r=t(29935),a=t(17844),i=t(93629),o=t(12694),s=t(82643),l=t(21462),u=t(35992),c=t(32978),d=t(69832),f=t(33868),p=t(13927),h="attached_assets",m=function(e){return"".concat(h,"/").concat(e)};function v(e){var n=e.sessionId,t=e.uploadFiles,h=e.onError,v=(0,d.HJ)([]),g=(0,d.HJ)([]),b=(0,l.useMemo)(function(){return c.cP.combine(c.cP.from(v),c.cP.from(g)).select(function(e){var n=(0,o._)(e,2),t=n[0],r=n[1];return t.some(function(e){return e.isLoading})||r.some(function(e){return e.file.isLoading})})},[v,g]),y=(0,l.useCallback)(function(e){v.update(function(n){return(0,u.jM)(n,function(n){var t=n.findIndex(function(n){return n.path===e});-1!==t&&n.splice(t,1)})})},[v]),w=(0,l.useCallback)(function(e){g.update(function(n){return(0,u.jM)(n,function(n){var t=n.findIndex(function(n){return n.file.path===e});-1!==t&&n.splice(t,1)})})},[g]),_=(0,l.useCallback)(function(e){return(0,r._)(function(){var r,o,l,c,d,g,b,w,_;return(0,s.YH)(this,function(s){switch(s.label){case 0:r=e.map(function(e){var n=function(e){if(e){var n=e.lastIndexOf("."),t=-1!==n?e.slice(0,n):e,r=-1!==n?e.slice(n):"";return"".concat(t,"_").concat(Date.now()).concat(r)}return"pasted_".concat(Date.now())}(e.fileName);return{path:m(n),mimeType:e.file.type,file:new File([e.file],n,{type:e.file.type,lastModified:e.file.lastModified}),isLoading:!0}}),o=!0,l=!1,c=void 0;try{for(d=r[Symbol.iterator]();!(o=(g=d.next()).done);o=!0){if((b=g.value).file.size>f.wr)return null==h||h("Attachment size exceeds ".concat(f.wr/1024/1024," MB limit.")),(0,p.pI)({action:"attempted_to_attach_file_exceeding_size_limit",fileType:b.file.type,fileSize:b.file.size,sessionId:n}),[2,[]];if("image/svg+xml"===b.file.type)return null==h||h("SVG images are not allowed"),(0,p.pI)({action:"attempted_to_attach_svg_image",sessionId:n}),[2,[]]}}catch(e){l=!0,c=e}finally{try{o||null==d.return||d.return()}finally{if(l)throw c}}return w=!1,[4,new Promise(function(e){v.update(function(e){return(0,u.jM)(e,function(e){var n=r.filter(function(n){return!e.some(function(e){return e.path===n.path})});if(e.length+n.length>20)return null==h||h("You can only attach up to ".concat(20," files.")),e;w=!0,r.forEach(function(n){var t=e.findIndex(function(e){return e.path===n.path});-1!==t?e[t]=n:e.push(n)})})}),e()})];case 1:if(s.sent(),!w)return[2,[]];if(r.forEach(function(e){(0,p.pI)({action:"attached_file",fileType:e.file.type,fileSize:e.file.size,sessionId:n})}),_=r.map(function(e){return e.file}),!t)return[3,5];s.label=2;case 2:return s.trys.push([2,4,,5]),[4,t({files:_,onError:function(e){r.forEach(function(e){return y(e.path)}),null==h||h("Error writing files: "+e)}})];case 3:return s.sent(),[3,5];case 4:return s.sent(),[2,[]];case 5:return v.update(function(e){return(0,u.jM)(e,function(e){r.forEach(function(n){var t=e.findIndex(function(e){return e.path===n.path});-1!==t&&(e[t]=(0,i._)((0,a._)({},e[t]),{isLoading:!1}))})})}),[2,r]}})})()},[t,y,h,n,v]),S=(0,l.useCallback)(function(e){var o=e.url,l=e.file;return(0,r._)(function(){var e;return(0,s.YH)(this,function(r){switch(r.label){case 0:return e=!1,[4,new Promise(function(n){g.update(function(n){return(0,u.jM)(n,function(n){var t=n.findIndex(function(e){return e.url===o&&e.file.path===l.path});if(-1===t&&n.length+v.current.length>=20)return null==h||h("You can only attach up to ".concat(20," files.")),n;e=!0,-1!==t?n[t]={url:o,file:l}:n.push({url:o,file:l})})}),n()})];case 1:if(r.sent(),!e)return[2,null];if((0,p.pI)({action:"attached_url_file",fileType:l.file.type,fileSize:l.file.size,sessionId:n}),!t)return[3,5];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,t({files:[l.file],onError:function(e){w(l.path),null==h||h("Error writing URL file: "+e)}})];case 3:return r.sent(),g.update(function(e){return(0,u.jM)(e,function(e){var n=e.findIndex(function(e){return e.url===o});-1!==n&&(e[n].file=(0,i._)((0,a._)({},e[n].file),{isLoading:!1}))})}),[3,5];case 4:return r.sent(),[2,null];case 5:return[2,{url:o,file:l}]}})})()},[t,w,h,n,g,v]),A=(0,l.useCallback)(function(){v.set([]),g.set([])},[v,g]);return(0,l.useMemo)(function(){return{attachments:v,removeAttachment:y,removeUrlAttachment:w,clearAttachments:A,urlAttachments:g,addAttachments:_,addUrlAttachment:S,isLoading:b}},[v,y,w,A,g,_,S,b])}},41683:(e,n,t)=>{"use strict";t.d(n,{LO:()=>c,PO:()=>d,ff:()=>l,kP:()=>u,w:()=>s});var r=t(21462),a=t(48373),i=t(84383),o=t(40115);function s(e){var n=(0,a.A)(e.portsState);return(0,r.useMemo)(function(){return n?n.filter(function(e){return e.isOpen&&e.configuration.type===i.gH.FORWARDED}):[]},[n])}function l(e){var n=(0,o.A)().ports,t=(0,a.A)(n.portsState);return(0,r.useMemo)(function(){if(t)return t.find(function(n){return n.configuration.type===i.gH.FORWARDED&&n.configuration.externalPort===e})},[t,e])}function u(e){return c((0,o.A)().ports,e)}function c(e,n){var t=(0,a.A)(e.portsState);return(0,r.useMemo)(function(){return n&&t?t.filter(function(e){var t;return null!=(t=e.isOpen&&(null==n?void 0:n.endsWith(e.processInfo.cgroup)))&&t}):[]},[t,n])}function d(){var e=(0,o.A)().ports,n=(0,a.A)(e.portsState);return null==n?void 0:n.some(function(e){return e.configuration.isVnc&&e.isOpen})}},41768:(e,n,t)=>{"use strict";t.d(n,{aK:()=>a,mW:()=>o,md:()=>i,sc:()=>s});var r=t(86846),a=[r.SemanticTokenTypes.namespace,r.SemanticTokenTypes.type,r.SemanticTokenTypes.class,r.SemanticTokenTypes.enum,r.SemanticTokenTypes.interface,r.SemanticTokenTypes.struct,r.SemanticTokenTypes.typeParameter,r.SemanticTokenTypes.parameter,r.SemanticTokenTypes.variable,r.SemanticTokenTypes.property,r.SemanticTokenTypes.enumMember,r.SemanticTokenTypes.event,r.SemanticTokenTypes.function,r.SemanticTokenTypes.method,r.SemanticTokenTypes.macro,r.SemanticTokenTypes.keyword,r.SemanticTokenTypes.modifier,r.SemanticTokenTypes.comment,r.SemanticTokenTypes.string,r.SemanticTokenTypes.number,r.SemanticTokenTypes.regexp,r.SemanticTokenTypes.operator,r.SemanticTokenTypes.decorator,"angle","arithmetic","attribute","attributeBracket","bitwise","boolean","brace","bracket","builtinAttribute","builtinType","character","colon","comma","comparison","constParameter","derive","deriveHelper","dot","escapeSequence","invalidEscapeSequence","formatSpecifier","generic","label","lifetime","logical","macroBang","parenthesis","punctuation","selfKeyword","selfTypeKeyword","semicolon","typeAlias","toolModule","union","unresolvedReference","tomlArrayKey","tomlTableKey"],i=[r.SemanticTokenModifiers.declaration,r.SemanticTokenModifiers.definition,r.SemanticTokenModifiers.readonly,r.SemanticTokenModifiers.static,r.SemanticTokenModifiers.deprecated,r.SemanticTokenModifiers.abstract,r.SemanticTokenModifiers.async,r.SemanticTokenModifiers.modification,r.SemanticTokenModifiers.documentation,r.SemanticTokenModifiers.defaultLibrary,"attribute","callable","constant","consuming","controlFlow","crateRoot","injected","intraDocLink","library","macro","mutable","public","reference","trait","unsafe"];function o(e,n){var t=e.tokenTypes[n];return t&&a.includes(t)?t:null}function s(e,n){for(var t=[],r=0;r<e.tokenModifiers.length;r++)if(n&1<<r){var a=e.tokenModifiers[r];a&&i.includes(a)&&t.push(a)}return t}},41897:(e,n,t)=>{"use strict";t.d(n,{GS:()=>c,Vg:()=>f,Y9:()=>u,nt:()=>d});var r=t(35992),a=t(76957),i=t(83028),o=(0,a.eU)(new Map),s=(0,a.eU)(null,function(e,n,t,a){return n(o,function(e){return(0,r.jM)(e,function(e){null===a?e.delete(t):e.set(t,a)})})}),l=(0,a.eU)(null,function(e,n,t){return n(o,function(e){return(0,r.jM)(e,function(e){var n=!0,r=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;e.set(s,"exclude")}}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}})})});function u(){return(0,i.ob)(l)}function c(){return(0,i.ob)(s)}function d(){return(0,i.h)(o)}function f(){return(0,i.Ou)(o)}},42255:(e,n,t)=>{"use strict";t.d(n,{A:()=>c,C:()=>p});var r=t(29935),a=t(17844),i=t(12694),o=t(82643),s=t(60910),l=t(88769),u=new RegExp(/(file:\/\/)?\/home\/runner\/[^/]+\/(.*)/);function c(e,n,t,a){return(0,r._)(function(){var u,c,d;return(0,o.YH)(this,function(f){switch(f.label){case 0:return c=(u=(0,i._)((0,l.z)(e-1,!1,n),2))[0],d=u[1]+1,[4,p(c,function(){return(0,r._)(function(){var e;return(0,o.YH)(this,function(n){switch(n.label){case 0:return[4,a()];case 1:return[2,null==(e=n.sent())?void 0:e.files]}})})()})];case 1:return[2,f.sent().map(function(e){var r=e.from,a=e.to,i=e.file,o=e.line,u=e.col;return{range:(0,l.W)(d,r,a,n),text:i,activate:function(e,n){(0,s.T$)(e)&&t({path:n,line:o,col:u})}}})]}})})()}var d=/[a-zA-Z0-9_\-.[\]$@()]+/,f='", line ';function p(e,n){return(0,r._)(function(){var t,i,s,l,c,p,h,m,v;return(0,o.YH)(this,function(g){switch(g.label){case 0:return[4,Promise.race([n(),(0,r._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e){return setTimeout(function(){return e()},5e3)})];case 1:return e.sent(),[2]}})})().then(function(){return[]})])];case 1:if(!(t=g.sent())||0===t.length)return[2,[]];for(i=[],s=0,l=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e[s+n]},c=function(){var n=e[s];return s++,n},p=function(){var n=s;c();for(var t="";/\d/.test(l());)t+=c();if(0===t.length)return s=n,null;if(":"!==l())return{line:parseInt(t,10),col:0};c();for(var r="";s<e.length&&/\d/.test(l());)r+=c();return 0===r.length?(s--,{line:parseInt(t,10),col:0}):{line:parseInt(t,10),col:parseInt(r,10)}},h=function(){for(var n=s,t=0;t<f.length;t++)c();for(var r="";s<e.length&&/\d/.test(l());)r+=c();return 0===r.length?(s=n,null):{line:parseInt(r,10),col:0}},m=function(){var n=s,r="";for("."===l()&&"/"===l(1)&&(r+=c(),r+=c()),("("===l()||"["===l())&&c();s<e.length;){var i=l();if(d.test(i))r+=c();else if("/"===i){if("/"===r[r.length-1])break;r+=c()}else break}var o={line:1,col:0};if(":"===l()){var m=p();m&&(o=m)}else if(e.substring(s,s+f.length)===f){var v=h();v&&(o=v,n--)}(r.startsWith("a/")||r.startsWith("b/"))&&(e.indexOf("diff --git ")>=0||e.indexOf("--- a/")>=0||e.indexOf("+++ b/")>=0)&&t.indexOf(r.substring(2))>=0&&(r=r.substring(2),n+=2);var g=r.replace(u,"$2").replace(/^\.?\//,"").trim();return g&&t.find(function(e){return e===g||e.substring(e.lastIndexOf("/")+1)===g})?(0,a._)({file:g,from:n,to:s},o):null};s<e.length;)(v=m())?i.push(v):c();return[2,i]}})})()}},42415:(e,n,t)=>{"use strict";function r(e){var n,t;return!!e&&!(e.length<2)&&null!=(t=null==(n=e[1])?void 0:n.endsWith(".bin/expo"))&&t}function a(e){var n;return!!e.isOpen&&r(null==(n=e.processInfo)?void 0:n.cmdline)}t.d(n,{N:()=>a,O:()=>r})},42600:(e,n,t)=>{"use strict";t.d(n,{A:()=>E});var r=t(17844),a=t(93629),i=t(12694),o=t(34837),s=t(21462),l=t(30411),u=t(7576),c=t.n(u),d=t(11913),f=t(73496),p=t(35897),h=t(39534),m=t(70764),v=t(18712),g=t(87261),b=t(40756),y=t(83096),w=t(3937),_=t(91953),S=t(25227),A=t(62946),k=t(73635),C=t(33683),Y=(0,m.x)({form:[v.wp.align.start,v.wp.display.flex,v.wp.rowWithGap(8),v.wp.width("100%")],searchContainer:[v.wp.position.relative,v.wp.flex.growAndShrink(1)],dropdownMenu:[v.wp.borderRadius(8),v.wp.overflow("hidden"),v.wp.mt(2),v.wp.zIndex(2),v.wp.border({color:h.LU.outlineDimmer,width:1,style:"solid"}),v.wp.maxHeight(280),v.wp.overflowY("auto"),v.wp.scrollbar.thin,{scrollbarColor:h.LU.backgroundHigher+" "+h.LU.backgroundHighest,"&::-webkit-scrollbar-thumb":{backgroundColor:h.LU.backgroundHighest}}],result:[v.wp.p(8),v.wp.rowWithGap(8),v.wp.justify.spaceBetween,v.wp.align.center,v.wp.cursor.pointer],result_active:[v.wp.backgroundColor.accentPrimaryDimmer],loadingContainer:[v.wp.m(8),v.wp.rowWithGap(8),v.wp.align.center],emptyText:[v.wp.m(8)]});function E(e){var n=e.onSubmit,t=e.existingUsernames,u=e.isDisabled,m=e.onChange,v=e.placeholder,E=(0,i._)((0,s.useState)(""),2),x=E[0],T=E[1],D=(0,g.c)(),I=(0,f.A)(x.trim().replace(/^@/,""),250),R=(0,d.Mj)({skip:!I||c()(x),variables:{query:I,limit:6}}),N=R.data,O=R.loading,P=R.error,F=(0,p.A)().showError;(0,s.useEffect)(function(){P&&F(P.message)},[P,F]);var U=null==N?void 0:N.usernameSearch,L=function(e){T(e.currentTarget.value),null==m||m(e.currentTarget.value)},M=function(e){"Enter"===e.key&&x.match(/.+@.+/)&&(n(x),T(""),e.currentTarget.blur())};return(0,o.FD)("form",{onSubmit:function(e){e.preventDefault(),n(x),T("")},css:Y.form,children:[(0,o.Y)(l.Ay,{onChange:function(e){e&&T(e.username)},itemToString:function(e){return(null==e?void 0:e.username)||""},initialHighlightedIndex:0,defaultHighlightedIndex:0,children:function(e){var n=e.getInputProps,i=e.getItemProps,s=e.getMenuProps,l=e.isOpen,u=e.highlightedIndex,c=e.getRootProps;return(0,o.FD)(S.S,(0,a._)((0,r._)({css:Y.searchContainer},c({refKey:"innerRef"})),{children:[(0,o.Y)(y.pd,(0,r._)({id:D("username-search")},n({ref:null,value:x,onChange:L,placeholder:null!=v?v:"Add people by username or email",autoComplete:"off",onKeyDown:M}))),l?(0,o.FD)(S.S,{children:[U&&U.length?(0,o.Y)(w.ui,(0,a._)((0,r._)({elevated:!0,css:Y.dropdownMenu,tag:"ul"},s({refKey:"innerRef"})),{children:U.map(function(e,n){return(0,o.FD)(S.S,(0,a._)((0,r._)({tag:"li"},i({item:e,index:n})),{css:[Y.result,n===u&&Y.result_active],children:[(0,o.FD)(S.S,{row:!0,gap:8,align:"center",children:[(0,o.Y)(A.A,{size:"m",url:e.image,username:e.username,fullName:e.fullName}),(0,o.Y)(_.EY,{multiline:!1,children:e.username})]}),t.includes(e.username)?(0,o.Y)(S.S,{children:(0,o.Y)(k.A,{color:h.LU.accentPositiveStronger})}):null]}),n)})})):null,O?(0,o.Y)(w.ui,{elevated:!0,css:Y.dropdownMenu,children:(0,o.FD)(S.S,{css:Y.loadingContainer,align:"center",children:[(0,o.Y)(C.A,{}),(0,o.Y)(_.EY,{color:"dimmer",multiline:!1,children:"Loading…"})]})}):null,U&&0===U.length?(0,o.Y)(w.ui,{elevated:!0,css:Y.dropdownMenu,children:(0,o.FD)(_.EY,{css:Y.emptyText,color:"dimmer",multiline:!1,children:['No results found for "',x,'"']})}):null]}):null]}))}}),(0,o.Y)(S.S,{children:(0,o.Y)(b.$n,{colorway:"primary",type:"submit",disabled:u||!x,text:"Invite"})})]})}},42683:(e,n,t)=>{"use strict";t.d(n,{k:()=>i});var r=t(21462),a=t(30375);function i(){var e=(0,a.a)();return(0,r.useMemo)(function(){return!e&&function(){if("undefined"==typeof document)return!1;var e=document.createElement("input");return"webkitdirectory"in e||"mozdirectory"in e||"msdirectory"in e||"odirectory"in e||"directory"in e}()},[e])}},42811:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>f,NT:()=>d});var r=t(46434),a=t(29935),i=t(82643),o=t(21462),s=t(32978),l=t(69832),u=t(45620);function c(){var e=(0,l.HJ)(null);return(0,u.b)(function(n){return(0,a._)(function(){var t,a,o,s,l,u,c,d;return(0,i.YH)(this,function(i){switch(i.label){case 0:t=n.environment.nixState.subscribe({}).resReadable,a=!1,o=!1,i.label=1;case 1:i.trys.push([1,6,7,12]),l=(0,r._)(t),i.label=2;case 2:return[4,l.next()];case 3:if(!(a=!(u=i.sent()).done))return[3,5];(c=u.value).ok&&e.set(c.payload),i.label=4;case 4:return a=!1,[3,2];case 5:return[3,12];case 6:return d=i.sent(),o=!0,s=d,[3,12];case 7:if(i.trys.push([7,,10,11]),!(a&&null!=l.return))return[3,9];return[4,l.return()];case 8:i.sent(),i.label=9;case 9:return[3,11];case 10:if(o)throw s;return[7];case 11:return[7];case 12:return[2]}})})()},[e]),(0,o.useMemo)(function(){return s.cP.from(e)},[e])}function d(){var e=c();return(0,l.Rj)(function(){return e.select(function(e){switch(null==e?void 0:e.status){case"error":case"rebuilding-after-error":return e;default:return null}})},[e],{default:null})}function f(){return(0,l.J2)(c())}},42845:(e,n,t)=>{"use strict";t.d(n,{Ik:()=>s,jq:()=>o,r$:()=>i});var r=t(85689),a=t(41683);function i(e){return 80===e||443===e}function o(e,n){var t=new URL(e);return!n||i(n)?(t.hostname.endsWith(".localhost")?t.port="8081":t.port&&(t.port=""),t):(t.port=n.toString(),t)}function s(e){var n,t,i,s=e.container,l=e.ports,u=e.addDevToolsSuffix,c=!(t=(0,a.w)(l)).length||t.some(function(e){return 80===e.configuration.externalPort})?80:null!=(n=t[0].configuration.externalPort)?n:80,d=(0,r.A)(s),f=d.url,p=d.reachability;if(!c||!f)return null;var h=o(f,c).toString(),m=o(f+"/__replco/workspace_iframe.html",c).toString();return{iframeSrc:void 0===u||u?m:(i=new URL(h)).hostname.endsWith(".localhost")?h:(i.protocol="https:",i.toString()),presentationUrl:h,baseUrl:f,reachability:p}}},42950:e=>{e.exports={button:"BreadcrumbNav_button__65DUG",menu:"BreadcrumbNav_menu___Yqly"}},42996:(e,n,t)=>{"use strict";t.d(n,{e:()=>d});var r=t(17844),a=t(12584),i=t(41114),o=t(54744);function s(){var e=(0,a._)(["\n  query UseReplUrl($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        url\n      }\n    }\n  }\n"]);return s=function(){return e},e}var l={},u=(0,i.J1)(s()),c=t(61125);function d(){var e,n,t,a=(0,c.A)(),i=(e={variables:{replId:a},skip:!a},n=(0,r._)({},l,e),o.I(u,n)).data;return(null==i||null==(t=i.getRepl)?void 0:t.__typename)==="Repl"?i.getRepl.url:void 0}},43063:(e,n,t)=>{"use strict";t.d(n,{S:()=>i,V:()=>o});var r=t(12694),a=[{"Anthropic API Key":/(sk-ant-api03-[\w-]{93}AA)/g,"AWS API Key":/AKIA[0-9A-Z]{16}/g,"AWS AppSync GraphQL Key":/da2-[a-z0-9]{26}/g,"AWS MWS ID":/mzn\.mws\.[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/g,"AWS client ID":/(A3T[A-Z0-9]|AKIA|AGPA|AIDA|AROA|AIPA|ANPA|ANVA|ASIA)[A-Z0-9]{16}/g,"Discord Bot Token":/(?:N|M|O)[a-zA-Z0-9]{23}\\.[a-zA-Z0-9-_]{6}\\.[a-zA-Z0-9-_]{27}/g,"Discord Webhook Url":/https?:\/\/(?:ptb\.|canary\.)?discord\.com\/api(?:\/v\d{1,2})?\/webhooks\/(\d{17,19})\/([\w-]{68})/gi,"Dynatrace Token":/dt0[a-zA-Z]{1}[0-9]{2}\\.[A-Z0-9]{24}\\.[A-Z0-9]{64}/gi,"Facebook Access Token":/EAACEdEose0cBA[0-9A-Za-z]+/g,"Facebook OAuth":/[fF][aA][cC][eE][bB][oO][oO][kK].*['|"][0-9a-f]{32}['|"]/g,"Github Personal Access Token":/ghp_[0-9a-zA-Z]{36}/g,"Github OAuth Access Token":/gho_[0-9a-zA-Z]{36}/g,"Github App Installation Access Token":/(ghu|ghs)_[0-9a-zA-Z]{36}/g,"Github App Refresh Token":/ghr_[0-9a-zA-Z]{76}/g,"Generic API Key":/[aA][pP][iI]_?[kK][eE][yY].*['|"][0-9a-zA-Z]{32,45}['|"]/g,"Generic Secret":/[sS][eE][cC][rR][eE][tT].*['|"][0-9a-zA-Z]{32,45}['|"]/g,"Google API Key":/AIza[0-9A-Za-z\\-_]{35}/g,"Google Gmail API Key":/AIza[0-9A-Za-z\\-_]{35}/g,"Google OAuth Access Token":/ya29\\.[0-9A-Za-z\\-_]+/g,"Google YouTube API Key":/AIza[0-9A-Za-z\\-_]{35}/g,"Heroku API Key":/[hH][eE][rR][oO][kK][uU].*[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}/g,"MailChimp API Key":/[0-9a-f]{32}-us[0-9]{1,2}/g,"Mailgun API Key":/key-[0-9a-zA-Z]{32}/g,"Mapbox, Public Key":/([s,p]k.eyJ1Ijoi[\w.-]+)/g,"Mapbox, Secret Key":/([s,p]k.eyJ1Ijoi[\w.-]+)/g,"npm Access Token":/npm_[0-9a-zA-Z]{36}/g,"NuGet API Key":/oy2[a-z0-9]{43}/g,"OpenAI API Key":/sk-[a-zA-Z0-9_-]+/g,"PGP private key block":/-----BEGIN PGP PRIVATE KEY BLOCK-----/g,"Picatic API Key":/sk_live_[0-9a-z]{32}/g,"PyPI API Token":/pypi-AgEIcHlwaS5vcmc[A-Za-z0-9-_]{50,1000}/g,"SSH (DSA) private key":/-----BEGIN DSA PRIVATE KEY-----/g,"SSH (EC) private key":/-----BEGIN EC PRIVATE KEY-----/g,"SSH (RSA) private key":/-----BEGIN RSA PRIVATE KEY-----/g,"SendGrid API Key":/SG\.[0-9A-Za-z\-_]{22}\.[0-9A-Za-z\-_]{43}/g,"Shopify Access Token":/shpat_[a-fA-F0-9]{32}/g,"Shopify App Shared Secret":/shpss_[a-fA-F0-9]{32}/g,"Shopify Custom App Access Token":/shpca_[a-fA-F0-9]{32}/g,"Shopify Private App Password":/shppa_[a-fA-F0-9]{32}/g,"Slack Token":/(xox[pborsa]-[0-9]{12}-[0-9]{12}-[0-9]{12}-[a-z0-9]{32})/g,"Slack API Token":/xox[baprs]-([0-9a-zA-Z]{10,48})?/g,"Slack Live API Key":/(?:r|s)k_live_[0-9a-zA-Z]{24}/g,"Slack Test API Key":/(?:r|s)k_test_[0-9a-zA-Z]{24}/g,"Slack, OAuth v2 Bot Access Token":/xoxb-[0-9]{11}-[0-9]{11}-[0-9a-zA-Z]{24}/g,"Slack, OAuth v2 Configuration Token":/xoxe.xoxp-1-[0-9a-zA-Z]{166}/g,"Slack, OAuth v2 Refresh Token":/xoxe-1-[0-9a-zA-Z]{147}/g,"Slack, OAuth v2 User Access Token":/xoxp-[0-9]{11}-[0-9]{11}-[0-9a-zA-Z]{24}/g,"Slack Webhook":/https:\/\/hooks.slack.com\/services\/T[a-zA-Z0-9_]{10}\/B[a-zA-Z0-9_]{10}\/[a-zA-Z0-9_]{24}/g,"Square Access Token":/sq0atp-[0-9A-Za-z\\-_]{22}/g,"Square OAuth Secret":/sq0csp-[0-9A-Za-z\\-_]{43}/g,"Stripe API Key":/sk_live_[0-9a-zA-Z]{24}/g,"Stripe Restricted API Key":/rk_live_[0-9a-zA-Z]{24}/g,"Twilio API Key":/SK[0-9a-fA-F]{32}/g,"Twitter Access Token":/[tT][wW][iI][tT][tT][eE][rR].*[1-9][0-9]+-[0-9a-zA-Z]{40}/g,"Twitter OAuth":/[tT][wW][iI][tT][tT][eE][rR].*['|"][0-9a-zA-Z]{35,44}['|"]/g},{"Instagram oauth":/[0-9a-fA-F]{7}\.[0-9a-fA-F]{32}/g}];function i(e){if(e.length>2e3)return!1;var n=!0,t=!1,i=void 0;try{for(var o,s=a[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value,u=!0,c=!1,d=void 0;try{for(var f,p=Object.entries(l)[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=(0,r._)(f.value,2),m=h[0],v=h[1],g=e.search(v);if(!(g<0)){var b=e.match(v);if(b){var y=g+b[0].length;return{start:g,end:y,secret:e.slice(g,y),provider:m}}}}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}}catch(e){t=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(t)throw i}}return!1}function o(e){for(var n=null,t="",i=0,o=0;o<e.length;o++){var s=e[o],l=" "===s||"\n"===s||"	"===s||"\r"===s;if(l||(i=t?i:o,t+=s),t&&(l||o===e.length-1)){if(t.length<16){t="",i=0;continue}e:for(;t;){var u=!0,c=!1,d=void 0;try{for(var f,p=a[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value,m=!0,v=!1,g=void 0;try{for(var b,y=Object.entries(h)[Symbol.iterator]();!(m=(b=y.next()).done);m=!0){var w=(0,r._)(b.value,2),_=w[0],S=w[1];S.lastIndex=0;var A=S.exec(t);if(A){var k=A[0].length,C=A.index,Y=C+k;null!=n||(n=[]),n.push({start:i+C,end:i+Y,secret:A[0],provider:_}),t=t.slice(k),i+=k;continue e}}}catch(e){v=!0,g=e}finally{try{m||null==y.return||y.return()}finally{if(v)throw g}}}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}t="",i=0}}}return n}},43120:(e,n,t)=>{"use strict";t.d(n,{A:()=>u});var r=t(59270),a=t(95793),i=t(30764),o=new Map,s=function(e,n){if((0,r.m6)(e)){var t=window.performance.now();o.set(e,{start:t,source:n})}},l=function(e){var n=o.get(e);if(void 0!==n){var t=n.start,r=n.source,s=window.performance.now(),l=(0,i.v)(e);a.vF.time("time to load file",s-t,{from:r,fileViewerType:l}),o.delete(e)}};function u(e){return{trackTimeToLoadFileStart:function(n){return s(n,e)},trackTimeToLoadFileEnd:l}}},43168:(e,n,t)=>{"use strict";t.d(n,{o:()=>u});var r=t(29935),a=t(82643),i=t(21462),o=t(33868),s=t(40115),l=t(41426);function u(){var e=(0,s.A)().fs;return(0,i.useCallback)(function(n){var t=n.files,i=n.onError;return(0,r._)(function(){return(0,a.YH)(this,function(n){switch(n.label){case 0:return[4,(0,o.Zn)({parentPath:l.Ls,files:t,fs:e,overwrite:!0,onError:function(e){return i(e.error)}})];case 1:return n.sent(),[2]}})})()},[e])}},43290:(e,n,t)=>{"use strict";t.d(n,{Z:()=>f});var r=t(21462),a=t(90629),i=t(79203),o=t(30284),s=t(86103),l=t(35897),u=t(34778),c=t(68689),d=t(33369);function f(e){var n=e.context,t=(0,l.A)().showError,f=(0,i.md)(c.Bx),p=(0,i.md)(c.PG),h=(0,i.md)(c.AW),m=(0,i.Xr)(c.ki),v=(0,i.md)(c.f5),g=(0,i.md)(c.fI),b=(0,i.Xr)(c.gN),y=(0,s._P)({type:"string",controlName:"flag-cartographer-edits-version",default:"0.2.0"}),w=!!(null==h?void 0:h.includes("standalone")),_=!!(h&&h.localeCompare(y,void 0,{numeric:!0})>-1),S=!w&&_&&"agent"===n,A=(0,r.useCallback)(function(){try{b(),(0,d.vB)()}catch(e){t("Failed to clear visual selection"),a.Cp(e)}},[t,b]),k=(0,r.useCallback)(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.isEditingEnabled,s=r.shouldClearSelection;try{if(!p){e&&t("Error loading visual selector");return}(void 0===s||s)&&A(),(0,d.J8)(e,S&&(void 0===i||i)),e&&(0,u.u4)(o.AZ.VISUAL_SELECTOR,{action:"enabled",context:n})}catch(e){t("Failed to enable visual selector"),a.Cp(e)}},[S,p,t,A,n]);return{isActive:f,isSelectorScriptLoaded:p,isEditingSupported:S,element:v,setElement:m,screenshotBlob:g,setVisualSelectorEnabled:k,clearSelection:A}}},43517:(e,n,t)=>{"use strict";t.d(n,{P:()=>r});var r=function(e){return e.CommandBar="commandbar",e.FiletreeContextMenu="filetree-context-menu",e.SidebarSearch="sidebar-search",e.EditorContextMenu="editor-context-menu",e}({})},43585:(e,n,t)=>{"use strict";t.d(n,{A:()=>l});var r=t(17844),a=t(93629),i=t(34837),o=t(39534),s=t(25590);function l(e){return(0,i.FD)(s.Ay,(0,a._)((0,r._)({},e),{children:[(0,i.FD)("g",{clipPath:"url(#clip0_7329_267)",children:[(0,i.Y)("path",{fill:o.LU.tealDefault,d:"M7.714 0a3.429 3.429 0 0 1 3.429 3.429v.026a5.143 5.143 0 0 0 5.137 5.116h.006a3.429 3.429 0 0 1 0 6.858 5.143 5.143 0 0 0-5.143 5.142 3.429 3.429 0 1 1-3.429-3.428h.007a5.143 5.143 0 0 0-.007-10.286 3.429 3.429 0 0 1 0-6.857Z"}),(0,i.Y)("path",{fill:o.LU.tealStronger,d:"M11.143 12a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"}),(0,i.Y)("path",{fill:"url(#paint0_radial_7329_267)",d:"M7.714 0a3.429 3.429 0 0 1 3.429 3.429v.026a5.143 5.143 0 0 0 5.137 5.116h.006a3.429 3.429 0 0 1 0 6.858 5.143 5.143 0 0 0-5.143 5.142 3.429 3.429 0 1 1-3.429-3.428h.007a5.143 5.143 0 0 0-.007-10.286 3.429 3.429 0 0 1 0-6.857Z",opacity:".5"}),(0,i.Y)("path",{fill:"url(#paint1_radial_7329_267)",d:"M7.714 8.571a3.429 3.429 0 1 1 0 6.858 3.429 3.429 0 0 1 0-6.858Z",opacity:".5"})]}),(0,i.FD)("defs",{children:[(0,i.FD)("radialGradient",{id:"paint0_radial_7329_267",cx:"0",cy:"0",r:"1",gradientTransform:"rotate(44.479 -2.762 5.679)scale(29.1694)",gradientUnits:"userSpaceOnUse",children:[(0,i.Y)("stop",{stopColor:"#fff",stopOpacity:".79"}),(0,i.Y)("stop",{offset:"1"})]}),(0,i.FD)("radialGradient",{id:"paint1_radial_7329_267",cx:"0",cy:"0",r:"1",gradientTransform:"rotate(44.479 -2.763 5.679)scale(29.1694)",gradientUnits:"userSpaceOnUse",children:[(0,i.Y)("stop",{stopColor:"#fff",stopOpacity:".79"}),(0,i.Y)("stop",{offset:"1"})]}),(0,i.Y)("clipPath",{id:"clip0_7329_267",children:(0,i.Y)("path",{fill:"#fff",d:"M0 .274C0 .123.123 0 .274 0h23.452c.151 0 .274.123.274.274v23.452a.274.274 0 0 1-.274.274H.274A.274.274 0 0 1 0 23.726V.274Z"})})]})]}))}},43659:e=>{e.exports={root:"AutoscrollMaxHeightContainer_root__UwgeC",scroll:"AutoscrollMaxHeightContainer_scroll__FNm9z",topGradient:"AutoscrollMaxHeightContainer_topGradient__WbgIE"}},43722:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(12694),a=t(21462),i=t(40115);function o(){var e=(0,i.A)().presence,n=(0,r._)((0,a.useState)(e.getFollowedUser()),2),t=n[0],o=n[1];return(0,a.useEffect)(function(){return o(e.getFollowedUser()),e.onFollowedUserChanged(o)},[e]),t}},43933:(e,n,t)=>{"use strict";t.d(n,{F:()=>o});var r=t(48373),a=t(55157),i=t(70552);function o(){var e,n=(0,i.Av)(),t=null!=(e=(0,r.A)(n))&&e,o=(0,a.L)();return t&&!o}},44007:(e,n,t)=>{"use strict";t.d(n,{q:()=>em});var r=t(17844),a=t(93629),i=t(12694),o=t(21462),s=t(57010),l=t(87380),u=t(78725),c=t(29935),d=t(82643),f=t(7659);function p(e){return(0,c._)(function(e){var n,t;return(0,d.YH)(this,function(r){return n=e.container,t=e.service,[2,new Promise(function(e){var r=n.openChannel({service:t},function(n){return e([n.channel,r]),r})})]})}).apply(this,arguments)}var h=function(e){return e.OUTPUT="OUTPUT",e.ERROR="ERROR",e.STATE_CHANGED="STATE_CHANGED",e.CHANNEL_OPENED="CHANNEL_OPENED",e}({}),m=t(90629),v=t(73920),g=t(30284),b=t(92972),y=function(e){return e.OUTPUT="OUTPUT",e.ERROR="ERROR",e.STATE_CHANGED="STATE_CHANGED",e.CHANNEL_OPENED="CHANNEL_OPENED",e}({}),w=t(80366),_=t(47112),S=t(45834),A=t(34778),k=t(71696),C=t(53178),Y=t(6705),E=t(86105),x=t(23099),T=t.n(x),D=t(63806),I=t(95793),R=t(87145),N=t(17459),O=t(22531),P=t(55301),F=t.n(P),U=t(14603),L=t(2916),M=t(81943),J=t(41768),H=t(45692),B=function(e){var n=e.configurationSupport;return{textDocument:{synchronization:{dynamicRegistration:!0,didSave:!0},signatureHelp:{dynamicRegistration:!0,signatureInformation:{documentationFormat:["markdown","plaintext"]}},publishDiagnostics:{relatedInformation:!0,tagSupport:{valueSet:[1,2]}},formatting:{dynamicRegistration:!0},documentSymbol:{dynamicRegistration:!0,hierarchicalDocumentSymbolSupport:!0,symbolKind:{valueSet:H.A}},semanticTokens:{dynamicRegistration:!0,requests:{range:!0,full:{delta:!0}},tokenTypes:J.aK,tokenModifiers:J.md,formats:[M.TokenFormat.Relative],overlappingTokenSupport:!0,multilineTokenSupport:!0,serverCancelSupport:!0,augmentsSyntaxTokens:!0},definition:{dynamicRegistration:!0,linkSupport:!0},typeDefinition:{dynamicRegistration:!0},implementation:{dynamicRegistration:!0},references:{dynamicRegistration:!0},rename:{dynamicRegistration:!0,prepareSupport:!0},completion:{dynamicRegistration:!0,contextSupport:!0,completionItem:{commitCharactersSupport:!0,documentationFormat:["markdown","plaintext"],labelDetailsSupport:!0,resolveSupport:{properties:["detail","documentation"]},snippetSupport:!0},completionList:{itemDefaults:["commitCharacters"]}},codeAction:{resolveSupport:{properties:["edit"]},dataSupport:!0,dynamicRegistration:!0,isPreferredSupport:!0,codeActionLiteralSupport:{codeActionKind:{valueSet:Object.values(M.CodeActionKind)}}},hover:{dynamicRegistration:!0,contentFormat:["markdown","plaintext"]}},workspace:{applyEdit:!0,didChangeConfiguration:n.clientToServer||n.serverToClient?{dynamicRegistration:!0}:void 0,configuration:n.serverToClient,semanticTokens:{refreshSupport:!0},executeCommand:{dynamicRegistration:!0},workspaceEdit:{documentChanges:!0,resourceOperations:[M.ResourceOperationKind.Create,M.ResourceOperationKind.Delete,M.ResourceOperationKind.Rename]}}}},V=t(37743),$=t(53847),G=t(60594).Buffer,z=new TextEncoder,W=new TextDecoder,j=function(){var e=/[a-z\d_-]+: [a-z\d_ :;.,/"'?!(){}[\]@<>=+*#$&`|~^%-]+/.source;return RegExp("(".concat(e,"\\r\\n)*(").concat(e,")$"),"i")}(),q=function(){function e(n){(0,V._)(this,e),this.onMessage=n,this.buffer=new Uint8Array,this.read=this.read.bind(this)}var n=e.prototype;return n.consumeHeaders=function(){var e=function(e){var n=e.findIndex(function(n,t){return 13===n&&10===e[t+1]&&13===e[t+2]&&10===e[t+3]});if(-1!==n){var t=W.decode(e.slice(0,n)),r=t.match(j);if(!r)throw I.vF.error("Failed to parse LSP header, no matches",{fragment:t}),Error("Unable to match header, text: ".concat(t));var a=Object.create(null),i=r[0].split("\r\n"),o=!0,s=!1,l=void 0;try{for(var u,c=i[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value,f=d.indexOf(":");if(-1===f)throw I.vF.error("Failed to parse LSP header, missing colon",{fragment:t}),Error('Message header must separate key and value using ":"');var p=d.substr(0,f),h=d.substr(f+1).trim();if("Content-Length"===p){var m=parseInt(h,10);if(isNaN(m))throw I.vF.error("Failed to parse LSP header, NaN content length",{fragment:t}),Error("Content-Length value must be a number.");a[p]=parseInt(h,10)}else a[p]=h}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}if(null==a["Content-Length"])throw I.vF.error("Failed to parse LSP header, no Content-Length",{fragment:t}),Error("Header must provide a Content-Length property.");return{headerLength:n,value:a}}}(this.buffer);if(e)return this.buffer=this.buffer.slice(e.headerLength+4),e},n.read=function(e){for(this.buffer=(n=this.buffer,t=z.encode(e),(r=new Uint8Array(n.length+t.length)).set(n),r.set(t,n.length),r);null!=(a=this.headers)?a:this.headers=this.consumeHeaders();){var n,t,r,a,i=this.headers.value["Content-Length"];if(this.buffer.length<i)return;var o=function(e,n,t){var r=W.decode(e.slice(0,n));try{return{json:JSON.parse(r),buffer:e.slice(n)}}catch(l){var a=G.from(e).toString();if((0,$._)(l,SyntaxError)&&"Unexpected end of JSON input"===l.message){I.vF.info("Failed to parse LSP message, falling back to json parsing",{buffer:a,length:n,rpcContent:r,attempt:"original-length",headers:JSON.stringify(t)});var i=function(e,n){for(var t=0,r=0,a=!1,i=0;i<e.length+1;i++){if(0!==i&&!t&&!r&&!a)return i;var o=e[i];switch(o){case 92:i++;continue;case 34:a=!a;continue}if(!a)switch(o){case 123:t++;break;case 125:t--;break;case 91:r++;break;case 93:r--}}return -1}(e,0);if(-1!==i){var o=e.slice(0,i),s=W.decode(o);try{return{json:JSON.parse(s),buffer:e.slice(i)}}catch(e){I.vF.error("Failed to parse LSP message",{givenError:e,buffer:a,length:n,rpcContent:r,attempt:"recomputed-length"})}}}else I.vF.error("Failed to parse LSP message",{givenError:l,buffer:a,length:n,rpcContent:r,attempt:"content-length"});return{json:void 0,buffer:e.slice(n)}}}(this.buffer,i,this.headers),s=o.json,l=o.buffer;if(this.headers=void 0,this.buffer=l,void 0!==s)try{this.onMessage(s)}catch(e){m.Cp(e)}}},e}(),Z=function(){function e(){(0,V._)(this,e)}var n=e.prototype;return n.supports=function(e){return e.includes("css-language-server")},n.onResponse=function(e,n){return"textDocument/hover"===e?this.onHover(n):n},n.onHover=function(e){if("error"in e)return e;var n=e.result;return"cancelled"in e&&!1!==e.cancelled||!n?e:(Array.isArray(n.contents)&&(n.contents={kind:"markdown",value:["```html",n.contents[0],"```",n.contents[1],""].join("\n")}),(0,a._)((0,r._)({},e),{result:n}))},e}(),K=function(){function e(){(0,V._)(this,e)}var n=e.prototype;return n.supports=function(e){return"module:dotnet-7.0/languageServer:omni-sharp"===e},n.onResponse=function(e,n){switch(e){case"textDocument/codeAction":return this.onCodeAction(n);case"textDocument/completion":return this.onCompletion(n)}return n},n.onCodeAction=function(e){return"error"in e&&-32801===e.error.code?{cancelled:!0,result:null}:e},n.onCompletion=function(e){return"error"in e&&-32801===e.error.code?{cancelled:!0,result:null}:e},e}(),Q=[new(function(){function e(){(0,V._)(this,e)}var n=e.prototype;return n.supports=function(e){return e.includes("typescript-language-server")},n.onResponse=function(e,n){return"textDocument/completion"===e?this.onCompletion(n):n},n.onCompletion=function(e){if("error"in e||"cancelled"in e&&!1!==e.cancelled)return e;var n=e.result;if(!n)return e;Array.isArray(n)&&(n={isIncomplete:!1,items:n});for(var t=0;t<n.items.length;t++){var i=n.items[t];i.sortText&&i.sortText.startsWith("￿")&&(i.sortText=i.sortText.replace("￿",""))}return(0,a._)((0,r._)({},e),{result:n})},e}()),new Z,new K],X=function(){function e(){(0,V._)(this,e)}var n=e.prototype;return n.supports=function(){return!0},n.onResponse=function(e,n){return n},e}(),ee=t(71353),en=t(60594).Buffer;function et(e,n){var t,r;return null!=(r=null==(t=D.Jh.from(e))?void 0:t.id)?r:n}var er=function(e){return e.INITIALIZED="INITIALIZED",e.READY="READY",e.DIAGNOSTICS="DIAGNOSTICS",e.SERVER_STATE_CHANGE="SERVER_STATE_CHANGE",e.SERVER_HEALTH_CHANGE="SERVER_HEALTH_CHANGE",e.SERVER_CAPABILITIES_CHANGE="SERVER_CAPABILITIES_CHANGE",e.REQUEST="REQUEST",e.RESPONSE="RESPONSE",e.CANCEL_REQUEST="CANCEL_REQUEST",e.SEND_NOTIFICATION="SEND_NOTIFICATION",e.RECEIVE_NOTIFICATION="RECEIVE_NOTIFICATION",e.SEMANTIC_TOKENS_REFRESH="SEMANTIC_TOKENS_REFRESH",e}(er||{});function ea(){return Math.floor(0x7fffffff*Math.random())}function ei(e){var n=JSON.stringify((0,a._)((0,r._)({},e),{jsonrpc:"2.0"})),t=en.byteLength(n,"utf8");return"Content-Length: ".concat(t,"\r\n\r\n").concat(n)}function eo(e,n){var t,r,a,i,o,s;return n&&n?!!T()(null==e?void 0:e.fileTypeAttrs,n.fileTypeAttrs)&&!!T()(null==e||null==(t=e.config)?void 0:t.startCommand,null==(r=n.config)?void 0:r.startCommand)&&!!T()(null==e||null==(a=e.config)?void 0:a.initializationOptionsJson,null==(i=n.config)?void 0:i.initializationOptionsJson)&&!!T()(null==e||null==(o=e.config)?void 0:o.configurationJson,null==(s=n.config)?void 0:s.configurationJson):!!n==!!n}var es=t(84383),el=t(59270),eu=function(e){return e.USER_JOIN="USER_JOIN",e.USER_LEAVE="USER_LEAVE",e.USERS_UPDATE="USERS_UPDATE",e.USER_OPENED_FILE="USER_OPENED_FILE",e.FOLLOWED_USER_CHANGED="FOLLOWED_USER_CHANGED",e.FOLLOWING_USERS_CHANGED="FOLLOWING_USERS_CHANGED",e}({}),ec=t(83215),ed=t(47727),ef=t(32978),ep=t(83846),eh=t(95751);function em(e){var n=(0,i._)((0,o.useState)(null),2),t=n[0],x=n[1];return(0,o.useEffect)(function(){var n,t,o,P,M,J,H,V,$,G,z,W,j,Z,K,en,er,em,ev,eg,eb,ey,ew,e_,eS,eA=function(e){var n=s._.active();if(e.openTelemetryTracing)return(0,l.Ux)(n,"workspace.useCreateServices")}(e),ek=(t=(n=(0,a._)((0,r._)({},e),{ctx:null==eA?void 0:eA.childCtx})).onUnrecoverableError,o=n.openMultipleFiles,P=n.openMultipleURLs,M=n.enableMultipleLSPClientsPerFile,J=n.enableReplspaceSshTokenPassthrough,H=n.onPresenceCommand,V=n.getColorForUser,$=n.openTelemetryTracing,G=n.ctx,z=(0,k.Ay)({onUnrecoverableError:t,ctx:G}),W=(0,C.A)({container:z}),j=function(e){var n=e.container,t=e.onCommand,r=e.getColorForUser,a=(0,f.Ay)();a.setMaxListeners(1/0);var i=[],o=null,s=[],l={},u=null;function p(){return(0,c._)(function(){return(0,d.YH)(this,function(e){return u?[2,u]:[2,new Promise(function(e){a.once(eu.USERS_UPDATE,function(){if(!u)throw Error("Expected presenceChannel to be set");e(u)})})]})})()}function h(e){T()(o,e)||(o=e,a.emit(eu.FOLLOWED_USER_CHANGED,e))}function m(){return(0,c._)(function(){var e,n;return(0,d.YH)(this,function(t){switch(t.label){case 0:if(!o)throw Error("No user to unfollow");return e=o,h(null),[4,p()];case 1:return n=t.sent(),e.sessions.forEach(function(e){n.send({unfollowUser:{session:e.id}})}),[2]}})})()}return n.openChannel({service:"presence",name:"presencer"},function(e){var n=e.channel;return n.onCommand(function(e){null==t||t(e);var n={cmd:e,emitter:a,activeUsers:i,userIdToFile:l,followedUser:o,setFollowedUser:h,followingUsers:s,getColorForUser:r};switch(e.body){case"roster":!function(e){var n=e.cmd,t=e.emitter,r=e.activeUsers,a=e.userIdToFile,i=e.followedUser,o=e.followingUsers,s=e.setFollowedUser,l=e.getColorForUser,u=n.roster;if(u){var c=u.user,d=u.files;if(c&&d){var f=new Set;if(r.splice(0,r.length),c.forEach(function(e){if(e.id&&e.name&&e.roles&&!f.has(e.id)){var n=d.filter(function(n){return n.userId===e.id}).map(function(e){if(!e.session||!e.timestamp)throw Error("Expected session and associated with user");return{id:e.session,activeFile:e.file||null,timestamp:(0,ec.iY)(e.timestamp)}}),t=null==l?void 0:l({userId:e.id});r.push({id:e.id,username:e.name,roles:e.roles,color:null!=t?t:(0,ec.a4)(r),sessions:n}),f.add(e.id)}}),r.forEach(function(e){a[e.id]=(0,ec.Ni)(e)}),t.emit(eu.USERS_UPDATE,(0,E._)(r)),o.filter(function(e){return!r.some(function(n){return n.id===e.id})}).forEach(function(e){var n=o.indexOf(e);-1!==n&&(o.splice(n,1),t.emit(eu.FOLLOWING_USERS_CHANGED,{followingUsers:(0,E._)(o),user:e,type:"unfollow"}))}),i){if(!r.some(function(e){return e.id===i.id}))return s(null);var p=a[i.id];t.emit(eu.USER_OPENED_FILE,{user:i,file:p})}}}}(n);break;case"join":!function(e){var n=e.cmd,t=e.emitter,r=e.activeUsers,a=e.userIdToFile,i=e.getColorForUser,o=n.join;if(o.id&&o.name&&o.roles&&o.session){var s=r.find(function(e){return e.id===o.id}),l=Math.floor(Date.now()/1e3),u=v.google.protobuf.Timestamp.create({seconds:l}),c=(0,ec.iY)(u);if(s)s.sessions.push({id:o.session,activeFile:null,timestamp:c});else{var d=null==i?void 0:i({userId:o.id}),f={id:o.id,username:o.name,roles:o.roles,color:null!=d?d:(0,ec.a4)(r),sessions:[{id:o.session,activeFile:null,timestamp:c}]};a[o.id]=null,r.push(f),t.emit(eu.USER_JOIN,f),t.emit(eu.USERS_UPDATE,(0,E._)(r))}}}(n);break;case"part":!function(e){var n=e.cmd,t=e.emitter,r=e.activeUsers,a=e.userIdToFile,i=e.followedUser,o=e.followingUsers,s=e.setFollowedUser;if(n.part&&n.part.id&&n.part.session){var l=n.part,u=l.id,c=l.session,d=r.findIndex(function(e){return e.id===u}),f=r[d];if(1===f.sessions.length){r.splice(d,1),delete a[f.id],t.emit(eu.USER_LEAVE,f),t.emit(eu.USERS_UPDATE,(0,E._)(r)),i&&s(null);var p=o.findIndex(function(e){return e.id===f.id});-1!==p&&(o.splice(p,1),t.emit(eu.FOLLOWING_USERS_CHANGED,{followingUsers:(0,E._)(o),user:f,type:"unfollow"}))}else{f.sessions=f.sessions.filter(function(e){return e.id!==c});var h=(0,ec.Ni)(f);a[f.id]!==h&&(a[f.id]=h,t.emit(eu.USER_OPENED_FILE,{user:f,file:h}))}}}(n);break;case"fileOpened":!function(e){var n=e.emitter,t=e.cmd,r=e.activeUsers,a=e.userIdToFile;if(t.fileOpened){var i=t.fileOpened,o=i.userId,s=i.file,l=i.timestamp,u=i.session,c=s||null;if(!o||!l)throw Error("Expected userId and timestamp associated with file opened command");var d=r.find(function(e){return e.id===o});if(!d)throw Error("Expected user with ID ".concat(o));var f=d.sessions.find(function(e){return e.id===u});if(!f)throw Error("Expected session with ID ".concat(f));f.activeFile=c,f.timestamp=(0,ec.iY)(l),a[o]=c,n.emit(eu.USER_OPENED_FILE,{user:d,file:c})}}(n);break;case"followUser":!function(e){var n=e.cmd,t=e.emitter,r=e.activeUsers,a=e.followingUsers,i=n.followUser;if(!i.session)throw Error("Expected session associated with follow user");var o=i.session,s=(0,ec.fp)(o,r);a.some(function(e){return e.id===s.id})||(a.push(s),t.emit(eu.FOLLOWING_USERS_CHANGED,{followingUsers:(0,E._)(a),user:s,type:"follow"}))}(n);break;case"unfollowUser":!function(e){var n=e.cmd,t=e.emitter,r=e.activeUsers,a=e.followingUsers,i=n.unfollowUser;if(!i.session)throw Error("Expected session associated with follow user");var o=i.session,s=(0,ec.fp)(o,r),l=a.findIndex(function(e){return e.id===s.id});-1!==l&&(a.splice(l,1),t.emit(eu.FOLLOWING_USERS_CHANGED,{followingUsers:(0,E._)(a),user:s,type:"unfollow"}))}(n);break;case"sessionTimestampUpdated":!function(e){var n=e.cmd,t=e.emitter,r=e.activeUsers,a=e.userIdToFile,i=n.sessionTimestampUpdated;if(!i.session||!i.timestamp)throw Error("Expected session and tiemstamp associated with update");var o=i.session,s=(0,ec.fp)(o,r),l=a[s.id],u=s.sessions.find(function(e){return e.id===o});if(!u)throw Error("Expected user ".concat(s.id," to have a session with ID ").concat(o));u.timestamp=(0,ec.iY)(i.timestamp);var c=u.activeFile;c!==l&&(a[s.id]=c,t.emit(eu.USER_OPENED_FILE,{user:s,file:c}))}(n)}}),u=n,function(){u=null}}),{onUserLeave:function(e){return a.on(eu.USER_LEAVE,e),function(){a.removeListener(eu.USER_LEAVE,e)}},onUserJoin:function(e){return a.on(eu.USER_JOIN,e),function(){a.removeListener(eu.USER_LEAVE,e)}},onActiveUsersChange:function(e){return a.on(eu.USERS_UPDATE,e),function(){a.removeListener(eu.USERS_UPDATE,e)}},onUserOpenedFile:function(e){return a.on(eu.USER_OPENED_FILE,e),function(){a.removeListener(eu.USER_OPENED_FILE,e)}},onFollowedUserChanged:function(e){return a.on(eu.FOLLOWED_USER_CHANGED,e),function(){a.removeListener(eu.FOLLOWED_USER_CHANGED,e)}},onFollowingUsersChanged:function(e){return a.on(eu.FOLLOWING_USERS_CHANGED,e),function(){a.removeListener(eu.FOLLOWING_USERS_CHANGED,e)}},getActiveFileForUser:function(e){var n=l[e];if(void 0===n)throw Error("Expected file for user with ID ".concat(e," to be defined"));return n},updateOpenFile:function(e){return(0,c._)(function(){return(0,d.YH)(this,function(n){switch(n.label){case 0:return[4,p()];case 1:return n.sent().send({openFile:{file:e}}),[2]}})})()},updateSessionTimestamp:function(){return(0,c._)(function(){return(0,d.YH)(this,function(e){switch(e.label){case 0:return[4,p()];case 1:return e.sent().send({updateSessionTimestamp:{}}),[2]}})})()},followUser:function(e){return(0,c._)(function(){var n,t;return(0,d.YH)(this,function(r){switch(r.label){case 0:if((null==o?void 0:o.username)===e)throw Error("Already following user with username ".concat(e));if(!o)return[3,2];return[4,m()];case 1:r.sent(),r.label=2;case 2:return[4,p()];case 3:if(n=r.sent(),!(t=i.find(function(n){return n.username===e})))return[2];return h(t),t.sessions.forEach(function(e){n.send({followUser:{session:e.id}})}),[2]}})})()},unfollowUser:m,getActiveUsers:function(){return i},getFollowedUser:function(){return o},getFollowingUsers:function(){return s},getUserIdToFile:function(){return l},getPathToUserIds:function(){var e=new Map;return i.forEach(function(n){var t=n.id,r=l[t];r&&function n(t,r){if(""!==t){e.has(t)||e.set(t,[]);var a,i=e.get(t);if(!i)throw Error("Expected user Ids");i.some(function(e){return e===r})||(null==(a=e.get(t))||a.push(r),n((0,el._6)(t),r))}}(r,t)}),e}}}({container:z,onCommand:H,getColorForUser:V}),Z=(0,u.A)({container:z,fs:W,ctx:G}),K=function(e){var n=e.container,t=(0,f.Ay)(),a=null;function o(){return(0,c._)(function(){return(0,d.YH)(this,function(e){return a&&"open"===a.status?[2,a]:[2,new Promise(function(e){t.once(h.CHANNEL_OPENED,function(n){e(n)})})]})})()}function s(){return(0,c._)(function(){return(0,d.YH)(this,function(e){return[2,p({container:n,service:"nix"})]})})()}return n.openChannel({service:"nix"},function(e){var n=e.channel;return a=n,t.emit(h.CHANNEL_OPENED,n),function(){a=null}}),{searchPackages:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c._)(function(){var t,a,o,l;return(0,d.YH)(this,function(u){switch(u.label){case 0:return[4,s()];case 1:return a=(t=i._.apply(void 0,[u.sent(),2]))[0],o=t[1],[4,a.request({nixPackageSearchRequest:(0,r._)({query:e},n)})];case 2:if((l=u.sent()).channelClosed)return[2,{error:"Channel closed",packages:null}];if(o(),l.error)return[2,{error:l.error,packages:null}];if(!l.nixPackageSearchResponse)return[2,{error:"Response expected but none received",packages:null}];return[2,{packages:l.nixPackageSearchResponse.packages,error:null}]}})})()},listPackages:function(){return(0,c._)(function(){var e,n,t,r;return(0,d.YH)(this,function(a){switch(a.label){case 0:return[4,s()];case 1:return n=(e=i._.apply(void 0,[a.sent(),2]))[0],t=e[1],[4,n.request({nixPackageListRequest:{}})];case 2:if((r=a.sent()).channelClosed)return[2,{error:"Channel closed",packages:null}];if(t(),r.error)return[2,{error:r.error,packages:null}];if(!r.nixPackageListResponse)return[2,{error:"Response expected but none received",packages:null}];return[2,{packages:r.nixPackageListResponse.packages,error:null}]}})})()},getChannels:function(){return(0,c._)(function(){var e,n,t,r;return(0,d.YH)(this,function(a){switch(a.label){case 0:return[4,s()];case 1:return n=(e=i._.apply(void 0,[a.sent(),2]))[0],t=e[1],[4,n.request({nixChannelsRequest:{}})];case 2:if((r=a.sent()).channelClosed)return[2,{error:"Channel closed",channels:null}];if(t(),r.error)return[2,{error:r.error,channels:null}];if(!r.nixChannelsResponse)return[2,{error:"Response expected but none received",channels:null}];return[2,{channels:r.nixChannelsResponse.channels,error:null}]}})})()},getLatestStableChannel:function(){return(0,c._)(function(){var e,n,t,r;return(0,d.YH)(this,function(a){switch(a.label){case 0:return[4,s()];case 1:return n=(e=i._.apply(void 0,[a.sent(),2]))[0],t=e[1],[4,n.request({nixChannelLatestStableRequest:{}})];case 2:if((r=a.sent()).channelClosed)return[2,{error:"Channel closed",channel:null}];if(t(),r.error)return[2,{error:r.error,channel:null}];if(!r.nixChannelLatestStableResponse)return[2,{error:"Response expected but none received",channel:null}];return[2,{channel:r.nixChannelLatestStableResponse.channel,error:null}]}})})()},addPackages:function(e){return(0,c._)(function(){var n;return(0,d.YH)(this,function(t){switch(t.label){case 0:return[4,o()];case 1:return[4,t.sent().request({nixPackageAddRequest:{packages:e}})];case 2:if((n=t.sent()).channelClosed)return[2,"channel closed"];if(n.error)return[2,n.error];if(!n.nixPackageAddResponse)return[2,"response expected but non received"];return[2,null]}})})()},removePackages:function(e){return(0,c._)(function(){var n;return(0,d.YH)(this,function(t){switch(t.label){case 0:return[4,o()];case 1:return[4,t.sent().request({nixPackageRemoveRequest:{packages:e}})];case 2:if((n=t.sent()).channelClosed)return[2,"channel closed"];if(n.error)return[2,n.error];if(!n.nixPackageRemoveResponse)return[2,"response expected but non received"];return[2,null]}})})()},packageInfo:function(e){return(0,c._)(function(){var n;return(0,d.YH)(this,function(t){switch(t.label){case 0:return[4,o()];case 1:return[4,t.sent().request({nixPackageInfoRequest:{name:e}})];case 2:if((n=t.sent()).channelClosed)return[2,{package:null,error:"channel closed"}];if(n.error)return[2,{package:null,error:n.error}];if(!n.nixPackageInfoResponse)return[2,{package:null,error:"response expected but non received"}];if(!n.nixPackageInfoResponse.package)return[2,{package:null,error:"package not found"}];return[2,{package:n.nixPackageInfoResponse.package,error:null}]}})})()}}}({container:z}),en=(0,S.A)({container:z,dotReplit:Z}),er=function(e){var n=e.container,t=e.forceTrace,r=e.track,a=(0,f.Ay)(),o=new Map;function s(e){var n=o.get(e);return n||(n={packagerChannel:null,didCallOpenChannel:!1,closeChannel:null},o.set(e,n)),n}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,c._)(function(){var r,a,o;return(0,d.YH)(this,function(s){switch(s.label){case 0:return[4,p({container:n,service:"packager3"})];case 1:if(a=(r=i._.apply(void 0,[s.sent(),2]))[0],o=r[1],!e)return[3,3];return[4,a.request({packageSetPackagerRequest:{packagerId:e}})];case 2:s.sent(),s.label=3;case 3:if("open"!==a.status){if(t>5)throw Error("Failed to getAnonymousPackagerChannel");return[2,u(e,t+1)]}return[2,[a,o]]}})})()}function h(e){return(0,c._)(function(){var t;return(0,d.YH)(this,function(r){return((t=s(e)).didCallOpenChannel||function(e){var t=s(e);if(t.didCallOpenChannel)throw Error("Already called open channel");t.didCallOpenChannel=!0,t.closeChannel=n.openChannel({service:"packager3",name:e||"packager",action:v.api.OpenChannel.Action.ATTACH_OR_CREATE},function(n){var r=n.channel;return r.onCommand(function(n){if(null!=n.state){var t=n.state===v.api.State.Running;a.emit(y.STATE_CHANGED,t,e)}else null!=n.output?a.emit(y.OUTPUT,n.output,e):null!=n.error&&a.emit(y.ERROR,n.error,e)}),e?r.request({packageSetPackagerRequest:{packagerId:e}}).then(function(){t.packagerChannel=r,a.emit(y.CHANNEL_OPENED,r,e)}):(t.packagerChannel=r,a.emit(y.CHANNEL_OPENED,r,e)),function(){t.packagerChannel=null}})}(e),t.packagerChannel&&"open"===t.packagerChannel.status)?[2,t.packagerChannel]:[2,new Promise(function(n){a.once(y.CHANNEL_OPENED,function(t,r){r===e&&n(t)})})]})})()}return{addPackages:function(e,n){return(0,c._)(function(){var t,a,i,o;return(0,d.YH)(this,function(s){switch(s.label){case 0:return[4,h(n)];case 1:if("open"!==(a=s.sent()).status)return[2,!1];return i=e.map(function(e){return{name:e.name,spec:e.version}}),[4,a.request({packageAdd:{pkgs:i,useNewResponse:!0}})];case 2:if((o=s.sent()).channelClosed||o.error)return[2,!1];return(null==(t=o.packageAddResponse)?void 0:t.installedSystemDependencies)&&r&&r(g.AZ.PACKAGER_INSTALLED_SYSTEM_DEPENDENCIES,{packagerId:n}),[2,!0]}})})()},removePackages:function(e,n){return(0,c._)(function(){var t,r,a;return(0,d.YH)(this,function(i){switch(i.label){case 0:return[4,h(n)];case 1:if("open"!==(t=i.sent()).status)return[2,!1];return r=e.map(function(e){return{name:e}}),[4,t.request({packageRemove:{pkgs:r}})];case 2:if((a=i.sent()).channelClosed)return[2,!1];return[2,!!a.ok]}})})()},searchPackages:function(e,n){return(0,c._)(function(){var t,r,a,o;return(0,d.YH)(this,function(s){switch(s.label){case 0:return[4,u(n)];case 1:return r=(t=i._.apply(void 0,[s.sent(),2]))[0],a=t[1],[4,r.request({packageSearch:{query:e}})];case 2:if((o=s.sent()).channelClosed)return[2,[]];if(a(),"packageSearchResp"===o.body&&o.packageSearchResp)return[2,o.packageSearchResp.results||[]];return m.Cp(Error("Unknown packager3 command ".concat(o.body,". ")+"Expected packageSearchResp. Received error: ".concat(o.error))),[2,[]]}})})()},fetchPackageInfo:function(e,n){return(0,c._)(function(){var t,r,a,o;return(0,d.YH)(this,function(s){switch(s.label){case 0:return[4,u(n)];case 1:return r=(t=i._.apply(void 0,[s.sent(),2]))[0],a=t[1],[4,r.request({packageInfo:{pkg:{name:e}}})];case 2:if((o=s.sent()).channelClosed)return[2,void 0];if(a(),"packageInfoResp"===o.body&&o.packageInfoResp)return[2,o.packageInfoResp.pkg||void 0];return m.Cp(Error("Unknown packager3 command ".concat(o.body,". ")+"Expected packageInfoResp. Received error: ".concat(o.error))),[2,void 0]}})})()},installPackages:function(e,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,c._)(function(){return(0,d.YH)(this,function(i){return[2,(0,l.ce)(e,"packager.installPackages",function(e){return(0,c._)(function(){var i,o,s;return(0,d.YH)(this,function(u){switch(u.label){case 0:return[4,h(n)];case 1:if("open"!==(i=u.sent()).status)return[2,(0,b._)("ChannelClosed")];return[4,i.request({packageInstall:{useNewResponse:!0,disableGuess:a},traceInfo:(0,l.mY)(e),forceTrace:t})];case 2:if((o=u.sent()).error)return[2,(0,b._)(o.error)];if(o.channelClosed)return[2,(0,b._)("ChannelClosed")];if(!(s=o.packageInstallResponse))return[2,(0,b._)("No package install response found")];return s.installedSystemDependencies&&r&&r(g.AZ.PACKAGER_INSTALLED_SYSTEM_DEPENDENCIES,{packagerId:n}),[2,(0,b.Ok)(s)]}})})()})]})})()},listSpecfile:function(e){return(0,c._)(function(){var n,t,r,a,o,s,l;return(0,d.YH)(this,function(c){switch(c.label){case 0:return[4,u(e)];case 1:return t=(n=i._.apply(void 0,[c.sent(),2]))[0],r=n[1],[4,t.request({packageListSpecfile:{}})];case 2:if((a=c.sent()).channelClosed)return[2,{packages:null,error:"channel closed"}];switch(r(),a.body){case"error":return[2,{packages:null,error:"list specfile failed: ".concat(a.error)}];case"packageListSpecfileResp":if(!(s=null==(o=a.packageListSpecfileResp)?void 0:o.pkgs))return[2,{packages:null,error:"list specfile returned an empty response"}];return[2,{packages:s,error:null}];default:return l="Unknown packager3 listSpecFile command ".concat(a.body,". ")+"Expected error or packageListSpecfileResp",m.Cp(Error(l)),[2,{packages:null,error:l}]}}})})()},getPackagerIds:function(){return Array.from(o.keys())},clearPackager:function(e){var n=o.get(e);(null==n?void 0:n.closeChannel)&&n.closeChannel(),o.delete(e)},onOutput:function(e){return a.on(y.OUTPUT,e),function(){a.removeListener(y.OUTPUT,e)}},onError:function(e){return a.on(y.ERROR,e),function(){a.removeListener(y.ERROR,e)}},onStateChanged:function(e){return a.on(y.STATE_CHANGED,e),function(){a.removeListener(y.STATE_CHANGED,e)}}}}({container:z,forceTrace:$,track:A.u4}),em=(0,ed.A)({container:z,fs:W,openMultipleFiles:o,openMultipleURLs:P,enableReplspaceSshTokenPassthrough:J}),ev=(0,es.kg)({container:z,dotReplit:Z}),eg=function(e){var n=e.container,t=e.toolchain,o=e.fs,s=e.enableMultipleLSPClientsPerFile,l=void 0!==s&&s,u=new Map,p=new Map,h={},g=!0;function b(e){var n=h[e];if(!n)throw Error("LSPNix: removeLanguage called with lspId never configured");var t=n.client;if(t){n.client=null,t.destroy();var r=!0,a=!1,o=void 0;try{for(var s,l=u[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=(0,i._)(s.value,2),d=c[0],f=c[1],m=p.get(d);if(m){m.delete(t),p.set(d,m);var v=!0,g=!1,b=void 0;try{for(var y,w=f[Symbol.iterator]();!(v=(y=w.next()).done);v=!0)(0,y.value)(Array.from(m))}catch(e){g=!0,b=e}finally{try{v||null==w.return||w.return()}finally{if(g)throw b}}}}}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}}n.closeChannel(),delete h[e]}function y(e,n){if(h[e])throw Error("LSPNix: addLanguage called with lspId already configured");h[e]={client:null,option:n,closeChannel:function(){}},g&&A(e)}var w=new Map;function _(e){if(!g)return!1;var n=h[e];return!!n&&!n.client}function S(e,n,t){new Date().getTime()-t.getTime()<5e3?n<3?setTimeout(function(){_(e)&&A(e,n+1)},1e3*Math.pow(2,n)):I.vF.error("LSP server is crash-looping. Giving up.",{lspId:e,appService:"lspnix"}):setTimeout(function(){_(e)&&A(e)})}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,c._)(function(){var s,b,y,_,A,k,C;return(0,d.YH)(this,function(Y){switch(Y.label){case 0:if(!g)throw Error("LSPNix: Called startClient while not enabled");if(!h[e])throw Error("LSPNix: No config found for lspId: ".concat(e));if(!w.get(e))return[3,2];return[4,w.get(e)];case 1:if(Y.sent())return[2];Y.label=2;case 2:if(b=(s=h[e]).client,s.closeChannel,y=s.option,b)throw Error("LSPNix: A previous client is already set for language: ".concat(e));return _=function(){},A=new Promise(function(e){_=e}),w.set(e,A),k=[],C=n.openChannel({service:"lsp2",skip:function(e){var n=e.repl.language,t=n.startsWith("nix")||n.startsWith("html");return t||(I.vF.error("Skipped opening lsp channel for non-nix repl",{language:n,appService:"lspnix"}),_(null)),!t}},function(s){var b=s.channel,A=null,Y=!1,E=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!Y){Y=!0,n||(_(null),w.delete(e)),k.forEach(function(e){return e()}),null==A||A.destroy(),(null==(o=h[e])?void 0:o.client)===A&&(h[e].client=null),n&&g||C();var t=!0,r=!1,a=void 0;try{for(var o,s,l=u[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var c=(0,i._)(s.value,2),d=c[0],f=c[1],m=p.get(d);if(m&&A&&m.has(A)){m.delete(A),m.size?p.set(d,m):p.delete(d);var v=!0,b=!1,y=void 0;try{for(var S,E=f[Symbol.iterator]();!(v=(S=E.next()).done);v=!0)(0,S.value)(Array.from(m))}catch(e){b=!0,y=e}finally{try{v||null==E.return||E.return()}finally{if(b)throw y}}}}}catch(e){r=!0,a=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw a}}}};if("open"!==b.status)return void I.vF.error("LSPNix got a channel that wasn't open. This is expected to be impossible.",{lspId:e,appService:"lspnix"});var x=new Date;return b.request({startLSP:{languageServerId:e}}).then(function(s){if(!s.ok)return void I.vF.error("LSP server failed to start",{lspId:e,appService:"lspnix",serverError:s.error});if(g&&h[e]){k.push(b.onCommand(function(n){n.state===v.api.State.Stopped&&(I.vF.error("LSP server unexpectedly disconnected",{lspId:e,appService:"lspnix"}),E(),g&&S(e,t,x))}));var C=0;(function e(n,t){return(0,c._)(function(){var r;return(0,d.YH)(this,function(a){switch(a.label){case 0:return[4,n.exec("pwd")];case 1:if(null!==(r=a.sent()).error){if(!t())return[2,{error:Error("LSPNix: Could not get working directory "+r.error),workingDirectory:null}];return[2,e(n,t)]}return[2,{error:null,workingDirectory:r.output.replace("\n","")}]}})})()})(n,function(){return C++<5&&g&&eo(h[e].option,y)&&"open"===b.status}).then(function(n){if(!h[e])return void I.vF.info("LSPNix: lsp map changed while getting working directory",{lspId:e,appService:"lspnix"});if(!eo(h[e].option,y))return void I.vF.info("LSPNix: configuration changed while getting working directory",{lspId:e,appService:"lspnix"});if("open"!==b.status)return void I.vF.error("LSPNix: channel wasn't open after getting working directory",{lspId:e,appService:"lspnix"});if(n.error)return void I.vF.error("LSPNix: failed to get working directory",{lspId:e,appService:"lspnix",originalError:null==(v=n.error)?void 0:v.message});if(A=function(e){var n,t=e.connection,i=e.isSupportedFile,o=e.clientId,s=e.clientName,l=e.getWorkspaceConfiguration,u=e.onWorkspaceConfigurationChange,p=e.applyWorkspaceEdit,h=(0,f.Ay)();h.setMaxListeners(1/0);var v=null,g=ee.b.OFFLINE,b=ee.A.NOT_READY,y=null,w=!1,_=new Map,S=new Map,A=null;function k(e){if(!v)throw Error("Expected rootUri");var n=e.slice(v.length+1);try{return decodeURIComponent(n)}catch(e){throw m.v4(function(t){t.setExtra("fragment_to_decode",n),m.Cp(e)}),e}}function C(e){if(!v)throw Error("Expected rootUri");if(e.startsWith("/"))throw Error("Path must be relative. Got: ".concat(e));return v+"/"+e}function Y(e){g!==e&&(g!==ee.b.INITIALIZED&&E(ee.A.NOT_READY),g=e,h.emit("SERVER_STATE_CHANGE",g))}function E(e){b!==e&&(b=e,h.emit("SERVER_HEALTH_CHANGE",b))}function x(e){h.emit("SEND_NOTIFICATION",e),t.write(ei(e))}function D(e){return(0,c._)(function(){var n,i,s,l,u,c,f,p;return(0,d.YH)(this,function(d){if(l=void 0===(s=(i=void 0===(n=e.options)?{}:n).id)?ea():s,u=i.signal,c=i.tap,f=(0,N._)(e,["options"]),!Number.isInteger(l))throw Error("Request ID must be an integer");return t.didClose()?[2,Promise.resolve({result:null,cancelled:!0})]:(h.emit("REQUEST",{id:l,data:f}),null==u||u.addEventListener("abort",function(){P(l)},{once:!0}),t.write(ei((0,a._)((0,r._)({},f),{id:l}))),null===A&&(A=setTimeout(function(){E(ee.A.STALLED)},3e4)),p=new Promise(function(e){S.set(l,{requestData:f,resolve:e})}),c&&c(p),[2,p.then(function(e){null!==A&&(clearTimeout(A),A=null),g!==ee.b.INITIALIZED||e.cancelled||E(ee.A.READY);var n=(function(e){var n=!0,t=!1,r=void 0;try{for(var a,i=Q[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=a.value;if(o.supports(e))return o}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}return new X})(o).onResponse(f.method,e);if("error"in n){var t=n.error,r=t.code,a=t.message,i=t.data;I.vF.error("LSP request failed",{code:r,lspId:o,errorMessage:a,data:JSON.stringify(i),requestData:f})}return n})])})})()}function R(e,n){t.write(ei((0,a._)((0,r._)({},n),{id:e})))}function P(e){var n=S.get(e);n&&(h.emit("CANCEL_REQUEST",e),n.resolve({result:null,cancelled:!0}),S.delete(e),x({method:"$/cancelRequest",params:{id:e}}))}var M=0,J=new q(function(e){var n=S.get(e.id);if(e.id&&n){var t=n.resolve;S.delete(e.id);var i=e.result,s=e.error;if((void 0!==i||s)&&h.emit("RESPONSE",e),void 0!==i){M=0,t({result:i,cancelled:!1});return}if(s){M++,t({error:s}),M>20&&(I.vF.error("LSP experienced 20 consecutive errors. Setting server health to 'BROKEN",{lspId:o}),E(ee.A.BROKEN),M=0);return}throw I.vF.error("LSP response message contained neither error nor result"),new L.A("Expected either message or error in LSP response").setExtra("message",JSON.stringify(e))}var u=e.method;if("client/registerCapability"===u){var c=e.params.registrations;if(!c||!Array.isArray(c))throw Error("Expected registrations array");c.forEach(function(e){var n=e.method;if(!n)throw Error("Expected registration method");if(!y)throw Error("Expected server capabilities");var t=e.registerOptions||!0;switch(n){case"textDocument/definition":y.definitionProvider=!0;break;case"textDocument/typeDefinition":y.typeDefinitionProvider=!0;break;case"textDocument/implementation":y.implementationProvider=!0;break;case"textDocument/references":y.referencesProvider=!0;break;case"textDocument/hover":y.hoverProvider=!0;break;case"textDocument/semanticTokens":y.semanticTokensProvider=t;break;case"textDocument/completion":y.completionProvider=t;break;case"textDocument/formatting":y.documentFormattingProvider=t;break;case"textDocument/rename":y.renameProvider=t;break;case"textDocument/codeAction":y.codeActionProvider=t;break;case"textDocument/signatureHelp":y.signatureHelpProvider=t;break;case"textDocument/didSave":if("number"==typeof y.textDocumentSync)break;y.textDocumentSync=(0,a._)((0,r._)({},y.textDocumentSync||{}),{save:t});break;case"textDocument/willSaveWaitUntil":if("number"==typeof y.textDocumentSync)break;y.textDocumentSync=(0,a._)((0,r._)({},y.textDocumentSync||{}),{willSave:!0});break;case"textDocument/didChange":if("number"==typeof y.textDocumentSync)break;y.textDocumentSync=(0,a._)((0,r._)({},y.textDocumentSync||{}),{change:t});break;case"textDocument/didOpen":case"textDocument/didClose":if("number"==typeof y.textDocumentSync)break;y.textDocumentSync=(0,a._)((0,r._)({},y.textDocumentSync||{}),{openClose:!0});break;case"workspace/executeCommand":y.executeCommandProvider=t;break;default:I.vF.info("Unexpected dynamically registered capability in LSP client",{method:n})}h.emit("SERVER_CAPABILITIES_CHANGE",y)}),R(e.id,{result:null,cancelled:!1});return}if("workspace/applyEdit"===u)return void p(e.params).then(function(n){R(e.id,{result:n,cancelled:!1})});if("textDocument/publishDiagnostics"===u){var d=k(e.params.uri),f=_.get(d);if(!f)return;var m=e.params.diagnostics;if(T()(f.diagnostics,m))return;f.diagnostics=m,h.emit("DIAGNOSTICS",{path:d,diagnostics:m});return}if("workspace/configuration"===u){var v,g=e.params,b=Array(g.items.length).fill(null),w=null!=(v=null==l?void 0:l())?v:null;w&&(b=g.items.map(function(e){return e.section?F()(w,e.section):w})),R(e.id,{result:b,cancelled:!1})}("window/logMessage"===u||"telemetry/event"===u)&&h.emit("RECEIVE_NOTIFICATION",e),"workspace/semanticTokens/refresh"===u&&h.emit("SEMANTIC_TOKENS_REFRESH")});function H(e){if(!y)throw Error("Expected client to be initialized");if(!y[e])throw Error("LSP Server does not support ".concat(e.replace(/Provider$/,"")));return y[e]}function V(e){return v&&e?e.filter(function(e){return"uri"in e?e.uri.startsWith(v):e.targetUri.startsWith(v)}):e}t.read(J.read);var $=function(){};return{initialize:function(e){return(0,c._)(function(e){var t,r,a,i;return(0,d.YH)(this,function(o){switch(o.label){case 0:return t=e.pwd,r=e.initializationOptions,Y(ee.b.INITIALIZING),v="file://".concat(t),[4,D({method:"initialize",params:{initializationOptions:r,capabilities:B({configurationSupport:{serverToClient:!!l,clientToServer:!!u}}),processId:null,rootUri:v,workspaceFolders:[{name:v,uri:v}]}})];case 1:if("error"in(a=o.sent()))throw Error("Something went wrong initializing the LSP client: ".concat(a.error.message));if(a.cancelled)throw Error("Initialize request cancelled");if(!a.result)throw Error("Expected result in initialize request");return x({method:"initialized",params:{}}),y=a.result.capabilities,n=a.result.serverInfo,h.emit("SERVER_CAPABILITIES_CHANGE",y),Y(ee.b.INITIALIZED),u&&($=u(function(e){x({method:"workspace/didChangeConfiguration",params:{settings:e}})})),l&&(i=l())&&x({method:"workspace/didChangeConfiguration",params:{settings:i}}),[2]}})}).apply(this,arguments)},generateId:ea,notify:{didOpen:function(e,n){if(!i(e))throw Error("Path not supported");var t,r=_.get(e);if(r&&0!==r.buffers){r.buffers++,_.set(e,r);return}var a=null!=(t=null==r?void 0:r.version)?t:0;_.set(e,{version:a,buffers:1,diagnostics:[]}),x({method:"textDocument/didOpen",params:{textDocument:{uri:C(e),languageId:et(e,o),text:n,version:a}}})},didChange:function(e,n){var t=_.get(e);if(!t)throw Error('Document for "'.concat(e,'" is not open'));t.version++,x({method:"textDocument/didChange",params:{textDocument:{uri:C(e),version:t.version},contentChanges:n}})},didSave:function(e){if(!_.get(e))throw Error('Document for "'.concat(e,'" is not open'));H("textDocumentSync"),x({method:"textDocument/didSave",params:{textDocument:{uri:C(e)}}})},didClose:function(e){var n=_.get(e);if(!n)throw Error('Document for "'.concat(e,'" is not open'));n.buffers--,n.buffers>0||(x({method:"textDocument/didClose",params:{textDocument:{uri:C(e)}}}),_.delete(e))},cancelRequest:function(e){P(e)}},request:{completion:function(e,n,t,r){return H("completionProvider"),D({options:r,method:"textDocument/completion",params:{textDocument:{uri:C(e)},position:n,context:t}})},resolveCompletionItem:function(e){if(!H("completionProvider").resolveProvider)throw Error("LSP Server does not support resolving completion items");return D({method:"completionItem/resolve",params:e})},signatureHelp:function(e,n,t){return D({options:t,method:"textDocument/signatureHelp",params:{textDocument:{uri:C(e)},position:n}})},hover:function(e,n,t){return D({options:t,method:"textDocument/hover",params:{textDocument:{uri:C(e)},position:n}})},codeActions:function(e,n,t,i){var o=_.get(e);if(!o)throw Error("Document for path ".concat(e," is not open."));var s=o.diagnostics.filter(function(e){return(0,U.Kk)(e.range,n)});return D({method:"textDocument/codeAction",params:{textDocument:{uri:C(e)},range:n,context:(0,a._)((0,r._)({},i),{diagnostics:s})},options:t})},resolveCodeAction:function(e){return D({method:"codeAction/resolve",params:e})},executeCommand:function(e,n){return D({method:"workspace/executeCommand",params:{command:e,arguments:n}})},format:function(e,n){return H("documentFormattingProvider"),D({method:"textDocument/formatting",params:{textDocument:{uri:C(e)},options:n}})},formatRange:function(e,n,t){return H("documentRangeFormattingProvider"),D({method:"textDocument/rangeFormatting",params:{textDocument:{uri:C(e)},range:n,options:t}})},findDefinitions:function(e,n,t){var i=!(arguments.length>3)||void 0===arguments[3]||arguments[3];return(0,c._)(function(){var o,s;return(0,d.YH)(this,function(l){switch(l.label){case 0:return H("definitionProvider"),[4,D({options:t,method:"textDocument/definition",params:{textDocument:{uri:C(e)},position:n}})];case 1:if(!1!==(o=l.sent()).cancelled)return[2,o];return(s=o.result)&&i&&(s=V(Array.isArray(s)?s:[s])),[2,(0,a._)((0,r._)({},o),{result:s})]}})})()},findTypeDefinitions:function(e,n,t){var i=!(arguments.length>3)||void 0===arguments[3]||arguments[3];return(0,c._)(function(){var o,s;return(0,d.YH)(this,function(l){switch(l.label){case 0:return H("typeDefinitionProvider"),[4,D({options:t,method:"textDocument/typeDefinition",params:{textDocument:{uri:C(e)},position:n}})];case 1:if(!1!==(o=l.sent()).cancelled)return[2,o];return(s=o.result)&&i&&(s=V(Array.isArray(s)?s:[s])),[2,(0,a._)((0,r._)({},o),{result:s})]}})})()},findImplementations:function(e,n,t){var i=!(arguments.length>3)||void 0===arguments[3]||arguments[3];return(0,c._)(function(){var o,s;return(0,d.YH)(this,function(l){switch(l.label){case 0:return H("implementationProvider"),[4,D({options:t,method:"textDocument/implementation",params:{textDocument:{uri:C(e)},position:n}})];case 1:if(!1!==(o=l.sent()).cancelled)return[2,o];return(s=o.result)&&i&&(s=V(Array.isArray(s)?s:[s])),[2,(0,a._)((0,r._)({},o),{result:s})]}})})()},findReferences:function(e,n,t){return H("referencesProvider"),D({method:"textDocument/references",params:{textDocument:{uri:C(e)},position:n,context:t}})},rename:function(e,n,t,r){return H("renameProvider"),D({options:r,method:"textDocument/rename",params:{textDocument:{uri:C(e)},position:n,newName:t}})},prepareRename:function(e,n){var t=H("renameProvider");if("boolean"==typeof t||!t.prepareProvider)throw Error("LSP server does not support prepare rename");return D({method:"textDocument/prepareRename",params:{textDocument:{uri:C(e)},position:n}})},documentHighlights:function(e,n,t){return(0,c._)(function(){return(0,d.YH)(this,function(r){switch(r.label){case 0:return[4,D({options:t,method:"textDocument/documentHighlight",params:{position:n,textDocument:{uri:C(e)}}})];case 1:return[2,r.sent()]}})})()},documentSymbol:function(e,n){return(0,c._)(function(){var t;return(0,d.YH)(this,function(r){switch(r.label){case 0:return[4,D({options:n,method:"textDocument/documentSymbol",params:{textDocument:{uri:C(e)}}})];case 1:if(!("result"in(t=r.sent())))return[2,t];if(t.result)return[2,{result:t.result,cancelled:!1}];return[2]}})})()}},semanticTokensFull:function(e,n){if(!H("semanticTokensProvider").full)throw Error("LSP server does not support full semantic tokens");return D({options:n,method:"textDocument/semanticTokens/full",params:{textDocument:{uri:C(e)}}})},semanticTokensDelta:function(e,n,t){var r=H("semanticTokensProvider");if(!(null==r?void 0:r.full)||"object"!==(0,O._)(r.full)||!r.full.delta)throw Error("LSP server does not support delta semantic tokens");return D({options:t,method:"textDocument/semanticTokens/full/delta",params:{textDocument:{uri:C(e)},previousResultId:n}})},semanticTokensRange:function(e,n,t){if(!H("semanticTokensProvider").range)throw Error("LSP server does not support range semantic tokens");return D({options:t,method:"textDocument/semanticTokens/range",params:{textDocument:{uri:C(e)},range:n}})},onDiagnostics:(0,f.gT)(h,"DIAGNOSTICS"),onServerStateChange:(0,f.gT)(h,"SERVER_STATE_CHANGE"),onServerHealthChange:(0,f.gT)(h,"SERVER_HEALTH_CHANGE"),onServerCapabilitiesChange:(0,f.gT)(h,"SERVER_CAPABILITIES_CHANGE"),onRequest:(0,f.gT)(h,"REQUEST"),onResponse:(0,f.gT)(h,"RESPONSE"),onCancelRequest:(0,f.gT)(h,"CANCEL_REQUEST"),onSendNotification:(0,f.gT)(h,"SEND_NOTIFICATION"),onReceiveNotification:(0,f.gT)(h,"RECEIVE_NOTIFICATION"),onSemanticTokensRefresh:(0,f.gT)(h,"SEMANTIC_TOKENS_REFRESH"),shutdown:function(){for(var e in Y(ee.b.EXITING),_.clear(),S)P(Number(e));$(),D({method:"shutdown"}).then(function(){x({method:"exit"}),Y(ee.b.EXITED),h.removeAllListeners()})},isDestroyed:function(){return w},destroy:function(){for(var e in w=!0,_.clear(),S)P(Number(e));$(),Y(ee.b.EXITED),h.removeAllListeners()},getServerState:function(){return g},getServerHealth:function(){return b},getServerCapabilities:function(){return y},getServerInfo:function(){return n},getDiagnostics:function(e){var n=_.get(e);if(!n)throw Error("File with path ".concat(e," is not open."));return n.diagnostics},isOpen:function(e){return _.has(e)},documentUriToPath:k,pathToDocumentURI:C,isSupportedFile:i,getLanguageId:function(e){return et(e,o)},clientId:o,clientName:s}}({connection:{read:function(e){"open"===b.status&&b.onCommand(function(n){n.output&&e(n.output)})},write:function(e){if("open"!==b.status){(null==A?void 0:A.isDestroyed())&&I.vF.error("LSPNix: tried to write to channel but the lsp client is already destroyed");return}b.send({input:e})},didClose:function(){return"open"!==b.status}},clientId:e,clientName:h[e].option.name,isSupportedFile:function(e){return(0,D.fu)(e,y)},applyWorkspaceEdit:function(e){var n=e.edit;return(0,c._)(function(){return(0,d.YH)(this,function(e){return A?[2,(0,R.i)({edit:n,fs:o,client:A})]:[2,{applied:!1}]})})()},getWorkspaceConfiguration:function(){if(!(null==(e=y.config)?void 0:e.configurationJson))return null;var e,n=null;try{n=JSON.parse(y.config.configurationJson)}catch(e){I.vF.error("Failed to parse LSP workspace configuration",{configurationJson:y.config.configurationJson})}return n}}),null==(s=y.config)?void 0:s.initializationOptionsJson)try{C=JSON.parse(y.config.initializationOptionsJson)}catch(e){I.vF.error("Failed to parse LSP initializationOptions",{initializationOptionsJson:y.config.initializationOptionsJson})}var s,v,C,Y=A.initialize({pwd:n.workingDirectory,initializationOptions:C}).catch(function(n){if((null==n?void 0:n.message)!=="Initialize request cancelled")throw I.vF.error("LSPNix: failed to initialize client",{lspId:e,appService:"lspnix",originalError:null==n?void 0:n.message}),n});k.push(A.onServerHealthChange(function(n){if(n===ee.A.BROKEN&&(I.vF.info("LSP: Server health broken",{lspId:e}),E(),g)){I.vF.info("LSP: retrying after server health broken",{lspId:e}),S(e,t,x);return}}),A.onServerStateChange(function(n){return(0,c._)(function(){var t,r,a,o,s,c,f,m,v,g,S,k,C,x,T;return(0,d.YH)(this,function(d){switch(d.label){case 0:if("open"!==b.status)return I.vF.info("LSPNix: channel wasn't open on state change",{lspId:e,appService:"lspnix",state:n}),E(),[2];if(!A)return I.vF.info("LSPNix: client was null on state change. This should never happen",{lspId:e,appService:"lspnix",state:n}),E(),[2];if(!eo(h[e].option,y))return I.vF.info("LSPNix: configuration changed and received state change",{lspId:e,appService:"lspnix",state:n}),E(),[2];if(n===ee.b.EXITED)return I.vF.info("LSP server exited via 'exit' notification",{lspId:e,appService:"lspnix"}),E(),[2];if(n!==ee.b.INITIALIZED)return[2];return[4,Y];case 1:if(d.sent(),"open"!==b.status)return I.vF.info("LSPNix: channel wasn't open after initialization",{lspId:e,appService:"lspnix"}),E(),[2];_(A),w.delete(e),h[e].client=A,t=!0,r=!1,a=void 0;try{for(o=u[Symbol.iterator]();!(t=(s=o.next()).done);t=!0)if((f=(c=(0,i._)(s.value,2))[0],m=c[1],(0,D.fu)(f,y))&&(v=p.get(f),l||!v||!v.size)){g=v?v.add(A):new Set([A]),p.set(f,g),S=!0,k=!1,C=void 0;try{for(x=m[Symbol.iterator]();!(S=(T=x.next()).done);S=!0)(0,T.value)(Array.from(g))}catch(e){k=!0,C=e}finally{try{S||null==x.return||x.return()}finally{if(k)throw C}}}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return[2]}})})()}))})}}),function(e){E(e.willReconnect)}}),h[e].closeChannel=C,[2]}})})()}function k(e){var n=null==e?void 0:e.languageServers;if(!n||0===n.length){var t=!0,r=!1,a=void 0;try{for(var i,o=Object.keys(h)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;b(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return}var l={},u=!0,c=!1,d=void 0;try{for(var f,p=n[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var m=f.value;l[m.id]=m}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}var v=!0,g=!1,w=void 0;try{for(var _,S=Object.keys(h)[Symbol.iterator]();!(v=(_=S.next()).done);v=!0){var A=_.value;l[A]||b(A)}}catch(e){g=!0,w=e}finally{try{v||null==S.return||S.return()}finally{if(g)throw w}}var k=!0,C=!1,Y=void 0;try{for(var E,x=Object.keys(l)[Symbol.iterator]();!(k=(E=x.next()).done);k=!0){var T=E.value,D=h[T],I=l[T];if(!D){y(T,I);continue}eo(D.option,I)||(b(T),y(T,I))}}catch(e){C=!0,Y=e}finally{try{k||null==x.return||x.return()}finally{if(C)throw Y}}}return(0,c._)(function(){var e;return(0,d.YH)(this,function(n){try{e=t.configs.current,k(e),t.configs.subscribe(k)}catch(e){I.vF.error("LSP initialization failed: "+e.message)}return[2]})})(),{restart:function(e){if(g){var n=h[e];if(n){if(n.client){var t=!0,r=!1,a=void 0;try{for(var o,s,l=u[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var c=(0,i._)(s.value,2),d=c[0],f=c[1],m=p.get(d);if(m){m.delete(n.client),p.set(d,m);var v=!0,b=!1,y=void 0;try{for(var w,_=f[Symbol.iterator]();!(v=(w=_.next()).done);v=!0)(0,w.value)(Array.from(m))}catch(e){b=!0,y=e}finally{try{v||null==_.return||_.return()}finally{if(b)throw y}}}}}catch(e){r=!0,a=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw a}}}n.closeChannel(),null==(o=n.client)||o.destroy(),n.client=null,A(e)}}},disable:function(){if(g){g=!1;var e=!0,n=!1,t=void 0;try{for(var r,a=Object.values(h)[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=r.value;o.closeChannel(),null==(d=o.client)||d.destroy(),o.client=null;var s=!0,l=!1,c=void 0;try{for(var d,f,m=u[Symbol.iterator]();!(s=(f=m.next()).done);s=!0){var v=(0,i._)(f.value,2),b=v[0],y=v[1];if(p.has(b)){p.delete(b);var w=!0,_=!1,S=void 0;try{for(var A,k=y[Symbol.iterator]();!(w=(A=k.next()).done);w=!0)(0,A.value)([])}catch(e){_=!0,S=e}finally{try{w||null==k.return||k.return()}finally{if(_)throw S}}}}}catch(e){l=!0,c=e}finally{try{s||null==m.return||m.return()}finally{if(l)throw c}}}}catch(e){n=!0,t=e}finally{try{e||null==a.return||a.return()}finally{if(n)throw t}}}},enable:function(){if(!g){g=!0;var e=!0,n=!1,t=void 0;try{for(var r,a=Object.keys(h)[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var i=r.value;A(i)}}catch(e){n=!0,t=e}finally{try{e||null==a.return||a.return()}finally{if(n)throw t}}}},onClient:function(e,n){u.has(e)||u.set(e,[]),null==(c=u.get(e))||c.push(n);var t=!1,r=[],a=p.get(e);if(a&&a.size)r.push.apply(r,(0,E._)(Array.from(a)));else{var i=!0,o=!1,s=void 0;try{for(var c,d,f=Object.values(h)[Symbol.iterator]();!(i=(d=f.next()).done);i=!0){var m=d.value;if((0,D.fu)(e,m.option)&&m.client&&(r.push(m.client),!l))break}}catch(e){o=!0,s=e}finally{try{i||null==f.return||f.return()}finally{if(o)throw s}}}return Promise.resolve().then(function(){!t&&r.length&&n(r)}),function(){t=!0;var r,a=null!=(r=u.get(e))?r:[];u.set(e,a.filter(function(e){return e!==n}))}}}}({container:z,toolchain:en,fs:W,enableMultipleLSPClientsPerFile:void 0!==M&&M}),eb=(0,Y.A)({container:z,fs:W}),ey=function(e){var n,t=e.container,r=e.toolchain;function a(e){return(0,c._)(function(){return(0,d.YH)(this,function(t){return e&&(n=void 0),n||(n=new Promise(function(e){return(0,c._)(function(){var n,t;return(0,d.YH)(this,function(a){switch(a.label){case 0:if(null==(t=r.modules)||null==(n=t.current)?void 0:n.some(function(e){return e.id.startsWith("postgresql")}))return[3,2];return[4,r.addModule("postgresql-16")];case 1:return a.sent(),e(),[3,3];case 2:e(),a.label=3;case 3:return[2]}})})()})),[2]})})()}return{ensureNixPsqlModuleInstalled:a,run:function(e){var n=e.query,r=e.connectionString;return(0,c._)(function(){var e,i,o,s,l,u,c,f,p,h,g;return(0,d.YH)(this,function(d){switch(d.label){case 0:return[4,a()];case 1:d.sent(),e=(0,_.A)({container:t}),i=[],o=null,s=new w.e(function(e){return i.push(e)}),l=null,u=!1,c=new Promise(function(n){var t=e.onStateChanged(function(e){var r=e.state,a=e.stderrBuffer;if(r===v.api.State.Running){u=!0;return}u&&(l=a,t(),n())})}),e.onOutput(function(e){try{s.process(e)}catch(n){o||(o=n,m.Cp(n,function(n){return n.setExtra("chunk",e)}))}}),d.label=2;case 2:return d.trys.push([2,,5,6]),[4,e.request({args:["psql",r,"--csv","--command",n],splitStderr:!0})];case 3:return f=d.sent(),[4,c];case 4:return d.sent(),f.error&&!l&&(l=f.error),s.flush(),[3,6];case 5:return e.dispose(),[7];case 6:if(l)return[2,{columns:s.headers(),rows:i,error:l}];if(o)return p=o.message,[2,{columns:null!=(h=s.headers())?h:[],rows:i,error:p}];return[2,{columns:null!=(g=s.headers())?g:[],rows:i,error:null}]}})})()}}}({container:z,toolchain:en}),e_=(ew={container:z}).container,eS=ew.sendTrackingEvents,{presence:j,packager:er,container:z,fs:W,dotReplit:Z,nixService:K,lspnix:eg,git:eb,psql:ey,replspaceApi:em,toolchain:en,ports:ev,secrets:function(e){var n,t=e.container,o=e.observable,s=e.track,l=new Promise(function(e){return n=e});function u(e){return(0,c._)(function(){var n,t;return(0,d.YH)(this,function(r){switch(r.label){case 0:return[4,l];case 1:return n=r.sent(),o.set(Array.isArray(e)?new Map(e.map(function(e){return[e.key,e.value]})):e),[4,n.request({secretsSetRequest:{contents:eh.A.serialize(o.current)}})];case 2:if((t=r.sent()).error)throw Error(t.error);return null==s||s(g.AZ.SECRETS_USED,{action:"replaceAll"}),[2]}})})()}return t.openChannel({service:"secrets",name:"secretser",skip:function(){return!1}},function(e){var t;return(t=e.channel).onCommand(function(e){if(e.secretsGetResponse){var n=e.secretsGetResponse.contents;if(n){var t=eh.A.parse(n);!function(e,n){if(e.size!==n.size)return!1;var t=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var l=(0,i._)(o.value,2),u=l[0],c=l[1];if(!n.has(u)||n.get(u)!==c)return!1}}catch(e){r=!0,a=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw a}}return!0}(o.current,t)&&o.set(t)}}}),t.request({secretsGetRequest:{}}).then(function(e){e.channelClosed||(e.error&&m.v4(function(n){n.setTag("service","secrets"),m.Cp(Error("failed to initialize secrets: "+e.error))}),n(t))}),function(){l=new Promise(function(e){return n=e})}}),{addEntries:function(e){return(0,c._)(function(){var n,t,r,a,c,f,p,h,m,v,b,y,w,_,S,A,k;return(0,d.YH)(this,function(d){switch(d.label){case 0:return[4,l];case 1:if(d.sent(),n=new Map(o.current),Array.isArray(e)){t=!0,r=!1,a=void 0;try{for(c=e[Symbol.iterator]();!(t=(f=c.next()).done);t=!0)h=(p=f.value).key,m=p.value,n.set(h,m)}catch(e){r=!0,a=e}finally{try{t||null==c.return||c.return()}finally{if(r)throw a}}}else{v=!0,b=!1,y=void 0;try{for(w=e[Symbol.iterator]();!(v=(_=w.next()).done);v=!0)A=(S=(0,i._)(_.value,2))[0],k=S[1],n.set(A,k)}catch(e){b=!0,y=e}finally{try{v||null==w.return||w.return()}finally{if(b)throw y}}}return[4,u(n)];case 2:return d.sent(),null==s||s(g.AZ.SECRETS_USED,{action:"addEntries"}),[2]}})})()},removeEntries:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,c._)(function(){var e,t,r,a,i,c,f,p;return(0,d.YH)(this,function(d){switch(d.label){case 0:return[4,l];case 1:if(d.sent(),0===(e=n.filter(function(e){return o.current.has(e)})).length)return[2];t=new Map(o.current),r=!0,a=!1,i=void 0;try{for(c=e[Symbol.iterator]();!(r=(f=c.next()).done);r=!0)p=f.value,t.delete(p)}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return[4,u(t)];case 2:return d.sent(),null==s||s(g.AZ.SECRETS_USED,{action:"removeEntries"}),[2]}})})()},read:function(){return(0,c._)(function(){var e,n,t=arguments;return(0,d.YH)(this,function(r){switch(r.label){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:{skipCache:!1},[4,l];case 1:if(n=r.sent(),!e.skipCache)return[2,new Map(o.current)];return[4,n.request({secretsGetRequest:{}})];case 2:return r.sent(),[2,new Map(o.current)]}})}).apply(this,arguments)},replaceAll:u,watch:function(e){var n=!1,t=null;return l.then(function(){n||(t=o.subscribe(e))}),function(){n=!0,null==t||t()}},replaceAllExternalSecrets:function(e){return(0,c._)(function(){var n;return(0,d.YH)(this,function(t){switch(t.label){case 0:return[4,l];case 1:return[4,t.sent().request({externalSecretsSetRequest:{externalSecrets:Array.isArray(e)?e.reduce(function(e,n){return(0,a._)((0,r._)({},e),(0,ep._)({},n.key,n.url))},{}):Object.fromEntries(e)}})];case 2:if((n=t.sent()).error)throw Error(n.error);return[2]}})})()}}}({container:e_,observable:new ef.N(new Map),track:void 0===eS||eS?A.u4:void 0})});return null==eA||eA.span.end(),x(ek),function(){x(null),setTimeout(function(){ek.container.destroy()},500)}},[e]),t}},44122:(e,n,t)=>{"use strict";t.d(n,{C2:()=>p,CC:()=>g,Uy:()=>c,eB:()=>d,em:()=>f,fn:()=>m,qK:()=>h,z5:()=>v});var r=t(12694),a=t(52080),i=t(11874),o=t(16057),s=/[~^:?*[\\\0-\x20\x7F]/,l=/^(([A-Za-z0-9]+@|http(|s):\/\/)|(http(|s):\/\/[A-Za-z0-9]+@))([A-Za-z0-9.]+(:\d+)?)(?::|\/)([\d/\w.-]+?)$/,u=new RegExp([s,/^$/,/^\//,/\/$/,/\.lock$/,/\/{2,}/,/^\./,/\.$/,/\/\./,/\.\./,/@\{/,/^@$/,/^-/].map(function(e){return"(?:".concat(e.source,")")}).join("|"));function c(e){return 0===e.length||!s.test(e)}function d(e){return!u.test(e)}function f(e){return!u.test(e)}function p(e){return l.test(e)}function h(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"==typeof e?(0,o.w9)(e):"commit"in e?e.type===a.xx.LOCAL||n&&e.type===a.xx.TRACKED?e.name:"".concat(e.remote,"/").concat(e.name):e.name}function m(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof e)return e;if("commit"in e)return e.type===a.xx.LOCAL||n&&e.type===a.xx.TRACKED?"refs/heads/".concat(e.name):"refs/remotes/".concat(e.remote,"/").concat(e.name);if(e.type===i.QN.BRANCH)return"refs/heads/".concat(e.name);if(e.type===i.QN.REMOTE_BRANCH)return"refs/remotes/".concat(e.remote,"/").concat(e.branch);throw Error("Unknown branch object")}function v(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof e)return n&&!e.startsWith("refs/remotes/")?null:(0,r._)((0,o.xM)(e),1)[0];if("commit"in e)return n&&e.type!==a.xx.REMOTE?null:e.remote;if(e.type===i.QN.BRANCH)return null;if(e.type===i.QN.REMOTE_BRANCH)return e.remote;throw Error("Unknown branch object")}function g(e,n){return e===n||null!==e&&null!==n&&m(e)===m(n)}},44154:e=>{e.exports={button:"TaskListCost_button__0tp53",loadingPlaceholder:"TaskListCost_loadingPlaceholder__UhBpm","skeleton-data-loading":"TaskListCost_skeleton-data-loading__WOczS"}},44237:(e,n,t)=>{"use strict";t.d(n,{J9:()=>c});var r=t(12694),a=t(86105),i=t(59270),o=t(49555),s=["json","md","draw","txt"],l=[".gitignore",".replit"];function u(e,n){var t=new Map,o=!0,s=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d,f=u.value,p=(0,i.an)(f);if(p&&(!n||p.startsWith(n))){var h=null!=(d=t.get(p))?d:0;t.set(p,h+1)}}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}return(0,a._)(t.entries()).sort(function(e,n){var t=(0,r._)(e,2)[1];return(0,r._)(n,2)[1]-t}).map(function(e){return(0,r._)(e,1)[0]})}function c(e,n){if(e.fileType===o.pt.Directory||!e.input)return[];if("."===e.input)return l.map(function(e){return{value:e,highlight:[{from:1,to:e.length}]}});if(e.input.startsWith("."))return l.filter(function(n){return n.startsWith(e.input)}).map(function(n){return{value:n,highlight:[{from:n.length-e.input.length,to:n.length}]}});var t=(0,i.an)(e.input),r=u(e.siblings.map(function(e){return e.filename}),t);if(r.length<3&&r.push.apply(r,(0,a._)(u(n(),t))),r.length<3){var c=t?s.filter(function(e){return e.startsWith(t)}):s;r.push.apply(r,(0,a._)(c))}return(0,a._)(new Set(r)).slice(0,3).map(function(n){var r=e.input;r.endsWith(".")?r=r.slice(0,-1):t&&(r=r.slice(0,-(t.length+1)));var a=r+"."+n;return{value:a,highlight:[{from:e.input.length,to:a.length}]}})}},44425:(e,n,t)=>{"use strict";t.d(n,{M:()=>s,r:()=>l});var r=t(86105),a=t(21462),i=t(62161),o=t(34778),s=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];(0,i.S)(function(){o.u4.apply(void 0,(0,r._)(n))})},l=function(e,n,t,r){var i=(0,a.useRef)(!1);(0,a.useEffect)(function(){!i.current&&t()&&((0,o.u4)(e,n),i.current=!0)},r)}},44495:(e,n,t)=>{"use strict";t.d(n,{A:()=>rr});var r=t(17844),a=t(93629),i=t(12694),o=t(34837),s=t(40185),l=t(21462),u=t(90629),c=t(96513),d=t(64970),f=t(96809),p=t(26575),h=t(86103),m=t(39938),v=t(35897),g=t(61125),b=t(790),y=t(34778),w=t(56783),_=t(43162),S=t(75966),A=t(98319),k=t(55519),C=t(83846),Y=t(48409),E=t(29935),x=t(82643),T=t(49555),D=t(30375),I=t(39534),R=t(51292),N=t(18712),O=t(91953),P=t(25227),F=t(73635),U=P.D.button,L=function(){return(0,o.Y)(P.S,{css:[{borderTop:"1px solid ".concat(I.LU.outlineDimmest)}],grow:!0,row:!0})},M=function(e){var n=e.isActive,t=e.isComplete,r=e.children,a=e.onClick,i=e.disabled;return(0,o.FD)(U,{type:"button",css:[N.wp.reset.button,N.wp.position.relative,R.b.nofill,n&&N.wp.backgroundColor.backgroundHigher,N.wp.p(4),N.wp.borderRadius(4)],onClick:a,disabled:i,children:[(0,o.Y)(O.EY,{variant:"small",multiline:!1,children:r}),t?(0,o.Y)(F.A,{size:6,strokeWidth:6,color:I.LU.foregroundDimmer,css:[N.wp.position.absolute,{top:2,right:-2}]}):null]})},J=t(62019),H=t(37743),B=t(1833),V=t(89264),$=t(12584),G=t(41114),z=t(54744);function W(){var e=(0,$._)(["\n  query ReplPublishInputRepl($id: String!) {\n    getRepl(id: $id) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n    }\n  }\n  ","\n"]);return W=function(){return e},e}var j={},q=(0,G.J1)(W(),Y.xS),Z=t(56101),K=t(39590),Q=t(60480);function X(){var e=(0,$._)(["\n  mutation CreateTemplateReleaseCreateDeployment(\n    $input: CreateReplDeployemntInput!\n  ) {\n    createReplDeployment(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n        ...PublishReleaseFormRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return X=function(){return e},e}function ee(){var e=(0,$._)(["\n  mutation CreateTemplateReleaseCreateRelease($input: CreateReplReleaseInput!) {\n    createReplRelease(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n        ...PublishReleaseFormRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return ee=function(){return e},e}var en={},et=(0,G.J1)(X(),Y.xS,Q._O),er=(0,G.J1)(ee(),Y.xS,Q._O),ea="Something went wrong publishing your Template";function ei(e){if(e.error)return e.error.message||ea;if(e.data){if("createReplDeployment"in e.data){if("NotFoundError"===e.data.createReplDeployment.__typename||"UnauthorizedError"===e.data.createReplDeployment.__typename||"UserError"===e.data.createReplDeployment.__typename)return e.data.createReplDeployment.message;else if("Repl"!==e.data.createReplDeployment.__typename)return ea}if("createReplRelease"in e.data){if("NotFoundError"===e.data.createReplRelease.__typename||"UnauthorizedError"===e.data.createReplRelease.__typename||"UserError"===e.data.createReplRelease.__typename)return e.data.createReplRelease.message;else if("Repl"!==e.data.createReplRelease.__typename)return ea}}}function eo(){var e,n,t=(0,i._)((e=(0,r._)({},en,void 0),K.n(et,e)),2),a=t[0],o=t[1],s=(0,i._)((n=(0,r._)({},en,void 0),K.n(er,n)),2),l=s[0],u=s[1];return{createRelease:function(e){var n=e.input;return(0,E._)(function(){var e;return(0,x.YH)(this,function(t){switch(t.label){case 0:if(o.loading||u.loading)return[2,{data:null,error:null}];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,l({refetchQueries:["ReplEnvironmentHeader"],variables:{input:n}})];case 2:return[2,{data:(e=t.sent()).data,error:ei(e)}];case 3:return t.sent(),[2,{data:null,error:ea}];case 4:return[2]}})})()},createDeployment:function(e){var n=e.input;return(0,E._)(function(){var e;return(0,x.YH)(this,function(t){switch(t.label){case 0:if(o.loading||u.loading)return[2,{data:null,error:null}];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,a({variables:{input:n}})];case 2:return[2,{data:(e=t.sent()).data,error:ei(e)}];case 3:return t.sent(),[2,{data:null,error:ea}];case 4:return[2]}})})()},data:o.data||u.data,loading:o.loading||u.loading,error:ei(o||u)}}function es(){var e=(0,$._)(["\n  mutation SetReplViewSettingsSetSettings($input: SetReplViewSettingsInput!) {\n    setReplViewSettings(input: $input) {\n      ... on ReplViewSettings {\n        id\n        repl {\n          id\n          ...PublishReplData\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return es=function(){return e},e}var el={},eu=(0,G.J1)(es(),Y.xS);function ec(e){var n,t,r,a,i,o,s;return e.error?e.error.message||"Something went wrong saving your Cover page":(null==(t=e.data)||null==(n=t.setReplViewSettings)?void 0:n.__typename)==="NotFoundError"||(null==(a=e.data)||null==(r=a.setReplViewSettings)?void 0:r.__typename)==="UnauthorizedError"||(null==(o=e.data)||null==(i=o.setReplViewSettings)?void 0:i.__typename)==="UserError"?e.data.setReplViewSettings.message:(null==(s=e.data)?void 0:s.setReplViewSettings)&&"ReplViewSettings"!==e.data.setReplViewSettings.__typename?"Something went wrong saving your Cover page":void 0}function ed(){var e=(0,$._)(["\n  mutation UpdateReplUpdate($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        ...PublishReplData\n      }\n    }\n  }\n  ","\n"]);return ed=function(){return e},e}var ef={},ep=(0,G.J1)(ed(),Y.xS);function eh(e){return e.message||"Something went wrong saving updates to your App"}var em=function(e){return e[e.Default=0]="Default",e[e.Saved=1]="Saved",e[e.Current=2]="Current",e}({}),ev=t(41967);function eg(e){var n=(0,i._)((0,l.useState)(null),2),t=n[0],o=n[1],s=(0,i._)((0,l.useState)(null),2),u=s[0],c=s[1],d=(0,ev.A)({onUpload:function(n){var t=n.url;o(null),e(t)},onUploadPreview:function(e){var n=e.dataUrl;c(null),o(n)},onError:function(e){o(null),c(e.message)}}),f=(0,l.useCallback)(function(){return c(null)},[]);return(0,a._)((0,r._)({},d),{error:u,clearError:f,previewUrl:t})}var eb=function(e){return e.ReplFile="repl_file",e.ReplImage="repl_image",e}({});function ey(e){return"repl_file"===e||"repl_image"===e}var ew=function(e){function n(){return(0,H._)(this,n),(0,J._)(this,n,arguments)}return(0,B._)(n,e),n}((0,V._)(Error)),e_=function(e){function n(){return(0,H._)(this,n),(0,J._)(this,n,arguments)}return(0,B._)(n,e),n}((0,V._)(Error)),eS=function(e){function n(){return(0,H._)(this,n),(0,J._)(this,n,arguments)}return(0,B._)(n,e),n}((0,V._)(Error));function eA(e){return e?e.length>60?{message:"Title should not be more than ".concat(60," characters")}:void 0:{message:"Give your App a title"}}function ek(e){return e?e.length>1e3?{message:"Description should not be more than ".concat(1e3," characters")}:void 0:{message:"What does this App do?"}}var eC=(0,l.createContext)(null),eY=function(e){var n=(0,l.useContext)(eC);if(!n)throw Error("usePublishField must be used within a PublishInputContext");return n["".concat(e,"Field")]},eE=function(){var e=(0,l.useContext)(eC);if(!e)throw Error("usePublishForm must be used within a PublishInputContext");return e},ex=t(72096),eT=t.n(ex),eD=t(42602),eI=t(38592),eR=t(70764),eN=t(93868),eO=t(22871),eP=t(3937),eF=t(14385),eU=t(82602),eL=(0,eR.x)({truncateText:[N.wp.flex.growAndShrink(1),{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}]}),eM=function(e){var n=e.repl,t=(0,eF.z9)(n),i=n.url?(0,eF.fJ)(n):"",s=(0,eD.A)({text:"Check out what I just made on Replit: ".concat(n.title),url:i});return(0,o.FD)(eP.ui,{background:"default",css:[N.wp.borderRadius(8),N.wp.overflow("hidden"),N.wp.colWithGap(16),N.wp.width(510),N.wp.p(16),N.wp.flex.growAndShrink(1),(0,C._)({},"@media (max-width: ".concat(eI.LO.tabletMin,"px)"),[{width:"100%"}])],dataCy:"published-repl-share-info-container",children:[(0,o.FD)(P.S,{gap:16,children:[(0,o.Y)(O.EY,{variant:"subheadBig",multiline:!1,children:"Share your App"})," ",(0,o.FD)(P.S,{gap:4,children:[(0,o.Y)(O.EY,{variant:"small",multiline:!1,color:"dimmer",children:"Cover page link"}),(0,o.FD)(P.S,{row:!0,gap:4,align:"center",children:[(0,o.Y)(eT(),(0,a._)((0,r._)({},t),{css:eL.truncateText,children:i})),(0,o.Y)(eO.r,{tooltipDelay:"none",tooltipText:"Copy link",textToCopy:i})]})]})]}),(0,o.Y)(P.S,{css:[(0,C._)({alignItems:"flex-end"},N.$_.max("mobileMax"),[N.wp.colWithGap(8),{width:"100%",">*":{width:"100%"}}])],row:!0,gap:12,justify:"end",children:(0,o.Y)(eN.v,{prefetch:!1,href:s,iconLeft:(0,o.Y)(eU.A,{}),text:"Share to X",target:"_blank",css:[(0,C._)({},N.$_.max("mobileMax"),[N.wp.mr(0)])]})})]})},eJ=t(35465),eH=t(90843);function eB(e){var n=e.error,t=e.dataCy;return n?(0,o.FD)(P.S,{row:!0,gap:4,align:"center",children:[(0,o.Y)(eH.A,{css:[N.wp.color.accentNegativeDefault]}),(0,o.Y)(O.EY,{css:[N.wp.flex.growAndShrink(1),N.wp.color.accentNegativeDefault],dataCy:t,children:n.message})]}):null}var eV=t(87261),e$=t(83096),eG=P.D.label,ez=(0,l.forwardRef)(function(e,n){return(0,o.Y)(eG,(0,a._)((0,r._)({},e),{ref:n,css:N.wp.color.foregroundDimmer}))}),eW=function(){var e=(0,eV.c)(),n=e("replName"),t=e("replDescription"),r=eE(),a=r.replTitleField,i=r.replDescriptionField,s=r.isSaving;return(0,o.FD)(P.S,{gap:16,grow:!0,shrink:!0,children:[(0,o.FD)(P.S,{gap:4,children:[(0,o.Y)(P.S,{css:[N.wp.align.baseline,N.wp.justify.spaceBetween],row:!0,children:(0,o.Y)(ez,{css:[N.wp.color.foregroundDimmer,{lineHeight:I.LU.lineHeightSmall}],htmlFor:n,children:"Repl name"})}),a.value]}),(0,o.FD)(P.S,{gap:4,children:[(0,o.FD)(P.S,{css:[N.wp.align.baseline,N.wp.justify.spaceBetween],row:!0,children:[(0,o.Y)(ez,{css:[N.wp.color.foregroundDimmer,{lineHeight:I.LU.lineHeightSmall}],htmlFor:t,children:"Repl description"}),(0,o.FD)(O.EY,{multiline:!1,css:{color:i.value.length>1e3?I.LU.accentNegativeStronger:I.LU.foregroundDimmest},children:[i.value.length,"/",1e3]})]}),(0,o.Y)(e$.ov,{id:t,value:i.value,disabled:s,onChange:function(e){i.setValue(e.currentTarget.value)},placeholder:"What does this Repl do?",css:[N.wp.minHeight(128),N.wp.maxHeight(256),{resize:"vertical"}],dataCy:"publish-form-repl-description-input"}),i.touched?(0,o.Y)(eB,{error:i.error,dataCy:"publish-form-repl-description-error"}):null]})]})},ej=t(26659),eq=function(e){var n=e.showPlayButton,t=e.children,r=e.active;return(0,o.FD)("div",{css:{position:"relative",aspectRatio:"".concat(268,"/").concat(164),overflow:"hidden"},children:[(0,o.Y)("div",{css:{position:"absolute",top:"calc(".concat(18," / ").concat(164," * 100%)"),bottom:"calc(".concat(1," / ").concat(164," * 100%)"),left:"calc(".concat(1," / ").concat(268," * 100%)"),right:"calc(".concat(1," / ").concat(268," * 100%)"),borderBottomLeftRadius:4,borderBottomRightRadius:4,overflow:"hidden",backgroundColor:r?I.LU.accentPrimaryDimmest:void 0},children:t}),(0,o.FD)("svg",{viewBox:"0 0 268 164",fill:"none",xmlns:"http://www.w3.org/2000/svg",css:{position:"relative"},children:[(0,o.Y)("rect",{width:"268",height:"17",fill:I.LU.backgroundDefault}),(0,o.Y)("rect",{x:"241.5",y:"4.5",width:"22",height:"10",rx:"2",fill:I.LU.accentPositiveDimmer}),(0,o.Y)("rect",{x:"228.5",y:"4.5",width:"10",height:"10",rx:"2",fill:I.LU.backgroundHighest}),(0,o.Y)("rect",{x:"4.5",y:"4.5",width:"32",height:"10",rx:"2",fill:I.LU.backgroundHighest}),(0,o.Y)("rect",{x:"1",y:"18",width:"266",height:"1",fill:r?I.LU.accentPrimaryDefault:I.LU.outlineDimmer}),n?(0,o.Y)("path",{d:"M142.225 90.5642C142.565 90.7554 142.565 91.2446 142.225 91.4358L127.745 99.5809C127.412 99.7683 127 99.5275 127 99.1451L127 82.8549C127 82.4725 127.412 82.2317 127.745 82.4191L142.225 90.5642Z",fill:I.LU.white}):null,(0,o.Y)("rect",{x:"1",y:"1",width:"266",height:"162",rx:"4",stroke:r?I.LU.accentPrimaryDefault:I.LU.outlineDimmer,strokeWidth:"1"})]})]})},eZ=t(30411),eK=t(59270),eQ=t(42793),eX=t(22611),e0=P.D.ol,e1=P.D.li,e2=(0,eQ.AH)([N.wp.py(4),N.wp.borderRadius(8),{border:"1px solid ".concat(I.LU.outlineDimmest),borderRadius:I.LU.borderRadius8,backgroundColor:I.LU.interactiveBackground,zIndex:N.r1,maxHeight:300,position:"absolute",overflowY:"auto",width:"100%",left:0,top:I.LU.space8,listStyle:"none"}]),e3={backgroundColor:I.LU.interactiveBackgroundActive},e4={backgroundColor:I.LU.accentPrimaryDimmer},e5=(0,eQ.AH)([N.wp.p(8),{":not([disabled])":{cursor:"pointer",":hover":(0,r._)({},e3),":active":(0,r._)({},e4)}}]);function e7(e){var n,t,s,u,c,d,f,p,h,v,g,b,y,w,_,S,A=e.fs,k=e.initiallySelectedFile,C=e.onFileSelect,Y=e.onClear,T=(0,l.useRef)(null),D=(t=(n=(0,i._)((0,l.useState)({isLoading:!0,error:null,files:[]}),2))[0],s=n[1],(0,l.useEffect)(function(){(0,E._)(function(){var e,n;return(0,x.YH)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,A.listFiles()];case 1:if((e=t.sent()).error)throw Error(e.error);return s({isLoading:!1,error:null,files:(null!=(n=e.files)?n:[]).slice().sort(function(e,n){return e.localeCompare(n)}).map(function(e){return{file:e,pathDepth:(0,eK.jP)(e)}}).sort(function(e,n){return e.pathDepth-n.pathDepth}).map(function(e){return e.file})}),[3,3];case 2:return t.sent(),s({isLoading:!1,error:"Could not load files",files:[]}),[3,3];case 3:return[2]}})})()},[A]),(0,r._)({},t)),I=D.isLoading,R=D.files,F=D.error,U=(c=(u={files:R,inputRef:T,initiallySelectedFile:k}).files,d=u.inputRef,f=u.initiallySelectedFile,h=(p=(0,i._)((0,l.useState)(!1),2))[0],v=p[1],b=(g=(0,i._)((0,l.useState)(c),2))[0],y=g[1],w=(0,l.useCallback)(function(e){return c.filter(function(n){return n.toLowerCase().includes(e.toLowerCase())})},[c]),_=(0,eZ.Bp)({items:b,isOpen:h,initialInputValue:f,initialSelectedItem:b.find(function(e){return e===f}),onIsOpenChange:function(e){v(!!e.isOpen)},onInputValueChange:function(e){var n;y(w(null!=(n=e.inputValue)?n:""))}}),S=(0,l.useCallback)(function(){var e;v(!1),null==(e=d.current)||e.blur()},[d]),(0,l.useEffect)(function(){var e;y(w(null!=(e=_.inputValue)?e:""))},[c,w,_.inputValue]),(0,l.useEffect)(function(){_.selectedItem&&S()},[_.selectedItem,S]),(0,a._)((0,r._)({},_),{closeMenu:S,items:b})),L=(0,m.A)(C);return(0,l.useEffect)(function(){U.selectedItem&&L.current(U.selectedItem)},[U.selectedItem,L]),(0,o.FD)(P.S,{children:[(0,o.Y)(P.S,(0,a._)((0,r._)({},U.getComboboxProps({refKey:"innerRef"})),{css:[N.wp.position.relative],children:(0,o.Y)(eX.I,(0,a._)((0,r._)({},U.getInputProps({onFocus:U.openMenu,ref:T,refKey:"inputRef",disabled:I,placeholder:"Search your files"})),{onClear:function(){var e;U.reset(),null==(e=T.current)||e.focus(),Y()},loading:I}))})),(0,o.FD)(P.S,(0,a._)((0,r._)({},U.getMenuProps({refKey:"innerRef"})),{css:[N.wp.position.relative],children:[F?(0,o.Y)(P.S,{p:8,children:(0,o.Y)(O.EY,{multiline:!1,children:"Something went wrong loading your files. Please try again."})}):null,!F&&U.isOpen?(0,o.Y)(e0,{css:[e2],children:U.items.length>0?U.items.map(function(e,n){return(0,o.Y)(e1,(0,a._)((0,r._)({css:[e5,U.highlightedIndex===n&&e3,e===U.selectedItem&&e4]},U.getItemProps({item:e,index:n,onClick:function(){U.closeMenu()}})),{children:(0,o.Y)(O.EY,{multiline:!1,children:e})}),e)}):(0,o.Y)(e1,{css:[N.wp.p(8)],children:(0,o.FD)(O.EY,{multiline:!1,children:['No files found for "',U.inputValue,'"']})})}):null]}))]})}var e9=t(68661),e8=function(e){var n=(0,l.useRef)(null);return{inputProps:{onChange:function(n){var t=n.target,r=t.validity,a=t.files;if(r.valid){var i=a?a[0]:null;i&&e(i)}},"aria-hidden":"true",ref:n,accept:e9.DA.join(","),type:"file"},buttonProps:{onClick:function(){var e;return null==(e=n.current)?void 0:e.click()}},inputRef:n}},e6=function(e){var n=e8(e.onFile),t=n.inputProps,i=n.buttonProps;return(0,o.FD)(o.FK,{children:[(0,o.Y)("input",(0,a._)((0,r._)({},t),{css:{display:"none"}})),e.children(i)]})},ne=t(9797),nn=(0,eQ.AH)({position:"absolute",top:0,left:0,width:"100%",height:"100%"});function nt(e){var n=e.src,t=e.alt;return(0,o.FD)(P.S,{css:[nn,{borderBottomLeftRadius:8,borderBottomRightRadius:8,overflow:"hidden"}],children:[(0,o.Y)(ne.A,{objectFit:"cover",layout:"fill",src:n,alt:t}),(0,o.Y)(P.S,{css:[nn,{background:"radial-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.6))",backgroundRepeat:"no-repeat"}]})]})}var nr=t(40756),na=t(66121),ni=t(9844),no=t(38848),ns=t(33683),nl=[{value:eb.ReplImage,text:"Photo"},{value:eb.ReplFile,text:"File"}],nu=function(e){var n,t,s,u,c,d=e.fs,f=(0,eV.c)(),p=f("coverPage"),h=eE(),m=h.selectedRepl,v=h.coverFileField,g=h.coverUrlField,b=h.coverDefaultViewField,y=(0,i._)((n=function(e){return(0,E._)(function(){var n;return(0,x.YH)(this,function(t){switch(t.label){case 0:if(!(null==e?void 0:e.length)||!(n=e[0]).type.startsWith("image/"))return[2];return[4,S.uploadImage(n,ej.VL.ReplCoverImage)];case 1:return t.sent(),[2]}})})()},s=(t=(0,i._)((0,l.useState)(!1),2))[0],u=t[1],c=(0,l.useRef)(0),[s,(0,l.useMemo)(function(){return{onDragEnter:function(e){e.preventDefault(),c.current++,u(!0)},onDragLeave:function(e){e.preventDefault(),c.current--,0===c.current&&u(!1)},onDrop:function(e){e.preventDefault(),c.current=0,u(!1),e.persist();var t,r,a=Array.from(null!=(r=null==e||null==(t=e.dataTransfer)?void 0:t.files)?r:[]);if(0===a.length)return void n(null);n(a)},onDragOver:function(e){e.preventDefault()}}},[n])]),2),w=y[0],_=y[1],S=eg(g.setValue);return(0,o.FD)(P.S,(0,a._)((0,r._)({gap:16},_),{children:[(0,o.FD)(P.S,{gap:12,children:[(0,o.Y)(P.S,{row:!0,gap:8,children:(0,o.Y)(na.z,{tag:"fieldset",css:[N.wp.rowWithGap(24)],name:p,value:b.value,onChange:function(e){ey(e.target.value)&&b.setValue(e.target.value)},children:nl.map(function(e){return(0,o.FD)(P.S,{row:!0,gap:8,children:[(0,o.Y)(na.s,{id:f(e.value),value:e.value}),(0,o.Y)("label",{htmlFor:f(e.value),children:e.text})]},e.value)})})}),b.value===eb.ReplImage&&(0,o.FD)(P.S,{gap:4,align:"center",children:[(0,o.Y)(e6,{onFile:function(e){return S.uploadImage(e,ej.VL.ReplCoverImage)},children:function(e){var n=e.onClick;return(0,o.Y)(nr.$n,{onClick:n,colorway:w?"primary":void 0,text:"Upload a cover photo",iconLeft:S.isLoading?(0,o.Y)(ns.A,{}):(0,o.Y)(no.A,{}),stretch:!0})}}),S.error?(0,o.Y)(ni.N,{colorway:"negative",icon:(0,o.Y)(eH.A,{}),text:S.error}):null,(0,o.Y)(O.EY,{variant:"small",color:"dimmer",children:"or drag and drop a photo here"})]}),b.value===eb.ReplFile&&(0,o.FD)(P.S,{gap:8,children:[(0,o.Y)(e7,{fs:d,initiallySelectedFile:v.value,onFileSelect:v.setValue,onClear:function(){return v.setValue("")}},null==m?void 0:m.id),(0,o.Y)(eB,{error:v.error})]})]}),b.value===eb.ReplImage&&(0,o.FD)(eq,{active:w,showPlayButton:b.value===eb.ReplImage&&!!g.value&&!S.isLoading,children:[b.value===eb.ReplImage&&g.value?(0,o.Y)(nt,{src:g.value,alt:"cover"}):null,S.isLoading?(0,o.Y)(P.S,{css:[{position:"absolute",inset:0},N.wp.align.center,N.wp.justify.center],children:(0,o.Y)(ns.A,{color:I.LU.white,size:24})}):null]})]}))},nc=t(12466),nd=t(70399),nf=function(){eY("iconUrl");var e=eE(),n=e.replIconInput,t=e.replIconUrl;return(0,o.FD)(P.S,{gap:16,align:"center",children:[(0,o.FD)(P.S,{gap:8,children:[(0,o.FD)(P.S,{row:!0,gap:8,children:[(0,o.Y)(e6,{onFile:function(e){return n.uploadImage(e,ej.VL.ReplIcon)},css:N.wp.backgroundColor.accentNegativeDefault,children:function(e){var n=e.onClick;return(0,o.Y)(nr.$n,{onClick:n,text:"Upload image",iconLeft:(0,o.Y)(no.A,{}),css:[N.wp.backgroundColor.backgroundHigher],type:"button",stretch:!0})}}),null]}),n.error?(0,o.Y)(P.S,{children:(0,o.Y)(ni.N,{icon:(0,o.Y)(eH.A,{}),colorway:"negative",text:n.error,closable:!0,closeAction:n.clearError})}):null]}),(0,o.Y)(nc.Mn,{alt:"icon",size:84,iconUrl:t,isLoading:!!n.previewUrl,css:[N.wp.backgroundColor.backgroundHigher]})]})},np=function(){return(0,o.Y)(P.S,{gap:8,children:(0,o.Y)(P.S,{children:(0,o.FD)(O.EY,{children:["See the"," ",(0,o.Y)("a",{href:"https://docs.replit.com/replit-workspace/templates",target:"_blank",children:"template docs"})," ","for a guide on what makes a good template. Please make sure your Repl abides by the"," ",(0,o.Y)("a",{href:"https://blog.replit.com/community-standards",target:"_blank",children:"Replit community rules and guidelines"})," ","before publishing."]})})})},nh=t(23099),nm=t.n(nh),nv=t(91246),ng=t.n(nv),nb=t(17459),ny=t(62246),nw=t(95526),n_=(0,eR.x)({container:[N.wp.maxWidth(100),N.wp.backgroundColor.backgroundDefault,N.wp.borderRadius(4),{aspectRatio:"1 / 1"}],stacked:[N.wp.flex.grow(1),N.wp.colWithGap(2),N.wp.justify.spaceEvenly],sideBySide:[N.wp.flex.grow(1),N.wp.rowWithGap(2)],paneGroup:[N.wp.p(2),N.wp.flex.grow(1),N.wp.backgroundColor.backgroundHigher,N.wp.center]});function nS(e){var n=e.layoutState,t=(0,nb._)(e,["layoutState"]);return(0,o.Y)(P.S,(0,a._)((0,r._)({css:n_.container,p:4,row:!0},t),{children:(0,o.Y)(nA,{root:n.layout,paneData:n.data})}))}function nA(e){var n,t=e.root,r=e.paneData;return null==t.tiling?null:(0,o.Y)(P.S,{grow:!0,row:!0,children:(null==(n=t.tiling)?void 0:n.type)==="split"?(0,o.Y)(nk,{split:t.tiling,paneData:r,depth:1}):(0,o.Y)(nC,{group:t.tiling,paneData:r,depth:1})})}function nk(e){var n=e.split,t=e.paneData,r=e.depth;return r>2?(0,o.Y)(nY,{}):(0,o.Y)(P.S,{css:n.stacked?n_.stacked:n_.sideBySide,children:n.children.map(function(e){return"split"===e.type?(0,o.Y)(nk,{split:e,paneData:t,depth:r+1},e.type+r):(0,o.Y)(nC,{group:e,paneData:t,depth:r+1},e.type+r)})})}function nC(e){var n=e.group,t=e.paneData,r=e.depth,a=t[n.panes[n.activeIndex]],i=(0,ny.Vv)(),s=i.Icon({pane:a,size:r>1?12:16}),l=i.getTitle(a);return(0,o.Y)(P.S,{css:n_.paneGroup,title:l,children:s})}function nY(){return(0,o.Y)(P.S,{css:n_.paneGroup,children:(0,o.Y)(nw.A,{})})}var nE=t(86105),nx=(0,eR.x)({layoutButton:[N.wp.borderRadius(4),N.wp.p(8),N.wp.border({width:1,color:I.LU.greyDimmer}),N.wp.backgroundColor.backgroundHigher,N.wp.cursor.pointer,{"&:hover":[N.wp.backgroundColor.backgroundHighest],'&[data-selected="true"]':[N.wp.backgroundColor.accentPrimaryDimmest,N.wp.border({color:I.LU.blueDimmer})],'&[data-selected="true"]:hover':[N.wp.backgroundColor.accentPrimaryDimmer],'&[data-disabled="true"]':[N.wp.backgroundColor.backgroundDefault,N.wp.border({color:I.LU.greyDimmest}),N.wp.color.foregroundDimmer,{"&:hover":{cursor:"not-allowed"}}]}],layoutButtonRow:[N.wp.rowWithGap(8),N.wp.justify.spaceBetween,N.wp.width("100%")],layoutButtonText:[N.wp.flex.growAndShrink(1),N.wp.flex.column,N.wp.justify.center],layoutButtonHeader:[N.wp.mb(4)],layoutPreview:[N.wp.width(80),N.wp.height(80),{alignSelf:"center"}]});function nT(e){var n,t=e.getCurrentLayoutState(),r=nm()(ng()(t,"sidebarPercent"),ng()(e.savedLayoutState,"sidebarPercent")),a=(n=(0,ny.Vv)(),(0,l.useCallback)(function(e){if((null==e?void 0:e.layout.tiling)==null)return"No tiled panes in layout";for(var t=[],r=[e.layout.tiling];r.length>0;){var a=r.pop();(null==a?void 0:a.type)==="paneGroup"?t.push.apply(t,(0,nE._)(a.panes)):(null==a?void 0:a.children)&&r.push.apply(r,(0,nE._)(a.children))}return t.reverse().map(function(t){return n.getTitle(e.data[t])}).join(", ")},[n])),i=(0,l.useMemo)(function(){return a(e.savedLayoutState)},[a,e.savedLayoutState]),s=(0,l.useMemo)(function(){return a(t)},[t,a]);return(0,o.FD)(P.S,{gap:8,children:[(0,o.Y)(O.EY,{variant:"small",children:"Choose an initial workspace layout for new Apps using this template."}),(0,o.Y)(eP.ui,{css:nx.layoutButton,"data-selected":e.templateLayout.value===em.Default,onClick:function(){return e.templateLayout.setValue(em.Default)},children:(0,o.Y)(P.S,{css:nx.layoutButtonRow,children:(0,o.FD)(P.S,{css:nx.layoutButtonText,children:[(0,o.Y)(O.Y9,{level:3,variant:"text",css:nx.layoutButtonHeader,children:"Default layout"}),(0,o.Y)(O.EY,{multiline:!0,variant:"small",children:"User's default layout (either side-by-side or stacked)."})]})})}),e.savedLayoutState?(0,o.Y)(eP.ui,{css:nx.layoutButton,"data-selected":e.templateLayout.value===em.Saved,onClick:function(){return e.templateLayout.setValue(em.Saved)},children:(0,o.FD)(P.S,{css:nx.layoutButtonRow,children:[(0,o.FD)(P.S,{css:nx.layoutButtonText,children:[(0,o.Y)(O.Y9,{level:3,variant:"text",css:nx.layoutButtonHeader,children:"Saved layout"}),(0,o.Y)(O.EY,{variant:"small",children:i})]}),(0,o.Y)(nS,{css:nx.layoutPreview,layoutState:e.savedLayoutState})]})}):null,(0,o.Y)(eP.ui,{css:nx.layoutButton,"data-selected":e.templateLayout.value===em.Current,"data-disabled":r,onClick:r?void 0:function(){return e.templateLayout.setValue(em.Current)},children:(0,o.FD)(P.S,{css:nx.layoutButtonRow,children:[(0,o.FD)(P.S,{css:nx.layoutButtonText,children:[(0,o.Y)(O.Y9,{level:3,variant:"text",css:nx.layoutButtonHeader,children:"Current layout"}),(0,o.Y)(O.EY,{variant:"small",children:r?"Same as saved layout":s})]}),(0,o.Y)(nS,{css:nx.layoutPreview,layoutState:t})]})})]})}function nD(e){var n=e.getCurrentLayoutState,t=eY("layout");return(0,o.Y)(P.S,{gap:8,children:null==n?(0,o.Y)(O.EY,{children:"Initial layouts may only be customized in the desktop environment."}):(0,o.Y)(nT,{templateLayout:t,getCurrentLayoutState:n})})}var nI=t(78725),nR=t(71696),nN=t(90352),nO=t(78624),nP=t(53178),nF=t(2418),nU=t(91539),nL=t(95353),nM=t(90233),nJ=t(13052),nH=t(33759),nB=t(13298),nV=t(2718),n$=(0,eR.x)({rootContainer:[(0,C._)({},(0,nJ.wm)("tabletMin"),{display:"flex"}),N.wp.flex.growAndShrink(1),N.wp.p(16),N.wp.colWithGap(12),N.wp.align.center,N.wp.display.none],heading:[N.wp.width("100%"),{fontWeight:I.LU.fontWeightMedium}],contentContainer:[N.wp.width("100%"),N.wp.maxWidth(432),N.wp.position.relative],topShadow:{position:"absolute",zIndex:2,inset:0,boxShadow:"inset 0 48px 24px -24px "+I.LU.backgroundRoot+", inset 0 -48px 24px -24px "+I.LU.backgroundRoot},feed:[N.wp.height(416),N.wp.colWithGap(24),N.wp.justify.center,N.wp.overflow("hidden"),N.wp.backgroundColor.backgroundRoot]}),nG=P.D.form,nz=function(e){var n=e.user,t=eE(),i=t.selectedRepl,s=t.replTitleField,l=t.replDescriptionField,u=t.replIconUrl;return(0,o.FD)(eP.ui,{background:"root",css:n$.rootContainer,children:[(0,o.Y)(O.EY,{multiline:!1,variant:"small",color:"dimmer",css:n$.heading,children:"Preview"}),(0,o.FD)(P.S,{css:n$.contentContainer,children:[(0,o.Y)(P.S,{css:n$.topShadow}),(0,o.FD)(P.S,{css:n$.feed,children:[(0,o.Y)(eJ.v,{}),i&&u?(0,o.Y)(eJ.A,{post:{user:n,repl:(0,a._)((0,r._)({},i),{title:s.value,iconUrl:u,description:l.value,isTemplate:!0})}}):(0,o.Y)(P.S,{grow:!0,align:"center",justify:"center",children:(0,o.Y)(ns.A,{})}),(0,o.Y)(eJ.v,{})]})]})]})},nW=["Basics","Icon","Cover page","Layout","Publishing"],nj=(0,eR.x)({rootContainer:[N.wp.borderRadius(8),N.wp.flex.row,N.wp.overflow("hidden"),(0,C._)({},(0,nJ.wm)("tabletMax"),{minWidth:850})],formContainer:[N.wp.minWidth(320),N.wp.flex.growAndShrink(1),(0,C._)({},(0,nJ.wm)("tabletMin"),{maxWidth:370})],form:[N.wp.colWithGap(16),N.wp.flex.growAndShrink(1)],loadingContainer:[N.wp.color.foregroundDimmer],submitButton:[{boxShadow:"0px 0px 16px 0px ".concat(I.LU.accentPrimaryDimmer," !important")}]});function nq(e){var n,t,a,s,u,d,f,p,v,g,b,w,_,S,A,k,C,Y,I,R,F,U,J,H,B,V,$,G,W,Q,X,ee,en,et,er,ea,ei,es,ed,ev,eY,eE,ex,eT,eD,eI,eR,eN,eO,eF,eU,eL,eJ,eB,eV,e$,eG,ez,ej,eq,eZ,eK,eQ,eX,e0,e1=e.replId,e2=e.currentUser,e3=e.source,e4=e.getDesktopLayoutState,e5=(0,D.a)({tablet:!0}),e7=(0,h._P)({type:"boolean",controlName:"flag-template-layout-author"}),e9=!e5&&e7&&null!=e4,e8=(w=!!(null==(b=(null==(s=(t={variables:{id:(n={replId:e1,fileValidator:function(e){return(0,E._)(function(){var n;return(0,x.YH)(this,function(t){switch(t.label){case 0:if(!nA)return[2,{message:"Could not get file"}];if(!e)return[2,{message:"File path cannot be blank"}];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,nA.stat(e)];case 2:if(!(n=t.sent()).exists||n.type!==T.pt.File)return[2,{message:"File does not exist"}];return[3,4];case 3:return t.sent(),[2,{message:"Could not get file"}];case 4:return[2]}})})()},source:e3,canAuthorTemplateLayout:e9,getDesktopLayoutState:e4}).replId}},a=(0,r._)({},j,t),g=z.I(q,a)).data)?void 0:s.getRepl.__typename)==="Repl"?g.data.getRepl:null)?void 0:b.publishedAs),_=(0,Z.W)("",eA),S=(0,Z.W)("",ek),A=(0,Z.W)(null,function(){return null}),k=(0,Z.W)("repl_image",function(){return null}),C=(0,Z.W)(null,function(){return null}),R=[_,S,A,k,C,Y=(0,Z.W)("",n.fileValidator),I=(0,Z.W)(em.Default,function(){})],J=(U=(0,i._)((F=(0,r._)({},el,void 0),K.n(eu,F)),2))[0],B={data:(H=U[1]).data,loading:H.loading,error:ec(H),setReplViewSettings:function(e){return(0,E._)(function(){var n;return(0,x.YH)(this,function(t){switch(t.label){case 0:if(H.loading)return[2,{data:null,error:null}];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,J({variables:{input:e}})];case 2:return[2,{data:(n=t.sent()).data,error:ec(n)}];case 3:return t.sent(),[2,{data:null,error:"Something went wrong saving your Cover page"}];case 4:return[2]}})})()}},G=($=(0,i._)((V=(0,r._)({},ef,void 0),K.n(ep,V)),2))[0],Q={data:(W=$[1]).data,loading:W.loading,error:W.error&&eh(W.error),updateRepl:function(e){return(0,E._)(function(){return(0,x.YH)(this,function(n){switch(n.label){case 0:if(W.loading)return[2,{data:null,error:null}];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,G({variables:{input:e}})];case 2:return[2,{data:n.sent().data,error:null}];case 3:return[2,{data:null,error:eh(n.sent())}];case 4:return[2]}})})()}},X=eo(),ee=(null==b||null==(u=b.replViewSettings)?void 0:u.defaultView)&&ey(b.replViewSettings.defaultView)?b.replViewSettings.defaultView:"repl_image",en=(0,m.A)(_.setValue),et=(0,m.A)(S.setValue),er=(0,m.A)(A.setValue),ea=(0,m.A)(C.setValue),ei=(0,m.A)(k.setValue),es=(0,m.A)(Y.setValue),(0,l.useEffect)(function(){var e,n,t,r;b&&(ei.current(ee),es.current(null!=(n=null==(e=b.replViewSettings)?void 0:e.replFile)?n:""),en.current(b.isRenamed?b.title:"",{preventTouch:!0}),et.current(null!=(t=b.description)?t:"",{preventTouch:!0}),er.current(b.iconUrl.endsWith(".svg")?null:b.iconUrl),ea.current(null!=(r=b.imageUrl)?r:null))},[b,ea,er,en,et,ee,ei,es]),ev=(ed=eg(A.setValue)).previewUrl||A.value||(null==b?void 0:b.iconUrl)||(null==b?void 0:b.templateInfo.iconUrl),eY=null!=(v=null==(p=R.filter(function(e){return(e!==Y||"repl_file"===k.value)&&e.error}))||null==(f=p[0])||null==(d=f.error)?void 0:d.message)?v:null,eE=Q.loading||B.loading,ex=Q.error||B.error,eT=X.loading,eD=X.error,{selectedRepl:b,isReplLoading:g.loading,replLoadingError:g.error,replTitleField:_,replDescriptionField:S,iconUrlField:A,coverDefaultViewField:k,coverUrlField:C,coverFileField:Y,layoutField:I,replIconInput:ed,replIconUrl:ev,inputError:eY,save:function(){return(0,E._)(function(){var e,n,t,r,a,i,o,s,l;return(0,x.YH)(this,function(u){switch(u.label){case 0:if(!b)throw new ew("Missing repl");if(n=b.title!==_.value,t=b.description!==S.value,r=b.iconUrl!==A.value,a="repl_image"===k.value&&b.imageUrl!==C.value,i=Y.value&&"repl_file"===k.value&&(null==(e=b.replViewSettings)?void 0:e.replFile)!==Y.value,o=k.value&&ee!==k.value,!(n||t||r))return[3,2];if(_.error||S.error||A.error)throw new ew;return[4,Q.updateRepl({id:b.id,title:n?_.value:void 0,description:t?S.value:void 0,iconUrl:r?A.value:void 0})];case 1:if((s=u.sent()).error)throw new e_(s.error);u.label=2;case 2:if(!(o||a||i))return[3,4];if("repl_image"===k.value&&C.error||"repl_file"===k.value&&Y.error)throw new ew;return[4,B.setReplViewSettings({replId:b.id,defaultView:"repl_image"===k.value?c.Qjt.ReplImage:c.Qjt.ReplFile,replImage:a?C.value:void 0,replFile:i?Y.value:void 0})];case 3:if((l=u.sent()).error)throw new e_(l.error);u.label=4;case 4:return[2]}})})()},isSaving:eE,savingError:ex,publishInitialRelease:function(){return(0,E._)(function(){var e,t,r;return(0,x.YH)(this,function(a){switch(a.label){case 0:if(!b)throw new ew("Missing repl");if(eY)throw new ew(null!=eY?eY:"Something went wrong");return e=null,n.canAuthorTemplateLayout&&I.value===em.Current&&(e=null==(t=n.getDesktopLayoutState)?void 0:t.call(n)),[4,X.createDeployment({input:{replId:b.id,description:S.value,iconUrl:ev||b.iconUrl,initialLayoutState:e}})];case 1:if((r=a.sent()).error)throw new eS(r.error);return(0,y.u4)(y.AZ.POST_MADE,{source:n.source,replType:"template_repl",title:_.value,description:S.value,defaultView:k.value}),[2]}})})()},isPublishing:eT,publishingError:eD,isPublished:w}),e6=e8.selectedRepl,ne=e8.isReplLoading,nn=e8.replLoadingError,nt=e8.replTitleField,na=e8.replDescriptionField,no=e8.iconUrlField,nl=e8.coverDefaultViewField,nc=e8.coverUrlField,nd=e8.coverFileField,nh=e8.layoutField,nm=e8.save,nv=e8.isSaving,ng=e8.savingError,nb=e8.publishInitialRelease,ny=e8.isPublishing,nw=e8.publishingError,n_=e8.isPublished,nS=(eR=(eI={repl:e6,currentUser:e2}).repl,eN=eI.currentUser,eF=(eO=(0,i._)((0,nU.eY)(),2))[0],eU=eO[1],eL=(0,nU.ZM)(),eB=(eJ=(0,i._)((0,l.useState)(function(){var e,n,t;return e=(0,nR.Ay)({onUnrecoverableError:(0,nF.A)({throwBsod:eU,origin:"Publish: services/onUnrecoverableError"})}),n=(0,nP.A)({container:e}),t=(0,nI.A)({container:e,fs:n}),{container:e,fs:n,dotReplit:t}}),1)[0]).container,eV=eJ.fs,e$=eJ.dotReplit,ez=(eG=(0,i._)((0,l.useState)(function(){return eB.getConnectionState()===nR.KN.CONNECTED}),2))[0],ej=eG[1],eq=(0,nN.$)(eR?{repl:eR,currentUser:eN}:null),eZ=(0,nO.L)(),(0,l.useEffect)(function(){if(eR&&eq&&eB.getConnectionState()===nR.KN.DISCONNECTED)return eB.connect({context:eq,getMinimumRetryDelayMs:eZ}),function(){return eB.close()}},[eR,eB,eq]),(0,l.useEffect)(function(){return eB.onConnectionStateChanged(function(e){ej(e===nR.KN.CONNECTED)})},[eB]),{isConnected:ez,container:eB,fs:eV,dotReplit:e$,bsodId:null==eF?void 0:eF.eventId,devClearBsod:function(){return eL()}}),nA=nS.fs,nk=nS.dotReplit,nC=nS.bsodId,nY=e9&&!n_?[]:["Layout"],nE=(0,i._)((0,l.useState)(0),2),nx=nE[0],nT=nE[1],nJ=nW[nx],n$=nx===nW.length-1,nq=(0,i._)((0,l.useState)({show:!1,isUpdate:!1}),2),nZ=nq[0],nK=nq[1],nQ=(0,i._)((0,l.useState)(function(){return Array(nW.length).fill(!1)}),2),nX=nQ[0],n0=nQ[1],n1=(0,l.useCallback)(function(e,n){nX[e]=n,n0(nX)},[nX]);(0,l.useEffect)(function(){e8.replTitleField.value&&e8.replDescriptionField.value?n1(0,!0):n1(0,!1),e8.iconUrlField.value?n1(2,!0):n1(2,!1),e8.coverDefaultViewField.value===eb.ReplImage&&e8.coverUrlField.value||e8.coverDefaultViewField.value===eb.ReplFile&&e8.coverFileField.value?n1(3,!0):n1(3,!1)},[nX,e8,n1]);var n2=(eQ=(eK=(0,i._)((0,l.useState)({isLoading:!0,error:null,entryPoint:null}),2))[0],eX=eK[1],(0,l.useEffect)(function(){(0,E._)(function(){var e,n,t;return(0,x.YH)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,nk.getConfig()];case 1:if((n=r.sent()).error)throw Error(n.errorMessage);return eX({isLoading:!1,error:null,entryPoint:null!=(t=null==n||null==(e=n.config)?void 0:e.entrypoint)?t:null}),[3,3];case 2:return r.sent(),eX({isLoading:!1,error:"Could not load .replit config",entryPoint:null}),[3,3];case 3:return[2]}})})()},[nk]),(0,r._)({},eQ));(0,l.useEffect)(function(){n2.isLoading||!n2.entryPoint||nd.value||nd.setValue(n2.entryPoint)},[n2.isLoading,n2.entryPoint,nd]);var n3=(0,i._)((0,l.useState)(!1),2),n4=n3[0],n5=n3[1];(0,l.useEffect)(function(){n4||e1&&(ne||n_)||(n5(!0),(0,y.u4)(y.AZ.PUBLISH_SELECTED,{source:e3}))},[n4,e3,e1,ne,n_]);var n7=(0,m.A)(!!(null==e6?void 0:e6.publishedAs)),n9=(0,m.A)(nJ);if((0,l.useEffect)(function(){return function(){n7.current||(0,y.u4)(y.AZ.PUBLISH_FLOW_EXITED,{source:e3,lastSectionVisited:n9.current})}},[e3,n7,n9]),nC)return(0,o.Y)(nL.A,{});if(nZ.show&&e6)return(0,o.Y)(eM,{repl:e6});var n8={Basics:{hasError:!!(nt.error||na.error),isValid:function(){return(0,E._)(function(){return(0,x.YH)(this,function(e){switch(e.label){case 0:return[4,Promise.all([nt.validate(),na.validate()])];case 1:return[2,e.sent().every(function(e){return!e})]}})})()}},Icon:{hasError:!!no.error,isValid:function(){return(0,E._)(function(){return(0,x.YH)(this,function(e){switch(e.label){case 0:return[4,no.validate()];case 1:return[2,!e.sent()]}})})()}},"Cover page":{hasError:!!(nl.value===eb.ReplImage?nc.error:nd.error),isValid:function(){return(0,E._)(function(){var e;return(0,x.YH)(this,function(n){switch(n.label){case 0:if(nl.value!==eb.ReplImage)return[3,2];return[4,nc.validate()];case 1:return e=!n.sent(),[3,4];case 2:return[4,nd.validate()];case 3:e=!n.sent(),n.label=4;case 4:return[2,e]}})})()}},Layout:{hasError:!!nh.error,isValid:function(){return(0,E._)(function(){return(0,x.YH)(this,function(e){switch(e.label){case 0:return[4,nh.validate()];case 1:return[2,!e.sent()]}})})()}},Publishing:{hasError:!1,isValid:function(){return(0,E._)(function(){return(0,x.YH)(this,function(e){return[2,!0]})})()}}},n6=n8[nJ].hasError,te=n8[nJ].isValid,tn=null!=(e0=nW.find(function(e){return n8[e].hasError}))?e0:null,tt=null;e6?nn||ng||nw?tt="Something went wrong - please try again":n6&&(tt="Please fill out the the form"):tt="Please select a Repl";var tr=!!(!e6||n6||nn||ne||nv||ny),ta=function(e){return(0,E._)(function(){var n;return(0,x.YH)(this,function(t){switch(t.label){case 0:if(n=tr)return[3,2];return[4,te()];case 1:n=!t.sent(),t.label=2;case 2:if(n)return[2];if(!nY.includes(nW[e]))return[3,4];return[4,ta(e+1)];case 3:case 6:return t.sent(),[2];case 4:return t.trys.push([4,6,,7]),nT(e),[4,nm()];case 5:return t.sent(),[3,7];case 7:return[2]}})})()},ti=nx>0;return(0,o.Y)(eC.Provider,{value:e8,children:(0,o.FD)(eP.ui,{css:nj.rootContainer,background:"default",dataCy:"publish-form-container",children:[(0,o.FD)(P.S,{css:nj.formContainer,p:16,gap:12,children:[(0,o.Y)(O.EY,{variant:"subheadBig",multiline:!1,children:n_?"Edit publish settings":"Publish template"}),(0,o.FD)(nG,{onSubmit:function(e){return(0,E._)(function(){var n,t,r,a,i,o;return(0,x.YH)(this,function(s){switch(s.label){case 0:if(e.preventDefault(),!n$)return[3,13];n=!0,t=!1,r=void 0,s.label=1;case 1:s.trys.push([1,6,7,8]),a=nW[Symbol.iterator](),s.label=2;case 2:if(n=(i=a.next()).done)return[3,5];return[4,n8[i.value].isValid()];case 3:if(!s.sent())return[2];s.label=4;case 4:return n=!0,[3,2];case 5:return[3,8];case 6:return o=s.sent(),t=!0,r=o,[3,8];case 7:try{n||null==a.return||a.return()}finally{if(t)throw r}return[7];case 8:if(n_)return[3,10];return[4,nb()];case 9:return s.sent(),nK({show:!0,isUpdate:!1}),[3,12];case 10:return[4,nm()];case 11:s.sent(),nK({show:!0,isUpdate:!0}),s.label=12;case 12:return[3,14];case 13:ta(nx+1),s.label=14;case 14:return[2]}})})()},css:nj.form,children:[(0,o.Y)(P.S,{row:!0,gap:4,align:"center",children:nW.map(function(e,n){return nY.includes(e)?null:(0,o.FD)(l.Fragment,{children:[0!==n&&(0,o.Y)(L,{}),(0,o.Y)(M,{isActive:nx===n,isComplete:nX[n],onClick:function(){return ta(n)},disabled:tr,children:e})]},e)})}),(0,o.FD)(P.S,{grow:!0,shrink:!0,children:["Basics"===nJ&&(0,o.Y)(eW,{}),"Icon"===nJ&&(0,o.Y)(nf,{}),"Cover page"===nJ&&(0,o.Y)(nu,{fs:nA}),"Layout"===nJ&&(0,o.Y)(nD,{getCurrentLayoutState:e4}),"Publishing"===nJ&&(0,o.Y)(np,{})]}),(0,o.FD)(P.S,{children:[n$&&tn&&tn!==nJ?(0,o.Y)(ni.N,{colorway:"negative",icon:(0,o.Y)(eH.A,{}),text:"Please fix error in ".concat(tn," section")}):null,ng?(0,o.Y)(ni.N,{colorway:"negative",icon:(0,o.Y)(eH.A,{}),text:ng}):null,nw?(0,o.Y)(ni.N,{colorway:"negative",icon:(0,o.Y)(eH.A,{}),text:nw}):null]}),(0,o.FD)(P.S,{css:[ti?N.wp.justify.spaceBetween:N.wp.justify.end],row:!0,gap:8,align:"center",children:[ti?(0,o.Y)(nr.$n,{type:"button",iconLeft:(0,o.Y)(nH.A,{}),disabled:tr,onClick:function(){return ta(nx-1)},text:"Back"}):null,nv?(0,o.Y)(P.S,{css:nj.loadingContainer,row:!0,gap:4,children:(0,o.Y)(ns.A,{})}):null,(0,o.FD)(nM.m_,{tooltip:tt,placement:"bottom",isDisabled:!tt,children:[!n$&&(0,o.Y)(nr.$n,{type:"submit",colorway:"primary",iconLeft:(0,o.Y)(nB.A,{}),disabled:tr,text:"Next",dataCy:"publish-form-next-button"}),n$&&!n_?(0,o.Y)(nr.$n,{type:"submit",colorway:"primary",css:nj.submitButton,iconLeft:ny?(0,o.Y)(ns.A,{}):(0,o.Y)(nV.A,{}),disabled:!!(tr||tn),text:"Submit",dataCy:"publish-form-publish-button"}):null,n$&&n_?(0,o.Y)(nr.$n,{type:"submit",colorway:"primary",iconLeft:ny?(0,o.Y)(ns.A,{}):(0,o.Y)(nV.A,{}),disabled:!!(tr||tn),text:"Save"}):null]})]})]})]}),(0,o.Y)(nz,{user:e2})]})})}var nZ=(0,eR.x)({loadingContainer:[N.wp.center,N.wp.p(32),N.wp.width(512),(0,C._)({},"@media (max-width: ".concat(eI.LO.tabletMin,"px)"),[{width:"100%"}])],errorContainer:[N.wp.center,N.wp.p(32)]});function nK(e){var n,t,r=e.replId,a=e.source,i=e.getDesktopLayoutState,s=(0,Y.Df)(),l=(null==(t=s.data)||null==(n=t.currentUser)?void 0:n.__typename)==="CurrentUser"?s.data.currentUser:null;return s.loading?(0,o.Y)(P.S,{css:nZ.loadingContainer,children:(0,o.Y)(ns.A,{})}):s.error||!l?(0,o.Y)(P.S,{css:nZ.errorContainer,children:(0,o.Y)(O.EY,{multiline:!1,children:"Something went wrong, please try again."})}):(0,o.Y)(nq,{source:a,replId:r,currentUser:l,getDesktopLayoutState:i})}var nQ=t(46735),nX=t(67862);function n0(){var e=(0,$._)(["\n  mutation RevertTemplateRelease($input: RevertReplReleaseInput!) {\n    revertReplRelease(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return n0=function(){return e},e}var n1={},n2=(0,G.J1)(n0());function n3(){var e=(0,$._)(["\n  query PendingChanges($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        deployment {\n          id\n          activeRelease {\n            id\n            pendingChanges {\n              fileName\n              changeType\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return n3=function(){return e},e}var n4={},n5=(0,G.J1)(n3()),n7=t(85319),n9=t(32289),n8=P.D.form;function n6(e){if(0===e.length)return{message:"You cannot leave this empty."}}function te(e){var n,t,r=e.changeType;return r===c.qZ1.NewFile?(n=I.LU.accentPositiveStronger,t="Added"):r===c.qZ1.DeletedFile?(n=I.LU.accentNegativeStronger,t="Deleted"):(n=I.LU.foregroundDefault,t="Changed"),(0,o.Y)(O.EY,{variant:"small",css:[{color:n}],multiline:!1,children:t})}var tn=(0,eR.x)({loadingContainer:[N.wp.center],container:[{display:"grid",gridTemplateColumns:"1fr 1fr",gap:I.LU.space8}]});function tt(e){var n=e.pendingChangesState,t=e.isReplitTemplate;if(n.loading)return(0,o.Y)(P.S,{css:tn.loadingContainer,children:(0,o.Y)(ns.A,{})});if(n.error)return(0,o.Y)(ni.N,{icon:(0,o.Y)(eH.A,{}),text:n.error.message||"Could not load modified files - please try again.",colorway:"negative"});if(!n.pendingChanges||0===n.pendingChanges.length)return t?null:(0,o.Y)(O.EY,{children:"No file changes to publish."});var r=n.pendingChanges,a=r.slice(0,15);return(0,o.FD)(P.S,{css:tn.container,children:[a.map(function(e){return(0,o.FD)(l.Fragment,{children:[(0,o.FD)(P.S,{row:!0,gap:4,align:"center",children:[(0,o.Y)(n9.A,{size:12,path:e.fileName}),(0,o.Y)(O.EY,{multiline:!1,children:e.fileName})]},e.fileName),(0,o.Y)(te,{changeType:e.changeType})]},e.fileName)}),r.length>a.length&&(0,o.FD)(O.EY,{multiline:!1,children:["And ",r.length-a.length," other files..."]})]})}var tr=(0,eR.x)({header:[N.wp.mb(16)],grid:[{display:"grid",gridTemplateColumns:"2fr 3fr 1fr",gap:I.LU.space8}],activeLabel:[N.wp.p(4),{display:"flex"}]});function ta(e){var n,t,a,s,u=e.repl,c=(s=(a=(0,i._)((n={refetchQueries:["ReplEnvironmentHeader"]},t=(0,r._)({},n1,n),K.n(n2,t)),2))[0],{revertTemplateRelease:function(e){return(0,E._)(function(e){var n;return(0,x.YH)(this,function(t){switch(t.label){case 0:return[4,s({variables:{input:e.input}})];case 1:return[2,{data:(n=t.sent()).data,error:function(e){if(!e.data)return null;var n=e.data;if("revertReplRelease"in n){if("NotFoundError"===n.revertReplRelease.__typename||"UnauthorizedError"===n.revertReplRelease.__typename||"UserError"===n.revertReplRelease.__typename)return n.revertReplRelease.message;else if("Repl"!==n.revertReplRelease.__typename)return"Something went wrong reverting your Template"}}(n)}]}})}).apply(this,arguments)},state:a[1]});return(0,o.FD)(P.S,{children:[(0,o.Y)(O.Y9,{level:1,variant:"subheadBig",css:tr.header,children:"Existing Releases"}),(0,o.Y)(P.S,{css:tr.grid,children:u.releases.items.map(function(e){var n,t;return(0,o.FD)(l.Fragment,{children:[(0,o.Y)("span",{children:(0,nQ.A)(new Date(e.timeCreated),"do MMM, hh:mm a")}),(0,o.Y)("span",{children:e.description}),(0,o.Y)("span",{style:{justifySelf:"end"},children:e.id===(null==(t=u.deployment)||null==(n=t.activeRelease)?void 0:n.id)?(0,o.Y)("span",{css:tr.activeLabel,children:"(active)"}):(0,o.Y)(nr.$n,{text:"revert",colorway:"primary",size:"small",onClick:function(){var n;n=e.id,(0,E._)(function(){return(0,x.YH)(this,function(e){switch(e.label){case 0:return[4,c.revertTemplateRelease({input:{replId:u.id,releaseId:n}})];case 1:return e.sent(),[2]}})})()}})})]},e.id)})})]})}var ti=(0,eR.x)({container:[N.wp.colWithGap(24),N.wp.p(16)],descriptionLabel:[N.wp.color.foregroundDimmer,{fontSize:I.LU.fontSizeSmall,lineHeight:I.LU.lineHeightSmall}],descriptionInput:[N.wp.width("100%"),N.wp.minHeight(64),N.wp.maxHeight(128),{resize:"vertical"}]});function to(e){var n,t,s,u,c,d,f,p,m,v,g,b,y=e.repl,w=e.getDesktopLayoutState,_=(0,eV.c)(),S=(0,i._)((0,l.useState)(!1),2),A=S[0],k=S[1],Y=(0,i._)((0,l.useState)(!1),2),T=Y[0],I=Y[1],R=(c=function(e){var n,t,a,i,o=(a={variables:{replId:e.replId},fetchPolicy:"cache-and-network",ssr:!1},i=(0,r._)({},n4,a),z.I(n5,i)),s=o.data,l=o.loading,u=o.error;if(l)return{loading:l,pendingChanges:null,error:null};if(u)return{loading:!1,pendingChanges:null,error:u};var c=(null==s?void 0:s.getRepl.__typename)==="Repl"?s.getRepl:null;return c?{loading:!1,pendingChanges:(null==(t=c.deployment)||null==(n=t.activeRelease)?void 0:n.pendingChanges)||[],error:u}:{loading:!1,pendingChanges:null,error:Error("Repl not found")}}({replId:{replId:y.id}.replId}),d=(0,l.useMemo)(function(){return c.pendingChanges?c.pendingChanges.slice().sort(function(e,n){return e.fileName.localeCompare(n.fileName)}).map(function(e){return{file:e,pathDepth:(0,eK.jP)(e.fileName)}}).sort(function(e,n){return e.pathDepth-n.pathDepth}).map(function(e){return e.file}):[]},[c.pendingChanges]),(0,a._)((0,r._)({},c),{pendingChanges:d})),N=eo(),F=(0,Z.W)("",n6),U=(null==(f=R.pendingChanges)?void 0:f.length)!==0,L=(null==(p=y.user)?void 0:p.username)===nX.GA||(null==(m=y.user)?void 0:m.username)==="templates",M=(0,i._)((0,l.useState)({ran:!1,tested:!1}),2),J=M[0],H=M[1],B=(0,D.a)({tablet:!0}),V=(0,h._P)({type:"boolean",controlName:"flag-template-layout-author"}),$=!B&&V&&null!=w,G=(0,i._)((n=y,s=(t=(0,i._)((0,l.useState)(n.releases.items[0]),2))[0],u=t[1],(0,l.useEffect)(function(){n.releases.items.length>0&&u(n.releases.items.slice().sort()[0])},[n.releases.items]),[s,u]),2),W=G[0],j=G[1],q=(null==W?void 0:W.initialLayoutState)!=null,K=(0,Z.W)(q?em.Saved:em.Default,function(){}),Q=q?K.value!==em.Saved:K.value!==em.Default,X=U||Q;(0,l.useEffect)(function(){H({ran:!1,tested:!1})},[H]);var ee=!!(F.error||N.loading||!L&&!X||L&&(!J.ran||!J.tested)),en=L&&(null==(g=y.releases)||null==(v=g.items)?void 0:v.length)>1,et="";return(F.error?et="Please fill out the form":L||X||(et="No file or layout changes to publish in this release"),A)?(0,o.Y)(eM,{repl:y}):T?(0,o.Y)(P.S,{p:16,gap:16,children:(0,o.Y)(ta,{repl:y})}):(0,o.FD)(n8,{onSubmit:function(e){return(0,E._)(function(){var n,t,r,a;return(0,x.YH)(this,function(i){switch(i.label){case 0:if(e.preventDefault(),ee||F.validate())return[2];return t=null,$&&(K.value===em.Current?t=w():K.value===em.Saved&&q&&(t=null==W?void 0:W.initialLayoutState)),[4,N.createRelease({input:{replId:y.id,description:F.value,initialLayoutState:t}})];case 1:if((r=i.sent()).error)return[2];return k(!0),(null==(n=r.data)?void 0:n.createReplRelease.__typename)==="Repl"&&(j(a=r.data.createReplRelease.releases.items.slice().sort()[0]),K.setValue((null==a?void 0:a.initialLayoutState)!=null?em.Saved:em.Default)),[2]}})})()},css:ti.container,children:[(0,o.Y)(O.Y9,{level:1,variant:"headerDefault",children:"Publish template changes"}),(0,o.FD)(P.S,{gap:8,children:[(0,o.Y)(O.Y9,{level:2,variant:"subheadDefault",children:"Modified files"}),(0,o.Y)(tt,{pendingChangesState:R,isReplitTemplate:L})]}),$?(0,o.FD)(P.S,{gap:8,children:[(0,o.Y)(O.Y9,{level:2,variant:"subheadDefault",children:"Workspace layout"}),(0,o.Y)(nT,{getCurrentLayoutState:w,savedLayoutState:null==W?void 0:W.initialLayoutState,templateLayout:K})]}):null,L||X?(0,o.FD)(P.S,{gap:4,children:[(0,o.Y)("label",{htmlFor:_("description"),css:ti.descriptionLabel,children:"Description"}),(0,o.Y)(e$.ov,{id:_("description"),"aria-label":"Description",onChange:function(e){return F.setValue(e.target.value)},css:ti.descriptionInput,placeholder:"Explain what has changed about your template"}),F.error?(0,o.Y)(ni.N,{icon:(0,o.Y)(eH.A,{}),text:null==(b=F.error)?void 0:b.message,colorway:"negative"}):null]}):null,L?(0,o.Y)(ts,{repl:y,state:J,onChange:function(e,n){return H(function(t){return(0,a._)((0,r._)({},t),(0,C._)({},e,n))})}}):null,(0,o.Y)(P.S,{children:N.error?(0,o.Y)(ni.N,{icon:(0,o.Y)(eH.A,{}),text:N.error,colorway:"negative"}):null}),(0,o.FD)(P.S,{row:!0,gap:12,justify:"end",children:[en?(0,o.Y)(nr.$n,{text:"Revert to older",colorway:"negative",onClick:function(){return I(!0)}}):null,(0,o.Y)(nM.m_,{tooltip:et,placement:"bottom",isDisabled:!et,children:(0,o.Y)(nr.$n,{text:"Publish release",type:"submit",colorway:"primary",iconLeft:(0,o.Y)(nV.A,{}),disabled:ee})})]})]})}function ts(e){var n,t,r,a=e.repl,i=e.state,s=e.onChange,l=(0,eV.c)(),u=(0,Q.OI)(),c=u.data,d=u.loading,f=null==c||null==(n=c.currentUser)?void 0:n.username;return(0,o.FD)(P.S,{gap:12,children:[(0,o.Y)(O.Y9,{level:2,children:"Official Replit Template publishing checklist"}),(0,o.FD)(P.S,{children:[(0,o.FD)(tl,{children:[(0,o.Y)(n7.S,{id:l("ran"),checked:i.ran,onChange:function(e){return s("ran",e)}}),(0,o.Y)("label",{htmlFor:l("ran"),children:"Ran Repl:"}),(0,o.FD)("span",{children:["I ran the Repl to generate and cache package guesser result into"," ",(0,o.Y)("code",{children:".upm"}),"."]})]}),(0,o.FD)(tl,{children:[(0,o.Y)(n7.S,{id:l("tested"),checked:i.tested,onChange:function(e){return s("tested",e)}}),(0,o.Y)("label",{htmlFor:l("tested"),children:"Ran tests:"}),(0,o.FD)("span",{children:['I ran "Test working copy" for @',null==(t=a.user)?void 0:t.username,"/",a.slug," in"," ",(0,o.Y)("a",{href:"https://template-tester.replit.app/",target:"_blank",children:"template tester"}),". ",(0,o.Y)("br",{}),"If there are no tests, consider adding one."]})]})]}),d||(null==(r=a.user)?void 0:r.username)!==f?null:(0,o.Y)(ni.N,{text:"You can't publish an update while impersonating. Add yourself as a member of the 'replit' team using CLUI tool 'add-remove-team-member', then open this Repl from your account.",colorway:"negative"})]})}function tl(e){var n=e.children;return(0,o.Y)(P.S,{py:2,row:!0,gap:8,children:n})}var tu=t(87929),tc=t(55981),td=t(11325),tf=t(52963),tp=t(62058),th=t(48473),tm=t(90960),tv=t(63841),tg=t(31472),tb=t(84128),ty=t(40115),tw=t(47099),t_=t(93174),tS=t(75054),tA=t(77481),tk=(0,eR.x)({dialog:[N.wp.py(2),N.wp.colWithGap(16)],reachOut:[N.wp.border({direction:"top",color:I.LU.outlineDimmest}),{marginInline:-16}]}),tC=function(e){var n,t,r,a,s,u,d,f,p,h,b,y=e.repl,w=e.org,_=e.onRequestClose,S=e.onForkSeparately,A=(0,v.A)().showError,k=w.id,C=(0,i._)((0,tb.A)({navigateAfterFork:!0,replLinkOptions:{initialPaneType:"project"},onFork:function(){_()},onError:function(){A("Error creating remixed app - please try again")}}),2),Y=C[0],D=C[1].loading,I=(0,i._)((n=function(){var e,n,t;Y({originId:y.id,teamId:null,title:null,description:null,isPrivate:!0,forkToPersonal:null,replReleaseId:null!=(t=null==(n=y.deployment)||null==(e=n.activeRelease)?void 0:e.id)?t:void 0,orgId:k,trackingData:{forkSource:"projectDialog",isOnboarding:!1,isApp:y.publishedAs===c.Q_w.App,isTemplate:y.publishedAs===c.Q_w.Template}})},r=(t=(0,ty.A)()).git,a=t.fs,u=(s=(0,i._)((0,l.useState)({loading:!1,error:null,success:!1}),2))[0],d=s[1],f=(0,g.A)(),p=(0,i._)((0,tm.H3)({}),1)[0],h=(0,m.A)(n),b=(0,i._)((0,tm.NP)(),1)[0],[(0,l.useCallback)(function(e){return(0,E._)(function(){var n,t,i,o,s,l,u,c;return(0,x.YH)(this,function(m){switch(m.label){case 0:d({loading:!0,error:null,success:!1}),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,b({variables:{id:f},fetchPolicy:"no-cache"})];case 2:if(!(t=m.sent().data)||"Repl"!==t.getRepl.__typename)throw Error("Please try again");if(null==(n=t.getRepl.project)?void 0:n.id)throw Error("This App is already part of a project");return[3,4];case 3:return d({loading:!1,error:"message"in(i=m.sent())?i.message:"Please try again",success:!1}),[2];case 4:return[4,r.init({includeAllInitialFiles:!0,initialCommit:!0})];case 5:if(!(o=m.sent()).error)return[3,11];if(o.error!==tv.uA.ALREADY_INITIALIZED)return[3,10];return[4,r.getRepositoryState()];case 6:if((s=m.sent()).error)return d({loading:!1,error:"Could not create Project - please try again",success:!1}),[2];if(s.state===tg.Gi.CLEAN)return[3,9];return[4,r.stageFiles({all:!0})];case 7:return m.sent(),[4,r.commit({message:"Initial project commit",allowEmpty:!1})];case 8:m.sent().error&&d({loading:!1,error:"Could not generate initial commit to create Project",success:!1}),m.label=9;case 9:return[3,11];case 10:return d({loading:!1,error:"Could not initialize a repository",success:!1}),[2];case 11:return[4,(0,t_.x)(r)];case 12:return m.sent().error&&d({loading:!1,error:"Could not create Project, please try again",success:!1}),[4,a.flush()];case 13:return m.sent(),[4,a.persist({skipDebounce:!0})];case 14:if((l=m.sent()).error||!l.success)return d({loading:!1,error:"Could not initialize a repository",success:!1}),[2];return[4,new Promise(function(e){if(a.getStatus()===T.sn.Clean)return void e();a.onStatusChange(function(n){if(n===T.sn.Clean)return void e()})})];case 15:m.sent(),m.label=16;case 16:return m.trys.push([16,18,,19]),[4,p({variables:{input:{mainReplId:f,orgId:e}}})];case 17:if((c=m.sent()).errors||!(null==(u=c.data)?void 0:u.createProject))throw Error("Could not create project");if("Project"!==c.data.createProject.__typename)throw Error(c.data.createProject.message);return[3,19];case 18:return d({loading:!1,error:m.sent().message,success:!1}),[2];case 19:return d({loading:!1,error:null,success:!0}),h.current(),[2]}})})()},[r,a,f,p,h,b]),u]),2),R=I[0],N=I[1];return(0,o.FD)(tS.lV,{css:tk.dialog,onSubmit:function(e){e.preventDefault(),(0,E._)(function(){return(0,x.YH)(this,function(e){return N.loading||R(k),[2]})})()},children:[(0,o.Y)(O.Y9,{level:1,variant:"subheadDefault",children:"Planning to merge your changes back into this App?"}),(0,o.Y)(tw.I,{}),(0,o.FD)(P.S,{gap:8,children:[(0,o.Y)(O.EY,{children:"Consider starting a Project – a set of connected Apps for better collaborative development and versioning. Within a Project, you can:"}),(0,o.Y)(tA.s,{children:(0,o.FD)("ul",{children:[(0,o.Y)("li",{children:"Remix an App to work on a feature in isolation, and merge back when ready"}),(0,o.Y)("li",{children:"View all ongoing development in one place"}),(0,o.FD)("li",{children:["Share secrets and configuration between remixed apps"," ",(0,o.Y)(O.EY,{color:"dimmest",children:"(coming soon)"})]})]})})]}),N.error?(0,o.Y)(ni.N,{colorway:"negative",icon:(0,o.Y)(eH.A,{}),text:N.error}):null,(0,o.FD)(P.S,{row:!0,gap:8,justify:"end",children:[(0,o.Y)(nr.$n,{loading:N.loading||D,text:"Remix separately",onClick:function(){_(),S()}}),(0,o.Y)(nr.$n,{loading:N.loading||D,text:"Remix & start a Project",colorway:"primary",type:"submit"})]}),(0,o.Y)(P.S,{css:tk.reachOut,pt:16,px:16,children:(0,o.FD)(O.EY,{color:"dimmest",children:["If you have questions or feedback, reach out to"," ",(0,o.Y)("a",{href:"mailto:support@replit.com",children:"support@replit.com"})]})})]})},tY=t(96193),tE=function(e){return e.DeleteRepl="DeleteRepl",e.TransferRepl="TransferRepl",e.PowerUp="PowerUp",e.UnpublishTemplate="UnpublishTemplate",e.EditPublishedTemplateSettings="EditPublishedTemplateSettings",e.PublishTemplate="PublishTemplate",e.UpdatePublishedTemplate="UpdatePublishedTemplate",e.Share="Share",e.FeatureRepl="FeatureRepl",e}({}),tx=t(31051),tT=t(73455),tD=t(99933),tI=t(70251),tR=t(17682),tN=t(80325),tO=t(64424),tP=t(13315),tF=t(93709),tU=t(50957),tL=t(71936),tM=t(67405),tJ=t(50420),tH=t(79351),tB=t(43193),tV=t(52914);function t$(e){var n=e.repl,t=(0,p.A)(),i=(0,l.useMemo)(function(){if(n.org){var e;return{text:n.org.name,css:[{"&, & span":N.wp.flex.shrink(1)}],iconLeft:(0,o.Y)(tx.e,{src:null!=(e=n.org.image)?e:null,username:n.org.name,fullName:n.org.name,size:24})}}return n.user?{text:n.user.username,css:[{"&, & span":N.wp.flex.shrink(1)}],iconLeft:(0,o.Y)(tx.e,{src:n.user.image,username:n.user.username,size:24})}:{text:""}},[n]);if(!n.user||!n.org&&!n.user)return null;var s=n.org?(0,_.EG)(n.org).repls:(0,th.M)(n.user),u=n.org?(0,_.EG)(n.org).repls.href.toString():(0,th.M)(n.user).as;return t?(0,o.Y)(nr.$n,(0,a._)((0,r._)({},i),{size:"small",onClick:function(){tf.M.openExternalUrl(u)}})):(0,o.Y)(eN.v,(0,a._)((0,r._)({},i),{as:s.as,href:s.href,prefetch:!1,size:"small"}))}function tG(e){var n,t,s,u,d,f,m,g,b,y,w,_,S,A=e.setActiveDialog,k=e.repl,Y=e.showCloseButton,E=e.setIsEditing,x=e.updateReplInfo,T=(0,i._)((0,l.useState)(!1),2),D=T[0],R=T[1],F=(0,p.A)(),U=!!k.org&&k.org.type===c.NT1.Team,L=(0,tR.Z)().fork,M=(t=(n={repl:k,setShowProjectPrompt:R}).repl,s=n.setShowProjectPrompt,u=(0,tR.Z)().fork,d=(0,tY.Q)(),m=(f=(0,v.A)()).showConfirm,g=f.showError,y=(b=(0,i._)((0,tp.B)({onFork:function(){m("Repl forked, redirecting...")},onError:function(){g("Error creating fork - please try again")}}),2))[0],w=b[1].loading,{handleRemix:(0,l.useCallback)(function(){var e;return(null==(e=t.org)?void 0:e.id)&&!d.loading?d.isEligibleForProject&&!d.hasProject?void s(!0):d.hasProject?void y({orgId:t.org.id,repl:t,forkSource:"replInfoHeader"}):void u():void u()},[t,u,d,y,s]),isCreatingProjectFork:w,fork:u}),J=M.handleRemix,H=function(e){var n=e.repl,t=e.isCreatingProjectFork,r=!!n.publishedAs,a=n.publishedAs===c.Q_w.Template,i=(0,p.A)(),s=!!n.org&&n.org.type===c.NT1.Team,l=(0,h._P)({controlName:"flag-olympic-torch",logFlagToAnalytics:!1}),u=[];n.authorizations.fork.isAuthorized&&u.push({value:"Remix",label:"Remix",icon:t?(0,o.Y)(ns.A,{}):(0,o.Y)(tF.A,{}),isDisabled:t});var d=n.authorizations.publish.isAuthorized;if(!i&&!s){var f=n.isPrivate||!n.isRenamed||!d,m="";n.isPrivate?m="Make App public to publish":n.isRenamed||(m="Rename App to publish"),null==n.publishedAs&&u.push({value:tE.PublishTemplate,label:"Publish as Template",icon:(0,o.Y)(tH.A,{}),isDisabled:f,description:m,dataCy:"repl-info-header-settings-publish"}),a&&!f&&(u.push({value:tE.UpdatePublishedTemplate,label:"Publish template changes",icon:(0,o.Y)(tV.A,{})}),u.push({value:tE.UnpublishTemplate,label:"Unpublish Template",icon:(0,o.Y)(tP.A,{})})),r&&!f&&u.push({value:tE.EditPublishedTemplateSettings,label:"Edit Template publish settings",icon:(0,o.Y)(tN.A,{})})}if(s){var v=n.isPrivate;u.push({value:tE.FeatureRepl,label:n.isFeaturedRepl?"Remove from Featured Apps":"Feature on Profile",icon:(0,o.Y)(tM.A,{}),description:v?"Make App public to feature":"",isDisabled:v})}return n.authorizations.deleteRepl.isAuthorized&&(l&&u.push({isDestructive:!1,value:tE.TransferRepl,label:"Transfer",icon:(0,o.Y)(tJ.A,{})}),u.push({isDestructive:!0,value:tE.DeleteRepl,label:"Delete",icon:(0,o.Y)(tB.A,{})})),u}({repl:k,isCreatingProjectFork:M.isCreatingProjectFork}),B=k.publishedAs===c.Q_w.Template;return(0,o.FD)(P.S,{gap:8,p:8,children:[(0,o.FD)(P.S,{css:[(0,C._)({},N.$_.max("mobileMax"),[N.wp.flex.columnReverse,N.wp.align.start,{gap:I.LU.space8}])],row:!0,gap:8,align:"center",justify:"space-between",children:[(0,o.Y)(P.S,{row:!0,gap:8,css:[N.wp.center,N.wp.flex.shrink(1)],children:(0,o.Y)(t$,{repl:k})}),(0,o.FD)(P.S,{css:[(0,C._)({},N.$_.max("mobileMax"),{width:"100%",">*:not(div)":{flex:1}})],align:"center",row:!0,gap:8,children:[F?null:(0,o.Y)(eN.v,(0,a._)((0,r._)({size:"small",prefetch:!1},(0,eF.z9)(k)),{iconRight:(0,o.Y)(tO.A,{}),colorway:"primary",text:"Cover page",target:"_blank",style:{pointerEvents:"auto"}})),B||F||U?null:(0,o.Y)(nM.m_,{tooltip:"Make Repl public to share",isDisabled:!k.isPrivate,children:(0,o.Y)(nr.$n,{size:"small",type:"button",iconLeft:(0,o.Y)(tV.A,{}),onClick:function(){A(tE.Share)},text:"Share",disabled:k.isPrivate})}),F?(0,o.Y)(eO.i,{textToCopy:window.location.href,tooltipText:"Copy App URL",tooltipSuccessText:"Copied!",iconLeft:(0,o.Y)(tU.A,{}),text:""}):null,H.length>0&&(0,o.Y)(tD.in,{dataCy:"repl-info-header-settings",trigger:(0,o.Y)(tT.K0,{alt:"More options",size:32,children:(0,o.Y)(tL.A,{size:16})}),"aria-label":"More options",onAction:function(e){switch(e){case"Remix":return void J();case tE.UpdatePublishedTemplate:A(tE.UpdatePublishedTemplate);return;case tE.UnpublishTemplate:A(tE.UnpublishTemplate);return;case tE.DeleteRepl:A(tE.DeleteRepl);return;case tE.TransferRepl:A(tE.TransferRepl);return;case tE.EditPublishedTemplateSettings:A(tE.EditPublishedTemplateSettings);return;case tE.PublishTemplate:A(tE.PublishTemplate);return;case tE.FeatureRepl:A(tE.FeatureRepl);return}},children:H.map(function(e){return(0,o.Y)(tD.Dr,{id:e.value,label:e.label,icon:e.icon,isDestructive:e.isDestructive,isDisabled:e.isDisabled,description:e.description,dataCy:e.dataCy},e.value)})}),Y?(0,o.Y)(tT.K0,{alt:"Close",tooltipBehavior:"hidden",onClick:function(){x(),E(!1)},children:(0,o.Y)(nd.A,{})}):null]})]}),(null==(_=k.org)?void 0:_.type)===c.NT1.Team&&(null==(S=k.user)?void 0:S.__typename)==="User"?(0,o.FD)(O.EY,{variant:"small",color:"dimmest",children:["Created by @",k.user.username]}):null,D&&k.org?(0,o.Y)(tI.a,{isOpen:!0,onRequestClose:function(){return R(!1)},children:(0,o.Y)(tC,{repl:k,org:k.org,onRequestClose:function(){return R(!1)},onForkSeparately:L})}):null]})}var tz=t(21130),tW=t(83031),tj=t(2717),tq=t(65053),tZ=t(726),tK=t(59737),tQ=t(83252),tX=t(49999),t0=t(37379),t1=t(43820),t2=(0,eR.x)({header:[N.wp.fontWeight.medium,N.wp.p(4),N.wp.color.foregroundDimmer]}),t3=function(e){var n,t,r,a=e.item;switch(a.__typename){case"CurrentUser":case"Team":n=a.username,t=a.image;break;case"Org":n=a.name,t=null!=(r=a.image)?r:null;break;default:(0,tX.A)(a)}return(0,o.Y)(t0.nh,{id:a.id,label:n,icon:(0,o.Y)(tx.e,{src:t,size:16,username:n,isOrg:"Org"===a.__typename})},a.id)};let t4=function(e){var n=e.id,t=e.owners,r=e.selectedOwner,a=e.disabled,i=e.setSelectedOwner,s=e.dataCy,l=t.filter(function(e){return"CurrentUser"===e.__typename}),u=t.filter(function(e){return"Org"===e.__typename}),c=t.filter(function(e){return"Team"===e.__typename}),d=(0,h._P)({controlName:"flag-pringle-krew",default:!1});return(0,o.FD)(t1.l,{id:n,dataCy:s,"aria-labelledby":n,defaultSelectedKey:r.id,onSelectionChange:function(e){var n=t.find(function(n){return n.id===e});n&&i(n)},isDisabled:a,children:[l.length>0?(0,o.FD)(tK.rd,{children:[(0,o.Y)(tQ.Y,{css:t2.header,children:"Personal"}),l.map(function(e){return(0,o.Y)(t3,{item:e},e.id)})]}):null,u.length>0?(0,o.FD)(tK.rd,{children:[(0,o.Y)(tQ.Y,{css:t2.header,children:"Organizations"}),u.map(function(e){return(0,o.Y)(t3,{item:e},e.id)})]}):null,d&&c.length>0?(0,o.FD)(tK.rd,{children:[(0,o.Y)(tQ.Y,{css:t2.header,children:"Teams"}),c.map(function(e){return(0,o.Y)(t3,{item:e},e.id)})]}):null]})};var t5=t(12389),t7=t(59092),t9=P.D.form,t8=(0,eR.x)({form:[N.wp.colWithGap(24)]}),t6=function(e){var n,t,r,a=e.currentUser,s=e.repl,u=e.onDone,c=e.onCancel,d=s.owner?s.owner:s.org,f=null!=(r=null==(n=s.owner)?void 0:n.username)?r:null==(t=s.org)?void 0:t.slug,p=f?"".concat(f,"/").concat(s.slug):s.slug,h=(0,i._)((0,t5.p)(a,null==d?void 0:d.id),3),m=h[0],v=h[1],g=h[2],b=(0,i._)((0,l.useState)(""),2),y=b[0],w=b[1],_=y===p,S=(0,eV.c)(),A="You do not have permission to transfer this Repl.";return(0,o.Y)(t9,{css:t8.form,onSubmit:function(e){e.preventDefault(),_&&(alert("Beep boop would transfer Repl, redirecting"),u())},children:(0,o.FD)(P.S,{gap:16,children:[(0,o.Y)(O.EY,{children:"Transfer this Repl to another account or organization."}),(0,o.Y)(t7.d,{colorway:"grey",text:"Transferring ownership might result in losing some features, depending on the subscription status of the selected organization. Click here for more details.",iconLeft:(0,o.Y)(eH.A,{}),href:"https://docs.replit.com/teams/collaboration-on-replit#transferring-repls-to-organizations",target:"_blank"}),(0,o.FD)(P.S,{gap:4,children:[(0,o.Y)("label",{htmlFor:S("owner"),children:(0,o.Y)(O.EY,{color:"dimmer",variant:"small",children:"New Owner"})}),(0,o.Y)(t4,{id:S("owner"),owners:g,selectedOwner:m,setSelectedOwner:v})]}),A?(0,o.Y)(ni.N,{colorway:"negative",text:A}):null,(0,o.FD)(P.S,{gap:4,children:[(0,o.Y)("label",{htmlFor:S("confirmName"),children:(0,o.FD)(O.EY,{color:"dimmer",variant:"small",children:["Type the name ",p," to delete"]})}),(0,o.Y)(e$.pd,{id:S("confirmName"),disabled:!1,autoFocus:!0,value:y,onChange:function(e){return w(e.currentTarget.value)}})]}),(0,o.FD)(P.S,{row:!0,gap:12,justify:"end",children:[(0,o.Y)(nr.$n,{type:"button",onClick:c,text:"Cancel"}),(0,o.Y)(nr.$n,{type:"submit",disabled:!_,iconLeft:(0,o.Y)(tJ.A,{}),colorway:"negative",text:"Yes, transfer this Repl"})]})]})})},re=function(e){var n=e.repl,t=e.onDone,r=e.onCancel,a=(0,tZ.wo)().data,i=null==a?void 0:a.currentUser;return(0,o.FD)(P.S,{gap:24,children:[(0,o.FD)(O.Y9,{variant:"subheadBig",level:2,children:["Transfer ",n.title]}),i?(0,o.Y)(t6,{currentUser:i,repl:n,onDone:t,onCancel:r}):(0,o.Y)(P.S,{align:"center",children:(0,o.Y)(ns.A,{})})]})},rn=(0,eR.x)({loadingRoot:[N.wp.center,N.wp.p(16)],root:{overflow:"auto",maxHeight:"80vh"},form:[N.wp.p(8)]}),rt=function(e){var n=e.isExpertModeAllowed,t=(0,tz.x)(),r=(0,tz.j)(),a=(0,w.g)().show,i=(0,v.A)().showConfirm,s=(0,h._P)({controlName:"flag-agent-everywhere"}),l=(0,h._P)({controlName:"flag-toggle-expert"});if(!n||!s||!l)return null;var u=function(e){e?(i("Custom Stack disabled"),r(!t)):a("ExpertModeModal",{onConfirm:function(){i("Custom Stack enabled"),r(!t)}})};return(0,o.Y)(tW.A,{headerContent:(0,o.FD)(P.S,{p:4,row:!0,justify:"space-between",align:"center",gap:8,children:[(0,o.Y)(O.EY,{children:"Custom Stack"}),(0,o.Y)(tj.a,{text:"Advanced"})]}),children:(0,o.FD)(P.S,{px:8,pb:8,pt:4,gap:8,children:[(0,o.Y)(O.EY,{variant:"small",children:"With Custom Stack enabled, Agent has fewer restrictions, allowing you to work with any language or framework."}),(0,o.Y)(nr.$n,{text:t?"Disable Custom Stack":"Enable Custom Stack",onClick:function(){return u(null!=t&&t)},stretch:!0,type:"button"})]})})};function rr(e){var n=e.getDesktopLayoutState,t=e.setIsEditing,r=e.showCloseButton,a=(0,g.A)(),i=(0,d.P6)({variables:{replId:a}}).data,s=(null==i?void 0:i.getRepl.__typename)==="Repl"?i.getRepl:null,l=null==i?void 0:i.currentUser;return s&&l?(0,o.Y)(ri,{getDesktopLayoutState:n,setIsEditing:t,showCloseButton:r,repl:s,currentUser:l}):(0,o.Y)(P.S,{css:rn.loadingRoot,children:(0,o.Y)(ns.A,{})})}var ra=[c.rTW.Submit,c.rTW.PublishTemplate,c.rTW.EditTemplate];function ri(e){var n,t,h,g,C,Y,E,x=e.repl,T=e.getDesktopLayoutState,D=e.showCloseButton,I=e.setIsEditing,R=(0,s.useRouter)(),F=(0,p.A)(),U=(0,i._)((0,l.useState)(null),2),L=U[0],M=U[1],J=(0,i._)((0,l.useState)(x.isRenamed?x.title:""),2),H=J[0],B=J[1],V=(0,i._)((0,l.useState)(x.description||""),2),$=V[0],G=V[1],z=(0,i._)((0,l.useState)(x.rawTemplateLabel),2),W=z[0],j=z[1],q=(0,w.g)().show,Z=(0,v.A)().showError,K=x.publishedAs===c.Q_w.Template,Q=(null==(n=x.org)?void 0:n.type)!=="team"&&(x.authorizations.editVisibility.isAuthorized||x.authorizations.editVisibility.code===c.S4P.RequiresActiveSubscription);(0,l.useEffect)(function(){G(x.description||"")},[x.description]);var X=(0,l.useRef)(x),ee=(0,i._)((0,d.aI)({variables:{id:x.id},onCompleted:function(){var e;if(F)return void R.push("/desktopApp/home");if((null==(e=x.org)?void 0:e.type)==="team"){var n=(0,_.EG)(x.org);R.push(n.home.href);return}R.push("/home","/~")},update:function(e,n){var t;(null==(t=n.data)?void 0:t.deleteRepl)&&(e.evict({id:e.identify(n.data.deleteRepl)}),e.gc())},onError:function(e){return Z((0,b.A)(e.message))}}),2),en=ee[0],et=ee[1].loading,er=(0,i._)((0,d.KZ)({onError:function(e){return Z((0,b.A)(e.message))},onCompleted:function(e){var n=e.updateRepl.repl,t=X.current,r={};t.description!==n.description&&(r.description=n.description),t.title!==n.title&&(r.title=n.title),t.url!==n.url&&(r.url=n.url,window.history.replaceState(null,"",n.url+window.location.search+window.location.hash)),t.isRenamed!==n.isRenamed&&(r.isRenamed=!!n.isRenamed),X.current=x,Object.keys(r).length>0&&I(!1)}}),2),ea=er[0],ei=er[1].loading,eo=(0,i._)((0,d.SY)({variables:{input:{replId:x.id}},onError:function(e){u.Cp(e),Z((0,b.A)(e.message))}}),2),es=eo[0],el=eo[1],eu=(0,l.useMemo)(function(){return!!H&&H!==x.title||W!==x.rawTemplateLabel||(""!==$||!!x.description)&&$!==x.description},[x,H,$,W]),ec=(0,m.A)(eu),ed=(0,l.useCallback)(function(){eu&&ea({variables:{input:{id:x.id,title:H.trim()||x.title,description:$,templateLabel:x.authorizations.editTemplateMetadata.isAuthorized?W:void 0}}})},[eu,ea,x,H,$,W]),ef=(0,m.A)(ed);(0,l.useLayoutEffect)(function(){return function(){ec.current&&ef.current()}},[ef,ec]);var ep=function(){ea({variables:{input:{id:x.id,isPrivate:!x.isPrivate}},optimisticResponse:{__typename:"RootMutationType",updateRepl:{__typename:"UpdateReplPayload",repl:(0,a._)((0,r._)({},x),{isPrivate:!x.isPrivate})}}}),(0,y.u4)(y.AZ.PRIVATE_TOGGLED,{enabled:!x.isPrivate,source:"workspace_info_modal"})},eh=x.isRenamed?"Name your App":"Default name: ".concat(x.title),em=ra.includes(x.workspaceCta),ev=(0,eV.c)(),eg=(null==(t=x.owner)?void 0:t.__typename)==="Team";return(0,o.FD)("div",{css:rn.root,"data-can-change-description":x.authorizations.editMetadata.isAuthorized,children:[(0,o.Y)(tR.B,{forkParams:{trackingData:{forkSource:"editReplPopoverMenuItem"}},repl:x,children:(0,o.Y)(tG,{repl:x,showCloseButton:D,setActiveDialog:M,setIsEditing:I,updateReplInfo:ed})}),(0,o.Y)("form",{css:rn.form,onSubmit:function(e){e.preventDefault(),ed()},children:(0,o.FD)(P.S,{align:"stretch",gap:16,children:[(0,o.FD)(eP.ui,{background:"default",gap:16,children:[(0,o.Y)(P.S,{children:(0,o.FD)(P.S,{gap:4,children:[(0,o.FD)(P.S,{row:!0,justify:"space-between",align:"end",children:[(0,o.Y)("label",{htmlFor:ev("name"),children:(0,o.Y)(O.EY,{variant:"small",color:"dimmer",multiline:!1,children:"Name"})}),(0,o.Y)(tq.A,{maxLength:60,value:H,hideLabel:!0})]}),(0,o.Y)(e$.pd,{style:{cursor:x.authorizations.editMetadata.isAuthorized?"auto":"not-allowed"},disabled:!x.authorizations.editMetadata.isAuthorized,maxLength:60,placeholder:eh,value:H,onChange:function(e){return B(e.target.value)},spellCheck:!1,id:ev("name"),dataCy:"ws-repl-info-title-input"})]})}),(0,o.Y)(P.S,{children:(0,o.FD)(P.S,{gap:4,children:[(0,o.FD)(P.S,{row:!0,justify:"space-between",align:"end",children:[(0,o.Y)("label",{htmlFor:ev("description"),children:(0,o.Y)(O.EY,{variant:"small",color:"dimmer",multiline:!1,children:"Description"})}),(0,o.Y)(tq.A,{maxLength:td.z,value:$,hideLabel:!0})]}),(0,o.Y)(e$.ov,{disabled:!x.authorizations.editMetadata.isAuthorized,maxLength:td.z,value:$,onChange:function(e){return G(e.target.value)},placeholder:"What does this App do?",css:[N.wp.minHeight(96),N.wp.maxHeight(256),{resize:"vertical"}],id:ev("description")})]})})]}),K&&x.authorizations.editTemplateMetadata.isAuthorized?(0,o.Y)(eP.ui,{background:"default",gap:4,children:(0,o.FD)(P.S,{gap:4,children:[(0,o.Y)("label",{htmlFor:ev("template"),children:(0,o.Y)(O.EY,{color:"dimmer",variant:"small",multiline:!1,children:"Template label"})}),(0,o.Y)(e$.pd,{value:W,maxLength:60,placeholder:"Template label",spellCheck:!1,onChange:function(e){return j(e.target.value)},id:ev("template")})]})}):null]})}),em?null:(0,o.FD)(P.S,{gap:24,p:8,children:[(0,o.FD)(P.S,{gap:24,children:[(0,o.Y)(A.A,{replId:x.id,authz:x.authorizations.editMetadata,initialIconUrl:x.iconUrl,originIconUrl:null==(h=x.templateInfo)?void 0:h.iconUrl}),(0,o.Y)(S.A,{replId:x.id,authz:x.authorizations.editMetadata,initialImageUrl:null!=(E=x.imageUrl)?E:null==(g=x.templateInfo)?void 0:g.imageUrl,originImageUrl:null==(C=x.templateInfo)?void 0:C.imageUrl})]}),Q?(0,o.Y)(tc.B,{isPrivate:x.isPrivate,onChange:function(){if(!ei){(0,y.u4)(y.AZ.POWER_UP_TOGGLE_REQUESTED,{powerUp:"private",setting:!x.isPrivate,source:"workspace_info_modal"});var e,n=!x.isPrivate;if(x.authorizations.editVisibility.isAuthorized||!1===n)return void ep();x.authorizations.editVisibility.code===c.S4P.RequiresActiveSubscription&&(null==(e=x.org)?void 0:e.__typename)!=="Org"?q("MembershipPurchaseModal",{analyticsContext:{upgrade:{context:"workspace_info_modal"}}}):Z(x.authorizations.editVisibility.message)}},isTeam:eg}):null]}),(0,o.Y)(rt,{isExpertModeAllowed:!0===x.config.isAgentRepl}),(0,o.Y)(tu.A,{isOpen:L===tE.DeleteRepl,onClose:function(){return M(null)},selectedRepls:[x],onDelete:function(){en()},deleting:et}),(0,o.Y)(tI.a,{isOpen:L===tE.UnpublishTemplate,onRequestClose:function(){return M(null)},children:(0,o.Y)(f.A,{confirmLabel:"Yes, unpublish this Template",isDestructive:!0,title:"Unpublish Template",onCancel:function(){return M(null)},onConfirm:function(){el.loading||(es(),M(null))},children:"Your App will no longer be discoverable on Templates. You can republish again at any time, and all of your comments or reactions will stick around."})}),(0,o.Y)(tI.a,{isOpen:L===tE.EditPublishedTemplateSettings,onRequestClose:function(){return M(null)},noPadding:!0,maxWidth:872,fitContent:!0,children:(0,o.Y)(nK,{source:"replEnvironment",replId:x.id,getDesktopLayoutState:T})}),(0,o.Y)(tI.a,{isOpen:L===tE.PublishTemplate,onRequestClose:function(){return M(null)},noPadding:!0,maxWidth:872,fitContent:!0,children:(0,o.Y)(nK,{source:"replEnvironment",replId:x.id,getDesktopLayoutState:T})}),(0,o.Y)(tI.a,{isOpen:L===tE.UpdatePublishedTemplate,onRequestClose:function(){return M(null)},noPadding:!0,children:(0,o.Y)(to,{repl:x,getDesktopLayoutState:T})}),(0,o.Y)(tI.a,{isOpen:L===tE.Share,onRequestClose:function(){return M(null)},noPadding:!0,children:(0,o.Y)(eM,{repl:x})}),(0,o.Y)(tI.a,{isOpen:L===tE.TransferRepl,onRequestClose:function(){return M(null)},children:(0,o.Y)(re,{repl:x,onDone:function(){return M(null)},onCancel:function(){return M(null)}})}),(0,o.Y)(tI.a,{isOpen:L===tE.FeatureRepl,onRequestClose:function(){return M(null)},centered:!0,maxWidth:650,children:(0,o.Y)(k.A,{isFeatured:x.isFeaturedRepl,repl:x,orgId:null==(Y=x.org)?void 0:Y.id,onCompleted:function(){return M(null)}})})]})}},44642:(e,n,t)=>{"use strict";t.d(n,{G:()=>E,Y:()=>x});var r=t(29935),a=t(12694),i=t(82643),o=t(34837),s=t(90629),l=t(62684),u=t(1224),c=t(9092),d=t(83317),f=t(39534),p=t(70764),h=t(18712),m=t(32289),v=t(91953),g=t(25227),b=t(72643),y=t(44070),w=t(90173),_=t(90843),S=(0,p.x)({singleLine:[{whiteSpace:"nowrap",fontFamily:f.LU.fontFamilyCode},h.wp.truncate,h.wp.color.foregroundDimmest]});function A(e){var n=e.path,t=e.line;return(0,o.FD)(g.S,{grow:!0,shrink:!0,p:8,gap:4,align:"start",children:[(0,o.FD)(g.S,{row:!0,gap:4,align:"center",children:[(0,o.Y)(m.A,{path:n,size:12}),(0,o.FD)(v.EY,{variant:"small",color:"dimmest",multiline:!1,children:[n.replace(/^\.\//,""),":",t.lineNumber]})]}),(0,o.Y)(g.S,{css:S.singleLine,children:(0,o.Y)(y.eK,{source:t.content,matches:t.matches})})]})}function k(){return(0,o.FD)(g.S,{px:8,row:!0,gap:8,align:"center",children:[(0,o.Y)(_.A,{}),(0,o.Y)(v.EY,{color:"dimmest",multiline:!1,children:"Something went wrong searching your App's contents. Please try again."})]})}function C(){return(0,o.FD)(g.S,{row:!0,gap:8,p:8,align:"center",children:[(0,o.Y)(_.A,{}),(0,o.Y)(v.EY,{color:"dimmest",multiline:!1,children:"Displaying only part of the results, try being more specific with your search."})]})}function Y(){return(0,o.Y)(g.S,{row:!0,gap:8,p:8,align:"center",children:(0,o.Y)(v.EY,{color:"dimmest",multiline:!1,children:"Nothing came up searching your App's content."})})}var E=(0,c.FM)({cmdOrCtrl:!0,shift:!0,key:"f"});function x(e){var n,t=(0,d.v)({container:e.container});return(0,u.gu)({type:"context",description:"Search through your files",label:"Search",icon:(0,o.Y)(w.A,{}),keyboardShortcut:e.keyboardShortcut?E:void 0},{match:e.activeOnly?u.KK:(0,u.u4)({defaultScore:b.q.searchFileContents}),commands:function(u){return(0,r._)(function(){var r,c,d,f,p,h,v,y,w,S,E,x;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(!u.searchQuery||!u.active&&e.activeOnly)return[2,[]];return n=r=Math.random(),[4,t({query:u.searchQuery})];case 1:if(d=(c=i.sent()).results,f=c.error,p=c.isPartialResult,r!==n)return[2,[]];if(null!==f){if(!u.active)return[2,[]];return s.Cp(Error("Search file contents returned an error"),{extra:{message:f}}),[2,[{data:{type:"error",label:"error",icon:(0,o.Y)(_.A,{})},match:function(){return{score:1,render:{content:(0,o.Y)(k,{})}}}}]]}h=[],v=!0,y=!1,w=void 0;try{for(S=function(){var n=(0,a._)(x.value,2),t=n[0];n[1].forEach(function(n){var r=n.matches[0].column;h.push({match:function(){var e=(0,l.w2)(u.searchQuery,n.content,{filterLowMatchScores:!0});return{score:Math.floor(((null==e?void 0:e.score)||1)*b.B.fileContentsSearch),render:{height:60,content:(0,o.Y)(A,{path:t,line:n})}}},data:{type:"action",label:t,icon:(0,o.Y)(m.A,{path:t}),key:[t,n.lineNumber,r].join(":"),run:function(){e.openFile({path:t,line:n.lineNumber,col:r})}}})})},E=Object.entries(d)[Symbol.iterator]();!(v=(x=E.next()).done);v=!0)S()}catch(e){y=!0,w=e}finally{try{v||null==E.return||E.return()}finally{if(y)throw w}}if(0===h.length&&u.active)return[2,[{data:{type:"output",label:"",icon:(0,o.Y)(g.S,{})},match:function(){return{score:1,render:{content:(0,o.Y)(Y,{})}}}}]];if(u.active)if(0===h.length)return[2,[{data:{type:"output",label:"",icon:(0,o.Y)(g.S,{})},match:function(){return{score:1,render:{content:(0,o.Y)(Y,{})}}}}]];else p&&h.push({data:{type:"error",label:"error",icon:(0,o.Y)(_.A,{})},match:function(){return{score:1/0,render:{content:(0,o.Y)(C,{})}}}});return[2,h]}})})()}})}},44737:e=>{e.exports={stepsContainer:"TelegramConnectionSection_stepsContainer__9j_9P",inactiveContainer:"TelegramConnectionSection_inactiveContainer__GqoMh",editBotTokenButton:"TelegramConnectionSection_editBotTokenButton__h8TT9",hidden:"TelegramConnectionSection_hidden__WUrHY"}},44783:e=>{e.exports={wrapper:"DatabaseSelector_wrapper__6N9Nr",productionDatabaseTourContent:"DatabaseSelector_productionDatabaseTourContent__NSE4l"}},44807:(e,n,t)=>{"use strict";t.d(n,{SS:()=>g});var r=t(17844),a=t(93629),i=t(34837),o=t(21462),s=t(30411),l=t(86103),u=t(39534),c=t(51292),d=t(18712),f=t(3937),p=t(91953),h=t(25227),m=t(28861),v=t(71936),g={AddFile:{type:"AddFile",text:"Add file"},AddFolder:{type:"AddFolder",text:"Add folder"},UploadFile:{type:"UploadFile",text:"Upload files"},UploadFolder:{type:"UploadFolder",text:"Upload folder"},DownloadZip:{type:"DownloadZip",text:"Download as zip"},Duplicate:{type:"Duplicate",text:"Duplicate file"},ShowHiddenFiles:{type:"ShowHiddenFiles",text:"Show hidden files"},HideHiddenFiles:{type:"HideHiddenFiles",text:"Hide hidden files"},OpenTab:{type:"OpenTab",text:"Open tab"},OpenPane:{type:"OpenPane",text:"Open pane"},CopyFilePath:{type:"CopyFilePath",text:"Copy file path"},CopyFolderPath:{type:"CopyFolderPath",text:"Copy folder path"},CopyLink:{type:"CopyLink",text:"Copy link"},OpenShellHere:{type:"OpenShellHere",text:"Open shell here"},Rename:{type:"Rename",text:"Rename"},Download:{type:"Download",text:"Download"},DownloadFolder:{type:"DownloadFolder",text:"Download folder"},Delete:{type:"Delete",text:"Delete"}},b={self:[d.wp.position.relative,d.wp.width(20),d.wp.height("100%"),d.wp.justify.center,{"& span":{height:"100%"}}],self2:[d.wp.position.relative,d.wp.width(16),d.wp.height("100%"),d.wp.justify.center,d.wp.pr(1)],button:[d.wp.display.flex,d.wp.align.center,d.wp.justify.center,d.wp.py(2),d.wp.top(0),d.wp.width("100%"),d.wp.border({width:0,color:"none"}),d.wp.cursor.pointer,d.wp.color.foregroundDimmest,d.wp.borderRadius(4),c.b.filled,d.wp.position.relative,{top:-1,right:-1,height:"calc(100% + 2px)",backgroundColor:"transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}],button2:[d.wp.display.flex,d.wp.align.center,d.wp.py(2),d.wp.width("100%"),d.wp.height("100%"),d.wp.cursor.pointer,d.wp.color.foregroundDimmest,d.wp.focusRing,d.wp.borderRadius(4),{backgroundColor:"transparent",":hover":{color:u.LU.foregroundDefault}}],list:[d.wp.flex.column,d.wp.justify.center,d.wp.borderRadius(8),d.wp.zIndex(1),d.wp.backgroundColor.backgroundDefault,{listStyle:"none"},{":focus":{outline:"none"}}],option:function(e,n){return[d.wp.color.foregroundDefault,d.wp.p(8),d.wp.fontWeight.normal,d.wp.cursor.pointer,{whiteSpace:"nowrap"},n&&[d.wp.backgroundColor.backgroundHigher],e&&[{":hover":{backgroundColor:u.LU.accentNegativeDefault},":hover .option-label":{color:u.LU.white}}]]},optionLabel:function(e){return e?[d.wp.color.accentNegativeStronger]:[]}};function y(e){var n=e.isNegative,t=e.isHighlighted,r=e.children;return(0,i.Y)(h.S,{css:b.option(n,t),children:(0,i.Y)(p.EY,{className:"option-label",css:b.optionLabel(n),multiline:!1,children:r})})}var w=h.D.ul,_=h.D.li,S=h.D.button,A=h.D.div;(0,o.forwardRef)(function(e,n){var t=e.isActive,c=e.actions,k=e.onAction,C=e.onOpenChange,Y=(0,o.useRef)(!1),E=(0,s.WM)({items:c,onSelectedItemChange:function(e){var n=e.selectedItem;n&&(Y.current||k(n),O())}}),x=E.isOpen,T=E.getToggleButtonProps,D=E.getMenuProps,I=E.highlightedIndex,R=E.getItemProps,N=E.openMenu,O=E.reset;(0,o.useImperativeHandle)(n,function(){return{open:N}}),(0,o.useEffect)(function(){C&&C(x)},[x,C]);var P=T(),F=(0,l._P)({controlName:"flag-ws-density-filetree",logFlagToAnalytics:!1});return(0,i.Y)(h.S,{css:F?b.self2:b.self,children:(0,i.FD)(m.A,{elevated:!0,showArrow:!0,isOpen:x,placement:"right-start",padding:0,onClickOutside:O,children:[(0,i.Y)(f.ui,{background:t?"default":"root",css:[d.wp.height("100%"),{background:t?u.LU.backgroundHigher:"transparent",borderTopRightRadius:8,borderBottomRightRadius:8}],children:(0,i.Y)(S,(0,a._)((0,r._)({},P),{css:F?b.button2:b.button,size:20,onClick:function(e){e.stopPropagation(),P.onClick(e)},children:(0,i.Y)(v.A,{})}))}),(0,i.Y)(A,(0,a._)((0,r._)({},D({},{suppressRefError:!0})),{children:x?(0,i.Y)(w,{css:b.list,children:c.map(function(e,n){return(0,i.Y)(_,(0,a._)((0,r._)({"data-cy":"filetree-node-action-".concat(e.type)},R({item:e,index:n,onClick:function(n){Y.current=!0,setTimeout(function(){Y.current=!1}),k(e),n.stopPropagation()}})),{children:(0,i.Y)(y,{isHighlighted:I===n,isNegative:e.type===g.Delete.type,children:(0,i.FD)(h.S,{row:!0,gap:8,align:"center",children:[(0,i.Y)(p.EY,{multiline:!1,children:e.text}),"icon"in e?e.icon:null]})})}),e.text)})}):null}))]})})}).displayName="NodeActionsMenu"},44907:(e,n,t)=>{"use strict";t.d(n,{y:()=>c});var r=t(34837),a=t(21462),i=t(7017),o=t(34778),s=t(43162),l=t(78051),u=t(27040),c=function(e){var n=e.sessionId,t=e.type,c=void 0===t?"assistant":t,d=(0,i.ET)(),f=d.orgId,p=d.orgSlug,h=(0,l.L)(null!=n?n:null),m="assistant"===c?h:null,v=f&&p?"".concat((0,s.EG)({slug:p}).usage.href,"#").concat(c):"/usage#".concat(c),g=(0,a.useCallback)(function(){(0,o.u4)("assistant"===c?o.AZ.ASSISTANT_USED:o.AZ.AGENT_USED,{action:"opened_usage_link",intent_type:null,model:null,user_model_selection:null,message_content:null,message_source:"chat_pane",message_surface:"workspace_ai_pane"}),window.open(v,"_blank")},[v,c]),b=(0,a.useMemo)(function(){return{data:{type:"action",icon:(0,r.Y)(u.A,{}),label:m?"Usage (this chat: $".concat((m/100).toFixed(2),")"):"Usage",run:g}}},[m,g]),y=(0,a.useMemo)(function(){return{name:"Usage",commands:[b]}},[b]);return{handleUsageClick:g,usageCommand:b,usageCommandGroup:y,cents:m,usageHref:v}}},44925:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(21462),a=t(96116),i=t.n(a);function o(e){return(0,r.useMemo)(function(){if(!e||e.length>40)return"Unknown License";var n=i()(e,{upgrade:!1});return n||"Unknown License"},[e])}},45040:(e,n,t)=>{"use strict";t.d(n,{tU:()=>A,sB:()=>C,gm:()=>k,BU:()=>Y});var r=t(12694),a=t(21462),i=t(10795),o=t(17844),s=t(12584),l=t(41114),u=t(54744);function c(){var e=(0,s._)(["\n  fragment AgentInputUser on CurrentUser {\n    id\n    connectorContext {\n      __typename\n      ... on CurrentUserConnectorContext {\n        openIntClientToken\n      }\n      ... on Error {\n        message\n      }\n    }\n    figmaAuth: auth(provider: FIGMA) {\n      provider\n    }\n  }\n"]);return c=function(){return e},e}function d(){var e=(0,s._)(["\n  query AgentInputCurrentUser {\n    currentUser {\n      ...AgentInputUser\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var f={},p=(0,l.J1)(c()),h=(0,l.J1)(d(),p),m=t(44082),v=t(7017),g=t(86103),b=t(39938),y=t(18304),w=t(34778),_=t(95843),S=[],A=(0,a.createContext)({openIntClientToken:null,figmaImportFeatureFlagsEnabled:!1,isLoadingFigmaAuthentication:!1,isFigmaAuthenticated:!1,isFigmaAuthModalVisible:!1,onFigmaAuthCallback:function(){},showFigmaAuthModal:function(){},hideFigmaAuthModal:function(){},figmaLinks:S,hasFigmaLinks:!1,createFigmaRepl:function(){return Promise.resolve()},createFigmaReplStatus:"idle",getFigmaTelemetryData:function(){return{hasFigmaLinks:!1,figmaLink:void 0,figmaLinksCount:0,figmaLinksCountUnique:0}}});A.Provider;var k=function(e){var n,t,s,l,c=e.detectedLinks,d=e.skipFigmaLinksCheck,p=e.source,v=(0,r._)((0,a.useState)(!1),2),g=v[0],y=v[1],A=(0,a.useMemo)(function(){var e=c.filter(function(e){return(0,m.uQ)(e)[0]});return e.length>0?e:S},[c]),k=A.length>0,C=(0,_.l)(),E=C.createFigmaRepl,x=C.status,T=Y(),D=(n={skip:!d&&!k||!T},t=(0,o._)({},f,n),u.I(h,t)),I=D.data,R=D.refetch,N=D.loading,O=(0,b.A)(R),P=null==I?void 0:I.currentUser,F=(null==P?void 0:P.__typename)==="CurrentUser"&&(null==P||null==(s=P.connectorContext)?void 0:s.__typename)==="CurrentUserConnectorContext"?P.connectorContext.openIntClientToken:null,U=(null==P?void 0:P.__typename)==="CurrentUser"&&(null==P||null==(l=P.figmaAuth)?void 0:l.provider)===i.edb.Figma,L=(0,a.useCallback)(function(e){O.current()},[O]),M=(0,a.useCallback)(function(e){e&&(0,w.u4)(w.AZ.CONNECTION_SETUP_STARTED,{connectorName:"figma",source:p,surface:e.surface,trigger:e.trigger}),y(!0)},[p]),J=(0,a.useCallback)(function(){y(!1)},[]),H=(0,b.A)({figmaLinks:A,hasFigmaLinks:k}),B=(0,a.useCallback)(function(){var e=H.current,n=(0,r._)(e.figmaLinks,1)[0];return{hasFigmaLinks:e.hasFigmaLinks,figmaLinksCount:e.figmaLinks.length,figmaLinksCountUnique:new Set(e.figmaLinks).size,figmaLink:n}},[H]);return(0,a.useMemo)(function(){return{openIntClientToken:null!=F?F:null,figmaImportFeatureFlagsEnabled:T,isLoadingFigmaAuthentication:N,isFigmaAuthenticated:U,isFigmaAuthModalVisible:g,figmaLinks:A,hasFigmaLinks:k,onFigmaAuthCallback:L,showFigmaAuthModal:M,hideFigmaAuthModal:J,createFigmaRepl:E,createFigmaReplStatus:x,getFigmaTelemetryData:B}},[F,T,U,g,N,A,k,L,M,J,E,x,B])},C=function(){return(0,a.useContext)(A)},Y=function(){var e=(0,v.ET)().orgId,n=(0,y.o)({controlName:"flag-mcp-orgs",default:!1}),t=(0,g._P)({controlName:"flag-figma-connection-prompt",type:"boolean"}),r=(0,g._P)({controlName:"flag-figma-openint-migration",type:"boolean"});return t&&r&&!!(!e||n)}},45261:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(61125),a=t(85689),i=t(40115);function o(){var e=(0,i.A)().container,n=(0,r.A)(),t=(0,a.A)(e,{fallbackToReplCo:!1}).url;if(!t)return null;var o=new URL(t).host,s=o.indexOf(":"),l="22";return -1!==s&&(o=o.substring(0,s),l="2022"),{sshUser:n,sshHostname:o,sshPort:l}}},45440:(e,n,t)=>{"use strict";t.d(n,{$1:()=>s,jy:()=>i,mV:()=>o});var r=t(42793),a=t(39534),i=(0,r.AH)({position:"relative",overflowY:"auto",width:"100%",height:"100%",zIndex:3}),o=(0,r.AH)({position:"relative",overflowY:"auto",width:"100%",height:"100%",fontSize:"14px",backgroundColor:a.LU.backgroundDefault}),s=(0,r.AH)({display:"flex",alignItems:"stretch",width:"100%",height:"100%","& > .cm-editor":{flex:"1 1 auto",width:"100%"}})},45494:e=>{e.exports={root:"Filetree_root__kN9rS",header:"Filetree_header__K0Bd2"}},45692:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r=t(86846);let a=[r.SymbolKind.Array,r.SymbolKind.Boolean,r.SymbolKind.Class,r.SymbolKind.Constant,r.SymbolKind.Constructor,r.SymbolKind.Enum,r.SymbolKind.EnumMember,r.SymbolKind.Event,r.SymbolKind.Field,r.SymbolKind.File,r.SymbolKind.Function,r.SymbolKind.Interface,r.SymbolKind.Key,r.SymbolKind.Method,r.SymbolKind.Module,r.SymbolKind.Namespace,r.SymbolKind.Object,r.SymbolKind.Operator,r.SymbolKind.Package,r.SymbolKind.Property,r.SymbolKind.String,r.SymbolKind.Struct,r.SymbolKind.TypeParameter,r.SymbolKind.Variable]},45725:(e,n,t)=>{"use strict";t.d(n,{Jo:()=>f,VU:()=>h});var r=t(17844),a=t(12584),i=t(41114),o=t(54744),s=t(39590);function l(){var e=(0,a._)(["\n  query AgentMainReplConfig($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        origin {\n          id\n        }\n      }\n    }\n  }\n"]);return l=function(){return e},e}function u(){var e=(0,a._)(["\n  mutation UpdateReplConfig($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        config {\n          isInPlanningPhase\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}var c={},d=(0,i.J1)(l());function f(e){var n=(0,r._)({},c,e);return o.I(d,n)}var p=(0,i.J1)(u());function h(e){var n=(0,r._)({},c,e);return s.n(p,n)}},45772:(e,n,t)=>{"use strict";t.d(n,{A:()=>o,y:()=>i});var r=t(29935),a=t(82643);function i(e){return null==e?void 0:e.replace(/^pkgs\./,"")}let o={name:"nix",getInstalledPackages:function(e){return(0,r._)(function(e){var n;return(0,a.YH)(this,function(t){switch(t.label){case 0:return[4,e.services.nixService.listPackages()];case 1:if(null!==(n=t.sent()).error)return[2,[]];return[2,n.packages.filter(function(e){return!!e.name}).map(function(e){return{name:e.name,version:e.version}})]}})}).apply(this,arguments)},getPackageInfo:function(e){return(0,r._)(function(e){var n,t;return(0,a.YH)(this,function(r){switch(r.label){case 0:return n=e.name,[4,e.services.nixService.packageInfo(n)];case 1:if(null!==(t=r.sent()).error)return[2,{}];return[2,t.package]}})}).apply(this,arguments)},search:function(e){return(0,r._)(function(e){var n,t,r,i;return(0,a.YH)(this,function(a){switch(a.label){case 0:return n=e.query,t=e.services.nixService,r=e.nixOpts,[4,t.searchPackages(n,r)];case 1:if(null!==(i=a.sent()).error)throw Error("Could not search Nix packages");return[2,i.packages.map(function(e){var n,t;return{name:e.name,version:e.version,description:e.description,homepageURL:null!=(n=e.homepageURL[0])?n:null,license:null!=(t=e.licenses[0])?t:null}})]}})}).apply(this,arguments)},install:function(e){return(0,r._)(function(e){var n,t,r;return(0,a.YH)(this,function(a){switch(a.label){case 0:return n=e.pkgs,t=e.services.nixService,r=n.filter(function(e){return null!=e.name}).map(function(e){return"pkgs.".concat(e.name)}),[4,t.addPackages(r)];case 1:return a.sent(),[2]}})}).apply(this,arguments)},uninstall:function(e){return(0,r._)(function(e){var n,t,r;return(0,a.YH)(this,function(a){switch(a.label){case 0:return n=e.pkgs,t=e.services.nixService,r=n.filter(function(e){return null!=e.name}).map(function(e){return"pkgs.".concat(e.name)}),[4,t.removePackages(r)];case 1:return a.sent(),[2]}})}).apply(this,arguments)}}},46153:(e,n,t)=>{"use strict";t.d(n,{A:()=>h});var r=t(12694),a=t(21462),i=t(80719),o=t(35862),s=t(73496),l=t(47737),u=t(41479),c=t(83047),d=t(41608),f=t(63591),p=t(66186);function h(){var e=(0,i.jt)(),n=(0,p.sz)(),t=(0,f.lO)(),h=t.isRunning,m=t.isWorkflowsLoading,v=(0,f.jP)(),g=(0,l.m5)(),b=(0,f.mP)(),y=(0,f.MP)(),w=(0,r._)((0,a.useState)(!1),2),_=w[0],S=w[1],A=(0,s.A)(_,200),k=(0,r._)((0,a.useState)(!0),2),C=k[0],Y=k[1],E=(0,a.useMemo)(function(){return b.length>0&&!m},[m,b.length]),x=(0,a.useMemo)(function(){var e=b.find(function(e){return e.name===v});if(!e)return!1;var n="agent"===e.author,t=(0,f.ij)(e,b);return n&&t},[v,b]),T=(0,u.I)(function(e){return function(n){return g||y(d.QG.AUTO_RUN),e.workflows.agentStartRunWorkflow.rpc({name:n})}},[y,g]);(0,a.useEffect)(function(){if(e&&A&&C&&E&&T&&v){if(h||!x||n)return void Y(!1);Y(!1),T(v)}},[m,T,e,h,x,C,E,A,v,n]);var D=(0,a.useCallback)(function(e){S(e===o.KN.CONNECTED),e===o.KN.CONNECTED&&Y(!0)},[]);(0,c.A)(D)}},46221:(e,n,t)=>{"use strict";t.d(n,{Gu:()=>c,Vq:()=>l,_0:()=>f,pp:()=>d});var r=t(34837),a=t(70764),i=t(18712),o=t(25227),s=t(33683),l=600,u=(0,a.x)({overviewPane:[i.wp.flex.column,i.wp.gap(24),i.wp.width("100%"),i.wp.maxWidth(l),{margin:"0 auto"}],loading:[i.wp.center,i.wp.flex.growAndShrink(1)],emptyState:[i.wp.center,i.wp.flex.growAndShrink(1)]}),c=function(){return(0,r.Y)(o.S,{css:u.loading,children:(0,r.Y)(s.A,{})})},d=function(e){var n=e.children;return(0,r.Y)(o.S,{css:u.emptyState,children:n})},f=function(e){var n=e.children;return(0,r.Y)(o.S,{css:u.overviewPane,p:12,children:n})}},46317:(e,n,t)=>{"use strict";t.d(n,{$l:()=>r,DX:()=>c,Gz:()=>u,Oe:()=>d,Pt:()=>f,b0:()=>p,g8:()=>s,sY:()=>a,vA:()=>o,xv:()=>i,y:()=>l});var r=/^([A-Za-z0-9_]{1,15})\/?$/,a=/^([%A-Za-z0-9]+|-)*\/?$/,i=/^([A-Za-z\d](?:[A-Za-z\d]|-){0,38})\/?$/,o=/^https:\/\/(www\.)?youtube\.com(\/(c|channel|user|@(\w)+))*(\/([A-Za-z0-9_-]+))*(\/?)$/,s=/^(.{2,32}#[0-9]{4})$|^([a-zA-Z0-9_.]{2,32})$/,l=/^(https:\/\/)?(www\.)?((discordapp\.com\/invite)|(discord\.gg))\/(\w+)$/,u="https://twitter.com/",c="https://www.linkedin.com/in/",d="https://github.com/",f="https://x.com/",p=/\/$/},46577:(e,n,t)=>{"use strict";t.d(n,{P:()=>TF});var r,a,i,o,s,l,u,c,d,f,p=t(34837),h=t(74651),m=t(42028),v=t(83846),g=t(12694),b=t(21462),y=t(29935),w=t(82643),_=t(80719),S=t(41897),A=t(13541),k=t(40115),C=t(86057),Y=t(843),E=t(89914),x=t(69832),T=t(66186),D=t(46434),I=t(86035),R=t(97008),N=t(6132),O=t(61125),P=t(19786),F=t(66821),U=t(39534),L=t(83031),M=t(40756),J=t(22871),H=t(83096),B=t(37379),V=t(2717),$=t(43820),G=t(91953),z=t(90233),W=t(25227),j=t(64053),q=t(50957),Z=t(51481),K=t(53432);function Q(){return(0,p.Y)(X,{sessionType:I.dF3.CHAT})}function X(e){var n,t,r=e.sessionType,a=(0,_.NC)(),i=(0,O.A)(),o=(0,x.Rj)(function(){return a.sessions.query({types:r?[r]:[]}).list},[a,r],{default:[]}),s=(0,g._)((0,b.useState)(null!=(t=null==(n=o[0])?void 0:n.id)?t:null),2),l=s[0],u=s[1],c=(0,x.Rj)(function(){return l?a.sessions.get(l):null},[l,a]),d=(0,x.Rj)(function(){return null==c?void 0:c.transform({direction:"reverse",state:{},transformer:function(e){return e}},1e3)},[c]),f=(0,g._)((0,b.useState)(void 0),2),h=f[0],m=f[1],v=(0,b.useCallback)(function(){return(0,y._)(function(){var e,n,t,r,a,i,o,s,l;return(0,w.YH)(this,function(u){switch(u.label){case 0:if(!d||!c)return[2];return e=[],[4,c.data.once()];case 1:n=u.sent(),t=!1,r=!1,u.label=2;case 2:u.trys.push([2,8,9,14]),i=(0,D._)(d),u.label=3;case 3:return[4,i.next()];case 4:if(!(t=!(o=u.sent()).done))return[3,7];return[4,o.value[1].once()];case 5:s=u.sent(),e.push(s),u.label=6;case 6:return t=!1,[3,3];case 7:return[3,14];case 8:return l=u.sent(),r=!0,a=l,[3,14];case 9:if(u.trys.push([9,,12,13]),!(t&&null!=i.return))return[3,11];return[4,i.return()];case 10:u.sent(),u.label=11;case 11:return[3,13];case 12:if(r)throw a;return[7];case 13:return[7];case 14:return(0,P.default)(JSON.stringify({session:n,events:e},null,2)),[2]}})})()},[d,c]),S=(0,b.useCallback)(function(){if(l&&i){var e=(0,_.nv)(l);(0,P.default)(e)}},[l,i]);return(0,p.Y)(p.FK,{children:(0,p.FD)(W.S,{gap:8,py:8,children:[(0,p.Y)($.l,{"aria-label":"Select a session",placeholder:"Select a session",selectedKey:l,onSelectionChange:function(e){"string"==typeof e&&u(e)},children:o.map(function(e){return(0,p.Y)(et,{session:e},e.id)})}),c?(0,p.FD)(p.FK,{children:[(0,p.Y)(ee,{session:c}),(0,p.Y)(W.S,{children:(0,p.Y)(H.pd,{placeholder:"Filter events by kind, tool, etc.",value:h,onChange:function(e){return m(e.target.value)}})}),(0,p.FD)(W.S,{row:!0,gap:8,children:[(0,p.Y)(M.$n,{text:"Copy as JSON",onClick:v,iconLeft:(0,p.Y)(j.A,{})}),(0,p.Y)(M.$n,{text:"Copy traceforge link",onClick:S,iconLeft:(0,p.Y)(q.A,{})})]})]}):null,(0,p.Y)(W.S,{children:null==d?void 0:d.map(function(e){var n=(0,g._)(e,2),t=n[0],r=n[1];return(0,p.Y)(er,{event:r,eventKindFilter:h},t)})})]})})}function ee(e){var n=(0,x.J2)(e.session.data);return(0,p.Y)(L.A,{headerContent:(0,p.Y)(G.EY,{children:"Session data"}),children:(0,p.Y)(E.A,{code:JSON.stringify(n,null,2),language:"json"})})}var en=new Map([[I.dF3.SESSION_TYPE_UNKNOWN,"unknown"],[I.dF3.CHAT,"chat"],[I.dF3.INLINE_CHAT,"inline chat"],[I.dF3.SINGLE_USE_SESSION,"single use session"],[I.dF3.REPL_CREATION,"repl creation"],[I.dF3.AGENT_SESSION,"agent"],[I.dF3.HOSTING_DEBUG_SUMMARY,"hosting debug"],[I.dF3.REPL_CREATION_V2,"repl creation v2"],[I.dF3.REPL_CREATION_V3,"repl creation v3"],[I.dF3.AGENT_REPLAY_SESSION,"agent replay"],[I.dF3.SAMPLING_SESSION,"sampling"],[I.dF3.SUB_AGENT,"subagent"]]);function et(e){var n=(0,x.J2)(e.session.data),t="";return(null==n?void 0:n.sessionType)&&(t+="[".concat(en.get(n.sessionType),"] ")),t+=(null==n?void 0:n.title)||e.session.id,(0,p.Y)(B.nh,{id:e.session.id,label:t})}function er(e){var n=(0,x.J2)(e.event);return n?!function(e,n){if(!n)return!0;var t=n.toLowerCase(),r=!1,a=null==e||null==(o=e.contents)||null==(i=o.contents)?void 0:i.$kind.toLowerCase();if(a&&(r=r||a.includes(t)),(0,R.TW)(e,"agentTimelineEventContents")){var i,o,s,l,u,c=(0,N.QN)(e.contents.contents),d=null==(s=c.toolName)?void 0:s.toLowerCase(),f=null==(u=c.toolData)||null==(l=u.$kind)?void 0:l.toLowerCase();d&&(r=r||d.includes(t)),f&&(r=r||f.includes(t))}return r}(n,e.eventKindFilter)?null:(0,p.Y)(W.S,{children:(0,p.Y)(L.A,{headerContent:(0,p.FD)(W.S,{row:!0,gap:8,align:"center",grow:!0,shrink:!0,children:[(0,p.Y)(ei,{sender:n.sender.type}),(0,p.Y)(ea,{event:n}),(0,p.FD)(W.S,{row:!0,gap:8,align:"center",justify:"space-between",grow:!0,shrink:!0,children:[(0,p.Y)(G.EY,{children:function(e){var n=null==(r=e.contents)||null==(t=r.contents)?void 0:t.$kind;if(!n)return"Unknown event";if("agentTimelineEventContents"===n){var t,r,a,i=(0,N.QN)(e.contents.contents),o=i.toolName;return o?o:null==(a=i.toolData)?void 0:a.$kind}return n.replace("Contents","").replace("Event","")}(n)}),(0,p.FD)(W.S,{row:!0,gap:4,align:"center",shrink:!0,children:[(0,p.Y)(W.S,{shrink:!0,children:(0,p.Y)(G.EY,{variant:"small",color:"dimmer",multiline:!1,children:n.id})}),(0,p.Y)(J.r,{size:24,textToCopy:n.id,tooltipSuccessText:"Copied to clipboard"})]})]})]}),children:(0,p.Y)(E.A,{code:JSON.stringify(n,null,2),language:"json"})})}):(0,p.Y)(W.S,{children:"No data found for event"})}function ea(e){var n=e.event;if((0,R.TW)(n,"agentTimelineEventContents")){var t,r=null==(t=(0,N.QN)(n.contents.contents).toolData)?void 0:t.$kind;return(0,p.Y)(F.u,{color:U.LU.foregroundDimmer,kind:r})}return null}function ei(e){return(0,p.Y)(z.m_,{tooltip:e.sender===I.utd.AI?"Sent by AI":"Sent by user",children:(0,p.Y)(V.a,{variant:"filled",colorway:e.sender===I.utd.AI?"blurple":"green",text:e.sender===I.utd.AI?(0,p.Y)(Z.A,{color:U.LU.blurpleStrongest}):(0,p.Y)(K.A,{color:U.LU.greenStrongest})})})}var eo=t(70764),es=t(18712),el=t(30416);function eu(){var e=(0,S.nt)(),n=(0,Y.Sx)(),t=(0,(0,_.dm)().getAssistantMessageModel)({isAuthorized:!0}),r=(0,k.A)(),a=r.fs,i=r.dotReplit,o=(0,C.P)(a,i),s=(0,g._)((0,b.useState)(null),2),l=s[0],u=s[1];return(0,b.useEffect)(function(){var r=!1;return(0,y._)(function(){var a;return(0,w.YH)(this,function(i){switch(i.label){case 0:return[4,o({modelType:t,filePreferences:e,recentFiles:n()})];case 1:if(a=i.sent(),r)return[2];return u(a),[2]}})})(),function(){r=!0}},[n,e,t,o]),(0,p.Y)(A.A,{json:l})}var ec={"Session Events":X,"Agent State":function(){var e=(0,T.C9)().agentState,n=(0,x.J2)(e);return(0,p.Y)(E.A,{code:JSON.stringify(n,null,2),language:"json"})},"Assistant Events":Q,"File Context":eu},ed={"Assistant Events":Q,"File Context":eu},ef=(0,eo.x)({wrapper:[(r={},(0,v._)(r,"& > div",[es.wp.flex.growAndShrink(1),es.wp.overflowY("auto"),es.wp.colWithGap(4)]),(0,v._)(r,"& > div > div:first-of-type",[es.wp.flex.shrink(1),es.wp.overflowY("auto")]),(0,v._)(r,"& > div > div:last-of-type",[es.wp.flex.growAndShrink(1),es.wp.overflowY("auto")]),r)]}),ep=t(91666),eh=t(14972),em=t(20060),ev=t(86105),eg=t(17844),eb=t(12584),ey=t(41114),ew=t(54744);function e_(){var e=(0,eb._)(["\n  query AdminPanelGitView {\n    currentUser {\n      id\n      gitHubInfo {\n        accessToken\n        installations {\n          id\n          type\n          avatarUrl\n          name\n        }\n        userInfo {\n          name\n          email\n          avatarUrl\n        }\n      }\n    }\n  }\n"]);return e_=function(){return e},e}var eS={},eA=(0,ey.J1)(e_()),ek=t(48373),eC=t(41479),eY=t(692),eE=t(85254),ex=t(3937),eT=t(77067);function eD(e){var n=e.event,t=n.input,r=n.output,a=n.error,i=n.start,o=n.end,s=n.cached,l=(0,g._)((0,b.useState)(!0),2),u=l[0],c=l[1],d=(0,b.useCallback)(function(){return c(function(e){return!e})},[]),f="bash"===t[0]&&"-c"===t[1]?t.slice(2).join(" "):t.join(" "),h=r.trimEnd();return(0,p.FD)(W.S,{css:[(0,eE.Li)(a?"negative":"positive"),s?{opacity:.75}:void 0,es.wp.borderRadius(8)],children:[(0,p.FD)(W.S,{onClick:d,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&d()},tabIndex:0,css:[es.wp.font.code,es.wp.cursor.pointer],py:4,px:8,row:!0,gap:4,justify:"space-between",children:[(0,p.FD)("span",{css:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:["$ ",f]}),(0,p.FD)("span",{css:[es.wp.color.foregroundDimmer,es.wp.flex.shrink(0)],children:[a?(0,p.Y)("span",{css:[es.wp.mr(16)],children:a}):null,s?(0,p.Y)("span",{children:"CACHED"}):(0,p.FD)("span",{children:[o-i," ms"]})]})]}),u?null:(0,p.Y)(W.S,{css:[es.wp.borderRadius(0,0,8,8)],px:2,pb:2,children:(0,p.Y)(ex.ui,{elevated:!0,css:[es.wp.borderRadius(8)],p:8,children:(0,p.Y)(E.A,{code:h})})})]})}var eI=t(96367),eR=t(82701),eN=t(50068),eO=t(59784),eP=t(21276);function eF(e){var n=e.t,t=e.children;return(0,p.FD)("span",{css:{display:"flex",alignItems:"flex-start",columnGap:"0.5rem"},children:[(0,p.FD)(G.EY,{css:{minWidth:"8em"},multiline:!1,children:[n,":"," "]}),(0,p.Y)("span",{children:t})]})}function eU(){var e=(0,eb._)(["\n  query AdminPanelInngestEvents($replId: String!) {\n    fetchDeploymentInngestEvents(input: { replId: $replId }) {\n      name\n      timestamp\n    }\n  }\n"]);return eU=function(){return e},e}var eL={},eM=(0,ey.J1)(eU()),eJ=(0,eo.x)({root:{height:"100%",overflow:"auto",padding:16},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},eventItem:{marginBottom:8,fontFamily:"monospace",fontSize:14},timestamp:{color:"#666",marginRight:16},eventName:{fontWeight:"bold"}}),eH=t(44232),eB=t(79113),eV=t(61146),e$=t(73455),eG=t(66121),ez=t(74013),eW=(0,eo.x)({container:[es.wp.height("100%"),es.wp.position.relative],controls:[es.wp.backgroundColor.backgroundDefault]}),ej=(0,eo.x)({in:[es.wp.color.greenStrongest],out:[es.wp.color.redStrongest],error:[es.wp.color.magentaStrongest]}),eq=[es.wp.flex.row,es.wp.rowWithGap(4),{"&:hover":{cursor:"pointer",".link":{textDecoration:"underline"}}}],eZ=(0,eo.x)({clickable:(0,ev._)(eq),clickableHighlighted:(0,ev._)(eq).concat([es.wp.backgroundColor.accentPositiveDimmer]),inner:[es.wp.maxWidth("100%")],log:[es.wp.flex.growAndShrink(1),{opacity:.5}],row:[es.wp.my(4),es.wp.mx(4)],timestamp:[es.wp.fontSize(13),{cursor:"pointer"}]});function eK(e){var n,t=e.log,r=e.filters,a=e.timeRef,i=e.setTimeRef,o=(0,b.useMemo)(function(){return r.highlightOnly&&(0,eB.jQ)(t,r)},[r,t]),s=null!=(n=t.cmd.channel)?n:0,l=(0,b.useMemo)(function(){var e=(0,eg._)({},t.cmd);return delete e.channel,{cleaned:e,formatted:JSON.stringify(e,null,2)}},[t]),u=a?t.timestamp-a:t.timestamp,c=(0,g._)((0,eR.A)(!0),2),d=c[0],f=c[1];return(0,p.FD)(W.S,{css:eZ.row,children:[(0,p.Y)(W.S,{role:"button",onClick:f,onKeyDown:f,tabIndex:0,css:o?eZ.clickableHighlighted:eZ.clickable,children:(0,p.FD)(W.S,{css:eZ.inner,grow:!0,row:!0,gap:4,children:[(0,p.Y)(G.EY,{className:"icon",multiline:!1,children:"in"===t.dir?(0,p.Y)(W.S,{css:ej.in,children:"→"}):"out"===t.dir?(0,p.Y)(W.S,{css:ej.out,children:"←"}):(0,p.Y)(W.S,{css:ej.error,children:"⚠"})}),(0,p.Y)(G.EY,{className:"link",multiline:!1,children:(0,p.FD)("code",{children:["#",s," - ",t.channel.service,t.channel.name?"::".concat(t.channel.name):""]})}),(0,p.Y)(G.EY,{css:eZ.log,multiline:!1,children:(0,p.Y)("code",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:l.formatted})}),null!=u&&(0,p.Y)(W.S,{style:{opacity:.5},onClick:function(){i(t.timestamp)},children:(0,p.Y)(G.EY,{css:eZ.timestamp,multiline:!1,children:t.timestamp===a?"(reference)":(0,p.FD)(p.FK,{children:[u.toFixed(0)," ms"]})})})]})}),!d&&(0,p.Y)(p.FK,{children:void 0!==l.cleaned&&(0,p.Y)(eV.U,{name:"cmd",src:l.cleaned})})]})}var eQ=(0,eo.x)({listContainer:[es.wp.position.relative,es.wp.height("100%")],listScroller:[es.wp.overflow("auto"),es.wp.coverContainer],listBox:[es.wp.width("100%"),es.wp.position.relative],listItem:[es.wp.position.absolute,es.wp.top(0),es.wp.left(0),es.wp.width("100%")]}),eX=(0,b.memo)(function(e){var n=e.logs,t=e.filters,r=e.timeRef,a=e.setTimeRef,i=(0,b.useRef)(null),o=(0,eH.Te)({count:n.length,getScrollElement:function(){return i.current},getItemKey:function(e){return n[e].id},estimateSize:function(){return 30},overscan:10});return(0,p.Y)("div",{css:eQ.listContainer,children:(0,p.FD)("div",{ref:i,css:eQ.listScroller,children:[(0,p.Y)("div",{css:eQ.listBox,style:{height:"".concat(o.getTotalSize(),"px")},children:o.getVirtualItems().map(function(e){var i=e.index,s=e.key,l=e.start,u=n[i];return u?(0,p.Y)("div",{"data-index":i,ref:o.measureElement,css:eQ.listItem,style:{transform:"translateY(".concat(l,"px)")},children:(0,p.Y)(eK,{log:u,filters:t,timeRef:r,setTimeRef:a})},s.toString()):null})}),(0,p.Y)("div",{className:"bottom-anchor"})]})})}),e0=function(e){var n=e.filters,t=e.updateFilters;return(0,p.FD)(W.S,{gap:4,children:[(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:"Regex (regex,flags):"}),(0,p.Y)(H.pd,{id:"regex",onChange:function(e){var n=null;if(e.currentTarget.value){var r=(0,g._)(e.currentTarget.value.split(","),2),a=r[0],i=r[1];try{n=new RegExp(a,i)}catch(e){}}t({regexp:n})},placeholder:"\\w+,gi"}),(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:"Channel (comma separated ids, clear to reset)"}),(0,p.Y)(H.pd,{id:"channels",onChange:function(e){t({channels:e.currentTarget.value.split(",").map(function(e){return e.trim()}).map(Number).filter(function(e){return!isNaN(e)})})},placeholder:"1,2,3"}),(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:"Directions:"}),(0,p.Y)(eG.z,{css:es.wp.rowWithGap(16),name:"direction",value:n.direction,onChange:function(e){var n=e.target.value;t({direction:"in"===n||"out"===n||""===n?n:""})},children:[{val:"",text:"Both"},{val:"in",text:"In"},{val:"out",text:"Out"}].map(function(e){return(0,p.FD)(W.S,{row:!0,gap:8,children:[(0,p.Y)(eG.s,{id:e.val,value:e.val}),(0,p.Y)("label",{htmlFor:e.val,children:e.text})]},e.val)})}),(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:"Filter style:"}),(0,p.Y)(eG.z,{css:es.wp.rowWithGap(16),name:"filter-style",value:n.highlightOnly?"highlight":"filter",onChange:function(e){return t({highlightOnly:"highlight"===e.target.value})},children:[{val:"highlight",text:"Highlight"},{val:"filter",text:"Filter"}].map(function(e){return(0,p.FD)(W.S,{row:!0,gap:8,children:[(0,p.Y)(eG.s,{id:e.val,value:e.val}),(0,p.Y)("label",{htmlFor:e.val,children:e.text})]},e.val)})})]})},e1=t(2649),e2=t(42008),e3=(0,eo.x)({root:{height:"100%",overflow:"auto",padding:10,pre:{whiteSpace:"pre-wrap",wordWrap:"break-word"}},command:[es.wp.flex.shrink(1)]}),e4=t(89357),e5=t(58631),e7=t(72951),e9=t(95570),e8=t(14106),e6=t.n(e8),ne=t(76957),nn=t(79203),nt=t(98565),nr=t(36163),na=t(49555),ni=t(39938),no=t(27172),ns="(click to upload dev build)",nl=(0,ne.eU)(["IDLE","pid2 running latest prod ".concat(ns)]);function nu(e,n){return(0,y._)(function(){var t,r,a;return(0,w.YH)(this,function(i){switch(i.label){case 0:return[4,e.exec("printenv","REPL_HOME")];case 1:if((t=i.sent()).error||!t.output)return n("IDLE","could not printenv REPL_HOME"),[2,null];return r=t.output.trim(),a=e6().join(r,".local/bin/pid2"),[2,{REPL_HOME:r,pid2BinDst:"/home/runner/bin/pid2",pid2BinDst2:a}]}})})()}var nc=t(40872),nd=t(95570),nf=(0,eo.x)({uploadMessage:[es.wp.flex.growAndShrink(1),es.wp.width("100%"),es.wp.font.code]}),np=t(53847),nh=t(93629),nm=t(22531),nv=t(49069),ng=t(45773),nb=t(68488),ny=t(55778),nw=t(8761),n_=t(89832),nS=t(53556),nA=t(74309),nk=t(32978),nC=t(45620);function nY(e){var n=(0,g._)((0,b.useState)(null),2),t=n[0],r=n[1],a=(0,x.J2)(e.logs),i=null!==t?a[a.length-t-1]:null,o=(0,nS.A)(),s=o.ref,l=o.view;(0,b.useEffect)(function(){l&&l.dispatch({changes:{from:0,to:l.state.doc.length,insert:i?i.data:""}})},[i,l]);var u=(0,b.useRef)(t);return(0,b.useEffect)(function(){u.current=t},[t]),(0,b.useEffect)(function(){return e.logs.subscribe(function(e){var n=u.current;(null===n||e.length-2===n)&&r(e.length-1)})},[e.logs]),(0,p.FD)(W.S,{css:nP.response,grow:!0,shrink:!0,row:!0,gap:0,children:[(0,p.FD)(W.S,{css:nP.responseL,children:[(0,p.Y)(W.S,{css:nP.logHeader,align:"start",justify:"center",children:i?null==i?void 0:i.name:null}),(0,p.Y)(W.S,{css:nP.logData,children:(0,p.Y)(nw.Ay,{ref:s,language:"json",readOnly:!0})})]}),(0,p.FD)(W.S,{css:nP.responseR,children:[(0,p.Y)(W.S,{css:nP.logsHeader,children:(0,p.Y)(M.$n,{size:"small",text:"Clear",disabled:!a.length,onClick:e.onClear})}),(0,p.Y)(W.S,{css:nP.logsList,children:a.map(function(e,n){var i=a.length-n-1;return(0,p.Y)("code",{role:"button",tabIndex:0,className:t===i?"selected":void 0,onClick:function(){r(i)},onKeyDown:function(e){"Enter"===e.key&&r(i)},children:e.name},i)})})]})]})}var nE=nv.Pe.define(),nx=nv.Pe.define(),nT=nv.Pe.define(),nD=ng.Lz.theme({"&":{border:"1px solid ".concat(U.LU.outlineDefault),height:"225px"},"& .cm-panels":{backgroundColor:"unset"},"& .cm-panels.cm-panels-bottom":{borderTop:"1px solid ".concat(U.LU.outlineDefault)}}),nI=new nA.k(function(e,n){return[nD,nv.sU.define({create:function(){return null},update:function(e,n){var t=!0,r=!1,a=void 0;try{for(var i,o=n.effects[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;s.is(nE)&&(e=s.value),s.is(nT)&&(e=null)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return e},provide:function(t){return[ng.Z9.define(function(){var t,r=new AbortController;return{update:function(a){return(0,y._)(function(){var i,o,s,l,u,c,d,f,p,h,m,v,g,b,y,_,S,A,k,C,Y,E,x,T,I,R,N,O,P,F,U,L,M,J;return(0,w.YH)(this,function(w){switch(w.label){case 0:if(!e)return[2];i=void 0,o=!0,s=!1,l=void 0;try{for(u=a.transactions[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){d=c.value,f=!0,p=!1,h=void 0;try{for(m=d.effects[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var H;(g=v.value).is(nE)&&g.value&&(i=g.value),g.is(nx)&&(null==t||t.write((H=g.value,JSON.parse(H,function(e,n){return(void 0===n?"undefined":(0,nm._)(n))==="object"&&"Uint8Array"===n.type&&void 0!==n.data?new Uint8Array(n.data):n})))),g.is(nT)&&r.abort()}}catch(e){p=!0,h=e}finally{try{f||null==m.return||m.return()}finally{if(p)throw h}}}}catch(e){s=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}if(!i)return[2];switch(b=i.service,y=i.procedure,_=i.type,S=e.client[b][y][_],A=void 0,k=1,i.type){case"rpc":return[3,1];case"stream":return[3,3];case"subscribe":return[3,5];case"upload":return[3,7]}return[3,9];case 1:case 5:return[4,S(i.input,{signal:r.signal})];case 2:return C=w.sent(),n({name:"".concat(b,".").concat(y,".").concat(_,".").concat(k),data:nR(C)}),a.view.dispatch({effects:nT.of(null)}),[3,9];case 3:return[4,S(null!=(Y=i.input)?Y:void 0,{signal:r.signal})];case 4:return x=(E=w.sent()).reqWritable,T=E.resReadable,t=x,A=T,[3,9];case 6:return A=w.sent().resReadable,[3,9];case 7:return[4,S(null!=(I=i.input)?I:void 0,{signal:r.signal})];case 8:return N=(R=w.sent()).reqWritable,R.finalize,t=N,[3,9];case 9:if(!A)return[3,22];O=!1,P=!1,w.label=10;case 10:w.trys.push([10,15,16,21]),U=(0,D._)(A),w.label=11;case 11:return[4,U.next()];case 12:if(!(O=!(L=w.sent()).done))return[3,14];M=L.value,n({name:"".concat(b,".").concat(y,".").concat(_,".").concat(k),data:nR(M)}),k++,w.label=13;case 13:return O=!1,[3,11];case 14:return[3,21];case 15:return J=w.sent(),P=!0,F=J,[3,21];case 16:if(w.trys.push([16,,19,20]),!(O&&null!=U.return))return[3,18];return[4,U.return()];case 17:w.sent(),w.label=18;case 18:return[3,20];case 19:if(P)throw F;return[7];case 20:return[7];case 21:a.view.dispatch({effects:nT.of(null)}),w.label=22;case 22:return[2]}})})()}}}),ng.Lz.editable.from(t,function(e){return(null==e?void 0:e.type)!=="rpc"&&(null==e?void 0:e.type)!=="subscribe"}),ny.x.compute([t,"doc"],function(e){var n,r;return e.doc.length?null:(null==(n=e.field(t))?void 0:n.type)==="stream"||(null==(r=e.field(t))?void 0:r.type)==="upload"?{from:0,insert:"{\n   # ... input data\n}"}:{from:0,insert:'{\n  "service_name": {\n    "procedure_name": {\n      "rpc" | "stream" | "subscribe" | "upload": {\n        # ... init/input data\n      }\n    }\n  }\n}'}}),ng.w4.of([{key:"Tab",run:function(e){var n;return!e.state.doc.length&&(e.dispatch({changes:null!=(n=e.state.facet(ny.x)[0])?n:void 0}),!0)}}]),ng.S7.of(function(n){var r=function(){if(e){var t=nO(n.state.doc.toString());if(t){var r=t.type,a=t.service,i=t.procedure,o=t.input;r&&a&&i&&n.dispatch({effects:nE.of({type:r,service:a,procedure:i,input:o}),changes:"stream"===r||"upload"===r?{from:0,to:n.state.doc.length,insert:""}:void 0})}}},a=function(){n.dispatch({effects:nx.of(n.state.doc.toString()),changes:{from:0,to:n.state.doc.length,insert:""}})},i=function(){var r,a=n.state.field(t),i=new Set,o=n.state.doc.toString();return e&&a&&"rpc"!==a.type&&(i.add("Close"),("stream"===a.type||"upload"===a.type)&&o.startsWith("{")&&o.endsWith("}")&&i.add("Send")),e&&!a&&o.length&&(i.add("Clear"),(null==(r=nO(o))?void 0:r.type)&&i.add("Send")),i},o=nU.create({enabled:i(),onSend:function(){null==n.state.field(t)?r():a(),n.focus()},onClose:function(){n.dispatch({effects:[nT.of(null),nE.of(null)],changes:{from:0,to:n.state.doc.length,insert:""}})},onClear:function(){n.dispatch({changes:{from:0,to:n.state.doc.length,insert:""}}),n.focus()}});return{dom:o,top:!1,update:function(e){if((0,nb.$H)(e,t,"doc")){var n=e.state.field(t);nU.update(o,function(e){return(0,nh._)((0,eg._)({},e),{enabled:i(),inProgress:n?"".concat(n.type,": ").concat(n.service,".").concat(n.procedure):void 0})})}}}})]}})]});function nR(e){return JSON.stringify(e,function(e,n){return(0,np._)(n,Uint8Array)?Array.from(n):n},2)}var nN=["rpc","stream","subscribe","upload"];function nO(e){try{n=JSON.parse(e)}catch(e){return null}var n,t=0,r=null,a=null,i=null;try{for(;t<3;){var o=Object.keys(n)[0];if(void 0===o)throw Error("expected key");if(0===t&&(r=o),1===t&&(a=o),2===t)if(nN.includes(o))i=o;else throw Error("expected procedure type");n=n[o],t++}return{type:i,service:r,procedure:a,input:n}}catch(e){return{type:i,service:r,procedure:a,input:null}}}var nP=(0,eo.x)({response:[es.wp.border({width:1,color:U.LU.outlineDefault}),{marginTop:"4px"}],logHeader:[es.wp.height("37px"),es.wp.display.flex,es.wp.p(4),es.wp.border({width:1,color:U.LU.outlineDefault,direction:"bottom"})],logData:[es.wp.display.block,es.wp.flex.growAndShrink(1),{overflowY:"auto"}],logsHeader:[es.wp.display.flex,es.wp.align.end,es.wp.p(4),es.wp.border({width:1,color:U.LU.outlineDefault,direction:"bottom"})],logsList:[es.wp.display.block,es.wp.flex.growAndShrink(1),{overflowY:"auto"}],responseL:[es.wp.display.flex,es.wp.flex.growAndShrink(1),{overflowY:"auto"}],responseR:[es.wp.display.flex,es.wp.border({width:1,color:U.LU.outlineDefault,direction:"left"}),es.wp.width("40%"),es.wp.maxWidth("250px"),{overflowY:"auto","& code":{display:"block",cursor:"pointer",padding:"4px",borderBottom:"1px solid ".concat(U.LU.outlineDimmer),overflowX:"hidden",textOverflow:"ellipsis"},"& code.selected":{backgroundColor:U.LU.accentPrimaryDimmer},"& code:last-of-type":{borderBottom:"unset"}}]}),nF=["Send","Close","Clear"],nU=new n_.E(function(e){return(0,p.FD)(W.S,{children:[(0,p.Y)(W.S,{p:4,pb:0,children:(0,p.FD)(G.EY,{variant:"small",color:"dimmer",children:["Status:"," ",e.inProgress?(0,p.FD)(p.FK,{children:["In progress - ",e.inProgress]}):null]})}),(0,p.Y)(W.S,{p:4,row:!0,gap:4,children:Object.values(nF).map(function(n){return(0,p.Y)(M.$n,{size:"small",disabled:!e.enabled.has(n),text:n,onClick:function(){switch(n){case"Send":e.onSend();break;case"Close":e.onClose();break;case"Clear":e.onClear()}}},n)})})]})});function nL(){var e=(0,eb._)(["\n  fragment AdminPanelRepl on Repl {\n    id\n    title\n    description\n    isPrivate\n    timeCreated\n    timeUpdated\n    slug\n    url\n    language\n    user {\n      id\n    }\n    config {\n      isServer\n      isVnc\n      isAgentRepl\n    }\n    isRenamed\n    folderId\n    isOwner\n    isReplShieldEnabled\n    origin {\n      id\n    }\n    source {\n      release {\n        id\n        repl {\n          id\n          url\n          templateLabel\n        }\n      }\n    }\n  }\n"]);return nL=function(){return e},e}function nM(){var e=(0,eb._)(["\n  query AdminPanelReplView($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        ...AdminPanelRepl\n      }\n    }\n  }\n  ","\n"]);return nM=function(){return e},e}var nJ={},nH=(0,ey.J1)(nL()),nB=(0,ey.J1)(nM(),nH),nV=t(42793),n$=t(43383),nG=(0,nV.AH)([es.wp.colWithGap(16),es.wp.p(4),{pre:{whiteSpace:"pre-wrap",wordWrap:"break-word"}}]),nz=t(53811),nW=t(67201),nj=t(35897),nq=t(95793),nZ=t(24499),nK=t(87261),nQ=t(85319);function nX(e){var n=e.sessionId,t=(0,g._)((0,b.useState)(!1),2),r=t[0],a=t[1],i=(0,g._)((0,b.useState)(""),2),o=i[0],s=i[1],l=(0,g._)((0,b.useState)(!1),2),u=l[0],c=l[1],d=(0,nj.A)().showConfirm,f=(0,nK.c)();return null==n?(0,p.Y)(W.S,{children:(0,p.Y)(G.EY,{multiline:!1,children:"Something went wrong... no RUM session found... Try refreshing the page"})}):(0,p.FD)(W.S,{gap:8,children:[(0,p.FD)(G.EY,{variant:"small",multiline:!1,children:["RUM Session ID: ",n]}),(0,p.Y)(G.EY,{variant:"headerDefault",multiline:!1,children:"Submit an Issue"}),(0,p.FD)(W.S,{gap:16,children:[(0,p.Y)(H.ov,{id:f("message"),placeholder:"What can we do better?",value:o,onChange:function(e){return s(e.target.value)},disabled:r}),(0,p.FD)(W.S,{row:!0,gap:8,children:[(0,p.Y)(nQ.S,{id:f("issueInRecording"),checked:u,onChange:function(e){return c(e)}}),(0,p.Y)("label",{htmlFor:f("issueInRecording"),children:(0,p.Y)(G.EY,{multiline:!1,children:"Issue is demoed in recording"})})]}),(0,p.Y)(M.$n,{onClick:function(){var e=(0,nW.A)();a(!0),(0,nq.yH)({name:"replitOnReplit:issue",context:{message:o,issueInRecording:u,customEventId:e}}),d("Issue submitted! Have a cookie \uD83C\uDF6A",5e3),setTimeout(function(){a(!1),s(""),c(!1)},5e3)},text:"Submit",disabled:r||0===o.trim().length,colorway:"primary"})]})]})}var n0=t(91539),n1=t(25687),n2=t(63591),n3=t(46735);function n4(e){var n=e.entry,t=e.isExpanded,r=e.onToggleExpanded,a=(0,n3.A)(new Date(n.timestamp),"yyyy-MM-dd HH:mm:ss"),i=n.state.playgroundState.state;return(0,p.Y)(L.A,{expanded:t,onClick:r,headerContent:(0,p.FD)(W.S,{row:!0,align:"center",gap:8,children:[(0,p.Y)(G.EY,{variant:"code",color:"dimmer",children:a}),(0,p.Y)(G.EY,{variant:"code",children:i})]}),children:(0,p.Y)(A.A,{json:n.state})})}var n5=t(91246),n7=t.n(n5),n9=t(41683),n8=t(54741),n6=t(8086),te=t(42811),tn=function(e){return e.WORKSPACE_CONNECTING="WORKSPACE_CONNECTING",e.WORKSPACE_RECONNECTING="WORKSPACE_RECONNECTING",e.NIX_IS_BROKEN="NIX_IS_BROKEN",e.SERVICES_LOADING="SERVICES_LOADING",e.APP_NOT_RUNNING_AGENT_WORKING="APP_NOT_RUNNING_AGENT_WORKING",e.APP_NOT_RUNNING_AGENT_IDLE="APP_NOT_RUNNING_AGENT_IDLE",e.APP_STARTING_AGENT_WORKING="APP_STARTING_AGENT_WORKING",e.APP_STARTING_AGENT_IDLE="APP_STARTING_AGENT_IDLE",e.MASTRA_API_NOT_READY="MASTRA_API_NOT_READY",e.INNGEST_API_NOT_READY="INNGEST_API_NOT_READY",e.READY="READY",e}({});function tt(){var e,n,t,r,a,i,o,s,l,u,c,d,f=(0,n6.A)(),p=f.didConnectOnce,h=f.didDisconnect,m=(0,te.NT)(),v=(0,n2.lO)(),_=(0,n2.If)(),S=(n=(e=(0,g._)((0,b.useState)(!1),2))[0],t=e[1],a=(r=(0,n8.Y)()).isAgentStackRepl,i=r.loading,(0,nC.b)(function(e,n){var r=n.signal;return(0,y._)(function(){var n,o,s,l,u,c,d,f;return(0,w.YH)(this,function(p){switch(p.label){case 0:if(i||!a)return[2];n=e.mastraApi.subscribeToReadiness.subscribe({},{signal:r}).resReadable,o=!1,s=!1,p.label=1;case 1:p.trys.push([1,6,7,12]),u=(0,D._)(n),p.label=2;case 2:return[4,u.next()];case 3:if(!(o=!(c=p.sent()).done))return[3,5];(d=c.value).ok?t(d.payload.ready):t(!1),p.label=4;case 4:return o=!1,[3,2];case 5:return[3,12];case 6:return f=p.sent(),s=!0,l=f,[3,12];case 7:if(p.trys.push([7,,10,11]),!(o&&null!=u.return))return[3,9];return[4,u.return()];case 8:p.sent(),p.label=9;case 9:return[3,11];case 10:if(s)throw l;return[7];case 11:return[7];case 12:return[2]}})})()},[a,i]),n),A=(s=(o=(0,g._)((0,b.useState)(!1),2))[0],l=o[1],c=(u=(0,n8.Y)()).isAgentStackRepl,d=u.loading,(0,nC.b)(function(e,n){var t=n.signal;return(0,y._)(function(){var n,r,a,i,o,s,u,f;return(0,w.YH)(this,function(p){switch(p.label){case 0:if(d||!c)return[2];n=e.mastraApi.subscribeToInngestReadiness.subscribe({},{signal:t}).resReadable,r=!1,a=!1,p.label=1;case 1:p.trys.push([1,6,7,12]),o=(0,D._)(n),p.label=2;case 2:return[4,o.next()];case 3:if(!(r=!(s=p.sent()).done))return[3,5];(u=s.value).ok?l(u.payload.ready):l(!1),p.label=4;case 4:return r=!1,[3,2];case 5:return[3,12];case 6:return f=p.sent(),a=!0,i=f,[3,12];case 7:if(p.trys.push([7,,10,11]),!(r&&null!=o.return))return[3,9];return[4,o.return()];case 8:p.sent(),p.label=9;case 9:return[3,11];case 10:if(a)throw i;return[7];case 11:return[7];case 12:return[2]}})})()},[c,d]),s),C=(0,k.A)().ports,Y=(0,ek.A)(C.portsState),E=(0,T.sz)(),x=null!==Y&&!1===v.isWorkflowsLoading,I=Object.values(null!=_?_:{}).filter(function(e){return"agent"===e.workflow.author&&e.tasks.some(function(e){return"shell.exec"===e.config.task})}).sort(function(e,n){return e.startTime-n.startTime}),R=I.filter(function(e){return e.step===n1.zY.RUNNING}),N=(R.length>0?R:I).flatMap(function(e){return e.tasks.map(function(n){return{task:n,runId:e.runId}})}).filter(function(e){return"shell.exec"===e.task.config.task}),O=function(e){var n=N.filter(function(n){return n.task.config.waitForPort===e}),t=n.filter(function(n){var t,r;return null==(r=n.task.metadata)||null==(t=r.openPorts)?void 0:t.some(function(n){return n.port===e&&n.forwarded})}),r=n.map(function(e){var n=e.runId;return null==_?void 0:_[n]}).filter(Boolean);return{hasWorkflowStarting:r.some(function(e){return(null==e?void 0:e.step)===n1.zY.RUNNING})&&0===t.length,hasWorkflowNotRunning:0===r.length||r.every(function(e){return(null==e?void 0:e.step)!==n1.zY.RUNNING})}},P=O(3e3),F=O(5e3);return{areNecessaryServicesReady:x,didConnectOnce:p,didDisconnect:h,isAgentWorking:E,nixError:m,isMastraApiReady:S,isInngestApiReady:A,isAnyWorkflowStarting:P.hasWorkflowStarting||F.hasWorkflowStarting,isAnyWorkflowNotRunning:P.hasWorkflowNotRunning||F.hasWorkflowNotRunning}}function tr(){var e=tt(),n=e.areNecessaryServicesReady,t=e.didConnectOnce,r=e.didDisconnect,a=e.isAgentWorking,i=e.nixError,o=e.isMastraApiReady,s=e.isInngestApiReady,l=e.isAnyWorkflowStarting,u=e.isAnyWorkflowNotRunning;if(!t)return{state:"WORKSPACE_CONNECTING"};if(r)return{state:"WORKSPACE_RECONNECTING"};if((null==i?void 0:i.status)==="error"||(null==i?void 0:i.status)==="rebuilding-after-error")return{state:"NIX_IS_BROKEN",nixError:i};if(!n)return{state:"SERVICES_LOADING"};if(u)if(a)return{state:"APP_NOT_RUNNING_AGENT_WORKING"};else return{state:"APP_NOT_RUNNING_AGENT_IDLE"};if(l)if(a)return{state:"APP_STARTING_AGENT_WORKING"};else return{state:"APP_STARTING_AGENT_IDLE"};return o?s?{state:"READY"}:{state:"INNGEST_API_NOT_READY"}:{state:"MASTRA_API_NOT_READY"}}var ta=t(40185),ti=t(54222),to=t(49313),ts=(0,ne.eU)([]);function tl(){var e,n=(0,O.A)(),t=(0,ti.OR)({variables:{replId:n}}).data,r=(0,ta.useRouter)();return(0,_.jt)()&&((null==t||null==(e=t.currentUser)?void 0:e.isAdmin)||!!r.query.debug)}function tu(e){var n=e.stateHistory,t=(0,g._)((0,b.useState)(new Set([0])),2),r=t[0],a=t[1],i=function(e){a(function(n){var t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t})};return(0,p.Y)(W.S,{children:n.map(function(e,n){return(0,p.Y)(n4,{entry:e,isExpanded:r.has(n),onToggleExpanded:function(){return i(n)}},e.timestamp)})})}var tc=t(99431);function td(e){var n=e.entry,t=e.isExpanded,r=e.onToggleExpanded,a=(0,n3.A)(new Date(n.timestamp),"yyyy-MM-dd HH:mm:ss"),i=n.state.agentAwareWebviewState.state;return(0,p.Y)(L.A,{expanded:t,onClick:r,headerContent:(0,p.FD)(W.S,{row:!0,align:"center",gap:8,children:[(0,p.Y)(G.EY,{variant:"code",color:"dimmer",children:a}),(0,p.Y)(G.EY,{variant:"code",children:i})]}),children:(0,p.Y)(A.A,{json:n.state})})}function tf(e){var n=e.stateHistory,t=(0,g._)((0,b.useState)(new Set([0])),2),r=t[0],a=t[1],i=function(e){a(function(n){var t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t})};return(0,p.Y)(W.S,{children:n.map(function(e,n){return(0,p.Y)(td,{entry:e,isExpanded:r.has(n),onToggleExpanded:function(){return i(n)}},e.timestamp)})})}var tp=function(e){return e.Repl="repl",e.Pid2="pid2",e.Pid2Repl="pid2Repl",e.MuxedShell="pid2MuxedShell",e.Logs="logs",e.LSP="lsp",e.Ai="ai",e.AiChat="aiChat",e.Git="git",e.History2="history2",e.InngestEvents="inngestEvents",e.Metadata="metadata",e.Override="override",e.DDRum="rum",e.CommandBar="commandBar",e.Workflows="workflows",e.TriggerBSOD="triggerBSOD",e.PreviewState="previewState",e.PlaygroundState="playgroundState",e}(tp||{}),th=(a={},(0,v._)(a,"repl",function(){var e,n,t,r,a,i,o,s,l,u,c=(0,O.A)(),d=(e={variables:{replId:c}},n=(0,eg._)({},nJ,e),ew.I(nB,n)).data,f=(null==d?void 0:d.getRepl.__typename)==="Repl"?JSON.parse(JSON.stringify(d.getRepl)):void 0;return f&&(delete f.__typename,null==(t=f.user)||delete t.__typename,null==(r=f.origin)||delete r.__typename,delete f.config.__typename,null==(a=f.source)||delete a.__typename,null==(o=f.source)||null==(i=o.release)||delete i.__typename,null==(u=f.source)||null==(l=u.release)||null==(s=l.repl)||delete s.__typename),(0,p.FD)(W.S,{css:nG,children:[(0,p.Y)(n$.A,{replId:c}),(0,p.Y)("div",{children:f?(0,p.Y)(A.A,{json:f}):null})]})}),(0,v._)(a,"pid2",function(){var e,n,t,r,a,i,o,s,l,u,c,d=(0,k.A)().container,f=null==(u=d.getContext())?void 0:u.repl,h=(0,nc.yB)(),m=(0,g._)((0,b.useState)("unknown"),2),v=m[0],_=m[1],S=(0,g._)((0,b.useState)(null),2),A=S[0],C=S[1],Y=(0,g._)((0,b.useState)(null),2),E=Y[0],x=Y[1],T=(0,g._)((0,b.useState)(null),2),D=T[0],I=T[1],R=(t=(n=(0,k.A)()).fs,a=null==(e=(r=n.container).getContext())?void 0:e.repl,i=(0,nn.Xr)(nl),s=(o=(0,g._)((0,nn.md)(nl),2))[0],o[1],l=(0,ni.A)(s),(0,b.useCallback)(function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:var n,o,s;if(!a||"IDLE"!==l.current&&"ERROR"!==l.current)return[2];return i(["STARTING","starting pid2 upload process"]),[4,(n=r,o=t,s=function(e,n){i([e,n])},(0,y._)(function(){var e,t,r,a,i,l,u,c,d,f,p,h,m,v;return(0,w.YH)(this,function(g){switch(g.label){case 0:return[4,(0,no.E)()];case 1:var b,_,S,A;if("dev"===(r=g.sent()))return s("IDLE","dev is not a version we can upload to the container"),[2];return[4,(b=r,_=n,S=o,A=s,(0,y._)(function(){var e,n,t,r,a,i,o,s,l,u;return(0,w.YH)(this,function(c){switch(c.label){case 0:return e=e6().join(nr.Dl,".cache/replit/pid2/".concat(b)),n=e6().join(e,"success"),[4,S.stat(n)];case 1:if((t=c.sent()).exists&&t.type===na.pt.File)return[2];return A("UPLOADING","pid2: uploading version ".concat(b," to container...")),[4,fetch("/pid2/bundle")];case 2:if(!(r=c.sent()).ok)throw Error("Error fetching PID2 bundle: ".concat(r.statusText));if(!r.body)throw Error("Error fetching PID2 bundle: ".concat(r));return[4,r.arrayBuffer()];case 3:return a=c.sent(),i=".cache/replit/pid2/pid2-".concat(b,".tar.gz"),[4,S.writeFile(i,nt.A.from(a))];case 4:if((o=c.sent()).error)throw Error("pid2: writing tarball: ".concat(o.error));return[4,_.exec("mkdir","-p",e)];case 5:if((s=c.sent()).error)throw Error("pid2: mkdir: ".concat(s.error));return[4,_.exec("tar","-C",e,"-xf",i)];case 6:if((l=c.sent()).error)throw Error("pid2: untar: ".concat(l.error));return[4,S.writeFile(e6().join(e,"pid2.version"),b)];case 7:if((u=c.sent()).error)throw Error("pid2: writeVersion: ".concat(u.error));return[4,_.exec("touch",n)];case 8:return c.sent(),[4,_.exec("rm","-f",i)];case 9:return c.sent(),A("UPLOADED","pid2: ".concat(b," upload success")),[2]}})})())];case 2:return g.sent(),[4,nu(n,s)];case 3:if(!(a=g.sent()))return[2];return i=e6().join(a.REPL_HOME,".cache/replit/pid2/".concat(r)),l=e6().join(i,"pid2"),[4,n.exec("stat","-c","%N",a.pid2BinDst)];case 4:return u=g.sent(),[4,n.exec("stat","-c","%N",a.pid2BinDst2)];case 5:if(c=g.sent(),!u.error&&(null==(e=u.output)?void 0:e.includes(l))&&!c.error&&(null==(t=c.output)?void 0:t.includes(l)))return s("IDLE","pid2 version ".concat(r," already exists in container ").concat(ns)),[2];return d=e6().dirname(a.pid2BinDst),[4,n.exec("mkdir","-p",d)];case 6:if((f=g.sent()).error)throw Error("pid2: mkdir ".concat(d,": ").concat(f.error));return[4,n.exec("ln","-sf",l,a.pid2BinDst)];case 7:if((p=g.sent()).error)throw Error("pid2: link ".concat(a.pid2BinDst,": ").concat(p.error));return h=e6().dirname(a.pid2BinDst2),[4,n.exec("mkdir","-p",h)];case 8:if(g.sent().error)throw Error("pid2: mkdir ".concat(h,": ").concat(f.error));return[4,n.exec("ln","-sf",l,a.pid2BinDst2)];case 9:if(m=g.sent(),p.error)throw Error("pid2: link ".concat(a.pid2BinDst2,": ").concat(m.error));return s("RESTARTING","pid2 version ".concat(r," installed, restarting pid2")),[4,n.exec("bash","-c","kill -9 $(pidof pid2)")];case 10:return(v=g.sent()).error&&s("ERROR","pid2: couldn't kill ".concat(v.error)),s("IDLE","pid2 version ".concat(r," installed ").concat(ns)),[2]}})})())];case 1:return e.sent(),[2]}})})()},[l,a,i,r,t])),N=(0,g._)((0,nn.md)(nl),2),O=N[0],P=N[1],F=(0,eC.I)(function(e){return function(){return(0,y._)(function(){var n,t,r;return(0,w.YH)(this,function(a){switch(a.label){case 0:return _("loading"),n=setTimeout(function(){_("unhealthy")},5e3),[4,nu(d,C)];case 1:if(!(t=a.sent()))return _("unhealthy"),[2];return[4,d.exec("stat","-c","%N",t.pid2BinDst2)];case 2:return(r=a.sent()).error?C("LocalPid2 not installed: ".concat(r.output)):C("LocalPid2 installed: ".concat(r.output)),e.healthCheck.ping.rpc({}).then(function(e){x(e.payload),clearTimeout(n),e.ok?_("ok"):_("unhealthy")}).catch(function(){clearTimeout(n),_("unhealthy")}),[2]}})})()}});return c="ok"===v?"green":"unhealthy"===v?"red":"grey",(0,p.FD)(W.S,{pt:16,px:12,gap:12,children:[(0,p.FD)(G.Y9,{level:3,children:["Is pid2 enabled? ",h?"Yes":"No"]}),(0,p.Y)(M.$n,{text:"Ping pid2 (state: ".concat(v,")"),colorway:c,disabled:!F,onClick:function(){null==F||F()}}),E?(0,p.Y)("code",{children:JSON.stringify(E,null,2)}):null,A?(0,p.Y)("code",{children:A}):null,(0,p.Y)(M.$n,{colorway:"purple",text:"Upload pid2 to Repl",onClick:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){return f&&R(),[2]})})()}}),(0,p.FD)(G.EY,{css:nf.uploadMessage,children:["[",O,"] ",P]}),(0,p.Y)(M.$n,{colorway:"red",text:"Delete uploaded pid2",onClick:function(){return(0,y._)(function(){var e,n,t;return(0,w.YH)(this,function(r){switch(r.label){case 0:if(!f)return[2];return[4,nu(d,I)];case 1:if(!(e=r.sent()))return[2];return[4,d.exec("rm","-f",e.pid2BinDst)];case 2:return n=r.sent(),[4,d.exec("rm","-f",e.pid2BinDst2)];case 3:if(t=r.sent(),n.error)return I("".concat(n.error,": ").concat(n.output)),[2];if(t.error)return I("".concat(t.error,": ").concat(t.output)),[2];return I("uploaded pid2 deleted"),[2]}})})()}}),D?(0,p.Y)(G.EY,{css:nf.uploadMessage,children:D}):null,(0,p.Y)(M.$n,{text:"Assign pid2 client to window for testing",onClick:function(){window.pid2=h,nd.log("window.pid2: ",h)}})]})}),(0,v._)(a,"pid2Repl",function(){var e=(0,g._)((0,b.useState)(function(){return new nk.N([])}),1)[0],n=(0,b.useCallback)(function(n){return e.update(function(e){return[n].concat((0,ev._)(e))})},[e]),t=(0,g._)((0,b.useState)(null),2),r=t[0],a=t[1];(0,nC.b)(function(e){return a({client:e}),function(){return a(null)}},[]);var i=nI.use(r,n);return(0,p.FD)(p.FK,{children:[(0,p.Y)(nw.Ay,{language:"json",hideGutter:!0,extensions:i}),(0,p.Y)(nY,{logs:e,onClear:function(){return e.set([])}})]})}),(0,v._)(a,"pid2MuxedShell",function(){var e=(0,g._)((0,b.useState)([]),2),n=e[0],t=e[1];return(0,nC.b)(function(e,n){var r=n.signal;return(0,y._)(function(){var n,a,i,o,s,l,u,c;return(0,w.YH)(this,function(d){switch(d.label){case 0:n=e.shellExec.monitorAll.subscribe({},{signal:r}).resReadable,a=!1,i=!1,d.label=1;case 1:d.trys.push([1,6,7,12]),s=(0,D._)(n),d.label=2;case 2:return[4,s.next()];case 3:if(!(a=!(l=d.sent()).done))return[3,5];if(!(u=l.value).ok)return[2];t(u.payload.processes),d.label=4;case 4:return a=!1,[3,2];case 5:return[3,12];case 6:return c=d.sent(),i=!0,o=c,[3,12];case 7:if(d.trys.push([7,,10,11]),!(a&&null!=s.return))return[3,9];return[4,s.return()];case 8:d.sent(),d.label=9;case 9:return[3,11];case 10:if(i)throw o;return[7];case 11:return[7];case 12:return[2]}})})()},[]),(0,p.Y)(W.S,{children:(0,p.Y)(A.A,{json:n})})}),(0,v._)(a,"logs",function(e){var n=e.isHidden,t=(0,g._)((0,eR.A)(!1),2),r=t[0],a=t[1],i=(0,g._)((0,b.useState)(null),2),o=i[0],s=i[1],l=(0,eB.jg)(),u=(0,eB.lY)(),c=(0,eB.x6)(),d=(0,eB.R7)(),f=(0,eB.G2)(),h=(0,eB.ou)();return n?null:(0,p.FD)(W.S,{css:eW.container,gap:8,children:[(0,p.FD)(W.S,{css:eW.controls,px:4,pb:8,gap:8,children:[(0,p.Y)(M.$n,{colorway:u?void 0:"positive",onClick:c,text:u?"Stop logging goval":"Start logging goval"}),(0,p.FD)(W.S,{row:!0,gap:4,justify:"space-between",children:[(0,p.Y)(M.$n,{onClick:a,text:r?"Hide filters":"Show filters"}),o?(0,p.Y)(M.$n,{onClick:function(){return s(null)},text:"Reset Time Ref"}):null,(0,p.Y)(e$.K0,{alt:"Download as JSON",onClick:function(){var e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(l)),n=document.createElement("a");n.setAttribute("href",e);var t=new Date().toISOString();n.setAttribute("download","logs-".concat(t.slice(0,t.indexOf(".")).replaceAll("-","").replaceAll(":",""),".json")),n.click()},size:32,children:(0,p.Y)(ez.A,{})}),(0,p.Y)(M.$n,{colorway:"negative",onClick:function(){return h()},text:"Clear logs"})]}),r?(0,p.Y)(e0,{filters:d,updateFilters:function(e){f((0,eg._)({},d,e))}}):null]}),(0,p.Y)(eX,{logs:l,filters:d,timeRef:o,setTimeRef:s})]})}),(0,v._)(a,"lsp",eV.O),(0,v._)(a,"ai",em.uG),(0,v._)(a,"aiChat",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isHidden,n=(0,_.jt)();return e?null:(0,p.Y)(W.S,{css:ef.wrapper,grow:!0,shrink:!0,children:(0,p.FD)(el.tU,{children:[(0,p.Y)(el.wb,{"aria-label":"Tabs",children:Object.keys(n?ec:ed).map(function(e){return(0,p.Y)(el.oz,{children:e},e)})}),(0,p.Y)(el.T2,{children:Object.entries(ec).map(function(e){var n=(0,g._)(e,2),t=n[0],r=n[1];return(0,p.Y)(el.Kp,{children:(0,p.Y)(r,{})},t)})})]})})}),(0,v._)(a,"git",function(){var e,n,t=(0,g._)((0,b.useState)([]),2),r=t[0],a=t[1],i=(e=(0,eg._)({},eS,void 0),ew.I(eA,e)).data,o=(0,ek.A)(eY.Y),s=(0,b.useRef)(null),l=(0,g._)((0,b.useState)(!1),2),u=l[0],c=l[1],d=(0,g._)((0,b.useState)("unknown"),2),f=d[0],h=d[1],m=(0,g._)((0,b.useState)(null),2),v=m[0],_=m[1],S=(0,eC.I)(function(e){return function(n){return(0,y._)(function(){var t;return(0,w.YH)(this,function(r){switch(r.label){case 0:return h("restoring"),[4,e.git.restore.rpc({before:n})];case 1:return _((t=r.sent()).payload),t.ok?h("ok"):h("failed"),[2]}})})()}});return n="ok"===f?"green":"failed"===f?"red":"grey",(0,b.useEffect)(function(){o&&a(function(e){return e.length&&e[0].key===o.key?e:[o].concat((0,ev._)(e)).slice(0,100)})},[o]),(0,p.FD)(W.S,{p:8,children:[(0,p.FD)(ex.ui,{elevated:!0,css:[es.wp.borderRadius(8),es.wp.p(8),es.wp.mb(8)],children:[(0,p.Y)("span",{children:"Git Service Connection Info"}),(0,p.Y)("pre",{children:(null==i?void 0:i.currentUser)?JSON.stringify(i,function(e,n){return"accessToken"===e?"censored":n},2):"No gitHubInfo"})]}),(0,p.Y)(eT.A,{ref:s,label:"last known good timestamp",onChange:function(e){return c(""!==e.currentTarget.value.trim())}}),(0,p.Y)(M.$n,{text:"Restore git from timestamp",colorway:n,disabled:!u||!S,onClick:function(){return(0,y._)(function(){var e,n;return(0,w.YH)(this,function(t){return n=(null==(e=s.current)?void 0:e.value)||"",null==S||S(n),[2]})})()}}),v?(0,p.Y)("code",{children:JSON.stringify(v,null,2)}):null,(0,p.Y)(W.S,{gap:4,children:r.length?r.map(function(e){return(0,p.Y)(eD,{event:e},e.key)}):"No events yet..."})]})}),(0,v._)(a,"history2",function(){var e=(0,ek.A)(eN.pX)(),n=(0,ek.A)(eN.aP)(),t=(0,g._)((0,eR.A)(!1),2),r=t[0],a=t[1];if(!e)return null;var i=e.filePath,o=e.changes,s=e.users,l=e.version,u=e.playing,c=e.count,d=o[l];if(!d)return(0,p.FD)(W.S,{children:[(0,p.FD)("div",{children:["Change at ",l," not found. Here's the state"]}),(0,p.Y)("pre",{children:JSON.stringify(e,null,2)})]});var f=null==s?void 0:s[d.userId],h=d.timestamp,m=r&&n?function(e,n){try{return(0,eI.$1)(e,n).op}catch(e){return e}}(d.changes,n.state.doc.sliceString(0)):null;return(0,p.FD)(W.S,{gap:16,p:4,children:[(0,p.FD)(W.S,{gap:4,children:[(0,p.Y)(eF,{t:"File",children:(0,p.Y)("pre",{children:i})}),(0,p.FD)(eF,{t:"Version",children:[l," / ",c-1]}),(0,p.Y)(eF,{t:"Playing",children:(0,p.Y)(eO.R,{children:u?"true":"false"})}),(0,p.Y)(eF,{t:"Date",children:(0,p.Y)(eP.Dc,{date:h})})]}),f?(0,p.FD)(W.S,{children:[(0,p.Y)(eF,{t:"Author",children:f.username}),(0,p.FD)(W.S,{pl:8,gap:4,children:[(0,p.Y)(eF,{t:"ID",children:f.id}),(0,p.Y)(eF,{t:"Name",children:f.username}),(0,p.Y)(eF,{t:"Image",children:(0,p.Y)("a",{href:f.image,children:f.image})})]})]}):null,(0,p.Y)(eh.d,{isSelected:r,onChange:a,children:"Changes"}),d?null:"No changes",r&&d?(0,p.Y)(p.FK,{children:(0,p.FD)(W.S,{children:[(0,p.Y)(eF,{t:"Changeset",children:(0,p.Y)("pre",{children:JSON.stringify(d,null,2)})}),n?(0,p.Y)(p.FK,{children:(0,p.FD)(W.S,{css:[es.wp.mt(4)],children:[(0,p.Y)(eF,{t:"OT",children:(0,p.Y)("pre",{children:JSON.stringify(m,null,2)})}),(0,p.Y)("p",{children:(0,p.FD)("small",{children:["Note that the OT value is translated ",(0,p.Y)("em",{children:"back"})," to an operational transformation from the CodeMirror changeset."]})})]})}):null]})}):null]})}),(0,v._)(a,"inngestEvents",function(){var e,n,t=(0,O.A)(),r=(e={variables:{replId:t}},n=(0,eg._)({},eL,e),ew.I(eM,n)),a=r.data,i=r.loading,o=r.error,s=r.refetch,l=(0,b.useRef)(null),u=(0,g._)((0,b.useState)(!1),2),c=u[0],d=u[1],f=(0,b.useCallback)(function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(!t)return[2];d(!0),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,s()];case 2:return e.sent(),[3,4];case 3:return d(!1),[7];case 4:return[2]}})})()},[s,t]);if((0,b.useEffect)(function(){return l.current&&clearInterval(l.current),l.current=setInterval(function(){f()},3e5),function(){l.current&&clearInterval(l.current)}},[f]),i&&!a)return(0,p.Y)("div",{css:eJ.root,children:(0,p.FD)("div",{css:eJ.header,children:[(0,p.Y)(G.EY,{children:"Loading Inngest events..."}),(0,p.Y)(M.$n,{variant:"outlined",size:"small",disabled:!0,text:"Refresh"})]})});if(o&&!a)return(0,p.Y)("div",{css:eJ.root,children:(0,p.FD)("div",{css:eJ.header,children:[(0,p.FD)(G.EY,{style:{color:"#e74c3c"},children:["Error loading Inngest events: ",o.message]}),(0,p.Y)(M.$n,{variant:"outlined",size:"small",onClick:f,disabled:c,text:c?"Refreshing...":"Refresh"})]})});var h=(null==a?void 0:a.fetchDeploymentInngestEvents)||[];if(0===h.length)return(0,p.Y)("div",{css:eJ.root,children:(0,p.FD)("div",{css:eJ.header,children:[(0,p.Y)(G.EY,{children:"No Inngest events found for this repl."}),(0,p.Y)(M.$n,{variant:"outlined",size:"small",onClick:f,disabled:c,text:c?"Refreshing...":"Refresh"})]})});var m=(0,ev._)(h).sort(function(e,n){return new Date(n.timestamp).getTime()-new Date(e.timestamp).getTime()});return(0,p.FD)("div",{css:eJ.root,children:[(0,p.FD)("div",{css:eJ.header,children:[(0,p.FD)(G.EY,{style:{fontWeight:"bold"},children:["Inngest Events Timeline (",h.length," total)"]}),(0,p.Y)(M.$n,{variant:"outlined",size:"small",onClick:f,disabled:c,text:c?"Refreshing...":"Refresh"})]}),(0,p.Y)(W.S,{gap:4,children:m.map(function(e,n){var t=new Date(e.timestamp).toLocaleString();return(0,p.FD)("div",{css:eJ.eventItem,children:[(0,p.Y)("span",{css:eJ.timestamp,children:t}),(0,p.Y)("span",{css:eJ.eventName,children:e.name})]},"".concat(e.timestamp,"-").concat(e.name,"-").concat(n))})})]})}),(0,v._)(a,"metadata",function(){var e=(0,k.A)().container;(0,e2.A)(e);var n=e.getConnectionMetadata();if(!n)return(0,p.Y)("div",{children:"no token yet, wait for connection"});var t=n.token,r=new URL(n.conmanURL).host,a='./conman-repl -t "'.concat(t,'" -u ').concat(r);return(0,p.FD)("div",{css:e3.root,children:[(0,p.FD)(W.S,{row:!0,gap:2,children:[(0,p.FD)(G.EY,{css:e3.command,multiline:!1,children:["conman Repl command: ",(0,p.Y)(eO.R,{children:a})]}),(0,p.Y)(e$.K0,{alt:"Copy to clipboard",onClick:function(){return(0,P.default)(a)},children:(0,p.Y)(j.A,{})})]}),(0,p.FD)("div",{children:["metadata:",(0,p.Y)("pre",{children:JSON.stringify(n,null,2)})]}),(0,p.Y)("br",{}),(0,p.Y)("br",{}),(0,p.FD)("div",{children:["parsed token:",(0,p.Y)("pre",{children:JSON.stringify((0,e1.p)(n.token),null,2)})]}),(0,p.Y)("br",{}),(0,p.Y)("br",{})]})}),(0,v._)(a,"override",function(){var e=(0,g._)((0,b.useState)(e5.A.get("gurl","string")||""),2),n=e[0],t=e[1],r=(0,e4.RL)(),a=""===n?"null":JSON.stringify((0,e7.x)(n),null,2);return(0,p.FD)(W.S,{pt:16,px:12,gap:12,children:[(0,p.FD)(W.S,{gap:12,children:[(0,p.Y)(eT.A,{label:"Custom gurl",placeholder:"ws://localhost:".concat(4560),value:n,onChange:function(e){return t(e.currentTarget.value)}}),(0,p.FD)("pre",{children:["metadata override preview:",a]}),(0,p.FD)(W.S,{row:!0,gap:12,children:[(0,p.Y)(M.$n,{colorway:"positive",onClick:function(){e5.A.set("gurl",n),window.location.reload()},text:"Set gurl and reload"}),(0,p.Y)(M.$n,{colorway:"yellow",onClick:function(){e5.A.set("gurl","wss://eval.canary.replit.com"),window.location.reload()},text:"Switch to canary & reload"}),(0,p.Y)(M.$n,{colorway:"orange",onClick:function(){e5.A.remove("gurl"),window.location.reload()},text:"Unset gurl and reload"}),(0,p.Y)(M.$n,{colorway:"red",onClick:function(){e5.A.set("gurl","ws://localhost:4560"),window.location.reload()},text:"Switch to localhost & reload"})]}),(0,p.Y)("div",{children:e5.A.get("gurl","string")?"currently in localStorage: ".concat(e5.A.get("gurl","string")):'No gurl set in local storage, using default gurl for this user, check "Token" tab for details'}),(0,p.Y)("p",{children:"Gurl order of precedence:"}),(0,p.FD)("ol",{style:{margin:12},children:[(0,p.Y)("li",{children:"‘gurl’ in localStorage (set above)"}),(0,p.FD)("li",{children:["If in development webapp and a there’s a response from",(0,p.Y)("code",{children:"https://localhost:4563"})," or",(0,p.FD)("code",{children:["http://localhost:",4560]}),", then it will use that."]}),(0,p.FD)("li",{children:["default is ",(0,p.Y)("code",{children:"wss://eval.<usercluster>.replit.com"})]})]})]}),(0,p.Y)("hr",{css:[es.wp.my(16),{borderColor:U.LU.outlineDefault}]}),(0,p.Y)(M.$n,{onClick:function(){window.ldClient=r,e9.log("window.ldClient: ",r)},text:"Assign LD client to window for testing"})]})}),(0,v._)(a,"rum",function(){var e,n=null==(e=nz.L.getInternalContext())?void 0:e.session_id,t=nz.L.getInitConfiguration(),r=null!=t&&100===t.sampleRate,a=(0,g._)((0,b.useState)(null!=n),2),i=a[0],o=a[1];return(0,p.Y)(W.S,{gap:16,p:4,children:r?(0,p.FD)(p.FK,{children:[(0,p.Y)(M.$n,{onClick:i?function(){nz.L.stopSessionReplayRecording(),document.cookie="_dd_s=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.location.href=window.location.href.split("?")[0]}:function(){(0,nq.mC)({name:"replitOnReplit"}),setTimeout(function(){o(!0)},1e3)},text:i?"\uD83D\uDD34 Recording... Click to stop and reload page":"Start Recording",colorway:i?void 0:"primary",css:(0,eg._)({},i&&nZ.S.backgroundPulse(U.LU.redDimmest,U.LU.redDimmer))}),i?(0,p.Y)(nX,{sessionId:n}):null]}):(0,p.Y)(M.$n,{onClick:function(){window.location.href=window.location.href.split("?")[0].split("#")[0]+"?rum=1"},text:"Click to reload and start recording",colorway:"primary"})})}),(0,v._)(a,"commandBar",function(){var e=(0,ep.H)(),n=(0,ep.D)();return(0,p.Y)(W.S,{py:8,px:12,gap:12,children:(0,p.Y)(eh.d,{isSelected:e,onChange:n,children:"Show match scores in Command Bar"})})}),(0,v._)(a,"workflows",function(){var e=(0,g._)((0,b.useState)([]),2),n=e[0],t=e[1],r=(0,g._)((0,b.useState)(void 0),2),a=r[0],i=r[1],o=(0,n2.OK)(),s=(0,n2.mP)(),l=(0,n2.If)();(0,b.useEffect)(function(){var e,n,r=null!=(n=null==s?void 0:s.map(function(e){return{id:e.name}}))?n:[];t(r),i(null==(e=r[0])?void 0:e.id)},[s]);var u=(0,eC.I)(function(e){return function(n){var t=n.workflowId;return e.workflows.runWorkflow.rpc({workflowId:t})}},[]),c=(0,eC.I)(function(e){return function(n){var t=n.runId;e.workflows.stopRun.rpc({runId:t})}},[]);return(0,p.FD)(W.S,{p:4,children:[(0,p.FD)(W.S,{children:[a?(0,p.Y)($.l,{"aria-label":"Workflow",onSelectionChange:function(e){i(e)},selectedKey:a,items:n,children:function(e){return(0,p.Y)(B.nh,{label:e.id},e.id)}}):(0,p.Y)(W.S,{row:!0,align:"center",justify:"center",grow:!0,shrink:!0,p:4,children:(0,p.Y)(G.EY,{children:"No workflow selected"})}),(0,p.Y)(M.$n,{onClick:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(!a||!u)return[2];return[4,u({workflowId:a})];case 1:return e.sent(),[2]}})})()},text:"Run",disabled:!a})]}),l?(0,p.Y)(W.S,{children:Object.entries(l).map(function(e){var n=(0,g._)(e,2),t=n[0],r=n[1];return(0,p.FD)(W.S,{row:!0,gap:4,align:"center",children:[t," step: ",r.step,r.step===n1.zY.RUNNING?(0,p.Y)(M.$n,{text:"Stop",onClick:function(){null==c||c({runId:t})}}):null]},t)})}):null,(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{children:"Run State"}),(0,p.Y)(A.A,{json:l})]}),(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{children:"Config"}),(0,p.Y)(A.A,{json:o})]})]})}),(0,v._)(a,"triggerBSOD",function(){var e=(0,n0.iO)();return(0,p.Y)(W.S,{gap:16,children:(0,p.Y)(M.$n,{text:"Throw BSOD",onClick:function(){return e({error:Error("[DEBUG] TriggerBSOD"),origin:"debug: Debug"})}})})}),(0,v._)(a,"previewState",function(){var e=(0,tc.N_)(),n=(0,tc.TO)();return e?(0,p.FD)(W.S,{gap:16,children:[(0,p.Y)(M.$n,{text:"Copy as JSON",onClick:function(){(0,P.default)(JSON.stringify(n,null,2))},iconLeft:(0,p.Y)(j.A,{})}),(0,p.Y)(tf,{stateHistory:n})]}):(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:"Preview state tracking is not enabled."}),(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:"This feature is only available in agent repls for developers, admins, or when using ?debug=true."})]})}),(0,v._)(a,"playgroundState",function(){e=tt(),n=tr(),t=(0,n2.lO)(),r=(0,k.A)().ports,a={playgroundState:n,playgroundStateInputs:e,runInfo:t,openedAndForwardedPorts:(0,n9.w)(r).map(function(e){return n7()(e,["processInfo"])})},i=tl(),o=(0,to.ob)(ts),s=(0,b.useRef)(),(0,b.useEffect)(function(){if(i){var e=JSON.stringify(a);if(s.current!==e){s.current=e;var n={timestamp:Date.now(),state:a};o(function(e){return[n].concat((0,ev._)(e)).slice(0,100)})}}},[a,i,o]);var e,n,t,r,a,i,o,s,l=tl(),u=(0,to.h)(ts);return l?(0,p.FD)(W.S,{gap:16,children:[(0,p.Y)(M.$n,{text:"Copy as JSON",onClick:function(){(0,P.default)(JSON.stringify(u,null,2))},iconLeft:(0,p.Y)(j.A,{})}),(0,p.Y)(tu,{stateHistory:u})]}):(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:"Playground state tracking is not enabled."}),(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:"This feature is only available in agent repls for developers, admins, or when using ?debug=true."})]})}),a),tm=Object.values(tp),tv=(0,eo.x)({surface:[es.wp.height("100%")],tabs:[{flexWrap:"wrap",flexDirection:"row",gap:"4px"}],tab:[es.wp.overflow("auto")],content:[es.wp.height("100%")]});function tg(e){var n=e.paneOptions,t=(0,g._)((0,b.useState)("repl"),2),r=t[0],a=t[1],i=tm.map(function(e){return(0,p.Y)(M.$n,{colorway:e===r?"primary":void 0,onClick:function(){return a(e)},text:e},e)});return(0,p.FD)(ex.ui,{background:"default",css:tv.surface,p:4,gap:8,children:[(0,p.Y)(W.S,{css:tv.tabs,children:i}),(0,p.Y)(W.S,{css:tv.tab,grow:!0,shrink:!0,children:Object.entries(th).map(function(e){var t=(0,g._)(e,2),a=t[0],i=t[1];return(0,p.Y)(W.S,{css:tv.content,grow:!0,shrink:!0,style:{display:a!==r?"none":"inherit"},children:"override"===a&&"override"!==r?null:(0,p.Y)(i,{isHidden:n.isHidden||r!==a,performPaneOperation:n.performPaneOperation})},a)})})]})}var tb=t(62246),ty=t(24857),tw=t(25590),t_=h.ZU.Object({type:h.ZU.Literal("adminPanel")}),tS={Content:function(e){var n=e.options;return(0,p.Y)(tg,{paneOptions:n})},Icon:function(e){var n=e.size;return(0,p.Y)(tw.Vx.Provider,{value:{color:U.LU.redStronger,size:n},children:(0,p.Y)(ty.A,{})})},getTitle:function(){return"Debug"},getTitlePill:function(){return{text:"Staff-only",colorway:"warning"}},description:"Replit developer debugging tools",category:tb.bY.Other,decode:function(e){return m.T(t_,e)}},tA=t(26737),tk=t(46138),tC=t(22550),tY=t(41382),tE=(0,eo.x)({container:[es.wp.coverContainer,es.wp.py(4),es.wp.px(8)]});function tx(e){var n=e.performPaneOperation,t=(0,k.A)().fs,r="cmdOrCtrlKey"===(0,tA.g)("multiselectModifierKey").preferences.multiselectModifierKey?"cmdOrCtrlKey":"altKey",a=(0,tC.J)(!0),i=(0,b.useCallback)(function(e){return!a(e.filename)},[a]),o=(0,tk.u)({fs:t,filter:i,multiselectModifierKey:r,readOnly:!0,fontSize:13,manageWidth:!0,onFileSelect:function(e){var t=e.path;n({operation:"replace",pane:(0,tY.a)(t)})}});return(0,p.Y)(W.S,{css:tE.container,children:(0,p.Y)(tk.J,{store:o.store})})}var tT=t(68075),tD=h.ZU.Object({type:h.ZU.Literal("agentFiles")}),tI={Content:function(e){return(0,p.Y)(tx,{performPaneOperation:e.options.performPaneOperation})},Icon:function(e){var n=e.size;return(0,p.Y)(tw.Vx.Provider,{value:{color:U.LU.blurpleStrongest,size:n},children:(0,p.Y)(tT.A,{})})},getTitle:function(){return"Files"},category:tb.bY.WorkspaceFeatures,decode:function(e){return m.T(tD,e)}},tR=t(33747),tN=t(96513),tO=t(19882),tP=t(93868),tF=t(70251),tU=t(9844),tL=t(36837),tM=t(47055),tJ=t.n(tM);function tH(){var e=(0,g._)((0,b.useState)(!1),2),n=e[0],t=e[1];return(0,p.FD)(W.S,{children:[(0,p.Y)(tU.N,{variant:"flush",text:(0,p.FD)(p.FK,{children:[(0,p.Y)(G.EY,{clsx:tJ().fullBetaText,children:"Agents and Automations are currently in beta"}),(0,p.Y)(G.EY,{clsx:tJ().abbreviatedBetaText,multiline:!1,children:"Beta"})]}),colorway:"orange",clsx:tJ().betaBanner,action:(0,p.FD)(W.S,{row:!0,children:[(0,p.FD)(W.S,{row:!0,gap:8,children:[(0,p.Y)(G.EY,{children:"Having trouble?"}),(0,p.Y)(M.$n,{text:"Get help",variant:"underlined",onClick:function(){t(!0)}}),(0,p.Y)(G.EY,{children:"or"})]}),(0,p.Y)(tP.v,{href:"https://docs.replit.com/replitai/agents-and-automations",text:"read the docs",variant:"underlined",target:"_blank"})]})}),(0,p.Y)(tF.a,{isOpen:n,onRequestClose:function(){return t(!1)},children:(0,p.Y)(tL.A,{onRequestClose:function(){return t(!1)}})})]})}var tB=t(2234),tV=t(85689),t$=t(42845),tG=t(70537),tz=t(28611),tW=t(85826),tj=t(64424),tq=t(92932),tZ=t.n(tq),tK=function(){var e=(0,g._)((0,b.useState)(!1),2),n=e[0],t=e[1],r=(0,k.A)().container,a=(0,tV.A)(r).url,i=(0,tG.X5)(),o=a?(0,t$.jq)(a,3e3).toString():null;return(0,p.FD)(tz.Wv,{label:"Header Menu",isOpen:n,onOpenChange:t,children:[(0,p.Y)(M.$n,{size:"small",variant:"default",text:"Debug",iconRight:(0,p.Y)(tW.A,{}),onClick:function(){return t(!n)}}),(0,p.Y)(ex.ui,{elevated:!0,p:8,gap:20,clsx:tZ().popoverContent,children:i.state===tG.J4.READY?(0,p.FD)(p.FK,{children:[(0,p.Y)(G.EY,{clsx:tZ().popoverContentText,color:"dimmer",children:"Replit Agent uses the Mastra and Inngest frameworks to build your agents and automations. Visit your Mastra dashboard for more details about your app, and Inngest traces to view your test runs."}),(0,p.FD)(W.S,{gap:8,row:!1,children:[(0,p.Y)(tP.v,{size:"small",variant:"outlined",text:"Mastra dashboard",iconRight:(0,p.Y)(tj.A,{}),href:null!=a?a:"",target:"_blank"}),(0,p.Y)(tP.v,{size:"small",variant:"outlined",text:"Inngest traces",iconRight:(0,p.Y)(tj.A,{}),href:null!=o?o:"",target:"_blank"})]})]}):(0,p.Y)(G.EY,{clsx:tZ().popoverContentText,color:"dimmer",children:"Replit Agent uses the Mastra and Inngest frameworks to build your agents and automations. You can open the Mastra playground and Inngest traces from here once your app is running."})})]})},tQ=t(63285),tX=t.n(tQ),t0=tX()(function(){return Promise.all([t.e(9815),t.e(7380),t.e(8157),t.e(2093)]).then(t.bind(t,62093)).then(function(e){return{default:e.WorkflowCanvasImpl}})},{loadableGenerated:{webpack:function(){return[62093]}},ssr:!1,loading:function(){return null}}),t1=t(48576),t2=t(26299),t3=t(36838),t4=t(55538),t5=t(16138),t7=t(94061),t9=t(45721),t8=t(85447),t6=t(26770),re=t(782),rn=t(11422),rt=t(81004),rr=t(62808),ra=t(74828),ri=t(48116),ro=t(32303),rs=t(87499),rl=t(65629),ru=t(14451),rc=t(34851),rd=t(12401),rf=t(26394),rp=t(63789),rh=t(30545),rm={modelSettings:{maxRetries:2,maxSteps:5,temperature:.5,chatWithGenerate:!0}},rv=(0,b.createContext)({});function rg(e){var n,t,r,a,i,o=e.children,s=(t=(n=(0,g._)((0,b.useState)(rm),2))[0],r=n[1],a=(0,O.A)(),i="".concat(a,"-agent-stack-agent-settings"),(0,b.useEffect)(function(){try{var e=e5.A.get(i);if(e&&"string"==typeof e){var n=JSON.parse(e);r(null!=n?n:void 0)}}catch(e){}},[i]),{settings:t,setSettings:function(e){r(e),e5.A.set(i,JSON.stringify(e))},resetAll:function(){r(rm),e5.A.set(i,JSON.stringify(rm))}}),l=s.settings,u=s.setSettings,c=s.resetAll;return(0,p.Y)(rv.Provider,{value:{settings:l,setSettings:u,resetAll:c},children:o})}var rb=function(){return(0,b.useContext)(rv)},ry=(0,b.createContext)({openPane:function(){}}),rw=function(){return(0,b.useContext)(ry)},r_=t(49999),rS=t(2321),rA=t(97858),rk=h.ZU.Object({id:h.ZU.String(),name:h.ZU.String(),instructions:h.ZU.String(),tools:h.ZU.Array(h.ZU.Object({id:h.ZU.String(),name:h.ZU.String(),description:h.ZU.String(),inputSchema:h.ZU.String(),outputSchema:h.ZU.String()})),workflows:h.ZU.Record(h.ZU.String(),h.ZU.Object({name:h.ZU.String(),description:h.ZU.Optional(h.ZU.String()),inputSchema:h.ZU.String(),outputSchema:h.ZU.String()})),provider:h.ZU.String(),modelId:h.ZU.String(),modelVersion:h.ZU.String()}),rC=h.ZU.Object({id:h.ZU.String(),name:h.ZU.String(),description:h.ZU.String(),inputSchema:h.ZU.String(),outputSchema:h.ZU.String()}),rY=h.ZU.Object({id:h.ZU.String(),description:h.ZU.String(),inputSchema:h.ZU.String(),outputSchema:h.ZU.String()}),rE=h.ZU.Object({id:h.ZU.String(),name:h.ZU.String(),description:h.ZU.Optional(h.ZU.String()),steps:h.ZU.Record(h.ZU.String(),rY),inputSchema:h.ZU.String(),outputSchema:h.ZU.String()}),rx=h.ZU.Object({id:h.ZU.String(),description:h.ZU.Optional(h.ZU.String())}),rT=h.ZU.Object({id:h.ZU.String(),fn:h.ZU.String()}),rD=h.ZU.Recursive(function(e){return h.ZU.Union([h.ZU.Object({type:h.ZU.Literal("step"),step:rx}),h.ZU.Object({type:h.ZU.Literal("sleep"),id:h.ZU.String(),duration:h.ZU.Optional(h.ZU.Number()),fn:h.ZU.Optional(h.ZU.String())}),h.ZU.Object({type:h.ZU.Literal("sleepUntil"),id:h.ZU.String(),date:h.ZU.Optional(h.ZU.Union([h.ZU.String(),h.ZU.Date()])),fn:h.ZU.Optional(h.ZU.String())}),h.ZU.Object({type:h.ZU.Literal("waitForEvent"),event:h.ZU.String(),step:rx,timeout:h.ZU.Optional(h.ZU.Number())}),h.ZU.Object({type:h.ZU.Literal("parallel"),steps:h.ZU.Array(e)}),h.ZU.Object({type:h.ZU.Literal("conditional"),steps:h.ZU.Array(e),serializedConditions:h.ZU.Array(rT)}),h.ZU.Object({type:h.ZU.Literal("loop"),step:rx,serializedCondition:rT,loopType:h.ZU.Union([h.ZU.Literal("dowhile"),h.ZU.Literal("dountil")])}),h.ZU.Object({type:h.ZU.Literal("foreach"),step:rx,opts:h.ZU.Object({concurrency:h.ZU.Number()})})])});h.ZU.Object({id:h.ZU.String(),name:h.ZU.String(),description:h.ZU.Optional(h.ZU.String()),steps:h.ZU.Record(h.ZU.String(),rY),stepGraph:h.ZU.Array(rD),inputSchema:h.ZU.String(),outputSchema:h.ZU.String()});var rI=h.ZU.Object({toolName:h.ZU.String(),toolCallId:h.ZU.String(),args:h.ZU.Any(),result:h.ZU.Unknown()});h.ZU.Object({content:h.ZU.String(),toolCalls:h.ZU.Array(rI)}),h.ZU.Union([h.ZU.Object({type:h.ZU.Literal("text"),content:h.ZU.String()}),h.ZU.Object({type:h.ZU.Literal("tool-call"),toolCallId:h.ZU.String(),toolName:h.ZU.String(),args:h.ZU.Any()}),h.ZU.Object({type:h.ZU.Literal("tool-result"),toolCallId:h.ZU.String(),result:h.ZU.Any()}),h.ZU.Object({type:h.ZU.Literal("finish")})]),h.ZU.Array(rk),h.ZU.Array(rC),h.ZU.Array(rE),h.ZU.Union([h.ZU.Object({code:h.ZU.Literal("MASTRA_API_NOT_READY"),message:h.ZU.String()}),h.ZU.Object({code:h.ZU.Literal("MASTRA_WORKFLOW_NOT_FOUND"),message:h.ZU.String()}),h.ZU.Object({code:h.ZU.Literal("MASTRA_AGENT_NOT_FOUND"),message:h.ZU.String()}),h.ZU.Object({code:h.ZU.Literal("MASTRA_AGENT_INSUFFICIENT_QUOTA"),message:h.ZU.String()}),h.ZU.Object({code:h.ZU.Literal("WORKFLOW_STREAM_TERMINATED"),message:h.ZU.String()}),h.ZU.Object({code:h.ZU.Literal("API_ERROR"),message:h.ZU.String()}),h.ZU.Object({code:h.ZU.Literal("NETWORK_ERROR"),message:h.ZU.String()}),h.ZU.Object({code:h.ZU.Literal("INNGEST_API_NOT_READY"),message:h.ZU.String()}),h.ZU.Object({code:h.ZU.Literal("SCHEMA_VALIDATION_FAILED"),message:h.ZU.String()})]);var rR=h.ZU.Union([h.ZU.Literal("running"),h.ZU.Literal("success"),h.ZU.Literal("failed"),h.ZU.Literal("suspended"),h.ZU.Literal("waiting"),h.ZU.Literal("pending"),h.ZU.Literal("canceled")]),rN=h.ZU.Object({code:h.ZU.Literal("TOOL_EXECUTION_FAILED"),message:h.ZU.String(),details:h.ZU.Optional(h.ZU.Unknown())}),rO=h.ZU.Object({error:h.ZU.Literal(!0),message:h.ZU.String(),validationErrors:h.ZU.Optional(h.ZU.Unknown())}),rP=h.ZU.Record(h.ZU.String(),h.ZU.Unknown()),rF=h.ZU.Union([rN,rO,rP]),rU=h.ZU.Object({status:rR,startedAt:h.ZU.Optional(h.ZU.Number()),endedAt:h.ZU.Optional(h.ZU.Number()),error:h.ZU.Optional(h.ZU.String()),output:h.ZU.Optional(h.ZU.String())});h.ZU.Object({status:rR,stepsRunData:h.ZU.Optional(h.ZU.Record(h.ZU.String(),rU))}),h.ZU.Union([h.ZU.Object({type:h.ZU.Literal("start"),payload:h.ZU.Object({runId:h.ZU.String()})}),h.ZU.Object({type:h.ZU.Union([h.ZU.Literal("step-start"),h.ZU.Literal("step-suspended"),h.ZU.Literal("step-waiting"),h.ZU.Literal("step-finish")]),payload:h.ZU.Object({id:h.ZU.String()})}),h.ZU.Object({type:h.ZU.Literal("step-result"),payload:h.ZU.Object({id:h.ZU.String(),status:rR,error:h.ZU.Optional(h.ZU.String()),output:h.ZU.Optional(h.ZU.Union([h.ZU.String(),h.ZU.Record(h.ZU.String(),h.ZU.Any())]))})}),h.ZU.Object({type:h.ZU.Literal("finish"),payload:h.ZU.Object({runId:h.ZU.String()})}),h.ZU.Object({type:h.ZU.Literal("canceled"),payload:h.ZU.Record(h.ZU.String(),h.ZU.Unknown())})]);var rL=t(73635),rM=t(48707),rJ=t(90843),rH=t(71843),rB=t.n(rH);function rV(){var e=(0,eb._)(['\n        The "','" tool failed with the following error:\n\n        ```\n        ',"\n        ```\n\n        Can you help debug and fix this issue?\n      "],['\n        The "','" tool failed with the following error:\n\n        \\`\\`\\`\n        ',"\n        \\`\\`\\`\n\n        Can you help debug and fix this issue?\n      "]);return rV=function(){return e},e}var r$=function(e){var n=e.toolName,t=e.result,r=(0,b.useMemo)(function(){return t?rA.J(rF,t)?rA.J(rN,t)?{type:"TOOL_EXECUTION_FAILED",message:t.message,details:t.details}:rA.J(rO,t)?{type:"VALIDATION_ERROR",message:t.message,validationErrors:t.validationErrors}:{type:"SUCCESS",data:t}:{type:"SCHEMA_VALIDATION_FAILED"}:null},[t]),a=rw().openPane,i=(0,rh.c)({openPane:a}),o=(0,b.useCallback)(function(e){return(0,y._)(function(){var t;return(0,w.YH)(this,function(a){return r&&"SUCCESS"!==r.type&&"SCHEMA_VALIDATION_FAILED"!==r.type&&(t="Unknown error","TOOL_EXECUTION_FAILED"===r.type?(t="Tool execution failed: ".concat(r.message),r.details&&(t+="\n\nDetails:\n".concat(JSON.stringify(r.details,null,2)))):"VALIDATION_ERROR"===r.type&&(t="Validation error: ".concat(r.message),r.validationErrors&&(t+="\n\nValidation errors:\n".concat(JSON.stringify(r.validationErrors,null,2)))),i((0,rd.A)(rV(),n,t),e)),[2]})})()},[i,r,n]),s=r&&("TOOL_EXECUTION_FAILED"===r.type||"VALIDATION_ERROR"===r.type),l=r&&"SCHEMA_VALIDATION_FAILED"===r.type,u=(0,p.FD)(W.S,{row:!0,align:"center",gap:8,clsx:[(0,v._)({},rB().toolCallError,s)],children:[(0,p.Y)(rM.A,{}),(0,p.Y)(G.EY,{variant:"small",children:n}),s||l?(0,p.Y)(rJ.A,{}):(0,p.Y)(rL.A,{})]});return(0,p.Y)(L.A,{headerContent:u,defaultExpanded:!1,variant:"default",round:!0,clsx:rB().toolCall,headerProps:{className:rB().toolCallHeader},children:(0,p.Y)(W.S,{p:8,children:function(){if(!r)return null;switch(r.type){case"SUCCESS":return(0,p.Y)(ex.ui,{gap:12,elevated:!0,p:12,clsx:rB().resultWrapper,children:(0,p.Y)(rS.$,{data:r.data})});case"TOOL_EXECUTION_FAILED":case"VALIDATION_ERROR":return(0,p.FD)(ex.ui,{elevated:!0,gap:12,p:12,clsx:rB().errorWrapper,children:[(0,p.Y)(G.EY,{children:r.message}),(0,p.Y)(rp.C,{onSendAgentMessage:o,buttonText:"Debug with Agent",menuPrefix:"Debug",colorway:"blurple"})]});case"SCHEMA_VALIDATION_FAILED":return(0,p.Y)(G.EY,{color:"dimmer",children:"There was a system error displaying this tool's result. The Replit team has been notified and will look into it."});default:(0,r_.A)(r)}}()})})},rG=t(42278),rz=t(14420),rW=t(71687),rj=t(29274),rq=t(96617),rZ=t(21369),rK=t.n(rZ);function rQ(){var e=(0,eb._)(["\n      The agent failed with the following error:\n\n\n      ```\n      ","\n      ```\n\n      Can you fix the error?\n    "],["\n      The agent failed with the following error:\\n\\n\n      \\`\\`\\`\n      ","\n      \\`\\`\\`\n\n      Can you fix the error?\n    "]);return rQ=function(){return e},e}var rX=function(e){var n=e.agentName,t=e.agentId,r=e.onInputChange,a=e.openPane,i=(0,b.useMemo)(function(){return{openPane:a}},[a]);return(0,p.Y)(ry.Provider,{value:i,children:(0,p.FD)(t3.K,{className:rK().root,children:[(0,p.FD)(t4.c,{className:rK().viewport,children:[(0,p.Y)(r1,{agentName:n}),(0,p.Y)(t5.eD,{components:{UserMessage:r6,AssistantMessage:function(e){return(0,p.Y)(r7,(0,eg._)({},e))}}}),(0,p.Y)(t7.v,{empty:!1,children:(0,p.Y)(W.S,{className:rK().spacer})})]}),(0,p.Y)(r3,{onInputChange:r,agentId:t})]})})},r0=function(){return(0,p.Y)(t9.P,{asChild:!0,children:(0,p.Y)(e$.K0,{alt:"Scroll to bottom",size:32,className:rK().scrollToBottom,children:(0,p.Y)(rz.A,{})})})},r1=function(e){var n=e.agentName;return(0,p.Y)(t8.R,{children:(0,p.Y)(W.S,{className:rK().welcomeContainer,children:(0,p.FD)(W.S,{className:rK().welcomeMessage,children:[(0,p.Y)(W.S,{className:rK().welcomeTitle,children:n?"Hello! I'm ".concat(n):"Hello there!"}),(0,p.Y)(W.S,{className:rK().welcomeSubtitle,children:"How can I help you today?"})]})})})},r2=function(){return(0,p.Y)(W.S,{className:rK().welcomeSuggestions,children:[{title:"What can you do?",action:"Give a concise overview of what you can do."}].map(function(e,n){return(0,p.Y)(W.S,{className:rK().suggestionDisplay,children:(0,p.Y)(t6.u,{prompt:e.action,method:"replace",autoSend:!0,asChild:!0,children:(0,p.Y)("button",{className:rK().suggestionButton,"aria-label":e.action,children:(0,p.Y)("span",{className:rK().suggestionTitle,children:e.title})})})},"suggested-action-".concat(e.title,"-").concat(n))})})},r3=function(e){var n,t=e.onInputChange,r=rb(),a=r.settings,i=r.setSettings,o=!!a&&!(null==(n=a.modelSettings)?void 0:n.chatWithGenerate);return(0,p.FD)(W.S,{className:rK().composerWrapper,children:[(0,p.Y)(r0,{}),(0,p.Y)(t8.R,{children:(0,p.Y)(r2,{})}),(0,p.FD)(re.U,{className:rK().composerRoot,children:[(0,p.FD)(W.S,{className:rK().composerInputWrapper,row:!0,align:"center",justify:"space-between",children:[(0,p.Y)(rn.e,{placeholder:"Test your agent...",className:rK().composerInput,rows:1,"aria-label":"Message input",onChange:function(e){return null==t?void 0:t(e.target.value)}}),(0,p.Y)(r4,{})]}),(0,p.Y)(W.S,{row:!0,align:"center",gap:8,px:8,pb:8,children:(0,p.Y)(eh.d,{isSelected:o,onChange:function(e){a&&i((0,nh._)((0,eg._)({},a),{modelSettings:(0,nh._)((0,eg._)({},a.modelSettings),{chatWithGenerate:!e})}))},"aria-label":"Toggle streaming",size:"small",children:(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:"Stream"})})})]})]})},r4=function(){return(0,p.FD)(W.S,{className:rK().composerActions,children:[(0,p.Y)(t7.v,{running:!1,children:(0,p.Y)(rt.y,{asChild:!0,children:(0,p.Y)(e$.K0,{alt:"Send message",size:32,className:rK().composerActionButton,children:(0,p.Y)(rW.A,{size:16})})})}),(0,p.Y)(t7.v,{running:!0,children:(0,p.Y)(rr.W,{asChild:!0,children:(0,p.Y)(e$.K0,{alt:"Stop generating",size:32,className:rK().composerActionButton,children:(0,p.Y)(rq.A,{size:16})})})})]})},r5=function(e){var n=e.text;return(0,p.Y)(rc.$,{remarkPlugins:[rf.A],className:rK().markdownContent,children:n})},r7=function(){var e,n=(0,ra.JX)(),t=n.content.some(function(e){return"text"===e.type&&e.text&&""!==e.text.trim()}),r=(null==(e=n.status)?void 0:e.type)==="complete";return(0,p.Y)(ri.X,{asChild:!0,children:(0,p.FD)(W.S,{pr:36,className:rK().assistantMessage,"data-role":"assistant",children:[(0,p.Y)(W.S,{className:rK().assistantAvatar,children:(0,p.Y)(Z.A,{})}),(0,p.FD)(W.S,{className:rK().assistantContent,grow:!0,gap:6,children:[(0,p.Y)(ro.r,{components:{tools:{Fallback:r$},Text:r5}}),t||r?null:(0,p.Y)(W.S,{className:rK().thinkingIndicator,children:(0,p.Y)(rG.A,{size:20})}),(0,p.FD)(W.S,{className:rK().messageActions,children:[(0,p.Y)(r9,{}),(0,p.Y)(r8,{})]})]})]})})},r9=function(){var e,n=(0,ra.JX)(),t=(null==(e=n.status)?void 0:e.type)==="incomplete"&&"error"===n.status.reason,r=rw().openPane,a=(0,ni.A)(n),i=(0,rh.c)({openPane:r}),o=(0,b.useCallback)(function(e){return(0,y._)(function(){var n,t;return(0,w.YH)(this,function(r){return t=(null!=(n=a.current.content)?n:[]).filter(function(e){return(null==e?void 0:e.type)==="text"}).map(function(e){return e.text}).join("\n"),i((0,rd.A)(rQ(),t),e),[2]})})()},[i,a]);return t?(0,p.Y)(W.S,{className:rK().assistantErrorMessage,children:(0,p.Y)(rp.C,{onSendAgentMessage:o,buttonText:"Debug with ".concat(tR.g$),menuPrefix:"Debug",colorway:"blurple"})}):null},r8=function(){return(0,p.Y)(rs.v,{hideWhenRunning:!0,autohide:"not-last",autohideFloat:"single-branch",className:rK().assistantActionBar,children:(0,p.Y)(rl.I,{asChild:!0,children:(0,p.FD)(e$.K0,{alt:"Copy",size:32,children:[(0,p.Y)(ru.s,{copied:!0,children:(0,p.Y)(rL.A,{})}),(0,p.Y)(ru.s,{copied:!1,children:(0,p.Y)(rj.A,{})})]})})})},r6=function(){return(0,p.Y)(ri.X,{asChild:!0,children:(0,p.Y)(W.S,{className:rK().userMessage,"data-role":"user",children:(0,p.Y)(W.S,{className:rK().userContent,children:(0,p.Y)(ro.r,{})})})})},ae=t(26289),an=t(88264),at=t(97335);function ar(e){var n=e.children,t=e.agentId,r=e.settings,a=(0,g._)((0,b.useState)(!1),2),i=a[0],o=a[1],s=(0,g._)((0,b.useState)([]),2),l=s[0],u=s[1],c=(0,b.useRef)(null),d=(0,eC.I)(function(e){return function(n,t,r){return e.mastraApi.streamChat.subscribe({agentId:n,messages:t},{signal:r})}},[]),f=(0,eC.I)(function(e){return function(n,t,r){return e.mastraApi.generateChat.rpc({agentId:n,messages:t},{signal:r})}},[]),h=function(e,n,t){u(function(r){return r.map(function(r){return r.id===e?(0,nh._)((0,eg._)({},r),{content:n,status:t}):r})})},m=(0,an.U)({isRunning:i,messages:l,convertMessage:function(e){return e},onNew:function(e){return(0,y._)(function(){var n,a,i,s,l,p,m,v,g,b,y,_,S,A,k,C,Y,E,x,T,I,R,N,O,P,F,U,L,M,J,H,B,V,$,G,z,W,j,q,Z,K;return(0,w.YH)(this,function(w){switch(w.label){case 0:if((null==(n=e.content[0])?void 0:n.type)!=="text")throw Error("Only text messages are supported");a=e.content[0].text,i="assistant-".concat(Date.now()),c.current=s=new AbortController,u(function(n){return(0,ev._)(n).concat([{role:"user",content:e.content},{id:i,role:"assistant",content:""}])}),o(!0),w.label=1;case 1:if(w.trys.push([1,18,19,20]),!(null==r||null==(l=r.modelSettings)?void 0:l.chatWithGenerate))return[3,3];if(!f)throw Error("Generate chat service not available");return[4,f(t,[{role:"user",content:a}],s.signal)];case 2:if(!(p=w.sent()).ok)throw Error("".concat(p.payload.message));return m=p.payload.toolCalls,v=p.payload.content,g=[],null==m||m.forEach(function(e){g.push({type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,args:e.args,argsText:JSON.stringify(e.args),result:e.result})}),v&&g.push({type:"text",text:v}),h(i,g.length>0?g:"[No response received]"),[3,17];case 3:if(!d)throw Error("Stream chat service not available");return[4,d(t,[{role:"user",content:a}],s.signal)];case 4:b=w.sent().resReadable,y=new Map,_="",S=!1,A=!1,w.label=5;case 5:w.trys.push([5,10,11,16]),C=(0,D._)(b),w.label=6;case 6:return[4,C.next()];case 7:if(!(S=!(Y=w.sent()).done))return[3,9];if(!(E=Y.value).ok)throw Error("".concat(E.payload.message));if("text"===(x=E.payload.type)){if(!(I=E.payload.content))return[3,8];_+=I,(T=R=[]).push.apply(T,(0,ev._)(Array.from(y.values()))),_&&(N={type:"text",text:_},R.push(N)),h(i,R)}else if("tool-call"===x)F=(P=E.payload).toolCallId,U=P.toolName,L=P.args,y.set(F,{type:"tool-call",toolCallId:F,toolName:U,args:L||{},argsText:JSON.stringify(L||{})}),(O=M=[]).push.apply(O,(0,ev._)(Array.from(y.values()))),_&&(J={type:"text",text:_},M.push(J)),h(i,M);else if("tool-result"===x){if(V=(B=E.payload).toolCallId,$=B.result,!(G=y.get(V)))return[3,8];z=(0,nh._)((0,eg._)({},G),{result:$}),y.set(V,z),(H=W=[]).push.apply(H,(0,ev._)(Array.from(y.values()))),_&&(j={type:"text",text:_},W.push(j)),h(i,W)}else if("finish"===x)return[3,9];w.label=8;case 8:return S=!1,[3,6];case 9:return[3,16];case 10:return q=w.sent(),A=!0,k=q,[3,16];case 11:if(w.trys.push([11,,14,15]),!(S&&null!=C.return))return[3,13];return[4,C.return()];case 12:w.sent(),w.label=13;case 13:return[3,15];case 14:if(A)throw k;return[7];case 15:return[7];case 16:_||h(i,"[No response received]"),w.label=17;case 17:return[3,20];case 18:return Z=w.sent(),K=(0,np._)(Z,Error)?Z.message:"Failed to get response from agent",(0,np._)(Z,Error)&&"AbortError"===Z.name?h(i,"[Cancelled]"):h(i,K,{type:"incomplete",reason:"error"}),[3,20];case 19:return o(!1),c.current=null,[7];case 20:return[2]}})})()},onCancel:function(){return(0,y._)(function(){var e;return(0,w.YH)(this,function(n){return null==(e=c.current)||e.abort(),c.current=null,o(!1),[2]})})()}});return(0,p.Y)(at.o,{runtime:m,children:n})}var aa=t(95905),ai=t(122),ao=t.n(ai);function as(e){var n=e.tool;return(0,p.Y)(z.m_,{tooltip:(0,p.FD)(W.S,{grow:!0,shrink:!0,gap:12,children:[(0,p.Y)(G.EY,{children:n.description}),(0,p.Y)(ae.bc,{schema:n.inputSchema})]}),children:(0,p.Y)(aa.K,{clsx:ao().toolItem,text:n.name})})}function al(e){var n=e.agent,t=e.openPane,r=rb().settings;return(0,p.FD)(W.S,{clsx:ao().container,children:[n.tools&&n.tools.length>0?(0,p.FD)(W.S,{pb:12,children:[(0,p.FD)(W.S,{row:!0,gap:6,align:"center",pb:12,wrap:!0,children:[(0,p.Y)(rM.A,{}),(0,p.Y)(G.EY,{color:"dimmer",children:"Agent tools:"}),n.tools.map(function(e){return(0,p.Y)(as,{tool:e},e.id)})]}),(0,p.Y)(ae.cj,{tools:n.tools})]}):null,(0,p.Y)(W.S,{clsx:ao().chatContainer,p:1,children:(0,p.Y)(ar,{agentId:n.id,settings:r,children:(0,p.Y)(rX,{agentName:n.name,agentId:n.id,openPane:t})})})]})}function au(e){var n=e.agent,t=e.openPane;return(0,p.Y)(rg,{agentId:n.id,children:(0,p.Y)(al,{agent:n,openPane:t})})}var ac=t(99933),ad=t(85801);function af(e){var n=e.className,t=e.agentsState,r=e.selectedAgent,a=e.onSelectedAgentChange,i=e.openPane;return"success"===t.status&&0!==t.agents.length&&r?(0,p.FD)(W.S,{clsx:n,grow:!0,shrink:!0,p:8,gap:12,children:[t.agents.length>1?(0,p.FD)(W.S,{row:!0,align:"center",gap:12,children:[(0,p.Y)(ac.in,{label:"Switch Agent",trigger:(0,p.Y)(M.$n,{size:"small",text:r.name,iconRight:(0,p.Y)(tW.A,{})}),children:t.agents.map(function(e){return(0,p.Y)(ac.Dr,{label:e.name,onAction:function(){return a(e)}},e.id)})}),(0,p.Y)(z.m_,{tooltip:"Multiple agents were created for your app. Select which one to test.",children:(0,p.Y)(ad.A,{color:U.LU.foregroundDimmer})})]}):null,(0,p.Y)(W.S,{grow:!0,shrink:!0,children:(0,p.Y)(au,{agent:r,openPane:i})})]}):null}var ap=t(30284),ah=t(34778),am=t(41608),av=t(19944),ag=t(70111),ab=(0,av.v)(["backgroundColor","color","hoverColor","hoverBackgroundColor"]),ay=ab.cssVars,aw=ab.styleTokens,a_=(0,eo.x)({wrapper:[es.wp.display.inlineFlex,{backgroundColor:aw.backgroundColor,color:aw.color,"&:hover":{color:aw.hoverColor,backgroundColor:aw.hoverBackgroundColor}},es.wp.align.center,es.wp.borderRadius(),es.wp.py(2),es.wp.px(6),es.wp.cursor.pointer]});function aS(e){var n,t=e.isDisabled,r=void 0!==t&&t,a=(0,k.A)().fs,i=(0,n2.MP)(),o=(0,n2.mP)(),s=(0,n2.If)(),l=(0,b.useMemo)(function(){var e=o.filter(function(e){return"agent"===e.author&&"parallel"!==e.mode});if(!s)return e;var n=new Set;return Object.values(s).forEach(function(e){e.step===n1.zY.RUNNING&&n.add(e.workflow.name)}),e.filter(function(e){return!n.has(e.name)})},[o,s]),u=(0,eC.I)(function(e){return function(){return(0,y._)(function(){return(0,w.YH)(this,function(n){switch(n.label){case 0:return[4,a.flush()];case 1:return n.sent(),i(am.QG.RUN_BUTTON_CLICKED),[4,Promise.allSettled(l.map(function(e){return e.name}).map(function(n){return e.workflows.runWorkflow.rpc({workflowId:n})}))];case 2:return[2,n.sent().every(function(e){return"fulfilled"===e.status&&e.value.ok})]}})})()}},[a,i,l]),c=(0,b.useCallback)(function(){!r&&u&&((0,ah.u4)(ap.AZ.WORKFLOW_RAN,{source:"playgroundPane",runner:"workflows"}),u())},[r,u]);return(0,p.FD)(W.S,{tag:"button",onClick:c,css:a_.wrapper,row:!0,gap:6,disabled:r||!u,style:(n={},(0,v._)(n,ay.backgroundColor,r?U.LU.backgroundHighest:U.LU.accentPositiveDimmer),(0,v._)(n,ay.color,r?U.LU.foregroundDimmer:U.LU.accentPositiveStrongest),(0,v._)(n,ay.hoverColor,r?U.LU.foregroundDefault:U.LU.white),(0,v._)(n,ay.hoverBackgroundColor,r?U.LU.greyDimmest:U.LU.accentPositiveDefault),n),children:[(0,p.Y)(ag.A,{size:12}),(0,p.Y)(G.EY,{children:"Run"})]})}var aA=t(89381),ak=t(34282),aC=t(16935);function aY(e){return(0,p.Y)(tw.Ay,(0,nh._)((0,eg._)({},e),{children:(0,p.Y)("path",{fillRule:"evenodd",d:"M18 21.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5ZM21.75 19a3.75 3.75 0 1 1-4.5-3.675V12c0-.69-.56-1.25-1.25-1.25H8c-.69 0-1.25.56-1.25 1.25v3.325A3.751 3.751 0 0 1 6 22.75a3.75 3.75 0 0 1-.75-7.425V12A2.75 2.75 0 0 1 8 9.25h3.25V2a.75.75 0 0 1 1.5 0v7.25H16A2.75 2.75 0 0 1 18.75 12v3.325c1.712.348 3 1.86 3 3.675ZM6 21.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z",clipRule:"evenodd"})}))}var aE=t(8466);function ax(e){return(0,p.FD)(tw.Ay,(0,nh._)((0,eg._)({},e),{children:[(0,p.Y)("path",{d:"M21.25 12a9.25 9.25 0 1 0-18.5 0 9.25 9.25 0 0 0 18.5 0Zm1.5 0c0 5.937-4.813 10.75-10.75 10.75S1.25 17.937 1.25 12 6.063 1.25 12 1.25 22.75 6.063 22.75 12Z"}),(0,p.Y)("path",{d:"M15.272 11.59a.5.5 0 0 1 0 .82l-4.342 3.04a.5.5 0 0 1-.787-.41V8.96a.5.5 0 0 1 .787-.41l4.342 3.04Z"})]}))}var aT=t(73794),aD=t.n(aT);function aI(e){var n=e.entityName;return(0,p.Y)(t1.A,{pane:{type:"automations"},icon:(0,p.Y)(aE.A,{size:48}),headerText:"Your app is not running",body:(0,p.FD)(W.S,{align:"center",row:!0,gap:4,children:[(0,p.Y)(aS,{})," to see your ",n," in action."]})})}function aR(){var e=tR.Wu[I.qf8.STACK_BLUEPRINT_AGENT].displayName;return(0,p.FD)(W.S,{align:"center",justify:"center",p:48,gap:24,grow:!0,children:[(0,p.FD)(W.S,{align:"center",gap:12,children:[(0,p.Y)(ax,{size:48}),(0,p.Y)(G.EY,{variant:"headerDefault",children:tR.k7})]}),(0,p.Y)(W.S,{align:"center",gap:16,clsx:aD().textContainerMaxWidth,children:(0,p.FD)(G.EY,{textAlign:"center",color:"dimmer",children:['This tool is used to visualize and test your agents and automations created using the "',e,'" app type.']})})]})}function aN(e){var n=e.state,t=e.agentStackPlatformType;if("none"===n.type)return null;var r=t===tN.J_c.TimeBased?"automation":"agent",a=function(){switch(n.type){case"loading":return(0,p.FD)(W.S,{gap:16,align:"center",children:[(0,p.Y)(ak.A,{size:48,variant:"minimal"}),(0,p.Y)(G.EY,{children:"Your ".concat(r," will be ready soon")}),(0,p.Y)(W.S,{align:"center",children:(0,p.Y)(tO.u,{isAgentStackRepl:!0})})]});case"error":return(0,p.Y)(tU.N,{icon:(0,p.Y)(rJ.A,{}),text:n.message,colorway:"negative",action:n.onRetry?(0,p.Y)(M.$n,{text:"Retry",onClick:n.onRetry}):void 0});case"empty-state":return(0,p.FD)(W.S,{align:"center",gap:12,children:[(0,p.Y)(G.EY,{variant:"headerDefault",children:"No ".concat(r," found")}),(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:"They will appear here once Replit Agent has built them."})]});case"app-not-running":return(0,p.Y)(aI,{entityName:r})}}();return(0,p.Y)(W.S,{clsx:aD().overlayContainer,children:a})}function aO(e){var n,t,r,a,i,o,s,l,u,c,d,f,h,m,v,_,S,A=e.openPane,k=(0,t2.C)(),C=k.agentStackPlatformType,Y=k.loading,E=tr(),T=(0,n8.Y)().isAgentStackRepl,I=(0,g._)((0,b.useState)("graph"),2),R=I[0],N=I[1];(0,b.useEffect)(function(){!Y&&C&&N(C===tN.J_c.Slack||C===tN.J_c.Telegram?"chat":"graph")},[C,Y]);var O=E.state===tn.READY,P=(t=(n=(0,g._)((0,b.useState)({status:"loading"}),2))[0],r=n[1],a=(0,b.useRef)(null),i=(0,b.useCallback)(function(e){return(0,y._)(function(){var n,t;return(0,w.YH)(this,function(o){switch(o.label){case 0:if(!O)return[2];return a.current&&(clearTimeout(a.current),a.current=null),r({status:"loading"}),[4,e.mastraApi.getPrimaryWorkflowDetails.rpc({})];case 1:return(n=o.sent()).ok?r({status:"success",workflow:null!=(t=n.payload.workflow)?t:null}):"MASTRA_API_NOT_READY"===n.payload.code?a.current=setTimeout(function(){i(e)},1e3):r({status:"error",message:n.payload.message}),[2]}})})()},[O]),(0,nC.b)(i,[i]),o=(0,eC.I)(function(e){return function(){return i(e)}},[i]),(0,b.useEffect)(function(){return function(){a.current&&clearTimeout(a.current)}},[]),{primaryWorkflowDetailState:t,handleRefresh:o}),F=P.primaryWorkflowDetailState,U=P.handleRefresh,L=(l=(s=(0,g._)((0,b.useState)({status:"loading"}),2))[0],u=s[1],d=(c=(0,g._)((0,b.useState)(null),2))[0],f=c[1],h=(0,b.useCallback)(function(e){return(0,y._)(function(){var n,t;return(0,w.YH)(this,function(r){switch(r.label){case 0:if(!O)return[2];return u({status:"loading"}),[4,e.mastraApi.getAgents.rpc({})];case 1:return(n=r.sent()).ok?(u({status:"success",agents:t=n.payload.agents||[]}),t.length>0?f(function(e){return e&&t.find(function(n){return n.id===e.id})||t[0]}):f(null)):(u({status:"error",message:n.payload.message}),f(null)),[2]}})})()},[O]),(0,nC.b)(h,[h]),{agentsState:l,selectedAgent:d,setSelectedAgent:f,handleRefresh:(0,eC.I)(function(e){return function(){return h(e)}},[h])}),M=L.agentsState,J=L.selectedAgent,H=L.setSelectedAgent,B=L.handleRefresh,V=(m="success"===F.status?F.workflow:null,v=(0,x.HJ)({type:"idle"}),_=(0,b.useRef)(null),S=(0,nj.A)().showError,{executeWorkflow:(0,eC.I)(function(e){return function(){return(0,y._)(function(){var n,t,r,a,i,o,s,l,u;return(0,w.YH)(this,function(c){switch(c.label){case 0:if(!m)return[2];_.current&&_.current.abort(),_.current=new AbortController,n=_.current.signal,v.set({type:"idle"}),t=e.mastraApi.streamWorkflowRun2.subscribe({workflowId:m.id},{signal:n}).resReadable,r=!1,a=!1,c.label=1;case 1:c.trys.push([1,6,7,12]),o=function(){var e=l.value;if(!e.ok)return"CANCEL"===e.payload.code?v.set({type:"idle"}):(S(e.payload.message),v.update(function(n){return{type:"completed",status:"failed",errorMessage:e.payload.message,stepsRunData:"idle"!==n.type?n.stepsRunData:void 0}})),"break";var n=e.payload,t=n.status&&["success","failed","canceled"].includes(n.status);v.update(function(e){return{type:t?"completed":"executing",status:n.status||("idle"!==e.type?e.status:"running"),stepsRunData:n.stepsRunData||("idle"!==e.type?e.stepsRunData:void 0)}})},s=(0,D._)(t),c.label=2;case 2:return[4,s.next()];case 3:if(!(r=!(l=c.sent()).done)||"break"===o())return[3,5];c.label=4;case 4:return r=!1,[3,2];case 5:return[3,12];case 6:return u=c.sent(),a=!0,i=u,[3,12];case 7:if(c.trys.push([7,,10,11]),!(r&&null!=s.return))return[3,9];return[4,s.return()];case 8:c.sent(),c.label=9;case 9:return[3,11];case 10:if(a)throw i;return[7];case 11:return[7];case 12:return[2]}})})()}},[m,v,S]),resetWorkflow:(0,b.useCallback)(function(){var e;null==(e=_.current)||e.abort(),v.set({type:"idle"})},[v]),state:v}),$=V.executeWorkflow,j=V.state,q=V.resetWorkflow,Z="success"===M.status&&M.agents.length>0,K="success"===F.status&&null!==F.workflow,Q=(0,b.useMemo)(function(){if(E.state===tn.APP_NOT_RUNNING_AGENT_IDLE)return{type:"app-not-running"};if(E.state!==tn.READY)return{type:"loading"};if("chat"===R){if("loading"===M.status)return{type:"loading"};if("error"===M.status)return{type:"error",message:"Failed to load agents",onRetry:B};if("success"===M.status&&!Z)return{type:"empty-state"}}else{if("loading"===F.status)return{type:"loading"};if("error"===F.status)return{type:"error",message:"Failed to load workflows",onRetry:U};if("success"===F.status&&!K)return{type:"empty-state"}}return{type:"none"}},[E.state,R,M.status,Z,F.status,K,B,U]),X=tB.I[C||tN.J_c.TimeBased],ee="none"!==Q.type;return T&&C?(0,p.FD)(W.S,{grow:!0,shrink:!0,children:[(0,p.FD)(W.S,{clsx:aD().canvasAreaWrapper,grow:!0,children:[(0,p.Y)(t0,{workflowDetail:"success"===F.status?F.workflow:null,triggerType:C,workflowExecutionState:j,executeWorkflow:$,resetWorkflow:q,openPane:A,disableMovingCanvas:"chat"===R||ee,hideNodes:"chat"===R||ee}),ee?(0,p.Y)(aN,{state:Q,agentStackPlatformType:C||tN.J_c.TimeBased}):null,(0,p.FD)(W.S,{row:!0,align:"center",justify:"space-between",px:12,py:8,clsx:aD().headerWrapper,children:[(0,p.FD)(W.S,{row:!0,align:"center",gap:8,children:[(0,p.Y)(z.m_,{tooltip:X.description,placement:"bottom",children:X.icon}),(0,p.Y)(G.EY,{children:"".concat(X.entityName," testing environment")})]}),(0,p.Y)(tK,{})]}),C!==tN.J_c.TimeBased&&(0,p.FD)(aA.e2,{name:"agent-overlay",row:!0,value:R,onChange:function(e){N(e)},clsx:aD().tabControlsButtonGroup,children:[(0,p.Y)(aA.$O,{id:"chat",text:"Chat",value:"chat",icon:(0,p.Y)(aC.A,{})}),(0,p.Y)(aA.$O,{id:"graph",text:"Graph",value:"graph",icon:(0,p.Y)(aY,{})})]}),!ee&&(0,p.Y)(ex.ui,{clsx:aD().agentTabModalWrapper,"data-tab":R,children:(0,p.Y)(af,{agentsState:M,selectedAgent:J,onSelectedAgentChange:H,openPane:A})})]}),(0,p.Y)(tH,{})]}):(0,p.Y)(aR,{})}var aP=h.ZU.Object({type:h.ZU.Literal("automations")}),aF={Content:function(e){var n=e.options.performPaneOperation,t=(0,b.useCallback)(function(e){return n({operation:"open",secondary:!0,pane:e})},[n]);return(0,p.Y)(aO,{openPane:t})},Icon:function(e){var n=e.size;return(0,p.Y)(tw.Vx.Provider,{value:{color:U.LU.foregroundDefault,size:n},children:(0,p.Y)(ax,{})})},getTitle:function(){return tR.k7},description:"View and test agents and automations created by Replit Agent.",category:tb.bY.WorkspaceFeatures,decode:function(e){return m.T(aP,e)}},aU=t(59270),aL=t(80023),aM=(0,nV.AH)([es.wp.flex.growAndShrink(1),es.wp.position.relative,es.wp.overflow("hidden"),es.wp.borderRadius(0,0,8,8)]);function aJ(e){return(0,p.Y)(W.S,{css:[aM,e.children?es.wp.center:null],children:e.children})}var aH=t(6056),aB=t(99708),aV=t(32289),a$=t(33683),aG=(0,eo.x)({text:{width:"100%",textAlign:"center"},loaderContainer:[es.wp.display.flex,es.wp.center,es.wp.height("100%")]}),az=h.ZU.Object({type:h.ZU.Literal("binary"),data:h.ZU.Object({path:h.ZU.String()})}),aW={Content:function(e){var n=e.pane,t=e.options;return(0,p.Y)(aj,{path:n.data.path,performPaneOperation:t.performPaneOperation})},Icon:function(e){var n=e.pane,t=e.size;return(0,p.Y)(aV.A,{path:n.data.path,size:t})},getTitle:function(e){return(0,aU.WP)(e.data.path)},category:tb.bY.WorkspaceFeatures,decode:function(e){return m.T(az,e)}};function aj(e){var n=e.path,t=e.performPaneOperation,r=(0,k.A)().fs,a=(0,aL.KA)({path:n,performPaneOperation:t});(0,aB.Qt)(function(){if(a)return{commands:[{commands:a?(0,ev._)(a):[]}]}},[a]);var i=(0,g._)((0,b.useState)(null),2),o=i[0],s=i[1],l=(0,g._)((0,b.useState)(!0),2),u=l[0],c=l[1];return((0,b.useEffect)(function(){var e=r.watchFile(n,{onChange:function(e){s(e.toString("base64")),c(!1)},onError:function(){s(null),c(!1)},onMoveOrDelete:function(){s(null),c(!1)}});return function(){e(),c(!0),s(null)}},[r,n]),u)?(0,p.Y)(W.S,{css:aG.loaderContainer,children:(0,p.Y)(a$.A,{})}):null===o?(0,p.Y)(G.EY,{multiline:!1,children:"Failed to load binary file"}):(0,p.FD)(p.FK,{children:[(0,p.Y)(aH.ou,{path:n,performPaneOperation:t}),(0,p.Y)(aq,{path:n})]})}function aq(e){var n=e.path,t=(0,k.A)().fs,r=(0,g._)((0,b.useState)(null),2),a=r[0],i=r[1],o=(0,g._)((0,b.useState)(!0),2),s=o[0],l=o[1];return((0,b.useEffect)(function(){var e=t.watchFile(n,{onChange:function(e){i(e.toString("base64")),l(!1)},onError:function(){i(null),l(!1)},onMoveOrDelete:function(){i(null),l(!1)}});return function(){e(),l(!0),i(null)}},[t,n]),s)?(0,p.Y)(W.S,{css:aG.loaderContainer,children:(0,p.Y)(a$.A,{})}):null===a?(0,p.Y)(G.EY,{multiline:!1,children:"Failed to load binary file"}):(0,p.Y)(p.FK,{children:(0,p.FD)(aJ,{centered:!0,children:[(0,p.Y)(G.EY,{css:aG.text,children:"The file is not displayed in the text editor because it is either binary or uses an unsupported text encoding."}),(0,p.Y)(e$.K0,{alt:"Download",css:[es.wp.position.absolute,es.wp.bottom(8),es.wp.right(8),es.wp.p(16)],children:(0,p.Y)("a",{href:"data:text/plain;base64,".concat(a),download:(0,aU.WP)(n),css:[es.wp.color.foregroundDimmer],children:(0,p.Y)(ez.A,{})})})]})})}var aZ=t(65290),aK=t(28420),aQ=t(83252),aX=t(91683),a0=t(81512);function a1(e){var n=e.tab,t=e.fullPath,r=e.level,a=e.onNavigate;return n.children&&!n.component?(0,p.FD)(p.FK,{children:[(0,p.Y)(aQ.Y,{children:(0,p.Y)(W.S,{pt:8,px:8,children:(0,p.Y)(G.EY,{variant:0===r?"subheadDefault":"small",children:n.label})})}),(0,p.Y)(a2,{tabs:n.children,currentPath:t,onNavigate:a})]}):(0,p.Y)(ac.iy,{textValue:n.label,onAction:function(){return a(t)},children:(0,p.FD)(W.S,{row:!0,gap:12,align:"center",justify:"space-between",grow:!0,children:[(0,p.FD)(W.S,{row:!0,gap:12,align:"center",children:[n.icon,(0,p.FD)(W.S,{gap:2,children:[(0,p.Y)(G.EY,{children:n.label}),n.description?(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:n.description}):null]})]}),(0,p.Y)(a0.A,{size:16})]})})}function a2(e){var n=e.tabs,t=e.currentPath,r=void 0===t?[]:t,a=e.onNavigate,i=r.length;return(0,p.Y)(p.FK,{children:Object.entries(n).map(function(e){var n=(0,g._)(e,2),t=n[0],o=n[1],s=(0,ev._)(r).concat([t]);return(0,p.Y)(a1,{tab:o,fullPath:s,isTopLevel:0===i,level:i,onNavigate:a},s.join("-"))})})}function a3(e){var n=e.onNavigate;return(0,p.FD)(W.S,{p:16,gap:16,children:[(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(G.EY,{variant:"subheadBig",children:"Developer Tools"}),(0,p.Y)(G.EY,{color:"dimmer",children:"Access debugging tools, monitor resources, and manage your development environment"})]}),(0,p.Y)(ac.W1,{"aria-label":"Developer Tools Overview",selectionMode:"none",children:(0,p.Y)(a2,{tabs:aX.N,onNavigate:n})})]})}var a4=t(9965),a5=t(23099),a7=t.n(a5),a9=t(42950),a8=t.n(a9);function a6(e){var n=e.label,t=e.icon,r=e.description,a=e.isActive,i=e.showChevron,o=e.onAction;return(0,p.Y)(ac.iy,{textValue:n,onAction:o,children:(0,p.FD)(W.S,{row:!0,gap:12,align:"center",justify:"space-between",grow:!0,children:[(0,p.FD)(W.S,{row:!0,gap:12,align:"center",children:[t,(0,p.FD)(W.S,{gap:2,children:[(0,p.Y)(G.EY,{children:n}),r?(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:r}):null]})]}),void 0!==a&&a?(0,p.Y)(rL.A,{size:16}):null,void 0!==i&&i?(0,p.Y)(a0.A,{size:16}):null]})})}function ie(e){var n=e.items,t=e.currentPath,r=void 0===t?[]:t,a=e.parentPath,i=e.onNavigate;return(0,p.Y)(p.FK,{children:n.map(function(e){if(e.children&&Object.keys(e.children).length>0){var n=Object.entries(e.children).map(function(e){var n=(0,g._)(e,2),t=n[0],r=n[1];return(0,nh._)((0,eg._)({},r),{id:t})});return(0,p.FD)(a4.kM,{children:[(0,p.Y)(a6,{label:e.label,icon:e.icon,showChevron:!0}),(0,p.Y)(tz.g_,{clsx:a8().menu,children:(0,p.Y)(ac.W1,{"aria-label":e.label,children:(0,p.Y)(ie,{items:n,currentPath:r,parentPath:(0,ev._)(a).concat([e.id]),onNavigate:i})})})]},e.id)}var t=(0,ev._)(a).concat([e.id]);return(0,p.Y)(a6,{label:e.label,icon:e.icon,isActive:a7()(t,r),onAction:function(){i(t)}},e.id)})})}function it(e){var n=e.tree,t=e.currentPath,r=void 0===t?[]:t,a=e.onNavigate,i=(0,b.useCallback)(function(e){if(0===e)return Object.entries(n).map(function(e){var n=(0,g._)(e,2),t=n[0],r=n[1];return(0,nh._)((0,eg._)({},r),{id:t})});for(var t=n,a=0;a<e;a++){var i=r[a];if(!i||!t[i])return[];var o=t[i];if(!o.children)return[];t=o.children}return Object.entries(t).map(function(e){var n=(0,g._)(e,2),t=n[0],r=n[1];return(0,nh._)((0,eg._)({},r),{id:t})})},[n,r]),o=(0,b.useCallback)(function(e){var n=r[e];return i(e).find(function(e){return e.id===n})},[r,i]);return 0===r.length?null:(0,p.Y)(W.S,{row:!0,gap:6,children:r.map(function(e,n){var t=o(n),s=i(n);return t?(0,p.Y)(b.Fragment,{children:(0,p.Y)(ac.in,{label:t.label,trigger:(0,p.Y)(M.$n,{clsx:a8().button,iconLeft:t.icon,variant:"nofill",text:t.label}),children:(0,p.Y)(ie,{items:s,currentPath:r,parentPath:r.slice(0,n),onNavigate:a})})},e+n):null})})}var ir=t(33759);function ia(e){var n,t=e.tab,r=e.openPane,a=e.navTo,i=(n=aX.N,(0,b.useMemo)(function(){if(!t||0===t.length)return null;if(0===t.length)return null;var e=n[t[0]];if(!e)return null;for(var r=1;r<t.length;r++){var a=t[r],i=e.children;if(null==i||!i[a])return null;e=i[a]}return e},[n,t])),o=i&&"component"in i&&i.component;return o?(0,p.FD)(W.S,{grow:!0,shrink:!0,children:[(0,p.FD)(W.S,{row:!0,p:8,gap:0,align:"center",children:[(0,p.Y)(e$.K0,{size:32,onClick:function(){return a(null)},alt:"Overview",children:(0,p.Y)(ir.A,{})}),(0,p.Y)(it,{tree:aX.N,currentPath:t,onNavigate:a})]}),(0,p.Y)(W.S,{grow:!0,shrink:!0,children:(0,p.Y)(o,{openPane:r})})]}):(0,p.Y)(a3,{onNavigate:a})}var ii=t(49402),io=h.ZU.Object({type:h.ZU.Literal("developer"),data:h.ZU.Optional(h.ZU.Object({tab:h.ZU.Optional(h.ZU.Array(h.ZU.String()))}))}),is={Content:function(e){var n=e.pane.data,t=e.options,r=(0,b.useCallback)(function(e){t.performPaneOperation({operation:"open",secondary:!0,pane:e})},[t]),a=(0,b.useCallback)(function(e){t.performPaneOperation({operation:"replace",pane:{type:"developer",data:e?{tab:e}:void 0}})},[t]);return(0,p.Y)(ia,{tab:null==n?void 0:n.tab,openPane:r,navTo:a})},Icon:function(e){var n=e.size;return(0,p.Y)(tw.Vx.Provider,{value:{color:U.LU.blueStronger,size:n},children:(0,p.Y)(ii.A,{})})},getTitle:function(){return"Developer"},category:tb.bY.Other,decode:function(e){return m.T(io,e)}},il=t(91818),iu=t(35103),ic=t(41832),id=t(90629),ip=function(e){var n=e.context,t=e.gitService,r=e.result,a=e.data;id.v4(function(e){e.setTag("service","git"),e.setTag("context",n),e.setExtra("env",t.getEnv()),a&&id.l7("data",a),id.Cp(r.error)})};let ih=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,g._)((0,b.useState)(null),2),a=r[0],i=r[1],o=(0,g._)((0,b.useState)(!0),2),s=o[0],l=o[1],u=(0,k.A)().fs,c=(0,ic.A)(function(t){return(0,y._)(function(){var r,a;return(0,w.YH)(this,function(i){switch(i.label){case 0:l(!0),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,(0,y._)(function(){var r,a,i;return(0,w.YH)(this,function(o){switch(o.label){case 0:if("generatedFile"===n.type)return[2,""];if("git"!==n.type)return[3,2];return r=n.revision,[4,t.getFileContents({path:e,revision:r,convertToBase64:(0,aU.FN)(e)})];case 1:if((a=o.sent()).error)throw ip({context:"use-file-at-revision-fetch-content",gitService:t,result:a,data:{path:e,revision:r}}),a.error;return[2,a.content||""];case 2:return[4,u.readFile(e,{fromDisk:!0})];case 3:if((i=o.sent()).error)throw i.error;return[2,i.content.toString("utf8")]}})})()];case 2:return r=i.sent(),l(!1),[2,{content:r,error:null}];case 3:return a=i.sent(),l(!1),[2,{content:null,error:a}];case 4:return[2]}})})()},[e,n,u],t);return(0,b.useEffect)(function(){c&&(c.error?i(null):i(c.content))},[c]),{fileContent:a,loading:s}};var im=t(28623),iv=t(17459),ig=t(11797),ib="rgba(180, 0, 0, 0.125)",iy="rgba(0, 180, 0, 0.125)",iw=ng.Lz.theme({"&.cm-merge-b .cm-changedLine":{background:"rgba(0, 180, 0, 0.075)"},"&.cm-merge-a .cm-changedLine":{background:"rgba(180, 0, 0, 0.075)"},"&.cm-merge-b .cm-changedLineGutter":{background:iy},"&.cm-merge-a .cm-changedLineGutter":{background:ib},"&.cm-merge-b .cm-changedText":{background:iy,outline:"solid 1px ".concat(iy),borderRadius:"2px"},"&.cm-merge-a .cm-changedText":{background:ib,outline:"solid 1px ".concat(ib),borderRadius:"2px"},".cm-collapsedLines":{color:U.LU.accentPrimaryStrongest,background:U.LU.accentPrimaryDimmest,transition:"background 250ms ease","&:hover":{background:U.LU.accentPrimaryDimmer}}}),i_=[ng.Lz.baseTheme({".cm-scroller":{height:"100% !important",overflowY:"auto !important"}}),ng.Lz.theme({".cm-scroller":{height:"auto !important",overflowY:"visible !important"}})],iS=[nv.Nb.highest(i_),iw],iA=t(27250),ik=t(5336);function iC(e){var n,t,r,a=e.a,i=e.b,o=e.style,s=e.className,l=(0,iv._)(e,["a","b","style","className"]),u=(0,g._)((0,b.useState)(null),2),c=u[0],d=u[1],f=(0,g._)((0,b.useState)(null),2),h=f[0],m=f[1],v=(0,b.useRef)(!1),y=(0,ni.A)(l),w=(0,ni.A)(a.doc),_=(0,ni.A)(i.doc),S=(0,nw.pm)((0,nh._)((0,eg._)({},a),{readOnly:!0})),A=(0,nw.pm)((0,nh._)((0,eg._)({},i),{readOnly:!0})),k=(n=(0,g._)((0,b.useState)(),2)[1],(0,b.useCallback)(function(e){n(function(){throw e})},[])),C=l.orientation,Y=l.revertControls,E=l.renderRevertControl,x=l.collapseUnchanged,T=l.gutter,D=l.highlightChanges,I=void 0!==x,R=null==x?void 0:x.margin,N=null==x?void 0:x.minSize,O=null!=(t=null==h?void 0:h.a)?t:null,P=null!=(r=null==h?void 0:h.b)?r:null;return(0,nw.vO)(),(0,b.useEffect)(function(){var e=function(e){k(e)};if(c){var n=null;try{n=new ig.SV((0,nh._)((0,eg._)({},y.current),{parent:c,a:{doc:w.current,extensions:[ng.Lz.exceptionSink.of(e),iS].concat((0,ev._)(S))},b:{doc:_.current,extensions:[ng.Lz.exceptionSink.of(e),iS].concat((0,ev._)(A))}}))}catch(n){e(n)}return n&&(m(n),v.current=!0),function(){if(n){m(null);try{n.destroy()}catch(n){e(n)}}}}},[c]),(0,b.useEffect)(function(){O&&!v.current&&O.dispatch({changes:{from:0,to:O.state.doc.length,insert:a.doc}})},[O,a.doc]),(0,b.useEffect)(function(){P&&!v.current&&P.dispatch({changes:{from:0,to:P.state.doc.length,insert:i.doc}})},[P,i.doc]),(0,b.useEffect)(function(){h&&!v.current&&iY(h,y.current.collapseUnchanged)},[h,y,a.doc,i.doc]),(0,b.useEffect)(function(){if(h&&!v.current){var e=I?{margin:R,minSize:N}:void 0;h.reconfigure({orientation:C,revertControls:Y,renderRevertControl:E,collapseUnchanged:e,gutter:T,highlightChanges:D}),e&&iY(h,e)}},[h,C,Y,E,I,R,N,T,D]),(0,iA.O)(O),(0,iA.O)(P),(0,b.useEffect)(function(){v.current=!1}),(0,p.FD)(p.FK,{children:[(0,p.Y)("div",{ref:d,className:s,style:o}),(0,p.Y)(ik.OE,{view:O}),(0,p.Y)(ik.OE,{view:P})]})}function iY(e,n){e&&n&&(e.reconfigure({collapseUnchanged:void 0}),e.reconfigure({collapseUnchanged:(0,eg._)({},n)}))}var iE=t(58226),ix=(0,eo.x)({container:[es.wp.width(60),es.wp.height(24),es.wp.display.flex,es.wp.center,es.wp.borderRadius(4),es.wp.fontSize(U.LU.fontSizeSmall)]});function iT(e){var n,t,r;switch(e.type){case iE.PX.ADDED:case iE.PX.UNTRACKED:n="Added",t=U.LU.greenDimmest,r=U.LU.greenStrongest;break;case iE.PX.MODIFIED:n="Modified",t=U.LU.yellowDimmest,r=U.LU.yellowStrongest;break;case iE.PX.DELETED:n="Deleted",t=U.LU.redDimmest,r=U.LU.redStrongest;break;case iE.PX.RENAMED:n="Renamed",t=U.LU.tealDimmest,r=U.LU.tealStrongest;break;case iE.PX.COPIED:n="Copy",t=U.LU.limeDimmest,r=U.LU.limeStrongest;break;default:return null}return(0,p.Y)(W.S,{style:{backgroundColor:t,color:r},css:ix.container,children:(0,p.Y)("span",{children:n})})}function iD(e){var n,t,r;switch(e.type){case"ADDED":n="Added",t=U.LU.greenDimmest,r=U.LU.greenStrongest;break;case"MODIFIED":n="Modified",t=U.LU.yellowDimmest,r=U.LU.yellowStrongest;break;case"DELETED":n="Deleted",t=U.LU.redDimmest,r=U.LU.redStrongest;break;case"RENAMED":n="Renamed",t=U.LU.tealDimmest,r=U.LU.tealStrongest;break;case"COPIED":n="Copy",t=U.LU.limeDimmest,r=U.LU.limeStrongest;break;default:return null}return(0,p.Y)(W.S,{style:{backgroundColor:t,color:r},css:ix.container,children:(0,p.Y)("span",{children:n})})}var iI=t(6184),iR=t(13298),iN=t(1121),iO=[{"& > span:first-child-of-type":[es.wp.flex.grow(1),es.wp.textAlign.left]},{"& > span":[es.wp.flex.shrink(1)]},es.wp.height("auto"),es.wp.p(8),es.wp.fontWeight.medium,es.wp.backgroundColor.backgroundHigher,es.wp.flex.row,es.wp.align.center,es.wp.justify.spaceBetween,es.wp.overflow("hidden"),es.wp.cursor.pointer],iP=(0,eo.x)({buttonFolded:[iO,es.wp.borderRadius(8)],buttonUnfolded:[iO,es.wp.borderRadius(8,8,0,0)],rowContainer:[es.wp.position.relative,es.wp.zIndex(1),es.wp.overflow("hidden")],diffContainer:[es.wp.borderRadius(8)],bodyContainer:[es.wp.borderRadius(0,0,8,8),es.wp.p(8),es.wp.display.flex,es.wp.flex.row,es.wp.flex.wrap,es.wp.align.center,es.wp.justify.center,es.wp.backgroundColor.backgroundDefault,es.wp.border({color:U.LU.outlineDimmer,direction:"bottom"}),es.wp.border({color:U.LU.outlineDimmer,direction:"left"}),es.wp.border({color:U.LU.outlineDimmer,direction:"right"})],noChangesContainer:[es.wp.py(8),es.wp.px(8),es.wp.center,es.wp.width("100%")],innerContainer:[es.wp.display.flex,es.wp.align.center],splitContainer:[es.wp.display.flex,es.wp.flex.row,es.wp.justify.spaceBetween,es.wp.maxWidth("100%"),es.wp.align.center],splitChild:[{flexBasis:"50%"}],buttonGroupItem:[es.wp.width(64),es.wp.height(32)]}),iF=function(e){var n=e.value,t=e.onChange;return(0,p.FD)(aA.e2,{name:"SplitOrUnifiedDiff",value:n,onChange:t,row:!0,children:[(0,p.Y)(W.S,{css:iP.buttonGroupItem,children:(0,p.Y)(aA.$O,{value:"Unified",text:"Unified",id:"SplitOrUnifiedDiffUnified"})}),(0,p.Y)(W.S,{css:iP.buttonGroupItem,children:(0,p.Y)(aA.$O,{value:"Split",text:"Split",id:"SplitOrUnifiedDiffSplit"})})]})},iU=function(e){var n=e.folded,t=void 0!==n&&n,r=e.setFolded,a=e.diff,i="".concat(a.initial.path,"/").concat(a.initial.filename),o="".concat(a.final.path,"/").concat(a.final.filename);return(0,p.FD)(W.S,{css:t?iP.buttonFolded:iP.buttonUnfolded,onClick:function(){return r(!t)},children:[(0,p.FD)(W.S,{css:[iP.rowContainer,es.wp.flex.shrink(1)],align:"center",row:!0,gap:8,children:["RENAMED"===a.status||"COPIED"===a.status?(0,p.FD)(p.FK,{children:[(0,p.Y)(aV.A,{path:i}),(0,p.Y)(G.EY,{multiline:!1,children:a.initial.filename}),""===a.initial.path?null:(0,p.Y)(G.EY,{multiline:!1,color:"dimmest",css:[es.wp.fontWeight.normal],maxLines:1,children:a.initial.path}),(0,p.Y)(iR.A,{}),(0,p.Y)(aV.A,{path:o}),(0,p.Y)(G.EY,{multiline:!1,children:a.final.filename}),""===a.final.path?null:(0,p.Y)(G.EY,{multiline:!1,color:"dimmest",css:[es.wp.fontWeight.normal],children:a.final.path})]}):(0,p.FD)(p.FK,{children:[(0,p.Y)(aV.A,{path:o}),(0,p.Y)(G.EY,{multiline:!1,children:a.final.filename}),""===a.final.path?null:(0,p.Y)(G.EY,{multiline:!1,color:"dimmest",css:[es.wp.fontWeight.normal],children:a.final.path})]}),(0,p.Y)(J.r,{textToCopy:o,tooltipText:"Copy Full Path",tooltipPlacement:"bottom-end"})]}),(0,p.FD)(W.S,{css:iP.rowContainer,align:"center",row:!0,gap:8,children:[(0,p.Y)(iD,{type:a.status}),(0,p.Y)(e$.K0,{alt:t?"Collapse diff":"Expand diff",onClick:function(){return r(!t)},children:t?(0,p.Y)(tW.A,{}):(0,p.Y)(iN.A,{})})]})]})},iL=function(e){var n=e.diff,t=e.splitOrUnified,r=e.extensions;return"Split"===t?(0,p.Y)(iC,{a:{filePath:n.initial.filename,doc:n.initial.content},b:{filePath:n.final.filename,doc:n.final.content,extensions:r},collapseUnchanged:{},style:{width:"100%"}}):(0,p.Y)(nw.Ay,{filePath:n.final.filename,initialDoc:n.final.content,extensions:[im.X.of(nv.EY.of(n.initial.content.split("\n")))],readOnly:!0,style:{width:"100%"}})},iM=function(e){return(0,aU.FN)(e)?"media":(0,aU.m6)(e)?"ot":"binary"},iJ=function(e){var n=e.content,t=e.type,r=e.filename,a=e.extensions;switch(t){case"media":return(0,p.Y)(W.S,{css:[{display:"flex",height:"100%"}],children:(0,p.Y)(iI.jM,{src:(0,iI.p4)(n,(0,aU.P7)(r)),mime:(0,aU.P7)(r),fileName:r})});case"ot":return(0,p.Y)(nw.Ay,{filePath:r,initialDoc:n,readOnly:!0,style:{width:"100%"},extensions:a});default:return(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"This binary file has changed."})}},iH=function(e){var n=e.diff,t=e.splitOrUnified,r=e.extensions;if(n.loading)return(0,p.Y)(W.S,{css:iP.noChangesContainer,children:(0,p.Y)(a$.A,{size:20})});if(n.initial.content===n.final.content)return(0,p.Y)(W.S,{css:iP.noChangesContainer,children:(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"There are no changes to show."})});if("DELETED"===n.status)return(0,p.Y)(W.S,{css:iP.noChangesContainer,children:(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"This file has been deleted."})});var a=iM(n.initial.filename),i=iM(n.final.filename);if("ADDED"===n.status)switch(i){case"media":return(0,p.Y)(W.S,{css:iP.noChangesContainer,children:(0,p.Y)(W.S,{css:iP.innerContainer,children:(0,p.Y)(iI.jM,{src:(0,iI.p4)(n.final.content,(0,aU.P7)(n.final.filename)),mime:(0,aU.P7)(n.final.filename),fileName:n.final.filename})})});case"ot":return(0,p.Y)(W.S,{css:iP.noChangesContainer,children:(0,p.Y)(nw.Ay,{filePath:n.final.filename,initialDoc:n.final.content,readOnly:!0,style:{width:"100%"},extensions:r})});default:return(0,p.Y)(W.S,{css:iP.noChangesContainer,children:(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"This binary file has been added."})})}return"binary"===a&&"binary"===i?(0,p.Y)(W.S,{css:iP.noChangesContainer,children:(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"This binary file has changed."})}):"ot"===a&&"ot"===i?(0,p.Y)(iL,{diff:n,splitOrUnified:t,extensions:r}):(0,p.FD)(W.S,{css:iP.splitContainer,p:8,children:[(0,p.Y)(W.S,{css:iP.splitChild,align:"center",justify:"center",children:(0,p.Y)(iJ,{content:n.initial.content,type:a,filename:n.initial.filename,extensions:r})}),(0,p.Y)(W.S,{css:iP.splitChild,children:(0,p.Y)(iJ,{content:n.final.content,type:i,filename:n.final.filename,extensions:r})})]})},iB=function(e){var n=e.diff,t=e.folded,r=e.setFolded,a=e.splitOrUnified;return(0,p.FD)(W.S,{css:iP.diffContainer,grow:!0,children:[(0,p.Y)(iU,{folded:t,setFolded:r,diff:n}),t?null:(0,p.Y)(ex.ui,{css:iP.bodyContainer,elevated:!0,children:(0,p.Y)(iH,{diff:n,splitOrUnified:a})})]},n.id)},iV=t(96749);function i$(e){return(0,p.Y)(tw.Ay,(0,nh._)((0,eg._)({},e),{children:(0,p.Y)("path",{fillRule:"evenodd",d:"M12 8.75a3.25 3.25 0 1 0 0 6.5 3.25 3.25 0 0 0 0-6.5Zm-4.7 2.562a4.751 4.751 0 0 1 9.401.004.748.748 0 0 1 .309-.066h5.95a.75.75 0 1 1 0 1.5h-5.95a.748.748 0 0 1-.309-.066 4.751 4.751 0 0 1-9.402.004.747.747 0 0 1-.299.062H1.05a.75.75 0 0 1 0-1.5H7c.106 0 .208.022.3.062Z",clipRule:"evenodd"})}))}var iG=h.ZU.Object({type:h.ZU.Literal("git"),revision:h.ZU.String()}),iz=h.ZU.Object({type:h.ZU.Literal("fs")}),iW=h.ZU.Object({type:h.ZU.Literal("generatedFile"),content:h.ZU.String()}),ij=h.ZU.Object({left:h.ZU.Object({path:h.ZU.String(),data:h.ZU.Union([iG,iz,iW])}),right:h.ZU.Object({path:h.ZU.String(),data:h.ZU.Union([iG,iz,iW])})}),iq=h.ZU.Object({type:h.ZU.Literal("patch"),diff:iu.Zw}),iZ=h.ZU.Object({type:h.ZU.Literal("diff"),data:h.ZU.Union([ij,h.ZU.Array(ij),iq])}),iK=(0,eo.x)({container:[es.wp.p(8)],singleDiffWrapper:[es.wp.width("100%"),es.wp.backgroundColor.backgroundHigher,es.wp.borderRadius(4),es.wp.mb(8)],accordionBody:[es.wp.border({direction:"x",width:1,color:U.LU.backgroundHigher}),es.wp.border({direction:"bottom",width:1,color:U.LU.backgroundHigher}),es.wp.backgroundColor.backgroundDefault,es.wp.borderRadius(0,0,4,4)]});function iQ(e){var n=e.left,t=e.right,r=e.splitOrUnified,a=(0,g._)((0,b.useState)(!0),2),i=a[0],o=a[1],s=ih(n.path,n.data),l=s.fileContent,u=s.loading,c=ih(t.path,t.data),d=c.fileContent,f=c.loading,h="generatedFile"===n.data.type?n.data.content:null,m="generatedFile"===t.data.type?t.data.content:null,v=l||h,y=d||m,w=(0,b.useMemo)(function(){return null===v&&null!==y?il.Os.ADDED:null!==v&&null===y?il.Os.DELETED:il.Os.MODIFIED},[v,y]),_={id:"".concat(n.path,"-").concat(t.path),status:w,loading:u||f,initial:{filename:(0,aU.WP)(n.path),path:(0,aU._6)(n.path),content:null!=v?v:""},final:{filename:(0,aU.WP)(t.path),path:(0,aU._6)(t.path),content:null!=y?y:""}};return(0,p.Y)(W.S,{css:iK.singleDiffWrapper,children:(0,p.Y)(L.A,{expanded:i,onClick:function(){return o(function(e){return!e})},headerContent:(0,p.FD)(W.S,{row:!0,gap:8,children:[(0,p.Y)(aV.A,{path:n.path}),(0,p.Y)(G.EY,{multiline:!1,children:n.path})]}),children:(0,p.Y)(W.S,{css:iK.accordionBody,p:4,children:(0,p.Y)(iH,{splitOrUnified:r,diff:_})})})})}function iX(e){var n=e.patch;return(0,p.Y)(W.S,{css:iK.container,children:(0,p.Y)(iV.A,{patch:n.diff,compressed:!1,background:null})})}var i0={Content:function(e){var n=e.pane.data,t=(0,g._)((0,b.useState)("Split"),2),r=t[0],a=t[1],i=(0,b.useMemo)(function(){return Array.isArray(n)?n:[n]},[n]);return"type"in n&&"patch"===n.type?(0,p.Y)(iX,{patch:n}):(0,p.FD)(W.S,{gap:8,css:iK.container,children:[(0,p.Y)(iF,{value:r,onChange:a}),(0,p.Y)(W.S,{children:i.map(function(e){return"left"in e&&"right"in e?(0,p.Y)(iQ,{left:e.left,right:e.right,splitOrUnified:r},e.left.path+e.right.path):null})})]})},Icon:function(){return(0,p.Y)(i$,{})},getTitle:function(e){var n=e.data,t=Array.isArray(n)?n:[n];if(1===t.length){var r=t[0];if("type"in r&&"patch"===r.type){var a=r.diff,i=a.labelA,o=a.labelB;return i===o?"Diff: ".concat((0,aU.WP)(null!=i?i:"")):"Diff: ".concat(i," - ").concat(o)}if("left"in r&&"right"in r)return r.left.path===r.right.path?"Diff: ".concat((0,aU.WP)(r.left.path)):"Diff: ".concat((0,aU.WP)(r.left.path)," - ").concat((0,aU.WP)(r.right.path))}return"Diff: ".concat(t.length," files")},category:tb.bY.WorkspaceFeatures,decode:function(e){return m.T(iZ,e)}},i1=t(96907),i2=t.n(i1);function i3(){var e=(0,eb._)(["\n  query WorkspaceDraw($id: String!) {\n    currentUser {\n      id\n      username\n    }\n    getRepl(id: $id) {\n      ... on Repl {\n        __typename\n        id\n      }\n    }\n  }\n"]);return i3=function(){return e},e}var i4={},i5=(0,ey.J1)(i3()),i7=t(26575),i9=t(43722),i8=function(e){return e.reduce(function(e,n){return e[n.id]=n,e},{})};let i6=function(e,n,t){if(!e)return[];var r,a=n(e.getSceneElementsIncludingDeleted()),i=e.getAppState();return(r=t.reduce(function(e,n){var t,r,o;return n.id===(null==(t=i.editingElement)?void 0:t.id)||n.id===(null==(r=i.resizingElement)?void 0:r.id)||n.id===(null==(o=i.draggingElement)?void 0:o.id)||(a[n.id]&&a[n.id].version>n.version||a[n.id]&&a[n.id].version===n.version&&a[n.id].versionNonce!==n.versionNonce&&a[n.id].versionNonce<n.versionNonce?e.push(a[n.id]):e.push(n),delete a[n.id]),e},[])).concat.apply(r,(0,ev._)(Object.values(a)))},oe=function(){var e,n,t=new Promise(function(t,r){e=t,n=r});return t.resolve=e,t.reject=n,t};var on=t(19170),ot=t(73712),or=t(52424),oa=(0,nV.AH)(".excalidraw.excalidraw-modal-container.excalidraw--mobile{margin-top:",or.uF-1,"px;}");function oi(e){var n,r,a,i=e.fs,o=e.filePath,s=(0,g._)((0,b.useState)(void 0),2),l=s[0],u=s[1],c=(0,i7.A)(),d=(0,b.useRef)(function(e){return(0,ev._)(e)}),f=(0,b.useRef)(function(e){return -1}),h=(0,b.useRef)(),m=(0,b.useRef)(oe()),v=(0,eC.I)(function(e){return function(n){return e.excalidraw.update.rpc(n)}},[]);(0,b.useEffect)(function(){Promise.all([t.e(4852),t.e(5138)]).then(t.t.bind(t,95138,23)).then(function(e){d.current=function(n){return n.filter(function(n){return n.isDeleted||!e.isInvisiblySmallElement(n)})},f.current=e.getSceneVersion,u(e.Excalidraw)})},[]);var _=(0,b.useCallback)(function(){return h.current},[]),S=(n={variables:{id:(0,O.A)()},ssr:!1},r=(0,eg._)({},i4,n),ew.I(i5,r)),A=S.data,k=S.loading,C=(null==A||null==(a=A.currentUser)?void 0:a.username)||"",Y=(0,ot.D)().isDarkColorScheme,E=(0,on.Q4)(),x=(0,i9.A)(),T=null==x?void 0:x.color,I=(0,g._)((0,b.useState)(new Map),2),R=I[0],N=I[1],P=(0,g._)((0,b.useState)(-1),2),F=P[0],L=P[1],M=(0,b.useRef)((0,nW.A)()).current;(0,b.useEffect)(function(){(0,y._)(function(){var e,n;return(0,w.YH)(this,function(t){switch(t.label){case 0:if(!A||!A.currentUser)return[2];return[4,m.current];case 1:return t.sent(),e=_().getAppState().collaborators,n=new Map,E.forEach(function(t){if(t.username!==(null==A||null==(r=A.currentUser)?void 0:r.username)){var r,a=e.get(t.username)||{};n.set(t.username,(0,nh._)((0,eg._)({},a),{username:t.username,color:{background:t.color,foreground:t.color}}))}}),_().updateScene({collaborators:n}),[2]}})})()},[A,E,_]);var J=(0,b.useCallback)(function(e,n){return(0,y._)(function(){var t,r,a,i,s,l;return(0,w.YH)(this,function(u){n||(e=e.filter(function(e){return!R.has(e.id)||e.version>R.get(e.id)})),t=!0,r=!1,a=void 0;try{for(i=e[Symbol.iterator]();!(t=(s=i.next()).done);t=!0)l=s.value,R.set(l.id,l.version),N(new Map(R))}catch(e){r=!0,a=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw a}}return null==v||v({paneId:M,path:o,$kind:"elements",elements:JSON.stringify(e)}),[2]})})()},[v,M,o,R]);(0,nC.b)(function(e,n){var t=n.signal;return(0,y._)(function(){var n,r,a,i,s,l,u,c,d,p,h,v,g,b,y,S;return(0,w.YH)(this,function(w){switch(w.label){case 0:return n=e.excalidraw.listen.subscribe({paneId:M,path:o},{signal:t}).resReadable,[4,m.current];case 1:w.sent(),r=!1,a=!1,w.label=2;case 2:w.trys.push([2,7,8,13]),s=(0,D._)(n),w.label=3;case 3:return[4,s.next()];case 4:if(!(r=!(l=w.sent()).done))return[3,6];if(!(u=l.value).ok)return[2];"collaborator"===u.payload.$kind?(c=_().getAppState().collaborators,p=(d=u.payload).pointer,h=d.selectedElementIds,c.set(u.payload.username,(0,nh._)((0,eg._)({},c.get(u.payload.username)),{pointer:p,selectedElementIds:h,username:u.payload.username})),_().updateScene({collaborators:c})):"elements"===u.payload.$kind?(v=JSON.parse(u.payload.elements),g=i6(_(),i8,v),(b=f.current(g))>F&&(L(b),_().updateScene({elements:g}))):"leave"===u.payload.$kind&&((y=_().getAppState().collaborators).delete(u.payload.username),_().updateScene({collaborators:y})),w.label=5;case 5:return r=!1,[3,3];case 6:return[3,13];case 7:return S=w.sent(),a=!0,i=S,[3,13];case 8:if(w.trys.push([8,,11,12]),!(r&&null!=s.return))return[3,10];return[4,s.return()];case 9:w.sent(),w.label=10;case 10:return[3,12];case 11:if(a)throw i;return[7];case 12:return[7];case 13:return[2]}})})()},[M,o,_,F,f]),(0,b.useEffect)(function(){(0,y._)(function(){var e,n;return(0,w.YH)(this,function(t){switch(t.label){case 0:if(!o||!i)return[2];return[4,i.readFile(o)];case 1:if(!("content"in(e=t.sent())))return[3,3];return n=JSON.parse(e.content.toString()||"{}"),[4,m.current];case 2:t.sent(),_().updateScene({elements:n.elements||[],appState:n.appState||{}}),_().scrollToContent(),t.label=3;case 3:return[2]}})})()},[o,i,_]);var H=(0,b.useCallback)(i2()(function(e,n){return(0,y._)(function(){var t;return(0,w.YH)(this,function(r){switch(r.label){case 0:if(t=e.filter(function(e){return!e.isDeleted}),!o)return[3,2];return[4,i.writeFile(o,nt.A.from(JSON.stringify({elements:t,files:n})))];case 1:r.sent(),r.label=2;case 2:return[2]}})})()},350),[o]),B=(0,b.useCallback)(function(e){var n=f.current(e);n>F&&(J(d.current(e),!1),L(n))},[J,d,f]);return(0,p.FD)(W.S,{css:{position:"relative",height:"100%",width:"100%",flex:1,boxShadow:T?"0 3px 0 3px ".concat(T):"none",backgroundColor:U.LU.backgroundDefault,"& .excalidraw [title~=Library]":{display:"none"}},onMouseLeave:function(){null==v||v({paneId:M,path:o,$kind:"leave"})},children:[l&&!k?(0,p.Y)(l,{ref:function(e){e&&(h.current=e,e.readyPromise&&e.readyPromise.then(function(e){m.current.resolve(e)}).catch(function(e){m.current.reject(e)}))},UIOptions:{canvasActions:{loadScene:!1}},isCollaborating:!0,theme:Y?"dark":"light",onPointerUpdate:function(e){var n=e.pointer;null==v||v({paneId:M,path:o,$kind:"collaborator",pointer:n,selectedElementIds:_().getAppState().selectedElementIds||{}})},onChange:function(e,n,t){B(e),f.current(e)>F&&H(e,t)},name:C}):null,c?(0,p.Y)(nV.mL,{styles:[oa]}):null]})}function oo(e){var n=e.fs,t=e.filePath;return(0,p.Y)(oi,{fs:n,filePath:t},t)}var os=t(73439),ol=h.ZU.Object({type:h.ZU.Literal("draw"),data:h.ZU.Object({path:h.ZU.String()})}),ou={Content:function(e){var n=e.pane,t=e.options.performPaneOperation;return(0,p.Y)(oc,{path:n.data.path,performPaneOperation:t})},Icon:function(e){var n=e.size;return(0,p.Y)(os.A,{size:n})},getTitle:function(e){return(0,aU.WP)(e.data.path)},category:tb.bY.WorkspaceFeatures,decode:function(e){return m.T(ol,e)}};function oc(e){var n=e.path,t=e.performPaneOperation,r=(0,k.A)().fs,a=(0,aL.KA)({path:n,performPaneOperation:t});return(0,aB.Qt)(function(){if(a)return{commands:[{commands:a}]}},[a]),(0,p.FD)(p.FK,{children:[(0,p.Y)(aH.ou,{path:n,performPaneOperation:t}),(0,p.Y)(aJ,{children:(0,p.Y)(oo,{fs:r,filePath:n})})]})}var od=t(51182),of=t(37962),op=h.ZU.Object({type:h.ZU.Literal("envEditor")}),oh={Content:function(e){var n=e.options.performPaneOperation;return(0,p.Y)(od.Ay,{performPaneOperation:n})},Icon:function(e){var n=e.size;return(0,p.Y)(of.A,{size:n})},getTitle:function(){return"Secrets"},description:"Store sensitive information (like API keys) securely in your App",category:tb.bY.WorkspaceFeatures,decode:function(e){return m.T(op,e)}},om=t(86103),ov=t(65586),og=t(25159),ob=t(35992),oy=t(21727),ow=(0,av.v)(["sidebarTransform","sidebarWidth","sidebarHeight","paddingLeft","sidebarOpacity","sidebarPointerEvents","sidebarBorder","sidebarBlanketPointerEvents","sidebarBlanketOpacity"]),o_=ow.cssVars,oS=ow.styleTokens;function oA(e){var n,t,r="calc(100% - ".concat(U.LU.space16,")"),a="translate(".concat(U.LU.space8,", ").concat(U.LU.space8,")");return e.open?(n={},(0,v._)(n,o_.paddingLeft,e.overlayed?"0":e.width+6+"px"),(0,v._)(n,o_.sidebarWidth,e.width+"px"),(0,v._)(n,o_.sidebarOpacity,"1"),(0,v._)(n,o_.sidebarBlanketOpacity,e.overlayed?"1":"0"),(0,v._)(n,o_.sidebarBlanketPointerEvents,e.overlayed?"all":"none"),(0,v._)(n,o_.sidebarPointerEvents,"all"),(0,v._)(n,o_.sidebarTransform,a),(0,v._)(n,o_.sidebarHeight,r),n):(t={},(0,v._)(t,o_.paddingLeft,"0"),(0,v._)(t,o_.sidebarWidth,e.width+"px"),(0,v._)(t,o_.sidebarOpacity,"0"),(0,v._)(t,o_.sidebarBlanketOpacity,"0"),(0,v._)(t,o_.sidebarBlanketPointerEvents,"none"),(0,v._)(t,o_.sidebarPointerEvents,"none"),(0,v._)(t,o_.sidebarTransform,a),(0,v._)(t,o_.sidebarHeight,r),t)}var ok=t(47414),oC=t(47737),oY=t(5590),oE=t(43168),ox=t(44411),oT=t(48125),oD=t(56783),oI=t(55643),oR=t(68990),oN="The ".concat(ox.Lm," plan includes Basic ").concat(tR.BP,". Upgrade for more capabilities."),oO=(0,eo.x)({pill:[es.wp.cursor.pointer]}),oP=function(e){var n=(0,oR.A)(),t=n.showAiUpsell,r=n.refetch,a=(0,oD.g)().show;return t?(0,p.Y)(z.m_,{tooltip:oN,children:(0,p.Y)(oI.a,{css:oO.pill,text:"BASIC",onClick:function(){return(0,y._)(function(){return(0,w.YH)(this,function(n){switch(n.label){case 0:return[4,a("MembershipPurchaseModal",{headingText:"Upgrade for Advanced AI",subHeadingText:"Get the most advanced model with higher quality responses and generation",analyticsContext:{upgrade:{context:"ai_chat_upsell"}},onPurchaseComplete:function(){var n;null==(n=e.onPurchaseComplete)||n.call(e),r()}})];case 1:return n.sent(),[2]}})})()}})}):null},oF=t(38527),oU=t(42996),oL=t(26512),oM=t(43585),oJ=es.kL.max(520),oH=(0,eo.x)({upgradeSurface:[es.wp.center,es.wp.borderRadius("container")],upgradeSurfaceAiItems:[(0,v._)({},oJ,[es.wp.colWithGap(16)])],upgradeSurfaceAiItem:[es.wp.colWithGap(8),es.wp.align.center,es.wp.maxWidth(220),es.wp.textAlign.center],upgradeSurfaceAiItemTitle:[es.wp.rowWithGap(4),es.wp.align.center],shortText:[es.wp.display.none,(0,v._)({},oJ,[es.wp.display.block])],longText:[es.wp.display.block,(0,v._)({},oJ,[es.wp.display.none])]});function oB(){var e=(0,oU.e)();return(0,p.FD)(ex.ui,{elevated:!0,css:oH.upgradeSurface,p:16,gap:16,children:[(0,p.FD)(W.S,{children:[(0,p.Y)(W.S,{css:oH.longText,children:(0,p.Y)(oT.A,{context:"ai_chat_upsell",text:"Upgrade to Replit ".concat(ox.en," for more powerful AI"),variant:"default",modalHeadingText:"Upgrade to Replit ".concat(ox.en," for more powerful AI"),redirectPath:e})}),(0,p.Y)(W.S,{css:oH.shortText,children:(0,p.Y)(oT.A,{context:"ai_chat_upsell",text:"Upgrade to ".concat(ox.en),variant:"default",css:oH.shortText,redirectPath:e})})]}),(0,p.FD)(W.S,{css:oH.upgradeSurfaceAiItems,row:!0,gap:16,children:[(0,p.FD)(W.S,{css:oH.upgradeSurfaceAiItem,children:[(0,p.FD)(W.S,{css:oH.upgradeSurfaceAiItemTitle,children:[(0,p.Y)(oM.A,{size:16}),(0,p.Y)(G.EY,{variant:"subheadDefault",children:tR.BP}),(0,p.Y)(oI.a,{text:"ADVANCED"})]}),(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:tR.JY})]}),(0,p.FD)(W.S,{css:oH.upgradeSurfaceAiItem,children:[(0,p.FD)(W.S,{css:oH.upgradeSurfaceAiItemTitle,children:[(0,p.Y)(oF.l,{size:16}),(0,p.Y)(G.EY,{variant:"subheadDefault",children:"Agent"})]}),(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:tR.RB})]})]})]})}function oV(){var e=(0,oL.A)();return(0,p.FD)(W.S,{row:!0,gap:4,align:"center",children:[(0,p.Y)(G.Y9,{level:1,variant:"subheadDefault",children:tR.BP}),(0,p.Y)(oP,{onPurchaseComplete:e})]})}var o$="Connection to ".concat(tR.BP," lost. Try refreshing the page."),oG=(0,eo.x)({root:[{justifySelf:"end"}],errorBannerContainer:[es.wp.display.flex,es.wp.align.center,es.wp.flex.grow(1),es.wp.minHeight(32),es.wp.maxHeight(300),es.wp.overflow("auto")],errorBanner:[es.wp.minHeight("fit-content"),es.wp.p(8)]});function oz(){return(0,p.Y)(W.S,{css:oG.root,px:8,pb:8,children:(0,p.Y)(W.S,{css:oG.errorBannerContainer,justify:"center",children:(0,p.Y)(W.S,{css:oG.errorBanner,children:(0,p.Y)(tU.N,{icon:(0,p.Y)(rJ.A,{}),colorway:"red",text:o$})})})})}var oW=t(71052),oj=function(){var e=(0,oR.A)(),n=e.showAiUpsell,t=e.refetch,r=(0,oD.g)().show,a=(0,oL.A)();return n?(0,p.Y)(W.S,{tag:"button",css:oq.bannerWrapper,onClick:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:return[4,r("MembershipPurchaseModal",{headingText:"Upgrade for Advanced AI",subHeadingText:"Get the most advanced model with higher quality responses and generation",analyticsContext:{upgrade:{context:"ai_chat_upsell"}},onPurchaseComplete:function(){t(),a()}})];case 1:return e.sent(),[2]}})})()},children:(0,p.Y)(tU.N,{icon:(0,p.Y)(oW.A,{}),colorway:"yellow",text:"You're using the free Basic AI model. Upgrade to get better AI responses and more accurate code generation and analysis.",css:oq.banner})}):null},oq=(0,eo.x)({bannerWrapper:[es.wp.cursor.pointer,es.wp.textAlign.left],banner:[es.wp.borderRadius(0)]}),oZ=t(82120);function oK(e){return e.error&&e.error.type!==I.fqQ.EVENT_ERROR_TYPE_UNKNOWN?e.error.type:null}var oQ=t(58890);let oX={direction:"reverse",state:{iterativeAgentEvents:[],didProcessLatestProposedActionsEvent:!1},transformer:function(e,n){var t=e.contents.contents;if((0,N.VF)(t,"messageEventContents")){var r=(0,N.QN)(t);if(e.sender.type===I.utd.USER)return{type:"userMessage",sender:{id:e.sender.id},uploadedFiles:r.uploadedFiles,codeReference:r.codeReference,content:r.content,targetedElement:r.targetedElement};var a,i,o,s,l,u,c,d,f,p,h,m,v,g,b,y,w,_,S,A,k,C,Y,E,x,T=oK(e),D=function(e){if(!(0,N.VF)(e,"proposedFileChanges"))return{fileChanges:[],commitId:"",summary:""};var n=(0,N.QN)(e),t=n.changes,r=n.commitId,a=n.summary;return{fileChanges:t.map(function(e){return(0,nh._)((0,eg._)({},e),{filePath:(0,oQ.iD)(e.filePath)})}),commitId:r,summary:a}}((0,N.QN)(t).extraActions),O=D.fileChanges,P=D.commitId,F=D.summary,U=(0,N.QN)(t).assistantProposedActions,L=(0,R.k)(e),M=(i=U,o=O,s=(a=e.id,n.iterativeAgentEvents.filter(function(e){return(0,N.VF)(e.contents,"installingPackages")||(0,N.VF)(e.contents,"installedPackages")?(0,N.QN)(e.contents).eventWhichProposedPackageInstall===a:(0,N.VF)(e.contents,"startedShellExecution")||(0,N.VF)(e.contents,"finishedShellExecution")?(0,N.QN)(e.contents).eventWhichProposedShellExecution===a:(0,N.VF)(e.contents,"appliedRunConfiguration")?(0,N.QN)(e.contents).eventWhichProposedRunConfiguration===a:(0,N.VF)(e.contents,"appliedDeploymentConfiguration")?(0,N.QN)(e.contents).eventWhichProposedDeploymentConfiguration===a:!!(0,N.VF)(e.contents,"appliedWorkflowConfiguration")&&(0,N.QN)(e.contents).eventWhichProposedWorkflowConfiguration===a})),h=(null!=(l=null==i?void 0:i.shellCommands)?l:[]).map(function(e){var n,t;return s.forEach(function(r){(0,N.VF)(r.contents,"startedShellExecution")&&r.contents.startedShellExecution.messageContentsOffset===e.messageContentsOffset&&(n=r.contents.startedShellExecution),(0,N.VF)(r.contents,"finishedShellExecution")&&r.contents.finishedShellExecution.messageContentsOffset===e.messageContentsOffset&&(t=r.contents.finishedShellExecution)}),t&&t.processId===(null==n?void 0:n.processId)?{state:"finished",command:e.command,isDangerous:e.isDangerous,messageContentsOffset:e.messageContentsOffset,workingDirectory:e.workingDirectory,commandOutput:t.commandOutput,exitCode:t.exitCode}:n?{state:"running",command:e.command,isDangerous:e.isDangerous,messageContentsOffset:e.messageContentsOffset,workingDirectory:e.workingDirectory,processId:n.processId}:{state:"proposed",command:e.command,isDangerous:e.isDangerous,messageContentsOffset:e.messageContentsOffset,workingDirectory:e.workingDirectory}}),m=(null!=(u=null==i?void 0:i.packageInstalls)?u:[]).map(function(e){var n,t;return s.forEach(function(r){(0,N.VF)(r.contents,"installingPackages")&&r.contents.installingPackages.messageContentsOffset===e.messageContentsOffset&&(n=r.contents.installingPackages),(0,N.VF)(r.contents,"installedPackages")&&r.contents.installedPackages.messageContentsOffset===e.messageContentsOffset&&(t=r.contents.installedPackages)}),t&&t.processId===(null==n?void 0:n.processId)?{state:"installed",language:e.language,packageList:e.packageList,messageContentsOffset:e.messageContentsOffset,installationOutput:t.installationOutput,exitCode:t.exitCode}:n?{state:"installing",language:e.language,packageList:e.packageList,messageContentsOffset:e.messageContentsOffset,processId:n.processId}:{state:"proposed",language:e.language,packageList:e.packageList,messageContentsOffset:e.messageContentsOffset}}),v=null!=(c=i.workspaceToolNudges)?c:[],g=(null!=(d=i.runConfigurations)?d:[]).map(function(e){var n=s.some(function(n){return!!(0,N.VF)(n.contents,"appliedRunConfiguration")&&n.contents.appliedRunConfiguration.messageContentsOffset===e.messageContentsOffset});return(0,eg._)({state:n?"applied":"proposed"},e)}),b=(null!=(f=i.workflowConfigurations)?f:[]).map(function(e){var n=s.some(function(n){return!!(0,N.VF)(n.contents,"appliedWorkflowConfiguration")&&n.contents.appliedWorkflowConfiguration.messageContentsOffset===e.messageContentsOffset});return(0,eg._)({state:n?"applied":"proposed"},e)}),y=(null!=(p=i.deploymentConfigurations)?p:[]).map(function(e){var n=s.some(function(n){return!!(0,N.VF)(n.contents,"appliedDeploymentConfiguration")&&n.contents.appliedDeploymentConfiguration.messageContentsOffset===e.messageContentsOffset});return(0,eg._)({state:n?"applied":"proposed"},e)}),w=(0,ev._)(h.map(function(e){return(0,N.hT)("shellCommand",e)})).concat((0,ev._)(m.map(function(e){return(0,N.hT)("packageInstall",e)})),(0,ev._)(o.map(function(e){return(0,N.hT)("fileChange",e)})),(0,ev._)(v.map(function(e){return(0,N.hT)("workspaceToolNudge",e)})),(0,ev._)(g.map(function(e){return(0,N.hT)("runConfiguration",e)})),(0,ev._)(y.map(function(e){return(0,N.hT)("deploymentConfiguration",e)})),(0,ev._)(b.map(function(e){return(0,N.hT)("workflowConfiguration",e)}))).sort(function(e,n){return(0,N.QN)(e).messageContentsOffset-(0,N.QN)(n).messageContentsOffset}),_=h.length>0,S=m.length>0,A=g.length>0,k=y.length>0,C=b.length>0,{sortedActions:w,hasAnyWorkspaceProposedActions:_||S||A||k||C}),J=M.sortedActions,H=M.hasAnyWorkspaceProposedActions,B=!1;return n.didProcessLatestProposedActionsEvent||(n.didProcessLatestProposedActionsEvent=B=U.didCountEditRequest||U.workflowConfigurations.length>0),{type:"assistantMessage",content:r.content,created:e.created,state:e.state,intent:{value:r.intent,kind:"message"},error:T,usedModelSelector:r.usedModelSelector,ragSources:function(e){var n=e.sources;if(null==n)return[];var t=n.slice().sort(function(e,n){return e.url.localeCompare(n.url)});return(0,oZ.Qq)(t,"url")}(r),isDebugMessage:!1,sessionId:e.sessionId,proposedActions:(0,nh._)((0,eg._)({},U),{commitId:null!=(Y=U.commitId)?Y:P,summary:null!=(E=U.summary)?E:F,fileChanges:O,sortedActions:J,didCreateCheckpoint:null!=(x=U.didCreateCheckpoint)&&x,didCountEditRequest:L,hasAnyWorkspaceProposedActions:H}),isLatestProposedActionsEvent:B}}if((0,N.VF)(t,"inlineActionEventContents")){var V=(0,N.QN)(t);if(e.sender.type===I.utd.USER)return{type:"userMessage",sender:{id:e.sender.id},codeReference:V.codeReference,content:V.content};var $=oK(e);return{type:"assistantMessage",content:V.content,created:e.created,state:e.state,intent:{value:V.messageType,kind:"inline"},error:$,usedModelSelector:V.usedModelSelector,ragSources:[],isDebugMessage:V.messageType===I.Z1T.DEBUGGER,sessionId:e.sessionId,proposedActions:null,isLatestProposedActionsEvent:!1}}if((0,N.VF)(t,"iterativeAgentEventContents")){var G=(0,N.QN)(t);n.iterativeAgentEvents.push(G);var z=(0,R.zL)(e);if(!z)return;return{type:"assistantAction",contents:G,created:e.created,sessionId:e.sessionId,eventIdWhichProposedAction:z}}}};var o0=t(7147),o1=t(14264),o2=t(82658),o3=t(90545),o4=(0,eo.x)({root:[es.wp.borderRadius(4),es.wp.border({color:U.LU.outlineDimmest})],header:[es.wp.border({color:U.LU.outlineDimmest,direction:"bottom"})],button:[{borderRadius:0,borderTopLeftRadius:4}]});function o5(e){var n=e.codeReference,t=e.onClick;return(0,p.FD)(ex.ui,{css:o4.root,elevated:!0,children:[(0,p.Y)(W.S,{css:o4.header,row:!0,gap:4,children:(0,p.Y)(M.$n,{css:o4.button,size:"small",variant:"nofill",iconLeft:(0,p.Y)(aV.A,{size:12,path:n.filePath}),iconRight:(0,p.Y)(q.A,{}),text:"".concat(n.filePath," ").concat(n.range.lineFrom,":").concat(n.range.lineTo),onClick:t})}),(0,p.Y)(E.A,{lineNumbers:!0,lineNumbersStart:n.range.lineFrom,language:n.language,code:n.code,filePath:n.filePath})]})}var o7=t(99282),o9=t(30365);function o8(){var e=(0,eb._)(["\n  fragment AiChatMessageUser on User {\n    id\n    username\n    fullName\n    image\n    url\n  }\n"]);return o8=function(){return e},e}function o6(){var e=(0,eb._)(["\n  query AiChatMessageUserData($id: Int!) {\n    user(id: $id) {\n      ...AiChatMessageUser\n    }\n  }\n  ","\n"]);return o6=function(){return e},e}var se={},sn=(0,ey.J1)(o8()),st=(0,ey.J1)(o6(),sn),sr=t(31051);function sa(e){var n,t,r,a,i,o,s,l,u,c=(n={variables:{id:e.id}},t=(0,eg._)({},se,n),ew.I(st,t)).data,d=null==c?void 0:c.user;return e.showAvatarOnly?(0,p.Y)(sr.e,{size:24,username:null!=(r=null==d?void 0:d.username)?r:"",fullName:null!=(a=null==d?void 0:d.fullName)?a:"",src:null!=(i=null==d?void 0:d.image)?i:""}):(0,p.FD)(W.S,{row:!0,gap:8,align:"center",children:[(0,p.Y)(sr.e,{size:24,username:null!=(o=null==d?void 0:d.username)?o:"",fullName:null!=(s=null==d?void 0:d.fullName)?s:"",src:null!=(l=null==d?void 0:d.image)?l:""}),(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:null!=(u=null==d?void 0:d.username)?u:""})]})}function si(e){return(0,b.useCallback)(function(n){var t,r="string"==typeof n?{path:n}:n;e({type:null!=(t=(0,tb.QY)(r))?t:"codeEditor",data:r})},[e])}var so=t(82817),ss=(0,eo.x)({event:[{justifyContent:"end"}],userMessageAttachments:[es.wp.maxWidth("100%")],message:[es.wp.maxWidth(400),es.wp.px(8),es.wp.py(6),es.wp.borderRadius(),es.wp.colorMixBg(U.LU.accentPrimaryDefault,"transparent",.4)],codeReference:[{width:"100%"}]}),sl=(0,b.memo)(function(e){var n,t=e.data,r=e.openPane,a=e.readFile,i=si(r);return t?(0,p.Y)(su,{openFile:i,content:t.content,userId:Number(t.sender.id),codeReference:t.codeReference,uploadedFiles:t.uploadedFiles,readFile:a,targetedElement:null!=(n=t.targetedElement)?n:null}):null});function su(e){var n=e.openFile,t=e.readFile,r=e.content,a=e.userId,i=e.codeReference,o=e.uploadedFiles,s=e.targetedElement,l=(0,o7.Vd)({openFile:n,messageSenderType:I.utd.USER});return(0,p.FD)(W.S,{css:ss.event,px:16,pt:32,pb:16,row:!0,gap:8,children:[(0,p.FD)(W.S,{grow:!0,shrink:!0,gap:8,align:"end",children:[o?(0,p.Y)(sc,{attachments:o,readFile:t}):null,(0,p.FD)(W.S,{css:ss.message,gap:8,children:[(0,p.Y)(o7.d2,{text:r,codeComponent:l,messageState:I.qOk.COMPLETE}),s?(0,p.Y)(o9.l,{targetedElement:s}):null]}),(null==i?void 0:i.code)?(0,p.Y)(W.S,{css:ss.codeReference,children:(0,p.Y)(o5,{codeReference:i,onClick:function(){var e=null==i?void 0:i.filePath;e&&n({path:e,line:null==i?void 0:i.range.lineTo})}})}):null]}),(0,p.Y)(W.S,{pt:6,children:(0,p.Y)(sa,{id:a,showAvatarOnly:!0})})]})}function sc(e){var n=e.attachments,t=e.readFile,r=n.filter(function(e){return!(e.path.split("/").pop()||"").startsWith(so.m)});return 0===r.length?null:(0,p.Y)(W.S,{css:ss.userMessageAttachments,children:(0,p.Y)(o1.A,{fileAttachments:r.map(function(e){return(0,p.Y)(o2.m1,{attachment:e,readFile:t,getAttachmentTypeDisclaimer:(0,o3.F)({aiName:tR.BP})},e.path)})})})}var sd=t(882),sf=t(4721),sp=t(76716),sh=t(11901),sm=t(72264),sv=t(51292),sg=t(10513),sb=(0,eo.x)({container:[es.wp.py(4),es.wp.px(8),es.wp.borderRadius(4),es.wp.flex.growAndShrink(1),es.wp.rowWithGap(8),es.wp.align.center,es.wp.border({color:"transparent"}),{backgroundColor:U.LU.interactiveBackground,"&.generation-complete":[sv.b.filledAndOutlined],"&.generation-in-progress":[nZ.S.foregroundPulse()],"&.is-applied":[es.wp.py(2)]}],iconCol:[es.wp.py(4),{alignSelf:"flex-start"}],textCol:[es.wp.flex.growAndShrink(1),es.wp.colWithGap(4),es.wp.overflow("hidden")],filePathAndDiffLines:[es.wp.rowWithGap(4),es.wp.justify.spaceBetween,es.wp.align.center],filePath:[es.wp.flex.shrink(1)],diffLineStatsPill:[es.wp.fontWeight.medium],editSummary:[{".is-reverted &":[es.wp.color.foregroundDimmest,{textDecoration:"line-through"}]}]});function sy(e){var n=e.filePath,t=e.content,r=e.changeSummary,a=e.changeStatus,i=e.lineStats,o=e.onOpenDiff,s=e.state,l=s===I.u5I.GENERATION_COMPLETE,u=(0,b.useCallback)(function(){l&&o(n,{type:"generatedFile",content:t})},[n,o,l,t]);return(0,p.FD)(ex.ui,{css:sb.container,className:"is-".concat(a.state," generation-").concat(function(e){switch(e){case I.u5I.GENERATION_IN_PROGRESS:return"in-progress";case I.u5I.GENERATION_REGENERATING:return"regenerating";case I.u5I.GENERATION_COMPLETE:return"complete";case I.u5I.GENERATION_ERROR:return"error";default:return"unknown"}}(s)),onClick:u,children:[(0,p.Y)(W.S,{css:sb.iconCol,children:(0,p.Y)(aV.A,{path:n,fill:"reverted"===a.state?U.LU.foregroundDimmest:void 0})}),(0,p.FD)(W.S,{css:sb.textCol,children:[(0,p.FD)(W.S,{css:sb.filePathAndDiffLines,children:[(0,p.Y)(G.EY,{variant:"text",color:"default",multiline:!1,css:sb.filePath,children:n}),"reverted"===a.state?(0,p.FD)(W.S,{row:!0,gap:4,align:"center",children:[(0,p.Y)(sg.A,{}),(0,p.Y)(G.EY,{variant:"text",color:"dimmer",children:"Reverted"})]}):l?(0,p.Y)(s_,{filePath:n,lineStats:i}):null]}),(0,p.Y)(W.S,{css:sb.editSummary,children:(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:r})})]})]})}function sw(e){var n=e.filePath,t=e.linesAdded,r=e.linesRemoved,a=e.onOpenDiff,i=e.commitHash;return(0,p.FD)(ex.ui,{css:sb.container,className:"is-applied generation-complete",onClick:function(){return a(n,{type:"git",revision:i})},children:[(0,p.Y)(W.S,{css:sb.iconCol,children:(0,p.Y)(aV.A,{path:n})}),(0,p.Y)(W.S,{css:sb.textCol,children:(0,p.FD)(W.S,{css:sb.filePathAndDiffLines,children:[(0,p.Y)(G.EY,{variant:"text",color:"default",children:n}),(0,p.Y)(s_,{filePath:n,lineStats:{added:t,removed:r}})]})})]})}function s_(e){var n=e.lineStats;return null==n?null:(0,p.FD)(W.S,{row:!0,gap:4,children:[(0,p.Y)(V.a,{css:sb.diffLineStatsPill,compact:!0,colorway:"positive",text:"+".concat(n.added)}),(0,p.Y)(V.a,{css:sb.diffLineStatsPill,compact:!0,colorway:"negative",text:"-".concat(n.removed)})]})}var sS=t(61474);function sA(e){var n=e.sessionId,t=e.eventIdWhichProposedShellExecution,r=(0,_.NC)(),a=(0,x.J2)(r.sessions.get(n));return{sendStartedShellExecutionMessage:(0,b.useCallback)(function(e){var n=e.processId,r=e.messageContentsOffset;return null==a?void 0:a.appendEvent({kind:"iterativeAgent",action:{eventIdWhichProposedShellExecution:t,processId:n,messageContentsOffset:r}})},[t,a]),sendFinishedShellExecutionMessage:(0,b.useCallback)(function(e){var n=e.commandOutput,r=e.exitCode,i=e.processId,o=e.messageContentsOffset;return null==a?void 0:a.appendEvent({kind:"iterativeAgent",action:{eventIdWhichProposedShellExecution:t,commandOutput:n,exitCode:r,processId:i,messageContentsOffset:o}})},[t,a])}}function sk(e){var n=e.sessionId,t=e.eventIdWhichProposedPackageInstall,r=(0,_.NC)(),a=(0,x.J2)(r.sessions.get(n));return{sendInstallingPackagesMessage:(0,b.useCallback)(function(e){var n=e.processId,r=e.messageContentsOffset;return null==a?void 0:a.appendEvent({kind:"iterativeAgent",action:{eventIdWhichProposedPackageInstall:t,processId:n,messageContentsOffset:r}})},[t,a]),sendInstalledPackagesMessage:(0,b.useCallback)(function(e){var n=e.installationOutput,r=e.exitCode,i=e.processId,o=e.messageContentsOffset;return null==a?void 0:a.appendEvent({kind:"iterativeAgent",action:{eventIdWhichProposedPackageInstall:t,installationOutput:n,messageContentsOffset:o,exitCode:r,processId:i}})},[t,a])}}function sC(e){var n=e.sessionId,t=e.eventIdWhichProposedRunConfiguration,r=(0,_.NC)(),a=(0,x.J2)(r.sessions.get(n));return(0,b.useCallback)(function(e){var n=e.messageContentsOffset;return null==a?void 0:a.appendEvent({kind:"iterativeAgent",action:{eventIdWhichProposedRunConfiguration:t,messageContentsOffset:n}})},[t,a])}function sY(e){var n=e.sessionId,t=e.eventIdWhichProposedWorkflowConfiguration,r=(0,_.NC)(),a=(0,x.J2)(r.sessions.get(n));return(0,b.useCallback)(function(e){var n=e.messageContentsOffset;return null==a?void 0:a.appendEvent({kind:"iterativeAgent",action:{eventIdWhichProposedWorkflowConfiguration:t,messageContentsOffset:n}})},[t,a])}function sE(e){var n=e.sessionId,t=e.eventIdWhichProposedDeploymentConfiguration,r=(0,_.NC)(),a=(0,x.J2)(r.sessions.get(n));return(0,b.useCallback)(function(e){var n=e.messageContentsOffset;return null==a?void 0:a.appendEvent({kind:"iterativeAgent",action:{eventIdWhichProposedDeploymentConfiguration:t,messageContentsOffset:n}})},[t,a])}var sx=t(60594).Buffer;function sT(){var e=(0,om._P)({controlName:"flag-agent-sandbox"});return{spawnCommand:(0,eC.I)(function(n){return function(t){return(0,y._)(function(){var r;return(0,w.YH)(this,function(a){switch(a.label){case 0:return[4,n.shellExec.spawn.rpc({cmd:"bash",args:["-ci",t],env:{REPLIT_MODE:"assistant"},sandbox:e?{rules:[{operation:"Modify",prefixes:["/home/runner/workspace/.replit","/home/runner/workspace/replit.nix","/home/runner/workspace/.cache/replit/","/home/runner/workspace/.local/state/replit/"],message:"A protected file was prevented from being modified. These files are crucial for the correct functionality of the application and should not be modified"},{operation:"Delete",prefixes:["/home/runner/workspace/.replit","/home/runner/workspace/replit.nix","/home/runner/workspace/.local/state/replit/"],message:"A protected file was prevented from being deleted. These files are crucial for the correct functionality of the application and should not be modified"},{operation:"Delete",prefixes:["/home/runner/workspace/.git"],excludePrefixes:["/home/runner/workspace/.git/index.lock"],message:"An unsafe operation with git was blocked to protect your application's history and the ability to go back to other points in time."}]}:void 0})];case 1:if(!(r=a.sent()).ok)return[2,r];return[2,{ok:!0,payload:r.payload.id}]}})})()}},[e]),killProcessId:(0,eC.I)(function(e){return function(n){return(0,y._)(function(){return(0,w.YH)(this,function(t){switch(t.label){case 0:return[4,e.shellExec.kill.rpc({id:n})];case 1:return[2,t.sent()]}})})()}},[]),waitAndGetCommandOutput:(0,eC.I)(function(e){return function(n){return(0,y._)(function(){var t,r,a,i,o,s,l,u,c,d,f,p,h,m,v,g,b,y;return(0,w.YH)(this,function(w){switch(w.label){case 0:t=e.shellExec.monitor.subscribe({id:n}).resReadable,r=-1,a=!1,i=!1,w.label=1;case 1:w.trys.push([1,6,7,12]),s=(0,D._)(t),w.label=2;case 2:return[4,s.next()];case 3:if(!(a=!(l=w.sent()).done))return[3,5];if((u=l.value).ok&&"Finished"===u.payload.state)return r=u.payload.exitCode,[3,5];w.label=4;case 4:return a=!1,[3,2];case 5:return[3,12];case 6:return c=w.sent(),i=!0,o=c,[3,12];case 7:if(w.trys.push([7,,10,11]),!(a&&null!=s.return))return[3,9];return[4,s.return()];case 8:w.sent(),w.label=9;case 9:return[3,11];case 10:if(i)throw o;return[7];case 11:return[7];case 12:d=e.shellExec.readBuffer.subscribe({id:n}).resReadable,f=sx.alloc(0),p=!1,h=!1,w.label=13;case 13:w.trys.push([13,18,19,24]),v=(0,D._)(d),w.label=14;case 14:return[4,v.next()];case 15:if(!(p=!(g=w.sent()).done))return[3,17];if((b=g.value).ok&&"output"===b.payload.$kind&&(f=sx.concat([f,b.payload.output])),b.ok&&"finished"===b.payload.$kind)return[2,{commandOutput:f.toString(),exitCode:r,processId:n}];w.label=16;case 16:return p=!1,[3,14];case 17:return[3,24];case 18:return y=w.sent(),h=!0,m=y,[3,24];case 19:if(w.trys.push([19,,22,23]),!(p&&null!=v.return))return[3,21];return[4,v.return()];case 20:w.sent(),w.label=21;case 21:return[3,23];case 22:if(h)throw m;return[7];case 23:return[7];case 24:return[2]}})})()}},[])}}var sD=t(94160),sI=t(26796),sR=t(52389),sN=t(77901),sO=(0,eo.x)({container:[es.wp.borderRadius(4),es.wp.flex.growAndShrink(1),es.wp.border({width:1,color:U.LU.interactiveBorder}),{"> div":{alignItems:"start"},"> div > button":[es.wp.mt(4),es.wp.mr(4)]}],headerWrapper:[es.wp.width("100%"),es.wp.flex.growAndShrink(1)],headerInner:[es.wp.width("100%")],textWrapper:[es.wp.flex.wrap,es.wp.font.code,{lineHeight:U.LU.lineHeightDefault}],actionsWrapper:[es.wp.height("100%")],terminalWrapper:[es.wp.width("100%"),{"> div":es.wp.borderRadius(0,0,4,4)}],warningIcon:[es.wp.mx(4)]});function sP(e){var n=e.command,t=e.eventId,r=e.sessionId,a=e.openPane,i=(0,g._)((0,b.useState)("proposed"!==n.state),2),o=i[0],s=i[1],l=sT(),u=l.spawnCommand,c=l.killProcessId,d=l.waitAndGetCommandOutput,f=sA({sessionId:r,eventIdWhichProposedShellExecution:t}),h=f.sendStartedShellExecutionMessage,m=f.sendFinishedShellExecutionMessage;(0,b.useEffect)(function(){"running"===n.state&&s(!0),"finished"===n.state&&0===n.commandOutput.length&&s(!1)},[n]);var v=(0,b.useCallback)(function(){return(0,y._)(function(){var e,t,r,a;return(0,w.YH)(this,function(i){switch(i.label){case 0:if(!u||!c||!d)return[2];if("running"!==n.state)return[3,2];return[4,c(n.processId)];case 1:case 6:return i.sent(),[2];case 2:return[4,u(n.command)];case 3:if(!(null==(e=i.sent())?void 0:e.ok))return[2];return[4,h({processId:t=e.payload,messageContentsOffset:n.messageContentsOffset})];case 4:if(!(null==(r=i.sent())?void 0:r.ok))return[2];return[4,d(t)];case 5:if(!(a=i.sent()))return[2];return[4,m((0,nh._)((0,eg._)({},a),{messageContentsOffset:n.messageContentsOffset}))]}})})()},[n,c,m,h,u,d]),_=(0,b.useCallback)(function(){a({type:"shell",data:{initialCmd:"".concat(n.command,"\n")}})},[n.command,a]);return(0,p.Y)(sF,{command:n,isExpanded:o,toggleExpanded:function(){return s(function(e){return!e})},openPane:a,onRunInline:v,onRunInShell:_})}function sF(e){var n=e.command,t=e.isExpanded,r=e.toggleExpanded,a=e.openPane,i=e.onRunInline,o=e.onRunInShell,s=(0,p.Y)(ag.A,{}),l="Run";return"running"===n.state&&(s=(0,p.Y)(sN.A,{}),l="Stop"),"finished"===n.state&&(s=(0,p.Y)(sI.A,{}),l="Run again"),(0,p.Y)(ex.ui,{elevated:!0,children:(0,p.Y)(L.A,{css:sO.container,expanded:t,onClick:r,disabled:"proposed"===n.state,chevron:"start",toggleOn:"chevron",headerContent:(0,p.Y)(W.S,{css:sO.headerWrapper,row:!0,children:(0,p.FD)(W.S,{row:!0,gap:8,align:"center",justify:"space-between",css:sO.headerInner,children:[(0,p.Y)(W.S,{row:!0,gap:8,align:"center",css:sO.textWrapper,grow:!0,shrink:!0,children:n.command}),(0,p.Y)(W.S,{align:"start",css:sO.actionsWrapper,grow:0,shrink:0,children:(0,p.FD)(W.S,{row:!0,gap:4,align:"center",children:[(0,p.Y)(e$.K0,{size:24,alt:"Run in Shell",onClick:o,children:(0,p.Y)(sR.A,{})}),(0,p.Y)(M.$n,{size:"small",colorway:"proposed"===n.state?"primary":void 0,text:l,iconLeft:s,onClick:i}),n.isDangerous?(0,p.Y)(z.m_,{tooltip:"This command is potentially dangerous!",children:(0,p.Y)(rJ.A,{color:U.LU.accentNegativeDefault,css:sO.warningIcon})}):null]})})]})}),children:(0,p.FD)(W.S,{css:sO.terminalWrapper,children:["running"===n.state?(0,p.Y)(sS.A,{processId:n.processId,maxHeight:160,openPane:a,interactive:!0}):null,"finished"===n.state?(0,p.Y)(sD.xd,{output:n.commandOutput,maxHeight:160,openPane:a}):null]})})})}var sU=t(13357);function sL(){var e=(0,k.A)().fs;return(0,b.useCallback)(function(n){var t=n.changes;return(0,y._)(function(){var n,r,a,i,o,s,l,u,c,d,f,p,h;return(0,w.YH)(this,function(m){switch(m.label){case 0:n=new Map,r=!0,a=!1,i=void 0,m.label=1;case 1:m.trys.push([1,6,7,8]),o=t[Symbol.iterator](),m.label=2;case 2:if(r=(s=o.next()).done)return[3,5];if((l=s.value).state!==I.u5I.GENERATION_COMPLETE)return[3,4];return u=[""],[4,e.readFile(l.filePath)];case 3:(c=m.sent()).error||(u=c.content.toString().split("\n")),d=nv.EY.of(u),f=nv.EY.of(l.content.split("\n")),p=sU.o.create(d,f),n.set(l.filePath,p.getLineStats()),m.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return h=m.sent(),a=!0,i=h,[3,8];case 7:try{r||null==o.return||o.return()}finally{if(a)throw i}return[7];case 8:return[2,n]}})})()},[e])}function sM(e){var n=e.changeStatus,t=e.removePane,r=(0,Y.tL)(),a=(0,g._)((0,b.useState)(null),2),i=a[0],o=a[1],s=(0,b.useRef)(n);return(0,b.useEffect)(function(){if("applied"!==s.current.state&&"applied"===n.state&&null!=i){var e,a=null==(e=r.find(function(e){var n=(0,g._)(e,2),t=(n[0],n[1]);return"diff"===t.type&&a7()(t.data,i)}))?void 0:e[0];a&&(t(a),o(null))}s.current=n},[n,i,r,t]),{onOpenTemporaryDiffPane:o}}var sJ=t(7882),sH=t(24270);function sB(){var e=(0,sH.T)(),n=(0,n2.mP)(),t=(0,n2.Eo)(),r=(0,n2.Ss)(),a=(0,n2.z1)();return(0,b.useCallback)(function(i){return(0,y._)(function(){var o,s,l,u,c;return(0,w.YH)(this,function(d){if(!e)return[2];if(o=n.findIndex(function(e){return e.name===i.workflowName}),s=i.commands.map(function(e){return{task:"shell.exec",args:e}}),l="sequential"===i.mode?"sequential":"parallel",o>=0){if("agent"===(c=n[o]).author||(null==(u=c.metadata)?void 0:u.generated))return[2];r(o,function(e){var t=n[o].tasks;e.tasks=(0,am.pC)(t,s)},{persist:!0})}else t({name:i.workflowName,author:e,tasks:s,mode:l});return i.setRunButton&&a(i.workflowName),[2]})})()},[e,n,r,t,a])}var sV=t(94686),s$=(0,eo.x)({container:[es.wp.borderRadius(4),es.wp.flex.growAndShrink(1),es.wp.border({width:1,color:U.LU.interactiveBorder})],infoWrapper:[es.wp.flex.wrap],inlineRunButton:[es.wp.display.inlineFlex,es.wp.backgroundColor.greyDimmest,es.wp.color.greyStrongest,es.wp.align.center,es.wp.borderRadius(8),es.wp.py(2),es.wp.px(6),es.wp.mx(2)]});function sG(e){var n=e.text;return(0,p.FD)(W.S,{css:s$.inlineRunButton,row:!0,gap:6,children:[(0,p.Y)(ag.A,{size:12}),(0,p.Y)(G.EY,{children:n})]})}function sz(e){var n,t=e.workflowConfiguration,r=e.eventId,a=e.sessionId,i=e.openPane,o=(0,b.useCallback)(function(){i({type:"workflows"})},[i]),s=sB(),l=sY({sessionId:a,eventIdWhichProposedWorkflowConfiguration:r}),u=(0,b.useCallback)(function(){s(t),l({messageContentsOffset:t.messageContentsOffset})},[s,l,t]);return(0,p.FD)(ex.ui,{elevated:!0,css:s$.container,p:8,children:[(0,p.FD)(W.S,{row:!0,align:"start",justify:"space-between",children:[(0,p.FD)(W.S,{row:!0,align:"center",gap:8,css:s$.infoWrapper,grow:!0,shrink:!0,children:["Set",(0,p.Y)(sG,{text:t.workflowName}),"to run"]}),(0,p.FD)(W.S,{row:!0,gap:4,align:"center",grow:0,shrink:0,children:[(0,p.Y)(e$.K0,{size:24,alt:"Open Workflows",onClick:o,children:(0,p.Y)(sV.A,{})}),(0,p.Y)(M.$n,{size:"small",colorway:"proposed"===t.state?"primary":void 0,onClick:u,text:"proposed"===t.state?"Apply":"Applied",disabled:"proposed"!==t.state,iconLeft:(0,p.Y)(rL.A,{})})]})]}),(0,p.Y)(sJ.qv,{workflow:(n=t.commands.map(function(e){return{task:"shell.exec",args:e}}),{name:t.workflowName,tasks:n,mode:t.mode}),readOnlyMode:!0,simplified:!0})]})}var sW=t(36379),sj=(0,eo.x)({container:[es.wp.borderRadius(4),es.wp.flex.growAndShrink(1),es.wp.rowWithGap(8),sv.b.filledAndOutlined],iconCol:[es.wp.py(4)]});function sq(e){var n=e.toolName,t=e.openPane,r=(0,tb.Vv)();return sZ.includes(n)?(0,p.FD)(ex.ui,{css:sj.container,px:8,py:4,onClick:function(){return t({type:n})},children:[(0,p.Y)(W.S,{css:sj.iconCol,children:r.Icon({pane:{type:n},size:16})}),(0,p.FD)(W.S,{grow:!0,shrink:!0,justify:"center",children:[(0,p.Y)(G.EY,{color:"default",children:r.getTitle({type:n})}),(0,p.Y)(G.EY,{color:"dimmer",variant:"small",children:r.getDescription({type:n})})]}),(0,p.Y)(W.S,{css:sj.iconCol,children:(0,p.Y)(sW.A,{})})]}):null}var sZ=["agentChat","deployments","envEditor"];function sK(){return(0,eC.I)(function(e){return function(n){var t=n.buildCommand,r=n.runCommand;return(0,y._)(function(){return(0,w.YH)(this,function(n){return[2,e.agentToolDeployConfig.update.rpc({build:t?["sh","-c",t]:void 0,run:["sh","-c",r]})]})})()}},[])}var sQ=t(89364),sX=(0,eo.x)({container:[es.wp.borderRadius(4),es.wp.flex.growAndShrink(1),es.wp.border({width:1,color:U.LU.interactiveBorder})],runCommandPill:[es.wp.font.code,es.wp.flex.growAndShrink(0)],infoWrapper:[es.wp.flex.wrap,es.wp.height("100%")]});function s0(e){var n=e.deploymentConfiguration,t=e.eventId,r=e.sessionId,a=e.openPane,i=(0,b.useCallback)(function(){a({type:"deployments"})},[a]),o=sK(),s=sE({sessionId:r,eventIdWhichProposedDeploymentConfiguration:t}),l=(0,b.useCallback)(function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(!o)return[2];return[4,o({buildCommand:n.buildCommand,runCommand:n.runCommand})];case 1:if(!e.sent().ok)return[2];return[4,s({messageContentsOffset:n.messageContentsOffset})];case 2:return e.sent(),[2]}})})()},[o,n.buildCommand,n.messageContentsOffset,n.runCommand,s]),u=n.buildCommand.length>0,c="Set deployment run command to ";return u&&(c=" and run command to "),(0,p.Y)(ex.ui,{elevated:!0,css:sX.container,p:8,children:(0,p.FD)(W.S,{row:!0,align:"start",justify:"space-between",children:[(0,p.FD)(W.S,{row:!0,align:"center",gap:8,css:sX.infoWrapper,grow:!0,shrink:!0,children:[u?(0,p.FD)(p.FK,{children:["Set deployment build command to"," ",(0,p.Y)(V.a,{text:n.buildCommand,css:sX.runCommandPill})]}):null,c,(0,p.Y)(V.a,{text:n.runCommand,css:sX.runCommandPill})]}),(0,p.FD)(W.S,{row:!0,gap:4,align:"center",grow:0,shrink:0,children:[(0,p.Y)(e$.K0,{size:24,alt:"Open Published Apps",onClick:i,children:(0,p.Y)(sQ.A,{})}),(0,p.Y)(M.$n,{size:"small",onClick:l,text:"proposed"===n.state?"Apply":"Applied",disabled:"proposed"!==n.state,colorway:"proposed"===n.state?"primary":void 0,iconLeft:(0,p.Y)(rL.A,{})})]})]})})}var s1=t(72952),s2=t(60594).Buffer;function s3(){return{spawnInstall:(0,eC.I)(function(e){return function(n){var t=n.language,r=n.packageList;return(0,y._)(function(){var n;return(0,w.YH)(this,function(a){switch(a.label){case 0:return[4,e.agentToolPackager.spawnInstallPackages.rpc({language:t,pkgs:r})];case 1:if(!(n=a.sent()).ok)return[2,n];return[2,{ok:!0,payload:n.payload.id}]}})})()}},[]),waitAndGetSpawnedInstallPackagesResult:(0,eC.I)(function(e){return function(n){return(0,y._)(function(){var t,r,a,i,o,s,l,u,c,d;return(0,w.YH)(this,function(f){switch(f.label){case 0:t=e.agentToolPackager.waitAndGetSpawnedInstallPackagesResult.subscribe({processId:n}).resReadable,r=s2.alloc(0),a=!1,i=!1,f.label=1;case 1:f.trys.push([1,6,7,12]),s=(0,D._)(t),f.label=2;case 2:return[4,s.next()];case 3:if(!(a=!(l=f.sent()).done))return[3,5];if((u=l.value).ok&&"output"===u.payload.$kind&&(r=s2.concat([r,u.payload.output])),u.ok&&"finished"===u.payload.$kind)return c=u.payload.exitCode,[2,{installationOutput:r.toString(),exitCode:c}];f.label=4;case 4:return a=!1,[3,2];case 5:return[3,12];case 6:return d=f.sent(),i=!0,o=d,[3,12];case 7:if(f.trys.push([7,,10,11]),!(a&&null!=s.return))return[3,9];return[4,s.return()];case 8:f.sent(),f.label=9;case 9:return[3,11];case 10:if(i)throw o;return[7];case 11:return[7];case 12:return[2]}})})()}})}}var s4=t(43078),s5=t(91175);function s7(e){var n,t=e.eventId,r=e.packageInstall,a=e.sessionId,i=e.openPane,o=(n=(0,k.A)().git,(0,b.useCallback)(function(e){return(0,y._)(function(){var t,r;return(0,w.YH)(this,function(a){switch(a.label){case 0:return[4,n.status()];case 1:if((t=a.sent()).error)return[2,t];if(0===(r=null!=e?e:t.changes.map(function(e){return e.path})).length)return[2];return[2,n.stageFiles({add:r})]}})})()},[n])),s=(0,g._)((0,b.useState)("installed"===r.state&&0!==r.exitCode),2),l=s[0],u=s[1];(0,b.useEffect)(function(){"installing"===r.state&&u(!0),"installed"===r.state&&0===r.exitCode&&u(!1)},[r]);var c=s3(),d=c.spawnInstall,f=c.waitAndGetSpawnedInstallPackagesResult,h=sk({sessionId:a,eventIdWhichProposedPackageInstall:t}),m=h.sendInstallingPackagesMessage,v=h.sendInstalledPackagesMessage,_=(0,b.useCallback)(function(){return(0,y._)(function(){var e,n,t;return(0,w.YH)(this,function(a){switch(a.label){case 0:if(!d||!f)return[2];return u(!0),[4,null==d?void 0:d({language:r.language,packageList:r.packageList})];case 1:if(!(null==(e=a.sent())?void 0:e.ok))return[2];return[4,m({processId:n=e.payload,messageContentsOffset:r.messageContentsOffset})];case 2:return a.sent(),[4,f(n)];case 3:if(!(t=a.sent()))return[2];return 0===t.exitCode&&u(!1),[4,v({installationOutput:t.installationOutput,exitCode:t.exitCode,processId:n,messageContentsOffset:r.messageContentsOffset})];case 4:return a.sent(),[4,o()];case 5:return a.sent(),[2]}})})()},[d,f,r,m,v,o]);return(0,p.Y)(s8,{packageInstall:r,isExpanded:l,toggleExpanded:function(){return u(function(e){return!e})},openPane:i,onInstallClick:_})}var s9=(0,eo.x)({container:[es.wp.borderRadius(4),es.wp.flex.growAndShrink(1),es.wp.border({width:1,color:U.LU.interactiveBorder}),{"> div":{alignItems:"start"},"> div > button":[es.wp.mt(4),es.wp.mr(4)]}],headerWrapper:[es.wp.width("100%"),es.wp.flex.growAndShrink(1)],headerInner:[es.wp.mb(2)],packagesWrapper:[es.wp.width("100%"),es.wp.py(4),{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:U.LU.space8}],package:[es.wp.borderRadius(4),es.wp.px(8),es.wp.py(4),es.wp.width("calc(50% - ".concat(U.LU.space4,")")),es.wp.backgroundColor.backgroundHighest],terminalWrapper:[es.wp.width("100%"),{"> div":es.wp.borderRadius(0,0,4,4)}]});function s8(e){var n=e.packageInstall,t=e.isExpanded,r=e.toggleExpanded,a=e.openPane,i=e.onInstallClick,o=(0,b.useCallback)(function(){a({type:"developer",data:{tab:["dependencies","import"]}})},[a]),s="Install",l=(0,p.Y)(s5.A,{}),u=!1;return"installing"===n.state&&(s="Installing...",l=(0,p.Y)(a$.A,{}),u=!0),"installed"===n.state&&(s="Installed",l=(0,p.Y)(rL.A,{}),u=!0),(0,p.Y)(ex.ui,{elevated:!0,children:(0,p.Y)(L.A,{css:s9.container,expanded:t,onClick:r,disabled:"proposed"===n.state,chevron:"start",toggleOn:"chevron",headerContent:(0,p.FD)(W.S,{css:s9.headerWrapper,children:[(0,p.FD)(W.S,{row:!0,gap:8,align:"center",justify:"space-between",css:s9.headerInner,children:[(0,p.Y)(G.EY,{variant:"text",color:"default",children:"Dependencies"}),(0,p.FD)(W.S,{row:!0,gap:4,align:"center",children:[(0,p.Y)(e$.K0,{size:24,alt:"Open Dependencies",onClick:o,children:(0,p.Y)(s4.A,{})}),(0,p.Y)(M.$n,{text:s,iconLeft:l,disabled:u,size:"small",colorway:"proposed"===n.state?"primary":void 0,onClick:i})]})]}),(0,p.Y)(W.S,{css:s9.packagesWrapper,children:n.packageList.map(function(e,n){return(0,p.Y)(ex.ui,{css:s9.package,row:!0,gap:8,align:"center",justify:"space-between",children:(0,p.FD)(W.S,{row:!0,gap:4,align:"center",children:[(0,p.Y)(s5.A,{}),(0,p.Y)(G.EY,{children:e})]})},n+"-"+e)})})]}),children:(0,p.FD)(W.S,{css:s9.terminalWrapper,children:["installing"===n.state?(0,p.Y)(s1.A,{processId:n.processId,openPane:a,maxHeight:160}):null,"installed"===n.state?(0,p.Y)(sD.xd,{output:n.installationOutput,maxHeight:160,openPane:a}):null]})})})}function s6(){var e=(0,sH.T)(),n=(0,n2.mP)(),t=(0,n2.Eo)(),r=(0,n2.Ss)(),a=(0,n2.z1)();return(0,b.useCallback)(function(i){return(0,y._)(function(){var o;return(0,w.YH)(this,function(s){return e&&((o=n.findIndex(function(e){return e.name===i.workflowName}))>=0?r(o,function(e){var n="agent"===e.author,t=e.tasks.find(function(e){return"shell.exec"===e.task&&e.args===i.oldCommand});if(t)t.args=i.newCommand;else{if(n){var r=e.tasks.find(function(e){return"shell.exec"===e.task}),a=e.tasks.filter(function(e){return"shell.exec"!==e.task});e.tasks=(0,ev._)(a).concat([(0,nh._)((0,eg._)({},r),{task:"shell.exec",args:i.newCommand})]);return}e.tasks=[{task:"shell.exec",args:i.newCommand}]}},{persist:!0}):t({name:i.workflowName,author:e,tasks:[{task:"shell.exec",args:i.newCommand}]}),i.setRunButton&&a(i.workflowName)),[2]})})()},[e,n,r,t,a])}var le=(0,eo.x)({container:[es.wp.borderRadius(4),es.wp.flex.growAndShrink(1),es.wp.border({width:1,color:U.LU.interactiveBorder})],infoWrapper:[es.wp.flex.wrap],runCommandPill:[es.wp.font.code,es.wp.flex.growAndShrink(0)],inlineRunButton:[es.wp.display.inlineFlex,es.wp.backgroundColor.greyDimmest,es.wp.color.greyStrongest,es.wp.align.center,es.wp.borderRadius(8),es.wp.py(2),es.wp.px(6),es.wp.mx(2)]});function ln(e){var n=e.text;return(0,p.FD)(W.S,{css:le.inlineRunButton,row:!0,gap:6,children:[(0,p.Y)(ag.A,{size:12}),(0,p.Y)(G.EY,{children:n})]})}function lt(e){var n=e.runConfiguration,t=e.eventId,r=e.sessionId,a=e.openPane,i=(0,b.useCallback)(function(){a({type:"workflows"})},[a]),o=s6(),s=sC({sessionId:r,eventIdWhichProposedRunConfiguration:t}),l=(0,b.useCallback)(function(){o(n),s({messageContentsOffset:n.messageContentsOffset})},[o,s,n]);return(0,p.Y)(ex.ui,{elevated:!0,css:le.container,p:8,children:(0,p.FD)(W.S,{row:!0,align:"start",justify:"space-between",children:[(0,p.FD)(W.S,{row:!0,align:"center",gap:8,css:le.infoWrapper,grow:!0,shrink:!0,children:["Set",(0,p.Y)(ln,{text:n.workflowName}),"to",(0,p.Y)(V.a,{text:n.newCommand,css:le.runCommandPill})]}),(0,p.FD)(W.S,{row:!0,gap:4,align:"center",grow:0,shrink:0,children:[(0,p.Y)(e$.K0,{size:24,alt:"Open Workflows",onClick:i,children:(0,p.Y)(sV.A,{})}),(0,p.Y)(M.$n,{size:"small",colorway:"proposed"===n.state?"primary":void 0,onClick:l,text:"proposed"===n.state?"Apply":"Applied",disabled:"proposed"!==n.state,iconLeft:(0,p.Y)(rL.A,{})})]})]})})}function lr(e){var n=e.sessionId,t=e.eventIdWhichProposedChanges,r=(0,_.NC)(),a=(0,x.Rj)(function(){return n?r.sessions.get(n):void 0},[n,r]),i=(0,x.Rj)(function(){return null==a?void 0:a.reduce(la,1e3)},[a]);return(0,b.useMemo)(function(){var e=null==i?void 0:i[t];return null!=e?e:{state:"pending"}},[i,t])}var la={direction:"reverse",state:{},reducer:function(e,n){if((null==(t=e.contents.contents)?void 0:t.$kind)==="iterativeAgentEventContents"){var t,r=e.contents.contents.iterativeAgentEventContents.contents;if((null==r?void 0:r.$kind)==="appliedFileChanges"){var a=r.appliedFileChanges.eventWhichProposedChanges;if(n[a])return;n[a]={state:"applied",appliedChanges:r.appliedFileChanges.appliedChanges,commitHash:r.appliedFileChanges.commitHash};return}if((null==r?void 0:r.$kind)==="revertedFileChanges"){var i=r.revertedFileChanges.eventWhichProposedChanges;if(n[i])return;n[i]={state:"reverted",revertedChanges:r.revertedFileChanges.revertedChanges};return}}}},li=t(55247);let lo=(0,b.memo)(function(e){var n=e.text,t=e.ragSources,r=e.proposedActions,a=e.eventId,i=e.eventState,o=e.markdownCodeComponent,s=e.markdownLinkComponent,l=e.sessionId,u=e.openPane,c=e.removePane,d=[];null!=t&&d.push((0,p.Y)(ll,{eventState:i,ragSources:t,openPane:u},"rag-sources"));var f=null!=r?r:{sortedActions:[],commitId:"",fileChanges:[]},h=f.sortedActions,m=f.commitId,v=f.fileChanges,_=sL(),S=(0,g._)((0,b.useState)(function(){return new Map}),2),A=S[0],k=S[1];(0,b.useEffect)(function(){(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:return[4,_({changes:v})];case 1:return k(e.sent()),[2]}})})()},[v,_]);var C=h.reduce(function(e,t){var r=(0,N.QN)(t).messageContentsOffset;if(null==r||!l)return e;var d=(0,ev._)(e.parts);if(d.push((0,p.Y)(o7.d2,{text:n.slice(e.chars,r),codeComponent:o,linkComponent:s,messageState:i},"text-slice-".concat(e.chars,"-to-").concat(r))),(0,N.VF)(t,"fileChange")){var f=(0,N.QN)(t);d.push((0,p.Y)(lu,{change:f,commitId:m,lineStats:A.get(f.filePath),sessionId:l,eventId:a,openPane:u,removePane:c},f.filePath))}else if((0,N.VF)(t,"shellCommand")){var h=(0,N.QN)(t);d.push((0,p.Y)(sP,{command:h,openPane:u,eventId:a,sessionId:l},h.command))}else if((0,N.VF)(t,"packageInstall"))d.push((0,p.Y)(s7,{eventId:a,sessionId:l,packageInstall:t.packageInstall,openPane:u},t.packageInstall.language+"---"+t.packageInstall.packageList.join("-")));else if((0,N.VF)(t,"workspaceToolNudge")){var v=(0,N.QN)(t);"deployments"===v.toolName?d.push((0,p.Y)(sm.K4,{openDeploymentsPane:function(){return u({type:"deployments"})},paneType:"ghostwriterChat"},v.toolName)):d.push((0,p.Y)(lc,{nudge:v,openPane:u},v.toolName))}else(0,N.VF)(t,"runConfiguration")?d.push((0,p.Y)(lt,{runConfiguration:t.runConfiguration,openPane:u,eventId:a,sessionId:l},t.runConfiguration.workflowName+"---"+t.runConfiguration.oldCommand+"---"+t.runConfiguration.newCommand)):(0,N.VF)(t,"deploymentConfiguration")?d.push((0,p.Y)(s0,{deploymentConfiguration:t.deploymentConfiguration,openPane:u,eventId:a,sessionId:l},t.deploymentConfiguration.buildCommand+"---"+t.deploymentConfiguration.runCommand)):(0,N.VF)(t,"workflowConfiguration")&&d.push((0,p.Y)(sz,{workflowConfiguration:t.workflowConfiguration,openPane:u,eventId:a,sessionId:l},t.workflowConfiguration.workflowName+"---"+t.workflowConfiguration.commands.join("&&")));return{chars:r,parts:d}},{chars:0,parts:d}),Y=C.chars,E=C.parts,x=n.slice(Y).trim();x.length>0&&E.push((0,p.Y)(o7.d2,{text:x,codeComponent:o,linkComponent:s,messageState:i},"remaining-text"));var T=h.filter(function(e){return null==(0,N.QN)(e).messageContentsOffset}),D=!0,I=!1,R=void 0;try{for(var O,P=T[Symbol.iterator]();!(D=(O=P.next()).done);D=!0){var F=O.value;if((0,N.VF)(F,"fileChange")){var U=(0,N.QN)(F);E.push((0,p.Y)(lu,{change:U,commitId:m,lineStats:A.get(U.filePath),sessionId:l,eventId:a,openPane:u,removePane:c},U.filePath))}}}catch(e){I=!0,R=e}finally{try{D||null==P.return||P.return()}finally{if(I)throw R}}return(0,p.Y)(p.FK,{children:E})});var ls=(0,eo.x)({container:[es.wp.borderRadius()],accordionItem:[es.wp.flex.growAndShrink(1)],list:[es.wp.display.flex,es.wp.colWithGap(2),es.wp.p(4),es.wp.border({color:U.LU.outlineDefault}),es.wp.borderRadius()],listItem:[es.wp.cursor.pointer,sv.b.listItem,es.wp.p(4),es.wp.borderRadius(4)],header:[es.wp.color.foregroundDimmer]});function ll(e){var n=e.eventState,t=e.ragSources,r=e.openPane;if(0===t.length)return null;var a=(0,sh.A)("file",t.length);return(0,p.Y)(ex.ui,{css:ls.container,row:!0,children:(0,p.Y)(L.A,{css:ls.accordionItem,headerContent:(0,p.FD)(W.S,{row:!0,gap:6,align:"center",css:ls.header,children:[(0,p.Y)(li.A,{}),(0,p.Y)(G.EY,{children:n===I.qOk.IN_PROGRESS?"Reading ".concat(t.length," ").concat(a,"…"):"Read ".concat(t.length," ").concat(a)})]}),children:(0,p.Y)("ul",{"aria-label":"RAG sources",css:ls.list,children:t.map(function(e){var n=(0,sp.A)(e.url);return(0,p.Y)("li",{children:(0,p.FD)(W.S,{css:ls.listItem,row:!0,gap:4,onClick:function(){return r({type:"codeEditor",data:{path:n}})},children:[(0,p.Y)(aV.A,{path:n,size:16}),(0,p.Y)(G.EY,{variant:"small",children:n})]})},e.url)})})})})}function lu(e){var n=e.change,t=e.commitId,r=e.lineStats,a=e.sessionId,i=e.eventId,o=e.openPane,s=e.removePane,l=lr({sessionId:a,eventIdWhichProposedChanges:i}),u=sM({changeStatus:l,removePane:s}).onOpenTemporaryDiffPane,c=(0,b.useCallback)(function(e,n){var r={type:"diff",data:{left:{path:e,data:{type:"git",revision:t}},right:{path:e,data:n}}};o(r),u(r.data)},[o,t,u]);if(!n)return null;if("applied"===l.state){var d=l.appliedChanges,f=l.commitHash,h=d.find(function(e){return e.filePath===n.filePath});return h?(0,p.Y)(sw,(0,eg._)({commitHash:f,onOpenDiff:c},h)):null}return(0,p.Y)(sy,(0,nh._)((0,eg._)({},n),{changeStatus:l,lineStats:r,onOpenDiff:c}))}function lc(e){var n=e.nudge,t=e.openPane;return(0,p.Y)(sq,(0,nh._)((0,eg._)({},n),{openPane:t}))}var ld=(0,b.memo)(function(e){var n=e.eventId,t=e.eventState,r=e.content,a=e.intent,i=e.ragSources,o=e.proposedActions,s=e.sessionId,l=e.openPane,u=e.removePane,c=e.markdownCodeComponent,d=e.markdownLinkComponent;return r||t===I.qOk.COMPLETE?a===I.qRv.ITERATIVE_AGENT?(0,p.Y)(lo,{text:r,eventId:n,eventState:t,ragSources:i,proposedActions:o,markdownCodeComponent:c,markdownLinkComponent:d,sessionId:s,openPane:l,removePane:u}):(0,p.Y)(o7.d2,{text:r,codeComponent:c,linkComponent:d,messageState:t}):(0,p.Y)(a$.A,{})}),lf=t(69272),lp=t(30724);function lh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.commit,t=void 0===n||n,r=(0,k.A)().git,a=(0,g._)((0,b.useState)(!1),2),i=a[0],o=a[1],s=(0,g._)((0,b.useState)(null),2),l=s[0],u=s[1];return(0,b.useEffect)(function(){(0,y._)(function(){var e;return(0,w.YH)(this,function(n){switch(n.label){case 0:return[4,r.isInitialized()];case 1:if(null!=(e=n.sent()).error)return u(e.error),[2];if(o(e.initialized),!e.initialized)return[3,7];if(!t)return[3,6];n.label=2;case 2:return n.trys.push([2,4,,6]),[4,r.getCommit({commit:"HEAD"})];case 3:case 5:return n.sent(),[3,6];case 4:return n.sent(),[4,r.commit({message:"Initial commit"})];case 6:return o(!0),[3,9];case 7:return[4,r.init({initialCommit:t})];case 8:n.sent(),o(!0),n.label=9;case 9:return[2]}})})()},[r,t]),{isGitInitialized:i,gitError:l}}var lm=t(77481),lv=(0,eo.x)({root:[es.wp.width("100%")],banner:[es.wp.width("100%")],li:[{listStyle:"none"}]});function lg(e){var n=e.changedPaths,t=e.openPane,r=(0,g._)((0,b.useState)(100),2),a=r[0],i=r[1],o=(0,oy.A)(function(e){i(e.width/10)});return(0,p.Y)(W.S,{innerRef:o,css:lv.root,children:(0,p.Y)(tU.N,{css:lv.banner,icon:(0,p.Y)(ad.A,{}),colorway:"yellow",text:(0,p.FD)(lm.s,{variant:"small",children:[tR.BP," has detected other changes to these files since this code was generated:",(0,p.Y)("ul",{style:{margin:0},children:n.map(function(e){return(0,p.Y)("li",{css:lv.li,children:(0,p.Y)(M.$n,{variant:"underlined",size:"small",iconLeft:(0,p.Y)(aV.A,{path:e,size:16}),text:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxLength:30,truncateFrom:"middle"},t=n.maxLength,r=void 0===t?30:t,a=n.truncateFrom;return e.length<=r?e:"start"===(void 0===a?"middle":a)?"..."+e.slice(e.length-r,e.length):e.slice(0,r/2)+"..."+e.slice(-r/2)}(e,{truncateFrom:"start",maxLength:a}),onClick:function(){return t({type:"codeEditor",data:{path:e}})}})},e)})}),"You can retry this ",lf.go," or overwrite those changes and apply ",tR.BP," edits anyway."]})})})}var lb=t(63806),ly=t(78725);function lw(e){var n,t,r,a,i,o,s,l,u,c,d=e.sessionId,f=e.eventId,p=e.sortedActions,h=e.changesSummary,m=e.handleAutoRestart,v=e.doAutoApplyChanges,S=(t=(n={sessionId:d,prevUserMessageContent:e.prevUserMessageContent}).sessionId,r=n.prevUserMessageContent,a=(0,k.A)().git,(0,b.useCallback)(function(e){var n=e.changes,i=e.summary;return(0,y._)(function(){var e,o,s,l,u,c,d,f,p,h,m,v;return(0,w.YH)(this,function(g){switch(g.label){case 0:return a.forceRefresh(),[4,a.status()];case 1:if((e=g.sent()).error)return[2,e];if(0===e.changes.length||(o="Assistant checkpoint",0===n.length))return[2,{error:tR.ic.NOTHING_TO_COMMIT}];i&&(o+=": ".concat(i)),o+="\n\nAssistant generated file changes:\n",s=!0,l=!1,u=void 0;try{for(c=n[Symbol.iterator]();!(s=(d=c.next()).done);s=!0)f=d.value,o+="- ".concat(f.filePath,": ").concat(f.changeSummary,"\n")}catch(e){l=!0,u=e}finally{try{s||null==c.return||c.return()}finally{if(l)throw u}}return r&&(o+="\n---\n\nUser prompt:\n\n".concat(r)),p=e.changes.filter(function(e){return!e.staged}).filter(function(e){return lb.UC.includes(e.path)}).map(function(e){return e.path}),h=e.changes.filter(function(e){return e.staged}).map(function(e){return e.path}),m=n.map(function(e){return e.filePath}),v=new Set((0,ev._)(p).concat((0,ev._)(h),(0,ev._)(m))),[4,a.stageFiles({add:Array.from(v)})];case 2:return g.sent(),[2,a.commit({message:o,trailers:{"Replit-Commit-Author":"Assistant","Replit-Commit-Session-Id":t}})]}})})()},[a,r,t])),A=(0,x.HJ)(void 0);(0,b.useEffect)(function(){var e=function(e){return"workspaceToolNudge"===e.$kind?{action:e,state:"skipped",checked:!1}:"shellCommand"===e.$kind&&e.shellCommand.isDangerous?{action:e,state:"preparing",checked:!1}:{action:e,state:"preparing",checked:!0}};A.update((0,ob.jM)(function(n){if(!n)return p.map(e);for(var t=0;t<p.length;t++)n[t]?n[t].action=p[t]:n.push(e(p[t]))}))},[A,p]);var C=(0,g._)((0,b.useState)({state:"idle"}),2),Y=C[0],E=C[1],T=(0,ni.A)(Y),I=(0,b.useRef)(!1),R=(o=(i={sessionId:d,eventIdWhichProposedChanges:f}).sessionId,s=i.eventIdWhichProposedChanges,l=(0,_.NC)(),u=(0,x.J2)(l.sessions.get(o)),(0,b.useCallback)(function(e){var n=e.appliedChanges,t=e.commitHash;return null==u?void 0:u.appendEvent({kind:"iterativeAgent",action:{eventIdWhichProposedChanges:s,appliedChanges:n,commitHash:t}})},[s,u])),O=sL(),P=sT(),F=P.spawnCommand,U=P.waitAndGetCommandOutput,L=sA({sessionId:d,eventIdWhichProposedShellExecution:f}),M=L.sendStartedShellExecutionMessage,J=L.sendFinishedShellExecutionMessage,H=s3(),B=H.spawnInstall,V=H.waitAndGetSpawnedInstallPackagesResult,$=sk({sessionId:d,eventIdWhichProposedPackageInstall:f}),G=$.sendInstallingPackagesMessage,z=$.sendInstalledPackagesMessage,W=s6(),j=sC({sessionId:d,eventIdWhichProposedRunConfiguration:f}),q=sB(),Z=sY({sessionId:d,eventIdWhichProposedWorkflowConfiguration:f}),K=sK(),Q=sE({sessionId:d,eventIdWhichProposedDeploymentConfiguration:f}),X=(c=(0,k.A)().fs,(0,b.useCallback)(function(e){var n=e.change;return(0,y._)(function(){var e;return(0,w.YH)(this,function(t){switch(t.label){case 0:return[4,c.writeFile(n.filePath,n.content)];case 1:if(null!==(e=t.sent()).error)return[2,{error:e.error}];return[2,{}]}})})()},[c])),ee=(0,b.useMemo)(function(){return F&&U&&B&&V&&K},[K,F,B,U,V]),en=(0,b.useCallback)(function(){return(0,y._)(function(){var e,n,t,r,a,i,o,s,l,u,c,d,f,p,v,g,b,y,_,k,C,Y,x,P,L,H,$,en,et,er,ea,ei,eo,es,el,eu,ec,ed;return(0,w.YH)(this,function(w){switch(w.label){case 0:if(!A.current||"idle"!==T.current.state||!ee)return[2];return E({state:"working"}),[4,O({changes:e=A.current.map(function(e){return(0,N.VF)(e.action,"fileChange")?(0,N.QN)(e.action):null}).filter(function(e){return null!==e})})];case 1:n=w.sent(),t=new Set,r=!1,A.update((0,ob.jM)(function(e){null==e||e.forEach(function(e){e.state="preparing"===e.state&&e.checked?"scheduled":"skipped"})})),a=-1,i=!1,o=!1,w.label=2;case 2:w.trys.push([2,30,31,36]),l=(0,D._)(A.current),w.label=3;case 3:return[4,l.next()];case 4:if(!(i=!(u=w.sent()).done))return[3,29];if(c=u.value,a++,"scheduled"!==c.state)return[3,28];switch(A.update((0,ob.jM)(function(e){e&&(e[a].state="working")})),d=function(){A.update((0,ob.jM)(function(e){e&&(e[a]={action:e[a].action,checked:e[a].checked,state:"done"})}))},f=function(e){A.update((0,ob.jM)(function(n){n&&(n[a]={action:n[a].action,checked:n[a].checked,state:"failed",error:e})}))},v=(p=c.action).$kind){case"workspaceToolNudge":return[3,5];case"shellCommand":return[3,6];case"packageInstall":return[3,11];case"runConfiguration":return[3,16];case"deploymentConfiguration":return[3,19];case"fileChange":return[3,22];case"workflowConfiguration":return[3,24]}return[3,27];case 5:return[3,28];case 6:return g=p.shellCommand,[4,null==F?void 0:F(g.command)];case 7:if(!(null==(b=w.sent())?void 0:b.ok))return f("Spawning shell command failed"),[3,28];return[4,M({processId:b.payload,messageContentsOffset:g.messageContentsOffset})];case 8:if(!(null==(y=w.sent())?void 0:y.ok))return f("Server request failed"),[3,28];return[4,null==U?void 0:U(b.payload)];case 9:if(!(_=w.sent())||0!==_.exitCode)return f("Shell command failed"),[3,28];return[4,J((0,nh._)((0,eg._)({},_),{messageContentsOffset:g.messageContentsOffset}))];case 10:if(!(null==(k=w.sent())?void 0:k.ok))return f("Server request failed"),[3,28];return d(),[3,28];case 11:return C=p.packageInstall,[4,null==B?void 0:B({language:C.language,packageList:C.packageList})];case 12:if(!(null==(Y=w.sent())?void 0:Y.ok))return f("spawning packager failed"),[3,28];return[4,G({processId:Y.payload,messageContentsOffset:C.messageContentsOffset})];case 13:if(!(null==(x=w.sent())?void 0:x.ok))return f("Server request failed"),[3,28];return[4,null==V?void 0:V(Y.payload)];case 14:if(!(P=w.sent())||0!==P.exitCode)return f("Failed to run packager"),[3,28];return[4,z({installationOutput:P.installationOutput,exitCode:P.exitCode,processId:Y.payload,messageContentsOffset:C.messageContentsOffset})];case 15:if(!(null==(L=w.sent())?void 0:L.ok))return f("Server request failed"),[3,28];return d(),[3,28];case 16:return[4,W(H=p.runConfiguration)];case 17:return w.sent(),[4,j({messageContentsOffset:H.messageContentsOffset})];case 18:if(!(null==($=w.sent())?void 0:$.ok))return f("Server request failed"),[3,28];return d(),[3,28];case 19:return en=p.deploymentConfiguration,[4,null==K?void 0:K({buildCommand:en.buildCommand,runCommand:en.runCommand})];case 20:if(!(null==(et=w.sent())?void 0:et.ok))return f("failed configuring deployment"),[3,28];return[4,Q({messageContentsOffset:en.messageContentsOffset})];case 21:if(!(null==(er=w.sent())?void 0:er.ok))return f("Server request failed"),[3,28];return d(),[3,28];case 22:return[4,X({change:p.fileChange})];case 23:if(w.sent().error)return f("file write failed"),[3,28];return d(),t.add(p.fileChange.filePath),[3,28];case 24:return[4,q(ea=p.workflowConfiguration)];case 25:return w.sent(),[4,Z({messageContentsOffset:ea.messageContentsOffset})];case 26:if(!(null==(ei=w.sent())?void 0:ei.ok))return f("Server request failed"),[3,28];return d(),r=!0,[3,28];case 27:(0,r_.A)(v),w.label=28;case 28:return i=!1,[3,3];case 29:return[3,36];case 30:return eo=w.sent(),o=!0,s=eo,[3,36];case 31:if(w.trys.push([31,,34,35]),!(i&&null!=l.return))return[3,33];return[4,l.return()];case 32:w.sent(),w.label=33;case 33:return[3,35];case 34:if(o)throw s;return[7];case 35:return[7];case 36:return es=e.filter(function(e){return t.has(e.filePath)}).map(function(e){return{filePath:e.filePath,changeSummary:e.changeSummary}}),r&&es.push({filePath:ly.v,changeSummary:"Updated app configuration"}),[4,S({changes:es,summary:h})];case 37:if(eu="hash"in(el=w.sent())?el.hash:null,ec="error"in el?el.error:null,!eu)return ec===tR.ic.NOTHING_TO_COMMIT?E({state:"failed",error:"Nothing to commit",canRetryApply:!1}):E({state:"failed",error:"Commit failed: "+ec,canRetryApply:!0}),[2];return[4,R({appliedChanges:es.map(function(e){var t,r,a=e.filePath,i=e.changeSummary,o=n.get(a);return{filePath:a,linesAdded:null!=(t=null==o?void 0:o.added)?t:0,linesRemoved:null!=(r=null==o?void 0:o.removed)?r:0,changeSummary:i}}),commitHash:eu})];case 38:if(!(null==(ed=w.sent())?void 0:ed.ok))return E({state:"failed",error:"Server request failed",canRetryApply:!0}),[2];return E({state:"done"}),m(),I.current=!1,[2]}})})()},[A,T,ee,S,h,O,R,m,F,M,U,J,B,G,V,z,W,j,K,Q,X,q,Z]),et=(0,b.useCallback)(function(){A.update((0,ob.jM)(function(e){null==e||e.forEach(function(e){e.state="preparing"})})),E({state:"idle"}),T.current={state:"idle"},en()},[en,T,A]),er=(0,x.J2)(A),ea=(0,b.useCallback)(function(e){A.update((0,ob.jM)(function(n){n&&"preparing"===n[e].state&&(n[e].checked=!n[e].checked)}))},[A]);return(0,b.useEffect)(function(){v&&ee&&"idle"===T.current.state&&!0!==I.current&&(I.current=!0,en())},[en,v,T,I,ee]),{state:Y,multistepActions:er,toggleMultistepActionCheck:ea,applyActions:en,reapplyActions:et}}var l_=t(74286),lS=t(90991),lA=(0,eo.x)({wrapper:[es.wp.width("100%"),es.wp.p(8),es.wp.borderRadius(4)],actionRowWrapper:[es.wp.height(24)],actionRow:[es.wp.maxWidth("100%"),es.wp.flex.growAndShrink(1),es.wp.overflow("hidden")],handleOverflow:[es.wp.maxWidth("100%"),es.wp.flex.growAndShrink(1),es.wp.overflow("hidden")],alignBaseline:[es.wp.height("100%"),{alignItems:"baseline"}],iconWrapper:[es.wp.width(20)],errorText:[es.wp.color.accentNegativeStronger]});function lk(e){var n=e.action,t=n.state;switch(t){case"preparing":return null;case"scheduled":case"skipped":return(0,p.Y)(l_.A,{});case"working":return(0,p.Y)(a$.A,{});case"done":return(0,p.Y)(rL.A,{color:U.LU.accentPositiveDefault});case"failed":return(0,p.Y)(z.m_,{tooltip:n.error,children:(0,p.Y)(rJ.A,{color:U.LU.accentNegativeDefault})});default:(0,r_.A)(t)}}function lC(e){var n=e.action,t=n.$kind;switch(t){case"workspaceToolNudge":return null;case"shellCommand":return(0,p.FD)(W.S,{align:"center",row:!0,gap:4,css:lA.handleOverflow,children:[(0,p.Y)(sR.A,{}),(0,p.FD)(W.S,{row:!0,gap:2,css:lA.alignBaseline,children:["Run shell command:"," ",(0,p.Y)(G.EY,{multiline:!1,variant:"code",children:n.shellCommand.command})]})]});case"packageInstall":return(0,p.FD)(W.S,{align:"center",row:!0,gap:4,css:lA.handleOverflow,children:[(0,p.Y)(s4.A,{}),(0,p.FD)(W.S,{row:!0,gap:2,css:lA.alignBaseline,children:["Install dependencies:",n.packageInstall.packageList.map(function(e){return(0,p.Y)(V.a,{text:e},e)})]})]});case"fileChange":return(0,p.FD)(W.S,{align:"center",row:!0,gap:4,css:lA.handleOverflow,children:[(0,p.Y)(li.A,{}),(0,p.FD)(W.S,{row:!0,gap:4,css:lA.alignBaseline,children:["Edit file",(0,p.Y)(G.EY,{multiline:!1,variant:"code",children:n.fileChange.filePath})]})]});case"runConfiguration":return(0,p.FD)(W.S,{align:"center",row:!0,gap:4,css:lA.handleOverflow,children:[(0,p.Y)(lS.A,{}),(0,p.FD)(W.S,{row:!0,gap:4,css:lA.alignBaseline,children:["Configure ",(0,p.Y)(V.a,{text:n.runConfiguration.workflowName})," ","workflow"]})]});case"deploymentConfiguration":var r=n.deploymentConfiguration.buildCommand.length>0,a=n.deploymentConfiguration.runCommand.length>0,i="";return r&&!a?i="Configure deployment build command":!r&&a?i="Configure deployment run command":r&&a&&(i="Configure deployment build and run commands"),(0,p.FD)(W.S,{align:"center",row:!0,gap:4,css:lA.handleOverflow,children:[(0,p.Y)(sQ.A,{}),(0,p.Y)(W.S,{row:!0,gap:4,css:lA.alignBaseline,children:(0,p.Y)(W.S,{row:!0,align:"center",children:i})})]});case"workflowConfiguration":return(0,p.FD)(W.S,{align:"center",row:!0,gap:4,css:lA.handleOverflow,children:[(0,p.Y)(lS.A,{}),(0,p.FD)(W.S,{row:!0,gap:4,css:lA.alignBaseline,children:["Configure ",(0,p.Y)(V.a,{text:n.workflowConfiguration.workflowName})," ","workflow"]})]});default:(0,r_.A)(t)}}function lY(e){var n=e.sessionId,t=e.eventId,r=e.sortedActions,a=e.changesSummary,i=e.changeStatus,o=e.onCancel,s=lw({sessionId:n,eventId:t,handleAutoRestart:e.handleAutoRestart,doAutoApplyChanges:e.doAutoApplyChanges,sortedActions:r,changesSummary:a,prevUserMessageContent:e.prevUserMessageContent}),l=s.applyActions,u=s.reapplyActions,c=s.multistepActions,d=s.toggleMultistepActionCheck,f=s.state,h=(0,b.useMemo)(function(){return!!("failed"===f.state||(null==c?void 0:c.some(function(e){return"failed"===e.state})))},[c,f.state]);return c&&0!==c.length&&("applied"!==i.state||h)?(0,p.Y)(lE,{multistepActions:c,multistepState:f,onCancel:o,applyActions:l,reapplyActions:u,toggleMultistepActionCheck:d}):null}function lE(e){var n=e.multistepActions,t=e.multistepState,r=e.onCancel,a=e.applyActions,i=e.reapplyActions,o=e.toggleMultistepActionCheck,s=(0,b.useMemo)(function(){return null==n?void 0:n.some(function(e){return"preparing"===e.state&&!0===e.checked})},[n]);return(0,p.FD)(ex.ui,{elevated:!0,css:lA.wrapper,gap:8,children:[(0,p.Y)(G.EY,{children:"Apply all:"}),(0,p.FD)(W.S,{gap:8,css:lA.handleOverflow,children:[(0,p.Y)(W.S,{gap:4,css:lA.handleOverflow,children:null==n?void 0:n.map(function(e,n){return(0,p.FD)(W.S,{row:!0,gap:8,css:lA.actionRow,children:[(0,p.Y)(W.S,{align:"center",justify:"center",css:lA.iconWrapper,children:"preparing"===e.state?(0,p.Y)(nQ.S,{name:e.action.$kind,checked:e.checked,onChange:function(){o(n)}}):(0,p.Y)(lk,{action:e})}),(0,p.Y)(W.S,{align:"center",css:lA.actionRowWrapper,children:(0,p.Y)(lC,{action:e.action})})]},n+"---"+e.action.$kind)})}),"idle"===t.state?(0,p.FD)(W.S,{row:!0,gap:8,children:[(0,p.Y)(M.$n,{text:"Cancel",onClick:r}),(0,p.Y)(M.$n,{text:"Ok",colorway:"primary",disabled:!s,onClick:a})]}):null,"failed"===t.state?(0,p.FD)(W.S,{row:!0,gap:16,css:lA.errorText,align:"center",children:[(0,p.Y)(W.S,{children:t.error}),t.canRetryApply?(0,p.Y)(M.$n,{text:"Try again",colorway:"primary",onClick:i}):null]}):null]})]})}function lx(e){var n=e.runState,t=e.onClick,r=n===I.g32.AGENT_STATE_PAUSING,a=(0,g._)((0,b.useState)(!1),2),i=a[0],o=a[1],s=(0,b.useCallback)(function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:return[4,t()];case 1:return e.sent(),o(!1),[2]}})})()},[t]);return(0,p.FD)(tz.Wv,{label:"Stop ".concat(tR.g$," confirmation"),placement:"top",trigger:"click",isOpen:i,onOpenChange:o,children:[(0,p.Y)(M.$n,{text:r?"Stopping ".concat(tR.g$,"…"):"Stop ".concat(tR.g$),colorway:"red",disabled:r}),(0,p.FD)(W.S,{p:8,gap:8,children:[(0,p.FD)(G.EY,{children:["Are you sure you want to stop"," ",(0,tR.Nn)({variant:"casual",capitalizeFirstChar:!1}),"?"]}),(0,p.FD)(W.S,{row:!0,gap:4,children:[(0,p.Y)(M.$n,{text:"Cancel",onClick:function(){return o(!1)}}),(0,p.Y)(M.$n,{text:"Stop ".concat(tR.g$),onClick:s,colorway:"red"})]})]})]})}var lT=t(63841),lD=t(6912),lI=t(69685),lR=t(15930),lN=(0,eo.x)({buttonRow:[es.wp.flex.wrap],errorContainer:[es.wp.rowWithGap(8),es.wp.align.center,es.wp.color.accentNegativeDefault],statusBanner:[es.wp.width("100%")]});function lO(e){var n,t,r,a,i,o,s,l,u,c,d,f,h,m=e.fileChanges,S=e.commitId,A=e.summary,C=e.sortedActions,Y=e.eventId,E=e.sessionId,D=e.openAiChatSettingsPanel,R=e.openPane,N=e.removePane,O=e.hasAnyWorkspaceProposedActions,P=e.isLatestProposedActionsEvent,F=e.isMessageComplete,U=e.prevUserMessageContent,L=(0,lp.Z)("workspace-assistant-auto-apply-changes"),J=(0,lp.Z)("workspace-assistant-auto-restart-repl"),H=(0,tA.g)("assistantAutoApplyChanges","assistantAutoRestartRepl").preferences,B=1===m.length&&!O,V=m.length>0,$=H.assistantAutoApplyChanges&&L.isDone,z=lh().isGitInitialized,j=(0,_.jt)(),q=(0,T.hT)(),Z=(0,T.zS)(),K=j&&(q===I.g32.AGENT_STATE_RUNNING||q===I.g32.AGENT_STATE_PAUSING),Q=(0,g._)((0,b.useState)(null),2),X=Q[0],ee=Q[1],en=(0,b.useCallback)(function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){try{Z()}catch(e){ee("Unable to pause agent: ".concat(e))}return[2]})})()},[Z]),et=lr({sessionId:E,eventIdWhichProposedChanges:Y}),er=m.some(function(e){return e.state===I.u5I.GENERATION_REGENERATING}),ea=F&&"pending"===et.state&&!er,ei=sM({changeStatus:et,removePane:N}).onOpenTemporaryDiffPane,eo=(t=(n={filePaths:(0,b.useMemo)(function(){return m.map(function(e){return e.filePath})},[m]),commitId:S}).commitId,r=n.filePaths,a=(0,k.A)().fs,o=(i=(0,g._)((0,b.useState)(null),2))[0],s=i[1],l=(0,ic.A)(function(e){return(0,y._)(function(){var n,a,i,o,s,l,u,c,d,f;return(0,w.YH)(this,function(p){switch(p.label){case 0:if(n=null,a={},!t)return[2,{error:lT.uA.NO_COMMITS}];i=!0,o=!1,s=void 0,p.label=1;case 1:p.trys.push([1,6,7,8]),l=r[Symbol.iterator](),p.label=2;case 2:if(i=(u=l.next()).done)return[3,5];return c=u.value,[4,e.getFileContents({path:c,revision:t,convertToBase64:!1})];case 3:(d=p.sent()).error?n=d.error:d.content&&(a[c]=d.content),p.label=4;case 4:return i=!0,[3,2];case 5:return[3,8];case 6:return f=p.sent(),o=!0,s=f,[3,8];case 7:try{i||null==l.return||l.return()}finally{if(o)throw s}return[7];case 8:return[2,n?{error:n}:{fileContents:a,error:null}]}})})()},[t,r],{keepStaleResult:!0}),(0,b.useEffect)(function(){(null==l?void 0:l.error)&&s(l.error)},[l]),c=(u=(0,g._)((0,b.useState)({}),2))[0],d=u[1],(0,b.useEffect)(function(){(e=a,n=r,(0,y._)(function(){var t,r;return(0,w.YH)(this,function(a){switch(a.label){case 0:return t={},r=null,[4,Promise.all(n.map(function(n){return(0,y._)(function(){var a;return(0,w.YH)(this,function(i){switch(i.label){case 0:return[4,e.readFile(n)];case 1:return(a=i.sent()).error?r=a.error:t[n]=a.content.toString(),[2]}})})()}))];case 1:return a.sent(),[2,{contents:t,error:r}]}})})()).then(function(e){var n=e.contents,t=e.error;d(n),t&&s(t)});var e,n,t=r.map(function(e){return a.watchTextFile(e,{onChange:function(){return(0,y._)(function(){var n;return(0,w.YH)(this,function(t){switch(t.label){case 0:return[4,a.readFile(e)];case 1:if((n=t.sent()).error)return s(n.error),[2];return d(function(t){return(0,nh._)((0,eg._)({},t),(0,v._)({},e,n.content.toString()))}),[2]}})})()}})});return function(){t.forEach(function(e){return e()})}},[a,r]),(0,b.useMemo)(function(){if(null==l||null==c)return{changedPaths:[],hasAnyChangedPaths:!1,error:o,isLoading:!0};if(o)return{changedPaths:[],hasAnyChangedPaths:!1,error:o,isLoading:!1};var e=r.filter(function(e){if(!l.fileContents)return!1;var n=c[e],t=l.fileContents[e];return void 0!==n&&void 0!==t&&c[e]!==l.fileContents[e]});return{changedPaths:e,hasAnyChangedPaths:e.length>0,error:o,isLoading:!1}},[c,l,r,o])),el=eo.changedPaths,eu=eo.hasAnyChangedPaths,ec=eo.isLoading,ed=(0,n2.d_)(),ef=(0,g._)((0,b.useState)(!1),2),ep=ef[0],eh=ef[1],em=(f=(0,_.NC)(),h=(0,x.J2)(f.sessions.get(E)),(0,b.useCallback)(function(){return null==h?void 0:h.appendEvent({kind:"message",intent:I.qRv.ITERATIVE_AGENT,modelType:I.e3q.ADVANCED,message:"The recent code changes you proposed are outdated. Please try generating new file edits which accomplish the same goal.",uploadedFiles:[],useRag:!1,webviewTargetedElement:void 0,fileContext:[],mostRecentFile:void 0})},[h])),ev=(0,b.useCallback)(function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){return H.assistantAutoRestartRepl&&(ed(),eh(!0)),[2]})})()},[H.assistantAutoRestartRepl,ed]),eb=(0,b.useMemo)(function(){return!!$&&!!P&&!!ea&&!K},[K,ea,$,P]),ey=lw({sessionId:E,eventId:Y,handleAutoRestart:ev,doAutoApplyChanges:eb,sortedActions:C,changesSummary:A,prevUserMessageContent:U}),ew=ey.applyActions,e_=ey.state,eS="working"===e_.state,eA="failed"===e_.state?e_.error:void 0,ek="failed"===e_.state&&e_.canRetryApply,eC=(0,b.useCallback)(function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){return ew(),L.isDone||L.setAsDone(),[2]})})()},[ew,L]),eY=(0,g._)((0,b.useState)(!1),2),eE=eY[0],ex=eY[1],eT=(0,b.useCallback)(function(){if(B)return eC();ex(!0)},[eC,B]),eD=(0,b.useCallback)(function(){var e=m.map(function(e){return{left:{path:e.filePath,data:{type:"git",revision:S}},right:{path:e.filePath,data:{type:"generatedFile",content:e.content}}}});R({type:"diff",data:e}),ei(e)},[S,R,m,ei]);(0,b.useEffect)(function(){eb&&eT()},[eb,eT]);var eI=(0,p.Y)(tU.N,{css:lN.statusBanner,icon:(0,p.Y)(ad.A,{}),colorway:"teal",text:(0,p.FD)(p.FK,{children:[tR.BP," can automatically apply proposed changes to your App. You can enable this behavior in"," ",(0,p.Y)(M.$n,{css:es.wp.display.inlineFlex,variant:"underlined",size:"small",onClick:D,text:"".concat(tR.BP," Settings")}),"."]}),closable:!0,closeAction:L.setAsDone}),eR=(0,p.Y)(tU.N,{css:lN.statusBanner,icon:(0,p.Y)(ad.A,{}),colorway:"teal",text:(0,p.FD)(p.FK,{children:[tR.BP," automatically restarted your App after applying file changes. You can disable this behavior in"," ",(0,p.Y)(M.$n,{css:es.wp.display.inlineFlex,variant:"underlined",size:"small",onClick:D,text:"".concat(tR.BP," Settings")}),"."]}),closable:!0,closeAction:J.setAsDone}),eN=K?(0,p.FD)(G.EY,{variant:"small",color:"dimmer",children:[(0,tR.Nn)({capitalizeFirstChar:!0})," is currently active. Changes cannot be applied until ",(0,tR.Nn)()," finishes working."]}):null;return P&&z?eS||er?(0,p.FD)(W.S,{row:!0,gap:8,align:"center",children:[er?(0,p.Y)(G.EY,{color:"dimmer",children:"Thinking…"}):eS?(0,p.Y)(G.EY,{color:"dimmer",children:"Applying changes…"}):null,(0,p.Y)(a$.A,{})]}):F?(0,p.FD)(W.S,{gap:8,align:"start",children:[L.isDone?null:eI,(0,p.Y)(lP,{changeStatus:et,isLoadingFilesChangedSinceCommit:ec,hasAnyChangedPaths:eu,changedPaths:el,openPane:R,handleRetryProposingChanges:em,handleApplyChanges:eT,isAgentActive:K,agentRunState:q,handlePauseAgent:en,assistantAutoApplyChanges:H.assistantAutoApplyChanges,openMultiDiffPane:eD,isMultistepApplyUIVisible:eE,hasSingleFileChangeOnly:B,hasAnyFileChanges:V}),eN,null==X?null:(0,p.FD)(W.S,{css:lN.errorContainer,children:[(0,p.Y)(lI.A,{}),X,(0,p.Y)(M.$n,{text:"Try again",onClick:en,variant:"underlined",iconLeft:(0,p.Y)(lR.A,{})})]}),null==eA?null:(0,p.FD)(W.S,{css:lN.errorContainer,children:[(0,p.Y)(lI.A,{}),eA,ek?(0,p.Y)(M.$n,{text:"Try again",onClick:eT,variant:"underlined",iconLeft:(0,p.Y)(lR.A,{})}):null]}),!ep||J.isDone?null:eR,eE?(0,p.Y)(lY,{sessionId:E,eventId:Y,sortedActions:C,changesSummary:A,changeStatus:et,onCancel:function(){ex(!1)},handleAutoRestart:ev,doAutoApplyChanges:eb,prevUserMessageContent:U}):null]}):null:null}function lP(e){var n=e.changeStatus,t=e.isLoadingFilesChangedSinceCommit,r=e.hasAnyChangedPaths,a=e.changedPaths,i=e.openPane,o=e.handleRetryProposingChanges,s=e.handleApplyChanges,l=e.isAgentActive,u=e.agentRunState,c=e.handlePauseAgent,d=e.assistantAutoApplyChanges,f=e.openMultiDiffPane,h=e.isMultistepApplyUIVisible,m=e.hasSingleFileChangeOnly,v=e.hasAnyFileChanges;return h||"pending"!==n.state?null:t?(0,p.Y)(W.S,{css:lN.buttonRow,row:!0,gap:8,align:"center",children:(0,p.Y)(M.$n,{text:"Validating code changes…",iconLeft:(0,p.Y)(a$.A,{}),disabled:!0})}):r?(0,p.FD)(p.FK,{children:[(0,p.Y)(lg,{changedPaths:a,openPane:i}),(0,p.FD)(W.S,{css:lN.buttonRow,row:!0,gap:8,align:"center",children:[(0,p.Y)(M.$n,{text:"Retry ".concat(lf.go),onClick:o,iconLeft:(0,p.Y)(lR.A,{})}),(0,p.Y)(M.$n,{text:"Overwrite and apply",onClick:s,iconLeft:(0,p.Y)(rL.A,{}),colorway:"warning"})]})]}):(0,p.FD)(W.S,{css:lN.buttonRow,row:!0,gap:8,align:"center",children:[l?(0,p.Y)(lx,{runState:u,onClick:c}):null,(0,p.Y)(z.m_,{tooltip:"Stop agent before applying changes",placement:"top",isDisabled:!l,children:(0,p.Y)(M.$n,{text:m?"Apply":"Apply all",onClick:s,iconLeft:(0,p.Y)(rL.A,{}),disabled:l,colorway:d?"green":"primary"})}),v?(0,p.Y)(M.$n,{text:"Preview code changes",onClick:f,iconLeft:(0,p.Y)(lD.A,{}),disabled:l}):null]})}function lF(e){var n=e.proposedActions,t=(0,iv._)(e,["proposedActions"]);return n&&(n.fileChanges.length>0||n.hasAnyWorkspaceProposedActions)?(0,p.Y)(lO,(0,eg._)({},t,n)):null}function lU(){return(0,p.Y)(W.S,{px:16,py:8,children:(0,p.Y)(tU.N,{text:"".concat(tR.BP," saved your work"),icon:(0,p.Y)(rL.A,{}),colorway:"primary"})})}var lL=t(54759),lM=t(27040),lJ=function(e){return e.None="none",e.Starter="starter",e.Paid="paid",e}({}),lH=(0,eo.x)({root:[es.wp.borderRadius(),es.wp.border({color:U.LU.outlineDimmest})],icon:{paddingTop:3},footer:[{"@container (max-width: 400px)":[es.wp.colWithGap(8),es.wp.align.start,es.wp.height("100%")]}],footerActions:[es.wp.color.foregroundDimmer,es.wp.mr(4),{"@container (max-width: 400px)":{width:"100%"}}],footerSmallButtonContainer:[es.wp.display.inlineFlex,{"@container (max-width: 400px)":[es.wp.flex.grow(1)]}],footerSmallButton:[{marginTop:-10,marginRight:-4},{"@container (max-width: 400px)":{margin:0}}],timestamp:[es.wp.rowWithGap(4),es.wp.flex.wrap],summaryContainer:[es.wp.width(200)]});function lB(e){var n=e.commitId,t=e.changeSetSummary,r=e.date,a=e.isAtCheckpoint,i=e.isRestoring,o=e.wasReverted,s=e.isLoading,l=e.onCommitRestore,u=e.onOpenCommit,c=e.restoreButtonText,d=e.usageIndicatorVariant,f=(0,O.A)(),h=(0,sd.R)(f).orgId,m=(0,sf.M)(h).hasUserExhaustedMonthlyCredits,v="starter"===d?"Used 1 ".concat(ox.Lm," plan ").concat(tR.BP," ").concat(lf.go):"The ".concat(lf.go," for this checkpoint used ").concat(lf.a7,"\xa2 ").concat(m?"":"of your usage credits",".");return(0,p.FD)(ex.ui,{elevated:!0,css:lH.root,py:4,px:8,row:!0,gap:8,children:[(0,p.Y)(W.S,{css:lH.icon,children:(0,p.Y)(i$,{color:U.LU.foregroundDimmest})}),(0,p.FD)(W.S,{grow:!0,shrink:!0,gap:4,children:[(0,p.FD)(W.S,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,p.FD)(W.S,{row:!0,gap:4,children:[(0,p.Y)(G.EY,{maxLines:2,color:o&&!a?"dimmer":"default",style:{textDecoration:o&&!a?"line-through":void 0},children:a?"Currently at checkpoint":"Checkpoint made"}),o&&!a?(0,p.Y)(G.EY,{color:"dimmer",children:"Reverted"}):null]}),"none"!==d?(0,p.Y)(z.m_,{tooltip:v,placement:"top",children:(0,p.Y)(lM.A,{})}):null]}),(0,p.Y)(W.S,{children:void 0!==s&&s?(0,p.Y)(W.S,{css:lH.summaryContainer,children:(0,p.Y)(lL.Ay,{speed:2,backgroundColor:U.LU.backgroundHighest,foregroundColor:U.LU.backgroundHigher,height:18,children:(0,p.Y)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"200",height:"16"})})}):t?(0,p.Y)(G.EY,{color:"dimmer",variant:"small",children:t}):null}),(0,p.FD)(W.S,{css:lH.footer,row:!0,align:"end",children:[(0,p.FD)(W.S,{row:!0,gap:8,children:[r?(0,p.Y)(W.S,{css:lH.timestamp,style:{color:U.LU.foregroundDimmer},children:(0,p.Y)(eP.Dc,{textVariant:"small",live:!0,date:r})}):null,n?(0,p.Y)(lV,{commitId:n,onOpenCommit:u}):null]}),(0,p.Y)(W.S,{css:lH.footerActions,grow:!0,shrink:!0,row:!0,justify:"end",children:n&&l&&!a?(0,p.Y)(z.m_,{tooltip:"Already at this checkpoint",isDisabled:!a,css:lH.footerSmallButtonContainer,children:(0,p.Y)(M.$n,{css:lH.footerSmallButton,onClick:l,iconLeft:i?(0,p.Y)(a$.A,{}):o?(0,p.Y)(lR.A,{}):(0,p.Y)(sg.A,{}),disabled:i||a,size:"small",variant:"underlinedOnHover",text:o?"Restore checkpoint":void 0===c?"Go to this checkpoint":c})}):null})]})]})]})}function lV(e){var n=e.commitId,t=e.onOpenCommit;return(0,p.FD)(W.S,{css:lH.timestamp,style:{color:U.LU.foregroundDimmer},children:[(0,p.Y)(G.EY,{variant:"small",multiline:!1,children:"•"}),t?(0,p.Y)(M.$n,{variant:"underlinedOnHover",text:n.slice(0,8),size:"small",onClick:function(){return t(n)}}):(0,p.Y)(G.EY,{variant:"small",children:n})]})}var l$=t(56120),lG=(0,eo.x)({errorContainer:[es.wp.color.accentNegativeDefault]});function lz(e){var n=e.commitHash,t=e.created,r=e.onOpenCommit,a=e.onRestoreToCommit,i=e.isRestoring,o=e.error,s=void 0===o?null:o,l=e.currentCommit,u=void 0===l?null:l,c=e.commitDetails,d=void 0===c?null:c,f=e.isLoading,h=e.usageIndicatorVariant,m=(null==u?void 0:u.hash)===n,v=(null==u?void 0:u.trailers[l$.aT])===n;return(0,p.FD)(W.S,{px:16,py:8,gap:8,children:[s?(0,p.Y)(W.S,{css:lG.errorContainer,children:s}):null,(0,p.Y)(lB,{commitId:n,changeSetSummary:null==d?void 0:d.subject,date:t,isAtCheckpoint:!!(v||m),isRestoring:void 0!==i&&i,onCommitRestore:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(!a)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,a()];case 2:case 3:return e.sent(),[3,4];case 4:return[2]}})})()},onOpenCommit:r,isLoading:void 0!==f&&f,usageIndicatorVariant:h})]})}function lW(e){var n=e.commitHash,t=e.created,r=e.onOpenCommit,a=e.onRestoreToCommit,i=(0,g._)((0,b.useState)(!1),2),o=i[0],s=i[1],l=(0,g._)((0,b.useState)(null),2),u=l[0],c=l[1],d=(0,g._)((0,b.useState)(!0),2),f=d[0],h=d[1],m=(0,g._)((0,b.useState)(null),2),v=m[0],_=m[1],S=(0,g._)((0,b.useState)(null),2),A=S[0],k=S[1],C=(0,g._)((0,b.useState)(!0),2),Y=C[0],E=C[1];return(0,ic.A)(function(e){return(0,y._)(function(){var t,r,a,i;return(0,w.YH)(this,function(o){switch(o.label){case 0:return[4,Promise.all([e.getCommit({commit:"HEAD"}),e.getCommit({commit:n})])];case 1:return r=(t=g._.apply(void 0,[o.sent(),2]))[0],a=t[1],r.error?_(null):(i={},Object.entries(r.trailers||{}).forEach(function(e){var n=(0,g._)(e,2),t=n[0],r=n[1];i[t]=null!=r?r:""}),_({hash:r.hash,trailers:i})),a.error?k(null):k({subject:a.subject}),h(!1),[2,{error:null}]}})})()},[n]),(0,b.useEffect)(function(){if(Y){var e=setTimeout(function(){E(!1)},3e3);return function(){return clearTimeout(e)}}},[Y]),(0,p.Y)(lz,{commitHash:n,created:t,onOpenCommit:r,onRestoreToCommit:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){if(!a)return[2];s(!0);try{a(),c(null)}catch(e){c("Failed to restore to checkpoint")}finally{s(!1)}return[2]})})()},isRestoring:o,error:u,currentCommit:v,commitDetails:A,isLoading:f,usageIndicatorVariant:lJ.None})}var lj=(0,eo.x)({costInfo:[es.wp.height(24)]});function lq(e){var n=e.eventId,t=e.sessionId,r=e.hasUserExhaustedMonthlyCredits,a=e.didCountEditRequest,i=lr({sessionId:t,eventIdWhichProposedChanges:n});return(0,p.Y)(W.S,{grow:!0,shrink:!0,row:!0,gap:4,justify:"start",children:a&&"pending"===i.state?(0,p.Y)(W.S,{css:lj.costInfo,row:!0,align:"center",children:(0,p.Y)(z.m_,{tooltip:"This ".concat(lf.go," used ").concat(lf.a7,"\xa2 ").concat(r?"":"of your usage credits","."),placement:"bottom",children:(0,p.Y)(lM.A,{color:U.LU.foregroundDimmer})})}):null})}var lZ=t(90479),lK=t(15801),lQ=(0,eo.x)({revertText:[es.wp.color.orangeStronger,es.wp.fontWeight.medium],mergeText:[es.wp.color.purpleStronger,es.wp.fontWeight.medium],pullRequestId:[es.wp.fontWeight.medium],hash:[es.wp.fontWeight.medium],filePathPrefix:[es.wp.color.foregroundDimmest],commitBody:[es.wp.font.code,{whiteSpace:"pre-wrap"},{fontSize:U.LU.fontSizeSmall}],clickableName:[es.wp.cursor.pointer,{"&:hover":{textDecoration:"underline"}}],tooltip:[es.wp.display.inlineFlex,es.wp.rowWithGap(4),es.wp.align.center],path:[{fontSize:U.LU.fontSizeSmall},es.wp.font.code],currentBranchIndicator:[es.wp.height(16),es.wp.width(16),es.wp.align.center],currentBranchDot:[es.wp.height(6),es.wp.width(6),es.wp.backgroundColor.accentPrimaryStronger,es.wp.borderRadius("full")],branchNameWrapper:[es.wp.flex.row,es.wp.align.center],fixTooltipDisplay:{"& > span":{display:"inline-block"}},headingWrapper:[es.wp.display.inlineFlex,es.wp.rowWithGap(4),es.wp.align.center,es.wp.flex.shrink(1),es.wp.overflow("hidden")],headingRemote:[{verticalAlign:"text-bottom"},es.wp.mr(4)],headingCurrent:[es.wp.px(4)],current:[es.wp.position.relative,es.wp.top("-1px"),es.wp.display.inlineFlex,es.wp.pl(2),es.wp.pr(8)],icon:[{verticalAlign:"baseline !important"},es.wp.mr(4)],bodyContainer:[es.wp.border({color:U.LU.outlineDimmest,direction:"full"}),es.wp.borderRadius(8),es.wp.p(16)]});function lX(e){var n=e.text,t=e.className;return(0,p.Y)("span",{className:t,css:lQ.revertText,children:n})}function l0(e){var n=e.text,t=e.className;return(0,p.Y)("span",{className:t,css:lQ.mergeText,children:n})}function l1(e){var n,t=e.id,r=e.hash,a=e.className;return n=void 0===r||r?"string"==typeof t&&t.startsWith("#")?t:"#".concat(t):"string"==typeof t&&t.startsWith("#")?t.slice(1):"".concat(t),(0,p.Y)("span",{className:a,css:lQ.pullRequestId,children:n})}function l2(e){var n=e.hash,t=e.length,r=e.className;return(0,p.Y)("span",{className:r,css:lQ.hash,children:n.slice(0,(void 0===t?8:t)+1)})}function l3(e){var n=e.subject,t=e.remoteName,r=e.quoted,a=void 0!==r&&r,i=e.className;return t?(0,p.Y)(lZ.Ay,{className:i,background:!1,lineBreaks:!0,themed:!0,useRemarkGfm:!0,remarkGitHubOptions:{repository:t},children:a?'"'.concat(n,'"'):n}):(0,p.Y)("span",{className:i,children:a?'"'.concat(n,'"'):n})}function l4(e){var n=e.body,t=e.view,r=e.className;return"Source"===(void 0===t?"Source":t)?(0,p.Y)(W.S,{css:lQ.bodyContainer,children:(0,p.Y)("pre",{className:r,css:lQ.commitBody,children:n})}):(0,p.Y)(W.S,{css:lQ.bodyContainer,children:(0,p.Y)(lZ.Ay,{className:r,background:!1,mentionsLink:!0,lineBreaks:!0,themed:!0,useRemarkGfm:!0,children:n})})}function l5(){return(0,p.Y)("span",{css:lQ.fixTooltipDisplay,children:(0,p.Y)(z.m_,{tooltip:"This is your current branch",children:(0,p.Y)(W.S,{css:lQ.currentBranchIndicator,children:(0,p.Y)(W.S,{css:lQ.currentBranchDot})})})})}function l7(e){var n=e.name,t=e.remote,r=e.current,a=void 0!==r&&r,i=e.heading,o=void 0!==i&&i,s=e.icon,l=void 0!==s&&s,u=e.onClick,c=e.className,d=null;return(!0===l?d=o?(0,p.Y)(lK.A,{size:16}):(0,p.Y)(lK.A,{css:lQ.icon,size:12}):l&&(d=l),o)?(0,p.FD)("div",{css:lQ.headingWrapper,children:[d,(0,p.FD)(G.EY,{variant:"subheadDefault",multiline:!1,children:[t?(0,p.FD)(p.FK,{children:[(0,p.Y)("span",{css:lQ.headingRemote,children:t}),(0,p.Y)("span",{css:lQ.headingRemote,children:"/"})]}):null,u?(0,p.Y)(l6,{label:"View branch",onClick:u,children:n}):(0,p.Y)("span",{children:n})]}),a?(0,p.Y)("span",{css:o?lQ.headingCurrent:lQ.current,children:(0,p.Y)(l5,{})}):null]}):(0,p.FD)("span",{className:c,css:lQ.branchNameWrapper,children:[d,t?(0,p.FD)("span",{children:[t,"/"]}):null,u?(0,p.Y)(l6,{label:"View branch",onClick:u,children:n}):(0,p.Y)("span",{children:n}),a?(0,p.Y)(l5,{}):null]})}function l9(e){var n=e.path,t=e.prefix,r=e.onClick,a=e.className,i=(0,aU.WP)(n),o=!r&&(i===n||null!==t&&t+i===n);return(0,p.Y)("span",{css:lQ.fixTooltipDisplay,children:(0,p.Y)(z.m_,{maxWidth:"auto",tooltip:(0,p.Y)(l8,{path:n,openable:!!r}),isDisabled:o,children:r?(0,p.FD)(l6,{label:"Open ".concat(i),onClick:r,className:a,children:[t?(0,p.Y)("span",{css:lQ.filePathPrefix,children:t}):null,(0,p.Y)("span",{children:i})]}):(0,p.FD)("span",{className:a,children:[t?(0,p.Y)("span",{css:lQ.filePathPrefix,children:t}):null,(0,p.Y)("span",{children:i})]})})})}function l8(e){var n=e.path,t=e.openable;return(0,p.FD)("span",{css:lQ.tooltip,children:[void 0===t||t?(0,p.Y)("span",{children:"Open"}):null,(0,p.Y)("span",{css:lQ.path,children:n})]})}function l6(e){var n=e.label,t=e.onClick,r=e.className,a=e.children;return(0,p.Y)("span",{className:r,css:lQ.clickableName,role:"button",tabIndex:-1,"aria-label":n,onClick:t,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(null==t||t())},children:a})}var ue=(0,eo.x)({source:[es.wp.color.foregroundDimmest],sourceArrow:[es.wp.mx(8)]});function un(e){var n=e.path,t=e.prefix,r=e.source,a=e.onClick;return(0,p.FD)(W.S,{grow:!0,shrink:!0,align:"center",row:!0,gap:8,children:[(0,p.Y)(aV.A,{path:n}),(0,p.FD)(G.EY,{multiline:!1,children:[(0,p.Y)(l9,{path:n,prefix:t,onClick:a}),r?(0,p.FD)("span",{css:ue.source,children:[(0,p.Y)("span",{css:ue.sourceArrow,children:"←"}),(0,p.Y)(l9,{path:r})]}):null]})]})}var ut=t(60711),ur=(0,eo.x)({list:[es.wp.px(4),es.wp.colWithGap(2)]});function ua(e){var n,t=e.isOpen,r=e.files,a=e.commitHash,i=e.callback,o=(0,ni.A)(i),s=(0,b.useCallback)(function(){var e;null==(e=o.current)||e.call(o,!0)},[o]),l=(0,b.useCallback)(function(){var e;null==(e=o.current)||e.call(o,!1)},[o]),u=(n=a,(0,ic.A)(function(e){return(0,y._)(function(){var t,r;return(0,w.YH)(this,function(a){switch(a.label){case 0:if(!n)return[2,{error:lT.uA.INVALID_REFERENCE}];return[4,e.status()];case 1:if((t=a.sent()).error)return[2,{error:t.error}];return[4,e.getCommit({commit:n})];case 2:if((r=a.sent()).error)return[2,{error:r.error}];return[2,r]}})})()},[n])),c=u&&!u.error&&u.subject;return(0,p.Y)(tF.a,{isOpen:t,onRequestClose:l,children:t?(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(G.Y9,{level:2,children:u?"Restore to ".concat(null!=c?c:"".concat(tR.BP," checkpoint")):(0,p.Y)(a$.A,{})}),0===r.length?(0,p.Y)(G.EY,{multiline:!1,children:"No file changes for this commit."}):(0,p.FD)(p.FK,{children:[(0,p.Y)(ui,{files:r}),(0,p.FD)(W.S,{row:!0,gap:8,justify:"end",children:[(0,p.Y)(M.$n,{text:"Cancel",iconLeft:(0,p.Y)(ut.A,{}),onClick:l}),(0,p.Y)(M.$n,{text:"Restore Commit",iconLeft:(0,p.Y)(sg.A,{}),colorway:"primary",onClick:s})]})]})]}):null})}function ui(e){var n=e.files;return(0,p.Y)(W.S,{gap:12,children:(0,p.FD)(W.S,{gap:4,children:[(0,p.Y)(G.EY,{multiline:!1,children:"The following ".concat((0,sh.A)("file",n.length)," will be modified")}),(0,p.Y)(uo,{files:n})]})})}function uo(e){var n=e.files,t=(0,b.useMemo)(function(){return n.length>20?n.slice(0,20):n},[n]);return(0,p.Y)(W.S,{children:(0,p.FD)("ul",{css:ur.list,children:[t.map(function(e){return(0,p.Y)("li",{children:(0,p.Y)(un,{path:e.path,source:e.originalPath})},e.path)}),n.length<=20?null:(0,p.Y)("li",{children:(0,p.FD)(G.EY,{color:"dimmer",children:["… ",n.length-20," more"," ",(0,sh.A)("file",n.length-20)]})})]})})}function us(){var e,n=(0,g._)((0,b.useState)(function(){return{isOpen:!1,files:[]}}),2),t=n[0],r=n[1],a=(e=(0,k.A)().git,(0,b.useCallback)(function(n){var t=n.commitA,r=n.commitB;return(0,y._)(function(){var n,a;return(0,w.YH)(this,function(i){switch(i.label){case 0:return[4,e.status()];case 1:if(null!==(n=i.sent()).error)return[2,{error:n.error}];return[4,e.getChangesBetweenCommits({a:t,b:r})];case 2:if(null!==(a=i.sent()).error)return[2,{error:a.error}];return[2,{error:null,files:a.files}]}})})()},[e]));return{confirmRestoreToCommit:(0,b.useCallback)(function(e){return new Promise(function(n,t){return(0,y._)(function(){var i,o;return(0,w.YH)(this,function(s){switch(s.label){case 0:return[4,a({commitA:"HEAD",commitB:e})];case 1:if((i=s.sent()).error)return t(i.error),[2];if(0===i.files.length)return t("No files changed"),[2];return o=function(e){r({isOpen:!1,files:[],callback:void 0,commitHash:void 0}),n(e)},r({isOpen:!0,files:i.files,callback:o,commitHash:e}),[2]}})})()})},[a]),restoreConfirmationModal:(0,b.useMemo)(function(){return(0,p.Y)(ua,(0,eg._)({},t))},[t])}}var ul=t(54634);function uu(e){var n=e.children,t=e.intent,r=e.showUpsell,a=e.date;return(0,p.FD)(W.S,{row:!0,gap:8,align:"center",children:[(0,p.Y)(oM.A,{size:24}),(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:tR.BP}),r?(0,p.Y)(oP,{}):null,(0,p.Y)(eP.Dc,{textVariant:"small",textColor:"dimmest",date:a}),(null==t?void 0:t.kind)==="message"?(0,p.Y)(ul.m2,{intent:t.value,icon:{color:U.LU.foregroundDimmest,size:12},text:{color:"dimmest",variant:"small"}}):null,(null==t?void 0:t.kind)==="inline"?(0,p.Y)(ul.vc,{type:t.value,icon:{color:U.LU.foregroundDimmest,size:12},text:{color:"dimmest",variant:"small"}}):null,n]})}function uc(e){var n=e.children,t=e.headerProps,r=void 0===t?{showUpsell:!1,intent:null,date:new Date}:t,a=e.headerActions,i=e.footer,o=e.footerActions,s=(0,iv._)(e,["children","headerProps","headerActions","footer","footerActions"]);return(0,p.FD)(W.S,(0,nh._)((0,eg._)({px:16,py:8,gap:8},s),{children:[(0,p.Y)(uu,(0,nh._)((0,eg._)({},r),{children:a})),n,i||o?(0,p.FD)(W.S,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,p.Y)(W.S,{children:i}),(0,p.Y)(W.S,{grow:!0,shrink:!0,row:!0,gap:8,align:"center",justify:"end",children:o})]}):null]}))}function ud(e){var n=(0,_.Gk)(),t=(0,g._)((0,b.useState)(n),1)[0];switch(e.type){case I.fqQ.MANUALLY_ABORTED:return(0,p.Y)(tU.N,{icon:(0,p.Y)(ad.A,{}),text:"Message was stopped"});case I.fqQ.USAGE_LIMIT:return(0,p.Y)(tU.N,{icon:(0,p.Y)(rJ.A,{}),colorway:"orange",text:"Usage limit reached"});default:return(0,p.Y)(tU.N,{icon:(0,p.Y)(rJ.A,{}),colorway:"red",text:t?"Something went wrong":"Please refresh the page and try again"})}}var uf=t(89328),up=t(80453);function uh(){var e=(0,k.A)().git;return(0,b.useCallback)(function(n){var t=n.commitHash;return(0,y._)(function(){var n,r;return(0,w.YH)(this,function(a){switch(a.label){case 0:return[4,e.status()];case 1:if(null!=(n=a.sent()).error)return[2,{error:n.error}];return[4,e.restoreCommit({commit:t})];case 2:if(r=a.sent(),e.forceRefresh(),null!=r.error)return[2,{error:r.error}];return[2,{}]}})})()},[e])}var um=(0,b.memo)(function(e){var n,t,r,a,i,o,s=e.id,l=e.data,u=e.prevData,c=e.openPane,d=e.removePane,f=e.openAiChatSettingsPanel,h=e.isLastEvent,m=uh(),v=us(),g=v.confirmRestoreToCommit,_=v.restoreConfirmationModal,S=(0,O.A)(),A=(0,sd.R)(S).orgId,k=(0,sf.M)(A).hasUserExhaustedMonthlyCredits,C=si(c),Y=(0,b.useCallback)(function(e,n){return c({type:"webview",data:{ports:{path:e,port:n,type:"local"}}})},[c]),E=(0,o7.Vd)({openFile:C,messageSenderType:I.utd.AI}),x=(0,up.A)({openWebview:Y,ragSources:l.ragSources}),T=(0,b.useCallback)(function(e){return c({type:"git",data:{mode:{type:uf.C.COMMIT,hash:e}}})},[c]),D=l.state===I.qOk.COMPLETE,R=null==(n=l.proposedActions)?void 0:n.didCreateCheckpoint,N=(null==u?void 0:u.type)==="userMessage"?u.content:void 0;return(0,p.FD)(W.S,{children:[_,R?h?(0,p.Y)(lU,{}):(0,p.Y)(lW,{commitHash:null!=(i=null==(t=l.proposedActions)?void 0:t.commitId)?i:"",created:l.created,onOpenCommit:T,onRestoreToCommit:function(){return(0,y._)(function(){var e;return(0,w.YH)(this,function(n){switch(n.label){case 0:if(!(null==(e=l.proposedActions)?void 0:e.commitId))return[2];return[4,g(l.proposedActions.commitId)];case 1:if(!n.sent())return[3,3];return[4,m({commitHash:l.proposedActions.commitId})];case 2:n.sent(),n.label=3;case 3:return[2]}})})()}}):null,(0,p.FD)(uc,{"data-cy":"message-from-ai",headerProps:{showUpsell:!0,date:l.created,intent:l.intent},headerActions:(0,p.Y)(lq,{eventId:s,sessionId:l.sessionId,didCountEditRequest:null!=(o=null==(r=l.proposedActions)?void 0:r.didCountEditRequest)&&o,hasUserExhaustedMonthlyCredits:k}),footer:D&&l.error?(0,p.Y)(ud,{type:l.error}):null,children:[(0,p.Y)(ld,{eventId:s,content:l.content,intent:(null==(a=l.intent)?void 0:a.kind)==="message"?l.intent.value:null,ragSources:l.ragSources,proposedActions:l.proposedActions,sessionId:l.sessionId,openPane:c,removePane:d,markdownCodeComponent:l.isDebugMessage?void 0:E,markdownLinkComponent:x,eventState:l.state}),(0,p.Y)(lF,{eventId:s,proposedActions:l.proposedActions,isLatestProposedActionsEvent:l.isLatestProposedActionsEvent,isMessageComplete:D,sessionId:l.sessionId,openAiChatSettingsPanel:f,openPane:c,removePane:d,prevUserMessageContent:N})]})]})}),uv=(0,eo.x)({container:[es.wp.borderRadius(),es.wp.py(4),es.wp.px(8),es.wp.border({color:U.LU.outlineDimmest}),sv.b.filledAndOutlined],runButton:[es.wp.rowWithGap(4),es.wp.justify.center,es.wp.align.center,es.wp.height(24),es.wp.minWidth(48),es.wp.cursor.pointer,es.wp.position.relative,es.wp.fontWeight.medium]});function ug(e){var n=e.isWorkflowLoading,t=e.isRunning,r=e.forceDisable,a=e.handleRunButtonClick;return n?(0,p.FD)(W.S,{css:uv.runButton,children:[(0,p.Y)(a$.A,{size:12}),(0,p.Y)(G.EY,{multiline:!1,variant:"small",children:"Loading"})]}):t?(0,p.FD)(W.S,{css:uv.runButton,onClick:a,children:[(0,p.Y)(sI.A,{size:12}),(0,p.Y)(G.EY,{multiline:!1,variant:"small",children:"Rerun"})]}):(0,p.FD)(W.S,{disabled:r,css:uv.runButton,onClick:a,children:[(0,p.Y)(ag.A,{size:12}),(0,p.Y)(G.EY,{multiline:!1,variant:"small",children:"Run"})]})}function ub(){var e,n,t,r,a,i=(0,n2.oh)(),o=(0,n2.lO)(),s=o.isRunning,l=o.isDisabled,u=o.runButtonWorkflowName,c=(0,n2.d_)(),d=(0,b.useCallback)(function(){(0,ah.u4)(ah.AZ.WORKSPACE,{action:"run_button_used",usage:"clicked",source:"assistantRerunButton",runner:"workflows"}),c()},[c]);return(0,p.Y)(ex.ui,{css:uv.container,grow:!0,shrink:!0,children:(0,p.Y)(z.m_,{placement:"top",tooltip:(t=(e={forceDisable:l,runButtonText:u,isRunning:s,isWorkflowLoading:i}).forceDisable,r=e.isRunning,a=e.isWorkflowLoading,n=t?"Run button is not configured":a?"Connecting to the workspace":r?"Rerun app":"Run app",(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:n})),children:(0,p.Y)(ug,{forceDisable:l,handleRunButtonClick:d,isRunning:s,isWorkflowLoading:i})})})}var uy=(0,eo.x)({errorContainer:[es.wp.color.accentNegativeDefault]});function uw(e){var n,t,r,a=e.sessionId,i=e.commitHash,o=e.created,s=e.eventId,l=e.eventWhichProposedChanges,u=e.onOpenCommit,c=e.appliedChanges,d=e.usageIndicatorVariant,f=e.changeSetSummary,h=e.didCountEditRequest,m=(0,oC.m5)(),v=(0,tA.g)("assistantAutoRestartRepl").preferences,S=(0,g._)((0,b.useState)(!1),2),A=S[0],k=S[1],C=(0,g._)((0,b.useState)(null),2),Y=C[0],E=C[1],T=u_("HEAD"),D=u_("HEAD^1"),I=T&&!T.error&&T.hash===i,R="reverted"===lr({sessionId:a,eventIdWhichProposedChanges:l}).state,N=T&&!T.error&&T.trailers[l$.aT]===i,O=uh(),P=us(),F=P.confirmRestoreToCommit,U=P.restoreConfirmationModal,L=(n=a,t=(0,_.NC)(),r=(0,x.J2)(t.sessions.get(n)),(0,b.useCallback)(function(e){if(null!=n)return null==r?void 0:r.appendEvent({kind:"iterativeAgent",action:e})},[r,n]));function M(e){return(0,y._)(function(){var n;return(0,w.YH)(this,function(t){switch(t.label){case 0:if(!e)return[2];return k(!0),[4,O({commitHash:e})];case 1:if((n=t.sent()).error)return E(n.error),k(!1),[2];return E(null),k(!1),[2]}})})()}var J=D&&!D.error,H=(0,p.FD)(p.FK,{children:[(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:"You may need to re-run your App to see the latest changes take effect."}),m?null:(0,p.Y)(ub,{})]});return(0,p.FD)(W.S,{px:16,py:8,gap:8,children:[U,Y?(0,p.FD)(W.S,{css:uy.errorContainer,row:!0,gap:8,align:"center",children:[(0,p.Y)(lI.A,{}),Y]}):null,I?J?(0,p.Y)(lB,{commitId:i,changeSetSummary:f,date:o,isAtCheckpoint:!1,isRestoring:A,onOpenCommit:u,onCommitRestore:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:return[4,M(D.hash)];case 1:return e.sent(),L({eventIdWhichProposedChanges:l,eventIdWhichAppliedChanges:s,revertedChanges:c}),[2]}})})()},restoreButtonText:"Undo these changes",usageIndicatorVariant:h?d:lJ.None}):null:(0,p.Y)(lB,{commitId:i,changeSetSummary:f,date:o,isAtCheckpoint:!!N,isRestoring:A,onCommitRestore:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(!i)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,F(i)];case 2:return e.sent()&&M(i),[3,4];case 3:return e.sent(),E("Something went wrong. Please try again."),[3,4];case 4:return[2]}})})()},onOpenCommit:u,usageIndicatorVariant:h?d:lJ.None,wasReverted:R}),(0,p.Y)(W.S,{gap:8,align:"start",children:I&&!v.assistantAutoRestartRepl?H:null})]})}function u_(e){return(0,ic.A)(function(n){return(0,y._)(function(){var t;return(0,w.YH)(this,function(r){switch(r.label){case 0:return[4,n.getCommit({commit:e})];case 1:if((t=r.sent()).error)return[2,t];return[2,{hash:t.hash,trailers:t.trailers,error:null,body:t.body,subject:t.subject}]}})})()},[e])}function uS(e){var n=e.id,t=e.data,r=e.proposedActionEventData,a=e.openPane,i=e.checkpointUsageIndicatorVariant,o=(0,x.J2)(r),s=(0,b.useCallback)(function(e){return a({type:"git",data:{mode:{type:uf.C.COMMIT,hash:e}}})},[a]);if((null==o?void 0:o.type)!=="assistantMessage"||!o.proposedActions)return null;if((0,N.VF)(t.contents.contents,"appliedFileChanges")){var l=o.proposedActions,u=l.summary,c=l.didCountEditRequest;return(0,p.Y)(uw,(0,nh._)((0,eg._)({},(0,N.QN)(t.contents.contents)),{sessionId:t.sessionId,eventId:n,created:t.created,onOpenCommit:s,usageIndicatorVariant:i,changeSetSummary:u,didCountEditRequest:c}))}return(0,N.VF)(t.contents.contents,"revertedFileChanges"),null}var uA=t(31207),uk=t(14229),uC=t(38592),uY=(0,av.v)(["opacity"]),uE=uY.cssVars,ux=uY.styleTokens,uT=(0,eo.x)({fade:[es.wp.position.absolute,es.wp.top(-1),es.wp.left(0),es.wp.width("100%"),es.wp.height(40),es.wp.backgroundGradient(U.LU.surfaceBackground,"transparent"),{pointerEvents:"none",opacity:ux.opacity,transitionProperty:"opacity",transitionDuration:uC.Ds.duration,transitionTimingFunction:uC.Ds.timingFunction}]});function uD(e){var n=e.show,t=(0,b.useRef)(null);return(0,uk.d)(t,null!=n?n:new nk.N(!0),function(e){return(0,v._)({},uE.opacity,e?"1":"0")}),(0,p.Y)("div",{ref:t,css:uT.fade})}var uI=t(95969),uR=(0,eo.x)({bannerContainer:[es.wp.position.sticky],loadingContainer:[es.wp.center,es.wp.flex.growAndShrink(1)]});function uN(e){var n,t,r=e.shouldAutoscrollRef,a=(0,iv._)(e,["shouldAutoscrollRef"]),i=(0,b.useRef)(new Map),o=a.sessionId,s=(n=(0,b.useRef)(null),t=(0,x.HJ)(!1),(0,b.useEffect)(function(){var e=n.current;if(e){var r=function(){var n=e.scrollTop>0;t.current!==n&&t.set(n)},a=requestAnimationFrame(r),i=function(){a&&cancelAnimationFrame(a),a=requestAnimationFrame(r)};return e.addEventListener("scroll",i),function(){e.removeEventListener("scroll",i),a&&cancelAnimationFrame(a)}}},[n,t]),{scrollerRef:n,isScrolledDown:t}),l=s.scrollerRef,u=s.isScrolledDown;return(0,p.FD)(uI.ys,{shouldAutoScrollRef:r,scrollCacheKey:o,scrollCache:i.current,scrollerRef:l,children:[(0,p.Y)(W.S,{css:uR.bannerContainer,children:(0,p.Y)(oj,{})}),(0,p.Y)(uO,(0,eg._)({},a)),(0,p.Y)(uD,{show:u})]})}function uO(e){var n=e.sessionId,t=(0,iv._)(e,["sessionId"]),r=(0,_.NC)(),a=(0,x.J2)(r.sessions.get(n)),i=(0,b.useMemo)(function(){return null==a?void 0:a.transform(oX,1e3)},[a]),o=(0,x.Rj)(function(){return null==i?void 0:i.tuples},[i],{preserve:!1}),s=(0,x.Rj)(function(){return null==i?void 0:i.mapped},[i],{preserve:!1}),l=(0,x.J2)(null==a?void 0:a.leaf),u=(0,uA.F)().isFreemiumStarterPlanUsersOwnRepl?lJ.Starter:lJ.Paid,c=(0,o0.z7)();return o&&s?(0,p.Y)(o0.cX,{value:c,children:o.map(function(e,n){var r=(0,g._)(e,2),a=r[0],i=r[1];return(0,p.Y)(uP,(0,eg._)({id:a,data:i,prevData:n>0?o[n-1][1]:void 0,isLastEvent:a===l,checkpointUsageIndicatorVariant:u,eventDataMap:s},t),a)})}):(0,p.Y)(W.S,{css:uR.loadingContainer,children:(0,p.Y)(a$.A,{})})}function uP(e){var n=e.id,t=e.data,r=e.prevData,a=e.eventDataMap,i=(0,iv._)(e,["id","data","prevData","eventDataMap"]),o=(0,k.A)(),s=o.secrets,l=o.fs,u=(0,x.J2)(t),c=(0,x.J2)(r);if((null==u?void 0:u.type)==="userMessage")return(0,p.Y)(sl,{data:u,openPane:i.openPane,readFile:l.readFile});if((null==u?void 0:u.type)==="assistantMessage")return(0,p.Y)(um,(0,eg._)({id:n,data:u,prevData:c,addSecretEntries:s.addEntries},i));if((null==u?void 0:u.type)==="assistantAction"){var d=a.get(u.eventIdWhichProposedAction);return(0,p.Y)(uS,(0,eg._)({id:n,data:u,proposedActionEventData:d},i))}return null}var uF=t(77135),uU=t(85201),uL=t(89504),uM=t(52712),uJ=t(81069),uH=t(16653);function uB(e){var n=e.hasAccessToAdvancedModel,t=(0,om._P)({controlName:"flag-poliwag-override"}),r=(0,tA.g)("assistantAutoApplyChanges","assistantAutoRestartRepl","assistantAdvancedModelOverride"),a=r.preferences,i=r.update,o=(0,_.so)(),s=o.advancedModel,l=o.overrideModel,u=t?(0,p.FD)(p.FK,{children:[(0,p.Y)(uJ.n,{setting:uM.KY.assistantAdvancedModelOverride,currentValue:a.assistantAdvancedModelOverride,update:i,title:(0,p.FD)(p.FK,{children:[(0,p.Y)(W.S,{row:!0,gap:8,align:"center",justify:"start",children:(0,p.Y)(G.EY,{multiline:!1,children:"Model Override"})}),(0,p.Y)(W.S,{row:!0,gap:8,children:(0,p.FD)(G.EY,{variant:"small",color:"dimmest",children:["Current: ",(null!=l?l:s).name.readable]})})]})}),(0,p.Y)(uH.a,{})]}):null;return(0,p.FD)(p.FK,{children:[u,n?(0,p.Y)(uJ.n,{setting:uM.KY.assistantAutoApplyChanges,update:i,currentValue:a.assistantAutoApplyChanges}):(0,p.Y)(uJ.j,{setting:uM.KY.assistantAutoApplyChanges,currentValueOption:void 0,disabledReason:"Advanced Assistant can automatically apply code changes."}),(0,p.Y)(uH.a,{}),n?(0,p.Y)(uJ.n,{setting:uM.KY.assistantAutoRestartRepl,update:i,currentValue:a.assistantAutoRestartRepl}):(0,p.Y)(uJ.j,{setting:uM.KY.assistantAutoRestartRepl,currentValueOption:void 0,disabledReason:"Advanced Assistant can automatically restart your App after applying changes."})]})}var uV=t(39590);function u$(){var e=(0,eb._)(["\n  query UserPrompts {\n    currentUser {\n      id\n      aiPrompts {\n        ... on UserAiPromptsResult {\n          prompts {\n            id\n            prompt\n            title\n          }\n        }\n      }\n    }\n  }\n"]);return u$=function(){return e},e}function uG(){var e=(0,eb._)(["\n  mutation UpdateUserAiPrompts($input: UpdateUserAiPromptsInput!) {\n    updateUserAiPrompts(input: $input) {\n      ... on AICustomPrompt {\n        id\n        prompt\n        title\n      }\n    }\n  }\n"]);return uG=function(){return e},e}function uz(){var e=(0,eb._)(["\n  mutation EditUserAiPrompt($input: EditUserAiPromptInput!) {\n    editUserAiPrompt(input: $input) {\n      ... on AICustomPrompt {\n        id\n        prompt\n        title\n      }\n    }\n  }\n"]);return uz=function(){return e},e}function uW(){var e=(0,eb._)(["\n  mutation DeleteUserAiPrompts($input: DeleteUserAiPromptsInput!) {\n    deleteUserAiPrompt(input: $input) {\n      ... on DeleteUserAiPromptResult {\n        id\n      }\n    }\n  }\n"]);return uW=function(){return e},e}function uj(){var e=(0,eb._)(["\n  query ReplSelectedPrompt($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        replAiPromptId\n      }\n    }\n  }\n"]);return uj=function(){return e},e}function uq(){var e=(0,eb._)(["\n  mutation UpdateReplAiPromptSelection(\n    $input: UpdateReplAiPromptSelectionInput!\n  ) {\n    updateReplAiPromptSelection(input: $input) {\n      ... on UpdateReplAiPromptSelectionResult {\n        repl {\n          id\n        }\n      }\n    }\n  }\n"]);return uq=function(){return e},e}function uZ(){var e=(0,eb._)(["\n  mutation DeleteReplAiPromptSelection(\n    $input: DeleteReplAiPromptSelectionInput!\n  ) {\n    deleteReplAiPromptSelection(input: $input) {\n      ... on DeleteReplAiPromptSelectionResult {\n        repl {\n          id\n        }\n      }\n    }\n  }\n"]);return uZ=function(){return e},e}var uK={},uQ=(0,ey.J1)(u$()),uX=(0,ey.J1)(uG()),u0=(0,ey.J1)(uz()),u1=(0,ey.J1)(uW()),u2=(0,ey.J1)(uj()),u3=(0,ey.J1)(uq()),u4=(0,ey.J1)(uZ()),u5=t(56749),u7=(0,eo.x)({input:[es.wp.maxHeight("200px"),{resize:"vertical",overflow:"auto"}],buttonContainer:[es.wp.width("100%"),es.wp.rowWithGap(6),es.wp.justify.end,es.wp.pt(4)]});function u9(e){var n,t,r=e.refetchPrompts,a=e.onClose,i=(0,g._)((0,b.useState)(""),2),o=i[0],s=i[1],l=(0,g._)((0,b.useState)(""),2),u=l[0],c=l[1],d=(0,g._)((0,b.useState)(!1),2),f=d[0],h=d[1],m=(0,g._)((n={onCompleted:function(){(0,ah.u4)(ah.AZ.ASSISTANT_USED,{action:"custom_prompt_saved",title:u,prompt:o}),S(),r(),a(),h(!1)},onError:function(){h(!0)}},t=(0,eg._)({},uK,n),uV.n(uX,t)),2),v=m[0],_=m[1].loading,S=function(){s(""),c("")},A=_||!o||!u;return(0,p.FD)(W.S,{py:4,gap:8,children:[f?(0,p.Y)(tU.N,{icon:(0,p.Y)(lI.A,{}),colorway:"red",text:"Could not save prompt. Try again."}):null,(0,p.Y)(u5.l,{onSubmit:function(e){e.preventDefault(),(0,y._)(function(){var e,n;return(0,w.YH)(this,function(t){switch(t.label){case 0:if(e=o.trim(),n=u.trim(),!e||!n)return[2];return[4,v({variables:{input:{prompt:e,title:n}}})];case 1:return t.sent(),[2]}})})()},children:(0,p.FD)(W.S,{gap:4,children:[(0,p.FD)(W.S,{row:!0,gap:6,align:"center",children:[(0,p.Y)(G.EY,{children:"Title"}),(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:"(max 70 characters)"})]}),(0,p.Y)(H.pd,{disabled:_,value:u,onChange:function(e){var n=e.target.value;n.length<=70&&c(n)}}),(0,p.Y)(G.EY,{children:"Prompt"}),(0,p.Y)(H.ov,{disabled:_,value:o,onChange:function(e){var n=e.target.value;n.length<=15e3&&s(n)},css:u7.input,autoSize:!0}),(0,p.FD)(W.S,{css:u7.buttonContainer,children:[(0,p.Y)(M.$n,{colorway:"primary",text:"Save",type:"submit",disabled:A,loading:_}),(0,p.Y)(M.$n,{text:"Cancel",onClick:function(){a(),h(!1)}})]})]})})]})}var u8=t(75054),u6=t(55929),ce=(0,eo.x)({input:[es.wp.maxHeight("200px"),{resize:"vertical",overflow:"auto"}],buttonContainer:[es.wp.width("100%"),es.wp.rowWithGap(6),es.wp.justify.end],form:[es.wp.colWithGap(6)],promptItem:[es.wp.borderRadius(),es.wp.py(6),es.wp.px(8)]});function cn(e){var n,t,r,a,i=e.isOpen,o=e.prompts,s=e.promptDataLoading,l=e.onClose,u=e.refetchPrompts,c=(0,g._)((0,b.useState)(!1),2),d=c[0],f=c[1],h=(0,g._)((0,b.useState)(o||[]),2),m=h[0],_=h[1],S=(0,g._)((0,b.useState)(new Set),2),A=S[0],k=S[1],C=(0,g._)((n={onCompleted:function(){u()}},t=(0,eg._)({},uK,n),uV.n(u1,t)),2),Y=C[0],E=C[1].loading,x=(0,g._)((r={onCompleted:function(){u()}},a=(0,eg._)({},uK,r),uV.n(u0,a)),2),T=x[0],D=x[1].loading;(0,b.useEffect)(function(){o&&_(function(e){return o.map(function(n){return A.has(n.id)&&e.find(function(e){return e.id===n.id})||n})})},[o,A]);var I=function(e,n,t){_(function(r){return r.map(function(r){return r.id===e?(0,nh._)((0,eg._)({},r),(0,v._)({},n,t)):r})}),k(function(n){return new Set(n).add(e)})},R=function(e){_(function(n){return n.map(function(n){return n.id===e&&o&&o.find(function(n){return n.id===e})||n})}),k(function(n){var t=new Set(n);return t.delete(e),t})};return(0,p.FD)(tF.a,{isOpen:i,onRequestClose:function(){l(),f(!1)},children:[(0,p.Y)(G.EY,{variant:"subheadBig",children:"Manage Prompts"}),o?(0,p.FD)(W.S,{py:8,gap:4,children:[(0,ev._)(m).sort(function(e,n){return e.title.localeCompare(n.title,void 0,{sensitivity:"base"})}).map(function(e){return(0,p.Y)(L.A,{headerContent:(0,p.Y)(G.EY,{children:e.title}),children:(0,p.Y)(ex.ui,{elevated:!0,css:ce.promptItem,children:(0,p.FD)(u8.lV,{css:ce.form,onSubmit:function(n){var t;n.preventDefault(),t=e.id,(0,y._)(function(){var e;return(0,w.YH)(this,function(n){switch(n.label){case 0:if(!(null==(e=m.find(function(e){return e.id===t}))?void 0:e.title)||!(null==e?void 0:e.prompt))return[2];return[4,T({variables:{input:{promptId:e.id,prompt:e.prompt,title:e.title}}})];case 1:return n.sent(),k(function(e){var n=new Set(e);return n.delete(t),n}),[2]}})})()},children:[(0,p.FD)(W.S,{row:!0,gap:6,align:"center",children:[(0,p.Y)(G.EY,{children:"Title"}),(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:"(max 70 characters)"})]}),(0,p.Y)(H.pd,{disabled:D,value:e.title,onChange:function(n){return I(e.id,"title",n.target.value)}}),(0,p.Y)(G.EY,{children:"Prompt"}),(0,p.Y)(H.ov,{disabled:D,value:e.prompt,onChange:function(n){return I(e.id,"prompt",n.target.value)},css:ce.input,autoSize:!0}),(0,p.FD)(W.S,{css:ce.buttonContainer,children:[(0,p.Y)(M.$n,{colorway:"red",text:"Delete",onClick:function(){var n;return n=e.id,(0,y._)(function(){return(0,w.YH)(this,function(e){return Y({variables:{input:{promptId:n}}}),[2]})})()},disabled:E}),(0,p.Y)(M.$n,{colorway:"primary",text:"Save",type:"submit",disabled:!A.has(e.id)||D||!e.title||!e.prompt}),(0,p.Y)(M.$n,{text:"Reset",onClick:function(){return R(e.id)},disabled:!A.has(e.id)})]})]})})},e.id)}),s?(0,p.FD)(W.S,{py:4,row:!0,gap:6,align:"center",children:[(0,p.Y)(a$.A,{size:16}),(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:"Updating prompts…"})]}):null]}):null,(0,p.Y)(W.S,{py:4,gap:8,children:d?(0,p.Y)(u9,{refetchPrompts:u,onClose:function(){return f(!1)}}):(0,p.Y)(M.$n,{text:"Add new prompt",iconLeft:(0,p.Y)(u6.A,{}),colorway:"primary",onClick:function(){return f(!0)}})})]})}var ct="default",cr={id:ct,prompt:"".concat(tR.BP," will operate using its default behavior."),title:"Default"},ca=(0,eo.x)({select:[es.wp.flex.growAndShrink(1),{"& button":{height:"auto",minHeight:"32px"},"& button > span > div > span":{textAlign:"justify"}}],selectContainer:[es.wp.width("100%"),es.wp.align.center],loadingContainer:[es.wp.borderRadius(),es.wp.mr(24),es.wp.gap(6)],loadingPrompt:[es.wp.width("fit-content"),es.wp.px(4),nZ.S.foregroundPulse(),{color:"transparent"}]});function ci(){var e,n,t,r,a,i,o,s,l,u,c,d=(0,g._)((0,b.useState)(!1),2),f=d[0],h=d[1],m=(0,O.A)(),v=(e={notifyOnNetworkStatusChange:!0},n=(0,eg._)({},uK,e),ew.I(uQ,n)),_=v.data,S=v.loading,A=v.refetch,k=(t={variables:{replId:m}},r=(0,eg._)({},uK,t),ew.I(u2,r)),C=k.data,Y=k.refetch,E=(0,g._)((a={onCompleted:function(){Y()}},i=(0,eg._)({},uK,a),uV.n(u3,i)),1)[0],x=(0,g._)((o={update:function(e,n){var t,r=n.data;(null==r||null==(t=r.deleteReplAiPromptSelection)?void 0:t.__typename)==="DeleteReplAiPromptSelectionResult"&&r.deleteReplAiPromptSelection.repl.id&&e.modify({id:e.identify({__typename:"Repl",id:m}),fields:{replAiPromptId:function(){}}})}},s=(0,eg._)({},uK,o),uV.n(u4,s)),1)[0],T=_&&(null==(l=_.currentUser)?void 0:l.aiPrompts.__typename)==="UserAiPromptsResult"?null==(u=_.currentUser)?void 0:u.aiPrompts.prompts:[],D=(null==C?void 0:C.getRepl.__typename)==="Repl"?C.getRepl.replAiPromptId:void 0;return(0,p.FD)(W.S,{gap:4,children:[(0,p.FD)(G.EY,{multiline:!1,children:[tR.BP," Prompt"]}),(0,p.FD)(G.EY,{variant:"small",color:"dimmest",children:["Personalize your ",tR.BP," with custom rules & instructions"]}),S?(0,p.FD)(ex.ui,{css:ca.loadingContainer,px:8,py:8,elevated:!0,children:[(0,p.Y)(G.EY,{css:ca.loadingPrompt,children:"Sample prompt title"}),(0,p.Y)(G.EY,{variant:"small",css:ca.loadingPrompt,children:"Sample prompt contents. These are rules & instructions for Assistant behavior."})]}):(0,p.FD)(W.S,{css:ca.selectContainer,row:!0,gap:4,children:[(0,p.Y)($.l,{"aria-label":"Assistant Custom Prompt",style:{marginRight:0},items:[cr].concat((0,ev._)(T)),defaultSelectedKey:(null==(c=T.find(function(e){return D===e.id}))?void 0:c.id)||ct,onSelectionChange:function(e){var n,t;t=(null==(n=T.find(function(n){return n.id===e}))?void 0:n.id)||ct,(0,y._)(function(){var e,n,r;return(0,w.YH)(this,function(a){switch(a.label){case 0:if(t!==ct)return[3,3];if(!D)return[3,2];return[4,x({variables:{input:{replId:m,promptId:D}}})];case 1:a.sent(),a.label=2;case 2:return[2];case 3:return[4,E({variables:{input:{promptId:t,replId:m}}})];case 4:return(null==(n=a.sent().data)||null==(e=n.updateReplAiPromptSelection)?void 0:e.__typename)==="UpdateReplAiPromptSelectionResult"&&(r=T.find(function(e){return e.id===t}),(0,ah.u4)(ap.AZ.ASSISTANT_USED,{action:"custom_prompt_selected",title:null==r?void 0:r.title,prompt:null==r?void 0:r.prompt})),[2]}})})()},css:ca.select,children:function(e){return(0,p.Y)(B.nh,{id:e.id,label:e.title,description:e.prompt,dataCy:e.id},e.id)}}),(0,p.Y)(e$.K0,{alt:"Manage prompts",onClick:function(){return h(!0)},children:(0,p.Y)(sV.A,{})})]}),(0,p.Y)(cn,{isOpen:f,prompts:T,promptDataLoading:S,onClose:function(){h(!1)},refetchPrompts:A})]})}var co=t(85609),cs=t(82568),cl=t(7017),cu=t(43162);function cc(e){var n=e.text,t=(0,iv._)(e,["text"]),r=(0,b.useRef)(null),a=(0,b.useRef)(n);return(0,b.useEffect)(function(){if(a.current!==n){var e=n.length;!function t(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;requestAnimationFrame(function(){var i=r.current;i&&(i.textContent=n.slice(0,a),a!==e&&t(a+1))})}()}},[n]),(0,b.useEffect)(function(){a.current=n},[n]),(0,p.Y)(G.EY,(0,nh._)((0,eg._)({},t),{ref:r,children:n}))}var cd=t(18558),cf=(0,av.v)(["fontSize","padding","border"]),cp=cf.cssVars,ch=cf.styleTokens,cm=(0,eo.x)({root:[es.wp.center,es.wp.flex.growAndShrink(1)],input:[{backgroundColor:"transparent",border:ch.border,fontSize:ch.fontSize,padding:ch.padding},es.wp.flex.growAndShrink(1)]});function cv(e){var n,t,r=(0,g._)((0,b.useState)(e.initialValue),2),a=r[0],i=r[1],o=(0,ni.A)(e.onCancel),s=(0,cd.A)(function(){return o.current()},[]),l=(0,b.useRef)(null);(0,b.useEffect)(function(){var e;null==(e=l.current)||e.select()},[]);var u=e.compact?(n={},(0,v._)(n,cp.border,"0 none"),(0,v._)(n,cp.fontSize,U.LU.fontSizeSmall),(0,v._)(n,cp.padding,"0 ".concat(U.LU.space2)),n):(t={},(0,v._)(t,cp.padding,"".concat(U.LU.space8)),(0,v._)(t,cp.fontSize,U.LU.fontSizeDefault),t);return(0,p.Y)(W.S,{style:u,innerRef:s,css:cm.root,row:!0,gap:4,tag:"form",onSubmit:function(n){n.preventDefault(),a&&e.onSubmit(a)},children:(0,p.Y)(H.pd,{placeholder:"Name this chat",ref:l,css:cm.input,value:a,onChange:function(e){return i(e.currentTarget.value)},onKeyDown:function(n){"Escape"===n.key&&e.onCancel()}})})}var cg=t(83027),cb=t(36946),cy=t(56374),cw=t(48485);function c_(e){var n,t=(0,g._)((0,b.useState)(!1),2),r=t[0],a=t[1];return r?(0,p.Y)(cv,{compact:!0,initialValue:null!=(n=e.title)?n:"",onCancel:function(){return a(!1)},onSubmit:function(n){a(!1),e.onRename(n)}}):(0,p.Y)(cA,{title:e.title,archived:e.archived,onRename:function(){return a(!0)},onToggleArchived:e.onToggleArchived})}var cS=(0,eo.x)({root:[{maxWidth:"100%"}],button:[es.wp.reset.button,es.wp.rowWithGap(4),es.wp.align.center,es.wp.flex.growAndShrink(1),sv.b.nofill,{fontWeight:U.LU.fontWeightMedium,svg:[es.wp.color.foregroundDimmest],"&:hover svg":[es.wp.color.foregroundDimmer]}],popover:[es.wp.borderRadius(4),es.wp.shadow(1),es.wp.border()],item:[sv.b.listItem,es.wp.minWidth(140),es.wp.px(4),es.wp.py(2)]});function cA(e){var n=["Rename",e.archived?"Unarchive":"Archive"],t=(0,cs.WM)({items:n,onSelectedItemChange:function(n){switch(n.selectedItem){case"Rename":e.onRename();break;case"Archive":case"Unarchive":e.onToggleArchived()}}}),r=(0,g._)((0,b.useState)(null),2),a=r[0],i=r[1],o=(0,g._)((0,b.useState)(null),2),s=o[0],l=o[1],u=(0,co.E)(a,s,{modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"preventOverflow",options:{padding:16}}],placement:"bottom"});return(0,p.Y)(p.FK,{children:(0,p.FD)(W.S,{css:cS.root,grow:!0,shrink:!0,children:[(0,p.FD)(W.S,(0,nh._)((0,eg._)({tag:"button",css:cS.button,px:4},t.getToggleButtonProps({refKey:"innerRef",ref:i})),{children:[(0,p.Y)(cc,{variant:"small",color:e.title?"default":"dimmest",multiline:!1,text:e.title||"New chat"}),(0,p.Y)(cy.A,{rotate:180*!!t.isOpen,size:12})]})),(0,p.Y)(W.S,(0,nh._)((0,eg._)({},t.getMenuProps({refKey:"innerRef"})),{children:t.isOpen?(0,p.Y)(cb.Z,{children:(0,p.Y)(ex.ui,(0,nh._)((0,eg._)({elevated:!0,style:u.styles.popper,innerRef:l,css:cS.popover},u.attributes.popper),{children:n.map(function(e,n){var r=t.highlightedIndex===n?{backgroundColor:U.LU.interactiveBackground}:void 0;return(0,p.Y)(W.S,(0,nh._)((0,eg._)({css:cS.item,style:r},t.getItemProps({refKey:"innerRef",item:e,index:n})),{children:(0,p.Y)(G.EY,{variant:"small",children:e})}),e)})}))}):null}))]})})}function ck(e){return(0,p.Y)(e$.K0,{alt:"Settings",onClick:e.onClick,children:(0,p.Y)(sV.A,{})})}function cC(e){var n=e.sessionCostInCents,t=(0,cl.ET)(),r=t.orgId,a=t.orgSlug,i=r&&a?"".concat((0,cu.EG)({slug:a}).usage.href,"#agent"):"/usage#agent";return(0,p.Y)(cg.A,{alt:n?"Your usage for this chat: $".concat((n/100).toFixed(2)):"Usage Page",href:i,target:"_blank",onClick:function(){(0,ah.u4)(ah.AZ.ASSISTANT_USED,{action:"opened_usage_link",intent_type:null,model:null,user_model_selection:null,message_content:null,message_source:"chat_pane",message_surface:"workspace_ai_pane"})},children:(0,p.Y)(lM.A,{})})}var cY=(0,eo.x)({root:[es.wp.height(28),es.wp.rowWithGap(4),es.wp.px(2),es.wp.justify.spaceBetween,es.wp.align.center],center:[],right:[es.wp.rowWithGap(0)]});function cE(e){var n=e.onSidebarButtonClick,t=e.onAddButtonClick,r=e.title,a=e.prefsButton,i=e.usageButton,o=e.sessionCost;return(0,p.FD)(W.S,{align:"center",row:!0,gap:0,children:[(0,p.Y)(W.S,{children:(0,p.Y)(e$.K0,{alt:"All chats",onClick:n,children:(0,p.Y)(cw.A,{})})}),(0,p.Y)(M.$n,{iconLeft:(0,p.Y)(u6.A,{}),text:"New chat",size:"small",variant:"nofill",onClick:t}),(0,p.Y)(W.S,{grow:!0,shrink:!0,align:"center",children:r}),(0,p.FD)(W.S,{row:!0,gap:4,align:"center",children:[o,i,a]})]})}var cx=t(59093),cT=(0,eo.x)({container:[es.wp.flex.column,es.wp.position.relative],body:[es.wp.overflowY("auto")],footer:[es.wp.minHeight(40),es.wp.flex.row,es.wp.align.center],settingsPaneButton:[es.wp.display.inlineFlex,es.wp.mx(4),{verticalAlign:"bottom",gap:U.LU.space4}],heading:[es.wp.fontWeight.medium],upgradePill:[sv.b.filled,(i={},(0,v._)(i,U.qo.interactiveBackground,U.LU.yellowDimmest),(0,v._)(i,U.qo.interactiveBackgroundActive,U.LU.yellowDimmer),i)]});function cD(e){var n=e.hasAccessToAdvancedModel,t=e.onOpenUserSettings,r=(0,oD.g)().show;return(0,p.FD)(ex.ui,{css:cT.container,grow:!0,shrink:!0,background:"default",children:[(0,p.FD)(W.S,{css:cT.body,grow:!0,shrink:!0,py:8,px:16,gap:8,children:[(0,p.Y)(uH.a,{}),(0,p.Y)(ci,{}),(0,p.Y)(uH.a,{}),(0,p.FD)(W.S,{row:!0,gap:4,align:"center",children:[(0,p.Y)(G.EY,{css:cT.heading,variant:"text",children:"Advanced ".concat(tR.BP," Preferences")}),n?null:(0,p.Y)(oI.a,{css:cT.upgradePill,text:ox.en,onClick:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:return[4,r("MembershipPurchaseModal",{analyticsContext:{upgrade:{context:"ai_chat_upsell",surface:"assistant_settings"}}})];case 1:return e.sent(),[2]}})})()}})]}),(0,p.Y)(uB,{hasAccessToAdvancedModel:n}),(0,p.Y)(uH.a,{})]}),(0,p.Y)(uH.a,{}),(0,p.Y)(W.S,{css:cT.footer,py:8,px:16,children:(0,p.FD)(G.EY,{variant:"small",children:["Looking for more workspace settings?"," ",(0,p.Y)(M.$n,{css:cT.settingsPaneButton,iconLeft:(0,p.Y)(sV.A,{}),size:"small",variant:"underlined",text:"Open User Settings",onClick:t})]})})]})}function cI(e){var n=e.onBack;return(0,p.Y)(W.S,{css:cY.root,children:(0,p.FD)(W.S,{row:!0,align:"center",children:[(0,p.Y)(e$.K0,{onClick:n,alt:"Back to session",children:(0,p.Y)(cx.A,{})}),(0,p.Y)(G.EY,{children:"Settings"})]})})}var cR=t(41244),cN=t(17078),cO=t(33956),cP=t(11612),cF=t(7368),cU=t(36294),cL=function(){var e=(0,g._)((0,b.useState)(!1),2),n=e[0],t=e[1],r=(0,g._)((0,b.useState)({x:0,y:0}),2);return{clicked:n,setClicked:t,points:r[0],setPoints:r[1]}},cM=function(){var e=cL(),n=e.clicked,t=e.setClicked,r=e.points,a=e.setPoints;(0,b.useEffect)(function(){var e=function(){return t(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}},[t]);var i=(0,b.useCallback)(function(e){var n=e.x,r=e.y;t(!0),a({x:n,y:r})},[t,a]),o=(0,b.useCallback)(function(e){e.preventDefault(),e.stopPropagation(),i({x:e.clientX,y:e.clientY})},[i]),s=(0,b.useCallback)(function(){t(!1)},[t]);return{triggerProps:{onContextMenu:o},menuProps:(0,nh._)((0,eg._)({},r),{isOpen:n}),onClose:s,open:i}},cJ=(0,eo.x)({menu:[es.wp.position.fixed,es.wp.flex.column,es.wp.borderRadius(8),es.wp.shadow(1),{"& > :first-child":[es.wp.borderRadius(8,8,0,0)],"& > :last-child":[es.wp.borderRadius(0,0,8,8)]}],item:[es.wp.reset.button,{'&:not([disabled]):not([aria-disabled="true"])':[sv.b.listItem],'&[disabled], &[aria-disabled="true"]':[es.wp.color.foregroundDimmest]},es.wp.p(8),es.wp.rowWithGap(8),es.wp.align.center],underlay:[es.wp.position.fixed,{top:0,left:0,bottom:0,right:0}]}),cH=function(e){e.preventDefault()},cB=function(e){var n=e.children,t=e.isOpen,r=e.defaultOpen,a=e.onOpenChange,i=e.x,o=e.y,s=(0,iv._)(e,["children","isOpen","defaultOpen","onOpenChange","x","y"]),l=(0,cN.T)({isOpen:t,defaultOpen:r,onOpenChange:a}),u=(0,b.useRef)(null),c=(0,cO.l)({},l,u),d=c.modalProps,f=c.underlayProps;return t?(0,p.Y)(cP.hJ,{portalContainer:document.body,children:(0,p.Y)("div",(0,nh._)((0,eg._)({css:cJ.underlay},f),{onContextMenu:cH,children:(0,p.Y)(cF.Ay,{children:(0,p.Y)(ex.ui,(0,nh._)((0,eg._)({elevated:!0,css:cJ.menu},d,s),{innerRef:u,tag:"ul",role:"menubar","aria-orientation":"vertical","aria-label":"Context",style:{left:i,top:o},children:(0,p.Y)(cU.Se,{options:{direction:"vertical"},children:n})}))})}))}):null},cV=W.D.button,c$=(0,b.forwardRef)(function(e,n){var t=e.children,r=e.iconLeft,a=e.isDisabled,i=void 0!==a&&a,o=e.onClick,s=(0,iv._)(e,["children","iconLeft","isDisabled","onClick"]),l=(0,b.useRef)(null),u=(0,g._)((0,cU.A9)(l,i),4),c=u[0],d=u[1],f=u[2],h=u[3];(0,cU.xK)(d,l);var m=(0,b.useCallback)(function(e){i||(h(),null==o||o(e))},[h,i,o]),v=(0,uF.S)([n,l]);return(0,p.FD)(cV,(0,nh._)((0,eg._)({disabled:i,css:cJ.item,role:"menuitem",ref:v,tabIndex:c,onKeyDown:f,onClick:m},s),{children:[r,(0,p.Y)(G.EY,{multiline:!1,children:t})]}))}),cG=t(71936),cz=(0,av.v)(["sessionBackground","actionsButtonDisplay"]),cW=cz.cssVars,cj=cz.styleTokens,cq=(0,eo.x)({loading:[es.wp.coverContainer,es.wp.center],tabs:[es.wp.height("100%")],tabsInner:[es.wp.height("100%")],tabPanel:[es.wp.height("100%")],tabContent:[es.wp.position.relative,es.wp.height("100%"),es.wp.flex.growAndShrink(1)],tabListLeft:[es.wp.viewStyle,es.wp.rowWithGap(2)],tab:[es.wp.viewStyle,sv.b.nofill,es.wp.px(8),es.wp.height(30),es.wp.justify.center,es.wp.borderRadius(4),{"&[data-selected]":{backgroundColor:U.LU.interactiveBackgroundActive}}],sessions:[es.wp.position.absolute,es.wp.overflow("hidden"),es.wp.px(8),{top:0,left:0,right:0,bottom:0}],session:[es.wp.px(6),es.wp.py(4),es.wp.border({direction:"bottom"}),sv.b.listItem,es.wp.borderRadius(),(o={backgroundColor:cj.sessionBackground},(0,v._)(o,es.$_.canHover,(0,v._)({},cW.actionsButtonDisplay,"none")),(0,v._)(o,"&:hover",(0,v._)({},cW.actionsButtonDisplay,"block")),o)],emptyState:[es.wp.center,es.wp.p(16)],header:[es.wp.rowWithGap(4),es.wp.height(24),es.wp.align.center],title:[es.wp.flex.growAndShrink(1)],actionsButton:[{opacity:.5,display:cj.actionsButtonDisplay,"&:hover":{opacity:1}}],sessionListWrapper:[{overflow:"auto"},es.wp.flex.growAndShrink(1)],sessionListInner:[es.wp.position.relative],sessionListItem:[es.wp.position.absolute,es.wp.top(0),es.wp.left(0),es.wp.width("100%")]});function cZ(e){var n=e.onClick;return(0,p.FD)(W.S,{style:(0,v._)({},cW.sessionBackground,U.LU.accentPrimaryDimmest),css:cq.session,onClick:n,children:[(0,p.Y)(W.S,{css:cq.header,children:(0,p.Y)(W.S,{css:cq.title,children:(0,p.Y)(G.EY,{multiline:!1,children:"New Chat"})})}),(0,p.Y)(G.EY,{multiline:!1,color:"dimmest",variant:"small",children:"just now"})]})}function cK(e){var n,t=e.selected,r=e.onClick,a=e.session,i=(0,g._)((0,b.useState)(!1),2),o=i[0],s=i[1],l=cM(),u=l.menuProps,c=l.triggerProps,d=l.open,f=(0,x.J2)(a.data);return f?o?(0,p.FD)(W.S,{children:[(0,p.Y)(cv,{initialValue:null!=(n=f.title)?n:"",onCancel:function(){return s(!1)},onSubmit:function(e){a.updateSession({title:e}),s(!1)}}),(0,p.Y)(W.S,{px:4,children:(0,p.Y)(eP.Dc,{textColor:"dimmest",textVariant:"small",date:a.created})})]}):(0,p.FD)(p.FK,{children:[(0,p.FD)(W.S,(0,nh._)((0,eg._)({style:t?(0,v._)({},cW.sessionBackground,U.LU.backgroundHigher):void 0,css:cq.session,onClick:r},c),{children:[(0,p.FD)(W.S,{css:cq.header,children:[(0,p.Y)(W.S,{css:cq.title,children:(0,p.Y)(cc,{multiline:!1,text:f.title.length>0?f.title:"Untitled"})}),(0,p.Y)(e$.K0,{css:cq.actionsButton,alt:"Actions",tooltipBehavior:"hidden",onClick:function(e){var n=e.target.getBoundingClientRect();d({x:n.x,y:n.y})},children:(0,p.Y)(cG.A,{})})]}),(0,p.Y)(eP.Dc,{textColor:"dimmest",textVariant:"small",date:a.created})]})),(0,p.FD)(cB,(0,nh._)((0,eg._)({},u),{children:[(0,p.Y)(c$,{onClick:function(){return s(!0)},children:"Rename"}),(0,p.Y)(c$,{onClick:function(){a.updateSession({archived:!f.archived})},children:(null==f?void 0:f.archived)?"Unarchive":"Archive"})]}))]}):null}function cQ(){return(0,p.Y)(W.S,{css:cq.emptyState,children:(0,p.Y)(G.EY,{color:"dimmest",children:"No chats"})})}function cX(e){var n=e.sessions,t=e.currentSessionId,r=e.onSessionClick,a=(0,b.useRef)(null),i=(0,eH.Te)({overscan:10,count:n.length,getItemKey:function(e){return n[e].id},getScrollElement:function(){return a.current},estimateSize:function(){return 52}});return(0,p.Y)(W.S,{innerRef:a,css:cq.sessionListWrapper,children:(0,p.Y)(W.S,{style:{height:i.getTotalSize()},css:cq.sessionListInner,children:i.getVirtualItems().map(function(e){var a=n[e.index];return(0,p.Y)("div",{ref:i.measureElement,"data-index":e.index,css:cq.sessionListItem,style:{height:e.size,transform:"translateY(".concat(e.start,"px)")},children:(0,p.Y)(cK,{session:a,selected:a.id===t,onClick:function(){return r(a.id)}})},e.key.toString())})})})}function c0(e){var n=(0,_.NC)(),t=(0,x.J2)(n.sessions.chat.archived),r=(0,b.useMemo)(function(){return t?Array.from(t.values()).sort(function(e,n){return n.created.getTime()-e.created.getTime()}):[]},[t]);return t?0===r.length?(0,p.Y)(cQ,{}):(0,p.Y)(cX,{sessions:r,currentSessionId:e.currentSessionId,onSessionClick:e.onSessionClick}):(0,p.Y)(W.S,{css:cq.loading,children:(0,p.Y)(a$.A,{})})}function c1(e){var n=(0,_.NC)(),t=(0,x.J2)(n.sessions.chat.open.list);return t?0===t.length?(0,p.Y)(cZ,{onClick:function(){return e.onNewSessionClick()}}):(0,p.Y)(cX,{sessions:t,currentSessionId:e.currentSessionId,onSessionClick:e.onSessionClick}):(0,p.Y)(W.S,{css:cq.loading,children:(0,p.Y)(a$.A,{})})}var c2=["Chats","Archived"];function c3(e){var n=(0,g._)((0,b.useState)("Chats"),2),t=n[0],r=n[1];return(0,p.Y)(cR.tU,{selectedKey:t,onSelectionChange:r,css:cq.tabs,children:(0,p.FD)(W.S,{css:cq.tabsInner,children:[(0,p.Y)(W.S,{gap:4,p:8,children:(0,p.Y)(cR.wb,{"aria-label":"Chats",css:cq.tabListLeft,children:c2.map(function(e){return(0,p.Y)(cR.oz,{id:e,css:cq.tab,children:(0,p.Y)(G.EY,{color:"dimmer",children:e})},e)})})}),(0,p.Y)(W.S,{css:cq.tabContent,children:c2.map(function(n){return(0,p.Y)(cR.Kp,{id:n,css:cq.tabPanel,children:(0,p.Y)(W.S,{css:cq.sessions,children:"Chats"===n?(0,p.Y)(c1,(0,eg._)({},e)):(0,p.Y)(c0,(0,eg._)({},e))})},n)})})]})})}var c4=(0,eo.x)({sessionsListContainer:[es.wp.overflowY("auto")],footer:[es.wp.border({direction:"top",color:U.LU.outlineDimmest})]});function c5(e){var n=e.currentSessionId,t=e.onSessionClick,r=e.onNewSessionClick,a=e.onSettingsButtonClick;return(0,p.FD)(p.FK,{children:[(0,p.Y)(W.S,{css:c4.sessionsListContainer,grow:!0,shrink:!0,children:(0,p.Y)(c3,{currentSessionId:n,onSessionClick:t,onNewSessionClick:r})}),(0,p.Y)(W.S,{css:c4.footer,children:(0,p.Y)(M.$n,{text:"Settings",iconLeft:(0,p.Y)(sV.A,{}),alignment:"start",onClick:a,size:"small",variant:"nofill"})})]})}var c7=t(1310),c9=t(89502),c8=t(56988),c6=t(87087),de=t(84e3);function dn(){var e=(0,g._)((0,b.useState)(!1),2),n=e[0],t=e[1],r=(0,c9.V)().assistantEdits,a=(0,g._)((0,b.useState)(!1),2),i=a[0],o=a[1];return(0,c8.Nk)({usage:null==r?void 0:r.usage,limit:null==r?void 0:r.limit,percentThreshold:c8.h3,onHitThreshold:function(){t(!0),o(!0)}}),(0,c8.Nk)({usage:null==r?void 0:r.usage,limit:null==r?void 0:r.limit,percentThreshold:100,onHitThreshold:function(){(0,ah.u4)(ah.AZ.ASSISTANT_USED,{action:"hit_freemium_quota"})}}),(0,p.FD)(tz.Wv,{isOpen:n,onOpenChange:function(e){t(e),e||o(!1)},label:"Usage",placement:"bottom start",children:[(0,p.Y)(e$.K0,{alt:"Usage",disabled:!r,children:(0,p.Y)(W.S,{css:dt.iconBadgeWrapper,children:(0,p.Y)(lM.A,{})})}),(0,p.Y)(W.S,{css:dt.popoverWrapper,p:8,children:(0,p.FD)(W.S,{gap:12,children:[(0,p.FD)(G.EY,{css:dt.header,children:["Free ",tR.BP," usage"]}),(0,p.Y)(dr,{limit:null==r?void 0:r.limit,usage:null==r?void 0:r.usage,isShowingAlertExplanation:i})]})})]})}var dt=(0,eo.x)({popoverWrapper:[es.wp.width(280)],header:[es.wp.fontWeight.bold],measureBar:[es.wp.height(8)],usageMeterAndTitle:[es.wp.display.flex,es.wp.flex.row,es.wp.justify.spaceBetween,es.wp.align.center],iconBadgeWrapper:[es.wp.position.relative]});function dr(e){var n=e.limit,t=e.usage,r=e.isShowingAlertExplanation;if(!n||void 0===t)return(0,p.Y)(a$.A,{});var a=t>=n,i=Math.floor(t/n*100),o="You've used ".concat(i,"% of your ").concat(ox.Lm," plan ").concat(tR.BP," ").concat((0,c7.pluralize)(lf.go),". ").concat(tR.BP," creates edits when asked to make a change to the code.");return(0,p.FD)(p.FK,{children:[(0,p.Y)(W.S,{gap:4,children:(0,p.Y)(da,{title:"".concat(tR.BP," ").concat((0,c7.pluralize)(lf.go)),current:t,max:n})}),a?(0,p.Y)(ds,{}):null,r?(0,p.Y)(tU.N,{text:o,colorway:"primary"}):null,(0,p.Y)(oT.A,{text:"Upgrade for more",colorway:"brand",variant:"outlined",context:"assistant_freemium_quota",iconLeft:(0,p.Y)(de.A,{})})]})}function da(e){var n=e.title,t=e.current,r=e.max;return(0,p.FD)(W.S,{gap:6,children:[(0,p.FD)(W.S,{css:dt.usageMeterAndTitle,children:[(0,p.Y)(G.EY,{height:"singleLine",children:n}),(0,p.FD)(G.EY,{height:"singleLine",color:"dimmer",children:[t," / ",r]})]}),(0,p.Y)("div",{children:(0,p.Y)(c6.W,{css:dt.measureBar,total:r,current:t,color:U.LU.blueDefault,tooltipHidden:!0})})]})}var di=(0,eo.x)({root:[es.wp.border({color:U.LU.orangeDimmer}),es.wp.borderRadius(),es.wp.py(4),es.wp.px(6),es.wp.colorMixBg(U.LU.orangeDimmer,"transparent",.25)],text:[es.wp.color.orangeStronger]});function ds(){return(0,p.Y)(W.S,{css:di.root,children:(0,p.FD)(G.EY,{css:di.text,children:["You've used 100% of your free ",tR.BP," quota."]})})}var dl=t(78051),du=(0,eo.x)({header:[es.wp.height(28),{zIndex:1}],main:[es.wp.position.relative,es.wp.flex.growAndShrink(1),es.wp.justify.end],content:[{paddingLeft:oS.paddingLeft,justifyContent:"end"}],sidebarBlanket:[es.wp.coverContainer,{zIndex:3,backgroundColor:U.LU.backgroundOverlay,pointerEvents:oS.sidebarBlanketPointerEvents,opacity:oS.sidebarBlanketOpacity}],sidebar:[es.wp.position.absolute,es.wp.top(0),es.wp.left(0),es.wp.borderRadius(),{pointerEvents:oS.sidebarPointerEvents,width:oS.sidebarWidth,height:oS.sidebarHeight,opacity:oS.sidebarOpacity,transform:oS.sidebarTransform,border:"1px solid "+U.LU.outlineDimmest,zIndex:3}]});function dc(e){var n=e.sessionId,t=e.children,r=e.isSettingsPanelOpen,a=e.setIsSettingsPanelOpen,i=e.setSessionId,o=e.openUserSettingsPane,s=e.onNewSessionClick,l=e.sidebarState,u=(0,_.NC)(),c=(0,x.Rj)(function(){return n?u.sessions.get(n):null},[u,n]),d=(0,x.Rj)(function(){return null==c?void 0:c.data},[c]),f=(0,x.J2)(u.sessions.chat.open),h=(0,x.J2)(u.sessions.chat.archived),m=(0,_.UK)().hasAccessToAdvancedModel,v=(0,uA.F)().isFreemiumStarterPlanUsersOwnRepl,g=l.state,y=l.setSidebarContainerEl,w=l.toggleSidebar,S=l.closeIfNeeded;function A(){a(!0),S()}var k=(0,b.useCallback)(function(){(0,ah.u4)(ah.AZ.ASSISTANT_USED,{action:"new_session",intent_type:null,model:null,user_model_selection:null,message_content:null,message_source:"chat_pane",message_surface:"workspace_ai_pane"}),S(),s()},[S,s]),C=(0,b.useCallback)(function(){if(c&&d){var e=d.archived;if((0,ah.u4)(ah.AZ.ASSISTANT_USED,{action:e?"chat_unarchived":"chat_archived",intent_type:null,model:null,user_model_selection:null,message_content:null,message_source:"chat_pane",message_surface:"workspace_ai_pane"}),c.id===n){var t=e?h:f;if(t&&t.size>1){var r=Array.from(t.keys()).find(function(e){return e!==c.id});i(null!=r?r:null)}else k()}c.updateSession({archived:!e})}},[h,k,f,c,d,n,i]),Y=(0,b.useCallback)(function(e){(0,ah.u4)(ah.AZ.ASSISTANT_USED,{action:"chat_renamed",intent_type:null,model:null,user_model_selection:null,message_content:null,message_source:"chat_pane",message_surface:"workspace_ai_pane"}),null==c||c.updateSession({title:e})},[c]),E=(0,oY.s)().addAttachments,T=(0,uL.A)({addAttachments:E}),D=T.isDraggedOver,I=T.drop,R=(0,b.useRef)(null);(0,uk.d)(R,g,oA);var N=d?(0,p.Y)(c_,{title:d.title,archived:d.archived,onRename:Y,onToggleArchived:C},d.id):null,O=(0,dl.L)(n),P=(0,p.Y)(cE,{onAddButtonClick:k,onSidebarButtonClick:function(){return w()},title:N,prefsButton:(0,p.Y)(ck,{onClick:A}),usageButton:v?(0,p.Y)(dn,{}):(0,p.Y)(cC,{sessionCostInCents:O}),sessionCost:null}),F=(0,uF.S)([R,I]);return(0,p.FD)(W.S,{grow:!0,shrink:!0,px:4,innerRef:F,children:[(0,p.Y)(ex.ui,{css:du.header,children:r?(0,p.Y)(cI,{onBack:function(){return a(!1)}}):P}),(0,p.FD)(W.S,{css:du.main,innerRef:y,children:[r?null:(0,p.Y)(W.S,{css:du.sidebarBlanket,onClick:function(){return w(!1)}}),(0,p.Y)(ex.ui,{css:du.sidebar,children:(0,p.Y)(c5,{currentSessionId:n,onNewSessionClick:k,onSessionClick:function(e){a(!1),i(e),S()},onSettingsButtonClick:A})}),(0,p.Y)(W.S,{css:du.content,grow:!0,shrink:!0,children:r?(0,p.Y)(cD,{hasAccessToAdvancedModel:m,onOpenUserSettings:o}):t})]}),D?(0,p.Y)(uU.A,{}):null]})}var dd=t(95670),df=t(16732);function dp(){var e=(0,eb._)(["\n  fragment AssistantAuthorizations on OrgAuthorizations {\n    basicAssistant: useAiAssistant(mode: basic) {\n      __typename\n      isAuthorized\n      message\n      code\n    }\n    advancedAssistant: useAiAssistant(mode: advanced) {\n      __typename\n      isAuthorized\n      message\n      code\n    }\n  }\n"]);return dp=function(){return e},e}function dh(){var e=(0,eb._)(["\n  query GetAssistantReplAuthorizations($orgId: String) {\n    currentUser {\n      id\n      personalOrgAuthorizations {\n        ... on OrgAuthorizations {\n          ...AssistantAuthorizations\n        }\n        ... on Error {\n          message\n        }\n      }\n      org(orgId: $orgId) {\n        ... on Org {\n          id\n          authorizations {\n            ... on OrgAuthorizations {\n              ...AssistantAuthorizations\n            }\n          }\n        }\n        ... on Error {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return dh=function(){return e},e}var dm={},dv=(0,ey.J1)(dp()),dg=(0,ey.J1)(dh(),dv),db=t(81391),dy=t(95168),dw=t(19042),d_=t(36007),dS=t(33841),dA=t(3183),dk=t(49696);function dC(){var e=(0,eb._)(["\n  fragment StartWithAiUsageBudget on UsageBasedBillingBudget {\n    id\n    hasReachedBudget\n  }\n"]);return dC=function(){return e},e}function dY(){var e=(0,eb._)(["\n  query AssitantUsageBanner($orgId: String) {\n    currentUser {\n      id\n      ...CoreSubscriptionPlanStatus\n      usageBasedBillingBudget {\n        __typename\n        ... on UsageBasedBillingBudget {\n          ...StartWithAiUsageBudget\n        }\n      }\n      usageBasedBillingAlerts {\n        ...EditUsageBasedBillingAlertsFormInitialConfig\n      }\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          id\n          name\n          usageBasedBillingBudget {\n            __typename\n            ... on UsageBasedBillingBudget {\n              ...StartWithAiUsageBudget\n            }\n          }\n          usageBasedBillingAlerts {\n            ...EditUsageBasedBillingAlertsFormInitialConfig\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return dY=function(){return e},e}var dE={},dx=(0,ey.J1)(dC()),dT=(0,ey.J1)(dY(),dA.y,dx,dk.B9),dD=t(24467),dI=t(10573),dR=t(88181),dN=(0,eo.x)({bannerContainer:[es.wp.pb(6)],buttonLink:[es.wp.reset.button,sv.b.underlined]});function dO(e){var n,t,r,a,i,o,s,l,u,c,d,f,h=e.assistantAuthz,m=(0,g._)((0,b.useState)(!1),2),v=m[0],y=m[1],w=(0,g._)((0,b.useState)(!1),2),_=w[0],S=w[1],A=(0,g._)((0,b.useState)(!1),2),k=A[0],C=A[1],Y=null==(r=(0,dI.y)().paymentMethod)?void 0:r.last4,E=(0,O.A)(),x=(0,sd.R)(E).orgId,T=(n={variables:{orgId:x}},t=(0,eg._)({},dE,n),ew.I(dT,t)),D=T.data,I=T.loading,R=!1;x?(a=(null==D||null==(i=D.currentUser)?void 0:i.org.__typename)==="Org"&&"UsageBasedBillingAlertsConfig"===D.currentUser.org.usageBasedBillingAlerts.__typename?D.currentUser.org.usageBasedBillingAlerts:void 0,R=(null==D||null==(o=D.currentUser)?void 0:o.org.__typename)==="Org"&&(null==(s=D.currentUser.org.usageBasedBillingBudget)?void 0:s.__typename)==="UsageBasedBillingBudget"&&D.currentUser.org.usageBasedBillingBudget.hasReachedBudget):(a=(null==D||null==(l=D.currentUser)?void 0:l.usageBasedBillingAlerts.__typename)==="UsageBasedBillingAlertsConfig"?D.currentUser.usageBasedBillingAlerts:void 0,R=(null==D||null==(c=D.currentUser)||null==(u=c.usageBasedBillingBudget)?void 0:u.__typename)==="UsageBasedBillingBudget"&&D.currentUser.usageBasedBillingBudget.hasReachedBudget);var N=null!=(d=null==D?void 0:D.currentUser)?d:null,P=(null==N?void 0:N.org.__typename)==="Org"?N.org:void 0,F=null!=(f=null==N?void 0:N.hasCore)&&f;return I||(null==h?void 0:h.advancedAssistant.isAuthorized)||k?null:Y||F?R?(0,p.FD)(W.S,{children:[(0,p.Y)(tF.a,{isOpen:_,onRequestClose:function(){return S(!1)},children:(0,p.Y)(dR.j,{org:P,initialSettings:a,onDone:function(){return S(!1)}})}),(0,p.Y)(W.S,{css:dN.bannerContainer,children:(0,p.Y)(tU.N,{icon:(0,p.Y)(lM.A,{}),text:(0,p.FD)(G.EY,{variant:"small",children:["You must"," ",(0,p.Y)("button",{css:dN.buttonLink,onClick:function(){S(!0)},children:"increase your usage budget"})," ","to enable Advanced ",tR.BP,"."]}),colorway:"blue",closable:!0,closeAction:function(){return C(!0)}})})]}):null:(0,p.FD)(W.S,{children:[(0,p.Y)(tF.a,{isOpen:v,onRequestClose:function(){return y(!1)},children:(0,p.FD)(W.S,{gap:16,children:[(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:"Add Payment Method"}),(0,p.Y)(dD.y,{onClose:function(){y(!1)}})]})}),(0,p.Y)(W.S,{css:dN.bannerContainer,children:(0,p.Y)(tU.N,{icon:(0,p.Y)(de.A,{}),text:(0,p.FD)(G.EY,{variant:"small",children:["You must"," ",(0,p.Y)("button",{css:dN.buttonLink,onClick:function(){y(!0)},children:"add a billing method"})," ","to enable Advanced ",tR.BP,"."]}),colorway:"blue",closable:!0,closeAction:function(){return C(!0)}})})]})}var dP=t(85692),dF=t(95560),dU=t(85627),dL=t(76135),dM=t(82920),dJ=t(21199),dH=t(33669),dB=t(83625),dV=t(98892),d$=t(59737),dG=t(30375),dz=t(47306),dW=t(41260),dj=t(62036),dq=(0,eo.x)({root:[es.wp.color.foregroundDimmer],label:[es.wp.visuallyHidden],selectButton:[es.wp.reset.button,es.wp.flex.row,es.wp.rowWithGap(4),es.wp.cursor.pointer,es.wp.align.center,es.wp.px(4),es.wp.py(2),sv.b.nofill,es.wp.color.foregroundDimmest,es.wp.fontSize(12),{'&[aria-expanded="true"] .chevron':{transform:"rotate(180deg)"},"&:hover":es.wp.color.foregroundDefault}],pooverSurface:[es.wp.borderRadius(4),es.wp.border({color:U.LU.outlineDefault})]});function dZ(e){var n,t=e.assistantMode,r=e.availableModels,a=e.assistantAdvancedAuthz,i=e.showModelNames,o=void 0===i||i,s=e.basicModeAffordances,l=e.advancedModeAffordances,u=e.onChange,c=r.basicModel,d=r.advancedModel,f=r.overrideModel,h=(0,dG.a)();return(0,p.Y)(W.S,{css:dq.root,grow:!0,shrink:!0,children:(0,p.FD)(dH.l6,{selectedKey:t,onSelectionChange:function(e){switch(e){case"basic":case"advanced":u(e)}},children:[(0,p.Y)(dz.J,{css:dq.label,children:"Assistant mode"}),(0,p.FD)(dB.$,{css:dq.selectButton,children:[(0,p.Y)(ul.D8,{model:"basic"===t?I.e3q.BASIC:I.e3q.ADVANCED,size:12}),"basic"===t?"Basic":"Advanced",(0,p.Y)(cy.A,{size:12})]}),(0,p.Y)(dV.A,{placement:h?"top":void 0,children:(0,p.Y)(ex.ui,{css:dq.pooverSurface,elevated:!0,children:(0,p.FD)(d$.qF,{"aria-label":"Assistant chat mode",selectionMode:"single",children:[(0,p.Y)(d$.nh,{id:"basic","aria-label":"basic",children:(0,p.Y)(dQ,{readableModelName:c.name.readable,isSelected:"basic"===t,modeAffordances:void 0===s?"Ask questions":s,showModelNames:o})}),(0,p.Y)(d$.nh,{id:"advanced","aria-label":"advanced",children:(0,p.Y)(dX,{readableModelName:null!=(n=null==f?void 0:f.name.readable)?n:d.name.readable,isSelected:"advanced"===t,isOverrideActive:null!=r.overrideModel,authz:a,modeAffordances:void 0===l?"Generate code & actions":l,showModelNames:o})})]})})})]})})}var dK=(0,eo.x)({root:[es.wp.px(8),es.wp.py(6),es.wp.rowWithGap(8),es.wp.align.center,es.wp.cursor.pointer,es.wp.hover({backgroundColor:U.LU.backgroundHighest})],content:[es.wp.colWithGap(0),es.wp.flex.growAndShrink(1)],modelName:[es.wp.rowWithGap(6),es.wp.align.center]});function dQ(e){var n=e.readableModelName,t=e.isSelected,r=e.modeAffordances,a=e.showModelNames;return(0,p.FD)(W.S,{css:dK.root,children:[(0,p.Y)(W.S,{children:(0,p.Y)(dW.A,{color:U.LU.foregroundDimmer})}),(0,p.FD)(W.S,{css:dK.content,children:[(0,p.Y)(W.S,{css:dK.modelName,children:(0,p.Y)(G.EY,{variant:"small",children:"Basic"})}),(0,p.FD)(G.EY,{variant:"small",color:"dimmer",children:[r," ",a?"with ".concat(n):""]})]}),(0,p.Y)(W.S,{children:t?(0,p.Y)(rL.A,{color:U.LU.foregroundDefault}):null})]})}function dX(e){var n=e.readableModelName,t=e.authz,r=e.isSelected,a=e.isOverrideActive,i=e.modeAffordances,o=e.showModelNames;return(0,p.FD)(W.S,{css:dK.root,children:[(0,p.Y)(W.S,{children:(0,p.Y)(dj.A,{color:U.LU.foregroundDefault})}),(0,p.FD)(W.S,{css:dK.content,children:[(0,p.FD)(W.S,{css:dK.modelName,children:[(0,p.Y)(G.EY,{variant:"small",children:"Advanced"}),t.isAuthorized?(0,p.FD)(G.EY,{variant:"small",color:"dimmer",children:[lf.a7,"\xa2/",lf.go]}):null,t.isAuthorized?null:(0,p.Y)(oI.a,{text:ox.en}),void 0!==a&&a?(0,p.Y)(V.a,{colorway:"orange",text:"Override"}):null]}),(0,p.FD)(G.EY,{variant:"small",color:"dimmer",children:[i," ",o?"with ".concat(n):""]})]}),(0,p.Y)(W.S,{children:r?(0,p.Y)(rL.A,{color:U.LU.foregroundDefault}):null})]})}var d0=(0,eo.x)({root:[es.wp.borderRadius(4,4,0,0),es.wp.rowWithGap(6),es.wp.align.center,es.wp.minHeight(28),es.wp.backgroundColor.backgroundHigher,es.wp.position.relative,es.wp.container("assistantControlBar")],modelIndicatorText:[{"@container (max-width: 270px)":{display:"none"}}],modelIndicatorTooltip:[es.wp.colWithGap(8),es.wp.p(4),es.wp.width("100%")]});function d1(e){var n,t,r,a,i,o=e.availableModels,s=e.assistantAdvancedAuthz,l=void 0===s?{isAuthorized:!0}:s,u=e.onModeSelectChange,c=(0,_.dm)().assistantMode,d=(0,_.fS)(),f=(0,b.useRef)(null),h=(0,oC.m5)();return(0,p.Y)(W.S,{css:d0.root,px:6,innerRef:f,children:(0,p.FD)(dJ.Jy,{getContainer:function(){return h?f.current:document.body},children:[(0,p.Y)(oM.A,{}),(0,p.Y)(W.S,{grow:!0,shrink:!0,children:(0,p.Y)(dZ,{availableModels:o,assistantMode:c,assistantAdvancedAuthz:l,onChange:u})}),(0,p.Y)(d2,{assistantMode:c,assistantAdvancedAuthz:l,isOverrideActive:"advanced"===c&&null!=o.overrideModel,preferredAdvancedModelName:null==d?void 0:d.readable,text:(n=o,t=c,r=n.basicModel,a=n.advancedModel,i=n.overrideModel,"basic"===t?r.name.readable:"advanced"===t&&i?i.name.readable:a.name.readable)})]})})}function d2(e){var n=e.assistantMode,t=e.assistantAdvancedAuthz,r=e.isOverrideActive,a=void 0!==r&&r,i=e.preferredAdvancedModelName,o=e.text;return(0,p.FD)(W.S,{row:!0,gap:4,align:"center",children:[a?(0,p.Y)(V.a,{colorway:"orange",text:"Override"}):null,(0,p.Y)(G.EY,{css:d0.modelIndicatorText,variant:"small",color:"dimmer",children:o}),(0,p.Y)(z.m_,{tooltip:"basic"===n?(0,p.Y)(d3,{assistantAdvancedAuthz:t}):(0,p.Y)(d4,{assistantAdvancedAuthz:t,preferredAdvancedModelName:a?i:void 0}),placement:"top-end",children:(0,p.Y)(ad.A,{color:U.LU.foregroundDimmest})})]})}function d3(e){var n=e.assistantAdvancedAuthz;return(0,p.Y)(W.S,{css:d0.modelIndicatorTooltip,children:(0,p.FD)(G.EY,{variant:"small",children:[(0,p.Y)("strong",{children:"Basic"}),": ",tR.BP,n.isAuthorized?" will answer questions about your code or the Replit environment using a lightweight model.":" will answer general coding questions."]})})}function d4(e){var n=e.assistantAdvancedAuthz,t=e.preferredAdvancedModelName;return(0,p.FD)(W.S,{css:d0.modelIndicatorTooltip,children:[(0,p.FD)(G.EY,{variant:"small",children:[(0,p.Y)("strong",{children:"Advanced"}),": In addition to answering questions,"," ",tR.BP," will write code, propose file changes & shell commands, and use advanced code search techniques."]}),n.isAuthorized&&t?(0,p.FD)(G.EY,{variant:"small",children:["Note that ",t," is best for code generation, and you will experience degraded performance with other models."]}):null]})}var d5=t(9066),d7=t(37606),d9=t(21484),d8=t(65320),d6=t(51627),fe=t(80258),fn=t(41833),ft=t(1012),fr=t(40260),fa=t(97679),fi=t(12856),fo=nv.sj.define({combine:function(e){var n;return null!=(n=e[0])?n:[]},compare:a7()}),fs=new nA.k(function(e){return fo.of(e)}),fl=t(6983),fu=(0,eo.x)({popover:[es.wp.borderRadius(4),es.wp.border({color:U.LU.outlineDefault}),es.wp.overflow("hidden"),es.wp.maxWidth(290)]}),fc=t(69010),fd=t(59092),ff=t(88589),fp=t(24529);function fh(e){return(0,p.FD)(tw.Ay,(0,nh._)((0,eg._)({},e),{children:[(0,p.Y)("path",{fillRule:"evenodd",d:"M1.25 5A2.75 2.75 0 0 1 4 2.25h4.999c.251 0 .485.125.625.334L11.4 5.25H20A2.75 2.75 0 0 1 22.75 8v4.5a.75.75 0 0 1-1.5 0V8c0-.69-.56-1.25-1.25-1.25h-9a.751.751 0 0 1-.625-.335L8.598 3.75H4c-.69 0-1.25.56-1.25 1.25v14c0 .69.56 1.25 1.25 1.25h9a.75.75 0 0 1 0 1.5H4A2.75 2.75 0 0 1 1.25 19V5Z",clipRule:"evenodd"}),(0,p.Y)("path",{fillRule:"evenodd",d:"M18.438 13.8c-.147-.4-.73-.4-.875 0l-1.005 2.744a.458.458 0 0 1-.298.278l-2.436.746a.446.446 0 0 0 0 .857l2.437.752a.458.458 0 0 1 .297.279l1.005 2.745c.146.399.728.399.875 0l1.004-2.745a.458.458 0 0 1 .297-.278l2.437-.75a.446.446 0 0 0 0-.857l-2.437-.749a.458.458 0 0 1-.297-.278L18.437 13.8Z",clipRule:"evenodd"})]}))}var fm=t(90173);function fv(e){return(0,p.Y)(tw.Ay,(0,nh._)((0,eg._)({},e),{children:(0,p.Y)("path",{d:"M12 1c.717 0 1.36.441 1.617 1.11l2.298 5.975 5.975 2.298a1.732 1.732 0 0 1 0 3.234l-5.975 2.298-2.298 5.975a1.732 1.732 0 0 1-3.234 0l-2.298-5.975-5.975-2.298a1.732 1.732 0 0 1 0-3.234l5.975-2.298 2.298-5.975C10.641 1.441 11.283 1 12 1Z"})}))}var fg=(0,eo.x)({root:[sv.b.listItem,es.wp.p(4),es.wp.colWithGap(2)],left:[{fontSize:U.LU.fontSizeSmall}],warning:[{color:U.LU.accentNegativeDefault}],dir:[{opacity:.6},es.wp.flex.shrink(100)]});function fb(e){var n=e.path,t=e.highlighted,r=e.ranges,a=e.status,i=t?{backgroundColor:U.LU.interactiveBackgroundActive}:void 0,o=a?({included:(0,p.Y)(rL.A,{}),overflowing:(0,p.Y)(rJ.A,{}),truncated:(0,p.Y)(rJ.A,{}),unsupported:(0,p.Y)(rJ.A,{})})[a]:null,s=(0,fc.dt)({path:n,ranges:null!=r?r:[]}),l=s.directory,u=s.filename,c=l&&l.text.split("/"),d=c&&c.length>2?"".concat(c[0],"/.../").concat(c[c.length-1],"/"):l&&l.text+"/";return(0,p.Y)(z.m_,{maxWidth:600,closeDelay:"none",tooltip:n,children:(0,p.FD)(W.S,{css:fg.root,style:i,children:[(0,p.FD)(W.S,{row:!0,gap:8,align:"center",style:i,children:[(0,p.FD)(W.S,{css:fg.left,grow:!0,shrink:!0,row:!0,gap:4,align:"center",style:i,children:[(0,p.Y)(aV.A,{path:n,size:16}),(0,p.Y)(ff.e,{text:u.text,highlight:u.ranges,dimmed:!t}),l?(0,p.Y)(W.S,{color:"dimmest",css:fg.dir,children:(0,p.Y)(ff.e,{text:d||"",highlight:l.ranges,dimmed:!t})}):null]}),(0,p.Y)(z.m_,{tooltip:"File not supported",isDisabled:"unsupported"!==a,children:o})]}),"overflowing"===a||"truncated"===a?(0,p.Y)(G.EY,{css:fg.warning,variant:"small",children:"Exceeds file memory"}):null]})})}var fy=(0,av.v)(["iconColor","placeholderColor","itemTransform","inputBorderRadius","inputBorder"]),fw=fy.cssVars,f_=fy.styleTokens,fS=(0,eo.x)({root:[es.wp.width(290),es.wp.maxHeight(300),es.wp.display.flex],inputRow:[es.wp.position.relative,(l={},(0,v._)(l,fw.iconColor,U.LU.foregroundDimmest),(0,v._)(l,fw.placeholderColor,U.LU.foregroundDimmer),(0,v._)(l,":focus-within, :hover",(s={},(0,v._)(s,fw.iconColor,U.LU.foregroundDimmer),(0,v._)(s,fw.placeholderColor,U.LU.foregroundDimmest),s)),l)],searchIcon:[es.wp.coverContainer,es.wp.align.start,es.wp.justify.center,{color:f_.iconColor,pointerEvents:"none"}],input:[es.wp.p(4),es.wp.pl(24)],header:[es.wp.height(24),es.wp.align.center,es.wp.display.flex,es.wp.justify.spaceBetween],selectionButton:[es.wp.reset.button,sv.b.nofill,es.wp.p(2),{fontSize:U.LU.fontSizeSmall}],menu:[es.wp.flex.growAndShrink(1),{overflow:"auto",borderBottom:"1px solid "+U.LU.outlineDimmer}],item:[{transform:f_.itemTransform,position:"absolute",top:0,left:0,width:"100%"}]});function fA(e,n){return n.status&&!e.status?1:e.status&&!n.status?-1:"included"===n.status&&"included"!==e.status?1:"included"===e.status&&"included"!==n.status?-1:0}function fk(e){var n,t,r,a,i,o,s=e.fileContextInclusions,l=e.findFiles,u=e.overscan,c=e.onChange,d=e.unSelectAllFiles,f=e.isRagAuthorized,h=e.ragState,m=e.updatePopperPositionRef,_=(0,b.useRef)(null),S=(0,g._)((0,b.useState)(""),2),A=S[0],k=S[1],C=(0,oD.g)().show,Y=(t=(n=(0,g._)((0,b.useState)({loading:!0,error:null,items:null}),2))[0],r=n[1],(a=(0,b.useRef)(null)).current||(a.current=(0,df.A)(function(e){return(0,y._)(function(){var n;return(0,w.YH)(this,function(t){switch(t.label){case 0:return[4,l(e)];case 1:return n=t.sent(),(0,b.startTransition)(function(){r(null!==n.error?{error:n.error,loading:!1,items:null}:{items:n.files,total:n.total,error:null,loading:!1})}),[2]}})})()},{wait:40})),i=(0,b.useCallback)(function(e){var n;return null==(n=a.current)?void 0:n.call(a,e).catch(function(){})},[]),(0,b.useEffect)(function(){return i(""),function(){try{var e;null==(e=a.current)||e.cancel()}catch(e){}}},[i]),{files:t.items,loading:t.loading,error:t.error,total:t.total,update:i}),E=Y.files,x=Y.total,T=Y.loading,D=Y.error,I=Y.update,R=(0,b.useRef)(null),N=(0,ni.A)(A),O=(0,b.useMemo)(function(){var e=new Map(s.map(function(e){return[e.path,e.inclusionStatus]})),n=null==E?void 0:E.map(function(n){var t=n.path;return{path:t,ranges:n.ranges,status:e.get(t)}});if(!n)return null;if(R.current&&!N.current)return(0,fl.A)(n,{existing:R.current,getKey:function(e){return e.path}});if(N.current)return n;var t=n.sort(fA);return R.current=t,t},[E,s,N]),P=(0,b.useMemo)(function(){var e;return null!=(e=null==O?void 0:O.filter(function(e){return e.status}))?e:[]},[O]);(0,b.useEffect)(function(){if(!T){var e;null==(e=m.current)||e.call(m)}},[T,m]);var F=(0,cs.Bp)({inputValue:A,items:null!=O?O:[],isOpen:!0,defaultHighlightedIndex:0,stateReducer:function(e,n){var t=n.changes;switch(n.type){case cs.Bp.stateChangeTypes.InputKeyDownEnter:case cs.Bp.stateChangeTypes.ItemClick:return(0,ob.jM)(t,function(n){n.highlightedIndex=e.highlightedIndex});default:return t}},onHighlightedIndexChange:function(e){void 0!==e.highlightedIndex&&-1!==e.highlightedIndex&&M.getVirtualItems()[e.highlightedIndex]&&M.scrollToIndex(e.highlightedIndex)},onStateChange:function(e){switch(e.type){case cs.Bp.stateChangeTypes.InputKeyDownEnter:case cs.Bp.stateChangeTypes.ItemClick:if(!e.selectedItem)break;var n,t,r,a=P.includes(e.selectedItem)?"exclude":"include";c({path:e.selectedItem.path,preference:a}),null==(r=_.current)||r.select();break;case cs.Bp.stateChangeTypes.InputChange:k(null!=(n=e.inputValue)?n:""),I(null!=(t=e.inputValue)?t:"")}}}),L=(0,b.useRef)(null),M=(0,eH.Te)({count:null!=(o=null==O?void 0:O.length)?o:0,getScrollElement:function(){return L.current},estimateSize:function(){return 32},getItemKey:function(e){var n,t;return null!=(t=null==O||null==(n=O[e])?void 0:n.path)?t:""},overscan:void 0===u?4:u}),J="".concat(U.LU.space4," ").concat(U.LU.space4," 0 0");return!T||(null==O?void 0:O.length)||(J=U.LU.space4),(0,p.FD)(W.S,{css:fS.root,style:(0,v._)({},fw.inputBorderRadius,J),children:[(0,p.FD)(W.S,{px:6,py:2,align:"center",row:!0,gap:6,children:[(0,p.Y)(G.EY,{css:es.wp.fontWeight.medium,children:"Context"}),f?(0,p.Y)(W.S,{children:(0,p.Y)(fv,{color:U.LU.tealDefault,size:12})}):null]}),(0,p.FD)(W.S,{px:6,children:[f?(0,p.Y)(tU.N,{colorway:"teal",text:(0,p.FD)(W.S,{children:[(0,p.FD)(W.S,{row:!0,gap:4,css:es.wp.align.center,children:[(0,p.FD)(G.EY,{variant:"small",children:[tR.BP," will automatically decide context."]}),(null==h?void 0:h.remainingFilesToIndex)?(0,p.Y)(z.m_,{maxWidth:300,tooltip:(0,p.FD)(W.S,{css:es.wp.textAlign.center,children:[(0,p.FD)(G.EY,{children:[tR.BP," is getting to know your code…"]}),(0,p.Y)(G.EY,{color:"dimmer",children:"(".concat(h.remainingFilesToIndex," files remaining)")})]}),children:(0,p.Y)(a$.A,{size:12})}):null]}),(0,p.Y)(G.EY,{variant:"small",children:"You may highlight specific files if you'd like."})]})}):null,f?null:(0,p.Y)(fd.d,{iconLeft:(0,p.Y)(Z.A,{}),onClick:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:return[4,C("MembershipPurchaseModal",{analyticsContext:{upgrade:{context:"ai_context_menu",surface:"ghostwriter_power_up_dialog"}}})];case 1:return e.sent(),[2]}})})()},colorway:"yellow",text:"Have ".concat(tR.BP," decide context automatically")})]}),(0,p.FD)(W.S,{css:fS.inputRow,p:4,children:[(0,p.Y)(W.S,{css:fS.searchIcon,pl:12,children:T?(0,p.Y)(a$.A,{size:12}):(0,p.Y)(fm.A,{size:12})}),(0,p.Y)(H.pd,(0,eg._)({autoFocus:!0,placeholder:"Search files",css:fS.input},F.getInputProps({ref:_})))]}),D?(0,p.Y)(tU.N,{icon:(0,p.Y)(rJ.A,{}),text:D}):null,void 0!==x?(0,p.FD)(W.S,{css:fS.header,px:4,row:!0,gap:2,children:[(0,p.Y)(G.EY,{variant:"small",color:"dimmest",children:"".concat(s.length,"/").concat(x," selected")}),s.length?(0,p.Y)(W.S,{tag:"button",css:fS.selectionButton,onClick:function(){return function(){var e=[],n=!0,t=!1,r=void 0;try{for(var a,i=(null!=E?E:[])[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=a.value;e.push(o.path)}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}d({paths:e})}()},children:"Unselect All"}):null]}):null,(0,p.Y)("div",(0,nh._)((0,eg._)({css:fS.menu},F.getMenuProps({ref:L})),{children:(0,p.Y)("div",{style:{height:"".concat(M.getTotalSize(),"px"),width:"100%",position:"relative"},children:M.getVirtualItems().map(function(e){var n=e.index,t=e.key,r=e.start,a=null==O?void 0:O[n];return a?(0,p.Y)(W.S,(0,nh._)((0,eg._)({"data-index":n,css:fS.item,style:(0,v._)({},fw.itemTransform,"translateY(".concat(r,"px)"))},F.getItemProps({item:a,index:n,refKey:"innerRef",ref:M.measureElement})),{"aria-selected":void 0!==a.status,children:(0,p.Y)(fb,{highlighted:n===F.highlightedIndex,path:a.path,ranges:a.ranges,status:a.status})}),t.toString()):null})})}))]})}var fC=(0,eo.x)({button:[es.wp.height(24),es.wp.reset.button,es.wp.align.center,es.wp.cursor.pointer,es.wp.px(4),es.wp.py(2),es.wp.rowWithGap(4),sv.b.nofill,es.wp.color.foregroundDimmer,{"&:hover":es.wp.color.foregroundDefault,"@container (max-width: 400px)":{"> div > span":es.wp.display.none}}]});function fY(e){var n,t=(0,g._)((0,b.useState)(!1),2),r=t[0],a=t[1],i=(0,g._)((0,b.useState)(null),2),o=i[0],s=i[1],l=(0,g._)((0,b.useState)(null),2),u=l[0],c=l[1];(0,b.useEffect)(function(){var e=function(e){"Escape"===e.key&&a(!1)};if(r)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[r]);var d=(0,co.E)(o,u,{modifiers:[{name:"offset",options:{offset:[0,4]}},{name:"preventOverflow",options:{padding:16}}],placement:"top-start"}),f=(0,b.useCallback)(function(){d.update&&d.update()},[d]),h=(0,b.useRef)(f);(0,b.useEffect)(function(){h.current=f},[f]);var m=e.fileContextInclusions,v=e.findFiles,y="Add file context",w=m.filter(function(e){return"included"===e.inclusionStatus});w.length&&(y=1===w.length?(n=(0,aU.WP)(w[0].path)).length>20?n.slice(0,10)+"..."+n.slice(-10):n:w.length+" files");var _=(0,b.useId)();return(0,p.FD)(a4.cQ,{children:[(0,p.Y)(M.$n,{iconLeft:e.isRagAuthorized?(0,p.Y)(fh,{}):(0,p.Y)(fp.A,{}),text:y,css:fC.button,ref:s,onClick:function(){return a(function(e){return!e})},"aria-label":"Select files","aria-haspopup":!0,"aria-expanded":r,"aria-controls":_}),(0,p.Y)(dV.A,{isOpen:r,shouldCloseOnInteractOutside:function(e){var n;return n=[u,o],!((0,np._)(e,Node)&&n.some(function(n){return null==n?void 0:n.contains(e)}))&&(a(!1),!0)},isKeyboardDismissDisabled:!0,children:(0,p.Y)(ex.ui,(0,nh._)((0,eg._)({id:_,elevated:!0,style:d.styles.popper,innerRef:c,css:fu.popover},d.attributes.popper),{children:(0,p.Y)(fk,{overscan:e.overscan,onChange:e.onChange,unSelectAllFiles:e.unSelectAll,findFiles:v,fileContextInclusions:m,isRagAuthorized:e.isRagAuthorized,updatePopperPositionRef:h,ragState:e.ragState})}))})]})}var fE={render:function(e){var n=e.file,t=n.path,r=n.match,a=(0,n_.J)((0,p.Y)(W.S,{css:fg.root,style:{width:"100%"},className:"option",children:(0,p.FD)(W.S,{row:!0,justify:"space-between",align:"center",children:[(0,p.FD)(W.S,{css:fg.left,row:!0,gap:4,align:"center",children:[(0,p.Y)(aV.A,{path:t,size:16}),(0,p.Y)(ff.e,{text:r.filename.text,highlight:r.filename.ranges,dimmed:!0}),r.directory?(0,p.Y)(W.S,{color:"dimmest",css:fg.dir,children:(0,p.Y)(ff.e,{text:r.directory.text+"/",highlight:r.directory.ranges,dimmed:!0})}):null]}),"included"===n.inclusionStatus?(0,p.Y)(rL.A,{}):null]})}));return a.style.display="flex",a.style.width="100%",a},position:81},fx=ng.Lz.theme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:U.LU.fontFamilyDefault,fontSize:U.LU.fontSizeSmall},"& > ul > li":{padding:"0px",display:"flex",alignItems:"center"},"& > ul > li[aria-selected] .option":{backgroundColor:U.LU.backgroundHighest}},".cm-completionLabel":{width:0}}),fT=new nA.k(function(e){return e?[fx,(0,d5.yU)({defaultKeymap:!1,icons:!1,aboveCursor:!0,addToOptions:[fE],override:[function(n){return(0,y._)(function(){var t,r,a,i,o;return(0,w.YH)(this,function(s){switch(s.label){case 0:if(!e||!n.matchBefore(/@(\S*)/g)||null===(t=n.matchBefore(/\w*/)))return[2,null];return[4,e(t.text)];case 1:return a=null!=(r=s.sent().files)?r:[],i=new Map(n.state.facet(fo).map(function(e){return[e.path,e.inclusionStatus]})),o=a.map(function(e){var n=e.path,t=e.ranges;return{label:n,displayLabel:" ",file:{path:n,inclusionStatus:i.get(n),match:(0,fc.dt)({path:n,ranges:null!=t?t:[]})}}}),[2,{from:t.from,filter:!1,options:o}]}})})()}],maxRenderedOptions:100})]:[]}),fD=new nA.k(function(e){return ng.Lz.updateListener.of(function(n){var t=!0,r=!1,a=void 0;try{for(var i,o=n.transactions[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value.annotation(d5.rK);s&&e(s.label)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}})}),fI=t(62019),fR=t(37743),fN=t(1833),fO=t(35602),fP=t.n(fO),fF=(0,eo.x)({root:[es.wp.display.inlineFlex],button:[es.wp.reset.button,es.wp.display.inlineFlex,es.wp.px(2),sv.b.outlined,es.wp.borderRadius(4),es.wp.rowWithGap(2),es.wp.align.center],warning:{color:U.LU.redDefault}}),fU=new n_.E(function(e){var n=(0,aU.WP)(e.path),t=(0,aU._6)(e.path);return(0,p.Y)(z.m_,{isDisabled:!t&&!e.warning,tooltip:(0,p.FD)(W.S,{children:[e.warning?(0,p.Y)(G.EY,{variant:"small",css:fF.warning,children:e.warning}):null,t?(0,p.FD)(G.EY,{variant:"small",color:"dimmest",children:[t,"/"]}):null]}),children:function(t,r){return(0,p.Y)(W.S,(0,nh._)((0,eg._)({css:fF.root,innerRef:r},t),{children:(0,p.FD)(W.S,{tag:"button",css:fF.button,onClick:function(){return e.onClick()},children:[(0,p.Y)(aV.A,{size:12,path:e.path}),(0,p.Y)(G.EY,{variant:"small",children:n}),e.warning?(0,p.Y)(rJ.A,{size:12}):null]})}))}})}),fL=function(e){function n(e,t){var r;return(0,fR._)(this,n),(r=(0,fI._)(this,n)).file=e,r.onClick=t,r}(0,fN._)(n,e);var t=n.prototype;return t.eq=function(e){return this.file.path===e.file.path&&this.file.inclusionStatus===e.file.inclusionStatus},t.toDOM=function(){var e=this.file,n=e.path,t=e.inclusionStatus,r=null;switch(t){case"included":break;case"unsupported":r="File not supported";break;case"truncated":case"overflowing":r="Exceedes memory limit"}var a=fU.create({path:n,onClick:this.onClick,warning:r});return a.style.display="inline",a},n}(ng.xO),fM=function(e,n){return new ng.dT({regexp:RegExp("".concat(e.map(function(e){var n=e.path;return"@".concat(fP()(n))}).join("|")),"g"),decoration:function(t,r){var a,i=t[0].substring(1,null==(a=t[0])?void 0:a.length),o=e.find(function(e){return e.path===i});return o?ng.NZ.replace({widget:new fL(o,function(){return n(i)}),inclusive:!0}):null}})},fJ=new nA.k(function(e){return e?ng.Z9.fromClass(function(){function n(t){(0,fR._)(this,n);var r=t.state.facet(fo);this.match=r.length&&e?fM(r,e):null,this.placeholders=this.match?this.match.createDeco(t):ng.NZ.none}return n.prototype.update=function(n){var t=n.state.facet(fo);if(0===t.length){this.match=null,this.placeholders=ng.NZ.none;return}if((0,nb.$H)(n,fo)){this.match=fM(t,e),this.placeholders=this.match.createDeco(n.view);return}if((0,nb.$H)(n,"doc")){if(!this.match){this.match=fM(t,e),this.placeholders=this.match.createDeco(n.view);return}this.placeholders=this.match.updateDeco(n,this.placeholders)}},n}(),{decorations:function(e){return e.placeholders},provide:function(e){return ng.Lz.atomicRanges.of(function(n){var t;return(null==(t=n.plugin(e))?void 0:t.placeholders)||ng.NZ.none})}}):[]}),fH=t(64369),fB=t(86210),fV=(0,av.v)(["padding","columnGap"]),f$=fV.cssVars,fG=fV.styleTokens,fz=ng.Lz.theme((u={"&":{flexGrow:1},"& .cm-content":{fontFamily:U.LU.fontFamilyDefault}},(0,v._)(u,"& .".concat(fe.Fb),{display:"none"}),(0,v._)(u,"& .cm-cursor",{borderLeftColor:U.LU.foregroundDefault,borderLeftWidth:"1px"}),u)),fW=(0,eo.x)({controlBarContainer:[es.wp.position.absolute,es.wp.width("100%"),es.wp.top(0),es.wp.left(0),es.wp.border({width:1,color:U.LU.outlineDimmer,direction:"bottom"})],footer:[es.wp.height(32)],left:[{cursor:"text"}],right:[es.wp.display.flex,es.wp.rowWithGap(8),es.wp.align.end],rightColumn:[es.wp.display.flex,es.wp.flex.column,es.wp.align.center],codemirror:[es.wp.display.flex,es.wp.flex.grow(1),es.wp.maxHeight(300),{"& .cm-editor":[es.wp.flex.grow(1)]}],send:[es.wp.borderRadius(),es.wp.mr(2)],sendDisabled:[(0,eE.Li)("grey")],sendEnabled:[(0,eE.Li)("teal")],chatInput:[es.wp.borderRadius(4),sv.b.filledAndOutlined,es.wp.p(4),es.wp.position.relative,{"@media (hover: hover)":{":not([disabled], [aria-disabled])":{cursor:"text"}},padding:fG.padding,columnGap:fG.columnGap,rowGap:U.LU.space4,border:"1px solid ".concat(U.LU.outlineDimmest),"&:not([disabled], [aria-disabled])":{borderColor:U.LU.outlineDimmer},"&:hover:not([disabled], [aria-disabled]):hover":{borderColor:U.LU.tealStronger},"&:focus-within":{borderColor:U.LU.tealStronger}}]});function fj(e){var n,t,r,a,i,o,s,l,u,c=(0,oC.m5)(),d=(0,oC.m6)(),f=(t=(n={view:e.view,setPromptEditor:e.inputRef}).view,r=n.setPromptEditor,a=(0,b.useRef)(null),i=(0,ni.A)(r),(0,b.useEffect)(function(){if(t){var e=i.current;return e({setValue:function(e){t.state.doc.toString()!==e&&t.dispatch({changes:{from:0,to:t.state.doc.length,insert:e}})},getValue:function(){return t.state.doc.toString()},focus:function(){t.focus(),t.dispatch({selection:{anchor:t.state.doc.length}})},animatePlaceholder:function(){t.dispatch({effects:fH.om.of(!0)}),(0,fn.U)(a,"border-color",U.LU.accentPrimaryDefault),setTimeout(function(){requestAnimationFrame(function(){var e;null==(e=a.current)||e.style.removeProperty("border-color")})},60),t.focus()},animateBorder:function(){}}),function(){e(null)}}},[t,i]),a),h=(0,fH.hk)({text:e.placeholderText}),m=(0,dP.Vn)(e.view,fH.Im),g=fi.bZ.use(e.maxLength),y=(0,ni.A)(e.onSubmit),w=fq.use((0,b.useCallback)(function(e){return y.current(e)},[y]),!e.isConnected),_=fT.use(e.findFiles),S=fJ.use(e.openFile),A=fs.use(e.fileContextInclusions),k=d7.L.use({analyticsSurface:e.analyticsSurface,shouldTrack:!0}),C=e.updateFileContext,Y=fD.use((0,b.useCallback)(function(e){return null==C?void 0:C({path:e,preference:"include"})},[C])),E=ft.U.use({addAttachments:e.addAttachments,onAutoAttachedLargePaste:function(e){(0,ah.u4)(ah.AZ.ASSISTANT_USED,{action:"auto_attached_large_paste",fileSize:e})}}),x=(!e.view||!0===m)&&!e.isLastEventInProgress||e.isSessionLoading&&!e.isLastEventInProgress||(null==(o=e.assistantModeAuthz)?void 0:o.isAuthorized)===!1||e.isSubmitDisabled,T=e.attachments,D=e.attachmentButton,I=e.controlBar,R=e.debugButton,N=e.fileContextButton,O=e.visualSelectorButton,P=(0,fr.e)(),F=e.isSessionLoading,L=e.isLastEventInProgress,M=(0,b.useMemo)(function(){return F?{sendButtonIcon:(0,p.Y)(a$.A,{}),sendButtonAlt:"Loading"}:L?{sendButtonIcon:(0,p.Y)(rq.A,{}),sendButtonAlt:"Stop"}:{sendButtonIcon:(0,p.Y)(rW.A,{}),sendButtonAlt:"Send"}},[F,L]),J=M.sendButtonIcon,H=M.sendButtonAlt,B=function(){if(e.isLastEventInProgress)return void e.onStop();if(e.view){var n=e.view.state.doc.toString();n&&(e.onSubmit(n),e.view.dispatch({changes:{from:0,to:e.view.state.doc.length}}))}},V=(0,fB.z)({type:"assistant"}),$=(0,uF.S)([f,V],{breadcrumb:"client/workspace/components/AiChat/ChatInput/index.tsx:346"}),G=void 0;return e.isSubmitDisabled&&e.submitDisabledReason?G=e.submitDisabledReason:(null==(s=e.assistantModeAuthz)?void 0:s.isAuthorized)===!1&&(G=null==(l=e.assistantModeAuthz)?void 0:l.message),(0,p.FD)(ex.ui,{css:fW.chatInput,innerRef:$,style:(u={flexDirection:"compact"===e.variant?"row":void 0},(0,v._)(u,f$.padding,"compact"===e.variant?"2px 5px":"4px 4px"),(0,v._)(u,f$.columnGap,c||d?"0px":"4px"),(0,v._)(u,"paddingTop",e.controlBar?U.LU.space32:void 0),u),children:[I?(0,p.Y)(W.S,{css:fW.controlBarContainer,children:I}):null,T,(0,p.Y)(d6.A,{ref:e.codemirrorRef,css:fW.codemirror,fontSize:14,extensions:[fz,w,k,E,h,fi.tP,g,A,S,_,Y,d8.r,d9.N,e.isPasteAndDropSupported?E:[],P?[]:dL.fd]}),(0,p.FD)(W.S,{css:fW.footer,py:4,row:!0,gap:8,align:"end",children:["compact"===e.variant?null:(0,p.FD)(W.S,{css:fW.left,grow:!0,shrink:!0,row:!0,gap:8,align:"center",onClick:function(n){if(n.target===n.currentTarget){var t;null==(t=e.view)||t.focus()}},children:[D,O,N,R]}),(0,p.FD)(W.S,{css:fW.right,style:{alignItems:"compact"===e.variant?"flex-end":"center"},children:["compact"===e.variant?null:(0,p.Y)(fi.v$,{view:e.view}),(0,p.FD)(W.S,{css:fW.rightColumn,children:["compact"===e.variant?(0,p.Y)(fi.v$,{view:e.view}):null,c?(0,p.Y)(fa.J,{variant:"assistant",alt:H,onClick:B,dataCy:"ai-chat-send-button",iconOverride:e.isLastEventInProgress?(0,p.Y)(rq.A,{}):void 0}):(0,p.Y)(ex.ui,{elevated:!0,css:fW.send,children:e.isConnected?(0,p.Y)(e$.K0,{css:x?fW.sendDisabled:fW.sendEnabled,disabled:x,tooltipContents:G,tooltipBehavior:x?"default":"hidden",dataCy:"ai-chat-send-button",alt:H,onClick:B,children:J}):(0,p.Y)(e$.K0,{disabled:!0,alt:"Connecting…",children:(0,p.Y)(a$.A,{})})})]})]})]})]})}var fq=new nA.k(function(e,n){return ng.Lz.domEventHandlers({keydown:function(t,r){!((0,d5.lq)(r.state).length>0)&&("Enter"===t.key&&t.metaKey&&t.stopPropagation(),"Enter"===t.key&&!t.shiftKey)&&(t.preventDefault(),n||r.state.field(fH.Im)||(e(r.state.doc.toString()),r.dispatch({changes:{from:0,to:r.state.doc.length}})))}})}),fZ=t(65242);function fK(){var e=(0,eb._)(["\n  query GetRagAuthorization($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        authorizations {\n          useRag {\n            isAuthorized\n            code\n            message\n          }\n        }\n      }\n    }\n  }\n"]);return fK=function(){return e},e}var fQ={},fX=(0,ey.J1)(fK());function f0(){var e,n,t,r=(0,g._)((0,b.useState)(null),2),a=r[0],i=r[1],o=(0,O.A)(),s=(e={variables:{replId:o}},n=(0,eg._)({},fQ,e),ew.I(fX,n)),l=s.data,u=s.refetch,c=(null==l||null==(t=l.getRepl)?void 0:t.__typename)==="Repl"&&l.getRepl.authorizations.useRag.isAuthorized;return(0,nC.b)(function(e,n){var t=n.signal;return(0,y._)(function(){var n,r,a,o,s,l,u,d;return(0,w.YH)(this,function(f){switch(f.label){case 0:if(!c)return[2];n=e.viktor.subscribeCurrentState.subscribe({},{signal:t}).resReadable,r=!1,a=!1,f.label=1;case 1:f.trys.push([1,6,7,12]),s=(0,D._)(n),f.label=2;case 2:return[4,s.next()];case 3:if(!(r=!(l=f.sent()).done))return[3,5];if(!(u=l.value).ok)return i({error:u.payload.message}),[3,5];i(u.payload),f.label=4;case 4:return r=!1,[3,2];case 5:return[3,12];case 6:return d=f.sent(),a=!0,o=d,[3,12];case 7:if(f.trys.push([7,,10,11]),!(r&&null!=s.return))return[3,9];return[4,s.return()];case 8:f.sent(),f.label=9;case 9:return[3,11];case 10:if(a)throw o;return[7];case 11:return[7];case 12:return[2]}})})()},[c]),{isRagAuthorized:c,ragState:a,refetchRagAuthorization:(0,b.useCallback)(function(){u({replId:o})},[u,o])}}var f1=t(12252),f2=t(21105),f3=t(43933),f4=t(33369),f5=t(13091),f7=t(70217),f9=t(92437),f8=t(72905),f6=t(43290);function pe(e){return(0,p.FD)(tw.Ay,(0,nh._)((0,eg._)({},e),{children:[(0,p.Y)("path",{fillRule:"evenodd",d:"M12 8.25a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5ZM9.75 12a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0Z",clipRule:"evenodd"}),(0,p.Y)("path",{fillRule:"evenodd",d:"M12 1.5a.75.75 0 0 1 .75.75v.78a9.002 9.002 0 0 1 8.22 8.22h.78a.75.75 0 0 1 0 1.5h-.78a9.002 9.002 0 0 1-8.22 8.22v.78a.75.75 0 0 1-1.5 0v-.78a9.002 9.002 0 0 1-8.22-8.22h-.78a.75.75 0 0 1 0-1.5h.78a9.002 9.002 0 0 1 8.22-8.22v-.78A.75.75 0 0 1 12 1.5Zm.75 3.037a7.503 7.503 0 0 1 6.713 6.713h-.713a.75.75 0 0 0 0 1.5h.713a7.503 7.503 0 0 1-6.713 6.713v-.713a.75.75 0 0 0-1.5 0v.713a7.503 7.503 0 0 1-6.713-6.713h.713a.75.75 0 0 0 0-1.5h-.713a7.502 7.502 0 0 1 6.713-6.713v.713a.75.75 0 0 0 1.5 0v-.713Z",clipRule:"evenodd"})]}))}var pn=t(1937),pt=t.n(pn);function pr(e){var n=e.disabled,t=e.disabledReason;(0,f9.g)();var r=(0,f6.Z)({context:"assistant"}),a=r.isActive,i=r.setVisualSelectorEnabled,o=r.isSelectorScriptLoaded,s=r.element,l=r.setElement,u=r.isEditingSupported,c=(0,f4.Vp)((0,f5.Q)()),d=(0,f3.F)(),f=(0,dG.a)({tablet:!0}),h=c||!o||!d||f;(0,f2.A)((0,b.useCallback)(function(e){a&&(e.preventDefault(),l(null),i(!1))},[a,l,i]));var m=(0,b.useRef)(null),v=(0,b.useCallback)(function(){i(!0,{isEditingEnabled:!1,shouldClearSelection:!1})},[i]),g=(0,f8.K)(),y=g.shouldShowUpgradeModal,w=g.isUpgrading,_=g.checkVersionAndProceed,S=g.handleUpgradeConfirm,A=g.handleUpgradeCancel,k=g.handleModalClose,C=(0,b.useCallback)(function(){A(),v()},[A,v]),Y=(0,b.useCallback)(function(){_()&&v()},[_,v]);if(h)return null;var E=!!t,x=u?"Visual Editor":"Element selector";return E&&(x=t),(0,p.FD)(p.FK,{children:[(0,p.Y)(z.m_,{isDisabled:!E,tooltip:x,placement:"top-start",children:(0,p.Y)(M.$n,{ref:m,clsx:pt().button,disabled:h||void 0!==n&&n,variant:a?"default":"nofill",colorway:a?"primary":void 0,size:"small",text:(null==s?void 0:s.componentName)?s.componentName:a?"":u?"Edit":"Select",onClick:Y,iconLeft:(0,p.Y)(pe,{size:16})})}),(0,p.Y)(f7.k,{shouldShowUpgradeModal:y,isUpgrading:w,onUpgradeConfirm:S,onUpgradeCancel:C,onClose:k})]})}var pa=(0,eo.x)({attachments:[es.wp.px(4),es.wp.py(8)]});function pi(e){var n,t,r,a,i,o,s,l,u,c,d,f,h,m,v,g,A,C,E,T,D,R,N,O,P=e.assistantAuthz,F=e.sendMessage,U=e.stopMessage,L=e.openFile,M=e.openGitCommit,J=e.inputRef,H=e.isSessionLoading,B=e.sessionId,V=e.fileContextInclusions,$=e.dataAppTourGenerateCodeStep,G=e.portfolioWebsiteTourGenerateCodeStep,z=e.shouldAutoscrollRef,W=(0,_.NC)(),j=(0,x.Rj)(function(){return B?W.sessions.get(B):null},[W,B],{default:null}),q=(0,om._P)({controlName:"flag-agent-debug-info-button"}),Z=(0,om._P)({controlName:"flag-assistant-visual-editor-button"}),K=(0,k.A)().fs;lh();var Q=(n=(0,Y.Sx)(),t=(0,tC.J)(),(0,b.useCallback)(function(e){return(0,y._)(function(){var r,a,i,o,s;return(0,w.YH)(this,function(l){switch(l.label){case 0:return[4,K.listFiles()];case 1:if((r=l.sent()).error||!r.files)return[2,{error:null!=(a=r.error)?a:"Something went wrong",files:null}];if(i=r.files.filter(function(e){return!t(e)}),!e)return[3,3];return[4,(0,fc.UI)(e,i)];case 2:return s=l.sent(),[3,4];case 3:s=(0,fl.A)(i,{existing:n(),getKey:function(e){return e}}).map(function(e){return{path:e}}),l.label=4;case 4:return o=s,[2,{total:i.length,files:o,error:null}]}})})()},[K,t,n])),X=(0,dM.e)(j),ee=(null==X?void 0:X.state)===I.qOk.IN_PROGRESS,en=(0,S.GS)(),et=(0,S.Y9)(),er=(0,_.so)(),ea=(0,_.Gk)(),ei=f0(),eo=ei.isRagAuthorized,es=ei.ragState,el=ei.refetchRagAuthorization;(0,b.useEffect)(function(){el()},[null==P||null==(N=P.advancedAssistant)?void 0:N.isAuthorized,el]);var eu=(0,oD.g)().show,ec=(0,_.dm)(),ed=ec.assistantMode,ef=ec.setAssistantMode,ep=(0,_.K2)().limits.messageCharacters,eh=(0,oC.m5)(),em=(0,nj.A)().showError,eg=(0,oY.s)(),eb=eg.attachments,ey=eg.urlAttachments,ew=eg.removeAttachment,e_=eg.addAttachments,eS=eg.addUrlAttachment,eA=eg.removeUrlAttachment,ek=eg.clearAttachments,eC=eg.isLoading,eY=(o=(r={mode:ed,authz:P}).mode,s=r.authz,l=!0,u=void 0,"advanced"===o?(l=null!=(a=null==s?void 0:s.advancedAssistant.isAuthorized)&&a,u=null==s?void 0:s.advancedAssistant.message):"basic"===o&&(l=null!=(i=null==s?void 0:s.basicAssistant.isAuthorized)&&i,u=null==s?void 0:s.basicAssistant.message),(0,b.useMemo)(function(){return{isAuthorized:l,message:u}},[l,u])),eE=(d=(c={authz:eY,sendMessage:F,shouldAutoscrollRef:z}).authz,f=c.sendMessage,h=c.shouldAutoscrollRef,m=(0,_.Gk)(),v=f0().isRagAuthorized,A=(g=(0,fZ.Zo)({context:"assistant"})).setVisualSelectorEnabled,C=g.element,T=(E=(0,_.dm)()).getAssistantMessageIntent,D=E.getAssistantMessageModel,R=E.getAssistantMode,(0,b.useCallback)(function(e,n){if(m){var t=D(d);(0,ah.u4)(ah.AZ.ASSISTANT_USED,{action:"message_sent",assistant_mode:R(),message_content:e,message_source:"chat_pane",message_surface:"workspace_ai_pane",is_agent_repl:!0}),f({message:e,attachments:n,useRag:v,modelType:t,intent:T(),webviewTargetedElement:null!=C?C:void 0}),h.current=!0,A(!1)}},[m,T,R,D,d,f,v,h,C,A])),ex=(0,nS.A)(),eT=ex.ref,eD=ex.view,eI=null!=(O=(0,dP.Vn)(eD,dL.Wd))?O:[],eR=(0,x.J2)(eC),eN=(0,x.J2)(eb);return(0,p.Y)(p.FK,{children:(0,p.Y)(fj,{codemirrorRef:eT,view:eD,assistantModeAuthz:eY,placeholderText:"Ask ".concat(tR.BP,", use @ to include specific files..."),isPasteAndDropSupported:!0,isConnected:ea,inputRef:J,isLastEventInProgress:ee,isSessionLoading:H,isSubmitDisabled:eR,submitDisabledReason:eC?"Please wait for files to finish uploading":null,findFiles:Q,fileContextInclusions:V,updateFileContext:function(e){return en(e.path,e.preference)},openFile:L,openGitCommit:M,maxLength:ep,onStop:U,onSubmit:function(e){return(0,y._)(function(){return(0,w.YH)(this,function(n){return eY.isAuthorized&&(eE(e,(0,ev._)(eb.current).concat((0,ev._)(ey.current.map(function(e){return e.file})))),ek(),e.trim().length>0&&((null==$?void 0:$.isActive)?$.next():(null==G?void 0:G.isActive)&&G.next())),[2]})})()},analyticsSurface:"workspace_ai_sidebar",attachments:(0,p.Y)(o1.A,{css:pa.attachments,detectedUrls:eI.map(function(e){return(0,p.Y)(dU.A,{source:"workspace",url:e,addUrlAttachment:eS,removeUrlAttachment:eA,onError:em},e)}),fileAttachments:eN.map(function(e){return(0,p.Y)(o2.m1,{attachment:e,removeAttachment:ew,getAttachmentTypeDisclaimer:(0,o3.F)({aiName:tR.BP}),imagesDisabledMessage:"basic"===ed?"".concat(tR.BP," can't see images in Basic mode"):void 0},e.path)})}),attachmentButton:(0,p.Y)(dF.e,{source:"workspace",status:H?"loading":"composing",addAttachments:e_}),addAttachments:e_,debugButton:q&&B?(0,p.Y)(f1.O,{sessionId:B,sessionType:I.dF3.CHAT}):void 0,fileContextButton:(0,p.Y)(fY,{isInMobileWorkspace:eh,onChange:function(e){return en(e.path,e.preference)},unSelectAll:function(e){return et(e.paths)},findFiles:Q,fileContextInclusions:V,isRagAuthorized:eo,ragState:es}),controlBar:(0,p.Y)(d1,{availableModels:er,assistantAdvancedAuthz:null==P?void 0:P.advancedAssistant,onModeSelectChange:function(e){return(0,y._)(function(){return(0,w.YH)(this,function(n){switch(n.label){case 0:if(!(!(null==P?void 0:P.advancedAssistant.isAuthorized)&&"advanced"===e))return[3,2];return[4,eu("MembershipPurchaseModal",{analyticsContext:{upgrade:{context:"ai_model_selector",surface:"ghostwriter_power_up_dialog"}}})];case 1:return n.sent(),[2];case 2:return e!==ed&&(0,ah.u4)(ah.AZ.ASSISTANT_USED,{action:"mode_changed",intent_type:null,mode:e,message_content:null,message_source:"chat_pane",message_surface:"workspace_ai_pane"}),ef(e),[2]}})})()}}),visualSelectorButton:Z?(0,p.Y)(pr,{}):void 0})})}var po=(0,eo.x)({surface:[es.wp.borderRadius(),es.wp.textAlign.center],buttonContainer:[es.wp.width("100%"),es.wp.justify.center]});function ps(e){var n=e.assistantAuthz,t=e.getFileContext,r=e.hideInput,a=(0,iv._)(e,["assistantAuthz","getFileContext","hideInput"]),i=(0,oD.g)().show,o=(0,uA.F)().isFreemiumStarterPlanUsersOwnRepl,s=(0,dS.x)(),l=(0,c9.V)().assistantEdits,u=(0,_.dm)(),c=u.assistantMode,d=u.setAssistantMode,f=!!("advanced"===c&&o&&!(null==l?void 0:l.isUnderQuota)),h=(null==n?void 0:n.advancedAssistant.code)===tN.JBK.PaymentDelinquent,m=(0,om._P)({controlName:"flag-freemium-ai-load-shedder"}),v=(0,oL.A)(),g=function(){(0,ah.u4)(ah.AZ.ASSISTANT_USED,{action:"mode_changed",intent_type:null,mode:"basic",message_content:null,message_source:"chat_pane",message_surface:"workspace_ai_pane"}),d("basic")};return f?(0,p.Y)(W.S,{py:8,px:6,children:(0,p.FD)(ex.ui,{elevated:!0,css:po.surface,py:8,px:12,gap:8,align:"center",children:[(0,p.FD)(G.EY,{variant:"subheadDefault",children:["You've run out of free ",tR.BP," ",(0,sh.A)(lf.go)]}),(0,p.FD)(G.EY,{children:["Upgrade to ",ox.en," to continue generating code. You can still ask ",tR.BP," questions in Basic mode."]}),(0,p.FD)(W.S,{css:po.buttonContainer,row:!0,gap:8,children:[(0,p.Y)(M.$n,{text:"Upgrade to ".concat(ox.en),iconLeft:(0,p.Y)(dj.A,{}),onClick:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:return[4,i("MembershipPurchaseModal",{analyticsContext:{upgrade:{context:"assistant_freemium_quota"}},onPurchaseComplete:v})];case 1:return e.sent(),[2]}})})()},colorway:"brand"}),(0,p.Y)(M.$n,{text:"Switch to Basic mode",onClick:function(){return g()}})]})]})}):r?null:h?(0,p.Y)(dy.E,{}):o&&m?(0,p.Y)(dw.n,{aiName:tR.BP}):s?(0,p.Y)(W.S,{p:8,children:(0,p.Y)(d_.cQ,{aiName:tR.BP})}):(0,p.FD)(W.S,{px:8,pb:8,children:[(0,p.Y)(dO,{assistantAuthz:n}),(0,p.Y)(pi,(0,eg._)({assistantAuthz:n,getFileContext:t},a))]})}var pl=(0,b.forwardRef)(function(e,n){var t,r,a,i,o,s,l,u,c,d,f,h,m,v,A,E,T,D,R,P,F,U,L,M,J,H,B,V,$,G,z,W,j,q,Z=(0,ok.A)(),K=e.openPane,Q=e.onSessionChange,X=e.removePane,ee=(0,g._)((0,b.useState)(null!=(q=e.initialSessionId)?q:null),2),en=ee[0],et=ee[1],er=(0,g._)((0,b.useState)(!1),2),ea=er[0],ei=er[1],eo=(0,_.NC)(),es=(0,x.Rj)(function(){return en?eo.sessions.get(en):null},[eo,en],{default:null}),el=(t=(0,x.HJ)({open:!1,overlayed:!1,width:0}),r=(0,oy.A)(function(e){t.set((0,ob.jM)(t.current,function(n){var t=Math.min(e.width,240);n.overlayed=e.width<500+t,n.width=t}))}),a=(0,b.useCallback)(function(e){return t.set((0,ob.jM)(t.current,function(n){n.open=null!=e?e:!n.open}))},[t]),i=(0,b.useCallback)(function(){var e=t.current,n=e.open,r=e.overlayed;n&&r&&a(!1)},[t,a]),{state:t,setSidebarContainerEl:r,toggleSidebar:a,closeIfNeeded:i});(0,b.useImperativeHandle)(n,function(){return{updateActiveSessionId:function(e){et(null!=e?e:null)},openSettingsPanel:eO.openSettingsPanel,toggleSidebar:function(){el.toggleSidebar()}}}),(0,b.useEffect)(function(){null==Q||Q(en)},[Q,en]),o=(0,g._)((0,db.jd)({fetchPolicy:"network-only",ssr:!1}),1)[0],s=(0,b.useMemo)(function(){return i2()(o,2e3,{trailing:!0})},[o]),(0,_.zv)("received-completed-event",function(e){var n=e.event.contents.contents;(0,N.VF)(n,"messageEventContents")&&(0,N.QN)(n).assistantProposedActions.didCountEditRequest&&s()});var eu=(0,_.q4)(),ec=(0,b.useRef)(!1),ed=(0,g._)((0,b.useState)(null),2),ef=ed[0],ep=ed[1],eh=(0,ta.useRouter)(),em=(0,oC.ME)(eh,"hideChatInput"),eb=(c=(0,O.A)(),f=(d=(0,sd.R)(c)).orgId,h=d.loading,m=d.hasError,T=(v={variables:{orgId:f}},A=(0,eg._)({},dm,v),E=ew.I(dg,A)).data,D=E.loading,R=E.error,P=E.refetch,h||m||D||R?{refetch:P,loading:h||D}:void 0===f?{authorizations:(null==T||null==(u=T.currentUser)?void 0:u.personalOrgAuthorizations.__typename)==="OrgAuthorizations"?T.currentUser.personalOrgAuthorizations:void 0,refetch:P,loading:!1}:{authorizations:(null==T||null==(l=T.currentUser)?void 0:l.org.__typename)==="Org"?T.currentUser.org.authorizations:void 0,refetch:P,loading:!1}),ey=eb.authorizations,e_=eb.loading,eS=(0,_.dm)().getAssistantMode;function eA(e){if(et(e),!Z&&(null==ef||ef.focus(),!e)){var n;null==ef||null==(n=ef.setValue)||n.call(ef,"")}}var ek=(0,b.useCallback)(function(e){return K((0,tY.a)(e))},[K]),eC=(0,b.useCallback)(function(e){return K({type:"git",data:{mode:{type:uf.C.COMMIT,hash:e}}})},[K]),eY=(0,k.A)(),eE=eY.fs,ex=eY.dotReplit,eT=(U=(F={recentFilesObservable:(0,Y.rE)(),getFileContext:(0,C.P)(eE,ex),assistantMode:eS()}).recentFilesObservable,L=F.getFileContext,M=F.assistantMode,J=(0,ni.A)(L),H=(0,S.Vg)(),B=(0,S.nt)(),$=(V=(0,g._)((0,b.useState)([]),2))[0],G=V[1],(0,b.useEffect)(function(){var e=function(e){return(0,y._)(function(){var n,t;return(0,w.YH)(this,function(r){switch(r.label){case 0:return[4,null==(n=J.current)?void 0:n.call(J,{modelType:"advanced"===M?I.e3q.ADVANCED:I.e3q.BASIC,filePreferences:B,recentFiles:e})];case 1:if(!(t=r.sent()))return[2];return G(function(e){var n=e.filePreferences,t=e.fileContextState,r=new Map(t.fileContext.map(function(e){return[e.filePath,"included"]})),a=!0,i=!1,o=void 0;try{for(var s,l=n[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=(0,g._)(s.value,2),c=u[0],d=u[1];if("exclude"===d){r.delete(c);continue}if(t.unsupportedPreferredFiles.has(c)){r.set(c,"unsupported");continue}r.set(c,"included"===r.get(c)?"included":"overflowing")}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return(0,ev._)(r.entries()).map(function(e){var n=(0,g._)(e,2);return{path:n[0],inclusionStatus:n[1]}})}({fileContextState:t,filePreferences:B})),[2]}})})()};return e(U.current),U.subscribe((0,df.A)(e,{wait:2e3}))},[U,B,M,J]),{fileContextInclusions:$,getFileContext:(0,b.useMemo)(function(){return function(){return L({modelType:"advanced"===M?I.e3q.ADVANCED:I.e3q.BASIC,filePreferences:H(),recentFiles:U.current})}},[L,H,M,U])}),eD=eT.fileContextInclusions,eI=eT.getFileContext,eR=e.inputRef,eN=(0,b.useCallback)(function(e){ep(e),null==eR||eR(e)},[eR]),eO=(W=(z=(0,g._)((0,b.useState)(!1),2))[0],j=z[1],{isSettingsPanelOpen:W,openSettingsPanel:(0,b.useCallback)(function(){return j(!0)},[]),openUserSettingsPane:(0,b.useCallback)(function(){K({type:"preferences"})},[K]),setIsSettingsPanelOpen:j}),eP=!!(null==ey?void 0:ey.advancedAssistant.isAuthorized),eF=(null==ey?void 0:ey.advancedAssistant.code)===tN.JBK.PaymentDelinquent,eU=(0,b.useCallback)(function(e){var n=e.message,t=e.attachments,r=e.useRag,a=e.modelType,i=e.intent,o=e.webviewTargetedElement;return(0,y._)(function(){var e,s,l,u,c,d;return(0,w.YH)(this,function(f){switch(f.label){case 0:if(ea)return[2];if(ei(!0),e=es)return[3,2];return[4,eo.sessions.create({sessionType:I.dF3.CHAT})];case 1:if(!(s=f.sent()).ok)return ei(!1),[2];e=s.payload,f.label=2;case 2:return et(e.id),l=t.map(function(e){return{path:e.path,mimeType:e.file.type}}),[4,eI()];case 3:return c=(u=f.sent()).fileContext,d=u.mostRecentFile,[4,e.appendEvent({kind:"message",intent:i,modelType:a,message:n,uploadedFiles:l,useRag:r,webviewTargetedElement:o,fileContext:c,mostRecentFile:d})];case 4:return f.sent(),ei(!1),[2]}})})()},[ea,es,eI,eo]),eL=(0,b.useCallback)(function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(!es)return[3,2];return[4,es.abortLastEvent()];case 1:e.sent(),ei(!1),e.label=2;case 2:return[2]}})})()},[es]),eM=(0,oE.o)(),eJ=(0,nj.A)().showError;return(0,p.Y)(oY.S,{sessionId:null!=en?en:void 0,uploadFiles:eM,onError:eJ,children:(0,p.FD)(dc,(0,nh._)((0,eg._)({sessionId:en,setSessionId:eA,onNewSessionClick:function(){eA(null),null==ef||ef.animatePlaceholder()},sidebarState:el},eO),{children:[es?(0,p.Y)(uN,{openPane:K,removePane:X,sessionId:null==es?void 0:es.id,shouldAutoscrollRef:ec,openAiChatSettingsPanel:eO.openSettingsPanel}):(0,p.Y)(dd.T,{showPromptSuggestions:!em,sessionType:I.dF3.CHAT,onPromptSuggestionClick:ef?function(e){var n;null==ef||null==(n=ef.setValue)||n.call(ef,e.text),Z||null==ef||ef.focus()}:void 0,onSwitchToAgent:function(){return K({type:"agentChat"})},openAiChatSettingsPanel:eO.openSettingsPanel,titleContent:e_||eP?null:(0,p.Y)(oV,{}),footerContent:e_||eP||eF?void 0:(0,p.Y)(oB,{})}),eu?(0,p.Y)(oz,{}):(0,p.Y)(ps,{assistantAuthz:ey,sendMessage:eU,stopMessage:eL,openFile:ek,openGitCommit:eC,inputRef:eN,isSessionLoading:ea,sessionId:en,getFileContext:eI,fileContextInclusions:eD,shouldAutoscrollRef:ec,hideInput:em})]}))})}),pu=t(29218),pc=t(44907),pd=t(66561),pf=t(66404),pp=h.ZU.Object({type:h.ZU.Literal("ghostwriterChat"),data:h.ZU.Optional(h.ZU.Object({sessionId:h.ZU.Optional(h.ZU.String()),newSessionType:h.ZU.Optional(h.ZU.Enum(I.dF3))}))}),ph=(0,eo.x)({root:[es.wp.center,es.wp.flex.growAndShrink(1),es.wp.p(16)]});function pm(){return(0,p.Y)(W.S,{css:ph.root,children:(0,p.Y)(G.EY,{children:"AI is disabled for this team"})})}var pv={Content:function(e){var n=e.pane.data,t=e.options,r=(0,_.NC)(),a=(0,x.Rj)(function(){return(null==n?void 0:n.sessionId)?r.sessions.get(n.sessionId):null},[r,null==n?void 0:n.sessionId],{default:null}),i=(0,om._P)({controlName:"flag-killswitch-ghostwriter-chat",logFlagToAnalytics:!1}),o=t.performPaneOperation,s=(0,b.useCallback)(function(e){o({operation:"open",pane:e,secondary:!0})},[o]),l=(0,b.useCallback)(function(e){o({operation:"remove",pane:{id:e}})},[o]),u=(0,g._)((0,b.useState)(null),2),c=u[0],d=u[1];(0,aB.HP)(function(){return c},[c]);var f=(0,b.useRef)(""),h=(0,b.useRef)(null==n?void 0:n.sessionId),m=(0,b.useRef)(null==n?void 0:n.sessionId),v=(0,b.useRef)(null);(0,b.useEffect)(function(){if(m.current!==(null==n?void 0:n.sessionId)){var e;m.current=null==n?void 0:n.sessionId,null==(e=v.current)||e.updateActiveSessionId(null==n?void 0:n.sessionId)}},[null==n?void 0:n.sessionId]);var y=(0,b.useCallback)(function(e){m.current!==e&&(m.current=null!=e?e:void 0,o({operation:"replace",pane:{type:"ghostwriterChat",data:e?{sessionId:e}:void 0}}))},[o]),w=(0,og.u)(a,void 0,"assistant_chat"),S=w.FeedbackModal,A=w.feedbackCommandGroup,k=(0,pc.y)({sessionId:null==n?void 0:n.sessionId,type:"assistant"}).usageCommand;return((0,aB.Qt)(function(){var e={type:"ghostwriterChat",setInputText:c?c.setValue:function(e){f.current=e}},n=[{name:"Chat",commands:[{data:{type:"action",icon:(0,p.Y)(pf.A,{}),label:"New chat",run:function(){y(null),null==c||c.animatePlaceholder()}}},{data:{type:"action",icon:(0,p.Y)(cw.A,{}),label:"All chats",run:function(){var e;null==(e=v.current)||e.toggleSidebar()}}}]},{name:"Settings",commands:[k,{data:{type:"action",icon:(0,p.Y)(sV.A,{}),label:"Settings",run:function(){var e;null==(e=v.current)||e.openSettingsPanel()}}}]},A];return(0,nh._)((0,eg._)({},e),{commands:n})},[c,y,v,k,A]),(0,ov.f)().isTeamWithAiDisabled)?(0,p.Y)(pm,{}):i?(0,p.Y)(pu.A,{textVariant:"headerDefault",showImage:!0}):(0,p.FD)(p.FK,{children:[(0,p.Y)(pl,{ref:v,inputRef:d,initialSessionId:h.current,openPane:s,removePane:l,analyticsMessageSurface:"workspace_ai_pane",onSessionChange:y}),(0,p.Y)(S,{})]})},Icon:function(e){var n=e.size,t=e.color;return(0,p.Y)(tw.Vx.Provider,{value:{color:t,size:n},children:t?(0,p.Y)(pd.A,{color:t}):(0,p.Y)(oM.A,{})})},getTitle:function(){return tR.BP},description:tR.C3,category:tb.bY.WorkspaceFeatures,decode:function(e){return m.T(pp,e)}},pg=t(31472),pb=t(55689),py=(0,b.createContext)(null);function pw(){var e=(0,b.useContext)(py);if(!e)throw Error("Expected store in context");return e}var p_=(0,ne.eU)([]),pS=(0,ne.eU)(function(e){return e(p_)},function(e,n,t){var r=e(p_),a=Math.random().toString(36).substring(7);n(p_,[{id:a,type:t,dismiss:function(){var t=e(p_).filter(function(e){return e.id!==a});n(p_,t)}}].concat((0,ev._)(r)))});function pA(){return(0,nn.Xr)(pS,{store:pw()})}function pk(e,n){(0,ah.u4)(ap.AZ.GIT_FEATURE_USED,(0,eg._)({action:e,source:"git-pane"},n))}var pC=t(93709),pY=(0,eo.x)({checkboxLabel:es.wp.rowWithGap(8)});function pE(){var e=(0,b.useId)(),n=(0,g._)((0,b.useState)(!0),2),t=n[0],r=n[1],a=(0,g._)((0,b.useState)(!1),2),i=a[0],o=a[1],s=pA(),l=(0,k.A)().git;return(0,p.FD)(p.FK,{children:[(0,p.Y)(M.$n,{text:i?"Initializing...":"Initialize Git Repository",iconLeft:i?(0,p.Y)(a$.A,{}):(0,p.Y)(pC.A,{}),colorway:"primary",loading:i,onClick:function(){return(0,y._)(function(){var e;return(0,w.YH)(this,function(n){switch(n.label){case 0:if(i)return[2];return o(!0),[4,l.init({initialCommit:t,includeAllInitialFiles:!0})];case 1:return(e=n.sent()).error?(o(!1),s(e.error)):(l.forceRefresh(),pk("repository-initialized")),[2]}})})()}}),(0,p.FD)(W.S,{css:pY.checkboxLabel,tag:"label",children:[(0,p.Y)(nQ.S,{id:e,checked:t,onChange:function(e){return r(e)},size:"small"}),(0,p.Y)(G.EY,{variant:"small",multiline:!1,children:"Create initial commit with all changes"})]})]})}var px=t(83807),pT=t(52963),pD=t(38516);function pI(){var e=(0,ic.A)(function(e){return(0,y._)(function(){return(0,w.YH)(this,function(n){return[2,{connectedToGithub:pR(e),error:null}]})})()});return null==e||e.error?null:e.connectedToGithub}function pR(e){return e.hasProfile(px.H.GITHUB)}var pN=t(57992);function pO(e){var n=e.label,t=e.allowReconnect,r=e.callback,a=(0,g._)((0,b.useState)(!1),2),i=a[0],o=a[1],s=(0,k.A)().git,l=pI(),u=(0,i7.A)(),c=(0,pD.P)({onAuth:function(){pk("github-user-connected"),o(!1),s.refreshProfiles({preferredProvider:px.H.GITHUB}),null==r||r()},onClose:function(){return o(!1)}});return l&&!(void 0!==t&&t)?(0,p.Y)(M.$n,{text:"Connected to GitHub",colorway:"primary",iconLeft:(0,p.Y)(rL.A,{}),disabled:!0}):(0,p.Y)(M.$n,{text:i||null===l?"Connecting...":u?"Visit account page to connect to GitHub":void 0===n?"Connect to GitHub":n,colorway:"primary",iconLeft:i?(0,p.Y)(a$.A,{}):(0,p.Y)(pN.A,{}),loading:i,onClick:function(){if(u)return void pT.M.openExternalUrl("/account#connected-services");o(!0),c()}})}var pP=t(16057),pF=t(46317);function pU(e){return!!e&&("string"==typeof e?e.includes(pF.Oe):e.fetch.includes(pF.Oe))}function pL(e){return e.endsWith(".git")?e.slice(0,-4):e}function pM(e){if(!e)return null;var n="string"==typeof e?e:e.fetch;return pU(n)?pL(n):null}function pJ(e){var n="string"==typeof e?e:e.fetch;if(pU(n)){var t=(n=pL(n)).split("/");if(t.length<2)return null;var r=t[t.length-2],a=t[t.length-1];return"".concat(r,"/").concat(a)}return null}var pH=t(70399),pB=(0,eo.x)({body:[es.wp.borderRadius(0,0,8,8)],remedies:[es.wp.flex.wrap,{gap:"8px"}]});function pV(e){var n=e.description,t=e.remedies,r=e.error;return(0,p.FD)(ex.ui,{css:pB.body,p:4,gap:8,elevated:!0,children:[(0,p.Y)(G.EY,{children:n}),(0,p.FD)(W.S,{css:pB.remedies,row:!0,align:"center",justify:"end",children:[t,(0,p.Y)(M.$n,{text:"Dismiss",iconLeft:(0,p.Y)(pH.A,{}),onClick:r.dismiss})]})]})}function p$(e){var n=e.error,t=(0,ic.A)(function(e){return(0,y._)(function(){var t,r,a,i,o,s,l,u,c,d;return(0,w.YH)(this,function(f){switch(f.label){case 0:switch(n.type){case lT.uA.UNKNOWN_NOT_GIT:return[3,1];case lT.uA.UNKNOWN:return[3,2];case lT.uA.CHANNEL_CLOSED:return[3,3];case lT.uA.NOT_INITIALIZED:return[3,4];case lT.uA.UNAUTHENTICATED:return[3,5];case lT.uA.INDEX_FILE_CORRUPT:return[3,7];case lT.uA.UNKNOWN_REMOTE:return[3,8];case lT.uA.UNKNOWN_REF:return[3,9];case lT.uA.INDEX_LOCKED:return[3,10];case lT.uA.NO_COMMITS:return[3,11];case lT.uA.PATH_MATCHED_NO_FILES:return[3,12];case lT.uA.USER_NOT_CONFIGURED:return[3,13];case lT.uA.INVALID_REFERENCE:return[3,14];case lT.uA.BRANCH_ALREADY_EXISTS:return[3,15];case lT.uA.MERGE_CONFLICT:return[3,16];case lT.uA.UPSTREAM_NOT_SET:return[3,17];case lT.uA.HEAD_DETACHED:return[3,18];case lT.uA.DIRTY_WORKTREE:return[3,19];case lT.uA.PROTECTED_BRANCH:return[3,20];case lT.uA.PUSH_REJECTED:return[3,21];case lT.uA.REMOTE_ALREADY_EXISTS:return[3,22];case lT.uA.TIMEOUT:return[3,23];case lT.uA.ALREADY_INITIALIZED:return[3,24];case lT.uA.PRE_COMMIT_HOOK_FAILED:return[3,25]}return[3,26];case 1:return t="Unknown error from the Git service. This is probably a bug in the app.",r=null,[3,27];case 2:return t="There was an unrecognized fatal error with Git. This is probably a bug in the app.",r=null,[3,27];case 3:return t="The command was interrupted. Please try again.",r=null,[3,27];case 4:return t="There isn't a Git repository in the Repl's root directory.",r=null,[3,27];case 5:return[4,e.getRemotes()];case 6:if((a=f.sent()).error)return[2,a];if(0!==a.remotes.size){i=!1,o=!0,s=!1,l=void 0;try{for(u=a.remotes.values()[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)if(d=c.value,pU(d)){i=!0;break}}catch(e){s=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}if(i){if(pR(e))return t="Failed to authenticate with the remote. Please ensure that Replit has access to this repository on GitHub.",r=(0,p.Y)(pO,{label:"Update GitHub Repository Access",callback:n.dismiss,allowReconnect:!0}),[3,27];return t="Failed to authenticate with the remote. You have not connected your Replit account to GitHub, so Replit may not have access to the remote repository. Please connect your account to GitHub and try again.",r=(0,p.Y)(pO,{label:"Connect to GitHub",callback:n.dismiss,allowReconnect:!0}),[3,27]}}return t="Failed to authenticate with the remote.",r=null,[3,27];case 7:return t="The Git index file is corrupt. This can happen if the index file is manually edited, or if the Git repository is corrupted.",r=null,[3,27];case 8:return t="The remote specified isn't configured.",r=null,[3,27];case 9:return t="Remote ref of current branch is missing, publish your branch or restore the remote branch",r=null,[3,27];case 10:return t="Git tried to perform an action but the index lockfile still exists. This means Git either crashed previously or is still running an action.",r=null,[3,27];case 11:return t="There are no commits in the repository.",r=null,[3,27];case 12:return t="The path specified didn't match any files.",r=null,[3,27];case 13:return t="There isn't any user information configured for Git.",r=null,[3,27];case 14:return t="An unknown/invalid reference was specified. This is usually a branch, but it could be something else, such as a tag.",r=null,[3,27];case 15:return t="The branch specified already exists.",r=null,[3,27];case 16:return t="There was an unexpected merge conflict.",r=null,[3,27];case 17:return t="The upstream branch isn't set.",r=null,[3,27];case 18:return t="The HEAD is detached. You have a commit checked out, not a branch.",r=null,[3,27];case 19:return t="There are uncommitted changes.",r=null,[3,27];case 20:return t="This operation cannot be performed on a protected branch.",r=null,[3,27];case 21:return t="The push was rejected by the remote. This is usually because the remote has commits that aren't in the local repository.",r=null,[3,27];case 22:return t="The remote specified already exists.",r=null,[3,27];case 23:return t="The remote operation timed out.",r=null,[3,27];case 24:return t="There is already a Git repository in the Repl's root directory.",r=null,[3,27];case 25:return t="The pre-commit hook failed.",r=null,[3,27];case 26:return t="We ran into an unknown error that we don't have a description for. This is probably a bug with the app.",r=null,[3,27];case 27:return[2,{description:t,remedies:r,error:null}]}})})()},[n],{refresh:!1});if(!t)return(0,p.Y)(pV,{description:null,remedies:null,error:n});if(t.error)return(0,p.Y)(pV,{description:"Unknown error from the Git service. This is probably a bug in the app.",remedies:null,error:n});var r=t.description,a=t.remedies;return(0,p.Y)(pV,{description:r,remedies:a,error:n})}var pG=(0,eo.x)({errorNotification:[{pointerEvents:"all"},es.wp.p(1),es.wp.backgroundColor.accentNegativeDimmer,es.wp.borderRadius(8),es.wp.shadow(3)],header:[es.wp.display.flex,es.wp.flex.row,es.wp.align.center,es.wp.justify.spaceBetween,es.wp.color.accentNegativeStrongest],errorType:[es.wp.font.code,{opacity:.75}],body:[es.wp.backgroundColor.backgroundHigher,es.wp.borderRadius(0,0,8,8)]});function pz(e){var n=e.error;return(0,p.FD)(W.S,{css:pG.errorNotification,children:[(0,p.FD)(W.S,{css:pG.header,py:4,px:8,children:[(0,p.FD)(W.S,{row:!0,gap:4,align:"center",children:[(0,p.Y)(rJ.A,{}),(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:function(e){switch(e.type){case lT.uA.UNKNOWN_NOT_GIT:return"Unknown Error";case lT.uA.UNKNOWN:return"Unknown Git Error";case lT.uA.NOT_INITIALIZED:case lT.uA.UNAUTHENTICATED:case lT.uA.INDEX_FILE_CORRUPT:case lT.uA.UNKNOWN_REMOTE:case lT.uA.UNKNOWN_REF:case lT.uA.INDEX_LOCKED:case lT.uA.NO_COMMITS:case lT.uA.PATH_MATCHED_NO_FILES:case lT.uA.USER_NOT_CONFIGURED:case lT.uA.INVALID_REFERENCE:case lT.uA.BRANCH_ALREADY_EXISTS:case lT.uA.MERGE_CONFLICT:case lT.uA.HEAD_DETACHED:case lT.uA.DIRTY_WORKTREE:case lT.uA.PUSH_REJECTED:case lT.uA.PROTECTED_BRANCH:case lT.uA.REMOTE_ALREADY_EXISTS:case lT.uA.ALREADY_INITIALIZED:case lT.uA.TIMEOUT:case lT.uA.OBJECT_HAS_NO_NOTE:case lT.uA.NOTE_SUCCESSFULLY_REMOVED:case lT.uA.NOTE_SUCCESSFULLY_OVERWRITTEN:case lT.uA.OBJECT_ALREADY_HAS_NOTE:case lT.uA.PRE_COMMIT_HOOK_FAILED:return"Git Error";default:return"Unknown Error"}}(n)})]}),(0,p.Y)(G.EY,{css:pG.errorType,multiline:!1,children:n.type})]}),(0,p.Y)(W.S,{css:pG.body,pt:4,pb:8,px:8,gap:8,children:(0,p.Y)(p$,{error:n})})]})}var pW=(0,eo.x)({errorList:[{pointerEvents:"none"},{transition:"background-color 100ms"},es.wp.position.absolute,es.wp.top(0),es.wp.bottom(0),es.wp.left(0),es.wp.right(0),es.wp.p(8),es.wp.colWithGap(16),es.wp.zIndex(10)]});function pj(){var e=(0,nn.md)(pS,{store:pw()});return(0,p.Y)(W.S,{style:{backgroundColor:e.length>0?"rgba(0, 0, 0, 0.25)":"transparent"},css:pW.errorList,children:e.map(function(e){return(0,p.Y)(pz,{error:e},e.id)})})}function pq(){var e,n,t,r,a=(0,g._)((0,b.useState)(!1),2),i=a[0],o=a[1],s=(0,k.A)().git,l=(n=(e=(0,g._)((0,b.useState)(!1),2))[0],t=e[1],r=(0,k.A)().git,(0,b.useEffect)(function(){return r.onBusyChange(t)},[r]),n),u=pA(),c=(0,ic.A)(function(e){return(0,y._)(function(){var n,t;return(0,w.YH)(this,function(r){switch(r.label){case 0:return[4,e.isInitialized()];case 1:if((n=r.sent()).error)return u(n.error),[2,n];if(!n.initialized)return[2,{hasRemotes:!1,error:null}];return[4,e.getRemotes()];case 2:if((t=r.sent()).error)return u(t.error),[2,t];return[2,{hasRemotes:t.remotes.size>0,error:null}]}})})()},[u]);if(null==c?void 0:c.error)return null;var d=!!c&&c.hasRemotes,f=l||i||null===c;return(0,p.Y)(e$.K0,{alt:d?"Refresh and Fetch":"Refresh",size:24,onClick:function(){return(0,y._)(function(){var e;return(0,w.YH)(this,function(n){switch(n.label){case 0:if(s.isBusy()||f)return[2];if(o(!0),!d)return[3,2];return[4,s.fetch()];case 1:(e=n.sent()).error?u(e.error):pk("remote-fetched"),n.label=2;case 2:return[4,s.refreshProfiles()];case 3:return n.sent(),s.forceRefresh(),setTimeout(function(){return o(!1)},500),[2]}})})()},disabled:f,children:f?(0,p.Y)(a$.A,{}):(0,p.Y)(sI.A,{})})}var pZ=t(44122),pK=t(52080),pQ=t(64607),pX=t(57933);function p0(){var e=(0,eb._)(["\n  query GitUserImageByUsername($username: String!) {\n    userByUsername(username: $username) {\n      id\n      image\n    }\n  }\n"]);return p0=function(){return e},e}var p1={},p2=(0,ey.J1)(p0()),p3=t(36960),p4=t(24506),p5=(0,eo.x)({gitUserContainer:[es.wp.flex.row],gitUserInnerContainer:[es.wp.align.center,es.wp.flex.row,{"& > :not(:first-child)":{marginLeft:U.LU.space4}}],gitUserInnerContainerFlipped:[es.wp.align.center,es.wp.flex.rowReverse,{"& > :not(:last-child)":{marginLeft:U.LU.space4}}],alignCenter:[es.wp.align.center]});function p7(e){var n=e.name,t=e.email,r=e.allowPlaceholderAvatar,a=void 0!==r&&r,i=e.color,o=void 0===i?"default":i,s=e.small,l=void 0!==s&&s,u=e.flip,c=void 0!==u&&u,d=e.placement,f=e.showTooltip;return void 0===f||f?(0,p.Y)(W.S,{css:p5.gitUserContainer,children:(0,p.Y)(z.m_,{placement:void 0===d?"bottom":d,tooltip:(0,p.Y)(G.EY,{children:t}),children:(0,p.FD)(W.S,{css:c?p5.gitUserInnerContainerFlipped:p5.gitUserInnerContainer,children:[(0,p.Y)(p9,{email:t,name:n,enablePlaceholder:a,small:l}),(0,p.Y)(G.EY,{multiline:!1,color:o,variant:l?"small":"text",children:n})]})})}):(0,p.Y)(W.S,{css:p5.gitUserContainer,children:(0,p.FD)(W.S,{css:c?p5.gitUserInnerContainerFlipped:p5.gitUserInnerContainer,children:[(0,p.Y)(p9,{email:t,name:n,enablePlaceholder:a,small:l}),(0,p.Y)(G.EY,{multiline:!1,color:o,variant:l?"small":"text",children:n})]})})}function p9(e){var n,t,r=e.name,a=e.email,i=e.enablePlaceholder,o=void 0!==i&&i,s=e.small,l=void 0!==s&&s,u=(0,g._)((n={initialFetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",ssr:!1},t=(0,eg._)({},p1,n),pX._(p2,t)),1)[0],c=(0,g._)((0,b.useState)(null),2),d=c[0],f=c[1];return(0,b.useEffect)(function(){(0,y._)(function(){var e,n,t,r,i,o,s,l,c,d;return(0,w.YH)(this,function(p){switch(p.label){case 0:if(!a.endsWith("@".concat(p4.D)))return[3,1];return e=a.split("@")[0],(n=(0,g._)(e.split("+"),2))[0],t=n[1],f((0,p3.d3)("https://github.com/".concat(t,".png"))),[3,4];case 1:if(!a.endsWith("@".concat(p4.O)))return[3,3];return o=a.split("@")[0],(s=(0,g._)(o.split("-"),2))[0],[4,u({variables:{username:s[1]}})];case 2:return(l=null==(i=p.sent().data)||null==(r=i.userByUsername)?void 0:r.image)&&f(l),[3,4];case 3:c=(0,pQ.Fx)(a),(d=new URL("https://gravatar.com/avatar/".concat(c))).searchParams.append("d","404"),f(d.toString()),p.label=4;case 4:return[2]}})})()},[a,u]),(0,b.useMemo)(function(){var e=l?12:16;return null===d?o?(0,p.Y)(K.A,{css:p5.alignCenter,size:e,color:U.LU.foregroundDefault}):null:(0,p.Y)(sr.e,{css:p5.alignCenter,username:r,src:d,onError:function(){return f(null)},size:e})},[d,o,l,r])}var p8=t(22611),p6=W.D.button,he=(0,eo.x)({fullWidth:[es.wp.width("100%")],paddedX:[es.wp.px(8)],loadingContainer:[es.wp.display.flex,es.wp.align.center,es.wp.justify.center,es.wp.py(48)],menu:[es.wp.maxWidth(390),es.wp.width(280),es.wp.display.flex,es.wp.flex.shrink(1),es.wp.maxHeight(640),es.wp.borderRadius(8),es.wp.overflow("hidden")],form:[es.wp.display.flex,es.wp.flex.growAndShrink(1),es.wp.flex.column,es.wp.overflow("hidden")],body:[es.wp.py(8),es.wp.colWithGap(8),es.wp.flex.growAndShrink(1),es.wp.overflow("auto")],selector:[es.wp.display.flex,es.wp.align.center,es.wp.rowWithGap(4),es.wp.color.foregroundDefault],menuItem:[{backgroundColor:"inherit"},sv.b.listItem,es.wp.px(8),es.wp.py(4),es.wp.borderRadius(0),es.wp.align.start],virtualItem:[es.wp.position.absolute,es.wp.top(0),es.wp.left(0),es.wp.width("100%"),es.wp.overflow("hidden")],virtualList:[es.wp.position.relative],divider:[es.wp.mt(8),es.wp.mb(8),es.wp.ml(0),es.wp.mr(0)],errorText:[es.wp.color.accentNegativeStronger,es.wp.mt(4)],createBranchButton:[es.wp.height(32),es.wp.overflow("hidden"),{whiteSpace:"nowrap",textOverflow:"ellipsis"}]}),hn=function(e,n){var t=pA(),r=(0,k.A)().git,a=(0,g._)((0,b.useState)(!0),2),i=a[0],o=a[1],s=(0,ic.A)(function(e){return(0,y._)(function(){var n,r,a,i,s,l,u,c,d,f,p,h,m,v,g,b,y,_,S,A,k;return(0,w.YH)(this,function(w){switch(w.label){case 0:return o(!0),[4,e.isInitialized()];case 1:if((n=w.sent()).error)return t(n.error),o(!1),[2,n];if(!n.initialized)return o(!1),[2,{active:[],stale:[],important:[],error:null}];return[4,e.listBranches()];case 2:if((r=w.sent()).error)return t(r.error),o(!1),[2,r];return[4,e.findDefaultBranches()];case 3:if((a=w.sent()).error)return t(a.error),o(!1),[2,a];i=r.branches,s=new Set,l=!0,u=!1,c=void 0;try{for(d=function(){var e=p.value,n=i.find(function(n){return(0,pZ.CC)(n,e)});n&&s.add(n)},f=a.refs[Symbol.iterator]();!(l=(p=f.next()).done);l=!0)d()}catch(e){u=!0,c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}h=Date.now()-72e6,m=[],v=[],g=!0,b=!1,y=void 0;try{for(_=i[Symbol.iterator]();!(g=(S=_.next()).done);g=!0)A=S.value,s.has(A)||(A.commit.author.date>h?m.push(A):v.push(A))}catch(e){b=!0,y=e}finally{try{g||null==_.return||_.return()}finally{if(b)throw y}}return k=Array.from(s),o(!1),[2,{active:m,stale:v,important:k,error:null}]}})})()},[t]),l=function(n){return(0,y._)(function(){var a;return(0,w.YH)(this,function(s){switch(s.label){case 0:if(i||(0,pZ.CC)(e,n))return[2];return o(!0),[4,r.switchBranch(n)];case 1:return(a=s.sent()).error?(t(a.error),o(!1)):(r.forceRefresh(),pk("branch-switched")),[2]}})})()},u=function(e){return(0,y._)(function(){var n;return(0,w.YH)(this,function(a){switch(a.label){case 0:if(i||""===e)return[2];return o(!0),[4,r.createBranch({name:e,checkout:!0})];case 1:return(n=a.sent()).error?(t(n.error),o(!1)):(r.forceRefresh(),pk("branch-created")),[2]}})})()};if((0,b.useEffect)(function(){null!==e&&(o(!1),n({type:uf.C.CURRENT_BRANCH}))},[e,n]),null===s||i)return{loading:i,active:[],stale:[],important:[],handleSwitchBranch:l,handleCreateBranch:u,error:null};if(s.error)return{loading:i,active:[],stale:[],important:[],handleSwitchBranch:l,handleCreateBranch:u,error:s.error};var c=s.active,d=s.stale,f=s.important;return{loading:i,active:null!=c?c:[],stale:null!=d?d:[],important:null!=f?f:[],handleSwitchBranch:l,handleCreateBranch:u,error:null}},ht=function(e){var n=e.branch,t=hn(n,e.switchMode),r=t.loading,a=t.active,i=t.important,o=t.stale,s=t.handleSwitchBranch,l=t.handleCreateBranch,u=(0,g._)((0,b.useState)(!1),2),c=u[0],d=u[1],f=(0,g._)((0,b.useState)(""),2),h=f[0],m=f[1],v=(0,g._)((0,b.useState)(!1),2),_=v[0],S=v[1];return(0,p.Y)(hd,{isOpen:c,setIsOpen:d,important:i,active:a,stale:o,current:n,query:h,setQuery:m,onSwitchBranch:s,createBranchLoading:_,createBranch:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:return S(!0),[4,l(h)];case 1:return e.sent(),m(""),S(!1),[2]}})})()},loading:r})},hr=function(e){var n=e.onClick,t=e.children,r=(0,b.useRef)(null),a=(0,g._)((0,cU.A9)(r,!1),4),i=a[0],o=a[1],s=a[2],l=a[3];return(0,cU.xK)(o,r),(0,p.Y)(p6,{ref:r,role:"menuitem",css:he.menuItem,onClick:function(e){l(),n(e)},onKeyDown:s,tabIndex:i,children:t})},ha=function(e){var n=e.branch;return(0,p.FD)(W.S,{shrink:!0,row:!0,gap:8,align:"center",children:[(0,p.Y)(p7,{name:n.commit.author.name,email:n.commit.author.email,color:"dimmer",allowPlaceholderAvatar:!0,placement:"top",showTooltip:!1,small:!0}),(0,p.Y)(G.EY,{color:"dimmer",variant:"small",children:(0,eP.ie)({date:n.commit.author.date})})]})},hi=function(e){var n=e.branch,t=e.current,r=e.onSwitchBranch,a=(0,b.useMemo)(function(){return(0,pb.F)(n,t)},[n,t]);return(0,p.FD)(hr,{onClick:function(){return r(n)},children:[(0,p.Y)(G.EY,{multiline:!1,css:es.wp.color.foregroundDefault,children:(0,p.Y)(l7,{name:n.name,remote:n.type===pK.xx.REMOTE?n.remote:null,current:a})}),(0,p.Y)(ha,{branch:n})]})},ho=function(e,n){return n.filter(function(n){return(0,pZ.fn)(n).toLowerCase().includes(e.toLowerCase())})},hs=function(e,n,t){var r=0,a=[];if(e.length+n.length+t.length===0)return a;if(e.length>0){a.push({key:"heading-important-".concat(r++),type:"heading",title:"Important"});for(var i=0;i<e.length;++i)a.push({key:"branch-important-".concat(r++),type:"branch",branch:e[i]});n.length+t.length>0&&a.push({key:"divider-important-".concat(r++),type:"divider"})}if(n.length>0){a.push({key:"heading-active-".concat(r++),type:"heading",title:"Active"});for(var o=0;o<n.length;++o)a.push({key:"branch-active-".concat(r++),type:"branch",branch:n[o]});t.length>0&&a.push({key:"divider-active-".concat(r++),type:"divider"})}if(t.length>0){a.push({key:"heading-stale-".concat(r++),type:"heading",title:"Stale"});for(var s=0;s<t.length;++s)a.push({key:"branch-stale-".concat(r++),type:"branch",branch:t[s]})}return a},hl=function(e){var n=e.item,t=e.current,r=e.onSwitchBranch;return"heading"===n.type?(0,p.Y)(W.S,{css:he.paddedX,children:(0,p.Y)(G.EY,{multiline:!1,variant:"small",color:"dimmest",css:es.wp.fontWeight.medium,children:n.title})}):"divider"===n.type?(0,p.Y)(W.S,{css:he.divider,children:(0,p.Y)(uH.a,{})}):(0,p.Y)(W.S,{children:(0,p.Y)(hi,{branch:n.branch,current:t,onSwitchBranch:r})})},hu=function(e){var n=e.items,t=e.current,r=e.onSwitchBranch,a=(0,b.useRef)(null),i=(0,eH.Te)({overscan:10,count:n.length,getScrollElement:function(){return a.current},estimateSize:function(e){var t,r;return null!=(t=void 0===(r=n[e])?0:"heading"===r.type?30:"branch"===r.type?65:"divider"===r.type?20:void 0)?t:0}});return(0,p.Y)(cU.Se,{options:{direction:"vertical"},children:(0,p.Y)("div",{css:he.body,ref:a,children:(0,p.Y)("ul",{css:he.virtualList,style:{height:"".concat(i.getTotalSize(),"px")},children:i.getVirtualItems().map(function(e){return(0,p.Y)("div",{css:he.virtualItem,style:{transform:"translateY(".concat(e.start,"px)")},"data-index":e.index,ref:i.measureElement,children:(0,p.Y)(hl,{item:n[e.index],current:t,onSwitchBranch:r})},e.key.toString())})})})})},hc=function(e){var n=e.query,t=e.setQuery,r=e.filteredImportant,a=e.filteredActive,i=e.filteredStale,o=e.current,s=e.onSwitchBranch,l=e.createBranchLoading,u=e.createBranch,c=e.loading,d=(0,b.useMemo)(function(){return hs(r,a,i)},[r,a,i]),f='Create Branch "'.concat(n,'"'),h=(0,b.useMemo)(function(){return(0,ev._)(r).concat((0,ev._)(a),(0,ev._)(i)).some(function(e){return e.name===n})},[n,r,a,i]);return(0,p.Y)(W.S,{css:he.menu,children:(0,p.Y)("form",{onSubmit:function(e){e.preventDefault(),u()},css:he.form,children:c?(0,p.Y)(W.S,{css:he.loadingContainer,children:(0,p.Y)(a$.A,{})}):(0,p.FD)(p.FK,{children:[(0,p.Y)(W.S,{p:8,children:(0,p.Y)(p8.I,{value:n,onChange:function(e){t(e.target.value)},onClear:function(){t("")},loading:!1,placeholder:"Find or create a branch..."})}),(0,p.Y)(W.S,{css:he.paddedX,children:(0,p.Y)(uH.a,{})}),d.length>0?(0,p.Y)(hu,{items:d,current:o,onSwitchBranch:s}):null,h||""===n?null:(0,p.FD)(W.S,{p:8,children:[(0,p.Y)(M.$n,{text:f,size:"small",iconLeft:l?(0,p.Y)(a$.A,{}):(0,p.Y)(u6.A,{}),stretch:!0,css:he.createBranchButton,disabled:l||!(0,pZ.eB)(n),type:"submit"}),(0,pZ.eB)(n)?null:(0,p.Y)(G.EY,{variant:"small",css:he.errorText,multiline:!1,children:"Invalid branch name"})]})]})})})},hd=function(e){var n=e.isOpen,t=e.setIsOpen,r=e.important,a=e.active,i=e.stale,o=e.current,s=e.query,l=e.setQuery,u=e.onSwitchBranch,c=e.createBranchLoading,d=e.createBranch,f=e.loading,h=(0,b.useMemo)(function(){return ho(s,r)},[s,r]),m=(0,b.useMemo)(function(){return ho(s,a)},[s,a]),v=(0,b.useMemo)(function(){return ho(s,i)},[s,i]);return(0,p.FD)(tz.Wv,{label:"View Branches",placement:"bottom",isOpen:n,onOpenChange:function(e){t(e)},offset:16,children:[function(e){var t=e.onClick,r=(0,iv._)(e,["onClick"]);return(0,p.Y)(M.$n,{variant:"nofill",text:(0,p.FD)(G.EY,(0,nh._)((0,eg._)({multiline:!1,variant:"small",css:he.selector},r),{children:[(0,p.Y)(l7,{name:o.name,remote:o.type===pK.xx.REMOTE?o.remote:null,icon:!0}),n?(0,p.Y)(iN.A,{}):(0,p.Y)(tW.A,{})]})),size:"small",stretch:!0,alignment:"start",css:he.fullWidth,onClick:t})},(0,p.Y)(hc,{query:s,setQuery:l,filteredImportant:h,filteredActive:m,filteredStale:v,current:o,onSwitchBranch:u,createBranchLoading:c,createBranch:d,loading:f})]})},hf=t(8548),hp=(0,eo.x)({container:[es.wp.height(36),es.wp.px(8),es.wp.py(4),es.wp.rowWithGap(8),es.wp.backgroundColor.backgroundDefault,es.wp.align.center,es.wp.justify.spaceBetween,es.wp.zIndex(1),{borderBottom:"1px solid ".concat(U.LU.outlineDimmer)}],left:[es.wp.rowWithGap(4),es.wp.align.center,es.wp.flex.growAndShrink(1)],right:[es.wp.rowWithGap(8),es.wp.align.center],back:{marginLeft:-4}}),hh=function(e){var n=e.openSettings;return(0,p.FD)(W.S,{css:hp.container,children:[(0,p.FD)(W.S,{css:hp.left,children:[(0,p.Y)(hf.A,{size:16}),(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:"Repository"})]}),(0,p.FD)(W.S,{css:hp.right,children:[(0,p.Y)(h_,{openSettings:n}),(0,p.Y)(pq,{})]})]})},hm=function(e){var n=e.branch,t=e.switchMode,r=e.openSettings;return(0,p.FD)(W.S,{css:hp.container,children:[(0,p.Y)(W.S,{css:hp.left,children:(0,p.Y)(ht,{branch:n,switchMode:t})}),(0,p.FD)(W.S,{css:hp.right,children:[(0,p.Y)(h_,{openSettings:r}),(0,p.Y)(pq,{})]})]})},hv=function(e){var n=e.onBack;return(0,p.FD)(W.S,{css:hp.container,children:[(0,p.FD)(W.S,{css:hp.left,children:[(0,p.Y)(hy,{onBack:n,alt:"Back"}),(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:"Settings"})]}),(0,p.Y)(W.S,{css:hp.right})]})},hg=function(e){var n=e.switchMode,t=e.openSettings;return(0,p.FD)(W.S,{css:hp.container,children:[(0,p.FD)(W.S,{css:hp.left,children:[(0,p.Y)(hw,{switchMode:n}),(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:"Commit"})]}),(0,p.FD)(W.S,{css:hp.right,children:[(0,p.Y)(h_,{openSettings:t}),(0,p.Y)(pq,{})]})]})};function hb(e){var n=e.mode,t=e.branch,r=e.switchMode,a=e.onBack,i=function(){return r({type:uf.C.SETTINGS})};switch(n){case uf.C.DASHBOARD:return(0,p.Y)(hh,{openSettings:i});case uf.C.BRANCH:case uf.C.CURRENT_BRANCH:if(null===t)throw Error("Tried to show branch in header, but branch is null");return(0,p.Y)(hm,{branch:t,switchMode:r,openSettings:i});case uf.C.SETTINGS:return(0,p.Y)(hv,{onBack:a});case uf.C.COMMIT:return(0,p.Y)(hg,{switchMode:r,openSettings:i});default:return(0,p.FD)(W.S,{css:hp.container,children:[(0,p.Y)(W.S,{css:hp.left}),(0,p.Y)(W.S,{css:hp.right})]})}}function hy(e){var n=e.onBack,t=e.alt;return(0,p.Y)(e$.K0,{css:hp.back,alt:t,size:28,onClick:n,children:(0,p.Y)(cx.A,{})})}function hw(e){var n=e.switchMode;return(0,p.Y)(hy,{css:hp.back,onBack:function(){return n({type:uf.C.CURRENT_BRANCH})},alt:"Back to current branch"})}function h_(e){var n=e.openSettings;return(0,p.Y)(e$.K0,{alt:"Settings",size:24,onClick:n,children:(0,p.Y)(sV.A,{})})}function hS(){return(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{multiline:!1,children:"Unsupported state: you are applying a mailbox patch."}),(0,p.Y)(G.EY,{multiline:!1,children:"Please finish the patch manually."})]})}function hA(){return(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{multiline:!1,children:"Unsupported state: you are in the middle of a bisect."}),(0,p.Y)(G.EY,{multiline:!1,children:"Please finish the bisect manually."})]})}function hk(){var e=(0,eb._)(["\n  query PushBranchButtonIsProjectRepl($id: String!) {\n    getRepl(id: $id) {\n      __typename\n      ... on Repl {\n        id\n        project {\n          id\n        }\n      }\n    }\n  }\n"]);return hk=function(){return e},e}var hC={},hY=(0,ey.J1)(hk()),hE=t(72096),hx=t.n(hE),hT=t(10795);function hD(){var e=(0,eb._)(["\n  query GithubRemoteConfigRepl($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        description\n        isPrivate\n        slug\n        url\n      }\n    }\n  }\n"]);return hD=function(){return e},e}function hI(){var e=(0,eb._)(["\n  query GithubRemoteConfigUser($orgId: String!) {\n    currentUser {\n      ... on CurrentUser {\n        id\n        gitHubInfo {\n          installations {\n            id\n            type\n            name\n            avatarUrl\n            accountId\n            repositorySelection\n          }\n          accessToken\n        }\n        org(orgId: $orgId) {\n          ... on Org {\n            id\n            settings {\n              ... on OrgSettings {\n                requirePrivateRemote\n                adminOnlyPrivateRemoteBypass\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return hI=function(){return e},e}function hR(){var e=(0,eb._)(["\n  mutation GithubRemoteConfigCreateGithubRepo($input: CreateGithubRepoInput!) {\n    createGithubRepo(input: $input) {\n      ... on CreateGithubRepoResult {\n        remoteUrl\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return hR=function(){return e},e}var hN={},hO=(0,ey.J1)(hD()),hP=(0,ey.J1)(hI()),hF=(0,ey.J1)(hR()),hU=t(82402),hL=t(26712),hM=t(22440);function hJ(e){return(0,p.FD)(tw.Ay,(0,nh._)((0,eg._)({},e),{children:[(0,p.Y)("path",{fillRule:"evenodd",d:"M7.25 7a4.75 4.75 0 1 1 9.5 0 4.75 4.75 0 0 1-9.5 0Z",clipRule:"evenodd"}),(0,p.Y)("path",{d:"M8 14.25A4.75 4.75 0 0 0 3.25 19v2c0 .414.336.75.75.75h16a.75.75 0 0 0 .75-.75v-2A4.75 4.75 0 0 0 16 14.25H8Z"})]}))}var hH=t(51270),hB=t.n(hH);function hV(e){var n,t,r,a,i,o,s,l,u,c,d,f,h,m,v,_,S,A,C,Y,E,x,T=e.remoteName,D=e.onCreateSuccess,I=e.updateRemote,R=e.hasRemote,N=(0,nj.A)().showConfirm,P=(0,k.A)().git,F=(0,nK.c)(),U=(0,O.A)(),L=(0,b.useRef)(null),J=(0,b.useRef)(null),B=(0,cl.ET)(),V=B.orgRole,$=B.orgId,j=(n={variables:{replId:U}},t=(0,eg._)({},hN,n),ew.I(hO,t)).data,q=(r={variables:{orgId:null!=$?$:""}},a=(0,eg._)({},hN,r),ew.I(hP,a)),Z=q.data,K=q.loading,Q=!!(null==Z||null==(l=Z.currentUser)||null==(s=l.gitHubInfo)||null==(o=s.installations)?void 0:o.length),X=null==Z||null==(d=Z.currentUser)||null==(c=d.gitHubInfo)||null==(u=c.installations)?void 0:u.filter(function(e){return"Organization"===e.type}),ee=(null==Z||null==(h=Z.currentUser)||null==(f=h.org)?void 0:f.__typename)==="Org"&&(null==Z||null==(_=Z.currentUser)||null==(v=_.org)||null==(m=v.settings)?void 0:m.__typename)==="OrgSettings"&&Z.currentUser.org.settings.requirePrivateRemote,en=(null==Z||null==(A=Z.currentUser)||null==(S=A.org)?void 0:S.__typename)==="Org"&&(null==Z||null==(E=Z.currentUser)||null==(Y=E.org)||null==(C=Y.settings)?void 0:C.__typename)==="OrgSettings"&&Z.currentUser.org.settings.adminOnlyPrivateRemoteBypass,et=ee||en&&V!==hT.v7i.SystemAdmins,er=Q&&X&&X.length>0,ea=(null==j?void 0:j.getRepl.__typename)==="Repl"?j.getRepl:{slug:void 0,description:void 0,isPrivate:void 0,url:void 0},ei=ea.slug,eo=ea.description,es=ea.isPrivate,el=ea.url,eu=(0,g._)((i=(0,eg._)({},hN,void 0),uV.n(hF,i)),2),ec=eu[0],ed=eu[1].loading,ef=(0,g._)((0,b.useState)(),2),ep=ef[0],eh=ef[1],em=(0,g._)((0,b.useState)({type:"personal"}),2),ev=em[0],eb=em[1],ey=(0,g._)((0,b.useState)(void 0),2),e_=ey[0],eS=ey[1],eA=(0,g._)((0,b.useState)(null==(x=es||et)||x),2),ek=eA[0],eC=eA[1],eY=(0,g._)((0,b.useState)(R?"":ei),2),eE=eY[0],ex=eY[1],eT=(0,g._)((0,b.useState)(),2),eD=eT[0],eI=eT[1],eR=(0,g._)((0,b.useState)(R?"":null!=eo?eo:el&&"Repository for https://replit.com".concat(el)),2),eN=eR[0],eO=eR[1],eP=(0,g._)((0,b.useState)(),2),eF=eP[0],eU=eP[1],eL=!eE||"organization"===ev.type&&!e_,eM=function(){eI(void 0),eU(void 0),eh(void 0)};return(0,p.FD)(W.S,{gap:4,children:[(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"Repository Location"}),(0,p.FD)(aA.e2,{stretch:!0,row:!0,name:"repository-location",value:ev.type,onChange:function(e){if("organization"===e){var n,t,r,a;if(!(null==Z||null==(a=Z.currentUser)||null==(r=a.gitHubInfo)||null==(t=r.installations)||null==(n=t[0])?void 0:n.name))return void eb({type:"organization",organizationName:void 0});eb({type:"organization",organizationName:null!=e_?e_:Z.currentUser.gitHubInfo.installations[0].name})}else eb({type:"personal"})},children:[(0,p.Y)(aA.$O,{id:"personal",value:"personal",text:"Personal",icon:(0,p.Y)(hJ,{})}),(0,p.Y)(aA.$O,{id:"organization",value:"organization",text:"Organization",icon:(0,p.Y)(hL.A,{})})]}),(0,p.Y)(W.S,{children:"organization"===ev.type?er?(0,p.Y)(ac.in,{isDisabled:!er,label:"Select an organization",trigger:K?(0,p.Y)(M.$n,{text:(0,p.Y)(a$.A,{}),disabled:!0}):(0,p.Y)(M.$n,{iconRight:(0,p.Y)(tW.A,{}),text:null!=e_?e_:"Select a target Github organization",disabled:!er}),onAction:function(e){eS(e.toString()),eb({type:"organization",organizationName:e.toString()})},items:X,children:function(e){return(0,p.Y)(ac.Dr,{id:e.name,label:e.name},e.name)}}):(0,p.Y)(tU.N,{colorway:"warning",text:(0,p.FD)(G.EY,{children:["No available organizations. Install the Replit Github app on your organization to continue."," ",(0,p.Y)(hx(),{href:"/account#connected-services",children:"Manage Connection"})," "]})}):null}),(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"Repository name"}),(0,p.Y)(H.pd,{ref:L,placeholder:"Enter repository name",value:eE,onChange:function(e){eI(void 0),ex(e.target.value)},onKeyDown:function(e){if("Enter"===e.key){var n;e.preventDefault(),null==(n=J.current)||n.focus()}}}),(0,p.Y)(G.EY,{clsx:hB().errorText,multiline:!1,children:eD}),(0,p.Y)(hU.A,{height:1}),(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"Repository description"}),(0,p.Y)(H.ov,{ref:J,maxLength:350,name:"Repository description",placeholder:"Enter repository description",value:null!=eN?eN:void 0,onChange:function(e){eU(void 0),eO(e.target.value)}}),(0,p.Y)(G.EY,{css:hB().errorText,multiline:!1,children:eF}),(0,p.Y)(hU.A,{height:1}),(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"Privacy"}),(0,p.Y)(z.m_,{tooltip:ee?"Private repositories are required.":en?"Only admins can create public repositories.":"Users can create both public and private repositories.",isDisabled:!et,children:(0,p.FD)(aA.e2,{tag:"fieldset",id:F("privacy"),name:F("privacy"),disabled:et||K,value:ek,onChange:function(e){return eC(e)},row:!0,clsx:hB().privateToggle,children:[(0,p.Y)(aA.$O,{id:F("true"),value:!0,text:"Private",icon:(0,p.Y)(of.A,{})}),(0,p.Y)(aA.$O,{id:F("false"),value:!1,text:"Public",icon:(0,p.Y)(hM.A,{})})]})}),(0,p.Y)(hU.A,{height:2}),(0,p.Y)(W.S,{children:eL?(0,p.Y)(tU.N,{clsx:hB().statusText,text:(0,p.Y)(G.EY,{color:"dimmest",variant:"small",children:eE?"organization"!==ev.type||e_?"":"Target organization is required":"Repository name is required"})}):null}),(0,p.Y)(M.$n,{text:ed?"Creating Repository on GitHub…":"Create Repository on GitHub",colorway:"primary",iconLeft:(0,p.Y)(pN.A,{}),onClick:function(){return(0,y._)(function(){var e,n,t,r;return(0,w.YH)(this,function(a){switch(a.label){case 0:if(eM(),!eE)return[2];if(!(0,pZ.em)(eE))return eI("Invalid remote name."),[2];if("organization"===ev.type&&!e_)return eh("Please select an organization"),[2];return[4,ec({variables:{input:{name:eE,description:null!=eo?eo:null,githubOrgId:"organization"===ev.type?ev.organizationName:void 0,homepage:"replit.com".concat(el),isPrivate:ek,ownerType:"organization"===ev.type?tN.nr1.Organization:tN.nr1.User}}})];case 1:if((null==(e=(r=a.sent()).data)?void 0:e.createGithubRepo.__typename)==="UnauthorizedError"||(null==(n=r.data)?void 0:n.createGithubRepo.__typename)==="UserError")return eh(r.data.createGithubRepo.message),[2];if((null==(t=r.data)?void 0:t.createGithubRepo.__typename)==="CreateGithubRepoResult"){var i;i=r.data.createGithubRepo.remoteUrl,(0,y._)(function(){var e,n,t;return(0,w.YH)(this,function(r){switch(r.label){case 0:return[4,P.getRemotes()];case 1:if((e=r.sent()).error)return eh("Error finding current remotes, ".concat(e.error)),[2];if(!e.remotes.has(T))return[3,3];return[4,P.setRemoteURL({remote:T,url:i})];case 2:if((n=r.sent()).error)return eh("Error (".concat(n.error,") setting ").concat(T," to use ").concat(i," as a remote.")),[2];return null==I||I(i),pk("remote-edited"),[2];case 3:return[4,P.addRemote({name:T,url:i})];case 4:if((t=r.sent()).error)return eh("Error (".concat(t.error,") adding ").concat(T," ").concat(i," as a remote.")),[2];return null==I||I(i),pk("remote-added"),[2]}})})(),pk("github-repository-published"),N("Created repository on Github"),D()}return[2]}})})()},loading:ed,disabled:eL}),ep?(0,p.Y)(G.EY,{css:hB().errorText,maxLines:2,multiline:!1,children:ep}):null]})}var h$=(0,nV.AH)(es.wp.rowWithGap(4)),hG=(0,nV.AH)(es.wp.flex.growAndShrink(1)),hz=(0,nV.AH)(es.wp.color.accentNegativeStronger,es.wp.pl(4));function hW(e){var n=e.initialRemoteUrl,t=e.remoteName,r=e.updateRemote,a=(0,k.A)().git,i=(0,g._)((0,b.useState)(),2),o=i[0],s=i[1];(0,b.useEffect)(function(){s(void 0)},[n]);var l=(0,g._)((0,b.useState)(),2),u=l[0],c=l[1],d=(0,g._)((0,b.useState)(!1),2),f=d[0],h=d[1],m=function(){return(0,y._)(function(){var e,n,i;return(0,w.YH)(this,function(s){switch(s.label){case 0:if(s.trys.push([0,5,6,7]),!o)return[2];if(h(!0),!(0,pZ.C2)(o))throw Error("Invalid remote url.");return[4,a.getRemotes()];case 1:if((e=s.sent()).error)throw Error("Error finding current remotes, ".concat(e.error));if(!e.remotes.has(t))return[3,3];return[4,a.setRemoteURL({remote:t,url:o})];case 2:if((n=s.sent()).error)throw ip({context:"remote-input",gitService:a,result:n,data:{remote:t,url:o}}),Error("Error (".concat(n.error,") setting ").concat(t," to use ").concat(o," as a remote."));return pk("remote-edited"),r(o),[2];case 3:return[4,a.addRemote({name:t,url:o})];case 4:if((i=s.sent()).error)throw ip({context:"remote-input",gitService:a,result:i,data:{remote:t,url:o}}),Error("Error (".concat(i.error,") adding ").concat(t," ").concat(o," as a remote."));return pk("remote-added"),[3,7];case 5:return c(s.sent().message),[3,7];case 6:return h(!1),[7];case 7:return[2]}})})()};return(0,p.FD)(W.S,{grow:!0,children:[(0,p.Y)(H.pd,{name:"Remote URL",placeholder:"Enter Remote URL",value:null!=o?o:n,autoComplete:"off",autoCorrect:"off",onChange:function(e){c(void 0),s(e.target.value)},inputMode:"url","aria-label":"Remote URL",onKeyDown:function(e){"Enter"===e.key&&m()}}),u?(0,p.Y)(G.EY,{variant:"small",css:hz,multiline:!1,children:u}):null,o&&o!==n?(0,p.FD)(p.FK,{children:[(0,p.Y)(hU.A,{height:1}),(0,p.FD)(W.S,{css:h$,children:[(0,p.Y)(M.$n,{css:hG,text:"Cancel",iconLeft:(0,p.Y)(pH.A,{}),onClick:function(){return s(void 0)}}),(0,p.Y)(M.$n,{css:hG,text:f?"Saving…":"Save",loading:f,colorway:"primary",iconLeft:(0,p.Y)(rL.A,{}),onClick:m})]})]}):null]})}var hj=function(e){return"repl-".concat(e)},hq=function(e){var n=e.replId,t=e.branch;return"repl-".concat(n,"/").concat(t)},hZ=function(e){var n=e.git,t=e.replId;return(0,y._)(function(){var e,r,a,i,o,s;return(0,w.YH)(this,function(l){switch(l.label){case 0:return e=hj(t),r="".concat(t,"@ssh.v1.replit.dev:."),[4,n.getRemotes()];case 1:if((a=l.sent()).error)return[2,a];if(!a.remotes.has(e))return[3,4];if((null==(i=a.remotes.get(e))?void 0:i.fetch)===r)return[3,3];return[4,n.setRemoteURL({remote:e,url:r})];case 2:if((o=l.sent()).error)return[2,o];l.label=3;case 3:return[2,{error:null,remote:{name:e,url:r}}];case 4:return[4,n.addRemote({name:e,url:r,fetch:!0})];case 5:if((s=l.sent()).error&&s.error!==lT.uA.REMOTE_ALREADY_EXISTS)return[2,s];return[2,{error:null,remote:{name:e,url:r}}]}})})()},hK=t(86868),hQ=t(95872),hX=t.n(hQ),h0=function(){var e=(0,g._)((0,b.useState)(""),2),n=e[0],t=e[1];return(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"Connect Existing Remote"}),(0,p.Y)(hW,{remoteName:"origin",initialRemoteUrl:n,updateRemote:t})]})},h1=function(){var e=(0,g._)((0,b.useState)(!1),2),n=e[0],t=e[1],r=(0,g._)((0,b.useState)(!1),2),a=r[0],i=r[1];return(0,p.FD)(p.FK,{children:[(0,p.Y)(tU.N,{text:(0,p.FD)(W.S,{gap:8,children:[(0,p.FD)(W.S,{clsx:hX().statusText,row:!0,justify:"space-between",align:"center",gap:8,children:[(0,p.Y)("span",{children:"No remote repositories configured. To push your changes, create a new repository or connect to an existing one."}),(0,p.FD)(W.S,{row:!0,gap:4,clsx:hX().remoteStatusBannerDesktop,children:[(0,p.Y)(M.$n,{text:"Create Remote",onClick:function(){t(!0)},colorway:"primary"}),(0,p.Y)(M.$n,{text:"Connect Existing",onClick:function(){i(!0)},clsx:hX().connectExistingButtonDesktop,variant:"outlined"})]})]}),(0,p.FD)(W.S,{row:!0,gap:4,clsx:hX().remoteStatusBannerMobile,align:"center",children:[(0,p.Y)(M.$n,{text:"Create Remote",clsx:hX().mobileButton,onClick:function(){t(!0)},colorway:"primary"}),(0,p.Y)(M.$n,{text:"Connect Existing",clsx:hX().connectExistingButtonMobile,onClick:function(){i(!0)},variant:"outlined"})]})]}),closable:!1,clsx:hX().remoteStatusBanner}),(0,p.Y)(tF.a,{isOpen:n,onRequestClose:function(){return t(!1)},children:(0,p.Y)(hV,{hasRemote:!1,remoteName:"origin",onCreateSuccess:function(){return t(!1)}})}),(0,p.Y)(tF.a,{isOpen:a,onRequestClose:function(){return i(!1)},children:(0,p.Y)(h0,{})})]})},h2=function(){return(0,p.Y)(tU.N,{text:(0,p.FD)(W.S,{clsx:hX().statusText,justify:"space-between",align:"center",gap:8,children:[(0,p.Y)("span",{children:"No git provider configured. To push your changes, connect to GitHub."}),(0,p.Y)(pO,{})]}),closable:!1})},h3=function(e){var n=e.loading,t=e.nonProjectRemote;return e.isConnectedToGithub?n||t?null:(0,p.Y)(h1,{}):(0,p.Y)(h2,{})};function h4(e){var n,t,r,a,i,o=e.branch,s=e.performPaneOperation,l=(0,g._)((0,b.useState)(!1),2),u=l[0],c=l[1],d=(0,g._)((0,b.useState)(!1),2),f=d[0],h=d[1],m=(0,g._)((0,b.useState)(null),2),v=m[0],_=m[1],S=(0,g._)((0,b.useState)(!1),2),A=S[0],C=S[1],Y=(n={variables:{id:(0,O.A)()}},t=(0,eg._)({},hC,n),ew.I(hY,t)).data,E=pI(),x=(null==Y||null==(r=Y.getRepl)?void 0:r.__typename)==="Repl"&&(null==(a=Y.getRepl.project)?void 0:a.id)||!1,T=pA(),D=(0,k.A)().git,I=(0,ic.A)(function(e){return(0,y._)(function(){var n,t,r,a,i,o,s;return(0,w.YH)(this,function(l){switch(l.label){case 0:return[4,e.isInitialized()];case 1:if((n=l.sent()).error)return T(n.error),ip({context:"publish-branch-button-initialized",gitService:e,result:n}),[2,{remote:null,error:n.error}];if(!n.initialized)return[2,{remote:null,error:null}];return[4,e.getRemotes()];case 2:if((t=l.sent()).error)return ip({context:"publish-branch-button-get-remotes",gitService:e,result:t}),T(t.error),[2,t];return r=function(e){if(!e||!e.size)return null;if(e.has("origin"))return"origin";var n=!0,t=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=(0,g._)(a.value,2),s=o[0];if(!({url:o[1].fetch}).url.endsWith(".replit.dev:."))return s}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}return null}(t.remotes),[4,e.status()];case 3:if((a=l.sent()).error)return T(a.error),ip({context:"publish-branch-button-status",gitService:e,result:a}),[2,a];if(!(a.branch&&r))return[3,5];return i=(0,pP.w9)(a.branch),o="refs/remotes/".concat(r,"/").concat(i),[4,e.branchExists(o)];case 4:(s=l.sent()).error?(ip({context:"publish-branch-button-branch-exists",gitService:e,result:s,data:{upstream:i,fullRemoteRef:o}}),T(s.error)):s.exists&&_("".concat(r,"/").concat(i)),l.label=5;case 5:return[2,{remote:r,error:null}]}})})()},[T],{keepStaleResult:!1});if((0,b.useEffect)(function(){(0,y._)(function(){var e;return(0,w.YH)(this,function(n){switch(n.label){case 0:if(!(A&&v))return[3,2];return[4,D.setBranchUpstream({upstream:v})];case 1:(e=n.sent()).error&&(ip({context:"publish-branch-button-set-branch-upstream",gitService:D,result:e,data:{upstream:v}}),T(e.error)),C(!1),_(null),n.label=2;case 2:return[2]}})})()},[D,T,A,v]),null==I?void 0:I.error)return null;var R=I?I.remote:null,N=null===I,P=o.type!==pK.xx.LOCAL||!R||A,F="".concat(R,"/").concat(o.name);return(i=u?"Pushing to '".concat(F,"'..."):o.type!==pK.xx.LOCAL?"Branch has already been pushed to '".concat(F,"'"):N?"Checking if branch ".concat(o.name," can be pushed..."):R?"Push branch as '".concat(F,"'"):"No remotes to push to",x&&I&&!R)?(0,p.FD)(p.FK,{children:[(0,p.Y)(M.$n,{iconLeft:(0,p.Y)(V.a,{text:"Beta",variant:"outline",colorway:"blue"}),text:"Collaborate in the Project pane",onClick:function(){s({operation:"open",pane:{type:"project"}})},iconRight:(0,p.Y)(sW.A,{})}),(0,p.Y)(G.EY,{color:"dimmer",children:"Use the Project pane to merge your changes between repls and collaborate with your teammates. You've received early access to this feature with your Replit Teams subscription."})]}):(0,p.FD)(p.FK,{children:[v?(0,p.Y)(tF.a,{isOpen:f,onRequestClose:function(){return h(!1)},children:(0,p.FD)(W.S,{gap:24,children:[(0,p.Y)(G.EY,{variant:"headerDefault",children:"Branch already exists"}),(0,p.Y)(G.EY,{children:"Upstream branch '".concat(v,"' already exists.\n          To push the branch, please confirm you would like to set upstream branch to it.")}),(0,p.Y)(M.$n,{text:"Set upstream to '".concat(v,"'"),onClick:function(){v&&(C(!0),h(!1))}})]})}):null,(0,p.Y)(h3,{loading:N,nonProjectRemote:R,isConnectedToGithub:null!=E&&E}),(0,p.Y)(M.$n,{text:i,iconLeft:N||u?(0,p.Y)(a$.A,{}):(0,p.Y)(hK.A,{}),onClick:function(){return(0,y._)(function(){var e;return(0,w.YH)(this,function(n){switch(n.label){case 0:if(!R||u)return[2];if(v)return h(!0),[2];return c(!0),[4,D.push({publish:{remote:R}})];case 1:return(e=n.sent()).error?(c(!1),T(e.error),ip({context:"publish-branch-button-push",gitService:D,result:e,data:{remote:R}})):(D.forceRefresh(),pk("branch-published-to-remote")),[2]}})})()},loading:N||u,disabled:P})]})}var h5=function(e,n,t){var r=new Set,a=!0,i=!1,o=void 0;try{for(var s,l=n[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;r.add(u.hash)}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}var c=!0,d=!1,f=void 0;try{for(var p,h=t[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=p.value;r.add(m.hash)}}catch(e){d=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(d)throw f}}return e.filter(function(e){return!r.has(e.hash)})},h7=t(56902),h9=t(20551),h8=t(46909),h6=t(99365),me=t(51940),mn={height:32,width:"100%",resize:"none",border:"none"},mt={width:"100%",resize:"none",border:"none"},mr=(0,eo.x)({surface:[es.wp.borderRadius(0,0,8,8)],button:[es.wp.height("auto"),es.wp.py(8),es.wp.fontWeight.medium,es.wp.borderRadius(8,8,0,0),es.wp.justify.start,es.wp.border({color:U.LU.outlineDimmer,direction:"bottom"}),{"> span:first-child":{flexGrow:1,textAlign:"start"}}],requiredText:[es.wp.display.inlineFlex,es.wp.rowWithGap(4)],subjectFieldHeader:[es.wp.center,es.wp.justify.spaceBetween],subjectInput:mn,bodyInput:mt,subjectInputDisabled:[mn,{opacity:.5}],bodyInputDisabled:[mt,{opacity:.5}],required:[es.wp.color.accentNegativeStronger],keyCombo:[es.wp.display.inlineFlex,es.wp.rowWithGap(4),es.wp.flex.grow(1),es.wp.align.center],keyComboText:[es.wp.fontWeight.normal,es.wp.color.foregroundDimmest]});function ma(e){var n=e.message,t=e.disabled,r=void 0!==t&&t,a=e.onMessageChange,i=e.onCommitShortcut,o=(0,g._)((0,b.useState)(!0),2),s=o[0],l=o[1],u=(0,g._)((0,b.useState)(!1),2),c=u[0],d=u[1],f=(0,g._)((0,b.useState)(!1),2),h=f[0],m=f[1],v=(0,b.useRef)(null),y=(0,b.useRef)(null),w=(0,h7._)(n.split("\n\n")),_=w[0],S=void 0===_?"":_,A=w.slice(1).join("\n\n"),k=(0,dG.a)();function C(e,n){a((e=e.replaceAll("\n"," "))+(n?"\n\n"+n:""))}var Y=(0,h6.Jn)(h8.Pi.gitCommit.id);return(0,me.RD)(h8.cl,h),(0,h6.SJ)(function(){return[h8.Pi.gitCommit.id,{run:function(){null==i||i()},scope:h8.cl,bubble:!1}]},[i]),(0,p.FD)(W.S,{children:[(0,p.Y)(M.$n,{css:mr.button,text:(0,p.FD)("span",{css:mr.requiredText,children:[(0,p.Y)("span",{children:"Message"}),s?(0,p.Y)(ms,{}):null]}),secondaryText:k||!Y?void 0:(0,p.FD)("span",{css:mr.keyCombo,children:[(0,p.Y)("span",{css:mr.keyComboText,children:"Commit:"}),(0,p.Y)(h6._y,{keyCombo:Y,small:!0})]}),iconRight:s?(0,p.Y)(tW.A,{}):(0,p.Y)(iN.A,{}),onClick:function(){return l(function(e){return!e})},size:"small"}),(0,p.FD)(ex.ui,{css:mr.surface,p:8,gap:12,elevated:!0,children:[(0,p.Y)(mi,{ref:v,value:S,compact:s,disabled:r,onChange:function(e){C(e,A)},onNewline:function(){if(s)l(!1),d(!0);else{if(!y.current)return;y.current.focus(),y.current.setSelectionRange(0,0)}},onFocus:function(){m(!0)},onBlur:function(){m(!1)}}),s&&!A?null:(0,p.Y)(mo,{ref:y,value:A,compact:s,disabled:r,onChange:function(e){if(C(S,e),s&&!e){var n;null==(n=v.current)||n.focus()}else s&&l(!1)},onBackspaceWhenEmpty:function(){v.current&&v.current.focus()},onFocus:function(){c&&d(!1),m(!0)},onBlur:function(){m(!1)},autoFocus:c})]})]})}var mi=(0,b.forwardRef)(function(e,n){var t=e.value,r=e.compact,a=void 0!==r&&r,i=e.disabled,o=void 0!==i&&i,s=e.onChange,l=e.onNewline,u=e.onFocus,c=e.onBlur,d=(0,b.useRef)(null),f=(0,h9.A)().ref,h=(0,uF.S)([n,f,d],{breadcrumb:"client/workspace/components/Git/modified/CommitMessage.tsx:267"});return(0,p.FD)(W.S,{gap:8,children:[a?null:(0,p.Y)(W.S,{css:mr.subjectFieldHeader,row:!0,children:(0,p.Y)(G.EY,{variant:"small",color:"dimmer",multiline:!1,children:(0,p.FD)("span",{css:mr.requiredText,children:[(0,p.Y)("span",{children:"Summary"}),(0,p.Y)(ms,{})]})})}),(0,p.Y)(H.ov,{ref:a?n:h,css:o?mr.subjectInputDisabled:mr.subjectInput,placeholder:"Summary of your commit...",value:t,disabled:o,onChange:function(e){return null==s?void 0:s(e.currentTarget.value)},onKeyDown:function(e){"Enter"!==e.key||e.defaultPrevented||(e.preventDefault(),e.stopPropagation(),null==l||l())},onFocus:u,onBlur:c})]})}),mo=(0,b.forwardRef)(function(e,n){var t=e.value,r=e.compact,a=void 0!==r&&r,i=e.disabled,o=void 0!==i&&i,s=e.autoFocus,l=e.onChange,u=e.onBackspaceWhenEmpty,c=e.onFocus,d=e.onBlur,f=(0,h9.A)().ref,h=(0,uF.S)([n,f],{breadcrumb:"client/workspace/components/Git/modified/CommitMessage.tsx:335"});return(0,p.FD)(W.S,{gap:8,children:[a?null:(0,p.Y)(G.EY,{variant:"small",color:"dimmer",multiline:!1,children:"Description"}),(0,p.Y)(H.ov,{ref:a?n:h,css:o?mr.bodyInputDisabled:mr.bodyInput,placeholder:"Description of your commit...",value:t,disabled:o,onChange:function(e){return null==l?void 0:l(e.currentTarget.value)},onKeyDown:function(e){"Backspace"===e.key&&""===t&&(e.preventDefault(),e.stopPropagation(),null==u||u())},onFocus:c,onBlur:d,autoFocus:void 0!==s&&s})]})});function ms(){return(0,p.Y)(z.m_,{tooltip:"This field is required.",placement:"top",children:(0,p.Y)("span",{css:mr.required,children:"*"})})}var ml=t(60235),mu=t(860),mc=t(71291),md=(0,eo.x)({actionsIndex:[es.wp.height(24),es.wp.align.center,es.wp.borderRadius(4)],actionsWorktree:[es.wp.height(24),es.wp.flex.row,es.wp.align.center,es.wp.borderRadius(4)],unstage:[es.wp.height(24),es.wp.width(24),es.wp.borderRadius(2)],stage:[es.wp.px(12),es.wp.height(24),es.wp.width(24),es.wp.borderRadius(2)],discard:[es.wp.pl(16),es.wp.pr(12),es.wp.height(24),es.wp.width(24),es.wp.borderRadius(2)],discardIcon:{transform:"scale(0.85)"},divider:[es.wp.height("75%"),es.wp.width(1),es.wp.backgroundColor.outlineStronger]});function mf(e){var n=e.file,t=e.list,r=e.stageFiles,a=e.restoreFiles,i=e.disabled,o=void 0!==i&&i,s=(0,g._)((0,b.useState)(!1),2),l=s[0],u=s[1],c=(0,g._)((0,b.useState)(!1),2),d=c[0],f=c[1];return(o=o||d||l,"index"===t)?(0,p.Y)(ex.ui,{elevated:!0,css:md.actionsIndex,children:(0,p.Y)(e$.K0,{css:md.unstage,alt:"Unstage changes",size:18,tooltipDelay:"long",onClick:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(o)return[2];return u(!0),[4,r({reset:[n.path]})];case 1:return e.sent(),u(!1),[2]}})})()},disabled:o,children:l?(0,p.Y)(a$.A,{}):(0,p.Y)(mc.A,{})})}):(0,p.FD)(ex.ui,{elevated:!0,css:md.actionsWorktree,children:[(0,p.Y)(e$.K0,{css:md.discard,alt:"Discard changes",size:18,tooltipDelay:"long",onClick:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(o||"worktree"!==t)return[2];return f(!0),[4,a(n.path)];case 1:return e.sent(),f(!1),[2]}})})()},disabled:o,children:d?(0,p.Y)(a$.A,{}):(0,p.Y)(sg.A,{css:md.discardIcon})}),(0,p.Y)("div",{css:md.divider}),(0,p.Y)(e$.K0,{css:md.stage,alt:"Stage changes",size:18,tooltipDelay:"long",onClick:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(o)return[2];return u(!0),[4,r({add:[n.path]})];case 1:return e.sent(),u(!1),[2]}})})()},disabled:o,children:l?(0,p.Y)(a$.A,{}):(0,p.Y)(u6.A,{})})]})}function mp(e){var n,t=e.file,r=e.list,a=e.stageFiles,i=e.restoreFiles,o=e.pathMap,s=e.disabled,l=e.onFilePathClick,u=null==o?void 0:o.get(t.path),c=null==(n=t.source)?void 0:n.path,d="index"===r?t.type.index:t.type.worktree,f=(0,mu.A)(function(){if(d!==iE.PX.DELETED)return function(){return l({path:t.path})}},[t.path,l,d]);return(0,p.FD)(W.S,{py:2,row:!0,gap:4,align:"center",children:[(0,p.Y)(un,{path:t.path,prefix:u,source:c,onClick:f}),(0,p.Y)(iT,{type:d}),(0,p.Y)(mf,{file:t,list:r,stageFiles:a,restoreFiles:i,disabled:void 0!==s&&s})]})}var mh=(0,eo.x)({actions:[es.wp.backgroundColor.backgroundHighest,es.wp.borderRadius(8)],buttonDiscard:[es.wp.borderRadius(8,0,0,8)],buttonStage:[es.wp.borderRadius(0,8,8,0)],divider:[es.wp.my(8),es.wp.width(1),es.wp.backgroundColor.outlineStronger]});function mm(e){var n=e.type,t=e.stageFiles,r=e.restoreFiles,a=e.disabled,i=void 0!==a&&a,o=(0,g._)((0,b.useState)(!1),2),s=o[0],l=o[1],u=(0,g._)((0,b.useState)(!1),2),c=u[0],d=u[1];function f(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(i)return[2];return l(!0),[4,t({all:"index"!==n})];case 1:return e.sent(),l(!1),[2]}})})()}return(i=i||c||s,"index"===n)?(0,p.Y)(M.$n,{text:"Unstage All",iconLeft:s?(0,p.Y)(a$.A,{}):(0,p.Y)(mc.A,{}),onClick:f,disabled:i,loading:s,size:"small"}):(0,p.FD)(W.S,{css:mh.actions,row:!0,gap:2,children:[(0,p.Y)(M.$n,{css:mh.buttonDiscard,text:"Discard All",iconLeft:c?(0,p.Y)(a$.A,{}):(0,p.Y)(sg.A,{}),onClick:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(i||"worktree"!==n)return[2];return d(!0),[4,r(!0)];case 1:return e.sent(),d(!1),[2]}})})()},disabled:i,loading:c,size:"small"}),(0,p.Y)("div",{css:mh.divider}),(0,p.Y)(M.$n,{css:mh.buttonStage,text:"Stage All",iconLeft:s?(0,p.Y)(a$.A,{}):(0,p.Y)(u6.A,{}),onClick:f,disabled:i,loading:s,size:"small"})]})}var mv=(0,eo.x)({header:[es.wp.px(8),es.wp.rowWithGap(4),es.wp.align.center],headerFoldable:[es.wp.py(4),es.wp.pl(4),es.wp.pr(8),es.wp.rowWithGap(4),es.wp.align.center],headerText:[es.wp.flex.grow(1)],body:[es.wp.px(8),es.wp.maxHeight("25vh"),es.wp.overflowY("auto")]});function mg(e){var n,t=e.files,r=e.type,a=e.stageFiles,i=e.restoreFiles,o=e.onFilePathClick,s=e.pathMap,l=e.foldable,u=void 0!==l&&l,c=e.disabled,d=void 0!==c&&c,f=(0,g._)((0,b.useState)(!1),2),h=f[0],m=f[1],v=(0,b.useRef)(null),y=(0,b.useRef)(null),w=(0,eH.Te)({count:t.length,getScrollElement:function(){return y.current},getItemKey:function(e){return t[e].path},estimateSize:function(){return 28},overscan:20}),_=w.getVirtualItems();return u&&h?(0,p.Y)(W.S,{py:4,children:(0,p.FD)(W.S,{css:u?mv.headerFoldable:mv.header,children:[(0,p.Y)(mb,{files:t,type:r,setFolded:m,foldable:!0,folded:!0}),(0,p.Y)(mm,{type:r,stageFiles:a,restoreFiles:i,disabled:d})]})}):(0,p.FD)(W.S,{innerRef:v,pt:4,pb:8,gap:4,children:[(0,p.FD)(W.S,{css:u?mv.headerFoldable:mv.header,children:[(0,p.Y)(mb,{files:t,type:r,setFolded:m,foldable:u}),(0,p.Y)(mm,{type:r,stageFiles:a,restoreFiles:i,disabled:d})]}),(0,p.Y)(W.D.div,{ref:y,css:mv.body,children:(0,p.Y)("div",{style:{minHeight:w.getTotalSize()},children:(0,p.Y)("div",{style:{transform:"translateY(".concat(null==(n=_[0])?void 0:n.start,"px)"),willChange:"transform"},children:_.map(function(e){var n=t[e.index];return(0,p.Y)("div",{"data-index":e.index,children:(0,p.Y)(mp,{file:n,list:r,stageFiles:a,restoreFiles:i,onFilePathClick:o,pathMap:s,disabled:d},n.path)},e.key.toString())})})})})]})}function mb(e){var n=e.files,t=e.type,r=e.setFolded,a=e.foldable,i=void 0!==a&&a,o=e.folded,s=(0,sh.A)("file",n.length),l="".concat(n.length," ").concat("index"===t?"staged":"changed"," ").concat(s);return i&&void 0!==o&&o?(0,p.FD)(p.FK,{children:[(0,p.Y)(e$.K0,{alt:"Show list",onClick:function(){return r(!1)},children:(0,p.Y)(tW.A,{})}),(0,p.Y)(G.EY,{css:mv.headerText,multiline:!1,children:l})]}):(0,p.FD)(p.FK,{children:[i?(0,p.Y)(e$.K0,{alt:"Hide list",onClick:function(){return r(!0)},children:(0,p.Y)(iN.A,{color:U.LU.foregroundDimmest})}):null,(0,p.Y)(G.EY,{css:mv.headerText,color:"dimmest",multiline:!1,children:l})]})}var my=(0,eo.x)({list:[es.wp.px(4),es.wp.colWithGap(2)]});function mw(e){var n=e.show,t=e.files,r=e.pathMap,a=e.callback,i=(0,ni.A)(a),o=(0,b.useCallback)(function(){var e;null==(e=i.current)||e.call(i,!0)},[i]),s=(0,b.useCallback)(function(){var e;null==(e=i.current)||e.call(i,!1)},[i]);return(0,p.Y)(tF.a,{isOpen:n,onRequestClose:s,children:n?(0,p.FD)(W.S,{gap:8,children:[(0,p.FD)(G.Y9,{level:2,children:["Discard ",(0,sh.A)("Change",t.length)]}),(0,p.Y)(m_,{files:t,pathMap:r}),(0,p.FD)(W.S,{row:!0,gap:8,justify:"end",children:[(0,p.Y)(M.$n,{text:"Cancel",iconLeft:(0,p.Y)(ut.A,{}),onClick:s}),(0,p.Y)(M.$n,{text:"Discard ".concat((0,sh.A)("Change",t.length)),iconLeft:(0,p.Y)(sg.A,{}),colorway:"negative",onClick:o})]})]}):null})}function m_(e){var n=e.files,t=e.pathMap,r=[],a=[],i=!0,o=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;c.type.worktree===iE.PX.UNTRACKED?a.push(c):r.push(c)}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}return!r.length&&a.length?(0,p.FD)(W.S,{gap:4,children:[(0,p.Y)(G.EY,{children:1===a.length?"Do you want to permanently delete this file?":"Do you want to permanently delete these files?"}),(0,p.Y)(mS,{files:a,pathMap:t})]}):r.length&&!a.length?(0,p.FD)(W.S,{gap:4,children:[(0,p.Y)(G.EY,{children:1===r.length?"Do you want to undo the changes to this file?":"Do you want to undo the changes to these files?"}),(0,p.Y)(mS,{files:r,pathMap:t})]}):(0,p.FD)(W.S,{gap:12,children:[r.length?(0,p.FD)(W.S,{gap:4,children:[(0,p.FD)(G.Y9,{level:3,children:["Tracked ",(0,sh.A)("File",r.length)]}),(0,p.Y)(G.EY,{multiline:!1,children:1===r.length?"This file will have its changes undone.":"These files will have their changes undone."}),(0,p.Y)(mS,{files:r,pathMap:t})]}):null,a.length?(0,p.FD)(W.S,{gap:4,children:[(0,p.FD)(G.Y9,{level:3,children:["Untracked ",(0,sh.A)("File",a.length)]}),(0,p.Y)(G.EY,{multiline:!1,children:1===a.length?"This file will be permanently deleted.":"These files will be permanently deleted."}),(0,p.Y)(mS,{files:a,pathMap:t})]}):null]})}function mS(e){var n=e.files,t=e.pathMap,r=(0,b.useMemo)(function(){return n.length>20?n.slice(0,20):n},[n]);return(0,p.Y)(W.S,{children:(0,p.FD)("ul",{css:my.list,children:[r.map(function(e){var n;return(0,p.Y)("li",{children:(0,p.Y)(un,{path:e.path,prefix:t.get(e.path),source:null==(n=e.source)?void 0:n.path})},e.path)}),n.length<=20?null:(0,p.Y)("li",{children:(0,p.FD)(G.EY,{color:"dimmer",children:["... ",n.length-20," more"," ",(0,sh.A)("file",n.length-20)]})})]})})}function mA(e){var n=(0,g._)((0,b.useState)(function(){return{show:!1,files:[]}}),2),t=n[0],r=n[1];return{openRestoreConfirmationModal:(0,b.useCallback)(function(e){return new Promise(function(n){0===e.length&&n(!1),r({show:!0,files:e,callback:function(e){r({show:!1,files:[],callback:void 0}),n(e)}})})},[]),restoreConfirmationModal:(0,b.useMemo)(function(){return(0,p.Y)(mw,(0,nh._)((0,eg._)({},t),{pathMap:e}))},[t,e])}}var mk=[{"& > span:first-child":[es.wp.flex.grow(1),es.wp.textAlign.left]},{"& > span":[es.wp.flex.shrink(1)]}],mC=(0,eo.x)({buttonFolded:[mk,es.wp.height("auto"),es.wp.py(8),es.wp.fontWeight.medium],buttonUnfolded:[mk,es.wp.height("auto"),es.wp.py(8),es.wp.fontWeight.medium,es.wp.border({color:U.LU.outlineDimmer,direction:"bottom"}),es.wp.borderRadius(8,8,0,0)],container:[es.wp.flex.grow(1),es.wp.borderRadius(8)],lists:[es.wp.borderRadius(0,0,8,8)],divider:[es.wp.height(1),es.wp.minHeight(1),es.wp.width("100%"),es.wp.backgroundColor.outlineDimmer],autoStageMessage:[es.wp.center],noChangesMessage:[es.wp.center],details:[es.wp.rowWithGap(4),es.wp.fontWeight.normal,es.wp.color.foregroundDimmest]});function mY(e){var n=e.status,t=e.stageFiles,r=e.restoreFiles,a=e.onStagedFileClick,i=e.disabled,o=void 0!==i&&i,s=(0,g._)((0,b.useState)(!1),2),l=s[0],u=s[1],c=(0,g._)((0,b.useState)(!1),2),d=c[0],f=c[1],h=(0,g._)((0,b.useState)(!1),2),m=h[0],v=h[1],_=(0,b.useMemo)(function(){return(0,ml.b)(n.changes.map(function(e){return e.path}))},[n]),S=(0,g._)((0,b.useMemo)(function(){var e=[],t=[],r=!0,a=!1,i=void 0;try{for(var o,s=n.changes[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;l.staged&&e.push(l),l.type.worktree!==iE.PX.UNMODIFIED&&t.push(l)}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return[e,t]},[n.changes]),2),A=S[0],k=S[1],C=A.length>0&&k.length>0,Y=mA(_),E=Y.openRestoreConfirmationModal,x=Y.restoreConfirmationModal,T=(0,b.useCallback)(function(e){return(0,y._)(function(){return(0,w.YH)(this,function(n){switch(n.label){case 0:if(!("all"in e))return[3,2];return f(!0),[4,t(e)];case 1:return n.sent(),f(!1),[3,4];case 2:return[4,t(e)];case 3:n.sent(),n.label=4;case 4:return[2]}})})()},[t]),D=(0,b.useCallback)(function(e){return(0,y._)(function(){var n,t;return(0,w.YH)(this,function(a){switch(a.label){case 0:if(!0!==e)return[3,4];return v(!0),[4,E(k)];case 1:if(!a.sent())return[3,3];return[4,r(e)];case 2:a.sent(),a.label=3;case 3:return v(!1),[3,8];case 4:if("string"==typeof e){if(!(t=k.find(function(n){return n.path===e})))throw v(!1),Error("Could not find file in worktree list");n=[t]}else n=k.filter(function(n){return e.includes(n.path)});return[4,E(n)];case 5:if(!a.sent())return[3,7];return[4,r(e)];case 6:a.sent(),a.label=7;case 7:v(!1),a.label=8;case 8:return[2]}})})()},[E,r,k]);return l?(0,p.Y)(mE,{setFolded:u,changeCount:k.length,stagedCount:A.length,disabled:o,folded:!0}):0===A.length&&0===k.length?(0,p.FD)(W.S,{style:{opacity:o?.725:void 0},css:mC.container,children:[(0,p.Y)(mE,{setFolded:u,changeCount:k.length,stagedCount:A.length,disabled:o}),(0,p.Y)(ex.ui,{css:mC.lists,elevated:!0,children:(0,p.Y)(W.S,{css:mC.noChangesMessage,py:16,px:4,children:(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"No changed or staged files."})})})]}):(0,p.FD)(p.FK,{children:[(0,p.FD)(W.S,{style:{opacity:o?.725:void 0},css:mC.container,children:[(0,p.Y)(mE,{setFolded:u,changeCount:k.length,stagedCount:A.length,disabled:o}),(0,p.FD)(ex.ui,{css:mC.lists,elevated:!0,children:[0===A.length?null:(0,p.Y)(mg,{type:"index",files:A,stageFiles:T,restoreFiles:D,onFilePathClick:a,pathMap:_,foldable:C,disabled:o||d||m}),C?(0,p.Y)("div",{css:mC.divider}):null,0===k.length?null:(0,p.FD)(p.FK,{children:[(0,p.Y)(mg,{type:"worktree",files:k,stageFiles:T,restoreFiles:D,onFilePathClick:a,pathMap:_,foldable:C,disabled:o||d||m}),C?null:(0,p.Y)(W.S,{css:mC.autoStageMessage,pt:4,pb:8,px:4,children:(0,p.Y)(G.EY,{variant:"small",color:"dimmest",multiline:!1,children:"Committing will automatically stage your changes."})})]})]})]}),x]})}function mE(e){var n=e.folded,t=void 0!==n&&n,r=e.setFolded,a=e.changeCount,i=e.stagedCount,o=e.disabled;return(0,p.Y)(M.$n,{css:t?mC.buttonFolded:mC.buttonUnfolded,text:"Review Changes",secondaryText:(0,p.Y)(mx,{folded:t,changeCount:a,stagedCount:i}),onClick:function(){return r(!t)},iconRight:t?(0,p.Y)(tW.A,{}):(0,p.Y)(iN.A,{}),disabled:void 0!==o&&o,size:"small"})}function mx(e){var n=e.folded,t=e.changeCount,r=e.stagedCount;if(!n)return null;var a=t>0,i=r>0;return a||i?(0,p.FD)("span",{css:mC.details,children:[a?(0,p.FD)("span",{children:[t," ",(0,sh.A)("change",t)]}):null,a&&i?(0,p.Y)("span",{children:"/"}):null,i?(0,p.FD)("span",{children:[r," staged"]}):null]}):(0,p.Y)("span",{css:mC.details,children:(0,p.Y)("span",{children:"no changes"})})}function mT(e){var n=e.status,t=e.onStagedFileClick,r=e.defaultMessage,a=(0,g._)((0,b.useState)(n),2),i=a[0],o=a[1],s=(0,g._)((0,b.useState)(null!=r?r:""),2),l=s[0],u=s[1],c=(0,g._)((0,b.useState)(0),2),d=c[0],f=c[1],h=(0,g._)((0,b.useState)(!1),2),m=h[0],v=h[1],_=pA();(0,b.useEffect)(function(){return o(n)},[n]);var S=(0,k.A)().git;if(!i||!i.changes.length)return(0,p.Y)(W.S,{gap:8,children:(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"There are no changes to commit."})});var A=i.changes.length,C=i.changes.filter(function(e){return e.staged}).length;function Y(){return(0,y._)(function(){var e,n;return(0,w.YH)(this,function(t){switch(t.label){case 0:if(""===l||m||0===A||d>0)return[2];if(v(!0),0!==C)return[3,2];return[4,S.stageFiles({all:!0})];case 1:t.sent(),t.label=2;case 2:return[4,S.commit({message:l})];case 3:if(!(e=t.sent()).error)return[3,4];return v(!1),_(e.error),ip({context:"commit-area-commit",gitService:S,result:e,data:{message:l}}),[3,6];case 4:return pk("commit-created",{hasDescription:-1!==l.trim().indexOf("\n\n")}),[4,S.status()];case 5:n=t.sent(),v(!1),n.error?(_(n.error),ip({context:"commit-area-status",gitService:S,result:n,data:{message:l}})):(u(""),o(n)),S.forceRefresh(),t.label=6;case 6:return[2]}})})()}var E="Nothing to commit";if(m)E="Committing...";else if(C>0&&C<A){var x=(0,sh.A)("change",C);E="Commit ".concat(C," staged ").concat(x)}else A>0&&(E="Stage and commit all changes");var T=!l||0===A||d>0||m;return(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(ma,{message:l,disabled:m,onMessageChange:u,onCommitShortcut:Y}),(0,p.Y)(mY,{status:i,stageFiles:function(e){return(0,y._)(function(){var n,t;return(0,w.YH)(this,function(r){switch(r.label){case 0:if(m)return[2];return f(function(e){return e+1}),[4,S.stageFiles(e)];case 1:if((n=r.sent()).error)return[3,3];return[4,S.status()];case 2:return(t=r.sent()).error?(ip({context:"commit-area-status",gitService:S,result:t,data:{opts:e}}),_(t.error)):o(t),S.forceRefresh(),[3,4];case 3:_(n.error),ip({context:"commit-area-stage-files",gitService:S,result:n,data:{opts:e}}),r.label=4;case 4:return f(function(e){return e-1}),[2]}})})()},restoreFiles:function(e){return(0,y._)(function(){var n,t;return(0,w.YH)(this,function(r){switch(r.label){case 0:if(m)return[2];return f(function(e){return e+1}),[4,S.restoreFiles(e)];case 1:if((n=r.sent()).error)return[3,3];return[4,S.status()];case 2:return(t=r.sent()).error?(ip({context:"commit-area-status",gitService:S,result:t,data:{files:e}}),_(t.error)):o(t),S.forceRefresh(),[3,4];case 3:ip({context:"commit-area-restore-files",gitService:S,result:n,data:{files:e}}),_(n.error),r.label=4;case 4:return f(function(e){return e-1}),[2]}})})()},onStagedFileClick:t,disabled:m}),T?(0,p.Y)(z.m_,{tooltip:d>0?"Changes in progress":0===A?"There are no changes to commit.":"You must enter a commit message before you can commit.",children:(0,p.Y)(M.$n,{text:E,onClick:Y,disabled:T,loading:m,colorway:"primary",iconLeft:(0,p.Y)(rL.A,{}),stretch:!0})}):(0,p.Y)(M.$n,{text:E,onClick:Y,disabled:T,loading:m,colorway:"primary",iconLeft:(0,p.Y)(rL.A,{}),stretch:!0})]})}var mD=/\s\(#(\d+)\)$/,mI=/^Revert "(.+)"/,mR=/^This reverts commit ([a-f0-9]+)(?:, reversing changes made to ([a-f0-9]+))?\./;function mN(e){var n=mI.exec(e.subject),t=mR.exec(e.body);if(n&&t){var r,a=t[1],i=n[1],o=mD.exec(i);return o&&(r=parseInt(o[1],10)),{hash:a,subject:i,pr:r}}return null}var mO=/\B#\d+\b/g,mP=/^Merged? pull request (#\d+\b)/,mF=/^Merge branch '(.+)'/,mU=/into (.+)$/;function mL(e){if("GitHub"===e.committer.name&&"noreply@github.com"===e.committer.email){var n=e.subject.match(mO);if(n){var t,r=parseInt(n[n.length-1].slice(1),10);if(r)return mD.test(e.subject)&&(t=e.subject.replace(mD,"").trim()),!t&&mP.test(e.subject)&&e.body&&-1===e.body.indexOf("\n")&&(t=e.body),{type:"pull-request",id:r,subject:t,reverts:mN(e)}}}if(mP.test(e.subject)){var a,i=mP.exec(e.subject);if(i)return e.body&&-1===e.body.indexOf("\n")&&(a=e.body),{type:"pull-request",id:parseInt(i[1].slice(1),10),subject:a,reverts:mN(e)}}if(mF.test(e.subject)){var o=mF.exec(e.subject);if(o){var s=mU.exec(e.subject);return{type:"branch",source:o[1],target:s?s[1]:null}}}return e.parents&&e.parents.length>2?{type:"octopus",parents:e.parents}:e.parents&&e.parents.length>1?{type:"simple",a:e.parents[0],b:e.parents[1]}:null}var mM={position:"absolute",top:0,height:9,width:9,border:"1px solid ".concat(U.LU.purpleStrongest),borderRadius:"50%"},mJ=(0,eo.x)({markerContainer:[es.wp.display.flex,es.wp.align.center,es.wp.justify.center,es.wp.minHeight(20),es.wp.minWidth(20)],commitMarker:[es.wp.height(4),es.wp.width(4),es.wp.backgroundColor.foregroundDefault,es.wp.borderRadius("full")],collapsedMarkerIconDot:[es.wp.height(3),es.wp.width(3),es.wp.backgroundColor.foregroundDimmer,es.wp.borderRadius("full")],collapsedMarkerIconContainer:[es.wp.display.flex,es.wp.align.center,es.wp.justify.center,{"div + div":{marginLeft:1}}],collapsedMarker:[es.wp.display.flex,es.wp.align.center,es.wp.justify.center,es.wp.height(20),es.wp.width(20),es.wp.backgroundColor.backgroundHighest,es.wp.borderRadius("full")],revertMarker:[es.wp.display.flex,es.wp.height(20),es.wp.width(20),es.wp.backgroundColor.orangeDimmest,es.wp.borderRadius("full"),es.wp.align.center,es.wp.justify.center],mergeMarker:[es.wp.display.flex,es.wp.height(20),es.wp.width(20),es.wp.backgroundColor.purpleDimmest,es.wp.borderRadius("full"),es.wp.align.center,es.wp.justify.center],mergeMarkerIconContainer:[es.wp.position.relative,es.wp.height(9),es.wp.width(13)],mergeMarkerIconLeft:[(0,eg._)({},mM),es.wp.left(0)],mergeMarkerIconRight:[(0,eg._)({},mM),es.wp.right(0)],boundaryMarker:[es.wp.height(6),es.wp.width(6),es.wp.backgroundColor.backgroundDefault,es.wp.borderRadius("full"),{border:"1px solid ".concat(U.LU.backgroundHighest)}]});function mH(e){var n=function(e){switch(e){case"none":default:return null;case"commit":return(0,p.Y)(mB,{});case"revert":return(0,p.Y)(mV,{});case"merge":return(0,p.Y)(m$,{});case"boundary":return(0,p.Y)(mG,{});case"collapsed":return(0,p.Y)(mz,{})}}(e.type);return n?(0,p.Y)("div",{css:mJ.markerContainer,children:n}):null}function mB(){return(0,p.Y)("div",{css:mJ.commitMarker})}function mV(){return(0,p.Y)("div",{css:mJ.revertMarker,children:(0,p.Y)(sg.A,{size:12,color:U.LU.orangeStrongest})})}function m$(){return(0,p.Y)("div",{css:mJ.mergeMarker,children:(0,p.FD)("div",{css:mJ.mergeMarkerIconContainer,children:[(0,p.Y)("div",{css:mJ.mergeMarkerIconLeft}),(0,p.Y)("div",{css:mJ.mergeMarkerIconRight})]})})}function mG(){return(0,p.Y)("div",{css:mJ.boundaryMarker})}function mz(){return(0,p.Y)("div",{css:mJ.collapsedMarker,children:(0,p.FD)("div",{css:mJ.collapsedMarkerIconContainer,children:[(0,p.Y)("div",{css:mJ.collapsedMarkerIconDot}),(0,p.Y)("div",{css:mJ.collapsedMarkerIconDot}),(0,p.Y)("div",{css:mJ.collapsedMarkerIconDot})]})})}var mW=[es.wp.position.absolute,es.wp.left(0),es.wp.width(18)],mj=(0,eo.x)({connectorSegmentBorderSolid:[mW,{borderRight:"1px solid ".concat(U.LU.outlineDimmest)}],connectorSegmentBorderDashed:[mW,{borderRight:"1px dashed ".concat(U.LU.outlineDimmest)}]});function mq(e){var n=e.boundaryTop,t=void 0!==n&&n,r=e.boundaryBottom,a=void 0!==r&&r,i=e.joint,o=void 0===i?"top":i,s=e.hideTop,l=void 0!==s&&s,u=e.hideBottom,c=void 0!==u&&u;if(l&&c)return null;if(t===a&&!l&&!c)return(0,p.Y)(mK,{top:0,bottom:0,dashed:t&&a});var d=l?null:(0,p.Y)(mZ,{start:"top",joint:o,dashed:t}),f=c?null:(0,p.Y)(mZ,{start:"bottom",joint:o,dashed:a});return(0,p.FD)(p.FK,{children:[d,f]})}function mZ(e){var n,t,r=e.start,a=e.joint,i=e.dashed,o="center"===a?(n={},(0,v._)(n,r,0),(0,v._)(n,"height","50%"),n):(t={},(0,v._)(t,r,0),(0,v._)(t,r===a?"height":a,8),t);return(0,p.Y)(mK,(0,nh._)((0,eg._)({},o),{dashed:void 0!==i&&i}))}function mK(e){var n=e.top,t=e.bottom,r=e.height,a=e.dashed;return(0,p.Y)("div",{css:void 0!==a&&a?mj.connectorSegmentBorderDashed:mj.connectorSegmentBorderSolid,style:{top:n,bottom:t,height:r}})}var mQ=(0,eo.x)({container:{position:"relative",marginLeft:30,marginRight:4,paddingLeft:6,userSelect:"none"},containerInteractive:[sv.b.nofill,{position:"relative",marginLeft:30,marginRight:4,paddingLeft:6,userSelect:"none"}],nodeFoldedIconContainer:{position:"absolute",top:"50%",transform:"translateY(-50%)",right:8,zIndex:1,opacity:0,"div:hover > &":{transition:"opacity 120ms ease-out",opacity:1}},nodeUnFoldedIconContainer:{position:"absolute",top:"50%",transform:"translateY(-50%)",right:8,zIndex:1},nodeContentContainer:[es.wp.colWithGap(4),{position:"relative",paddingTop:8,paddingBottom:8,paddingRight:8}],nodeHeader:{display:"block",height:20},nodeUnfoldedContentSurface:[es.wp.mt(4),es.wp.mb(8),es.wp.p(8),es.wp.borderRadius(8),{marginLeft:36,marginRight:8,overflowX:"hidden"}],unfoldedContentContainer:[es.wp.position.relative]});function mX(e){var n=e.boundaryTop,t=e.boundaryBottom,r=void 0!==t&&t,a=e.hideConnectorTop,i=e.hideConnectorBottom,o=void 0!==i&&i,s=e.joint,l=void 0===s?"top":s,u=e.marker,c=e.header,d=e.unfoldedContent,f=e.children,h=e.className,m=(0,g._)((0,b.useState)(!0),2),v=m[0],y=m[1];return(0,p.FD)(W.S,{className:h,css:es.wp.position.relative,children:[(0,p.Y)(mq,{boundaryTop:void 0!==n&&n,boundaryBottom:r,joint:l,hideTop:void 0!==a&&a,hideBottom:o}),u?(0,p.Y)(m1,{joint:l,children:u}):null,d?(0,p.FD)(W.S,{css:mQ.containerInteractive,role:"button",tabIndex:0,onClick:function(){y(!v)},onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&y(!v)},children:[v?(0,p.Y)("div",{css:mQ.nodeFoldedIconContainer,children:(0,p.Y)(tW.A,{})}):(0,p.Y)("div",{css:mQ.nodeUnFoldedIconContainer,children:(0,p.Y)(iN.A,{})}),(0,p.FD)(W.S,{css:mQ.nodeContentContainer,children:[c?(0,p.Y)(W.S,{css:mQ.nodeHeader,children:c}):null,f?(0,p.Y)(W.S,{children:f}):null]})]}):(0,p.Y)(W.S,{css:mQ.container,children:(0,p.FD)(W.S,{css:mQ.nodeContentContainer,children:[c?(0,p.Y)(W.S,{css:mQ.nodeHeader,children:c}):null,f?(0,p.Y)(W.S,{children:f}):null]})}),!d||v?null:(0,p.FD)(W.S,{css:mQ.unfoldedContentContainer,children:[o?null:(0,p.Y)(mK,{top:0,bottom:0,dashed:r}),(0,p.Y)(ex.ui,{css:mQ.nodeUnfoldedContentSurface,elevated:!0,children:d})]})]})}var m0=(0,eo.x)({top:{position:"absolute",top:8,left:18,transform:"translateX(-50%)"},bottom:{position:"absolute",bottom:8,left:18,transform:"translateX(-50%)"},center:{position:"absolute",top:"50%",left:18,transform:"translateX(-50%) translateY(-50%)"}});function m1(e){var n=e.joint,t=e.children;return(0,p.Y)("div",{css:m0[void 0===n?"top":n],children:t})}var m2=(0,eo.x)({container:[es.wp.height("100%")],textContainer:[es.wp.center],text:[es.wp.flex.shrink(0)]});function m3(e){var n=e.text,t=(0,iv._)(e,["text"]);return(0,p.Y)(mX,(0,eg._)({marker:(0,p.Y)(mH,{type:"boundary"}),joint:"center",header:(0,p.FD)(W.S,{css:m2.container,row:!0,gap:8,align:"center",justify:"space-between",children:[(0,p.Y)(uH.a,{}),(0,p.FD)(W.S,{css:m2.textContainer,row:!0,gap:4,children:[(0,p.Y)(rz.A,{size:12,color:U.LU.foregroundDimmest}),(0,p.Y)(G.EY,{css:m2.text,variant:"small",color:"dimmest",multiline:!1,children:n})]}),(0,p.Y)(uH.a,{})]})},t))}var m4=(0,eo.x)({definitionList:{display:"grid",gridTemplateColumns:"auto 1fr",paddingLeft:U.LU.space4,"> dt":{display:"flex",alignItems:"center",paddingBottom:U.LU.space2},"> dd":{marginLeft:U.LU.space12,paddingBottom:U.LU.space2}},listHeader:[es.wp.fontWeight.medium],commitList:[es.wp.colWithGap(2),es.wp.pl(4)]}),m5=function(e,n){var t=!e.body,r=null,a=null;return n&&"type"in n?(r=n,"pull-request"===n.type&&(n.reverts&&(a=n.reverts),n.subject&&(t=!0))):n&&(a=n),{hideBody:t,merge:r,revert:a}},m7=function(e){var n=e.hash;return(0,p.Y)(J.i,{size:"small",iconLeft:(0,p.Y)(rj.A,{}),textToCopy:n,text:n.slice(0,7),tooltipSuccessText:"Hash copied!"})},m9=function(e){var n=e.onClick,t=e.text,r=e.loading;return(0,p.Y)(z.m_,{tooltip:"Discard current changes and restore files to time of commit",children:(0,p.Y)(M.$n,{text:t,onClick:n,size:"small",iconLeft:void 0!==r&&r?(0,p.Y)(a$.A,{}):(0,p.Y)(sg.A,{})})})},m8=function(e,n){return e.name!==n.name||e.email!==n.email},m6=function(e,n){return!(6e4>Math.abs(e-n))};function ve(e){var n=e.commit,t=e.info,r=m8(n.committer,n.author),a=m6(n.author.date,n.committer.date),i=m5(n,void 0===t?null:t),o=i.hideBody,s=i.merge,l=i.revert;return(0,p.FD)(W.S,{gap:8,children:[o?null:(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(G.EY,{children:(0,p.Y)(l4,{body:n.body})}),(0,p.Y)(uH.a,{css:es.wp.backgroundColor.outlineDimmer})]}),(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{css:m4.listHeader,multiline:!1,children:"Author"}),(0,p.FD)("dl",{css:m4.definitionList,children:[(0,p.Y)("dt",{children:"Name:"}),(0,p.Y)("dd",{children:n.author.name}),(0,p.Y)("dt",{children:"Email:"}),(0,p.Y)("dd",{children:n.author.email})]})]}),r?(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{css:m4.listHeader,multiline:!1,children:"Committer"}),(0,p.FD)("dl",{css:m4.definitionList,children:[(0,p.Y)("dt",{children:"Name:"}),(0,p.Y)("dd",{children:n.committer.name}),(0,p.Y)("dt",{children:"Email:"}),(0,p.Y)("dd",{children:n.committer.email})]})]}):null,(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{css:m4.listHeader,multiline:!1,children:"Commit"}),(0,p.FD)("dl",{css:m4.definitionList,children:[a?(0,p.FD)(p.FK,{children:[(0,p.Y)("dt",{children:"Authored:"}),(0,p.Y)("dd",{children:(0,p.Y)(eP.Dc,{date:n.author.date,dateFormat:"absolute"})}),(0,p.Y)("dt",{children:"Committed:"}),(0,p.Y)("dd",{children:(0,p.Y)(eP.Dc,{date:n.committer.date,dateFormat:"absolute"})})]}):(0,p.FD)(p.FK,{children:[(0,p.Y)("dt",{children:"Date:"}),(0,p.Y)("dd",{children:(0,p.Y)(eP.Dc,{date:n.author.date,dateFormat:"absolute"})})]}),(0,p.Y)("dt",{children:"Hash:"}),(0,p.Y)("dd",{children:(0,p.Y)(m7,{hash:n.hash})}),s&&"pull-request"===s.type?(0,p.FD)(p.FK,{children:[(0,p.Y)("dt",{children:"PR:"}),(0,p.FD)("dd",{children:["#",s.id]})]}):null,s&&"branch"===s.type?(0,p.FD)(p.FK,{children:[(0,p.Y)("dt",{children:"Merged:"}),(0,p.Y)("dd",{children:s.source}),s.target?(0,p.FD)(p.FK,{children:[(0,p.Y)("dt",{children:"Into:"}),(0,p.Y)("dd",{children:s.target})]}):null]}):null,l?(0,p.FD)(p.FK,{children:[(0,p.Y)("dt",{children:"Reverted:"}),(0,p.Y)("dd",{children:l.hash})]}):null]})]}),s&&"simple"===s.type?(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{css:m4.listHeader,multiline:!1,children:"Merged"}),(0,p.FD)(W.S,{css:m4.commitList,children:[(0,p.Y)(G.EY,{multiline:!1,children:s.a}),(0,p.Y)(G.EY,{multiline:!1,children:s.b})]})]}):null,s&&"octopus"===s.type?(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{css:m4.listHeader,multiline:!1,children:"Merged"}),(0,p.Y)(W.S,{css:m4.commitList,children:s.parents.map(function(e,n){return(0,p.Y)(G.EY,{multiline:!1,children:e},n)})})]}):null]})}var vn=(0,eo.x)({headerText:[es.wp.rowWithGap(4),es.wp.flex.row,es.wp.align.stretch,es.wp.fontWeight.medium,{"> span":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}}],headerContainer:[{"> span":{width:"calc(100%)"}}],button:[es.wp.reset.button,es.wp.linkStyle,es.wp.color.foregroundDefault,es.wp.fontWeight.medium,{display:"block",width:"100%",textAlign:"left"}]}),vt=function(e){var n=e.author;return(0,p.FD)(W.S,{row:!0,gap:8,align:"center",children:[(0,p.Y)(p7,{name:n.name,email:n.email,color:"dimmer",allowPlaceholderAvatar:!0,small:!0}),(0,p.Y)(eP.Dc,{date:n.date,textColor:"dimmest",textVariant:"small",dateFormat:"switch"})]})},vr=function(e){var n=e.children;return(0,p.Y)(G.EY,{css:vn.headerText,multiline:!1,maxLines:1,children:n})},va=function(e){var n=e.commit,t=e.onViewCommitClick,r=e.children;return(0,p.Y)(W.S,{css:vn.headerContainer,gap:4,align:"start",justify:"start",children:(0,p.Y)(z.m_,{tooltip:"View ".concat(n.hash.slice(0,7)),children:(0,p.Y)("button",{css:vn.button,onClick:function(){return t(n.hash)},children:r})})})};function vi(e){var n=e.commit,t=(0,iv._)(e,["commit"]);return(0,p.Y)(mX,(0,nh._)((0,eg._)({marker:(0,p.Y)(mH,{type:"commit"}),header:(0,p.Y)(vr,{children:(0,p.Y)(l3,{subject:n.subject})}),unfoldedContent:(0,p.Y)(ve,{commit:n})},t),{children:(0,p.Y)(vt,{author:n.author})}))}var vo=function(e){var n=e.commit,t=e.onViewCommitClick,r=(0,iv._)(e,["commit","onViewCommitClick"]);return(0,p.Y)(mX,(0,nh._)((0,eg._)({marker:(0,p.Y)(mH,{type:"commit"}),header:(0,p.Y)(va,{commit:n,onViewCommitClick:function(){return t(n.hash)},children:(0,p.Y)(vr,{children:(0,p.Y)(l3,{subject:n.subject})})})},r),{children:(0,p.Y)(vt,{author:n.author})}))},vs=t(50420);function vl(e){var n,t=e.commit,r=e.info,a=(0,iv._)(e,["commit","info"]);return"branch"!==r.type&&(n="pull-request"===r.type&&r.subject?r.subject:t.subject),(0,p.Y)(mX,(0,nh._)((0,eg._)({marker:(0,p.Y)(mH,{type:"merge"}),header:(0,p.FD)(vr,{children:[(0,p.Y)(l0,{text:"merged"}),(0,p.Y)(vc,{info:r,hash:t.hash,subject:t.subject})]}),unfoldedContent:(0,p.Y)(ve,{commit:t,info:r})},a),{children:(0,p.FD)(W.S,{gap:8,children:[n?(0,p.Y)(G.EY,{color:"dimmer",variant:"small",multiline:!1,children:(0,p.Y)(l3,{subject:n})}):null,(0,p.Y)(vt,{author:t.author})]})}))}var vu=function(e){var n,t=e.commit,r=e.info,a=e.onViewCommitClick,i=(0,iv._)(e,["commit","info","onViewCommitClick"]);return"branch"!==r.type&&(n="pull-request"===r.type&&r.subject?r.subject:t.subject),(0,p.Y)(mX,(0,nh._)((0,eg._)({marker:(0,p.Y)(mH,{type:"merge"}),header:(0,p.Y)(va,{commit:t,onViewCommitClick:function(){return a(t.hash)},children:(0,p.FD)(vr,{children:[(0,p.Y)(l0,{text:"merged"}),(0,p.Y)(vc,{info:r,hash:t.hash,subject:t.subject})]})})},i),{children:(0,p.FD)(W.S,{gap:8,children:[n?(0,p.Y)(G.EY,{color:"dimmer",variant:"small",multiline:!1,children:(0,p.Y)(l3,{subject:n})}):null,(0,p.Y)(vt,{author:t.author})]})}))};function vc(e){var n=e.info,t=e.hash,r=e.subject,a=(0,p.Y)("span",{css:es.wp.fontWeight.medium,children:r});switch(n.type){case"pull-request":return(0,p.FD)(p.FK,{children:[(0,p.Y)("span",{children:"pull request"}),(0,p.Y)(l1,{id:n.id}),n.reverts&&n.reverts.pr?(0,p.FD)(p.FK,{children:[(0,p.Y)("span",{children:"-"}),(0,p.Y)(lX,{text:"reverts"}),(0,p.Y)(l1,{id:n.reverts.pr})]}):null]});case"branch":if(!n.target)return(0,p.FD)(p.FK,{children:[(0,p.Y)("span",{children:"branch"}),(0,p.Y)(l7,{name:n.source})]});return(0,p.FD)(p.FK,{children:[(0,p.Y)(l7,{name:n.source}),(0,p.Y)("span",{children:"into"}),(0,p.Y)(l7,{name:n.target})]});case"simple":return(0,p.FD)(p.FK,{children:[(0,p.Y)(l2,{hash:n.a}),(0,p.Y)(vs.A,{css:{alignSelf:"center"},size:12}),(0,p.Y)(l2,{hash:n.b})]});case"octopus":return(0,p.FD)(p.FK,{children:[(0,p.Y)("span",{children:"commit"}),(0,p.Y)(l2,{hash:t}),(0,p.FD)("span",{children:["(",n.parents.length," parents)"]})]});default:return a}}function vd(e){var n=e.commit,t=e.info,r=(0,iv._)(e,["commit","info"]);return(0,p.Y)(mX,(0,nh._)((0,eg._)({marker:(0,p.Y)(mH,{type:"revert"}),header:(0,p.FD)(vr,{children:[(0,p.Y)(lX,{text:"reverted"}),(0,p.Y)(l2,{hash:t.hash}),(0,p.Y)(l3,{subject:t.subject,quoted:!0})]}),unfoldedContent:(0,p.Y)(ve,{commit:n,info:t})},r),{children:(0,p.Y)(vt,{author:n.author})}))}var vf=function(e){var n=e.commit,t=e.info,r=e.onViewCommitClick,a=(0,iv._)(e,["commit","info","onViewCommitClick"]);return(0,p.Y)(mX,(0,nh._)((0,eg._)({marker:(0,p.Y)(mH,{type:"revert"}),header:(0,p.Y)(va,{commit:n,onViewCommitClick:function(){return r(n.hash)},children:(0,p.FD)(vr,{children:[(0,p.Y)(lX,{text:"reverted"}),(0,p.Y)(l2,{hash:t.hash}),(0,p.Y)(l3,{subject:t.subject,quoted:!0})]})})},a),{children:(0,p.Y)(vt,{author:n.author})}))},vp=(0,eo.x)({body:[es.wp.flex.growAndShrink(1)],virtualItem:[es.wp.position.absolute,es.wp.top(0),es.wp.left(0),es.wp.width("100%"),es.wp.overflow("hidden")],virtualList:[es.wp.position.relative]}),vh=function(){return 60};function vm(e){var n=e.items,t=(0,b.useRef)(null),r=(0,eH.Te)({overscan:10,count:n.length,getScrollElement:function(){return t.current},estimateSize:vh});return(0,p.Y)("div",{ref:t,css:vp.body,children:(0,p.Y)("div",{css:vp.virtualList,style:{height:"".concat(r.getTotalSize(),"px")},children:r.getVirtualItems().map(function(e){return(0,p.Y)("div",{css:vp.virtualItem,style:{transform:"translateY(".concat(e.start,"px)")},"data-index":e.index,ref:r.measureElement,children:(0,p.Y)(vv,{items:n,index:e.index})},e.key.toString())})})})}function vv(e){var n=e.items,t=e.index,r=n[t],a=0===t,i=t===n.length-1;if("boundary"===r.type)return(0,p.Y)(m3,{text:r.text,hideConnectorTop:a,hideConnectorBottom:i,boundaryTop:!0,boundaryBottom:!0},r.text);var o=n[t-1]?n[t-1].type:null,s=n[t+1]?n[t+1].type:null;return(0,p.Y)(vg,{commit:r.commit,hideConnectorTop:a,hideConnectorBottom:i,boundaryTop:"commit"!==o,boundaryBottom:"commit"!==s,onViewCommitClick:r.onViewCommitClick},r.commit.hash)}function vg(e){var n=e.commit,t=e.onViewCommitClick,r=(0,iv._)(e,["commit","onViewCommitClick"]),a=mL(n);if(a)return t?(0,p.Y)(vu,(0,eg._)({info:a,commit:n,onViewCommitClick:t},r)):(0,p.Y)(vl,(0,eg._)({info:a,commit:n},r));var i=mN(n);return i?t?(0,p.Y)(vf,(0,eg._)({info:i,commit:n,onViewCommitClick:t},r)):(0,p.Y)(vd,(0,eg._)({info:i,commit:n},r)):t?(0,p.Y)(vo,(0,eg._)({commit:n,onViewCommitClick:t},r)):(0,p.Y)(vi,(0,eg._)({commit:n},r))}var vb=(0,eo.x)({warning:[es.wp.align.start],header:[es.wp.fontWeight.bold]});function vy(){return(0,p.FD)(p.FK,{children:[(0,p.Y)(tU.N,{css:vb.warning,icon:(0,p.Y)(rJ.A,{}),colorway:"warning",text:(0,p.FD)(p.FK,{children:[(0,p.Y)("span",{css:vb.header,children:"Can't push or pull from GitHub"}),(0,p.Y)("br",{}),(0,p.Y)("span",{children:"This Repl has a GitHub repository as a remote, but you are not connected to GitHub."})]})}),(0,p.Y)(pO,{})]})}var vw=t(15547),v_=(0,eo.x)({text:[es.wp.flex.shrink(1)]});function vS(e){var n=e.date,t=(0,g._)((0,b.useState)(null),2),r=t[0],a=t[1];return((0,b.useEffect)(function(){if(n){var e=function(){var e=new Date,t="just now";e.getTime()-n.getTime()>6e4&&(t=(0,vw.A)(n,e,{addSuffix:!0})),a(t=t.replace(/minutes?/,"min"))};e();var t=setInterval(e,6e4);return function(){clearInterval(t),a(null)}}},[n]),r)?(0,p.FD)(G.EY,{css:v_.text,color:"dimmest",variant:"small",multiline:!1,children:["last fetched ",r]}):null}function vA(e){var n=e.hasRemoteMergeConflict,t=e.hasUnpulledCommits,r=e.hasUnpushedCommits,a=e.workTreeDirty,i=[];return a&&t&&i.push("Can't pull: you have uncommitted changes"),n&&(t||r)&&(t&&r?(a||i.push("Warning: pulling will start a merge with conflicts"),i.push("Can't push: unpulled changes must be merged first")):t?a||i.push("Warning: pulling will start a merge with conflicts"):r&&i.push("Can't push: merge conflict with remote")),i.length?(0,p.Y)(p.FK,{children:i.map(function(e){return(0,p.Y)(tU.N,{text:e,colorway:"warning",icon:(0,p.Y)(rJ.A,{})},e)})}):null}var vk=(0,eo.x)({divider:[es.wp.mx(8)]});function vC(e){var n=e.ahead,t=e.behind;if(!n&&!t)return(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"Nothing to pull or push"});var r=null,a=null;if(t){var i=(0,sh.A)("commit",t);r="".concat(t," ").concat(i," to pull")}if(n){var o=(0,sh.A)("commit",n);a="".concat(n," ").concat(o," to push")}return(0,p.FD)(G.EY,{color:"dimmer",variant:"small",multiline:!1,children:[r?(0,p.Y)("span",{children:r}):null,r&&a?(0,p.Y)("span",{css:vk.divider,children:"•"}):null,a?(0,p.Y)("span",{children:a}):null]})}h.ZU.Object({name:h.ZU.String(),push:h.ZU.String(),fetch:h.ZU.String()});var vY=function(e){return e.FF_ONLY="FF_ONLY",e.MERGE="MERGE",e.REBASE="REBASE",e}({});function vE(e){return(0,y._)(function(){var n,t;return(0,w.YH)(this,function(r){switch(r.label){case 0:return n=null,[4,Promise.race([e,new Promise(function(e){return n=setTimeout(function(){id.v4(function(e){e.setTag("gitPane",!0),id.Cp(Error("Remote update operation timed out"))}),e({error:lT.uA.TIMEOUT})},9e4)})])];case 1:return t=r.sent(),n&&clearTimeout(n),[2,t]}})})()}h.ZU.Enum(vY);var vx=(0,eo.x)({container:[es.wp.flex.grow(1)],branch:[es.wp.mr(4),es.wp.color.foregroundDefault,es.wp.fontWeight.medium,{"&:hover":{textDecoration:"underline"}}],divider:[es.wp.color.foregroundDimmest],text:[es.wp.ml(4),es.wp.color.foregroundDimmest]});function vT(e){var n=e.upstream,t=e.remotes,r=(0,b.useMemo)(function(){return function(e,n){var t=null,r=null;if((0,np._)(e,Map)){var a=(0,pP.xM)(n),i=a[0];if(t=a[1],!i||!t)return null;var o=e.get(i);if(!o)return null;r=pM(o)}else t=n,r=pM(e);return r&&pU(r)?"".concat(r,"/tree/").concat(t):null}(t,n)},[n,t]);return(0,p.FD)(G.EY,{css:vx.container,variant:"small",multiline:!1,children:[r?(0,p.Y)("a",{css:vx.branch,href:r,target:"_blank",children:n}):(0,p.Y)("span",{css:vx.branch,children:n}),(0,p.Y)("span",{css:vx.divider,children:"•"}),(0,p.Y)("span",{css:vx.text,children:"upstream"})]})}var vD=t(52914),vI=(0,eo.x)({container:[es.wp.borderRadius(8)],loading:[es.wp.height(64),nZ.S.backgroundPulse(),es.wp.borderRadius(8)],header:[es.wp.py(4),es.wp.px(8),es.wp.rowWithGap(8),es.wp.align.center,es.wp.flex.shrink(1),es.wp.border({color:U.LU.outlineDimmer,direction:"bottom"})],fetch:{border:"none"},body:[es.wp.px(8),es.wp.pt(8),es.wp.pb(12),es.wp.colWithGap(8)],sync:[es.wp.flex.grow(1)],pull:[es.wp.pr(12),es.wp.borderRadius(8,0,0,8),es.wp.border({color:U.LU.outlineDefault,direction:"right"})],push:[es.wp.borderRadius(0,8,8,0)]});function vR(e){var n=e.remotes,t=e.gotoPendingState,r=pA(),a=function(e){var n=e.onError,t=e.onPullConflicts,r=(0,g._)((0,b.useState)(!1),2),a=r[0],i=r[1],o=(0,g._)((0,b.useState)(!1),2),s=o[0],l=o[1],u=(0,g._)((0,b.useState)(!1),2),c=u[0],d=u[1],f=(0,g._)((0,b.useState)(!1),2),p=f[0],h=f[1],m=(0,k.A)().git,v=(0,ic.A)(function(e){return(0,y._)(function(){var n,t,r,a,i,o,s,l,u,c,d,f,p,h,m,v,g,b;return(0,w.YH)(this,function(y){switch(y.label){case 0:return a={upstream:null,hasUnpulledCommits:!1,hasUnpushedCommits:!1,hasRemoteMergeConflict:!1,pullMode:vY.FF_ONLY,canPull:!1,canPush:!1,workTreeDirty:!1,needGitHubConnection:!1,ahead:0,behind:0,lastFetched:null},[4,e.getRepositoryState()];case 1:if((i=y.sent()).error)return[2,i];if(o=i.state,i.type!==pg.UN.NORMAL)return[2,{error:lT.uA.INVALID_STATE}];return(o===pg.Gi.DIRTY_WORKTREE||o===pg.Gi.DIRTY_INDEX)&&(a.workTreeDirty=!0),[4,e.status()];case 2:if((s=y.sent()).error)return[2,s];if(l=s.branch,u=null==(n=s.upstream)?void 0:n.branch,d=null!=(c=null==(t=s.upstream)?void 0:t.ahead)?c:0,p=null!=(f=null==(r=s.upstream)?void 0:r.behind)?f:0,!l)return[2,{error:lT.uA.HEAD_DETACHED}];if(a.ahead=d,a.behind=p,!u)return[3,7];return a.upstream=u,a.hasUnpulledCommits=p>0,a.hasUnpushedCommits=d>0,[4,e.lastFetched()];case 3:if((h=y.sent()).error)return[2,h];return a.lastFetched=h.lastFetched,[4,e.canMergeBranches(l,u)];case 4:if((m=y.sent()).error)return[2,m];if(m.canMerge||(a.hasRemoteMergeConflict=!0),e.hasProfile(px.H.GITHUB))return[3,6];if(!(v=(0,pZ.z5)(u)))return[2,{error:lT.uA.INVALID_REFERENCE}];return[4,e.getRemotes()];case 5:if((g=y.sent()).error)return[2,g];if(!(b=g.remotes.get(v)))return[2,{error:lT.uA.INVALID_REFERENCE}];pU(b)&&(a.needGitHubConnection=!0),y.label=6;case 6:a.workTreeDirty||a.needGitHubConnection||(a.canPull=!0),!a.hasUnpushedCommits||a.hasUnpulledCommits||a.needGitHubConnection||(a.canPush=!0),d>0&&(a.pullMode=a.hasRemoteMergeConflict?vY.MERGE:vY.REBASE),y.label=7;case 7:return[2,(0,nh._)((0,eg._)({},a),{error:null})]}})})()});if(!v)return{type:"loading"};if(v.error||!v.upstream)return{type:"error",error:v.error};if(!v.upstream)return{type:"noUpstream"};var _=v.upstream,S=v.hasUnpulledCommits,A=v.hasUnpushedCommits,C=v.hasRemoteMergeConflict,Y=v.pullMode,E=v.canPull,x=v.canPush,T=v.workTreeDirty,D=v.needGitHubConnection,I=v.ahead,R=v.behind,N=v.lastFetched;if(D)return{type:"needGitHubConnection",upstream:_};var O=a||s||c||p,P=!_||D||O,F=!E||O,U=!x||O,L=!E&&!x||C||O;return{type:"remote",fetch:function(){return(0,y._)(function(){var e;return(0,w.YH)(this,function(t){switch(t.label){case 0:if(P)return[2];return i(!0),[4,vE(m.fetch())];case 1:return e=t.sent(),m.forceRefresh(),i(!1),e.error?n(e.error):pk("remote-fetched"),[2]}})})()},fetching:a,fetchDisabled:P,lastFetched:N,pull:function(){return(0,y._)(function(){var e;return(0,w.YH)(this,function(r){switch(r.label){case 0:if(F)return[2];return l(!0),[4,vE(m.pull({mode:Y,allowConflicts:!0}))];case 1:return e=r.sent(),l(!1),e.error?n(e.error):(e.hasConflicts&&t(),m.forceRefresh(),pk("upstream-pulled")),[2]}})})()},pulling:s,pullDisabled:F,pullMode:Y,canPull:E,push:function(){return(0,y._)(function(){var e;return(0,w.YH)(this,function(t){switch(t.label){case 0:if(U)return[2];return d(!0),[4,vE(m.push())];case 1:return e=t.sent(),m.forceRefresh(),d(!1),e.error?n(e.error):pk("upstream-pushed"),[2]}})})()},pushing:c,pushDisabled:U,canPush:x,sync:function(){return(0,y._)(function(){var e,t;return(0,w.YH)(this,function(r){switch(r.label){case 0:if(L)return[2];if(h(!0),!E)return[3,2];return[4,vE(m.pull({mode:Y}))];case 1:if((e=r.sent()).error)return n(e.error),h(!1),[2];pk("upstream-pulled"),r.label=2;case 2:if(!x)return[3,4];return[4,m.push()];case 3:if((t=r.sent()).error)return n(t.error),h(!1),[2];pk("upstream-pushed"),r.label=4;case 4:return m.forceRefresh(),h(!1),[2]}})})()},syncing:p,syncDisabled:L,upstream:_,hasUnpulledCommits:S,hasUnpushedCommits:A,hasRemoteMergeConflict:C,workTreeDirty:T,ahead:I,behind:R}}({onError:r,onPullConflicts:t}),i="error"===a.type?a.error:null;return((0,b.useEffect)(function(){i&&r(i)},[i,r]),"loading"===a.type)?(0,p.Y)(ex.ui,{css:vI.loading,elevated:!0}):"error"===a.type||"noUpstream"===a.type?null:"needGitHubConnection"===a.type?(0,p.FD)(ex.ui,{css:vI.container,elevated:!0,children:[(0,p.FD)(W.S,{css:vI.header,children:[(0,p.Y)(vT,{upstream:a.upstream,remotes:n}),(0,p.Y)(M.$n,{css:vI.fetch,text:"Fetch",iconLeft:(0,p.Y)(sI.A,{}),disabled:!0,variant:"outlined",size:"small"})]}),(0,p.Y)(W.S,{css:vI.body,children:(0,p.Y)(vy,{})})]}):(0,p.FD)(ex.ui,{css:vI.container,elevated:!0,children:[(0,p.FD)(W.S,{css:vI.header,children:[(0,p.Y)(vT,{upstream:a.upstream,remotes:n}),(0,p.Y)(vS,{date:a.lastFetched}),(0,p.Y)(M.$n,{css:vI.fetch,text:"Fetch",iconLeft:a.fetching?(0,p.Y)(a$.A,{}):(0,p.Y)(sI.A,{}),onClick:a.fetch,loading:a.fetching,disabled:a.fetchDisabled,variant:"outlined",size:"small"})]}),(0,p.FD)(W.S,{css:vI.body,children:[(0,p.Y)(vA,{hasRemoteMergeConflict:a.hasRemoteMergeConflict,hasUnpulledCommits:a.hasUnpulledCommits,hasUnpushedCommits:a.hasUnpushedCommits,workTreeDirty:a.workTreeDirty}),(0,p.Y)(vC,{ahead:a.ahead,behind:a.behind}),(0,p.FD)(W.S,{grow:!0,row:!0,gap:8,children:[(0,p.Y)("div",{css:vI.sync,children:(0,p.Y)(z.m_,{tooltip:"Pull & push the latest changes",children:(0,p.Y)(M.$n,{css:vI.sync,text:"Sync with Remote",iconLeft:a.syncing?(0,p.Y)(a$.A,{}):(0,p.Y)(vs.A,{rotate:90}),onClick:a.sync,loading:a.syncing,disabled:a.syncDisabled,size:"small"})})}),(0,p.FD)(W.S,{row:!0,children:[(0,p.Y)(M.$n,{css:vI.pull,text:"Pull",iconLeft:a.pulling?(0,p.Y)(a$.A,{}):(0,p.Y)(ez.A,{}),onClick:a.pull,loading:a.pulling,disabled:a.pullDisabled,size:"small"}),(0,p.Y)(M.$n,{css:vI.push,text:"Push",iconLeft:a.pushing?(0,p.Y)(a$.A,{}):(0,p.Y)(vD.A,{}),onClick:a.push,loading:a.pushing,disabled:a.pushDisabled,size:"small"})]})]})]})]})}var vN=(0,eo.x)({remoteUrl:[{border:"none"},es.wp.height("auto"),es.wp.py(4),es.wp.px(8)]});function vO(e){var n=e.branch,t=e.remotes,r=(0,g._)((0,b.useMemo)(function(){if(n.type===pK.xx.LOCAL)return[null,null,null];var e=t.get(n.remote);if(!e)return[null,null,null];var r=pM(e),a=pJ(e),i=pU(r);return[r,a,i]},[n,t]),3),a=r[0],i=r[1],o=r[2];return a&&i?(0,p.Y)(tP.v,{css:vN.remoteUrl,text:i,href:a,target:"_blank",iconLeft:o?(0,p.Y)(pN.A,{}):void 0,iconRight:(0,p.Y)(tj.A,{}),variant:"outlined",size:"small"}):null}var vP=(0,nV.i7)({from:{opacity:0},to:{opacity:1}}),vF=(0,eo.x)({loadingView:[{animation:"".concat(vP," 0.125s 0.25s linear backwards")},es.wp.flex.grow(1),es.wp.display.flex,es.wp.center]});function vU(){return(0,p.Y)(W.S,{css:vF.loadingView,children:(0,p.Y)(a$.A,{size:48})})}var vL=(0,eo.x)({view:[],sectionContainer:[es.wp.colWithGap(8)],section:[es.wp.pt(8),es.wp.pb(16),es.wp.px(8),es.wp.colWithGap(8),es.wp.border({color:U.LU.outlineDimmest,direction:"bottom"})],remoteUpdatesHeader:[],reviewChangesHeader:[],headerText:[es.wp.fontWeight.medium],replMergingHeader:[es.wp.rowWithGap(8),es.wp.align.center],switchToBranch:[es.wp.p(4),es.wp.flex.row,es.wp.align.center,es.wp.justify.spaceBetween,es.wp.mt(0),es.wp.mb(0)]});function vM(e){var n,t,r,a,i=e.status,o=e.remotes,s=e.branch,l=e.onStagedFileClick,u=e.onViewCommitClick,c=e.gotoPendingState,d=e.current,f=void 0!==d&&d,h=e.performPaneOperation,m=f?null==i||null==(r=i.upstream)?void 0:r.behind:void 0,v=f?null==i||null==(a=i.upstream)?void 0:a.ahead:void 0,_=(n=pA(),t=(0,ic.A)(function(e){return(0,y._)(function(){var n,t,r,a,i,o,l,u,c;return(0,w.YH)(this,function(d){switch(d.label){case 0:return[4,e.isInitialized()];case 1:if((n=d.sent()).error)return ip({context:"use-branch-commits",gitService:e,result:n}),[2,{error:n.error}];if(!n.initialized)return[2,{log:[],onlyRemote:[],onlyLocal:[],error:null}];if(!s)return[2,{error:null}];if(!(!s.tracking||0===m&&0===v))return[3,3];return t=(0,pZ.qK)(s,!0),[4,e.log({max:100,revRange:t})];case 2:if((r=d.sent()).error)return ip({context:"use-branch-commits",gitService:e,result:r,data:{branch:s,behind:m,ahead:v,revision:t}}),[2,r];return[2,{log:r.commits,error:null}];case 3:return a=(0,pZ.qK)(s),[4,Promise.all([e.log({max:100,revRange:s.name}),e.log({max:100,revRange:"".concat(s.name,"..").concat(a)}),e.log({max:100,revRange:"".concat(a,"..").concat(s.name)})])];case 4:if(i=d.sent(),l=(o=(0,g._)(i,3))[0],u=o[1],c=o[2],l.error)return ip({context:"use-branch-commits-log",gitService:e,result:l,data:{branch:s,behind:m,ahead:v,remoteBranch:a}}),[2,{error:l.error}];if(u.error)return ip({context:"use-branch-commits-only-remote",gitService:e,result:u,data:{branch:s,behind:m,ahead:v,remoteBranch:a}}),[2,{error:u.error}];if(c.error)return ip({context:"use-branch-commits-only-local",gitService:e,result:c,data:{branch:s,behind:m,ahead:v,remoteBranch:a}}),[2,{error:c.error}];return[2,{log:l.commits,onlyRemote:u.commits,onlyLocal:c.commits,error:null}]}})})()},[s,m,v]),(0,b.useMemo)(function(){if(!t)return null;if(t.error)return n(t.error),{error:t.error};var e=t.log,r=t.onlyRemote,a=t.onlyLocal;return r||a?(e&&(e=h5(e,null!=r?r:[],null!=a?a:[])),{log:e,onlyRemote:r,onlyLocal:a,error:null}):{log:e,error:null}},[n,t])),S=!!o&&o.size>0,A=(null==s?void 0:s.type)===pK.xx.LOCAL,k=(0,b.useMemo)(function(){if(!_||_.error)return[];var e=[],n=_.log,t=void 0===n?[]:n,r=_.onlyRemote,a=void 0===r?[]:r,i=_.onlyLocal,o=void 0===i?[]:i,s=t.length>0,l=a.length>0,c=o.length>0;return l&&(e.push({type:"boundary",text:"Not pulled from remote"}),e.push.apply(e,(0,ev._)(vJ(a,u)))),c&&(e.push({type:"boundary",text:"Not pushed to remote"}),e.push.apply(e,(0,ev._)(vJ(o,u)))),s&&((l||c)&&e.push({type:"boundary",text:"Up to date with remote"}),e.push.apply(e,(0,ev._)(vJ(t,u)))),e},[_,u]);return s?(0,p.FD)(W.S,{grow:!0,pt:4,pb:8,px:4,gap:8,children:[(0,p.FD)(W.S,{gap:8,children:[A?(0,p.Y)(W.S,{css:vL.section,children:(0,p.Y)(h4,{performPaneOperation:h,branch:s})}):null,f&&!A&&o&&S?(0,p.FD)(W.S,{css:vL.section,children:[(0,p.FD)(W.S,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,p.Y)(G.EY,{css:vL.headerText,multiline:!1,children:"Remote Updates"}),(0,p.Y)(vO,{branch:s,remotes:o})]}),(0,p.Y)(vR,{remotes:o,gotoPendingState:c})]}):null,f&&i?(0,p.FD)(W.S,{css:vL.section,children:[(0,p.Y)(W.S,{row:!0,gap:8,align:"center",children:(0,p.Y)(G.EY,{css:vL.headerText,multiline:!1,children:"Commit"})}),(0,p.Y)(mT,{status:i,onStagedFileClick:l})]}):null]}),_?(0,p.Y)(vm,{items:k}):(0,p.Y)(vU,{})]}):(0,p.Y)("div",{children:"No branch"})}function vJ(e,n){return e.map(function(e){return{type:"commit",commit:e,onViewCommitClick:n}})}function vH(){return(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{multiline:!1,children:"Unsupported state: you are in the middle of a cherry-pick."}),(0,p.Y)(G.EY,{multiline:!1,children:"Please finish the cherry-pick manually."})]})}let vB=function(e){var n=(0,ic.A)(function(n){return(0,y._)(function(){var t,r,a;return(0,w.YH)(this,function(i){switch(i.label){case 0:return[4,n.isInitialized()];case 1:if((t=i.sent()).error)return[2,{error:t.error}];if(!t.initialized)return[2,{error:lT.uA.NOT_INITIALIZED}];return[4,n.log({max:1,revRange:e})];case 2:if((r=i.sent()).error)return[2,{error:r.error}];if(0===r.commits.length)return[2,{error:lT.uA.NO_COMMITS}];return[2,{commit:null!=(a=r.commits[0])?a:null,error:null}]}})})()},[e]);return(0,b.useMemo)(function(){return n?n.error?{error:n.error}:n:null},[n])},vV=function(e){var n=pA(),t=(0,ic.A)(function(n){return(0,y._)(function(){var t,r,a,i,o,s;return(0,w.YH)(this,function(l){switch(l.label){case 0:return a=e.hash,[4,n.getFilesForCommit(a)];case 1:if(null==(i=l.sent())?void 0:i.error)return ip({context:"use-commit-diffs",gitService:n,result:i,data:{commit:e}}),[2,{error:i.error,diffs:[]}];return o=(null==i||null==(t=i.files)?void 0:t.filter(function(e){return["ADDED","MODIFIED","COPIED","RENAMED","TYPE_CHANGED"].includes(e.type)}))||[],s=(null==i||null==(r=i.files)?void 0:r.filter(function(e){return["DELETED","MODIFIED","COPIED","RENAMED","TYPE_CHANGED"].includes(e.type)}))||[],[2,{error:null,diffs:Array.from(new Set((0,ev._)(o).concat((0,ev._)(s)))).map(function(e){var n,t;return{id:(0,nW.A)(),status:e.type,loading:!1,initial:{filename:(0,aU.WP)(null!=(n=e.originalPath)?n:e.path),path:(0,aU._6)(null!=(t=e.originalPath)?t:e.path),content:""},final:{filename:(0,aU.WP)(e.path),path:(0,aU._6)(e.path),content:""}}})}]}})})()},[e]);return(0,b.useMemo)(function(){return t?t.error?(n(t.error),null):t:null},[n,t])};var v$=function(e,n,t,r){return(0,y._)(function(){var a,i,o;return(0,w.YH)(this,function(s){switch(s.label){case 0:return a=""===n?t:"".concat(n,"/").concat(t),[4,e.getFileContents({path:a,revision:r,convertToBase64:(0,aU.FN)(a)})];case 1:if((i=s.sent()).error)throw i.error;return[2,null!=(o=null==i?void 0:i.content)?o:""]}})})()},vG=t(88976),vz=(0,eo.x)({splitOrUnisonContainer:[es.wp.flex.wrap],emphasizedText:[es.wp.fontWeight.medium],buttonGroupItem:[es.wp.width(64),es.wp.height(32)],textContainer:[es.wp.mt(8),es.wp.overflow("break-all")]}),vW=function(e){var n=e.children;return(0,p.Y)(W.S,{css:vz.splitOrUnisonContainer,gap:8,align:"center",justify:"space-between",row:!0,children:n})},vj=function(e){var n=e.value,t=e.onChange;return(0,p.FD)(aA.e2,{name:"SplitOrUnifiedDiff",value:n,onChange:t,row:!0,children:[(0,p.Y)(W.S,{css:vz.buttonGroupItem,children:(0,p.Y)(aA.$O,{value:"Unified",text:"Unified",id:"SplitOrUnifiedDiffUnified"})}),(0,p.Y)(W.S,{css:vz.buttonGroupItem,children:(0,p.Y)(aA.$O,{value:"Split",text:"Split",id:"SplitOrUnifiedDiffSplit"})})]})},vq=function(e){var n=e.value,t=e.onChange;return(0,p.Y)(e$.K0,{alt:"Markdown"===n?"View Source":"View Markdown",onClick:function(){return t("Markdown"===n?"Source":"Markdown")},children:"Markdown"===n?(0,p.Y)(ii.A,{}):(0,p.Y)(vG.A,{})})},vZ=function(e){var n=e.files,t=e.totalFiles;return n===t?(0,p.FD)(G.EY,{css:vz.textContainer,children:["Showing"," ",(0,p.FD)("span",{css:vz.emphasizedText,children:[t," changed ",(0,sh.A)("file",t),"."]})]}):(0,p.FD)(G.EY,{css:vz.textContainer,children:["Showing"," ",(0,p.FD)("span",{css:vz.emphasizedText,children:[n," of ",t," changed ",(0,sh.A)("file",t),"."]})]})},vK=function(e){var n=e.query,t=e.setQuery,r=e.totalDiffs,a=e.diffs,i=e.splitOrUnified,o=e.setSplitOrUnified,s=e.folded,l=e.setFolded,u=(0,b.useMemo)(function(){return a.filter(function(e){var t="".concat(e.final.path,"/").concat(e.final.filename),r="".concat(e.initial.path,"/").concat(e.initial.filename);return t.toLowerCase().includes(n.toLowerCase())||r.toLowerCase().includes(n.toLowerCase())})},[n,a]);return(0,p.FD)(W.S,{gap:16,children:[(0,p.Y)(p8.I,{value:n,onChange:function(e){t(e.target.value)},onClear:function(){t("")},loading:!1,placeholder:"Filter changed files"}),(0,p.FD)(vW,{children:[(0,p.Y)(vZ,{files:u.length,totalFiles:r}),a.length>0?(0,p.Y)(vj,{value:i,onChange:function(e){return o(e)}}):null]}),u.map(function(e){var n;return(0,p.Y)(iB,{folded:null==(n=s[e.id])||n,setFolded:function(n){return l(e.id,n)},diff:e,splitOrUnified:i},e.id)})]})},vQ=(0,eo.x)({metaContainer:[es.wp.flex.wrap]});let vX=function(e){var n=e.author,t=e.committer,r=m8(t,n),a=m6(t.date,n.date);return(0,p.FD)(W.S,{css:vQ.metaContainer,row:!0,gap:4,align:"center",children:[r&&a?(0,p.FD)(p.FK,{children:[(0,p.Y)(p7,{name:n.name,email:n.email,color:"dimmer",allowPlaceholderAvatar:!0,small:!0}),(0,p.Y)(G.EY,{variant:"small",children:"authored"}),(0,p.Y)(eP.Dc,{date:n.date,textColor:"dimmest",textVariant:"small"}),(0,p.Y)(G.EY,{variant:"small",children:"and"})]}):null,r&&!a?(0,p.FD)(p.FK,{children:[(0,p.Y)(p7,{name:n.name,email:n.email,color:"dimmer",allowPlaceholderAvatar:!0,small:!0}),(0,p.Y)(G.EY,{variant:"small",children:"authored"}),(0,p.Y)(G.EY,{variant:"small",children:"and"})]}):null,(0,p.Y)(p7,{name:t.name,email:t.email,color:"dimmer",allowPlaceholderAvatar:!0,small:!0}),!r&&a?(0,p.FD)(p.FK,{children:[(0,p.Y)(G.EY,{variant:"small",children:"authored "}),(0,p.Y)(eP.Dc,{date:n.date,textColor:"dimmest",textVariant:"small"}),(0,p.Y)(G.EY,{variant:"small",children:"and "})]}):null,(0,p.Y)(G.EY,{variant:"small",children:"committed"}),(0,p.Y)(eP.Dc,{date:t.date,textColor:"dimmest",textVariant:"small"})]})};var v0=(0,eo.x)({dullText:[es.wp.color.foregroundDimmest],tooltipContainer:[es.wp.display.inlineBlock]}),v1=function(e){var n=e.onViewCommitClick,t=e.hash;return(0,p.Y)("span",{css:v0.tooltipContainer,children:(0,p.Y)(z.m_,{tooltip:"View commit",children:(0,p.Y)("button",{css:[es.wp.reset.button,es.wp.linkStyle,es.wp.fontWeight.medium],onClick:function(){return n(t)},children:t.slice(0,7)})})})};let v2=function(e){var n=e.parents,t=e.grafted,r=e.onViewCommitClick;return(0,p.FD)(G.EY,{variant:"small",children:[(0,p.FD)("span",{css:v0.dullText,children:[t?"Grafted with ":null,n.length," ",(0,sh.A)("parent",n.length)," "]}),0===n.length?null:n.map(function(e,t){return(0,p.FD)(b.Fragment,{children:[(0,p.Y)(v1,{hash:e,onViewCommitClick:r}),t===n.length-1?"":(0,p.Y)("span",{css:v0.dullText,children:", "})]},e)})]})},v3=function(e){var n=e.source,t=e.target;return t?(0,p.FD)(p.FK,{children:[(0,p.Y)("span",{children:"branch"}),(0,p.Y)(l7,{name:n}),(0,p.Y)("span",{children:" into "}),(0,p.Y)(l7,{name:t})]}):(0,p.FD)(p.FK,{children:[(0,p.Y)("span",{children:"branch"}),(0,p.Y)(l7,{name:n})]})};var v4="gitCommitSubject",v5=(0,nV.AH)([es.wp.display.inline,{fontSize:"inherit",fontWeight:"inherit",lineHeight:"inherit"}]),v7=(0,eo.x)({header:[(c={},(0,v._)(c,"& .".concat(v4),v5),(0,v._)(c,"& .".concat(v4," > div"),v5),(0,v._)(c,"& .".concat(v4," p"),v5),c)],markerContainer:[es.wp.display.inlineFlex,es.wp.mr(4)],mergeContainer:[es.wp.rowWithGap(4),es.wp.flex.row,es.wp.flex.wrap,es.wp.align.stretch,es.wp.flex.shrink(0)]});let v9=function(e){var n=e.merge,t=e.revert,r=e.subject,a=e.remotes,i=e.onViewCommitClick,o=(0,b.useMemo)(function(){var e,r=null;if(((null==n?void 0:n.type)==="pull-request"?r=n.id:t&&(null==t?void 0:t.pr)&&(r=t.pr),r)&&a){var i=a.get("origin");if(!i){var o=Array.from(a.values());if(1!==o.length)return;i=o[0]}return null!=(e=pJ(i))?e:void 0}},[n,a,t]);return(0,p.FD)(G.Y9,{level:2,variant:"subheadDefault",multiline:!0,css:v7.header,children:[n?(0,p.FD)("span",{css:v7.mergeContainer,children:[(0,p.Y)("span",{css:v7.markerContainer,children:(0,p.Y)(mH,{type:"merge"})}),(0,p.Y)(l0,{text:"merged"}),(null==n?void 0:n.type)==="pull-request"?(0,p.FD)(p.FK,{children:["PR ",(0,p.Y)(l1,{id:n.id,hash:!0}),(null==t?void 0:t.pr)?(0,p.FD)(p.FK,{children:[(0,p.Y)(lX,{text:"reverts"})," ",(0,p.Y)(l1,{id:t.pr,hash:!0})]}):null]}):null,(null==n?void 0:n.type)==="branch"?(0,p.Y)(p.FK,{children:(0,p.Y)(v3,{source:n.source,target:n.target})}):null]}):null,t&&!n?(0,p.FD)(p.FK,{children:[(0,p.Y)("span",{css:v7.markerContainer,children:(0,p.Y)(mH,{type:"revert"})}),(0,p.Y)(lX,{text:"reverted"})," ",(0,p.Y)("button",{css:[es.wp.reset.button,es.wp.linkStyle,es.wp.fontWeight.medium],onClick:function(){(null==t?void 0:t.hash)!==void 0&&i(t.hash)},children:t.hash.slice(0,7)})," - "]}):null,(0,p.Y)(l3,{className:v4,subject:r,remoteName:o})]})};var v8=(0,eo.x)({splitContainer:[es.wp.display.flex,es.wp.flex.row,es.wp.flex.shrink(1),es.wp.flex.wrap,es.wp.justify.spaceBetween,es.wp.maxWidth("100%"),es.wp.border({color:U.LU.outlineDimmest,direction:"bottom"}),es.wp.pb(16)]});let v6=function(e){var n,t=e.git,r=e.commit,a=e.info,i=e.onViewCommitClick,o=void 0===i?function(){}:i,s=e.remotes,l=e.status,u=(0,b.useMemo)(function(){return(0,ml.b)(l?l.changes.map(function(e){return e.path}):[])},[l]),c=(0,b.useMemo)(function(){if(!l)return[];var e=[],n=!0,t=!1,r=void 0;try{for(var a,i=l.changes[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=a.value;o.type.worktree!==iE.PX.UNMODIFIED&&e.push(o)}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}return e},[l]),d=(0,nj.A)().showConfirm,f=pA(),h=(0,g._)((0,b.useState)(!1),2),m=h[0],v=h[1],_=(0,g._)((0,b.useState)(""),2),S=_[0],A=_[1],k=(0,g._)((0,b.useState)("Split"),2),C=k[0],Y=k[1],E=(0,g._)((0,b.useState)("Markdown"),2),x=E[0],T=E[1],D=(0,g._)((0,b.useState)({}),2),I=D[0],R=D[1],N=(0,g._)((0,b.useState)([]),2),O=N[0],P=N[1],F=m5(r,a),U=F.hideBody,L=F.merge,M=F.revert,J=r.hash,H=r.subject,B=r.body,V=r.committer,$=r.author,z=r.grafted,j=null!=(n=r.parents)?n:[],q=vV(r),Z=(0,b.useCallback)(function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return(0,y._)(function(){var n,a;return(0,w.YH)(this,function(i){switch(i.label){case 0:return[4,t.restoreFiles(e,r.hash)];case 1:if((n=i.sent()).error)return[3,3];return[4,t.status()];case 2:return(a=i.sent()).error?(f(a.error),ip({context:"commit-view",gitService:t,result:a,data:{files:e,commit:r.hash}})):d("Restored commit!"),t.forceRefresh(),[3,4];case 3:f(n.error),ip({context:"commit-view",gitService:t,result:n,data:{files:e,commit:r.hash}}),i.label=4;case 4:return[2]}})})()},[r.hash,t,f,d]),K=mA(u),Q=K.openRestoreConfirmationModal,X=K.restoreConfirmationModal,ee=(0,b.useCallback)(function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return(0,y._)(function(){var n,t;return(0,w.YH)(this,function(r){switch(r.label){case 0:if(!0!==e)return[3,6];if(v(!0),0!==c.length)return[3,2];return[4,Z()];case 1:return r.sent(),v(!1),[2];case 2:return[4,Q(c)];case 3:if(!r.sent())return[3,5];return[4,Z()];case 4:r.sent(),r.label=5;case 5:return v(!1),[3,10];case 6:if("string"==typeof e){if(!(t=c.find(function(n){return n.path===e})))throw v(!1),Error("Could not find file in worktree list");n=[t]}else n=c.filter(function(n){return e.includes(n.path)});return[4,Q(n)];case 7:if(!r.sent())return[3,9];return[4,Z(e)];case 8:r.sent(),r.label=9;case 9:v(!1),r.label=10;case 10:return[2]}})})()},[Q,Z,c]);return(0,b.useEffect)(function(){var e;P(null!=(e=null==q?void 0:q.diffs.map(function(e){return(0,nh._)((0,eg._)({},e),{loading:!0})}))?e:[])},[q]),(0,b.useEffect)(function(){null!==q&&q.error&&f(q.error)},[q,f]),(0,p.FD)(W.S,{p:16,gap:16,children:[(0,p.Y)(v9,{remotes:s,merge:L,revert:M,subject:H,onViewCommitClick:o}),(0,p.FD)(vW,{children:[(0,p.FD)(W.S,{row:!0,gap:8,shrink:!0,align:"start",children:[(0,p.Y)(m7,{hash:J}),(0,p.Y)(m9,{onClick:function(){return ee()},text:"Restore All",loading:m})]}),U?null:(0,p.Y)(vq,{value:x,onChange:function(e){T(e)}})]}),U?null:(0,p.Y)(l4,{body:B,view:x}),(0,p.FD)(W.S,{css:v8.splitContainer,children:[(0,p.Y)(vX,{author:$,committer:V}),(0,p.Y)(v2,{parents:j,grafted:z,onViewCommitClick:o})]}),null!==L?(0,p.Y)(G.EY,{variant:"small",color:"dimmest",children:"There is more than one parent, diffing against the first parent."}):null,null===q?(0,p.Y)(vU,{}):(0,p.Y)(vK,{query:S,setQuery:A,totalDiffs:q.diffs.length,diffs:O,splitOrUnified:C,setSplitOrUnified:Y,folded:I,setFolded:function(e,n){return(0,y._)(function(){var a,i,o;return(0,w.YH)(this,function(s){switch(s.label){case 0:if(R(function(t){var r=(0,eg._)({},t);return r[e]=n,r}),!(a=O.find(function(n){return n.id===e})))return f(lT.uA.INVALID_STATE),ip({context:"commit-view",gitService:t,result:{error:lT.uA.INVALID_STATE},data:{diffId:e}}),[2];if(!(!n&&a.loading))return[3,4];s.label=1;case 1:var l;return s.trys.push([1,3,,4]),[4,(l=a,(0,y._)(function(){var e,n,a,i;return(0,w.YH)(this,function(o){switch(o.label){case 0:return n=r.hash,[4,v$(t,l.final.path,l.final.filename,n)];case 1:if(a=o.sent(),i="",!(!r.grafted&&(null==(e=r.parents)?void 0:e.length)))return[3,3];return[4,v$(t,l.initial.path,l.initial.filename,"".concat(n,"^"))];case 2:i=o.sent(),o.label=3;case 3:return[2,(0,nh._)((0,eg._)({},l),{loading:!1,initial:(0,nh._)((0,eg._)({},l.initial),{content:i}),final:(0,nh._)((0,eg._)({},l.final),{content:a})})]}})})())];case 2:return i=s.sent(),P(function(n){var t=(0,ev._)(n),r=t.findIndex(function(n){return n.id===e});return t[r]=i,t}),[3,4];case 3:return ip({context:"commit-view",gitService:t,result:o=s.sent(),data:{diffId:e}}),f(o),[2];case 4:return[2]}})})()}}),X]})};function ge(e){var n=e.hash,t=e.remotes,r=e.onViewCommitClick,a=e.switchMode,i=e.status,o=(0,k.A)().git,s=pA(),l=vB(null!=n?n:"");if(null===l)return(0,p.Y)(vU,{});if(l.error)return l.error===lT.uA.NOT_INITIALIZED?a({type:uf.C.CURRENT_BRANCH}):(s(l.error),(l.error===lT.uA.UNKNOWN||l.error===lT.uA.UNKNOWN_NOT_GIT)&&ip({context:"commit-view",gitService:o,result:l,data:{hash:n}})),null;if(null===l.commit)return s(lT.uA.UNKNOWN),null;var u=l.commit,c=mL(u)||mN(u);return(0,p.Y)(v6,{git:o,commit:u,info:c,onViewCommitClick:r,remotes:t,status:i})}function gn(){return(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{multiline:!0,children:"Unsupported state: your config is currently locked. This can happen if multiple git processes are running operations at the same time."}),(0,p.Y)(G.EY,{multiline:!0,children:"Please resolve the issue by ending those git operations. If you are sure you do not have git operations running, you can delete your .git/config.lock file."})]})}var gt=(0,eo.x)({branch:[sv.b.nofill,es.wp.py(12),es.wp.px(8),es.wp.colWithGap(2),es.wp.justify.center,es.wp.borderRadius(8),es.wp.flex.shrink(1)]});function gr(e){var n=e.branch,t=e.current,r=e.onClick;return(0,p.FD)(W.S,{css:gt.branch,tabIndex:0,role:"button","aria-label":"Switch to branch ".concat((0,pZ.qK)(n,!0)),onClick:r,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(null==r||r())},children:[(0,p.Y)(G.EY,{multiline:!1,children:(0,p.Y)(l7,{name:n.name,remote:n.type===pK.xx.REMOTE?n.remote:null,current:void 0!==t&&t,onClick:r,icon:!0})}),(0,p.Y)(ga,{branch:n})]})}function ga(e){var n=e.branch;return(0,p.FD)(W.S,{shrink:!0,row:!0,gap:8,align:"center",children:[(0,p.Y)(p7,{name:n.commit.author.name,email:n.commit.author.email,color:"dimmest",allowPlaceholderAvatar:!0}),(0,p.Y)(eP.Dc,{date:n.commit.author.date,textColor:"dimmest",textVariant:"small"})]})}var gi=(0,eo.x)({expandButton:[{verticalAlign:"middle"},es.wp.justify.spaceBetween],branchListContainer:[es.wp.display.flex],topRowInteractive:[{verticalAlign:"middle"},es.wp.justify.spaceBetween,es.wp.borderRadius(8,8,0,0)],branchList:[es.wp.borderRadius(8)],branchListFoldable:[es.wp.borderRadius(0,0,8,8)]});function go(e){var n=e.name,t=e.branches,r=e.current,a=void 0===r?null:r,i=e.foldable,o=void 0!==i&&i,s=e.folded,l=e.switchBranch,u=(0,g._)((0,b.useState)(!!o&&void 0!==s&&s),2),c=u[0],d=u[1],f=(0,b.useMemo)(function(){return t.map(function(e){return(0,p.Y)(gr,{branch:e,current:(0,pb.F)(e,a),onClick:function(){return l(e)}},(0,pZ.fn)(e))})},[t,a,l]);return c?(0,p.Y)(M.$n,{css:gi.expandButton,text:n,iconRight:(0,p.Y)(tW.A,{}),onClick:function(){return d(!1)},size:"big"}):o?(0,p.FD)(W.S,{css:gi.branchListContainer,children:[(0,p.Y)(M.$n,{css:gi.topRowInteractive,text:n,iconRight:(0,p.Y)(iN.A,{}),onClick:function(){return d(!0)},size:"big"}),(0,p.Y)(ex.ui,{css:gi.branchListFoldable,elevated:!0,children:f})]}):(0,p.FD)(W.S,{css:gi.branchListContainer,children:[(0,p.Y)(W.S,{p:4,row:!0,align:"center",justify:"space-between",children:(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:n})}),(0,p.Y)(ex.ui,{css:gi.branchList,elevated:!0,children:f})]})}var gs=(0,eo.x)({container:[es.wp.borderRadius(8)],button:[es.wp.flex.grow(1)],inputDisabled:[{opacity:.75}]});function gl(){var e=(0,g._)((0,b.useState)(!0),2),n=e[0],t=e[1],r=(0,g._)((0,b.useState)(""),2),a=r[0],i=r[1],o=(0,g._)((0,b.useState)(!1),2),s=o[0],l=o[1],u=pA(),c=(0,k.A)().git;function d(){t(!0),i("")}function f(){return(0,y._)(function(){var e;return(0,w.YH)(this,function(r){switch(r.label){case 0:if(n||!a||s)return[2];return l(!0),[4,c.createBranch({name:a,checkout:!0})];case 1:return(e=r.sent()).error?(u(e.error),l(!1)):(c.forceRefresh(),l(!1),i(""),t(!0),pk("branch-created")),[2]}})})()}if(n)return(0,p.Y)(M.$n,{text:"Create Branch",iconLeft:(0,p.Y)(u6.A,{}),onClick:function(){return t(!1)}});var h=!a||!(0,pZ.eB)(a);return(0,p.FD)(ex.ui,{css:gs.container,p:8,gap:8,elevated:!0,children:[(0,p.Y)(gu,{value:a,onChange:i,onSubmit:f,onCancel:d,disabled:s}),(0,p.FD)(W.S,{row:!0,gap:4,children:[(0,p.Y)(M.$n,{css:gs.button,text:"Cancel",onClick:d,disabled:s}),(0,p.Y)(M.$n,{css:gs.button,text:"Create Branch",colorway:"primary",iconLeft:(0,p.Y)(u6.A,{}),onClick:f,loading:s,disabled:h})]})]})}function gu(e){var n=e.value,t=e.disabled,r=e.onChange,a=e.onSubmit,i=e.onCancel;function o(e){(0,pZ.Uy)(e)&&(null==r||r(e))}return(0,p.Y)(H.pd,{value:n,css:t?gs.inputDisabled:void 0,disabled:t,placeholder:"Enter a name for your new branch",onChange:function(e){return o(e.currentTarget.value)},onKeyDown:function(e){var t=e.key,r=function(){return e.preventDefault()};switch(t){case"Enter":null==a||a(),r();break;case"Escape":null==i||i(),r();break;case" ":if(""===n){r();break}o(n+"-"),r()}},onBlur:function(){""===n&&(null==i||i())},autoFocus:!0})}function gc(e){var n=e.currentBranch,t=e.switchMode,r=pA(),a=(0,k.A)().git,i=(0,g._)((0,b.useState)(null),2),o=i[0],s=i[1],l=(0,ic.A)(function(e){return(0,y._)(function(){var n,t,a,i,o,s,l,u,c,d,f,p,h,m,v,g,b,y,_;return(0,w.YH)(this,function(w){switch(w.label){case 0:return[4,e.listBranches()];case 1:if((n=w.sent()).error)return r(n.error),ip({context:"dashboard-view",gitService:e,result:n}),[2,n];return[4,e.findDefaultBranches()];case 2:if((t=w.sent()).error)return r(t.error),[2,t];a=n.branches,i=new Set,o=!0,s=!1,l=void 0;try{for(u=function(){var e=d.value,n=a.find(function(n){return(0,pZ.CC)(n,e)});n&&i.add(n)},c=t.refs[Symbol.iterator]();!(o=(d=c.next()).done);o=!0)u()}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}f=Date.now()-5184e6,p=[],h=[],m=!0,v=!1,g=void 0;try{for(b=a[Symbol.iterator]();!(m=(y=b.next()).done);m=!0)_=y.value,i.has(_)||(_.commit.author.date>f?p.push(_):h.push(_))}catch(e){v=!0,g=e}finally{try{m||null==b.return||b.return()}finally{if(v)throw g}}return[2,{active:p,stale:h,important:Array.from(i),error:null}]}})})()},[r]),u=function(e){return(0,y._)(function(){var i;return(0,w.YH)(this,function(l){switch(l.label){case 0:if(null!==o)return[2];return(0,pZ.CC)(n,e)&&t({type:uf.C.CURRENT_BRANCH}),s(e),[4,a.switchBranch(e)];case 1:return(i=l.sent()).error?(r(i.error),ip({context:"dashboard-view",gitService:a,result:i,data:{branch:e.name}}),s(null)):(a.forceRefresh(),pk("branch-switched")),[2]}})})()};if((0,b.useEffect)(function(){null!==o&&(0,pZ.CC)(n,o)&&(s(null),t({type:uf.C.CURRENT_BRANCH}))},[n,o,t]),!l||null!==o)return(0,p.Y)(vU,{});if(l.error)return(0,p.Y)("div",{children:l.error});var c=l.active,d=l.stale,f=l.important;return(0,p.Y)(W.S,{gap:8,children:(0,p.FD)(W.S,{pb:8,px:8,gap:16,children:[n?(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(go,{branches:[n],current:n,name:"Current Branch",switchBranch:u}),(0,p.Y)(gl,{})]}):null,(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,css:vL.switchToBranch,children:"Switch Branch"}),0===f.length?null:(0,p.Y)(go,{branches:f,current:n,name:"Important",switchBranch:u,foldable:!0}),0===c.length?null:(0,p.Y)(go,{branches:c,current:n,name:"Active",switchBranch:u,foldable:!0}),0===d.length?null:(0,p.Y)(go,{branches:d,current:n,name:"Stale",switchBranch:u,foldable:!0,folded:!0})]})})}function gd(){return(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{multiline:!1,children:"Unsupported state: your HEAD is currently detached."}),(0,p.Y)(G.EY,{multiline:!1,children:"Please checkout a branch."})]})}function gf(){return(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{multiline:!0,children:"Unsupported state: your index is currently locked. This can happen if multiple git processes are running operations at the same time."}),(0,p.Y)(G.EY,{multiline:!0,children:"Please resolve the issue by ending those git operations. If you are sure you do not have git operations running, you can delete your .git/index.lock file."})]})}function gp(e){var n=e.files,t=e.uniquePathMap,r=e.onFileClick,a=[];if((0,np._)(n,Map)){var i=!0,o=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=(0,g._)(l.value,2),d=c[0],f=c[1],h=t.get(d);a.push({path:d,prefix:h,resolved:f})}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}}else{var m=!0,v=!1,b=void 0;try{for(var y,w=n[Symbol.iterator]();!(m=(y=w.next()).done);m=!0){var _=y.value,S=t.get(_);a.push({path:_,prefix:S,resolved:!0})}}catch(e){v=!0,b=e}finally{try{m||null==w.return||w.return()}finally{if(v)throw b}}}return(0,p.Y)(W.S,{gap:4,children:a.map(function(e){var n=e.path,t=e.prefix,a=e.resolved;return(0,p.FD)(W.S,{row:!0,gap:8,align:"center",children:[(0,p.FD)(W.S,{grow:!0,align:"center",row:!0,gap:8,children:[(0,p.Y)(aV.A,{path:n}),(0,p.Y)(G.EY,{multiline:!1,children:(0,p.Y)(l9,{path:n,prefix:t,onClick:function(){return r({path:n,type:"conflict"})}})})]}),a?(0,p.Y)(rL.A,{color:U.LU.greenStronger}):(0,p.Y)(rJ.A,{color:U.LU.orangeStronger})]},n)})})}function gh(e){var n=e.hasConflicts?(0,p.FD)(p.FK,{children:[(0,p.Y)("span",{css:es.wp.fontWeight.medium,children:"Resolve all conflicts to complete merge."}),(0,p.Y)("br",{}),(0,p.Y)("span",{children:"You can't do anything else until the merge has been completed or aborted."})]}):(0,p.FD)(p.FK,{children:[(0,p.Y)("span",{css:es.wp.fontWeight.medium,children:"You are in the middle of a merge."}),(0,p.Y)("br",{}),(0,p.Y)("span",{children:"You can't do anything else until the merge has been completed or aborted. You have no conflicts to resolve, so the merge can be completed without any further action."})]});return(0,p.Y)(tU.N,{colorway:"warning",icon:(0,p.Y)(rJ.A,{}),text:n})}var gm=(0,eo.x)({left:[{flexBasis:0,flexGrow:1},es.wp.colWithGap(8)],right:{flexBasis:0,flexGrow:1},branch:[es.wp.p(8),es.wp.rowWithGap(4),es.wp.flex.grow(1),es.wp.center,es.wp.borderRadius(8)]});function gv(e){var n,t=e.branch,r=e.refs,a=e.refsAreBranches,i=e.isUpstreamPull;if(!r.length)return null;if(i){var o=(0,g._)((0,pP.xM)(r[0]),2),s=o[0],l=o[1];s&&l&&(n=(0,p.Y)(ex.ui,{css:gm.branch,elevated:!0,children:(0,p.Y)(l7,{remote:s,name:l,icon:!0,heading:!0})}))}return n||(n=r.map(function(e){return(0,p.Y)(ex.ui,{css:gm.branch,elevated:!0,children:(0,p.Y)(l7,{name:e,icon:!!a||(0,p.Y)(i$,{size:16}),heading:!0})},e)})),(0,p.FD)(W.S,{row:!0,gap:4,align:"center",justify:"space-between",children:[(0,p.Y)(W.S,{css:gm.left,children:n}),(0,p.Y)(iR.A,{size:24,color:U.LU.foregroundDimmest}),(0,p.Y)(W.S,{css:gm.right,children:(0,p.Y)(ex.ui,{css:gm.branch,elevated:!0,children:(0,p.Y)(l7,{name:t,icon:!0,current:!0,heading:!0})})})]})}function gg(e){return(0,p.Y)(tw.Ay,(0,nh._)((0,eg._)({},e),{children:(0,p.Y)("path",{fillRule:"evenodd",d:"M6 3.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM2.25 6a3.75 3.75 0 1 1 4.527 3.67 8.25 8.25 0 0 0 7.554 7.553A3.751 3.751 0 0 1 21.75 18a3.75 3.75 0 0 1-7.43.726 9.75 9.75 0 0 1-7.57-4.53V21a.75.75 0 0 1-1.5 0V9.675A3.751 3.751 0 0 1 2.25 6ZM18 15.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z",clipRule:"evenodd"})}))}var gb=(0,eo.x)({fakePaneHeader:[es.wp.backgroundColor.backgroundDefault,es.wp.align.center,{borderBottom:"1px solid ".concat(U.LU.outlineDimmer)}],listContainer:[es.wp.borderRadius(8)],list:[],listDisabled:[{opacity:.5},es.wp.pb(8),es.wp.colWithGap(8)],listHeader:[es.wp.pb(4),es.wp.flex.grow(1),es.wp.border({color:U.LU.outlineDimmer,direction:"bottom"})],listFiles:[es.wp.px(8)],includeOtherFiles:[{cursor:"pointer",maxWidth:"max-content",userSelect:"none"},es.wp.rowWithGap(8)]});function gy(e){var n=e.onFileClick,t=e.gotoPendingState,r=(0,g._)((0,b.useState)(!0),2),a=r[0],i=r[1],o=(0,g._)((0,b.useState)(!1),2),s=o[0],l=o[1],u=(0,g._)((0,b.useState)(!1),2),c=u[0],d=u[1],f=s||c,h=pA(),m=(0,k.A)().git,v=(0,b.useId)(),_=(0,ic.A)(function(e){return(0,y._)(function(){var n,t,r,a,i,o,s,l,u,c,d,f,p,h,m,v,b,y,_,S;return(0,w.YH)(this,function(w){switch(w.label){case 0:return[4,e.status()];case 1:if((n=w.sent()).error)return ip({context:"use-merging-view-state-status",gitService:e,result:n}),[2,n];if(!(t=n.branch))return[2,{error:lT.uA.HEAD_DETACHED}];return[4,e.getConflictingFiles()];case 2:if((r=w.sent()).error)return[2,r];return a=r.files,[4,e.getMergingRefs()];case 3:if((i=w.sent()).error)return ip({context:"use-merging-view-state-merging-refs",gitService:e,result:i,data:{status:n,conflictingFiles:a}}),[2,i];o=i.commits,u=(l=(s=i.branches).length>0)?s:o,c=n.changes.filter(function(e){return!e.unmerged}).map(function(e){return e.path}),d=!0,f=!0,p=!1,h=void 0;try{for(m=a[Symbol.iterator]();!(f=(v=m.next()).done);f=!0)if(!(0,g._)(v.value,2)[1]){d=!1;break}}catch(e){p=!0,h=e}finally{try{f||null==m.return||m.return()}finally{if(p)throw h}}return b=(0,ml.b)(n.changes.map(function(e){return e.path})),y=a.size>0,_=c.length>0,S=null!==n.upstream&&1===s.length&&s[0]===n.upstream.branch,[2,{refs:u,branch:t,conflictingFiles:a,otherChangedFiles:c,refsAreBranches:l,allIsResolved:d,uniquePathMap:b,hasConflicts:y,hasOtherChanges:_,isUpstreamPull:S,error:null}]}})})()});if((0,b.useEffect)(function(){(null==_?void 0:_.error)&&h(_.error)},[null==_?void 0:_.error,h]),!_)return(0,p.Y)(vU,{});if(_.error)return null;var S=_.refs,A=_.branch,C=_.conflictingFiles,Y=_.otherChangedFiles,E=_.refsAreBranches,x=_.allIsResolved,T=_.uniquePathMap,D=_.hasConflicts,I=_.hasOtherChanges,R=_.isUpstreamPull,N=R?"Complete in-progress pull":"Complete in-progress merge";return D&&(N=R?"Resolve pull conflicts":"Resolve merge conflicts"),(0,p.FD)(W.S,{children:[(0,p.FD)(W.S,{css:gb.fakePaneHeader,p:8,row:!0,gap:8,children:[(0,p.Y)(gg,{}),(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:N})]}),(0,p.FD)(W.S,{pt:16,pb:8,px:8,gap:12,children:[(0,p.Y)(gv,{branch:A,refs:S,refsAreBranches:E,isUpstreamPull:R}),(0,p.Y)(gh,{hasConflicts:D}),(0,p.FD)(ex.ui,{css:gb.listContainer,p:8,gap:8,elevated:!0,children:[(0,p.FD)(W.S,{pb:8,gap:8,children:[(0,p.Y)(W.S,{css:gb.listHeader,children:(0,p.Y)(G.EY,{css:es.wp.fontWeight.medium,multiline:!1,children:"Conflicting Files"})}),(0,p.Y)(W.S,{css:gb.listFiles,children:D?(0,p.Y)(gp,{files:C,uniquePathMap:T,onFileClick:n}):(0,p.Y)(G.EY,{variant:"small",color:"dimmest",multiline:!1,children:"There are no conflicting files in this merge."})})]}),I?(0,p.FD)(W.S,{css:a?gb.list:gb.listDisabled,children:[(0,p.Y)(W.S,{css:gb.listHeader,children:(0,p.Y)(G.EY,{css:es.wp.fontWeight.medium,multiline:!1,children:"Other Changed Files"})}),(0,p.Y)(W.S,{css:gb.listFiles,children:(0,p.Y)(gp,{files:Y,uniquePathMap:T,onFileClick:n})})]}):null]}),(0,p.FD)(W.S,{css:gb.includeOtherFiles,tag:"label",children:[(0,p.Y)(nQ.S,{id:v,checked:a,onChange:function(e){return i(e)}}),(0,p.Y)(G.EY,{multiline:!1,children:"Include other changed files in commit"})]}),(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(M.$n,{text:R?"Complete pull":"Complete merge and commit",colorway:"primary",iconLeft:s?(0,p.Y)(a$.A,{}):(0,p.Y)(gg,{}),disabled:!x||f,loading:s,onClick:function(){return(0,y._)(function(){var e,n,r,i,o,s,u,c,d,p,v;return(0,w.YH)(this,function(g){switch(g.label){case 0:if(!x||f)return[2];l(!0),e=[],n=!0,r=!1,i=void 0;try{for(o=C.keys()[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)u=s.value,e.push(u)}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return a&&(c=e).push.apply(c,(0,ev._)(Y)),[4,m.stageFiles({all:!1})];case 1:if((d=g.sent()).error)return h(d.error),l(!1),[2];return[4,m.stageFiles({add:e})];case 2:if((p=g.sent()).error)return h(p.error),l(!1),[2];return[4,m.mergeContinue()];case 3:if(!(v=g.sent()).error)return[3,5];return[4,m.stageFiles({all:!1})];case 4:return g.sent(),h(v.error),l(!1),[3,6];case 5:t(),m.forceRefresh(),g.label=6;case 6:return[2]}})})()}}),(0,p.Y)(M.$n,{text:R?"Abort pull":"Abort merge",colorway:"negative",iconLeft:c?(0,p.Y)(a$.A,{}):(0,p.Y)(ut.A,{}),disabled:f,loading:c,onClick:function(){return(0,y._)(function(){var e;return(0,w.YH)(this,function(n){switch(n.label){case 0:if(f)return[2];return d(!0),[4,m.mergeAbort()];case 1:return(e=n.sent()).error?(h(e.error),d(!1),ip({context:"merging-view-abort",gitService:m,result:e,data:{branch:A}})):(t(),m.forceRefresh()),[2]}})})()}})]})]})]})}var gw=(0,eo.x)({fakePaneHeader:[es.wp.backgroundColor.backgroundDefault,es.wp.align.center,{borderBottom:"1px solid ".concat(U.LU.outlineDimmer)}],listContainer:[es.wp.borderRadius(8)],list:[],listDisabled:[{opacity:.5},es.wp.pb(8),es.wp.colWithGap(8)],listHeader:[es.wp.pb(4),es.wp.flex.grow(1),es.wp.border({color:U.LU.outlineDimmer,direction:"bottom"})],listFiles:[es.wp.px(8)],includeOtherFiles:[{cursor:"pointer",maxWidth:"max-content",userSelect:"none"},es.wp.rowWithGap(8)]});function g_(e){var n=e.onFileClick,t=e.gotoPendingState,r=(0,g._)((0,b.useState)(!0),2),a=r[0],i=r[1],o=(0,g._)((0,b.useState)(!1),2),s=o[0],l=o[1],u=(0,g._)((0,b.useState)(!1),2),c=u[0],d=u[1],f=s||c,h=pA(),m=(0,k.A)().git,v=(0,b.useId)(),_=(0,ic.A)(function(e){return(0,y._)(function(){var n,t,r,a,i,o,s,l,u,c,d,f,p,h;return(0,w.YH)(this,function(m){switch(m.label){case 0:return[4,e.status()];case 1:if((n=m.sent()).error)return ip({context:"use-rebasing-view-state-status",gitService:e,result:n}),[2,n];if(!(t=n.branch))return[2,{error:lT.uA.HEAD_DETACHED}];return[4,e.getConflictingFiles()];case 2:if((r=m.sent()).error)return[2,r];a=r.files,i=n.changes.filter(function(e){return!e.unmerged}).map(function(e){return e.path}),o=!0,s=!0,l=!1,u=void 0;try{for(c=a[Symbol.iterator]();!(s=(d=c.next()).done);s=!0)if(!(0,g._)(d.value,2)[1]){o=!1;break}}catch(e){l=!0,u=e}finally{try{s||null==c.return||c.return()}finally{if(l)throw u}}return f=(0,ml.b)(n.changes.map(function(e){return e.path})),p=a.size>0,h=i.length>0,[2,{branch:t,conflictingFiles:a,otherChangedFiles:i,allIsResolved:o,uniquePathMap:f,hasConflicts:p,hasOtherChanges:h,error:null}]}})})()});if((0,b.useEffect)(function(){(null==_?void 0:_.error)&&h(_.error)},[null==_?void 0:_.error,h]),!_)return(0,p.Y)(vU,{});if(_.error)return null;var S=_.branch,A=_.conflictingFiles,C=_.otherChangedFiles,Y=_.allIsResolved,E=_.uniquePathMap,x=_.hasConflicts,T=_.hasOtherChanges,D="Complete in-progress rebase";return x&&(D="Resolve conflicts"),(0,p.FD)(W.S,{children:[(0,p.FD)(W.S,{css:gw.fakePaneHeader,p:8,row:!0,gap:8,children:[(0,p.Y)(gg,{}),(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:D})]}),(0,p.FD)(W.S,{pt:16,pb:8,px:8,gap:12,children:[(0,p.Y)(gh,{hasConflicts:x}),(0,p.FD)(ex.ui,{css:gw.listContainer,p:8,gap:8,elevated:!0,children:[(0,p.FD)(W.S,{pb:8,gap:8,children:[(0,p.Y)(W.S,{css:gw.listHeader,children:(0,p.Y)(G.EY,{css:es.wp.fontWeight.medium,multiline:!1,children:"Conflicting Files"})}),(0,p.Y)(W.S,{css:gw.listFiles,children:x?(0,p.Y)(gp,{files:A,uniquePathMap:E,onFileClick:n}):(0,p.Y)(G.EY,{variant:"small",color:"dimmest",multiline:!1,children:"There are no conflicting files in this step."})})]}),T?(0,p.FD)(W.S,{css:a?gw.list:gw.listDisabled,children:[(0,p.Y)(W.S,{css:gw.listHeader,children:(0,p.Y)(G.EY,{css:es.wp.fontWeight.medium,multiline:!1,children:"Other Changed Files"})}),(0,p.Y)(W.S,{css:gw.listFiles,children:(0,p.Y)(gp,{files:C,uniquePathMap:E,onFileClick:n})})]}):null]}),(0,p.FD)(W.S,{css:gw.includeOtherFiles,tag:"label",children:[(0,p.Y)(nQ.S,{id:v,checked:a,onChange:function(e){return i(e)}}),(0,p.Y)(G.EY,{multiline:!1,children:"Include other changed files in commit"})]}),(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(M.$n,{text:"commit and continue rebase",colorway:"primary",iconLeft:s?(0,p.Y)(a$.A,{}):(0,p.Y)(gg,{}),disabled:!Y||f,loading:s,onClick:function(){return(0,y._)(function(){var e,n,r,i,o,s,u,c,d,p,v;return(0,w.YH)(this,function(g){switch(g.label){case 0:if(!Y||f)return[2];l(!0),e=[],n=!0,r=!1,i=void 0;try{for(o=A.keys()[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)u=s.value,e.push(u)}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return a&&(c=e).push.apply(c,(0,ev._)(C)),[4,m.stageFiles({all:!1})];case 1:if((d=g.sent()).error)return h(d.error),l(!1),[2];return[4,m.stageFiles({add:e})];case 2:if((p=g.sent()).error)return h(p.error),l(!1),[2];return[4,m.escapeHatchGitExecWrite("git rebase --continue")];case 3:if(!(v=g.sent()).error)return[3,5];return[4,m.stageFiles({all:!1})];case 4:return g.sent(),h(v.error),l(!1),[3,6];case 5:t(),m.forceRefresh(),g.label=6;case 6:return[2]}})})()}}),(0,p.Y)(M.$n,{text:"Abort rebase",colorway:"negative",iconLeft:c?(0,p.Y)(a$.A,{}):(0,p.Y)(ut.A,{}),disabled:f,loading:c,onClick:function(){return(0,y._)(function(){var e;return(0,w.YH)(this,function(n){switch(n.label){case 0:if(f)return[2];return d(!0),[4,m.escapeHatchGitExecWrite("git rebase --abort")];case 1:return(e=n.sent()).error?(h(e.error),d(!1),ip({context:"rebasing-view-abort",gitService:m,result:e,data:{branch:S}})):(t(),m.forceRefresh()),[2]}})})()}})]})]})]})}function gS(){return(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{multiline:!1,children:"Unsupported state: you are in the middle of a rebase."}),(0,p.Y)(G.EY,{multiline:!1,children:"Please finish the rebase manually."})]})}function gA(){return(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{multiline:!1,children:"Unsupported state: you are in the middle of a revert."}),(0,p.Y)(G.EY,{multiline:!1,children:"Please finish the revert manually."})]})}function gk(e){var n=e.username,t=e.avatar,r=e.fullName;return(0,p.FD)(W.S,{row:!0,gap:8,align:"center",children:[(0,p.Y)(sr.e,{src:null!=t?t:null,username:n,fullName:r}),(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:n})]})}var gC=(0,eo.x)({list:{"> div:first-child":es.wp.borderRadius(8,8,0,0),"> div:last-child":[es.wp.borderRadius(0,0,8,8),{border:"none"}]},profile:[sv.b.filled,es.wp.flex.row,es.wp.justify.spaceBetween,es.wp.p(12),es.wp.borderRadius(0),es.wp.border({color:U.LU.outlineDefault,direction:"bottom"})],email:[es.wp.flex.shrink(1)],connectToGithubContainer:[es.wp.backgroundColor.backgroundHigher],notConnectedText:[es.wp.pb(4)],settingsButton:{background:"transparent",border:"none","&:hover":{textDecoration:"underline"}},radio:{pointerEvents:"none"}});function gY(e){var n=e.profiles,t=e.current,r=e.showConnectToGithub,a=e.onSelectProvider,i=(0,ta.useRouter)(),o=(0,oC.Po)(i),s=(0,b.useId)();return(0,p.FD)(eG.z,{name:s,css:gC.list,value:null!=t?t:"",children:[n.map(function(e){var n=e.provider===px.H.GITHUB?"GitHub":"Default Profile",r=void 0;return e.provider===px.H.GITHUB&&(r=o?"/mobile/auth/github/app_permissions":"/auth/github/app_permissions?close=1"),(0,p.Y)(gE,{profile:e,providerName:n,current:e.provider===t,onSelectProvider:a,settingsURL:r},e.provider)}),r?(0,p.FD)(W.S,{css:gC.connectToGithubContainer,p:12,gap:4,children:[(0,p.Y)(W.S,{row:!0,gap:4,align:"center",children:(0,p.Y)(gk,{username:"GitHub Account",fullName:"GitHub Account"})}),(0,p.Y)(G.EY,{color:"dimmest",css:gC.notConnectedText,multiline:!1,children:"Your GitHub account is not connected."}),(0,p.Y)(pO,{})]}):null]})}function gE(e){var n=e.profile,t=e.current,r=e.providerName,a=e.settingsURL,i=e.onSelectProvider,o=n.provider,s=n.name,l=n.username,u=n.email,c=n.avatar,d=(0,b.useId)();return(0,p.FD)(W.S,{onClick:function(){return i(o)},css:gC.profile,children:[(0,p.FD)(W.S,{shrink:!0,gap:4,children:[(0,p.FD)(W.S,{row:!0,gap:8,align:"center",children:[(0,p.Y)(gk,{username:l,avatar:c,fullName:s}),a?(0,p.Y)(tP.v,{css:gC.settingsButton,text:"".concat(r," Settings"),iconRight:(0,p.Y)(tj.A,{}),href:a,target:"_blank",variant:"outlined",size:"small"}):(0,p.Y)(G.EY,{color:"dimmest",variant:"small",multiline:!1,children:r})]}),(0,p.FD)(G.EY,{color:"dimmest",css:gC.email,multiline:!1,children:[s," <",u,">"]})]}),(0,p.Y)(eG.s,{css:gC.radio,id:d,checked:t,value:o})]})}var gx=(0,eo.x)({profileContainer:[es.wp.flex.column]});function gT(){var e=(0,k.A)().git,n=(0,ic.A)(function(e){return(0,y._)(function(){var n,t,r;return(0,w.YH)(this,function(a){return n=e.getCurrentProfile(),t=e.getProfiles(),[2,{profiles:t,current:null!=(r=null==n?void 0:n.provider)?r:null,hasGitHub:!e.hasProfile(px.H.GITHUB),error:null}]})})()});if(!n)return null;if(null!==n.error)return ip({context:"git-profiles",gitService:e,result:{error:n.error}}),null;var t=n.profiles,r=n.current,a=n.hasGitHub;return(0,p.Y)(W.S,{css:gx.profileContainer,children:(0,p.Y)(gY,{profiles:t,current:r,showConnectToGithub:a,onSelectProvider:function(n){e.setCurrentProfile(n),n===px.H.REPLIT_DEFAULT?pk("profile-changed",{profile:"replit"}):n===px.H.GITHUB&&pk("profile-changed",{profile:"github"})}})})}function gD(e){var n=e.remoteName,t=e.updateRemote,r=e.hasRemote,a=(0,g._)((0,b.useState)(!1),2),i=a[0],o=a[1],s=(0,pD.P)({onAuth:function(){pk("github-user-connected")}}),l=(0,i7.A)();return pI()?(0,p.FD)(p.FK,{children:[(0,p.Y)(M.$n,{text:"Create Remote",onClick:function(){return o(!0)},variant:"outlined"}),(0,p.Y)(tF.a,{isOpen:i,onRequestClose:function(){return o(!1)},children:(0,p.Y)(hV,{hasRemote:r,remoteName:n,updateRemote:t,onCreateSuccess:function(){return o(!1)}})})]}):l?(0,p.Y)(M.$n,{colorway:"primary",iconLeft:(0,p.Y)(pN.A,{}),text:"Open Account page to connect to GitHub",onClick:function(){pT.M.openExternalUrl("/account#connected-services")}}):(0,p.Y)(M.$n,{colorway:"primary",iconLeft:(0,p.Y)(pN.A,{}),text:"Connect to GitHub",onClick:s})}var gI="origin";function gR(){var e=(0,ic.A)(function(e){return(0,y._)(function(){var n,t,r,a;return(0,w.YH)(this,function(i){switch(i.label){case 0:return[4,e.getRemotes()];case 1:if((n=i.sent()).error)return ip({context:"remote-config",gitService:e,result:n}),[2,{url:void 0,name:gI,error:n.error}];if(!(r=(0,g._)(null!=(t=n.remotes.values())?t:void 0,1)[0]))return[2,{url:void 0,name:gI,error:null}];return[2,{url:r.push||r.fetch,name:null!=(a=r.name)?a:gI,error:null}]}})})()});return null==e?(0,p.FD)(W.S,{css:es.wp.center,children:[(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"Loading remote information."}),(0,p.Y)(vU,{})]}):(null==e?void 0:e.error)?null:(0,p.Y)(gN,{initialRemoteUrl:null==e?void 0:e.url,remoteName:null==e?void 0:e.name})}function gN(e){var n=e.initialRemoteUrl,t=e.remoteName,r=(0,g._)((0,b.useState)(n),2),a=r[0],i=r[1],o=function(e){i(e)};return(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:"Remote"}),(0,p.Y)(hU.A,{height:1}),(0,p.FD)(W.S,{row:!0,justify:"space-between",gap:4,children:[(0,p.Y)(hW,{remoteName:t,initialRemoteUrl:a,updateRemote:o}),(0,p.Y)(gD,{hasRemote:!!n,remoteName:t,updateRemote:o})]}),(0,p.Y)(hU.A,{height:2})]})}var gO=(0,nV.AH)(es.wp.px(16));function gP(){return(0,p.FD)(W.S,{css:gO,children:[(0,p.Y)(hU.A,{height:2}),(0,p.Y)(gR,{}),(0,p.Y)(hU.A,{height:2}),(0,p.Y)(gF,{})]})}function gF(){return(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:"Commit author"}),(0,p.Y)(hU.A,{height:1}),(0,p.Y)(gT,{})]})}function gU(){return(0,p.Y)(W.S,{children:(0,p.Y)(G.EY,{multiline:!0,children:"Something went wrong. Please refresh the page and try again."})})}var gL=(0,eo.x)({fakePaneHeader:[es.wp.backgroundColor.backgroundDefault,es.wp.align.center,{borderBottom:"1px solid ".concat(U.LU.outlineDimmer)}]});function gM(e){var n=e.onFileClick,t=e.status;return(0,p.FD)(W.S,{children:[(0,p.Y)(gJ,{}),(0,p.FD)(W.S,{p:8,pt:16,gap:16,children:[(0,p.Y)(tU.N,{colorway:"orange",icon:(0,p.Y)(rJ.A,{}),text:"Your current branch doesn't have any commits. You need to make an initial commit before continuing."}),(0,p.FD)(W.S,{css:vL.section,children:[(0,p.Y)(W.S,{css:vL.reviewChangesHeader,children:(0,p.Y)(G.EY,{css:vL.headerText,multiline:!1,children:"Commit"})}),(0,p.Y)(mT,{status:t,onStagedFileClick:n,defaultMessage:"Initial commit"})]})]})]})}function gJ(){var e=pA(),n=(0,ic.A)(function(n){return(0,y._)(function(){var t;return(0,w.YH)(this,function(r){switch(r.label){case 0:return[4,n.status()];case 1:return(t=r.sent()).error&&(ip({context:"unborn-branch-view-status",gitService:n,result:t}),e(t.error)),[2,t]}})})()},[e]);return(null==n?void 0:n.error)?null:(0,p.Y)(W.S,{css:gL.fakePaneHeader,px:8,py:4,row:!0,gap:8,children:(null==n?void 0:n.branch)?(0,p.Y)(l7,{name:n.branch,current:!0,heading:!0}):null})}var gH=(0,eo.x)({gitPane:[es.wp.position.relative,es.wp.display.flex,es.wp.minHeight("100%")],gitPaneContent:[es.wp.overflow("auto")]});function gB(e){var n=e.isActive,t=e.performPaneOperation,r=e.mode,a=void 0===r?{type:uf.C.CURRENT_BRANCH}:r,i=(0,b.useRef)(),o=(0,b.useCallback)(function(e){t({operation:"replace",pane:{type:"git",data:{mode:e}}})},[t]),s=(0,g._)((0,b.useState)(!1),2),l=s[0],u=s[1];gz(void 0!==n&&n);var c=(0,ic.A)(function(e){return(0,y._)(function(){var n,t,r,a,i,o,s,l,u,c;return(0,w.YH)(this,function(d){switch(d.label){case 0:return[4,e.getRepositoryState()];case 1:if((n=d.sent()).error)return[2,n];if(t=n.state,r=n.type,a=null,i=null,o=null,r===pg.UN.INITIALIZING)return[3,6];return[4,e.status()];case 2:if((s=d.sent()).error)return ip({context:"git-pane-status",gitService:e,result:s,data:{state:t,type:r}}),[2,s];return a=s,[4,e.getRemotes()];case 3:if((l=d.sent()).error)return ip({context:"git-pane-remotes",gitService:e,result:l,data:{state:t,type:r}}),[2,l];if(i=l.remotes,!a.branch)return[3,5];return[4,e.getBranch(a.branch)];case 4:if((u=d.sent()).error)return ip({context:"git-pane-branch",gitService:e,result:u,data:{state:t,type:r}}),[2,u];o=u.branch,d.label=5;case 5:return[3,8];case 6:return[4,e.status()];case 7:if((c=d.sent()).error)return ip({context:"git-pane-status-initializing",gitService:e,result:c,data:{state:t,type:r}}),[2,{state:t,type:r,status:a,remotes:i,currentBranch:o,error:null}];a=c,d.label=8;case 8:return[2,{state:t,type:r,status:a,remotes:i,currentBranch:o,error:null}]}})})()}),d=!c||c.error?null:c.currentBranch,f=(0,b.useCallback)(function(e){switch(o(e),e.type){case uf.C.DASHBOARD:pk("pane-mode-changed",{mode:"dashboard"});break;case uf.C.BRANCH:pk("pane-mode-changed",{mode:"branch"});break;case uf.C.CURRENT_BRANCH:pk("pane-mode-changed",{mode:"current-branch"});break;case uf.C.SETTINGS:pk("pane-mode-changed",{mode:"settings"})}},[o]),h=(0,b.useCallback)(function(){i.current?(f(i.current),i.current=void 0):f({type:uf.C.CURRENT_BRANCH})},[f]),m=(0,ni.A)(a),v=(0,b.useCallback)(function(e){var n=function(e){i.current=m.current,f(e)};switch(e.type){case uf.C.DASHBOARD:n(e);break;case uf.C.BRANCH:if((0,pb.F)(e.branch,d)){n({type:uf.C.CURRENT_BRANCH});break}n(e);break;case uf.C.CURRENT_BRANCH:case uf.C.SETTINGS:case uf.C.COMMIT:n(e)}},[f,d,m]),_=(0,b.useCallback)(function(e){var n=e.path,r=e.type,a=(0,tb.QY)({path:n});if("codeEditor"!==a)return void t({operation:"open",pane:{type:a,data:{path:n}},secondary:!0});"conflict"===(void 0===r?"change":r)?t({operation:"open",pane:{type:"codeEditor",data:{path:n}},secondary:!0}):t({operation:"open",pane:{type:"diff",data:{left:{path:n,data:{type:"git",revision:"HEAD"}},right:{path:n,data:{type:"fs"}}}},secondary:!0})},[t]),S=(0,b.useCallback)(function(e){v({type:uf.C.COMMIT,hash:e})},[v]),A=(0,b.useCallback)(function(){u(!0)},[]);if(a.type===uf.C.BRANCH&&(0,pb.F)(a.branch,d)&&f({type:uf.C.CURRENT_BRANCH}),(0,b.useEffect)(function(){return u(!1)},[c]),l||!c||c.error)return(0,p.Y)(gV,{children:(null==c?void 0:c.error)?(0,p.Y)(t1.A,{pane:{type:"git"},headerText:"Git pane is unavailable.",bodyText:(0,p.FD)(p.FK,{children:["Something went wrong. Error: ",(0,p.Y)("code",{children:c.error})]}),asciiArt:"Computer"}):(0,p.Y)(vU,{})});switch(c.type){case pg.UN.INITIALIZING:case pg.UN.INTERMEDIATE:case pg.UN.DETACHED_HEAD:return(0,p.Y)(gV,{children:(0,p.Y)(g$,{state:c.state,status:c.status,onFileClick:_,gotoPendingState:A})});case pg.UN.NORMAL:if(a.type===uf.C.BRANCH&&!a.branch||a.type===uf.C.CURRENT_BRANCH&&!d)return(0,p.Y)(gV,{header:(0,p.Y)(hb,{mode:uf.C.DASHBOARD,branch:null,switchMode:v,onBack:h}),children:(0,p.Y)(gc,{currentBranch:null,switchMode:v})});var k=null;return a.type===uf.C.CURRENT_BRANCH?k=d:a.type===uf.C.BRANCH&&(k=a.branch),(0,p.Y)(gV,{header:(0,p.Y)(hb,{mode:a.type,branch:k,switchMode:v,onBack:h}),children:(0,p.Y)(gG,{performPaneOperation:t,mode:a,status:c.status,remotes:c.remotes,currentBranch:d,switchMode:v,onStagedFileClick:_,onViewCommitClick:S,gotoPendingState:A})})}}function gV(e){var n=e.header,t=e.children,r=(0,g._)((0,b.useState)(function(){return(0,ne.y$)()}),1)[0];return(0,p.Y)(py.Provider,{value:r,children:(0,p.FD)(W.S,{css:gH.gitPane,children:[(0,p.Y)(pj,{}),n,(0,p.Y)(W.S,{css:gH.gitPaneContent,grow:!0,shrink:!0,children:t})]})})}function g$(e){var n=e.state,t=e.status,r=e.onFileClick,a=e.gotoPendingState,i=(0,om._P)({controlName:"flag-new-rebase-editor",logFlagToAnalytics:!1,default:!1});switch(n){case pg.Gi.NOT_INITIALIZED:return(0,p.Y)(t1.A,{pane:{type:"git"},action:(0,p.Y)(pE,{})});case pg.Gi.ON_UNBORN_BRANCH:return(0,p.Y)(gM,{onFileClick:r,status:t});case pg.Gi.MERGING:return(0,p.Y)(gy,{onFileClick:r,gotoPendingState:a});case pg.Gi.REBASING:return i?(0,p.Y)(g_,{gotoPendingState:a,onFileClick:r}):(0,p.Y)(gS,{});case pg.Gi.REVERTING:return(0,p.Y)(gA,{});case pg.Gi.CHERRY_PICKING:return(0,p.Y)(vH,{});case pg.Gi.APPLYING_MAILBOX:return(0,p.Y)(hS,{});case pg.Gi.BISECTING:return(0,p.Y)(hA,{});case pg.Gi.DETACHED_HEAD:return(0,p.Y)(gd,{});case pg.Gi.INDEX_LOCKED:return(0,p.Y)(gf,{});case pg.Gi.CONFIG_LOCKED:return(0,p.Y)(gn,{});case pg.Gi.CLEAN:case pg.Gi.DIRTY_INDEX:case pg.Gi.DIRTY_WORKTREE:case pg.Gi.HEAD_MISSING:case pg.Gi.TREE_CORRUPTED:return(0,p.Y)(gU,{});default:(0,r_.A)(n)}}function gG(e){var n=e.mode,t=e.status,r=e.remotes,a=e.currentBranch,i=e.switchMode,o=e.onStagedFileClick,s=e.onViewCommitClick,l=e.gotoPendingState,u=e.performPaneOperation;switch(n.type){case uf.C.DASHBOARD:return(0,p.Y)(gc,{currentBranch:a,switchMode:i});case uf.C.BRANCH:return(0,p.Y)(vM,{performPaneOperation:u,status:t,branch:n.branch,remotes:r,onStagedFileClick:o,onViewCommitClick:s,gotoPendingState:l});case uf.C.CURRENT_BRANCH:return(0,p.Y)(vM,{performPaneOperation:u,status:t,remotes:r,branch:a,onStagedFileClick:o,onViewCommitClick:s,gotoPendingState:l,current:!0});case uf.C.SETTINGS:return(0,p.Y)(gP,{});case uf.C.COMMIT:return(0,p.Y)(ge,{status:t,remotes:r,onViewCommitClick:s,hash:n.hash,switchMode:i});default:(0,r_.A)(n)}}function gz(e){var n=(0,k.A)().git;(0,b.useEffect)(function(){e&&setTimeout(function(){n.forceRefresh()},100)},[e,n])}var gW=h.ZU.Object({type:h.ZU.Literal("git"),data:h.ZU.Optional(h.ZU.Object({mode:uf.$}))}),gj={Content:function(e){var n,t=e.options,r=t.isActive,a=t.performPaneOperation,i=e.pane;return(0,p.Y)(gB,{isActive:r,performPaneOperation:a,mode:null==(n=i.data)?void 0:n.mode})},Icon:function(e){var n=e.size;return(0,p.Y)(tw.Vx.Provider,{value:{color:U.LU.greenStrongest,size:n},children:(0,p.Y)(pC.A,{})})},getTitle:function(){return"Git"},description:"Version control for your App",category:tb.bY.WorkspaceFeatures,decode:function(e){return m.T(gW,e)}};function gq(){var e=(0,n0.iO)();return(0,b.useCallback)(function(n,t,r){e({origin:"History2: useHistoryBSOD",error:n,tags:{source:"ws-history2",type:t},extras:(0,eg._)({state:eN.pX.current()},r)})},[e])}function gZ(e){(0,ah.u4)(ap.AZ.HISTORY_USED,{action:e,which:"ws"})}function gK(e){var n=e.onClose;return(0,p.Y)(M.$n,{text:"Cancel",onClick:function(){gZ("historyExplicitlyClosed"),n()}})}function gQ(){var e,n="/replEnvironmentMobile"===(0,ta.useRouter)().pathname,t=(0,eN.N_)(),r=(0,eN.DH)(),a=!t||0===t.count;return(0,p.Y)(eh.d,{isDisabled:a,onChange:function(e){return r({comparing:e})},isSelected:null!=(e=null==t?void 0:t.comparing)&&e,children:n?"Compare":"Compare Latest"})}function gX(){var e=(0,eN.N_)();if(!e||0===e.count)return null;var n=e.changes[e.version].timestamp;return(0,p.Y)(eP.Dc,{textColor:"dimmer",dateFormat:"switch",date:n})}var g0=t(15549);function g1(e){var n=e.reversed,t=void 0!==n&&n,r=e.hideName,a=void 0!==r&&r,i=e.color,o=void 0===i?"default":i,s=(0,eN.N_)(),l=(0,b.useMemo)(function(){return[t?es.wp.rowReverseWithGap(4):es.wp.rowWithGap(4),es.wp.align.center]},[t]);if(!s)return null;if(0===s.count)return(0,p.FD)(W.S,{css:l,children:[(0,p.Y)(g0.A,{size:24}),(0,p.Y)(G.EY,{color:o,multiline:!1,children:"Server Authored"})]});var u=s.changes[s.version];if(!s.users)return(0,p.FD)(W.S,{css:l,children:[(0,p.Y)(sr.e,{size:24,src:"/public/images/ghost.svg",username:"Unknown"}),a?null:(0,p.Y)(G.EY,{color:o,multiline:!1,children:"Unknown"})]});var c=s.users[u.userId];if(!c)if(u.timestamp>16546464e5)return(0,p.FD)(W.S,{css:l,children:[(0,p.Y)(g0.A,{size:24}),a?null:(0,p.Y)(G.EY,{color:o,multiline:!1,children:"Server Authored"})]});else return(0,p.FD)(W.S,{css:l,children:[(0,p.Y)(sr.e,{size:24,src:"/public/images/ghost.svg",username:"Unknown"}),a?null:(0,p.Y)(G.EY,{color:o,multiline:!1,children:"Unknown"})]});return(0,p.FD)(W.S,{css:l,children:[(0,p.Y)(sr.e,{size:24,src:c.image,username:c.username}),a?null:(0,p.Y)(G.EY,{color:o,multiline:!1,children:c.username})]})}var g2=t(1637);function g3(){var e=(0,eb._)(["\n  query WorkspaceHistory2Users($ids: [Int!]!) {\n    currentUser {\n      id\n      username\n      image\n    }\n    usersByIds(ids: $ids) {\n      id\n      username\n      image\n    }\n  }\n"]);return g3=function(){return e},e}function g4(){var e=(0,eb._)(["\n  query WorkspaceHistory2CurrentUserDate {\n    currentUser {\n      id\n      timeCreated\n    }\n  }\n"]);return g4=function(){return e},e}var g5=(0,ey.J1)(g3());g4();var g7=t(85433),g9=t(89264),g8=function(e){function n(e){var t;return(0,fR._)(this,n),(t=(0,fI._)(this,n,[e])).name="UserError",t}return(0,fN._)(n,e),n}((0,g9._)(Error));function g6(e,n,t){return new Promise(function(r,a){try{var i=e.watchTextFile(n,{onReady:function(e){return(0,y._)(function(){var n,o;return(0,w.YH)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,t(e)];case 1:return n=s.sent(),r(n),[3,3];case 2:return o=s.sent(),a(o),[3,3];case 3:return i(),[2]}})})()}})}catch(e){a(e)}})}var be=g7.Ry,bn=t(59771),bt=(0,nV.AH)({display:"grid",gridTemplateColumns:"auto 1fr",rowGap:"0.5rem",columnGap:"1rem","> dt":{display:"flex",alignItems:"center",fontWeight:"bold"}});function br(e){var n=e.onCloseHistory,t=(0,nj.A)().showError,r=(0,g._)((0,b.useState)(!1),2),a=r[0],i=r[1],o=(0,g._)((0,b.useState)(!1),2),s=o[0],l=o[1],u=(0,k.A)().fs,c=(0,eN.N_)(),d=gq(),f="Reset",h=!0;return c?0===c.count?(f="No history",h=!0):s||a?(f="Resetting...",h=!0):c.playing?(f="Playing...",h=!0):c.version===c.count-1?(f="Viewing latest",h=!0):(f="Reset editor to here",h=!1):(f="Loading...",h=!0),(0,p.FD)(p.FK,{children:[(0,p.Y)(M.$n,{text:f,disabled:h,onClick:function(){return i(!0)},colorway:"primary",iconLeft:(0,p.Y)(bn.A,{})}),c&&0!==c.count&&(0,p.Y)(tF.a,{isOpen:a,onRequestClose:function(){s||i(!1)},children:(0,p.FD)(W.S,{gap:24,children:[(0,p.Y)(G.Y9,{variant:"headerDefault",level:2,children:"Reset file version"}),(0,p.Y)(ex.ui,{elevated:!0,css:[es.wp.borderRadius(8)],px:16,py:12,children:(0,p.FD)("dl",{css:bt,children:[(0,p.Y)("dt",{children:"File"}),(0,p.Y)("dd",{children:c.filePath}),(0,p.Y)("dt",{children:"Version"}),(0,p.FD)("dd",{children:[c.version+1,(0,p.FD)("span",{css:[es.wp.color.foregroundDimmest],children:[(0,p.Y)("span",{css:es.wp.mx(8),children:"/"}),c.count]})]}),(0,p.Y)("dt",{children:"Date"}),(0,p.Y)("dd",{children:(0,p.Y)(eP.Dc,{date:c.changes[c.version].timestamp,dateFormat:"absolute"})}),(0,p.Y)("dt",{children:"Author"}),(0,p.Y)("dd",{children:(0,p.Y)(g1,{})})]})}),(0,p.Y)(tU.N,{icon:(0,p.Y)(ad.A,{}),colorway:"positive",text:"Resetting is non-destructive. The reset content will become a new version at the end of history. You can always go back to the version you just had."}),(0,p.FD)(W.S,{row:!0,gap:8,justify:"end",children:[(0,p.Y)(M.$n,{text:"Cancel",disabled:s,onClick:function(){return i(!1)}}),(0,p.Y)(M.$n,{text:s?"Resetting Version...":"Reset Version",disabled:s,colorway:"primary",onClick:function(){return(0,y._)(function(){var e,r;return(0,w.YH)(this,function(a){switch(a.label){case 0:if(!c||!u||s)return[2];a.label=1;case 1:var o;return a.trys.push([1,3,4,5]),l(!0),gZ("versionRestored"),e=c.filePath,[4,(o=c.version+1,g6(u,e,function(n){var t=n.fetchChanges,r=n.writeChange,a=n.version;return(0,y._)(function(){var n,i,s,l,c;return(0,w.YH)(this,function(d){switch(d.label){case 0:if(o>a)throw Error("Cannot reset to a version that does not exist");if(o===a)return[2];n=null,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,t(1,a,"")];case 2:if((i=d.sent()).isDisposed)throw new g8("File deleted or removed.");return n=i.result,[3,4];case 3:throw d.sent(),new g8("Something went wrong while resetting the file. It is possible that a bad connection is to blame. Please try again.");case 4:l=(s=(0,h7._)(n.slice(o,n.length).reverse()))[0],c=s.slice(1).reduce(function(e,n){return e.compose(n.invertedChanges)},l.invertedChanges);try{r(c)}catch(e){throw id.Cp(e),new g8("Something went wrong while resetting the file. Maybe the file changed while you were restoring it? Please try again.")}return[4,u.flush(new Set([e]))];case 5:return d.sent(),[2]}})})()}))];case 2:return a.sent(),n(),[3,5];case 3:if(r=a.sent(),(0,np._)(r,g8))return t(r.message),[2];return d(r,"restore"),[3,5];case 4:return i(!1),l(!1),[7];case 5:return[2]}})})()},iconLeft:(0,p.Y)(bn.A,{})})]})]})})]})}let ba=(0,b.forwardRef)(function(e,n){var t=(0,eN.N_)(),r=(0,b.useRef)(null);(0,b.useImperativeHandle)(n,function(){return r.current}),t&&r.current&&(r.current.setAttribute("aria-valuemin","1"),r.current.setAttribute("aria-valuemax",String(t.count)),r.current.setAttribute("aria-valuenow",String(t.version+1)));var a=(0,b.useMemo)(function(){return(0,p.Y)("div",{ref:r,role:"slider",tabIndex:0,css:{position:"absolute",top:"0",left:"calc((100% - 16px) * var(--scrubber-progress, 0))",width:"16px",height:"16px",backgroundColor:U.LU.accentPrimaryDefault,borderRadius:"100%",outline:"none",cursor:"pointer",transition:"left var(--scrubber-transition-time, 100ms) ease-out",willChange:"left, transition",":focus":{boxShadow:"0 0 0 1px ".concat(U.LU.foregroundDefault," inset")}}})},[]);return t&&t.count>1?a:null}),bi=(0,b.forwardRef)(function(e,n){var t=(0,eN.N_)(),r=(0,b.useMemo)(function(){return(0,p.FD)(p.FK,{children:[(0,p.Y)("div",{ref:n,"aria-hidden":!0,css:{position:"relative",top:"0",width:"100%",height:"16px",margin:"0",cursor:"pointer"}}),(0,p.Y)("div",{"aria-hidden":!0,css:{position:"absolute",top:"6px",left:"0",width:"100%",height:"4px",margin:"0",overflow:"hidden",pointerEvents:"none",backgroundColor:U.LU.backgroundHighest,borderRadius:"2px"},children:(0,p.Y)("div",{"aria-hidden":!0,css:{position:"absolute",top:"0",left:"0",width:"100%",height:"4px",margin:"0",pointerEvents:"none",backgroundColor:U.LU.accentPrimaryDefault,transformOrigin:"left",transform:"scaleX(var(--scrubber-progress, 0))",transition:"transform var(--scrubber-transition-time, 100ms) ease-out",willChange:"transform, transition"}})})]})},[n]),a=(0,b.useMemo)(function(){return(0,p.Y)("div",{ref:n,"aria-hidden":!0,css:{width:"100%",height:"16px",pointerEvents:"none"},children:(0,p.Y)("div",{css:{position:"absolute",width:"100%",height:"4px",top:"6px",left:"0",backgroundColor:U.LU.backgroundHighest,borderRadius:"2px"}})})},[n]);return t&&t.count>1?r:a});var bo=["ArrowLeft","ArrowRight","Home","End"];function bs(){var e=(0,eN.N_)(),n=(0,eN.DH)(),t=(0,g._)((0,b.useState)(!1),2),r=t[0],a=t[1],i=(0,b.useRef)(null),o=(0,b.useRef)(null),s=(0,b.useRef)(null),l=function(e){(0,fn.U)(i,"--scrubber-transition-time",e)},u=function(e){(0,fn.U)(i,"--scrubber-progress",e.toString())};return e&&!r&&(u(e.version/(e.count-1)),e.playing?l("50ms"):l("100ms")),(0,b.useEffect)(function(){if(e&&o.current&&s.current&&!r){var t=o.current,i=s.current,c=function(r){if(0===r.button){a(!0),i.focus();var o=t.getBoundingClientRect(),s=i.getBoundingClientRect(),c=o.width,d=s.width,f=r.target===t?d/2:r.clientX-s.left,p=null,h=function(t){var r=Math.max(0,Math.min(1,(t-o.left-f)/(c-d)));r!==p&&(p=r,u(r),n({version:Math.round(r*(e.count-1)),playing:!1}))};h(r.clientX);var m=function(e){l("0ms"),h(e.clientX),e.preventDefault(),e.stopPropagation()},v=function(){window.removeEventListener("pointermove",m),window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",v),l("100ms"),a(!1)};window.addEventListener("pointermove",m),window.addEventListener("pointerup",v),window.addEventListener("pointercancel",v),r.preventDefault(),r.stopPropagation()}};return t.addEventListener("pointerdown",c),i.addEventListener("pointerdown",c),function(){t.removeEventListener("pointerdown",c),i.removeEventListener("pointerdown",c)}}},[e,n,r]),(0,b.useEffect)(function(){if(e&&s.current&&!r){var t=s.current,a=function(t){if(e&&bo.includes(t.key)){var r=t.shiftKey?10:1,a=e.version,i=e.count-1,o=Math.max(0,a-r),s=Math.min(i,a+r),l=null;switch(t.key){case"ArrowLeft":l=o;break;case"ArrowRight":l=s;break;case"Home":l=0;break;case"End":l=i}null!==l&&(n({version:l,playing:!1}),t.preventDefault(),t.stopPropagation())}};return t.addEventListener("keydown",a),function(){t.removeEventListener("keydown",a)}}},[e,n,r]),(0,b.useMemo)(function(){return(0,p.FD)(W.S,{innerRef:i,css:{position:"relative",height:"16px",width:"100%",touchAction:"none","--scrubber-progress":1,"--scrubber-transition-time":"100ms",":hover, :focus-within":{filter:"brightness(1.1)"},":hover:focus-within":{filter:"brightness(1.2)"}},children:[(0,p.Y)(bi,{ref:o}),(0,p.Y)(ba,{ref:s})]})},[])}function bl(){var e=(0,eN.N_)(),n=0,t=0;e&&0!==e.count&&(n=e.version+1,t=e.count);var r=e?"default":"dimmer";return(0,p.FD)(W.S,{row:!0,gap:4,justify:"space-between",children:[(0,p.Y)(G.EY,{css:{minWidth:"2ch",textAlign:"right"},color:r,multiline:!1,children:n}),(0,p.Y)(G.EY,{css:{width:"1ch",textAlign:"center"},color:"dimmer",multiline:!1,children:"/"}),(0,p.Y)(G.EY,{css:{minWidth:"2ch",textAlign:"left"},color:"dimmer",multiline:!1,children:t})]})}function bu(e){if(e<0)throw Error('Require at least zero ops to compute pace, got "'+e+'"');return 1/Math.log(e+2)*100}var bc=t(51089);function bd(){var e,n,t,r,a=(0,eN.N_)(),i=(0,eN.DH)(),o=(null!=(n=null==a||null==(e=a.changes)?void 0:e.length)?n:1)-1,s=null!=(t=null==a?void 0:a.version)?t:0,l=null!=(r=null==a?void 0:a.playing)&&r,u=!a||0===a.count,c=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bu,a=(0,g._)((0,b.useState)(!1),2),i=a[0],o=a[1],s=(0,b.useCallback)(function(){n(1)},[n]),l=(0,b.useCallback)(function(){if(e+1>t)return void o(!1);n(e+1)},[n,e,t]);return(0,b.useEffect)(function(){if(i){var e=setTimeout(function(){l()},r(t));return function(){return clearTimeout(e)}}},[i,l,r,t]),{isPlaying:i,start:function(){o(!0)},stop:function(){o(!1)},reset:s}}(s,function(e){return i({version:e})},o),d=c.isPlaying,f=c.start,h=c.stop;(0,b.useEffect)(function(){d&&!l?h():!d&&l&&f()},[l,d,f,h]);var m="Loading...";return a&&(d?m="Pause":a.version===a.count-1?m="Play file history from beginning":0===a.version?m="Play file history":a.version>0&&(m="Play file history from here")),(0,p.Y)(e$.K0,{alt:m,size:24,disabled:u,onClick:function(){s===o?i({version:0,playing:!0}):i({playing:!l})},children:d?(0,p.Y)(bc.A,{}):(0,p.Y)(ag.A,{})})}function bf(){return(0,p.FD)(W.S,{row:!0,gap:4,align:"center",children:[(0,p.Y)(bd,{}),(0,p.Y)(bp,{}),(0,p.Y)(bl,{}),(0,p.Y)(bh,{})]})}function bp(){var e=(0,eN.N_)(),n=(0,eN.DH)(),t=!e||0===e.version||0===e.count;return(0,p.Y)(e$.K0,{alt:"Move backwards one version",size:24,disabled:t,onClick:function(){e&&e.version>0&&n({version:e.version-1})},children:(0,p.Y)(cx.A,{})})}function bh(){var e=(0,eN.N_)(),n=(0,eN.DH)(),t=!e||e.version===e.count-1||0===e.count;return(0,p.Y)(e$.K0,{alt:"Move forwards one version",size:24,disabled:t,onClick:function(){e&&e.version<e.count-1&&n({version:e.version+1})},children:(0,p.Y)(a0.A,{})})}function bm(e){var n,t,r,a,i,o=e.filePath,s=e.onCloseHistory,l="/replEnvironmentMobile"===(0,ta.useRouter)().pathname,u=l?es.wp.borderRadius(0):es.wp.borderRadius(0,0,8,8),c=(0,eN.N_)(),d=(0,eN.DH)(),f=(0,eN.s7)(),h=gq(),m=(t=(n=(0,g._)((0,b.useState)({data:null,loading:!0,error:null,handledError:null}),2))[0],r=n[1],a=(0,k.A)().fs,i=(0,g2.m)(),(0,b.useEffect)(function(){if(!o)return void r({data:null,loading:!1,error:null,handledError:null});r({data:null,loading:!0,error:null,handledError:null});var e=!1;return(0,y._)(function(){var e,n,t;return(0,w.YH)(this,function(r){switch(r.label){case 0:return[4,g6(a,o,function(e){var n=e.fetchChanges,t=e.version;return(0,y._)(function(){return(0,w.YH)(this,function(e){return 0===t?[2,{isDisposed:!1,result:[]}]:[2,n(1,t,"")]})})()})];case 1:var s;if((e=r.sent()).isDisposed)return[2,{data:null,handledError:"File deleted or removed."}];return[4,(s=n=e.result,(0,y._)(function(){var e,n,t,r,a,o,l,u,c,d,f,p,h,m,v,g,b,y;return(0,w.YH)(this,function(w){switch(w.label){case 0:e=new Set,n=!0,t=!1,r=void 0;try{for(a=s[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)(l=o.value).userId&&e.add(l.userId)}catch(e){t=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(t)throw r}}if(0===e.size)return[2,{}];if(e.size>=be)return[2,"too_many_users"];return[4,i.query({query:g5,variables:{ids:Array.from(e)}})];case 1:if(c=(u=w.sent()).data,d=u.error)throw d;f=c.currentUser?[c.currentUser].concat((0,ev._)(c.usersByIds)):c.usersByIds,p={},h=!0,m=!1,v=void 0;try{for(g=f[Symbol.iterator]();!(h=(b=g.next()).done);h=!0)p[(y=b.value).id]={id:y.id,username:y.username,image:y.image}}catch(e){m=!0,v=e}finally{try{h||null==g.return||g.return()}finally{if(m)throw v}}return[2,p]}})})())];case 2:if("too_many_users"===(t=r.sent()))return[2,{data:{changes:n,users:null},handledError:null}];return[2,{data:{changes:n,users:t},handledError:null}]}})})().then(function(n){var t=n.data,a=n.handledError;if(!e){if(a)return void r({data:null,loading:!1,error:null,handledError:a});r({data:t,loading:!1,error:null,handledError:null})}}).catch(function(n){e||((0,np._)(n,Error)||(n=Error(n)),r({data:null,loading:!1,error:n,handledError:null}))}),function(){e=!0}},[o,a,i]),t),v=m.data,_=m.loading,S=m.error;return(0,b.useEffect)(function(){return S?void h(S,"history2-index",{filePath:o}):v&&!_?(d({filePath:o,changes:v.changes,users:v.users}),gZ("historyLoaded"),function(){f()}):void 0},[o,v,_,S,h,d,f]),(0,p.FD)(W.S,{css:[es.wp.zIndex(3),es.wp.overflow("hidden"),u,es.wp.backgroundColor.backgroundDefault,{borderTop:"2px solid ".concat(U.LU.backgroundHigher),boxShadow:"rgba(2, 2, 3, 0.125) 0px -16px 32px 0px"}],p:8,gap:8,children:[(0,p.FD)(ex.ui,{css:[es.wp.position.relative,es.wp.colWithGap(4),es.wp.px(12),es.wp.pt(8),es.wp.pb(8),es.wp.align.center,es.wp.borderRadius(8),es.wp.overflow("hidden")],elevated:!0,children:[(0,p.Y)(bs,{}),(0,p.FD)(W.S,{css:[es.wp.display.flex,es.wp.flex.row,es.wp.align.center,es.wp.justify.spaceBetween,es.wp.width("100%")],children:[(0,p.Y)(bf,{}),c&&c.count>0?(0,p.FD)(W.S,{row:!0,gap:4,align:"center",children:[(0,p.Y)(gX,{}),_||l?null:(0,p.Y)(G.EY,{color:"dimmer",multiline:!1,children:"•"}),(0,p.Y)(g1,{color:"dimmer",hideName:l,reversed:!0})]}):null]})]}),(0,p.FD)(W.S,{css:[es.wp.display.flex,es.wp.flex.row],children:[(0,p.Y)(bv,{justify:"flex-start",children:(0,p.Y)(gQ,{})}),(0,p.FD)(bv,{justify:"flex-end",children:[(0,p.Y)(gK,{onClose:s}),(0,p.Y)(br,{onCloseHistory:s})]})]})]})}function bv(e){var n=e.children,t=e.justify;return(0,p.Y)("div",{css:{display:"flex",flexGrow:1,flexBasis:0,alignItems:"center",justifyContent:t,columnGap:U.LU.space8,minWidth:0},children:n})}var bg=t(44725),bb=t(95866),by=t(48950),bw=(0,t(76920).D)();function b_(e){if(!(0,np._)(e,nv.ZX))return{compareTo:e.field(bw.state,!1),changed:!1};var n=e.state.field(bw.state,!1),t=e.startState.field(bw.state,!1)!==n;return{compareTo:n,changed:t}}function bS(e,n){e.state.field(bw.state,!1)!==n&&e.dispatch({effects:bw.effect.of(n)})}var bA=nv.sU.define({create:function(){return null},update:function(e,n){var t=b_(n),r=t.compareTo,a=t.changed;if(!r)return null;if(!n.docChanged&&!a)return e;var i=n.state.doc.toString();return new by.PF(i,r)}}),bk=null!=(d=globalThis.requestIdleCallback)?d:globalThis.requestAnimationFrame,bC=null!=(f=globalThis.cancelIdleCallback)?f:globalThis.cancelAnimationFrame,bY=ng.NZ.line({class:"cm-diff-deleted"}),bE=function(e){function n(e,t){var r;return(0,fR._)(this,n),(r=(0,fI._)(this,n)).insertion=e,r.highlight=t,r}(0,fN._)(n,e);var t=n.prototype;return t.destroy=function(){this.pendingHighlight&&bC(this.pendingHighlight)},t.toDOM=function(){var e=document.createElement("div");return e.className="cm-diff-inserted cm-line",this.updateDOM(e),e},t.eq=function(e){return!e.pendingHighlight&&this.insertion===e.insertion},t.updateDOM=function(e){var n=this;return this.pendingHighlight&&(bC(this.pendingHighlight),this.pendingHighlight=null),this.insertion.length?e.textContent=this.insertion:e.innerHTML="&nbsp;",this.highlight&&this.insertion.length&&(this.pendingHighlight=bk(function(){if(n.highlight){n.pendingHighlight=null;try{var t=n.highlight();e.innerHTML="",e.append(t)}catch(e){}}})),!0},n}(ng.xO),bx=nv.sU.define({create:function(){return ng.NZ.none},update:function(e,n){var t=n.state.field(bA,!1);if(!t)return ng.NZ.none;var r=b_(n).changed;if(!n.docChanged&&!r)return e.map(n.changes);var a=[],i=function(e,n){a.push({from:e,to:e,value:n})},o=t.startInsertions();if(o){var s=!0,l=!1,u=void 0;try{for(var c,d=o[Symbol.iterator]();!(s=(c=d.next()).done);s=!0)!function(){var e=c.value,t=new bE(e.content,function(){return bT(n.state,e.content)});i(0,ng.NZ.widget({widget:t,side:-1,block:!0}))}()}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}}var f=!0,p=!1,h=void 0;try{for(var m,v=t.lines()[Symbol.iterator]();!(f=(m=v.next()).done);f=!0){var g=m.value;if(g.isDeleted&&i(g.from,bY),g.insertions){var b=!0,y=!1,w=void 0;try{for(var _,S=g.insertions[Symbol.iterator]();!(b=(_=S.next()).done);b=!0)!function(){var e=_.value,t=new bE(e.content,function(){return bT(n.state,e.content)});i(g.to,ng.NZ.widget({widget:t,side:1,block:!0}))}()}catch(e){y=!0,w=e}finally{try{b||null==S.return||S.return()}finally{if(y)throw w}}}}}catch(e){p=!0,h=e}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}return ng.NZ.set(a,!0)},provide:function(e){return ng.Lz.decorations.from(e)}});function bT(e,n){var t,r=document.createDocumentFragment(),a=null==(t=e.facet(bg.BH))?void 0:t.parser;if(!a){var i=document.createElement("span");return i.textContent=n,r.append(i),r}var o=a.parse(n),s=0;if((0,bb.DM)(o,{style:function(n){return(0,bg.GY)(e,n)}},function(e,t,a){if(e>s){var i=document.createElement("span");i.textContent=n.slice(s,e),r.append(i)}var o=document.createElement("span");o.className=a,o.textContent=n.slice(e,t),r.append(o),s=t}),s<n.length){var l=document.createElement("span");l.textContent=n.slice(s),r.append(l)}return r}var bD=function(e){function n(e){var t;return(0,fR._)(this,n),(t=(0,fI._)(this,n)).line=e,t}(0,fN._)(n,e);var t=n.prototype;return t.eq=function(e){return this.line===e.line},t.toDOM=function(){var e=document.createElement("div");return e.className="cm-diff-gutter-element-fallback",e.innerText=this.line.toString(),e},n}(ng.wJ),bI=function(e){function n(e,t){var r;return(0,fR._)(this,n),(r=(0,fI._)(this,n)).elementClass="cm-diff-gutter-block",r.lines=e,t&&(r.preceding=t),r}(0,fN._)(n,e);var t=n.prototype;return t.eq=function(e){var n,t,r,a;if((null==(n=this.lines)?void 0:n.length)!==(null==e||null==(t=e.lines)?void 0:t.length)||(null==(r=this.preceding)?void 0:r.length)!==(null==e||null==(a=e.preceding)?void 0:a.length))return!1;if(this.preceding&&e.preceding)for(var i=0;i<this.preceding.length;i++){var o=this.preceding[i],s=e.preceding[i];if(o.height!==s.height||o.left!==s.left||o.right!==s.right)return!1}if(this.lines&&e.lines)for(var l=0;l<this.lines.length;l++){var u=this.lines[l],c=e.lines[l];if(u.height!==c.height||u.left!==c.left||u.right!==c.right)return!1}return!0},t.toDOM=function(){var e=this,n=document.createElement("div");if(this.preceding){var t=this.preceding.slice().reverse(),r=0,a=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;r+=u.height;var c=this.piece(u);c.style.position="absolute",c.style.top="-".concat(r,"px"),n.prepend(c)}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}}var d=this.lines.map(function(n){return e.piece(n)});return n.append.apply(n,(0,ev._)(d)),n},t.piece=function(e){var n=e.height,t=e.left,r=e.right,a=document.createElement("span");a.className="cm-diff-gutter-part",null!==t&&(a.innerText=t.toString());var i=document.createElement("span");i.className="cm-diff-gutter-part",null!==r&&(i.innerText=r.toString());var o=document.createElement("div");return o.className="cm-diff-gutter-element",o.style.height="".concat(n,"px"),o.append(a,i),(null===t||null===r)&&(null===r&&o.classList.add("cm-diff-gutter-deleted"),null===t&&o.classList.add("cm-diff-gutter-inserted")),o},n}(ng.wJ),bR=(0,ng.cU)({class:"cm-lineNumbers cm-diff-gutter",markers:function(e){var n=e.viewportLineBlocks,t=[],r=b_(e.state).compareTo,a=e.state.field(bA,!1),i=function(e,n){t.push({from:e,to:e,value:n})};if(!r||!a){var o=!0,s=!1,l=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value,f=e.state.doc.lineAt(d.from).number;if(d.type===ng._B.Text)i(d.from,new bD(f));else if(Array.isArray(d.type)){var p=!0,h=!1,m=void 0;try{for(var v,g=d.type[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var b=v.value;if(b.type===ng._B.Text){i(b.from,new bD(f));break}}}catch(e){h=!0,m=e}finally{try{p||null==g.return||g.return()}finally{if(h)throw m}}}}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}return nv.om.of(t,!0)}var y=!0,w=!1,_=void 0;try{for(var S,A=n[Symbol.iterator]();!(y=(S=A.next()).done);y=!0){var k=S.value,C=[],Y=e.state.doc.lineAt(k.from).number,E=a.line(Y);if(E){var x=e.defaultLineHeight,T=E.offset,D=E.isDeleted,I=E.insertions,R=1===Y?a.startInsertions():null,N=R?R.length:0,O=R?[]:null;if(!(Array.isArray(k.type)&&k.type.length>=N+(null!=(L=null==I?void 0:I.length)?L:0)+1)){if(R&&O){var P=!0,F=!1,U=void 0;try{for(var L,M,J=R[Symbol.iterator]();!(P=(M=J.next()).done);P=!0){var H=M.value;O.push({height:x,left:null,right:H.number})}}catch(e){F=!0,U=e}finally{try{P||null==J.return||J.return()}finally{if(F)throw U}}}if(C.push({height:k.height,left:Y,right:D?null:Y+T}),I){var B=!0,V=!1,$=void 0;try{for(var G,z=I[Symbol.iterator]();!(B=(G=z.next()).done);B=!0){var W=G.value;C.push({height:x,left:null,right:W.number})}}catch(e){V=!0,$=e}finally{try{B||null==z.return||z.return()}finally{if(V)throw $}}}i(k.from,new bI(C,O));continue}for(var j=0;j<k.type.length;j++){var q=k.type[j];if((null==q?void 0:q.type)===ng._B.Text){if(R&&O)for(var Z=0;Z<R.length;Z++){var K,Q=R[Z],X=k.type[j-Z-1];O.push({height:null!=(K=null==X?void 0:X.height)?K:x,left:null,right:Q.number})}if(C.push({height:q.height,left:Y,right:D?null:Y+T}),I)for(var ee=0;ee<I.length;ee++){var en,et=I[ee],er=k.type[j+ee+1];C.push({height:null!=(en=null==er?void 0:er.height)?en:x,left:null,right:et.number})}break}}i(k.from,new bI(C,O))}}}catch(e){w=!0,_=e}finally{try{y||null==A.return||A.return()}finally{if(w)throw _}}return nv.om.of(t,!0)},lineMarkerChange:function(e){if(e.docChanged)return!0;var n=!0,t=!1,r=void 0;try{for(var a,i=e.transactions[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=a.value;if(b_(o).changed)return!0}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}return!1},initialSpacer:function(e){return new bD(e.state.doc.lines)},updateSpacer:function(e,n){var t=n.state.doc.lines;return b_(n.state).compareTo?new bI([{height:0,left:t,right:t}]):new bD(t)}}),bN="#0053A644",bO="#c93c3733",bP=[ng.Lz.theme({".cm-diff-inserted":{backgroundColor:bN},".cm-diff-deleted":{backgroundColor:bO},".cm-diff-gutter .cm-diff-gutter-block":{position:"relative",padding:"0"},".cm-diff-gutter-element":{display:"flex",width:"100%",alignItems:"center",columnGap:"8px",padding:"0 6px",borderLeft:"4px solid transparent"},".cm-diff-gutter-part":{display:"inline-block",height:"100%",width:"50%",textAlign:"center"},".cm-diff-gutter-inserted":{backgroundColor:bN,borderLeftColor:"#0053A6"},".cm-diff-gutter-deleted":{backgroundColor:bO,borderLeftColor:"#c93c37"},".cm-diff-gutter + .cm-foldGutter":{width:"0",transform:"translateX(-12px)",overflow:"visible"},".cm-diff-gutter .cm-diff-gutter-element":{paddingRight:"16px"},".cm-diff-gutter .cm-diff-gutter-element-fallback":{paddingRight:"12px"}}),bw.state,bA,bx,bR,(0,bg.Lv)({openText:"▼",closedText:"▶︎"})],bF=t(48122),bU=function(e){return e[e.Insertion=0]="Insertion",e[e.Deletion=1]="Deletion",e}({}),bL=function(){function e(n){(0,fR._)(this,e),this.map=new Map,this.duration=n}var n=e.prototype;return n.set=function(e,n,t,r,a){var i=this.map.get(e);i||(i=new Map,this.map.set(e,i)),i.set(n,{from:e,to:n,time:t,type:r,cursor:a})},n.get=function(e,n){var t=this.map.get(e);if(t)return t.get(n)},n.update=function(n){var t=Date.now(),r=new e(this.duration),a=!0,i=!1,o=void 0;try{for(var s,l=this[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;if(!(t-u.time>this.duration)){var c=n.changes.mapPos(u.from,-1,nv.iR.TrackDel),d=n.changes.mapPos(u.to,-1,nv.iR.TrackDel);if(null!==c&&null!==d){var f=u.cursor;n.docChanged&&(f=!1),r.set(c,d,u.time,u.type,f)}}}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return n.changes.iterChangedRanges(function(e,n,a,i){r.set(a,i,t,+(a===i),!0)},!0),r},n.cursors=function(){var e,n,t,r,a,i,o;return(0,w.YH)(this,function(s){switch(s.label){case 0:e=!0,n=!1,t=void 0,s.label=1;case 1:s.trys.push([1,6,7,8]),r=this[Symbol.iterator](),s.label=2;case 2:if(e=(a=r.next()).done)return[3,5];if(!(i=a.value).cursor)return[3,4];return[4,{type:i.type,pos:i.to}];case 3:s.sent(),s.label=4;case 4:return e=!0,[3,2];case 5:return[3,8];case 6:return o=s.sent(),n=!0,t=o,[3,8];case 7:try{e||null==r.return||r.return()}finally{if(n)throw t}return[7];case 8:return[2]}})},n[Symbol.iterator]=function(){var e=[],n=!0,t=!1,r=void 0;try{for(var a,i=this.map.values()[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=a.value,s=!0,l=!1,u=void 0;try{for(var c,d=o.values()[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=c.value;e.push(f)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}return e[Symbol.iterator]()},e}(),bM=function(){function e(n){var t=this;(0,fR._)(this,e),this.view=n,this.overlay=document.createElement("div"),this.overlay.className="cm-overlay-generic",this.overlay.style.pointerEvents="none",this.overlay.style.contain="size style",this.overlay.setAttribute("aria-hidden","true"),this.view.scrollDOM.appendChild(this.overlay),this.elements=new Map,this.measureRequest={key:this,read:function(){var e=[],n=t.view.scrollDOM.getBoundingClientRect(),r=t.view.scrollDOM.scrollTop,a=t.view.scrollDOM.scrollLeft,i=!0,o=!1,s=void 0;try{for(var l,u=t.elements.values()[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value,d=c.dom,f=c.pos,p=c.offsetX,h=c.offsetY,m=t.view.coordsAtPos(f),v=t.view.lineBlockAt(f);if(!m){e.push({dom:d,x:null,y:null});continue}var g=v.top-r+n.top+t.view.documentPadding.top,b=Math.round((m.top-g)/t.view.defaultLineHeight)*t.view.defaultLineHeight+g,y=a+m.left-n.left+p,w=r+b-n.top+h;e.push({dom:d,x:y,y:w})}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}return e},write:function(e){var n=!0,t=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0)!function(){var e=a.value,n=e.dom,t=e.x,r=e.y;if(null===t||null===r)return n.style.visibility="hidden",n.style.transition="none";n.style.visibility="",n.style.transform="translate(".concat(t,"px, ").concat(r,"px)"),n.style.transition.startsWith("none")&&requestAnimationFrame(function(){n.style.transition=""})}()}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}}}}var n=e.prototype;return n.destroy=function(){this.view.scrollDOM.removeChild(this.overlay)},n.map=function(e){if(e.geometryChanged||e.viewportChanged){if(e.docChanged){var n=Array.from(this.elements.values()),t=!0,r=!1,a=void 0;try{for(var i,o=n[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value,l=e.changes.mapPos(s.pos,-1,nv.iR.TrackDel);if(!l){this.removeElement(s.dom);continue}s.pos=l}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}}this.view.requestMeasure(this.measureRequest)}},n.addElement=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!this.elements.has(e)){var a={dom:e,pos:n,offsetX:t,offsetY:r};return this.elements.set(e,a),this.overlay.appendChild(e),e.style.visibility="hidden",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.willChange="transform",e.style.transition="none",this.view.requestMeasure(this.measureRequest),a}},n.removeElement=function(e){this.elements.has(e)&&(this.elements.delete(e),e.parentNode===this.overlay&&this.overlay.removeChild(e))},n.updateElement=function(e,n){var t=n.pos,r=n.offsetX,a=n.offsetY,i=this.elements.get(e);i&&(void 0!==t&&(i.pos=t),void 0!==r&&(i.offsetX=r),void 0!==a&&(i.offsetY=a),this.view.requestMeasure(this.measureRequest))},n.clear=function(){this.elements.clear(),this.overlay.innerHTML=""},e}(),bJ="cm-flash-insertion",bH="cm-flash-deletion",bB="cm-flash-element",bV=ng.Lz.theme((0,v._)({},".".concat(bJ,", .").concat(bH),{display:"inline-block"})),b$=function(e){function n(){return(0,fR._)(this,n),(0,fI._)(this,n,arguments)}(0,fN._)(n,e);var t=n.prototype;return t.isNested=function(){for(var e=this.parentElement;e&&!e.classList.contains("cm-line");){if((0,np._)(e,n)&&e.type===this.type)return!0;e=e.parentElement}return!1},t.stop=function(){var e,n;null==(n=this.animation)||null==(e=n.cancel)||e.call(n)},t.play=function(){var e=this.isPlaying;if(this.stop(),!this.isNested()){var n=Date.now()-parseInt(this.getAttribute("data-time")||"0",10);if(!(n>1e3)){var t=this.type===bU.Insertion?"rgba(100, 255, 0, 0.3)":"rgba(255, 32, 32, 0.25)";this.animate&&(this.animation=this.animate({backgroundColor:e?[t,t,"transparent"]:["transparent",t,"transparent"],offset:[0,.05,1]},{id:"cm-flash-anim",duration:1e3,easing:"ease-in-out",delay:-n}))}}},t.connectedCallback=function(){this.play()},t.attributeChangedCallback=function(e,n,t){"data-time"===e&&t&&this.play()},(0,bF._)(n,[{key:"type",get:function(){return this.classList.contains(bJ)?bU.Insertion:bU.Deletion}},{key:"isPlaying",get:function(){var e;return(null==(e=this.animation)?void 0:e.playState)==="running"}}],[{key:"observedAttributes",get:function(){return["data-time"]}}]),n}((0,g9._)(HTMLElement));customElements.get(bB)||customElements.define(bB,b$);var bG=function(){function e(n){(0,fR._)(this,e),this.view=n,this.prevFlashes=new bL(1e3),this.decorations=ng.NZ.set([]),this.hasRenderedOnce=!1,this.overlay=new bM(n)}var n=e.prototype;return n.destroy=function(){this.overlay.destroy()},n.update=function(e){if(!this.hasRenderedOnce){e.docChanged&&(this.hasRenderedOnce=!0);return}var n=this.prevFlashes.update(e),t=[],r=!0,a=!1,i=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;switch(l.type){case bU.Insertion:t.push({from:l.from,to:l.to,value:(u=l.time,ng.NZ.mark({class:bJ,tagName:bB,attributes:{"data-time":u.toString()}}))});break;case bU.Deletion:var u,c,d=e.state.wordAt(l.from);d&&t.push({from:d.from,to:l.to,value:(c=l.time,ng.NZ.mark({class:bH,tagName:bB,attributes:{"data-time":c.toString()}}))})}}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}this.overlay.clear();var f=this.view.defaultLineHeight.toString()+"px",p=!0,h=!1,m=void 0;try{for(var v,g=n.cursors()[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var b=v.value,y=b.type,w=b.pos,_=function(e,n){var t=e===bU.Insertion?"rgba(0, 100, 255, 1)":"rgba(255, 32, 32, 1)",r=document.createElement("div");return r.style.width="3px",r.style.height=n,r.style.borderRadius="1px",r.style.backgroundColor=t,r.animate&&r.animate({opacity:[1,0]},{duration:500,delay:400,fill:"forwards"}),r}(y,f);this.overlay.addElement(_,w)}}catch(e){h=!0,m=e}finally{try{p||null==g.return||g.return()}finally{if(h)throw m}}this.prevFlashes=n,this.decorations=ng.NZ.set(t,!0)},e}(),bz=ng.Z9.fromClass(bG,{decorations:function(e){return e.decorations}}),bW=nv.Nb.lowest([bV,bz]),bj=t(45440),bq=function(){function e(n){(0,fR._)(this,e),this.changes=[],this.forward=[],this.inverted=[],this.locations=[];var t=!0,r=!1,a=void 0;try{for(var i,o,s=n[Symbol.iterator]();!(t=(o=s.next()).done);t=!0)i=this,function(){var e=o.value,n=e.changes,t=e.invertedChanges,r=null,a=!1;n.iterChangedRanges(function(e,n,t,i){a||(r||(r=i),t!==i&&(a=!0))}),i.forward.push(n),i.inverted.push(t),i.locations.push(r)}()}catch(e){r=!0,a=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw a}}}var n=e.prototype;return n.slice=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;if(n>this.length||t>this.length||n<0||t<0)throw Error("Invalid version range");if(n===t){if(0===this.length)return[nv.VR.empty(0),null];var r=this.forward[n].newLength;return[nv.VR.empty(r),null]}var a=n<t?bZ(this.forward.slice(n,t)):bZ(this.inverted.slice(t,n).reverse()),i=n<t?n:t-1,o=null!=(e=this.locations[i])?e:null;return null!==o&&o>a.newLength&&(o=a.newLength),[a,o]},n.get=function(e){if(e>this.length||e<0)throw Error("Invalid version");return this.changes[e]},n.documentFor=function(e){if(e>this.length||e<0)throw Error("Invalid version");if(0===this.length)return"";var n=(0,g._)(this.slice(0,e),1)[0],t=nv.EY.of([""]);return n.apply(t).sliceString(0)},(0,bF._)(e,[{key:"length",get:function(){return this.forward.length}}]),e}();function bZ(e){if(0===e.length)return nv.VR.empty(0);if(1===e.length)return e[0];var n=(0,h7._)(e),t=n[0],r=n.slice(1),a=t,i=!0,o=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;a=a.compose(c)}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}return a}var bK=t(90402),bQ=new nA.k(function(){return(0,ng.BE)()}),bX=[bW,bP];function b0(e){var n,t,r,a=e.filePath,i=(0,eN.N_)(),o=(0,nS.A)(),s=o.ref,l=o.view;(0,bK.Hn)(l),(0,eN.sC)(l);var u=gq();n=(0,b.useMemo)(function(){return(null==i?void 0:i.changes)?new bq(i.changes):null},[null==i?void 0:i.changes]),t=(0,b.useMemo)(function(){return n?n.documentFor(n.length):null},[n]),r=(0,b.useRef)({current:-1,next:0,pending:!1}),(0,b.useEffect)(function(){if(l)return function(){r.current.pending=!1,r.current={current:-1,next:0,pending:!1}}},[l]),(0,b.useEffect)(function(){if(l&&i&&n){i.comparing?bS(l,t):bS(l,null);var e=r.current;e.next=i.version,e.pending||e.current===e.next||(e.pending=!0,requestAnimationFrame(function(){!1!==e.pending&&(e.pending=!1,l&&n&&e.current!==e.next&&(function(e,n,t,r){var a=(0,g._)(n.slice(t+1,r+1),2),i=a[0],o=a[1];if(i.length!==e.state.doc.length){var s=(0,g._)(n.slice(0,r+1),1)[0];if(s.length!==e.state.doc.length)throw Error("Unresolvable mismatch between changes and document");e.dispatch({changes:{from:0,to:e.state.doc.length}}),e.dispatch({changes:s});return}e.dispatch({changes:i,effects:o?ng.Lz.scrollIntoView(o,{yMargin:10}):void 0})}(l,n,e.current,e.next),e.current=e.next))}))}},[l,i,n,t]);var c=bQ.use();return(0,p.Y)("div",{css:bj.jy,children:(0,p.Y)("div",{css:bj.mV,children:i&&0===i.count?(0,p.Y)(b1,{}):(0,p.Y)("div",{css:bj.mV,children:(0,p.Y)(nw.Ay,{ref:s,css:bj.$1,filePath:a,extensions:[c,bX],initializing:!i,onException:function(e){u(e,"viewer-codemirror")},readOnly:!0,noHistory:!0,hideGutter:!0})})})})}function b1(){return(0,p.Y)("div",{css:[bj.mV,{display:"flex",alignItems:"center",justifyContent:"center"}],children:(0,p.Y)("span",{children:"This file has no history."})})}var b2=h.ZU.Object({type:h.ZU.Literal("history"),data:h.ZU.Object({path:h.ZU.Union([h.ZU.String(),h.ZU.Null()])})}),b3={Content:function(e){var n=e.pane,t=e.options;return(0,p.Y)(b4,(0,nh._)((0,eg._)({},n.data),{performPaneOperation:t.performPaneOperation}))},Icon:function(e){var n=e.size;return(0,p.Y)(bn.A,{size:n})},getTitle:function(e){return e.data.path?"History - ".concat((0,aU.WP)(e.data.path)):"History - no file open"},category:tb.bY.WorkspaceFeatures,decode:function(e){return m.T(b2,e)}};function b4(e){var n=e.path,t=e.performPaneOperation,r=(0,g._)((0,b.useState)(function(){return(0,ne.y$)()}),1)[0],a=(0,g._)((0,b.useState)(function(){return(0,ne.y$)()}),1)[0],i=(0,aL.KA)({path:n,performPaneOperation:t});(0,aB.Qt)(function(){if(i)return{commands:[{commands:i}]}},[i]);var o=(0,mu.A)(function(){return function(){t({operation:"replace",pane:{type:"codeEditor",data:{path:n}}})}},[n,t]);return n?(0,p.Y)(bK.dz.Provider,{value:r,children:(0,p.Y)(eN.GK.Provider,{value:a,children:(0,p.FD)("div",{css:{position:"relative",display:"flex",flexDirection:"column",overflowY:"hidden",height:"100%",width:"100%"},children:[(0,p.Y)(aH.ou,{path:n,performPaneOperation:t}),(0,p.Y)(b0,{filePath:n}),(0,p.Y)(bm,{filePath:n,onCloseHistory:o})]})})}):null}var b5=t(94507),b7=t(67862),b9=t(87384),b8=t(88233),b6=(0,eo.x)({button:{width:"fit-content"}});function ye(e){var n=e.code,t=e.activeFile,r=(0,b8.vO)(),a=(0,b9.A)(t),i=a?{text:"Insert",iconRight:(0,p.Y)(iR.A,{}),onClick:function(){var e,t,i;return a({code:n,insertAt:null!=(i=null==(t=r())||null==(e=t.position)?void 0:e.offset)?i:"end"})}}:{text:"Copy",iconLeft:(0,p.Y)(rj.A,{}),onClick:function(){return(0,P.default)(n)}};return(0,p.Y)(ex.ui,{background:"default",children:(0,p.Y)(M.$n,(0,eg._)({size:"small",variant:"outlined",css:b6.button},i))})}var yn=(0,eo.x)({self:es.wp.colWithGap(4),content:[es.wp.backgroundColor.backgroundRoot,es.wp.borderRadius(4),es.wp.p(4),es.wp.align.center,es.wp.maxWidth("100%"),es.wp.overflowX("auto"),{width:"fit-content"}]});function yt(e){var n=e.method,t=e.content,r=e.activeFile,a=(0,g._)((0,b.useState)(t),2),i=a[0],o=a[1];return(0,p.FD)(W.S,{css:yn.self,children:[(0,p.Y)(yl,{title:n}),(0,p.Y)(W.S,{css:yn.content,row:!0,gap:4,children:i.map(function(e,t){var r="".concat(n,"-").concat(t);return"input"===e.type?(0,p.Y)(ya,{i:t,value:e.value,placeholder:e.placeholder,setContent:o},r):(0,p.Y)(yo,{value:e.value},r)})}),(0,p.Y)(ye,{code:i.reduce(function(e,n){return e+(n.value||("input"===n.type?n.placeholder:""))},""),activeFile:r})]})}var yr=(0,eo.x)({self:[es.wp.width(64),es.wp.height(24),es.wp.zIndex(1)]});function ya(e){var n=e.i,t=e.value,r=e.placeholder,a=e.setContent;return(0,p.Y)(H.pd,{onChange:function(e){a(function(t){return t.map(function(t,r){return n===r?(0,nh._)((0,eg._)({},t),{value:e.target.value}):t})})},placeholder:r,value:t||"",css:yr.self})}var yi=(0,eo.x)({self:[es.wp.borderRadius(0),es.wp.backgroundColor.backgroundRoot],code:[es.wp.font.code,es.wp.color.greyStronger,es.wp.p(4),{whiteSpace:"pre-wrap"}]});function yo(e){var n=e.value;return(0,p.Y)(W.S,{css:yi.self,children:(0,p.Y)(G.EY,{css:yi.code,children:n})})}var ys=(0,eo.x)({self:es.wp.rowWithGap(4),bold:{fontWeight:U.LU.fontWeightMedium}});function yl(e){var n=e.title,t=(0,g._)((0,mu.A)(function(){var e=(0,h7._)(n.split(" "));return[e[0],e.slice(1).join(" ")]},[n]),2),r=t[0],a=t[1];return(0,p.FD)(W.S,{css:ys.self,children:[(0,p.Y)(G.EY,{css:ys.bold,multiline:!1,children:r}),(0,p.Y)(G.EY,{color:"dimmer",multiline:!1,children:a})]})}var yu=function(e){return e.IMPORT="Import the database",e.CREATE="Create a new database",e.SET="Set a key to a value",e.GET="Get a key's value",e.DELETE="Delete a key",e.LIST="List all keys",e.LIST_PREFIX="List keys with a prefix",e}(yu||{}),yc={language:"Bash",methods:[yh("Set a key to a value","curl $REPLIT_DB_URL -d '{{key}} = {{value}}'"),yh("Get a key's value","curl $REPLIT_DB_URL/{{key}}"),yh("Delete a key","curl -XDELETE $REPLIT_DB_URL/{{key}}"),yh("List all keys",'curl "$REPLIT_DB_URL?prefix={{key}}"')]},yd={language:"Node",methods:[yh("Import the database",'const Database = require("@replit/database")'),yh("Create a new database","const db = new Database()"),yh("Set a key to a value",'db.set("{{key}}", "{{value}}").then(() => {})'),yh("Get a key's value",'db.get("{{key}}").then(value => {})'),yh("Delete a key",'db.delete("{{key}}").then(() => {})'),yh("List all keys","db.list().then(keys => {\n  console.log(keys);\n})"),yh("List keys with a prefix",'db.list("{{prefix}}").then(matches => {})')]},yf={language:"Go",methods:[yh("Import the database",'import "github.com/replit/database-go"'),yh("Set a key to a value",'db.Set("{{key}}", "{{value}}")'),yh("Get a key's value",'value, _ := database.Get("{{key}}")'),yh("Delete a key",'database.Delete("{{key}}")'),yh("List all keys",'keys, _ := database.ListKeys("")'),yh("List keys with a prefix",'matches, _ := database.ListKeys("{{prefix}}")')]},yp={language:"Python",methods:[yh("Import the database","from replit import db"),yh("Set a key to a value",'db["{{key}}"] = "{{value}}"'),yh("Get a key's value",'db["{{key}}"]'),yh("Delete a key",'del db["{{key}}"]'),yh("List all keys","keys = db.keys()\nprint(list(keys))"),yh("List keys with a prefix",'matches = db.prefix("{{prefix}}")')]};function yh(e,n){return{method:e,content:function(e){for(var n=[],t=0;t<e.length;){var r=e.indexOf("{{",t),a=e.indexOf("}}",t);if(-1===r||-1===a){n.push({type:"code",value:e.substring(t)});break}n.push({type:"code",value:e.substring(t,r)}),n.push({type:"input",placeholder:e.substring(r+2,a)}),t=a+2}return n}(n)}}var ym=(0,eo.x)({self:es.wp.colWithGap(24),code:[es.wp.font.code,es.wp.color.greyStronger,es.wp.backgroundColor.backgroundRoot,es.wp.p(4),es.wp.borderRadius(4)]});function yv(e){var n=e.activeFile,t=(0,mu.A)(function(){switch(n?(0,aU.an)(n):"bash"){case"js":case"ts":case"tsx":case"jsx":case"mjs":return yd;case"go":return yf;case"py":return yp;default:return yc}},[n]);return(0,p.FD)(W.S,{css:ym.self,children:[(0,p.FD)(G.EY,{color:"dimmer",children:["You can use the Database from any App by making HTTP requests or a client library as outlined below. We’ve set an environment variable called ",(0,p.Y)("code",{css:ym.code,children:"REPLIT_DB_URL"})," in your App if you'd like to interact with the database directly."]}),t.methods.map(function(e){return(0,p.Y)(yt,{method:e.method,content:e.content,activeFile:n},"".concat(t.language).concat(e.method))})]})}function yg(e){var n=e.title,t=e.defaultExpanded,r=e.children;return(0,p.Y)(L.A,{defaultExpanded:t,headerContent:(0,p.Y)(G.EY,{variant:"subheadDefault",multiline:!1,children:n}),children:(0,p.Y)(W.S,{p:12,gap:8,children:r})})}var yb=(0,nV.i7)("from{opacity:0}to{opacity:1}"),yy=(0,eo.x)({self:[{animation:"".concat(yb," 100ms forwards ease-in-out alternate")}],selfLoadingText:[es.wp.height(16),es.wp.width(48),es.wp.borderRadius(4),nZ.S.backgroundPulse()],selfLoading:[es.wp.height(12),es.wp.borderRadius(16),nZ.S.backgroundPulse()],text:[es.wp.rowWithGap(4),{display:"inline-flex"}],textSpan:[es.wp.width("fit-content"),es.wp.display.inlineFlex]});function yw(e){var n,t,r=e.database,a=e.loading,i=(null==r?void 0:r.sizeMB)||0,o=(n=1e6*(n=i)/1048576,"".concat(n.toFixed(),"/50 MiB")),s=a||!r;return(0,p.Y)(W.S,{css:yy.self,gap:8,children:s?(0,p.FD)(p.FK,{children:[(0,p.Y)(W.S,{css:yy.selfLoadingText}),(0,p.Y)(W.S,{css:yy.selfLoading})]}):(0,p.FD)(p.FK,{children:[(0,p.FD)(G.EY,{color:"dimmer",css:yy.text,multiline:!1,children:[(0,p.Y)(W.D.span,{css:yy.textSpan,children:o}),(0,p.Y)(W.D.span,{css:yy.textSpan,children:"|"}),(0,p.Y)(W.D.span,{css:yy.textSpan,children:(t=(t=null==r?void 0:r.keysCount)||0,"".concat(t," ").concat((0,sh.A)("key",t)))})]}),(0,p.Y)(c6.W,{current:i,total:50,tooltip:o})]})},s?"databaseLoadingStats":"databaseLoadedStats")}function y_(){var e=(0,eb._)(["\n  fragment DatabaseUsage on Database {\n    id\n    keysCount\n    sizeMB\n  }\n"]);return y_=function(){return e},e}function yS(){var e=(0,eb._)(["\n  query Database($replID: String!) {\n    getRepl(id: $replID) {\n      ... on Repl {\n        id\n        database {\n          id\n          ...DatabaseUsage\n        }\n      }\n    }\n    currentUser {\n      id\n      isLoggedIn\n    }\n  }\n  ","\n"]);return yS=function(){return e},e}var yA={},yk=(0,ey.J1)(y_()),yC=(0,ey.J1)(yS(),yk),yY=t(2142),yE=(0,eo.x)({sectionWrapper:[es.wp.width("100%"),es.wp.maxWidth(450)]});function yx(){var e,n,t,r,a,i,o,s,l,u=(o=(r={variables:{replID:(0,O.A)()},pollInterval:1e4},a=(0,eg._)({},yA,r),i=ew.I(yC,a)).data,s=i.error,l=i.loading,o&&("Repl"===o.getRepl.__typename?n=null==o||null==(t=o.getRepl)?void 0:t.database:e="Could not fetch Database info"),s&&("GraphQL error: You don't have access to this database"===s.message?n=null:e=s.message),{db:n,loading:l,error:e}),c=u.db,d=u.error,f=u.loading,h=(0,b8.rM)(),m=(0,tb.Vv)().getTitle({type:"database"});return(0,p.Y)(t1.A,{pane:{type:"database"},headerText:m,action:(0,p.FD)(W.S,{css:yE.sectionWrapper,gap:16,children:[d?(0,p.Y)(tU.N,{colorway:"negative",text:d}):null,(0,p.Y)(yg,{title:"Storage capacity",children:(0,p.Y)(yw,{database:c,loading:f})}),(0,p.Y)(yg,{title:"How to use the database",children:(0,p.Y)(yv,{activeFile:h})}),(0,p.Y)(tP.v,{href:b7.ik.REPL_DATABASE,target:"_blank",rel:"noopener",iconLeft:(0,p.Y)(yY.A,{}),text:"Learn more in the docs"})]})})}var yT=t(72253),yD=h.ZU.Object({type:h.ZU.Literal("database")}),yI={Content:function(){return(0,p.Y)(yx,{})},Icon:function(e){var n=e.size;return(0,p.Y)(tw.Vx.Provider,{value:{color:U.LU.blurpleStronger,size:n},children:(0,p.Y)(yT.A,{})})},getTitle:function(){return"Replit Key-Value Store"},description:"Free, easy-to-use key-value store suitable for unstructured data, caching, session management, fast lookups, and flexible data models",category:tb.bY.CloudServices,decode:function(e){return m.T(yD,e)}},yR=t(69945),yN=t.n(yR),yO=t(27600),yP=t(55089),yF=t(1224),yU=t(13481),yL=t(99795),yM=(0,eo.x)({root:[es.wp.coverContainer,es.wp.center]});function yJ(){return(0,p.Y)(W.S,{css:yM.root,children:(0,p.Y)(a$.A,{size:32})})}var yH=t(6506),yB=(0,b.memo)(yU.A),yV=(0,eo.x)({bodyRoot:[es.wp.overflowY("auto")],contentRoot:[es.wp.height("100%"),es.wp.width("100%"),es.wp.overflow("auto"),es.wp.zIndex(2),es.wp.align.center,es.wp.py(16),es.wp.px(16),es.wp.borderRadius(8),(0,v._)({margin:"0 auto"},"@media only screen and (min-width: ".concat(uC.LO.tabletMin,"px)"),es.wp.px(32))],emptyState:[{"& button":[{color:U.LU.foregroundDimmer}]}],markdownContainer:[es.wp.width("100%"),{"& .rendered-markdown":[es.wp.flex.column,es.wp.center],"& .rendered-markdown > *":[es.wp.maxWidth(840),es.wp.width("100%")],"& .rendered-markdown > table":es.wp.maxWidth("100%")}],paneRoot:[es.wp.position.relative,es.wp.display.flex,es.wp.flex.column,es.wp.overflowY("hidden"),es.wp.height("100%"),es.wp.width("100%")]});function y$(e){var n,t,r=(0,k.A)().fs,a=(0,g._)((n=(0,b.useRef)(!1),t=(0,b.useRef)(null),[(0,oy.A)(function(){n.current=!0,t.current&&clearTimeout(t.current),t.current=setTimeout(function(){n.current=!1},150)},{type:"throttle",wait:37.5}),n]),2),i=a[0],o=a[1],s=(0,b.useRef)(null),l=(0,yO.j)(),u=e.path,c=e.performPaneOperation,d=(0,b.useCallback)(function(){c({operation:"replace",pane:{type:"codeEditor",data:{path:u}}}),c({operation:"commit"})},[c,u]);(0,aB.Qt)(function(){return{commands:[{commands:[{match:yF.G2,data:{label:"Open in Editor",icon:(0,p.Y)(ii.A,{}),type:"action",run:d}}]}]}},[d]);var f=e.isHidden,h=(0,yH.Af)();(0,b.useEffect)(function(){if(!f){var e=yN()(function(e){(0,yP.A)(e,{behavior:l?"auto":"smooth",scrollMode:"if-needed"})},100),n=yN()(function(n){if(u===(null==n?void 0:n.path)&&n&&!o.current){var t=s.current?function(e,n){var t=e.querySelectorAll(".rendered-markdown [data-sourcepos]");if(!(null==t?void 0:t.length))return null;var r=Array.from(t).reverse(),a=n.line,i=n.column,o=!0,s=!1,l=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value,f=d.dataset.sourcepos;if(!f)throw Error("Expected data source pos on selected element");var p=(0,g._)(f.split("-"),2),h=p[0],m=p[1],v=(0,g._)(h.split(":").map(Number),2),b=v[0],y=v[1],w=(0,g._)(m.split(":").map(Number),2),_=w[0],S=w[1];if(a>=b&&i>=y&&(a<_||a===_&&i<=S))return d}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}}(s.current,n.position):null;t&&e(t)}},200),t=h.subscribe(n);return function(){n.cancel(),e.cancel(),t()}}},[h,f,l,u]);var m=(0,g._)((0,b.useState)(null),2),v=m[0],y=m[1];return(0,b.useEffect)(function(){return y(null),r.watchTextFile(u,{onReady:function(e){y(e.initialContent.toString())},onChange:function(e){y(e.latestContent)},onMoveOrDelete:function(e){e.eventType===na.dV.Delete&&c({operation:"replace",pane:{type:"commands",data:{autoFocus:!0}}})}})},[u,r,c]),(0,p.FD)(W.S,{css:yV.paneRoot,children:[(0,p.Y)(aH.ou,{path:e.path,performPaneOperation:c,children:v&&v.trim().length?(0,p.Y)(yL.k,{altText:"Open file in editor",buttonText:"Open in Editor",onClick:d,icon:(0,p.Y)(ii.A,{})}):null}),(0,p.Y)(W.S,{css:yV.bodyRoot,grow:!0,shrink:!0,children:(0,p.Y)(yG,{ref:i,content:v,fs:r,markdownContainerRef:s,openInEditor:d,path:u})})]})}var yG=(0,b.forwardRef)(function(e,n){var t=e.content,r=e.fs,a=e.markdownContainerRef,i=e.openInEditor,o=e.path;return null===t?(0,p.Y)(yz,{}):(0,p.Y)(W.S,{css:yV.contentRoot,gap:8,innerRef:n,children:(0,p.Y)(W.S,{innerRef:a,css:yV.markdownContainer,children:t.trim().length?(0,p.Y)(yB,{path:o,source:t,fs:r,sourcePos:!0}):(0,p.Y)("div",{className:"rendered-markdown rendered-markdown-empty",children:(0,p.FD)(W.S,{css:yV.emptyState,gap:4,align:"center",innerRef:n,children:[(0,p.Y)(G.EY,{color:"dimmer",children:(0,p.Y)("i",{children:"This file is empty"})}),(0,p.Y)(M.$n,{text:"Open in Editor",iconLeft:(0,p.Y)(ii.A,{}),onClick:i,variant:"nofill"})]})})})})});function yz(){var e=(0,g._)((0,b.useState)(!1),2),n=e[0],t=e[1];return(0,b.useEffect)(function(){var e=setTimeout(function(){return t(!0)},500);return function(){clearTimeout(e)}},[]),n?(0,p.Y)(yJ,{}):null}var yW=t(19074),yj=h.ZU.Object({type:h.ZU.Literal("markdown"),data:h.ZU.Object({path:h.ZU.String({minLength:1})})}),yq={Content:function(e){var n=e.pane,t=e.options;return(0,p.Y)(y$,{path:n.data.path,isHidden:!!t.isHidden,performPaneOperation:t.performPaneOperation})},Icon:function(e){var n=e.size;return(0,p.Y)(yW.A,{fill:"currentColor",size:n})},getTitle:function(e){return e.data.path?(0,aU.WP)(e.data.path):"Markdown"},category:tb.bY.WorkspaceFeatures,decode:function(e){return m.T(yj,e)}},yZ=h.ZU.Object({type:h.ZU.Literal("media"),data:h.ZU.Object({path:h.ZU.String()})}),yK={Content:function(e){var n=e.pane,t=e.options;return(0,p.Y)(yQ,{path:n.data.path,performPaneOperation:t.performPaneOperation})},Icon:function(e){var n=e.pane,t=e.size;return(0,p.Y)(aV.A,{path:n.data.path,size:t})},getTitle:function(e){return(0,aU.WP)(e.data.path)},category:tb.bY.WorkspaceFeatures,decode:function(e){return m.T(yZ,e)}};function yQ(e){var n=e.path,t=e.performPaneOperation,r=(0,k.A)().fs,a=(0,aL.KA)({path:n,performPaneOperation:t}),i=a?(0,ev._)(a):[],o=(0,b.useCallback)(function(){t({operation:"replace",pane:{type:"codeEditor",data:{path:n}}})},[t,n]),s={match:yF.G2,data:{label:"Open in Editor",icon:(0,p.Y)(ii.A,{}),type:"action",run:function(){o()}}};return(0,aU.Z7)(n)&&i.push(s),(0,aB.Qt)(function(){if(a)return{commands:[{commands:i}]}},[a]),(0,p.FD)(p.FK,{children:[(0,p.Y)(aH.ou,{path:n,performPaneOperation:t,children:(0,p.Y)(yL.k,{altText:"Open file in editor",buttonText:"Open in Editor",onClick:o,icon:(0,p.Y)(ii.A,{})})}),(0,p.Y)(aJ,{centered:!0,children:(0,p.Y)(iI.Ay,{filePath:n,fs:r})})]})}var yX=t(31794),y0=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],y1=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];function y2(e,n){var t,r=n||{},a=r.signed,i=r.digitsNumber,o=r.isKib,s=r.isKibNotation;if(t=void 0!==a&&a?e<0?"-":"+":"",0===e)return"".concat(t,"0B");var l=void 0===o||o?1024:1e3,u=Math.floor(Math.log(Math.abs(e))/Math.log(l));return"".concat(t).concat(parseFloat(Math.abs(e/Math.pow(l,u)).toFixed(void 0===i?2:i))).concat((void 0!==s&&s?y0:y1)[u])}var y3=t(56790),y4=t(97172),y5=h.ZU.Literal("overview-page"),y7=h.ZU.Literal("db-page");h.ZU.Union([y5,y7]);var y9=h.ZU.Literal("overview"),y8=h.ZU.Literal("commands"),y6=h.ZU.Literal("settings"),we=h.ZU.Literal("drizzle-studio");h.ZU.Union([y9,y8,y6,we]);var wn=h.ZU.Object({databaseId:h.ZU.Integer()}),wt=h.ZU.Optional(wn),wr=(0,b.createContext)(void 0),wa=function(e){var n,t,r,a,i,o,s,l,u,c,d=e.children,f=e.initialOpenAtDatabase,h=e.performPaneOperation,m=(0,b.useCallback)(function(e){h({operation:"open",pane:e})},[h]),v=(0,b.useCallback)(function(){h({operation:"replace",pane:{type:"neon"}})},[h]),y=(0,g._)((0,b.useState)("overview"),2),w=y[0],_=y[1],S=(0,b.useCallback)(function(e){_(e),v()},[v]),A=(0,g._)((0,b.useState)(rA.J(wt,f)?f.databaseId:null),2),k=A[0],C=A[1],Y=(0,g._)((0,b.useState)(rA.J(wt,f)?"db-page":"overview-page"),2),E=Y[0],x=Y[1];(0,b.useEffect)(function(){f&&rA.J(wt,f)&&(x("db-page"),C(f.databaseId))},[f]);var T=(0,g._)((0,b.useState)(null),2),D=T[0],I=T[1],R=(0,g._)((0,b.useState)(null),2),N=R[0],O=R[1],P=(0,b.useCallback)(function(e){I(e),v()},[v]),F=(0,b.useCallback)(function(e){O(e),v()},[v]),U=(0,b.useCallback)(function(e){C(e),v()},[v]),L=(t=(n=(0,y4.GK)()).database,r=n.loading,i=(a=(0,y4.UK)()).database,o=a.loading,l=(s=(0,y3.g)()).database,u=s.loading,c=[t,i].filter(Boolean),{databases:(0,b.useMemo)(function(){return(0,ev._)(c.map(function(e){var n;return(0,nh._)((0,eg._)({},e),{kind:"neon",maxSizeBytes:parseFloat(null!=(n=e.quotaLogicalSizeBytes)?n:"0")})})).concat((0,ev._)(l&&void 0===t?[l]:[]))},[c,l,t]),loading:r||o||u}),M=L.databases,J=L.loading;return(0,p.Y)(wr.Provider,{value:{selectedTab:w,selectTab:S,selectedPage:E,selectPage:x,selectedSchema:D,selectSchema:P,selectedTable:N,selectTable:F,selectedDatabaseId:k,selectDatabaseId:U,databases:M,loading:J,openPane:m},children:d})},wi=function(){var e=(0,b.useContext)(wr);if(!e)throw Error("useDatabaseContext must be used within a DatabasePaneProvider");return e},wo=(0,b.createContext)(null),ws=function(){var e=(0,b.useContext)(wo);if(!e)throw Error("useRefreshContext must be used within a RefreshProvider");return e},wl=function(e,n){var t=ws(),r=t.registerRefresh,a=t.unregisterRefresh;(0,b.useEffect)(function(){if(n)return r(e,n),function(){return a(e)}},[e,n,r,a])};function wu(e,n){return(0,b.useCallback)(function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return(0,y._)(function(){var t;return(0,w.YH)(this,function(a){switch(a.label){case 0:n(!0),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,e.apply(void 0,(0,ev._)(r))];case 2:return a.sent(),[3,5];case 3:return t=a.sent(),id.Cp(t),[3,5];case 4:return n(!1),[7];case 5:return[2]}})})()},[e,n])}var wc=function(e){var n=e.children,t=(0,g._)((0,b.useState)(!1),2),r=t[0],a=t[1],i=wi().selectedPage,o=(0,b.useRef)(new Map),s=(0,b.useCallback)(function(e,n){o.current.set(e,n)},[]),l=(0,b.useCallback)(function(e){o.current.delete(e)},[]),u=wu(function(e){return(0,y._)(function(){var n;return(0,w.YH)(this,function(t){switch(t.label){case 0:return[4,null==(n=o.current.get(e))?void 0:n()];case 1:return t.sent(),[2]}})})()},a),c=wu(function(){return(0,y._)(function(){var e,n;return(0,w.YH)(this,function(t){switch(t.label){case 0:if("overview-page"!==i)return[3,2];return[4,Promise.all([null==(e=o.current.get(i))?void 0:e()].concat((0,ev._)(Array.from(o.current.entries()).map(function(e){var n=(0,g._)(e,2),t=n[0],r=n[1];return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(!t.startsWith("database-item-"))return[3,2];return[4,r()];case 1:return e.sent(),[3,3];case 2:return[2,Promise.resolve()];case 3:return[2]}})})()}))))];case 1:return t.sent(),[3,4];case 2:return[4,null==(n=o.current.get(i))?void 0:n()];case 3:t.sent(),t.label=4;case 4:return[2]}})})()},a);return(0,p.Y)(wo.Provider,{value:{refreshing:r,registerRefresh:s,unregisterRefresh:l,refreshByKey:u,refreshCurrentContext:c},children:n})},wd=t(75690),wf=t(61837),wp=t.n(wf),wh=nZ.S.backgroundPulse(U.LU.backgroundHigher,U.LU.backgroundHighest),wm=function(e){var n,t=e.name,r=e.storage,a=e.loading,i=e.onClick,o=e.isSelected,s=e.isFrozen,l=void 0!==s&&s;return(0,p.FD)(W.S,{row:!0,align:"center",justify:"space-between",clsx:(n={},(0,v._)(n,wp().container,i),(0,v._)(n,wp().containerSelected,i&&void 0!==o&&o),(0,v._)(n,wp().containerNotClickable,!i),n),onClick:i,children:[(0,p.FD)(W.S,{row:!0,align:"center",gap:12,children:[l?(0,p.Y)(bc.A,{}):(0,p.Y)(yT.A,{}),(0,p.FD)(W.S,{children:[(0,p.Y)(G.EY,{variant:"subheadDefault",children:t}),a?(0,p.Y)(W.S,{css:wh,className:wp().skeletonText}):(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:l?"Database is paused":r})]})]}),i?(0,p.Y)(a0.A,{}):null]})},wv=t(72352),wg=t(53254),wb=t.n(wg),wy=nZ.S.backgroundPulse(U.LU.backgroundHigher,U.LU.backgroundHighest),ww=function(e){var n=e.databases,t=e.onSelectDatabase,r=(0,yX.pK)(),a=r.data,i=r.refetch,o=(0,b.useMemo)(function(){return function(e){var n,t,r=e.data;if((null==r||null==(n=r.currentUser)?void 0:n.__typename)==="CurrentUser"){var a=null==r||null==(t=r.currentUser)?void 0:t.usageInterval;if(a&&"UsageInterval"===a.__typename){var i=a.resources.neonComputeTime.usage;return{computeTimeUsageFormatted:(0,wv.h7)(i,{resourceUsageType:"Hours"}),renewalInfo:new Date(a.endDate).toLocaleString("default",{month:"short",day:"numeric"})}}}}({data:a})},[a]),s=void 0===o;return wl("overview-page",i),(0,p.Y)(W.S,{row:!1,className:wb().wrapper,children:(0,p.FD)(W.S,{p:16,gap:8,grow:1,children:[(0,p.Y)(G.EY,{variant:"subheadDefault",children:"Databases"}),(0,p.Y)(W.S,{className:wb().databaseGrid,children:n.map(function(e){return(0,p.Y)(w_,{database:e,onSelectDatabase:t},e.databaseId)})}),(0,p.FD)(W.S,{gap:8,pt:8,children:[(0,p.Y)(G.EY,{variant:"subheadDefault",children:"Billing Period"}),s?(0,p.Y)(W.S,{css:wy,className:wb().skeletonText}):(0,p.FD)(G.EY,{variant:"small",color:"dimmer",children:["Renews monthly, ",null==o?void 0:o.renewalInfo]})]}),(0,p.FD)(W.S,{gap:8,pt:8,children:[(0,p.Y)(G.EY,{variant:"subheadDefault",children:"Hours of Compute Used"}),s?(0,p.Y)(W.S,{css:wy,className:wb().skeletonText}):(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:null==o?void 0:o.computeTimeUsageFormatted})]})]})})},w_=function(e){var n=e.database,t=e.onSelectDatabase,r=wi().selectPage,a=(0,wd.WA)(n),i=a.databaseSize,o=a.loading,s=a.refetch;wl("database-item-".concat(n.databaseId),s);var l="".concat(y2(i)," / ").concat(y2(n.maxSizeBytes));return(0,p.Y)(wm,{name:"neon"===n.kind&&"production"===n.type?"Production Database":"Development Database",isFrozen:"neon"===n.kind&&n.isFrozen,loading:o,storage:l,onClick:function(){t(n),r("db-page")}})},wS=t(25423),wA=t(63827),wk=t(67879);function wC(){var e=(0,eb._)(["\n  query NeonStartPage($replId: String!) {\n    currentUser {\n      id\n      usageInterval {\n        ... on UsageInterval {\n          resources {\n            neonComputeTime {\n              allotment\n              usage\n            }\n            neonDataStorage {\n              allotment\n              usage\n            }\n          }\n        }\n      }\n    }\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        authorizations {\n          createDatabase {\n            isAuthorized\n            code\n            message\n          }\n        }\n      }\n    }\n  }\n"]);return wC=function(){return e},e}var wY={},wE=(0,ey.J1)(wC()),wx=t(938),wT=t(69424),wD=t(77410),wI="DATABASE_URL",wR="PGDATABASE",wN="PGHOST",wO="PGPORT",wP="5432",wF="PGUSER",wU="PGPASSWORD",wL=function(e){var n=e.connectionString,t=e.databaseName,r=new URL(n.replace("postgres://","https://").replace("postgresql://","https://"));return new Map([[wI,n],[wR,t],[wN,r.host],[wO,wP],[wF,r.username],[wU,r.password]])},wM=function(e){(0,ah.u4)(ah.AZ.DATABASE_USED,(0,eg._)({type:"PostgreSQL",provider:"neon"},e))},wJ=t(13315),wH=t(73921),wB=t.n(wH),wV=function(e){var n=e.envVarKey,t=e.envVarValue,r=e.isSecret,a=(0,nK.c)()("db-env-var-".concat(n)),i=(0,g._)((0,b.useState)(!1),2),o=i[0],s=i[1];return(0,p.FD)(W.S,{gap:8,py:8,row:!0,align:"center",children:[(0,p.Y)("label",{clsx:wB().envVarLabel,htmlFor:a,children:n}),(0,p.Y)(W.S,{grow:!0,shrink:!0,children:(0,p.Y)(H.pd,{id:a,type:!r||o?"text":"password",readOnly:!0,value:t})}),(0,p.FD)(W.S,{align:"center",gap:8,row:!0,children:[(0,p.Y)(M.$n,{text:"",iconLeft:(0,p.Y)(j.A,{}),onClick:function(){(0,P.default)(t),wM({action:"envVarCopied",envVarKey:n,envVarType:"value"})}}),r?(0,p.Y)(M.$n,{text:"",iconLeft:o?(0,p.Y)(wJ.A,{}):(0,p.Y)(vG.A,{}),onClick:function(){return s(function(e){return!e})}}):null]})]})},w$=function(e){return(0,b.useCallback)(function(n){return function(e){return(0,y._)(function(e){var n,t;return(0,w.YH)(this,function(r){switch(r.label){case 0:return n=e.secrets,t=wL({connectionString:e.connectionString,databaseName:e.databaseName}),[4,(0,y._)(function(){var e,r,a,i,o,s,l,u,c,d;return(0,w.YH)(this,function(f){switch(f.label){case 0:return[4,n.read()];case 1:e=f.sent(),r=new Map,a=!0,i=!1,o=void 0;try{for(s=t[Symbol.iterator]();!(a=(l=s.next()).done);a=!0)c=(u=(0,g._)(l.value,2))[0],d=u[1],e.get(c)!==d&&r.set(c,d)}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}return r.size>0&&n.addEntries(r),[2]}})})()];case 1:return r.sent(),[2]}})}).apply(this,arguments)}({secrets:e,connectionString:n.connectionString,databaseName:n.databaseName})},[e])},wG=function(e){var n=e.database;return"neon"===n.kind?(0,p.Y)(wz,{connectionString:n.connectionString,databaseName:n.databaseName,databaseType:n.type}):(0,p.Y)(W.S,{gap:8,children:(0,p.Y)(wV,{envVarKey:wI,envVarValue:n.connectionString,isSecret:!0})})},wz=function(e){var n=e.connectionString,t=e.databaseName,r=e.databaseType,a=(0,mu.A)(function(){return wL({connectionString:n,databaseName:t})},[n,t]),i=a.get(wN),o=a.get(wF),s=a.get(wU);if("string"!=typeof i||"string"!=typeof o||"string"!=typeof s)throw Error("Expected all envVars to exist");var l=w$((0,k.A)().secrets);return(0,b.useEffect)(function(){"production"!==r&&l({connectionString:n,databaseName:t})},[r,n,t,l]),(0,p.FD)(W.S,{children:[(0,p.Y)(wV,{envVarKey:wI,envVarValue:n,isSecret:!0}),(0,p.Y)(wV,{envVarKey:wR,envVarValue:t}),(0,p.Y)(wV,{envVarKey:wN,envVarValue:i}),(0,p.Y)(wV,{envVarKey:wO,envVarValue:wP}),(0,p.Y)(wV,{envVarKey:wF,envVarValue:o}),(0,p.Y)(wV,{envVarKey:wU,envVarValue:s,isSecret:!0})]})},wW=t(4659),wj=t(11218),wq=t(38675),wZ=t(5862),wK=t.n(wZ);function wQ(e){var n=e.loadingAgentCreate,t=e.loading,r=e.createDatabaseAuthz,a=e.handleOnCreate,i=e.refetchUbbCapabilitiesQueryData,o=e.onShowPaymentMethodForm,s=e.isPaymentMethodFormShown,l=e.onShowSupportForm,u=e.hasOneClickCreation,c=e.replId,d=e.handleAgentCreate,f=(0,ta.useRouter)(),h=(0,oC.Po)(f),m=(0,oU.e)();(0,wD.A)({onChange:i});var v=(0,wT.r)();if(!r)return(0,p.Y)(W.S,{gap:8,align:"center",children:(0,p.Y)(a$.A,{})});if(!r.isAuthorized&&h&&v.includes(r.code))return(0,p.Y)(tU.N,{text:r.message,colorway:"warning",icon:(0,p.Y)(rJ.A,{}),clsx:wK().ctaStatusBanner});switch(r.code){case tN.S4P.RequiresPaymentMethodOrSubscription:return(0,p.Y)(W.S,{gap:8,align:"center",children:(0,p.Y)(oT.A,{context:"workspace_postgresql_pane",text:"Upgrade your plan to create a database",clsx:wK().cta,colorway:"primary",variant:"default",disabled:s,onPlanCheckoutComplete:i,modalHeadingText:"Upgrade your plan to create a database",redirectPath:m})});case tN.S4P.RequiresActiveSubscription:return(0,p.FD)(W.S,{gap:8,align:"center",children:[(0,p.Y)(oT.A,{context:"workspace_postgresql_pane",text:"Upgrade your plan to create a database",clsx:wK().cta,colorway:"primary",variant:"default",disabled:s,onPlanCheckoutComplete:i,modalHeadingText:"Upgrade your plan to create a database",redirectPath:m}),(0,p.Y)(M.$n,{variant:"nofill",colorway:"primary",text:"or add a payment method",clsx:wK().cta,disabled:s,loading:t,iconLeft:(0,p.Y)(wq.A,{}),onClick:o})]});case tN.S4P.RequiresSmsVerification:return(0,p.Y)(wx.A,{context:tN.SGY.Neon,onSuccess:i});case tN.S4P.RequiresPaymentMethod:return(0,p.Y)(M.$n,{colorway:"primary",text:"Add a payment method",clsx:wK().cta,disabled:s,loading:t,iconLeft:(0,p.Y)(wq.A,{}),onClick:o});case tN.S4P.RequiresUnbanning:return(0,p.Y)(fd.d,{text:"Your account currently has restrictions on creating a database. We're here to help! Please reach out to support@replit.com for assistance.",colorway:"warning",iconLeft:(0,p.Y)(rJ.A,{}),clsx:wK().ctaStatusBanner,onClick:l});case tN.S4P.InsufficientBudget:return(0,p.FD)(p.FK,{children:[(0,p.Y)(tU.N,{text:"You've reached your monthly usage budget. Increase your budget to create a database.",colorway:"warning",icon:(0,p.Y)(rJ.A,{}),clsx:wK().ctaStatusBanner}),(0,p.Y)(wj.h,{onUpdateSuccess:i,replId:c})]});case tN.S4P.PaymentDelinquent:return(0,p.Y)(dy.E,{onClick:o});case tN.S4P.FeatureDisabled:case tN.S4P.FeatureUnsupportedForReplitTeams:case tN.S4P.FeatureUnsupportedForTeamsEdu:case tN.S4P.FeatureUnsupportedForTeamsFree:case tN.S4P.FeatureUnsupportedForTeamsPro:case tN.S4P.InsufficientPermissions:case tN.S4P.InsufficientQuota:case tN.S4P.RequiresActiveTeamsSubscription:case tN.S4P.RequiresEmailVerification:return(0,p.Y)(tU.N,{text:r.message,colorway:"warning",icon:(0,p.Y)(rJ.A,{}),clsx:wK().ctaStatusBanner});case tN.S4P.Authorized:case tN.S4P.AuthorizedQuota:return(0,p.Y)(W.S,{gap:8,align:"center",children:u?(0,p.FD)(p.FK,{children:[(0,p.Y)(rp.C,{className:wK().cta,onSendAgentMessage:d,loading:n,disabled:t,buttonText:"Ask ".concat(tR.g$," to set up a database"),menuPrefix:"Ask"}),(0,p.Y)(M.$n,{onClick:a,clsx:wK().cta,text:t?"":"Create a database manually",iconLeft:t?(0,p.Y)(a$.A,{}):(0,p.Y)(p.FK,{}),loading:t,disabled:n})]}):(0,p.Y)(M.$n,{colorway:"primary",onClick:a,clsx:wK().cta,text:t?"":"Create a database",iconLeft:t?(0,p.Y)(a$.A,{}):(0,p.Y)(p.FK,{}),loading:t})});case tN.S4P.RequiresEnterprisePlan:return;default:(0,r_.A)(r.code)}}function wX(e){var n,t,r,a,i,o,s,l,u,c,d,f,h,m,v=e.onShowSupportForm,S=e.onAgentMessageSent,A=(0,g._)((0,b.useState)(!1),2),C=A[0],Y=A[1],E=(0,O.A)(),x=(0,nj.A)().showError,T=(t=(n={openPane:wi().openPane,onAgentMessageSent:S}).openPane,r=n.onAgentMessageSent,a=(0,nj.A)().showError,o=(i=(0,g._)((0,b.useState)(!1),2))[0],s=i[1],l=(0,om._P)({controlName:"agent-empty-state-db-creation"}),u=(0,_.jt)()&&l,c=(0,b.useCallback)(function(e){s(!1),a("Error creating Agent chat: ".concat((0,np._)(e,Error)?e.message:"Unknown error"))},[a]),d=(0,rh.c)({openPane:t,onError:c}),f=(0,b.useCallback)(function(e){return(0,y._)(function(){return(0,w.YH)(this,function(n){switch(n.label){case 0:if(!u)return[2];return s(!0),[4,d({kind:"requestFeatureAdd",feature:I.vqu.REQUEST_FEATURE_ADD_TYPE_NEON_DATABASE},e)];case 1:return n.sent(),s(!1),r&&r(),[2]}})})()},[u,d,r]),{hasOneClickCreation:u,didStartAgentCreation:o,handleAgentCreate:f}),D=T.didStartAgentCreation,R=T.handleAgentCreate,N=T.hasOneClickCreation,P=(h={notifyOnNetworkStatusChange:!0,variables:{replId:E},onError:function(e){x(e.message)}},m=(0,eg._)({},wY,h),ew.I(wE,m)),F=P.loading,U=P.data,L=P.refetch,M=(0,k.A)(),J=M.psql,H=w$(M.secrets),B=(0,g._)((0,wk.ou)({refetchQueries:[{query:wA.Or,variables:{input:{replId:E}}}],onError:function(e){x("Error when creating Neon database: ".concat(e.message)),wM({action:"created",success:!1})},update:function(e,n){var t=n.data;(null==t?void 0:t.createNeonDatabase.__typename)==="CreateNeonDatabaseResult"&&e.writeQuery({query:wA.Or,variables:{input:{replId:E}},data:{__typename:"RootQueryType",getNeonDatabases:{__typename:"GetNeonDatabasesResult",databases:[t.createNeonDatabase.database]}}})},onCompleted:function(e){return(0,y._)(function(){var n,t;return(0,w.YH)(this,function(r){switch(r.label){case 0:if((null==e?void 0:e.createNeonDatabase.__typename)!=="CreateNeonDatabaseResult")return[3,5];if(!(0,wW.I)(e.createNeonDatabase.database))return x("Error: could not create database, please try again"),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,J.ensureNixPsqlModuleInstalled(!0)];case 2:return r.sent(),H({connectionString:(n=e.createNeonDatabase.database).connectionString,databaseName:n.databaseName}),wM({action:"created",success:!0}),[3,4];case 3:return t=r.sent(),x("Error: ".concat(t.message)),[3,4];case 4:return[3,6];case 5:return x("Error: ".concat(null==e?void 0:e.createNeonDatabase.message)),wM({action:"created",success:!1}),[2];case 6:return[2]}})})()}}),2),V=B[0],$=B[1].loading,G=(null==U?void 0:U.getRepl.__typename)==="Repl"?U.getRepl.authorizations.createDatabase:void 0;return(0,p.FD)(p.FK,{children:[(0,p.Y)(wQ,{loadingAgentCreate:D,handleAgentCreate:R,hasOneClickCreation:N,replId:E,loading:F||$,createDatabaseAuthz:G,handleOnCreate:function(){V({variables:{input:{replId:E}}})},refetchUbbCapabilitiesQueryData:L,onShowPaymentMethodForm:function(){return Y(!0)},isPaymentMethodFormShown:C,onShowSupportForm:v||function(){}}),(0,p.Y)(tP.v,{href:"https://docs.replit.com/cloud-services/storage-and-databases/postgresql-on-replit",variant:"nofill",target:"_blank",rel:"noopener",iconLeft:(0,p.Y)(yY.A,{}),text:"Learn more"}),C?(0,p.Y)(ex.ui,{elevated:!0,clsx:wK().payment,p:16,children:(0,p.Y)(dD.y,{onClose:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:return Y(!1),[4,L()];case 1:return e.sent(),[2]}})})()},context:"workspace_postgresql_pane"})}):null]})}var w0=t(44783),w1=t.n(w0);function w2(e){return"neon"===e.kind&&"development"===e.type||"helium"===e.kind}function w3(e){return"neon"===e.kind&&"production"===e.type}function w4(e){var n=e.selectedDatabase;return(0,p.Y)(M.$n,{size:"default",variant:"nofill",text:"".concat(w2(n)?"Development":"Production"," Database"),iconRight:(0,p.Y)(tW.A,{size:12})})}function w5(e){var n=e.selectedDatabase,t=e.databases,r=e.onSelect,a=e.setIsCreateDatabaseOpen,i=e.hasDevelopmentDatabase,o=function(e){return w2(e)?"Development":"Production"};return(0,p.FD)(ac.in,{label:o(n),items:t,trigger:(0,p.Y)(w4,{selectedDatabase:n}),children:[t.map(function(e){return(0,p.Y)(ac.Dr,{icon:(0,p.Y)(rL.A,{visibility:e.databaseId===n.databaseId?"visible":"hidden"}),id:e.databaseId,label:o(e),onAction:function(){r(e)},isDisabled:e.databaseId===n.databaseId},e.databaseId)}),i?null:(0,p.Y)(ac.Dr,{icon:(0,p.Y)(u6.A,{}),id:"create-development",label:"Create Development Database",onAction:function(){a(!0)}})]})}function w7(e){var n=e.dismissDatabaseTour;return(0,p.FD)(W.S,{clsx:w1().productionDatabaseTourContent,gap:12,p:16,children:[(0,p.Y)(G.EY,{variant:"subheadDefault",children:"Not sure where your data went? Check your Production database."}),(0,p.Y)(G.EY,{children:"Replit now uses separate production and development databases to keep your live data safe."}),(0,p.FD)(W.S,{row:!0,align:"center",justify:"end",gap:8,children:[(0,p.Y)(tP.v,{href:"https://docs.replit.com/cloud-services/storage-and-databases/production-databases",target:"_blank",text:"Learn more"}),(0,p.Y)(M.$n,{onClick:n,text:"Got it",colorway:"primary"})]})]})}function w9(e){var n=e.onSelect,t=e.selectedDatabase,r=e.databases,a=wi().selectedPage,i=(0,g._)((0,b.useState)(!1),2),o=i[0],s=i[1],l=r.some(w2),u=r.some(w3),c=(0,wS.A)("workspace","workspace-database-pane-toggle-tour"),d=c.shouldDisplay,f=c.register,h=c.dismiss,m=(0,g._)((0,b.useState)(!0),2),v=m[0],y=m[1],w=u&&l&&"db-page"===a&&w2(t),_=(0,Y._Q)(),S=(null==_?void 0:_.type)==="neon";(0,b.useEffect)(function(){w&&f()},[w,f]);var A=w&&d&&v&&S;return(0,p.FD)(p.FK,{children:[(0,p.Y)(W.S,{children:A?(0,p.FD)(tz.Wv,{isOpen:A,onOpenChange:y,label:"Database toggle tour",placement:"bottom",arrow:!0,offset:4,children:[(0,p.Y)("div",{children:(0,p.Y)(w5,{selectedDatabase:t,databases:r,onSelect:n,setIsCreateDatabaseOpen:s,hasDevelopmentDatabase:l})}),(0,p.Y)(w7,{dismissDatabaseTour:h})]}):(0,p.Y)(w5,{selectedDatabase:t,databases:r,onSelect:n,setIsCreateDatabaseOpen:s,hasDevelopmentDatabase:l})}),(0,p.Y)(tF.a,{fitContent:!0,isOpen:o,onRequestClose:function(){return s(!1)},children:(0,p.FD)(ex.ui,{children:[(0,p.Y)(G.Y9,{level:1,variant:"subheadBig",children:"Create a Database"}),(0,p.Y)(W.S,{gap:8,clsx:w1().wrapper,children:(0,p.Y)(wX,{onAgentMessageSent:function(){return s(!1)}})})]})})]})}var w8=t(70736),w6=t.n(w8),_e=function(e){var n=e.onSelectDatabase,t=e.selectedDatabase,r=e.databases,a=e.onShowAllDatabases,i=wi(),o=i.selectedPage,s=i.selectedTab,l=ws(),u=l.refreshCurrentContext,c=l.refreshing;return(0,p.FD)(W.S,{justify:"space-between",row:!0,px:8,py:4,align:"center",className:w6().selectorBar,children:[(0,p.FD)(W.S,{row:!0,align:"center",children:[(0,p.Y)(M.$n,{variant:"nofill",text:"All Databases",onClick:a}),"overview-page"===o?null:(0,p.FD)(p.FK,{children:[(0,p.Y)(a0.A,{}),(0,p.Y)(w9,{onSelect:n,selectedDatabase:t,databases:r})]})]}),"drizzle-studio"===s?null:(0,p.Y)(M.$n,{iconLeft:c?(0,p.Y)(a$.A,{}):(0,p.Y)(sI.A,{}),variant:"nofill",text:"Refresh",size:"small",onClick:u})]})};function _n(){var e=(0,eb._)(["\n  fragment CurrentUserUsageBasedBillingSummary on CurrentUser {\n    __typename\n    usageBasedBilling {\n      __typename\n      ... on UserUsageBasedBillingSummary {\n        capabilities {\n          canUseUsageBasedBilling\n          explanation\n          hasPaymentMethod\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n"]);return _n=function(){return e},e}var _t=(0,ey.J1)(_n());function _r(){var e=(0,eb._)(["\n  query DatabaseFrozen {\n    currentUser {\n      id\n      userSubscriptionType\n      ...CurrentUserUsageBasedBillingSummary\n    }\n  }\n  ","\n"]);return _r=function(){return e},e}var _a={},_i=(0,ey.J1)(_r(),_t),_o=t(16693),_s=t(70402);function _l(){var e=(0,eb._)(["\n  fragment DatabaseIsEphemeralReasonUser on CurrentUser {\n    id\n    ...UserPlanStateCurrentUser\n    isMemberOfAnyOrg\n  }\n  ","\n"]);return _l=function(){return e},e}function _u(){var e=(0,eb._)(["\n  query GetDatabaseIsEphemeralReasonUser {\n    currentUser {\n      id\n      ...DatabaseIsEphemeralReasonUser\n    }\n  }\n  ","\n"]);return _u=function(){return e},e}var _c={},_d=(0,ey.J1)(_l(),_s.o),_f=(0,ey.J1)(_u(),_d),_p=t(43193),_h=(0,eo.x)({emphasis:[es.wp.fontWeight.medium,es.wp.flex.shrink(1)],row:[es.wp.rowWithGap(8),es.wp.align.center],rowText:[es.wp.flex.shrink(1)]});function _m(e){var n=e.title,t=e.isFrozen,r=e.scheduledFreezeTime,a=e.scheduledDeletionTime,i=new Date,o=r?(0,_o.A)(new Date(r),i):-1,s=a?(0,_o.A)(new Date(a),i):-1;return(0,p.FD)(W.S,{gap:4,children:[(0,p.Y)(W.S,{pr:2,row:!0,gap:4,align:"center",justify:"space-between",children:(0,p.Y)(G.EY,{css:_h.emphasis,children:void 0===n?"Upgrade for a permanent database":n})}),(0,p.Y)(G.EY,{variant:"small",children:"Databases created on your free Starter plan are temporary."}),(0,p.FD)(W.S,{pt:2,gap:8,children:[t?(0,p.FD)(W.S,{css:_h.row,children:[(0,p.Y)(of.A,{size:16}),(0,p.Y)(G.EY,{css:_h.rowText,variant:"small",children:"Your database has been paused, preventing further edits."})]}):null,!t&&o>-1?(0,p.FD)(W.S,{css:_h.row,children:[(0,p.Y)(of.A,{size:16}),(0,p.FD)(G.EY,{css:_h.rowText,variant:"small",children:[(0,p.FD)("span",{css:_h.emphasis,children:["In ",o," days:"]})," ","Your database will be paused, preventing further edits."]})]}):null,s>-1?(0,p.FD)(W.S,{css:_h.row,children:[(0,p.Y)(_p.A,{size:16}),(0,p.FD)(G.EY,{css:_h.rowText,variant:"small",children:[(0,p.FD)("span",{css:_h.emphasis,children:["In ",s," days:"]})," ","Your database will be permanently deleted."]})]}):null]})]})}function _v(e){var n=e.isFrozen,t=e.scheduledFreezeTime,r=e.scheduledDeletionTime,a=(0,oU.e)();return!function(){var e,n,t,r=(0,cl.ET)().orgId,a=(e={},n=(0,eg._)({},_c,e),ew.I(_f,n)),i=a.data;if(a.loading)return!1;var o=(null==i||null==(t=i.currentUser)?void 0:t.__typename)==="CurrentUser"?i.currentUser:void 0;return!(null==o?void 0:o.isMemberOfAnyOrg)&&!(null==o?void 0:o.userSubscriptionType)&&void 0===r}()?null:(0,p.Y)(W.S,{children:(0,p.Y)(tU.N,{text:(0,p.FD)(W.S,{children:[(0,p.Y)(_m,{isFrozen:n,scheduledFreezeTime:t,scheduledDeletionTime:r}),(0,p.Y)(W.S,{pt:12,pb:4,children:(0,p.Y)(oT.A,{context:"workspace_ephemeral_postgres_database_banner",text:"Upgrade to Replit ".concat(ox.en),colorway:"brand",variant:"outlined",redirectPath:a})})]})})})}var _g=(0,eo.x)({cta:[es.wp.width("100%")],ctaStatusBanner:[es.wp.textAlign.left]});function _b(e){var n=e.loading,t=e.ubbExplanation,r=e.hasPaymentMethod,a=e.handleOnUnpause,i=e.refetchUbbCapabilitiesQueryData,o=e.setShowPaymentMethodForm,s=e.showPaymentMethodForm,l=e.setShowSupportForm,u=e.replId,c=(0,oC.m6)(),d=(0,oU.e)(),f=(0,cl.ET)(),h=f.orgId,m=f.orgRole,v=f.orgSlug;if(void 0!==h)if(m!==tN.v7i.SystemAdmins)return(0,p.Y)(tU.N,{text:"Your database has been frozen. Please contact your organization admin to address outstanding invoices",colorway:"warning",icon:(0,p.Y)(rJ.A,{}),css:_g.ctaStatusBanner});else{var g=v?"".concat((0,cu.EG)({slug:v}).settings.href,"/billing"):"#";return(0,p.Y)(tU.N,{text:"Your database has been frozen. Address outstanding invoices to unfreeze it",colorway:"warning",icon:(0,p.Y)(rJ.A,{}),css:_g.ctaStatusBanner,action:(0,p.Y)(hx(),{href:g,children:(0,p.Y)(M.$n,{colorway:"warning",text:"View invoices"})})})}return t===tN.sbu.NeedsSubscription||t===tN.sbu.NeedsSubscriptionOrPaymentMethod?c?(0,p.Y)(tU.N,{text:"You need a subscription to use PostgreSQL databases. Navigate to Account > Billing to upgrade.",colorway:"warning",icon:(0,p.Y)(rJ.A,{}),css:_g.ctaStatusBanner}):(0,p.FD)(p.FK,{children:[(0,p.Y)(oT.A,{context:"workspace_postgresql_pane",text:"Upgrade your plan to unpause database",css:_g.cta,colorway:"primary",variant:"outlined",disabled:s,onPlanCheckoutComplete:i,modalHeadingText:"Upgrade your plan to unpause database",redirectPath:d}),(0,p.Y)(M.$n,{variant:"nofill",colorway:"primary",text:"or add a payment method",css:_g.cta,disabled:s,loading:n,iconLeft:(0,p.Y)(de.A,{}),onClick:function(){return o()}})]}):t===tN.sbu.NeedsSmsVerification?(0,p.Y)(wx.A,{context:tN.SGY.Neon,onSuccess:i}):t===tN.sbu.NeedsPaymentMethod?c?(0,p.Y)(tU.N,{text:"You have used all free usage for this month. Check your email for more information or contact support.",colorway:"warning",icon:(0,p.Y)(rJ.A,{}),css:_g.ctaStatusBanner}):(0,p.Y)(M.$n,{colorway:"primary",text:"Add a payment method",css:_g.cta,disabled:s,loading:n,iconLeft:(0,p.Y)(de.A,{}),onClick:function(){return o()}}):t===tN.sbu.NeedsUnbanning?(0,p.Y)(fd.d,{text:"Your account currently has restrictions on use PostgreSQL databases. We're here to help! Please reach out to support@replit.com for assistance.",colorway:"warning",iconLeft:(0,p.Y)(rJ.A,{}),css:_g.ctaStatusBanner,onClick:function(){return l()}}):t===tN.sbu.InsufficientBudget?(0,p.FD)(p.FK,{children:[(0,p.Y)(tU.N,{text:"You've reached your monthly usage budget. Increase your budget to unpause your database.",colorway:"warning",icon:(0,p.Y)(rJ.A,{}),css:_g.ctaStatusBanner}),(0,p.Y)(wj.h,{onUpdateSuccess:i,replId:u})]}):(0,p.FD)(p.FK,{children:[(0,p.Y)(M.$n,{colorway:"primary",onClick:a,text:"Unpause database",loading:n,css:_g.cta}),!1===r?(0,p.Y)(fd.d,{text:"Add a payment method to avoid downtime",colorway:"warning",iconLeft:(0,p.Y)(rJ.A,{}),css:_g.ctaStatusBanner,onClick:function(){return c?null:o()}}):null]})}function _y(e){var n=e.neonDatabase,t=e.replId;return n.isEphemeral?(0,p.Y)(_v,{isFrozen:n.isFrozen,scheduledFreezeTime:n.scheduledFreezeTime,scheduledDeletionTime:n.scheduledDeletionTime}):(0,p.Y)(_w,{replId:t,neonProjectId:n.projectId})}function _w(e){var n,t,r,a=e.replId,i=e.neonProjectId,o=(0,g._)((0,b.useState)(!1),2),s=o[0],l=o[1],u=(0,g._)((0,b.useState)(!1),2),c=u[0],d=u[1],f=(0,nj.A)().showError,h=(n={notifyOnNetworkStatusChange:!0,onError:function(e){f(e.message)}},t=(0,eg._)({},_a,n),ew.I(_i,t)),m=h.loading,v=h.data,y=h.refetch,w=(0,g._)((0,wk.Yc)({refetchQueries:[{query:wA.Or,variables:{input:{replId:a}}}],onError:function(e){f("Error when unfreezing Neon database: ".concat(e.message)),wM({action:"unfreeze",success:!1})},update:function(e,n){var t,r=n.data,o=e.readQuery({query:wA.Or,variables:{input:{replId:a}}});(null==r?void 0:r.unfreezeNeonDatabase.__typename)==="UnfreezeNeonDatabaseResult"&&(null==o||null==(t=o.getNeonDatabases)?void 0:t.__typename)==="GetNeonDatabasesResult"&&e.writeQuery({query:wA.Or,variables:{input:{replId:a}},data:{__typename:"RootQueryType",getNeonDatabases:{__typename:"GetNeonDatabasesResult",databases:o.getNeonDatabases.databases.map(function(e){return e.projectId===i?(0,nh._)((0,eg._)({},e),{isFrozen:!1}):e})}}})},onCompleted:function(e){if((null==e?void 0:e.unfreezeNeonDatabase.__typename)!=="UnfreezeNeonDatabaseResult"){f("Error: Unfreezes Neon Database failed."),wM({action:"unfreeze",success:!1});return}(null==e?void 0:e.unfreezeNeonDatabase.success)?wM({action:"unfreeze",success:!0}):(f("Error: Unfreezes Neon Database failed."),wM({action:"unfreeze",success:!1}))}}),2),_=w[0],S=w[1].loading,A=(null==v||null==(r=v.currentUser)?void 0:r.usageBasedBilling.__typename)==="UserUsageBasedBillingSummary"?v.currentUser.usageBasedBilling.capabilities:null;return(0,p.FD)(p.FK,{children:[(0,p.Y)(tF.a,{isOpen:c,onRequestClose:function(){return d(!1)},children:(0,p.Y)(tL.A,{onRequestClose:function(){return d(!1)}})}),(0,p.Y)(W.S,{gap:8,children:(0,p.Y)(_b,{replId:a,loading:m||S,ubbExplanation:null==A?void 0:A.explanation,hasPaymentMethod:null==A?void 0:A.hasPaymentMethod,handleOnUnpause:function(){_({variables:{input:{replId:a,neonProjectId:i}}})},refetchUbbCapabilitiesQueryData:y,setShowPaymentMethodForm:function(){return l(!0)},showPaymentMethodForm:s,setShowSupportForm:function(){return d(!0)}})})]})}var __=t(94466),_S=t.n(__),_A=nZ.S.backgroundPulse(U.LU.backgroundHigher,U.LU.backgroundHighest);function _k(e){var n=e.database,t=e.replId,r=e.connectionString,a=(0,wd.Jc)({connectionString:r}),i=a.tables,o=a.loading;wl("overview-tab",a.refetch);var s="neon"===n.kind&&n.isFrozen;return(0,p.Y)(p.FK,{children:(0,p.FD)(W.S,{gap:8,pt:1,children:[s?(0,p.Y)(_y,{neonDatabase:n,replId:t}):null,(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(G.EY,{variant:"subheadDefault",children:"Tables"}),(0,p.Y)(_C,{tables:i,tablesLoading:o})]})]})})}var _C=function(e){var n=e.tables,t=e.tablesLoading,r=wi(),a=r.selectTab,i=r.selectSchema,o=r.selectTable;return t?(0,p.Y)(_Y,{}):0===n.length?(0,p.Y)(G.EY,{children:"You don't have any tables in this database yet."}):(0,p.Y)(W.S,{className:_S().tableGrid,children:n.map(function(e){return(0,p.Y)(wm,{name:e.name,storage:"".concat(e.estimatedRows.toString()," rows"),onClick:function(){a("drizzle-studio"),i("public"),o(e.name)}},e.name)})})},_Y=function(){return(0,p.Y)(W.S,{clsx:[_S().tableGrid,_S().skeletonDelayed],children:Array.from({length:2}).map(function(e,n){return(0,p.FD)(W.S,{row:!0,align:"center",justify:"space-between",p:12,className:_S().skeletonItem,children:[(0,p.FD)(W.S,{row:!0,align:"center",gap:12,children:[(0,p.Y)(W.S,{css:_A,className:_S().skeletonIcon}),(0,p.FD)(W.S,{gap:4,children:[(0,p.Y)(W.S,{css:_A,className:_S().skeletonName}),(0,p.Y)(W.S,{css:_A,className:_S().skeletonStorage})]})]}),(0,p.Y)(W.S,{css:_A,className:_S().skeletonChevron})]},"skeleton-".concat(n))})})},_E=t(66165);function _x(e){var n=e.totalUsageBytes,t=e.maxUsageBytes,r=e.loading;return(0,p.FD)(W.S,{gap:4,children:[(0,p.Y)(G.EY,{variant:"subheadDefault",children:"Storage Used"}),(0,p.Y)(W.S,{pt:8,pb:4,children:(0,p.Y)(c6.W,{current:n,total:t,loading:r,tooltipHidden:!0})}),(0,p.FD)(W.S,{row:!0,align:"center",justify:"space-between",pb:4,children:[(0,p.FD)(G.EY,{variant:"small",color:"dimmer",children:["Total usage: ",y2(n)]}),(0,p.FD)(G.EY,{variant:"small",color:"dimmer",children:["Max usage: ",y2(t)]})]})]})}var _T=(0,eo.x)({remove:[es.wp.py(8)]}),_D=function(e){var n=e.replId,t=e.neonDatabase,r=(0,nj.A)().showError,a=(0,g._)((0,wk.BI)({refetchQueries:[{query:wA.Or,variables:{input:{replId:n}}}],update:function(e,t,r){var a=t.data,i=r.variables;if(null==a||!a.deleteNeonDatabase||"success"in a.deleteNeonDatabase){var o=e.readQuery({query:wA.Or,variables:{input:{replId:n}}});i&&(null==o?void 0:o.getNeonDatabases.__typename)==="GetNeonDatabasesResult"&&e.writeQuery({query:wA.Or,variables:{input:{replId:n}},data:{__typename:"RootQueryType",getNeonDatabases:{__typename:"GetNeonDatabasesResult",databases:o.getNeonDatabases.databases.filter(function(e){return e.databaseId!==i.input.databaseId})}}})}}}),2),i=a[0],o=a[1].loading,s=(0,b.useCallback)(function(){d(!0)},[]),l=(0,b.useCallback)(function(){return(0,y._)(function(){var e,a,o;return(0,w.YH)(this,function(s){switch(s.label){case 0:return[4,i({variables:{input:{replId:n,databaseId:t.databaseId}}})];case 1:if(a=(e=s.sent()).data,o=e.errors,d(!1),o&&o.length>0)return r("Error when deleting Neon database: ".concat(null==o?void 0:o.join())),wM({action:"removed",success:!1}),[2];if((null==a?void 0:a.deleteNeonDatabase.__typename)!=="DeleteNeonDatabaseResult")return r("Error: ".concat(null==a?void 0:a.deleteNeonDatabase.message)),wM({action:"removed",success:!1}),[2];return(null==a?void 0:a.deleteNeonDatabase.success)?wM({action:"removed",success:!0}):(r("Error: Delete Neon Database failed."),wM({action:"removed",success:!1})),[2]}})})()},[i,t.databaseId,n,r]),u=(0,g._)((0,b.useState)(!1),2),c=u[0],d=u[1];return{isPendingDelete:c,cancelDelete:(0,b.useCallback)(function(){d(!1)},[]),removeDatabase:l,deleteLoading:o,handleRemoveDatabaseClick:s}},_I=function(e){var n=_D({replId:e.replId,neonDatabase:e.neonDatabase}),t=n.isPendingDelete,r=n.cancelDelete,a=n.removeDatabase,i=n.deleteLoading,o=n.handleRemoveDatabaseClick;return(0,p.Y)(p.FK,{children:t||i?(0,p.FD)(ex.ui,{p:8,gap:8,elevated:!0,children:[(0,p.Y)(G.EY,{children:"Removing this database will permanently destroy all the data."}),(0,p.Y)(tU.N,{icon:(0,p.Y)(rJ.A,{}),colorway:"warning",text:"This action cannot be undone."}),(0,p.Y)(M.$n,{text:"Yes, Remove Database",colorway:"negative",disabled:i,iconLeft:(0,p.Y)(_p.A,{}),onClick:a}),(0,p.Y)(M.$n,{autoFocus:!0,text:"Cancel",disabled:i,onClick:r})]}):(0,p.Y)(M.$n,{css:_T.remove,text:"Remove Database",disabled:i,iconLeft:(0,p.Y)(_p.A,{}),onClick:o})})};function _R(e){var n=e.database,t=(0,O.A)(),r=(0,wd.WA)(n),a=r.databaseSize,i=r.loading;return wl("settings-tab",r.refetch),(0,p.FD)(W.S,{gap:12,children:[(0,p.FD)(W.S,{gap:12,children:["neon"===n.kind&&(0,p.FD)(p.FK,{children:[(0,p.Y)(_E.qP,{neonDatabase:n}),(0,p.Y)(_E.SE,{neonDatabase:n})]}),(0,p.Y)(_x,{loading:i,totalUsageBytes:a,maxUsageBytes:n.maxSizeBytes}),(0,p.FD)(W.S,{gap:2,children:[(0,p.Y)(G.EY,{variant:"subheadDefault",children:"Environment variables"}),(0,p.Y)(wG,{database:n})]})]}),"neon"===n.kind&&(0,p.Y)(_I,{replId:t,neonDatabase:n})]})}var _N=t(95878),_O=(0,ne.eU)(!0),_P=function(){return(0,nn.Xr)(_O)},_F=t(44425),_U=tX()(function(){return Promise.all([t.e(1754),t.e(8906),t.e(2575)]).then(t.bind(t,52575)).then(function(e){return e.DrizzleStudio_DO_NOT_USE_OR_YOU_WILL_BE_FIRED})},{loadableGenerated:{webpack:function(){return[52575]}},ssr:!1}),_L=function(e){var n,t;return{queryFn:null!=(n=(0,eC.I)(function(n){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;return(0,y._)(function(){var i;return(0,w.YH)(this,function(o){switch(o.label){case 0:return[4,n.database.rawExecuteQuery.rpc({connectionString:e,sql:t,params:r,options:{mode:null==a?void 0:a.mode}})];case 1:if(!(i=o.sent()).ok){if("UNEXPECTED_DISCONNECT"===i.payload.code||"CANCEL"===i.payload.code)return[2,[]];throw Error(i.payload.message)}return[2,i.payload.rows]}})})()}},[e]))?n:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){return[2,[]]})})()},transactionFn:null!=(t=(0,eC.I)(function(n){return function(t){return(0,y._)(function(){var r;return(0,w.YH)(this,function(a){switch(a.label){case 0:return[4,n.database.rawExecuteTransaction.rpc({connectionString:e,queries:t})];case 1:if(!(r=a.sent()).ok){if("UNEXPECTED_DISCONNECT"===r.payload.code||"CANCEL"===r.payload.code)return[2,[]];throw Error(r.payload.message)}return[2,r.payload]}})})()}},[e]))?t:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){return[2,[]]})})()}}};function _M(e){var n=e.connectionString,t=e.databaseId,r=e.selectedSchema,a=e.selectedTable,i=e.readonly,o=_L(n),s=o.queryFn,l=o.transactionFn;return(0,_F.M)(ap.AZ.DRIZZLE_STUDIO_USED,{action:"opened"}),(0,p.Y)(_U,{databaseId:"".concat(t.toString(),"-").concat(n),queryFn:s,transactionFn:l,selectedSchema:void 0===r?null:r,selectedTable:void 0===a?null:a,readonly:void 0!==i&&i})}var _J=t(95134),_H=t(21550),_B=t(13594),_V=t.n(_B),_$=function(e){var n=e.selectedDatabase,t=(0,O.A)(),r=wi(),a=r.selectedTab,i=r.selectTab,o=r.selectedSchema,s=r.selectedTable,l=(0,nn.md)(_O),u=_P(),c="neon"===n.kind?(0,_N.H)(n):n.connectionString,d="neon"!==n.kind||"production"!==n.type;return(0,p.FD)(_J.tU,{className:_V().wrapper,onSelectionChange:i,selectedKey:a,children:[(0,p.FD)(_J.wb,{className:_V().tabList,withDividers:!1,children:[(0,p.Y)(_J.oz,{id:"overview",iconLeft:(0,p.Y)(ad.A,{}),children:"Overview"}),(0,p.Y)(_J.oz,{id:"drizzle-studio",iconLeft:(0,p.Y)(_H.A,{}),isDisabled:"neon"===n.kind&&n.isFrozen,children:"My Data"}),(0,p.Y)(_J.oz,{id:"settings",iconLeft:(0,p.Y)(sV.A,{}),children:"Settings"})]}),(0,p.FD)(W.S,{className:_V().tabPanels,children:[(0,p.Y)(_J.Kp,{id:"overview",className:_V().overviewTabPanel,children:(0,p.Y)(W.S,{className:_V().content,children:(0,p.Y)(_k,{database:n,replId:t,connectionString:c})})}),(0,p.Y)(_J.Kp,{id:"drizzle-studio",className:_V().studioTabPanel,children:(0,p.FD)(W.S,{className:_V().content,children:[!d&&(0,p.Y)(tU.N,{text:l?"You're viewing your database in read-only.":"Any changes made here will immediately impact your live application.",variant:"default",colorway:l?void 0:"primary",action:(0,p.FD)(W.S,{row:!0,align:"center",gap:8,children:[(0,p.Y)(G.EY,{variant:"small",children:"Enable Editing"}),(0,p.Y)(eh.d,{"aria-labelledby":"enable-editing",isSelected:!l,onChange:function(e){u(!e)}})]})}),(0,p.Y)(_M,{connectionString:c,databaseId:n.databaseId,selectedSchema:o,selectedTable:s,readonly:!d&&l})]})}),(0,p.Y)(_J.Kp,{id:"settings",className:_V().settingsTabPanel,children:(0,p.Y)(W.S,{className:_V().content,children:(0,p.Y)(_R,{database:n})})})]})]})},_G=function(e){var n,t=e.databases,r=wi(),a=r.selectedPage,i=r.selectPage,o=r.selectedDatabaseId,s=(0,g._)((0,b.useState)(o&&null!=(n=t.find(function(e){return e.databaseId===o}))?n:t[0]),2),l=s[0],u=s[1],c=_P();return(0,b.useEffect)(function(){return function(){c(!0)}},[c]),(0,b.useEffect)(function(){t.length>0&&!t.some(function(e){return e.databaseId===l.databaseId})&&u(t[0])},[t,l]),(0,p.Y)(wc,{children:(0,p.FD)(W.S,{row:!1,style:{height:"100%",overflow:"hidden"},children:[(0,p.Y)(_e,{onSelectDatabase:u,selectedDatabase:l,databases:t,onShowAllDatabases:function(){i("overview-page")}}),(0,p.Y)(_z,{selectedPage:a,databases:t,onSelectDatabase:u,selectedDatabase:l})]})})},_z=function(e){var n=e.selectedPage,t=e.databases,r=e.onSelectDatabase,a=e.selectedDatabase;switch(n){case"overview-page":return(0,p.Y)(ww,{databases:t,onSelectDatabase:r});case"db-page":return(0,p.Y)(_$,{selectedDatabase:a,onSelectDatabase:r})}};t(42005);var _W=(0,nV.AH)({filter:"drop-shadow(0px 2px 6px rgba(0, 0, 0, 0.15))"});function _j(e){var n=e.height,t=void 0===n?44:n;return(0,p.FD)("svg",{width:56*t/44,height:t,viewBox:"0 0 56 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",css:_W,children:[(0,p.Y)("path",{d:"M7 42.2858L8 32.6684H14L15 42.2858H24L26 27.1837H32L34 42.2858H43L45 21.699H52L55 3.71436H56V43.0001H1V42.2858H7Z",fill:"url(#paint0_linear_3629_241)"}),(0,p.Y)("path",{d:"M55 3.71436L52 21.699H45L43 42.2858H34L32 27.1837H26L24 42.2858H15L14 32.6684H8L7 42.2858H1",stroke:"#57ABFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,p.Y)("defs",{children:(0,p.FD)("linearGradient",{id:"paint0_linear_3629_241",x1:"28.5",y1:"3.71436",x2:"28.5",y2:"43.0001",gradientUnits:"userSpaceOnUse",children:[(0,p.Y)("stop",{stopColor:"#0079F2"}),(0,p.Y)("stop",{offset:"0.395833",stopColor:"#0079F2"}),(0,p.Y)("stop",{offset:"0.958333",stopColor:"#0079F2",stopOpacity:"0"})]})})]})}function _q(){return(0,p.FD)("svg",{width:"56",height:"44",viewBox:"0 0 56 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",css:_W,children:[(0,p.FD)("g",{clipPath:"url(#clip0_3629_246)",children:[(0,p.Y)("rect",{x:"0.5",y:"9.5",width:"55",height:"19",rx:"5.5",fill:"#2B3245"}),(0,p.Y)("g",{filter:"url(#filter0_dii_3629_246)",children:(0,p.Y)("path",{d:"M3 15C3 13.3431 4.34315 12 6 12H20C20.5523 12 21 12.4477 21 13V25C21 25.5523 20.5523 26 20 26H6C4.34315 26 3 24.6569 3 23V15Z",fill:"#0079F2"})}),(0,p.Y)("g",{filter:"url(#filter1_dii_3629_246)",children:(0,p.Y)("rect",{x:"23",y:"12",width:"12",height:"14",rx:"1",fill:"#0079F2"})}),(0,p.Y)("g",{filter:"url(#filter2_dii_3629_246)",children:(0,p.Y)("rect",{x:"37",y:"12",width:"8",height:"14",rx:"1",fill:"#0079F2"})}),(0,p.Y)("rect",{x:"0.5",y:"9.5",width:"55",height:"19",rx:"5.5",stroke:"#3C445C"})]}),(0,p.FD)("defs",{children:[(0,p.FD)("filter",{id:"filter0_dii_3629_246",x:"-3",y:"6",width:"30",height:"26",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,p.Y)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,p.Y)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,p.Y)("feOffset",{}),(0,p.Y)("feGaussianBlur",{stdDeviation:"3"}),(0,p.Y)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,p.Y)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.341176 0 0 0 0 0.670588 0 0 0 0 1 0 0 0 0.5 0"}),(0,p.Y)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3629_246"}),(0,p.Y)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_3629_246",result:"shape"}),(0,p.Y)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,p.Y)("feMorphology",{radius:"2",operator:"dilate",in:"SourceAlpha",result:"effect2_innerShadow_3629_246"}),(0,p.Y)("feOffset",{dy:"-2"}),(0,p.Y)("feGaussianBlur",{stdDeviation:"1"}),(0,p.Y)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,p.Y)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,p.Y)("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_3629_246"}),(0,p.Y)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,p.Y)("feMorphology",{radius:"2",operator:"dilate",in:"SourceAlpha",result:"effect3_innerShadow_3629_246"}),(0,p.Y)("feOffset",{dy:"2"}),(0,p.Y)("feGaussianBlur",{stdDeviation:"1"}),(0,p.Y)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,p.Y)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,p.Y)("feBlend",{mode:"normal",in2:"effect2_innerShadow_3629_246",result:"effect3_innerShadow_3629_246"})]}),(0,p.FD)("filter",{id:"filter1_dii_3629_246",x:"17",y:"6",width:"24",height:"26",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,p.Y)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,p.Y)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,p.Y)("feOffset",{}),(0,p.Y)("feGaussianBlur",{stdDeviation:"3"}),(0,p.Y)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,p.Y)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.341176 0 0 0 0 0.670588 0 0 0 0 1 0 0 0 0.5 0"}),(0,p.Y)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3629_246"}),(0,p.Y)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_3629_246",result:"shape"}),(0,p.Y)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,p.Y)("feMorphology",{radius:"2",operator:"dilate",in:"SourceAlpha",result:"effect2_innerShadow_3629_246"}),(0,p.Y)("feOffset",{dy:"-2"}),(0,p.Y)("feGaussianBlur",{stdDeviation:"1"}),(0,p.Y)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,p.Y)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,p.Y)("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_3629_246"}),(0,p.Y)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,p.Y)("feMorphology",{radius:"2",operator:"dilate",in:"SourceAlpha",result:"effect3_innerShadow_3629_246"}),(0,p.Y)("feOffset",{dy:"2"}),(0,p.Y)("feGaussianBlur",{stdDeviation:"1"}),(0,p.Y)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,p.Y)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,p.Y)("feBlend",{mode:"normal",in2:"effect2_innerShadow_3629_246",result:"effect3_innerShadow_3629_246"})]}),(0,p.FD)("filter",{id:"filter2_dii_3629_246",x:"31",y:"6",width:"20",height:"26",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,p.Y)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,p.Y)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,p.Y)("feOffset",{}),(0,p.Y)("feGaussianBlur",{stdDeviation:"3"}),(0,p.Y)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,p.Y)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.341176 0 0 0 0 0.670588 0 0 0 0 1 0 0 0 0.5 0"}),(0,p.Y)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3629_246"}),(0,p.Y)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_3629_246",result:"shape"}),(0,p.Y)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,p.Y)("feMorphology",{radius:"2",operator:"dilate",in:"SourceAlpha",result:"effect2_innerShadow_3629_246"}),(0,p.Y)("feOffset",{dy:"-2"}),(0,p.Y)("feGaussianBlur",{stdDeviation:"1"}),(0,p.Y)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,p.Y)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,p.Y)("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_3629_246"}),(0,p.Y)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,p.Y)("feMorphology",{radius:"2",operator:"dilate",in:"SourceAlpha",result:"effect3_innerShadow_3629_246"}),(0,p.Y)("feOffset",{dy:"2"}),(0,p.Y)("feGaussianBlur",{stdDeviation:"1"}),(0,p.Y)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,p.Y)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,p.Y)("feBlend",{mode:"normal",in2:"effect2_innerShadow_3629_246",result:"effect3_innerShadow_3629_246"})]}),(0,p.Y)("clipPath",{id:"clip0_3629_246",children:(0,p.Y)("rect",{width:"56",height:"44",fill:"white"})})]})]})}var _Z=t(95254),_K=t.n(_Z),_Q=function(){var e=(0,g._)((0,b.useState)(!1),2),n=e[0],t=e[1];return(0,p.FD)(p.FK,{children:[(0,p.Y)(tF.a,{isOpen:n,onRequestClose:function(){return t(!1)},children:(0,p.Y)(tL.A,{onRequestClose:function(){return t(!1)}})}),(0,p.Y)(t1.A,{pane:{type:"neon"},maxWidth:450,body:(0,p.FD)(W.S,{gap:16,children:[(0,p.FD)(W.S,{clsx:_K().detailsItem,children:[(0,p.Y)(_q,{}),(0,p.Y)(G.EY,{clsx:_K().detailsText,children:"Add a database to store data related to your application. Save and search your information easily."})]}),(0,p.FD)(W.S,{clsx:_K().detailsItem,children:[(0,p.Y)(_j,{}),(0,p.FD)(G.EY,{clsx:_K().detailsText,children:["Replit ",ox.en," members get $",lf.Qz," in monthly credits to cover usage costs (",(0,p.Y)("a",{href:"https://docs.replit.com/cloud-services/about-usage-based-billing#1-postgresql-usage-metrics",target:"_blank",rel:"noopener",children:"see pricing details"}),"). You only pay for what you use."]})]})]}),action:(0,p.Y)(W.S,{gap:8,children:(0,p.Y)(wX,{onShowSupportForm:function(){return t(!0)}})})})]})},_X=function(e){var n=e.databases;return n.length>0?(0,p.Y)(_G,{databases:n}):(0,p.Y)(_Q,{})};let _0=function(){var e=wi(),n=e.loading,t=e.databases;return n?(0,p.Y)(t1.A,{pane:{type:"neon"},maxWidth:450,loading:!0}):(0,p.Y)(_X,{databases:t})};var _1=h.ZU.Object({type:h.ZU.Literal("neon"),data:h.ZU.Optional(h.ZU.Object({openAtDatabase:wt},{additionalProperties:!0}))}),_2={Content:function(e){var n=e.pane.data,t=e.options;return(0,p.Y)(wa,{initialOpenAtDatabase:null==n?void 0:n.openAtDatabase,performPaneOperation:t.performPaneOperation,children:(0,p.Y)(_0,{})})},Icon:function(e){var n=e.size;return(0,p.Y)(tw.Vx.Provider,{value:{color:U.LU.blueStrongest,size:n},children:(0,p.Y)(_H.A,{})})},getTitle:function(){return"Database"},description:"Stores structured data such as user profiles, game scores, and product catalogs.",category:tb.bY.CloudServices,decode:function(e){return m.T(_1,e)}};function _3(){var e=(0,eb._)(["\n  fragment ObjectStorageBucket on Bucket {\n    id\n    externalId\n    name\n  }\n"]);return _3=function(){return e},e}function _4(){var e=(0,eb._)(["\n  query ObjectStoragePane(\n    $replId: String!\n    $bucketsAfter: String\n    $bucketsCount: Int\n  ) {\n    currentUser {\n      id\n    }\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        org {\n          id\n        }\n        authorizations {\n          createObjectBucket {\n            isAuthorized\n            code\n            message\n          }\n          editObjectBucket {\n            isAuthorized\n            code\n            message\n          }\n        }\n        buckets(after: $bucketsAfter, count: $bucketsCount) {\n          ... on BucketConnection {\n            __typename\n            items {\n              ...ObjectStorageBucket\n            }\n            pageInfo {\n              nextCursor\n            }\n          }\n          ... on UnauthorizedError {\n            __typename\n            message\n          }\n        }\n        defaultBucket {\n          ... on Bucket {\n            ...ObjectStorageBucket\n          }\n          ... on Error {\n            message\n          }\n          ... on NotFoundError {\n            message\n          }\n          ... on UnauthorizedError {\n            message\n          }\n          ... on UserError {\n            message\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return _4=function(){return e},e}function _5(){var e=(0,eb._)(["\n  mutation ObjectStoragePaneCreateBucket($input: CreateBucketInput!) {\n    createBucket(input: $input) {\n      ... on Bucket {\n        ...ObjectStorageBucket\n      }\n      ... on Error {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return _5=function(){return e},e}var _7={},_9=(0,ey.J1)(_3()),_8=(0,ey.J1)(_4(),_9),_6=(0,ey.J1)(_5(),_9);function Se(e){var n=(0,eg._)({},_7,e);return uV.n(_6,n)}var Sn=t(21090);function St(){var e=(0,eb._)(["\n  query CreateBucketName($teamId: Int, $name: String) {\n    bucketName: replTitle(teamId: $teamId, title: $name)\n  }\n"]);return St=function(){return e},e}var Sr={},Sa=(0,ey.J1)(St()),Si=(0,eo.x)({createBucketButton:[es.wp.flex.growAndShrink(1),es.wp.justify.center,es.wp.textAlign.center],labeledInput:[es.wp.textAlign.left],row:[es.wp.flex.growAndShrink(1),es.wp.pt(16),es.wp.rowWithGap(16),{flexBasis:"300px"}],wrapper:[es.wp.flex.wrap]});function So(e){var n,t,r,a,i,o,s,l,u,c,d,f,h,m,v=e.isOpen,y=e.loading,w=e.handleCreateBucket,_=e.onRequestClose,S=(t=(n={}).preferredName,r=n.teamId,i=(a=(0,g._)((0,b.useState)(""),2))[0],o=a[1],s=(0,b.useRef)(null),l=(0,b.useRef)(!1),f=(u={variables:{name:t,teamId:r},fetchPolicy:"network-only",nextFetchPolicy:"cache-first",ssr:!1},c=(0,eg._)({},Sr,u),d=ew.I(Sa,c)).data,h=d.previousData,m=(null==f?void 0:f.bucketName)||(null==h?void 0:h.bucketName),(0,b.useEffect)(function(){m&&(l.current||o(m))},[m]),{name:i,setName:(0,b.useCallback)(function(e){l.current=!0,o(e.slice(0,60))},[]),nameInputRef:s}),A=S.name,k=S.setName,C=S.nameInputRef,Y=(0,O.A)();return(0,p.Y)(W.S,{children:(0,p.Y)(tF.a,{fitContent:!0,isOpen:v,onRequestClose:_,children:(0,p.FD)(ex.ui,{children:[(0,p.Y)(G.Y9,{level:1,variant:"subheadBig",children:"Create a Bucket"}),(0,p.FD)(W.S,{css:Si.wrapper,row:!0,children:[(0,p.Y)(W.S,{css:Si.row,children:(0,p.Y)(Ss,{name:A,setName:k,nameInputRef:C,disabled:y})}),(0,p.Y)(W.S,{css:Si.row,children:(0,p.Y)(M.$n,{css:Si.createBucketButton,text:y?"Creating bucket...":"Create bucket",onClick:function(){return w({name:A,replId:Y})},colorway:"primary",iconLeft:y?(0,p.Y)(a$.A,{}):(0,p.Y)(u6.A,{}),disabled:y})})]})]})})})}function Ss(e){var n=e.name,t=e.setName,r=e.nameInputRef,a=e.disabled,i=(0,nK.c)();return(0,p.FD)(W.S,{css:Si.labeledInput,grow:!0,shrink:!0,gap:8,children:[(0,p.Y)(dz.J,{htmlFor:i("bucketName"),children:"Name"}),(0,p.Y)(H.pd,{spellCheck:!1,id:i("bucketName"),disabled:a,onChange:function(e){t(e.currentTarget.value)},value:n,ref:r,placeholder:"Name your Bucket"})]})}var Sl=t(2789),Su=t(87102),Sc=t(11045),Sd=h.ZU.Object({id:h.ZU.String(),name:h.ZU.String(),contentType:h.ZU.Optional(h.ZU.String()),timeCreated:h.ZU.String(),size:h.ZU.String()}),Sf=h.ZU.Array(Sd),Sp={FILE:"file"},Sh=function(e){return e[e.Direct=1]="Direct",e[e.Multipart=2]="Multipart",e}({});function Sm(e){return"".concat(e.status," - ").concat(e.statusText)}function Sv(e){return(0,y._)(function(e){var n,t,r,a;return(0,w.YH)(this,function(i){switch(n=e.bucketExternalId,t=e.objectName,r=e.file,void 0===(a=e.uploadMethod)?1:a){case 1:return[2,function(e){return(0,y._)(function(e){var n,t,r,a,i;return(0,w.YH)(this,function(o){switch(o.label){case 0:return n=e.bucketExternalId,t=e.objectName,r=e.file,a=encodeURIComponent(t),[4,fetch("/object-storage/upload/storage/v1/b/".concat(n,"/o?uploadType=media&name=").concat(a),{method:"POST",credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"},body:r})];case 1:if(!(i=o.sent()).ok)throw Error("Failed to upload object: ".concat(Sm(i)));return[2]}})}).apply(this,arguments)}({bucketExternalId:n,objectName:t,file:r})];case 2:return[2,function(e){return(0,y._)(function(e){var n,t,r,a,i,o,s,l,u,c;return(0,w.YH)(this,function(d){switch(d.label){case 0:return n=e.bucketExternalId,t=e.objectName,r=e.file,[4,(0,Sc.g6)(r)];case 1:return a=d.sent(),o=(i=nt.A.from(a)).toBuffer(),s=encodeURIComponent(t),[4,function(e){return(0,y._)(function(e){var n,t,r,a,i,o;return(0,w.YH)(this,function(s){switch(s.label){case 0:return n=e.bucketExternalId,t=e.encodedObjectName,r=e.file,[4,fetch("/object-storage/".concat(n,"/").concat(t,"?uploads"),{method:"POST",credentials:"same-origin",headers:{"Content-Length":"0","Content-Type":r.type,"X-Requested-With":"XMLHttpRequest"}})];case 1:if(!(a=s.sent()).ok)throw Error("Failed to initiate multipart upload: ".concat(Sm(a)));return[4,a.text()];case 2:if(i=s.sent(),!(o=new DOMParser().parseFromString(i,"text/xml").getElementsByTagName("UploadId")[0].textContent))throw Error("Failed to initiate multipart upload: missing UploadId");return[2,o]}})}).apply(this,arguments)}({bucketExternalId:n,encodedObjectName:s,file:r})];case 2:return l=d.sent(),u=(0,Sl.A)(5),[4,Promise.all(Array(Math.ceil(i.length/0x2000000)).fill(0).map(function(e,t){var r=o.subarray(0x2000000*t,(t+1)*0x2000000);return u(function(){return function(e){return(0,y._)(function(e){var n,t,r,a,i,o,s;return(0,w.YH)(this,function(l){switch(l.label){case 0:return n=e.bucketExternalId,t=e.encodedObjectName,r=e.partNumber,a=e.uploadId,i=e.chunk,[4,fetch("/object-storage/".concat(n,"/").concat(t,"?partNumber=").concat(r,"&uploadId=").concat(a),{method:"PUT",credentials:"same-origin",headers:{"Content-Length":i.length.toString(),"Content-Type":"text/xml","X-Requested-With":"XMLHttpRequest"},body:i})];case 1:if(!(o=l.sent()).ok)throw Error("Failed to upload chunk: ".concat(Sm(o)));if(!(s=o.headers.get("x-upload-etag")))throw Error("Failed to upload chunk: missing x-upload-etag");return[2,{partNumber:r,etag:s}]}})}).apply(this,arguments)}({bucketExternalId:n,encodedObjectName:s,partNumber:t+1,uploadId:l,chunk:r})})}))];case 3:return c=d.sent(),[4,function(e){return(0,y._)(function(e){var n,t,r,a,i,o,s,l;return(0,w.YH)(this,function(u){switch(u.label){case 0:return n=e.bucketExternalId,t=e.encodedObjectName,r=e.uploadId,a=e.parts,o=(i=document.implementation.createDocument("","",null)).createElement("CompleteMultipartUpload"),a.forEach(function(e){var n=i.createElement("Part"),t=i.createElement("PartNumber");t.textContent=e.partNumber.toString(),n.appendChild(t);var r=i.createElement("ETag");r.textContent=e.etag,n.appendChild(r),o.appendChild(n)}),i.appendChild(o),s=new XMLSerializer().serializeToString(i),[4,fetch("/object-storage/".concat(n,"/").concat(t,"?uploadId=").concat(r),{method:"POST",credentials:"same-origin",headers:{"Content-Length":s.length.toString(),"Content-Type":"application/xml","X-Requested-With":"XMLHttpRequest"},body:s})];case 1:if(!(l=u.sent()).ok)throw Error("Failed to complete multipart upload: ".concat(Sm(l)));return[2]}})}).apply(this,arguments)}({bucketExternalId:n,encodedObjectName:s,uploadId:l,parts:c})];case 4:return d.sent(),[2]}})}).apply(this,arguments)}({bucketExternalId:n,objectName:t,file:r})]}return[2]})}).apply(this,arguments)}function Sg(e){return(0,y._)(function(e){var n,t,r;return(0,w.YH)(this,function(a){switch(a.label){case 0:return n=e.bucketExternalId,t=encodeURIComponent(e.objectName),[4,fetch("/object-storage/storage/v1/b/".concat(n,"/o/").concat(t),{method:"DELETE",credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}})];case 1:if(!(r=a.sent()).ok)throw Error("Failed to delete object: ".concat(Sm(r)));return[2]}})}).apply(this,arguments)}var Sb=(0,ne.eU)(new Map);function Sy(e){var n=e.items,t=e.objects,r=new Set(n.map(function(e){return e.name})),a=t.filter(function(e){return!r.has(e.name)});return(0,ev._)(n).concat((0,ev._)(a))}var Sw=(0,ne.eU)(null,function(e,n,t){var r=t.bucketExternalId,a=t.objects,i=t.nextPageToken,o=t.isSearch;n(Sb,function(e){return(0,ob.jM)(e,function(n){var t,s,l=e.get(r),u=n.get(r);if(!u)return void n.set(r,{items:a,nextPageToken:i,isLoading:!1});var c=Sy({items:u.items,objects:a}),d=u.search;if(o){u.search=d={items:Sy({items:null!=(s=null==d?void 0:d.items)?s:[],objects:a}),currentPageToken:null==l||null==(t=l.search)?void 0:t.currentPageToken,nextPageToken:i},u.items=c,u.isLoading=!1;return}u.items=c,u.search=void 0,u.currentPageToken=null==l?void 0:l.nextPageToken,u.nextPageToken=i,u.isLoading=!1})})}),S_=(0,ne.eU)(null,function(e,n,t){var r=t.bucketExternalId,a=t.isLoading;n(Sb,function(e){return(0,ob.jM)(e,function(e){var n=e.get(r);if(!n)return void e.set(r,{items:[],isLoading:a});n.isLoading=a})})}),SS=(0,ne.eU)(null,function(e,n,t){var r=t.bucketExternalId,a=t.name,i=t.contentType,o=t.size,s={id:"optimistic-"+(0,nW.A)(),name:a,contentType:i,size:o,timeCreated:new Date().toISOString(),optimisticallyInserted:!0};n(Sb,function(e){return(0,ob.jM)(e,function(e){var n=e.get(r);if(!n)return void e.set(r,{items:[s],isLoading:!1});var t=n.items.find(function(e){return e.name===a});t?Object.assign(t,s):n.items.push(s)})})}),SA=(0,ne.eU)(null,function(e,n,t){var r=t.name,a=t.bucketExternalId,i=t.isPendingDeletion,o=t.isOptimisticallyInserted;n(Sb,function(e){return(0,ob.jM)(e,function(e){var n=e.get(a);if(!n)throw Error("Bucket not found when updating object");var t=n.items.findIndex(function(e){return e.name===r});if(-1===t)throw Error("Bucket not found when updating object");void 0!==i&&(n.items[t].isPendingDeletion=i),void 0!==o&&(n.items[t].optimisticallyInserted=o)})})}),Sk=(0,ne.eU)(null,function(e,n,t){var r=t.name,a=t.bucketExternalId;n(Sb,function(e){return(0,ob.jM)(e,function(e){var n=e.get(a);if(!n)throw Error("Bucket not found when removing object");var t=n.search;if(t){t.items=t.items.filter(function(e){return e.name!==r});return}e.set(a,{items:n.items.filter(function(e){return e.name!==r}),isLoading:n.isLoading,nextPageToken:n.nextPageToken,search:t})})})}),SC=new Intl.Collator;function SY(e){return e.sort(function(e,n){return SC.compare(e.displayName,n.displayName)})}var SE=[1e3,2500,5e3];function Sx(){var e=(0,nn.md)(Sb),n=(0,nn.Xr)(Sw),t=(0,nn.Xr)(S_),r=(0,g._)((0,b.useState)(!1),2),a=r[0],i=r[1],o=(0,g._)((0,b.useState)(1e3),2),s=o[0],l=o[1];return{fetchObjects:(0,b.useCallback)(function(r){var a=r.bucketExternalId,o=r.matchGlob,l=r.loadMorePageToken,u=r.isNewBucket,c=r.onError;return(0,y._)(function(){var r,d,f,p,h;return(0,w.YH)(this,function(m){switch(m.label){case 0:if(u)return n({bucketExternalId:a,objects:[],isSearch:o}),[2];i(!0),m.label=1;case 1:return m.trys.push([1,3,4,5]),t({bucketExternalId:a,isLoading:!0}),d=e.get(a),f=o?null==d||null==(r=d.search)?void 0:r.currentPageToken:null==d?void 0:d.currentPageToken,[4,function(e){return(0,y._)(function(e){var n,t,r,a,i,o,s,l,u,c;return(0,w.YH)(this,function(d){switch(d.label){case 0:return n=e.bucketExternalId,t=e.pageToken,a=void 0===(r=e.maxResults)?1e3:r,i=e.matchGlob,o=new URLSearchParams({maxResults:a.toString()}),t&&o.append("pageToken",t),i&&o.append("matchGlob","**".concat(i,"**")),[4,fetch("/object-storage/storage/v1/b/".concat(n,"/o?").concat(o.toString()),{method:"GET",credentials:"same-origin"})];case 1:if(!(s=d.sent()).ok)throw Error("Failed to get objects: ".concat(Sm(s)));return[4,s.json()];case 2:if(c=null!=(u=(l=d.sent()).items)?u:[],!rA.J(Sf,c))throw(0,Su.$J)(Sf,c);return[2,{items:c,nextPageToken:l.nextPageToken}]}})}).apply(this,arguments)}({bucketExternalId:a,pageToken:null!=l?l:f,matchGlob:o,maxResults:s})];case 2:return n({bucketExternalId:a,objects:(p=m.sent()).items,nextPageToken:p.nextPageToken,isSearch:o}),[3,5];case 3:return h=m.sent(),id.Cp(h,{tags:{bucketExternalId:a,action:"fetchObjects"}}),null==c||c((0,np._)(h,Error)?h:Error("Failed to fetch objects")),[3,5];case 4:return t({bucketExternalId:a,isLoading:!1}),i(!1),[7];case 5:return[2]}})})()},[n,t,e,s]),setMaxResults:l,maxResults:s,loading:a}}function ST(){var e=(0,g._)((0,b.useState)(!1),2),n=e[0],t=e[1],r=(0,nn.Xr)(SS),a=(0,nn.Xr)(Sk),i=(0,nn.Xr)(SA);return{uploadFiles:function(e){return(0,y._)(function(e){var n,o,s,l,u;return(0,w.YH)(this,function(c){switch(c.label){case 0:n=e.bucketExternalId,o=e.files,s=e.targetFolder,l=e.onError,t(!0),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(o.map(function(e){return(0,y._)(function(){var t,o;return(0,w.YH)(this,function(l){switch(l.label){case 0:t=s+(e.webkitRelativePath||e.dirPath||e.name),r({bucketExternalId:n,name:t,contentType:e.type,size:null==e?void 0:e.size.toString()}),o=e.size>0x1e00000?Sh.Multipart:Sh.Direct,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Sv({bucketExternalId:n,objectName:t,file:e,uploadMethod:o})];case 2:return l.sent(),i({bucketExternalId:n,name:t,isOptimisticallyInserted:!1}),[3,4];case 3:return l.sent(),a({bucketExternalId:n,name:t}),[3,4];case 4:return[2]}})})()}))];case 2:return c.sent(),[3,4];case 3:return u=c.sent(),null==l||l(u),[3,4];case 4:return t(!1),[2]}})}).apply(this,arguments)},loading:n}}function SD(){var e=(0,eb._)(["\n  query UserBuckets($input: CurrentUserBucketsInput!) {\n    currentUser {\n      id\n      buckets(input: $input) {\n        ... on BucketConnection {\n          __typename\n          items {\n            ...ObjectStorageBucket\n          }\n          pageInfo {\n            hasNextPage\n            nextCursor\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return SD=function(){return e},e}function SI(){var e=(0,eb._)(["\n  query OrgBuckets($orgId: String!, $input: OrgBucketsInput!) {\n    currentUser {\n      id\n      org(orgId: $orgId) {\n        ... on Org {\n          id\n          buckets(input: $input) {\n            ... on BucketConnection {\n              __typename\n              items {\n                ...ObjectStorageBucket\n              }\n              pageInfo {\n                hasNextPage\n                nextCursor\n              }\n            }\n            ... on Error {\n              message\n            }\n          }\n        }\n        ... on Error {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return SI=function(){return e},e}function SR(){var e=(0,eb._)(["\n  mutation AddReplBucket($input: AddReplBucketInput!) {\n    addReplBucket(input: $input) {\n      __typename\n      ... on Bucket {\n        ...ObjectStorageBucket\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return SR=function(){return e},e}var SN={},SO=(0,ey.J1)(SD(),_9),SP=(0,ey.J1)(SI(),_9),SF=(0,ey.J1)(SR(),_9),SU=(0,eo.x)({error:[es.wp.color.accentNegativeStronger],button:[es.wp.reset.button,es.wp.viewStyle,sv.b.nofill,es.wp.display.inlineFlex,{borderColor:sv.b.outlined.borderColor},es.wp.flex.growAndShrink(1)],select:[es.wp.display.flex,es.wp.flex.growAndShrink(1)],selectDisabled:[{backgroundColor:U.LU.backgroundHigher}],popover:[es.wp.width("max-content"),es.wp.overflow("auto"),es.wp.p(1),es.wp.minWidth(240)],labeledInput:[es.wp.minWidth(250)],listbox:[es.wp.maxHeight(300),es.wp.minWidth(300),es.wp.overflow("auto")],dropdownItemAndContainer:[es.wp.flex.row,es.wp.align.center,sv.b.listItem,es.wp.px(8),es.wp.py(4)],selectedItemAndContainer:[es.wp.px(8),es.wp.py(4),es.wp.justify.spaceBetween,es.wp.align.center,es.wp.rowWithGap(8)],selectedBucketName:[es.wp.align.center,es.wp.textAlign.left,es.wp.rowWithGap(8)],bucketName:[es.wp.textAlign.left,es.wp.rowWithGap(8)],loading:[es.wp.minWidth(200),es.wp.display.flex,es.wp.flex.grow(1),nZ.S.backgroundPulse(U.LU.backgroundHighest,U.LU.backgroundHigher)]});function SL(e){var n=e.buckets,t=e.error,r=e.loading,a=e.onChange,i=e.onLoadMore,o=e.selectedBucketId,s=(0,b.useId)();return(0,p.FD)(W.S,{grow:!0,shrink:!0,children:[(0,p.Y)(SV,{buckets:n,loading:r,selectedBucketId:o,onLoadMore:i,onSelectionChange:function(e){"string"==typeof e&&a(e)}}),t?(0,p.Y)(W.S,{css:SU.error,"aria-live":"polite","aria-atomic":"true",id:s,children:(0,p.Y)("span",{children:t})}):null]})}var SM=(0,eo.x)({self:[SU.dropdownItemAndContainer,es.wp.justify.spaceBetween,{backgroundColor:U.LU.interactiveBackground}]});function SJ(){return(0,p.Y)(W.S,{css:SU.selectDisabled,children:(0,p.Y)(W.S,{css:SU.selectedItemAndContainer,children:(0,p.Y)(W.S,{css:SU.selectedBucketName,children:(0,p.Y)(G.EY,{color:"dimmer",variant:"text",children:"No buckets available to add"})})})})}function SH(e){var n=e.title;return(0,p.FD)(W.S,{css:SU.selectedItemAndContainer,children:[(0,p.Y)(W.S,{css:SU.selectedBucketName,children:(0,p.Y)(G.EY,{variant:"text",children:n})}),(0,p.Y)(tW.A,{})]})}function SB(e){var n=e.bucketName,t=e.selected;return(0,p.FD)(W.S,{css:t?SM.self:SU.dropdownItemAndContainer,children:[(0,p.Y)(W.S,{css:SU.bucketName,align:"center",children:(0,p.Y)(G.EY,{variant:"text",color:t?"default":"dimmer",children:n})}),(0,p.Y)(W.S,{pl:8,align:"center",row:!0,children:t?(0,p.Y)(rL.A,{}):null})]})}function SV(e){var n=e.buckets,t=e.loading,r=e.selectedBucketId,a=e.onLoadMore,i=e.onSelectionChange,o=(0,nK.c)(),s=(0,b.useMemo)(function(){return n.find(function(e){return e.id===r})},[n,r]);return(0,p.FD)(W.S,{css:SU.labeledInput,grow:!0,shrink:!0,gap:8,children:[(0,p.Y)(dz.J,{htmlFor:o("bucket"),children:"Bucket"}),t?(0,p.Y)(H.pd,{css:SU.loading,disabled:!0}):(0,p.FD)(dH.l6,{css:SU.select,id:o("bucket"),onSelectionChange:i,"aria-label":"Bucket Select",children:[(0,p.Y)(dB.$,{css:SU.button,isDisabled:!s,children:s?(0,p.Y)(SH,{title:s.name}):(0,p.Y)(SJ,{})}),(0,p.Y)(tz.g_,{css:SU.popover,background:"default",placement:"bottom left",children:(0,p.Y)(B.qF,{css:SU.listbox,onLoadMore:a,children:n.map(function(e){var n=e.id,t=e.name;return(0,p.Y)(d$.nh,{id:n,textValue:t,children:(0,p.Y)(SB,{bucketName:t,selected:n===r})},n)})})})]})]})}var S$=(0,eo.x)({addBucketButton:[es.wp.flex.growAndShrink(1),es.wp.justify.center,es.wp.textAlign.center],row:[es.wp.flex.growAndShrink(1),es.wp.pt(16),es.wp.rowWithGap(16),{flexBasis:"300px"}],wrapper:[es.wp.flex.wrap]});function SG(e){var n,t,r,a,i,o,s,l,u,c,d,f,h,m,v,y,w,_,S,A,k,C,Y,E,x,T=e.excludeBucketIds,D=e.isOpen,I=e.onBucketAdded,R=e.onError,N=e.onRequestClose,P=e.orgId,F=(0,g._)((0,b.useState)(),2),U=F[0],L=F[1],J=(0,O.A)(),H=(u=(n={onError:R,orgId:P}).orgId,f=(d=(t={fetchPolicy:"network-only",onError:c=n.onError,skip:void 0!==u,ssr:!1,variables:{input:Sz}},r=(0,eg._)({},SN,t),ew.I(SO,r))).data,h=d.fetchMore,m=d.loading,v=(0,b.useCallback)(function(){var e,n,t;h({variables:{input:(0,nh._)((0,eg._)({},Sz),{after:null==f||null==(t=f.currentUser)||null==(n=t.buckets)||null==(e=n.pageInfo)?void 0:e.nextCursor})},updateQuery:function(e,n){if(!(null==(i=n.fetchMoreResult)||null==(a=i.currentUser)||null==(r=a.buckets)?void 0:r.items))return e;var t=(0,eg._)({},n.fetchMoreResult);if(null==(o=t.currentUser)?void 0:o.buckets){var r,a,i,o,s,l,u,c=null!=(u=null==e||null==(l=e.currentUser)||null==(s=l.buckets)?void 0:s.items)?u:[],d=t.currentUser.buckets.items;t.currentUser.buckets.items=(0,ev._)(d).concat((0,ev._)(c))}return t}})},[h,f]),w=(y=(a={fetchPolicy:"network-only",onError:c,skip:void 0===u,ssr:!1,variables:{input:Sz,orgId:u||""}},i=(0,eg._)({},SN,a),ew.I(SP,i))).data,_=y.fetchMore,S=y.loading,k=(null==(A=(null==w||null==(o=w.currentUser)?void 0:o.org.__typename)==="Org"?null==w||null==(s=w.currentUser)?void 0:s.org:void 0)?void 0:A.buckets.__typename)==="BucketConnection"?null==A?void 0:A.buckets:void 0,C=(0,b.useCallback)(function(){_({variables:{input:(0,nh._)((0,eg._)({},Sz),{after:null==k?void 0:k.pageInfo.nextCursor})},updateQuery:function(e,n){var t,r,a=n.fetchMoreResult,i=null==a?void 0:a.currentUser;if((null==i?void 0:i.__typename)!=="CurrentUser")return e;var o=null==a||null==(t=a.currentUser)?void 0:t.org;if((null==o?void 0:o.__typename)!=="Org")return e;var s=o.buckets;if("BucketConnection"!==s.__typename)return e;var l=null==e||null==(r=e.currentUser)?void 0:r.org;if((null==l?void 0:l.__typename)!=="Org")return a;var u=l.buckets;return"BucketConnection"!==u.__typename?a:(0,nh._)((0,eg._)({},a),{currentUser:(0,nh._)((0,eg._)({},i),{__typename:"CurrentUser",org:(0,nh._)((0,eg._)({},o),{__typename:"Org",buckets:(0,nh._)((0,eg._)({},s),{__typename:"BucketConnection",items:(0,ev._)(s.items).concat((0,ev._)(u.items))})})})})}})},[_,k]),Y=(0,b.useCallback)(function(){u?C():v()},[u,C,v]),{buckets:u?null==k?void 0:k.items:null==f||null==(l=f.currentUser)?void 0:l.buckets.items,fetchMore:Y,loading:S||m}),B=H.buckets,V=H.fetchMore,$=H.loading;(0,b.useEffect)(function(){!U&&B&&B.length>1&&L(B[0].id)},[U,B]);var z=(0,b.useMemo)(function(){return B?B.filter(function(e){return!(null!=T?T:[]).includes(e.id)}):[]},[B,T]);(0,b.useEffect)(function(){!U&&z&&z.length>0&&L(z[0].id)},[z,U]);var j=(0,g._)((E={variables:{input:{bucketId:null!=U?U:"",replId:J}}},x=(0,eg._)({},SN,E),uV.n(SF,x)),2),q=j[0],Z=j[1].loading;return(0,p.Y)(W.S,{children:(0,p.Y)(tF.a,{fitContent:!0,isOpen:D,onRequestClose:N,children:(0,p.FD)(ex.ui,{children:[(0,p.Y)(G.Y9,{level:1,variant:"subheadBig",children:"Choose a Bucket"}),(0,p.FD)(W.S,{css:S$.wrapper,row:!0,children:[(0,p.Y)(W.S,{css:S$.row,children:(0,p.Y)(SL,{buckets:z,loading:$,onChange:L,onLoadMore:V,selectedBucketId:U})}),(0,p.Y)(W.S,{css:S$.row,children:(0,p.Y)(M.$n,{css:S$.addBucketButton,text:Z?"Adding Bucket to Repl...":"Add Bucket to Repl",onClick:function(){q({onCompleted:function(e){var n="Bucket"===e.addReplBucket.__typename?e.addReplBucket:null;if(!n)return void R(Error("Failed to create bucket"));I(n,!1),L(void 0)},onError:R})},colorway:"primary",iconLeft:Z||$?(0,p.Y)(a$.A,{}):(0,p.Y)(u6.A,{}),disabled:Z||!U})})]})]})})})}var Sz={count:10},SW=t(31345),Sj=t(13672),Sq=t(70450),SZ=t(78574),SK=t(92896),SQ=t(26339),SX=[{icon:(0,p.Y)(SK.A,{}),title:"JavaScript",value:"js"},{icon:(0,p.Y)(SQ.A,{}),title:"Python",value:"py"},{icon:(0,p.Y)(ii.A,{}),title:"All other languages",value:"other"}],S0={js:{packagerConfigLanguage:"nodejs",description:(0,p.Y)(lZ.Ay,{components:{code:function(e){return(0,p.Y)(SW.A,(0,eg._)({language:"json"},e))}},children:"This library supports Bun, Deno, and Node.js. It is not recommended for browser-based applications.\n  \nFor more information, see the [SDK Reference](https://docs.replit.com/cloud-services/storage-and-databases/object-storage/typescript-api-reference/)."}),packageName:"@replit/object-storage",commands:[{label:"Import Object Store Library",code:"const { Client } = require('@replit/object-storage');\nconst client = new Client();\n"},{label:"Download an object as text (i.e. JSON)",code:"const { ok, value: textValue, error } = await client.downloadAsText('file.json');\nif (!ok) {\n    // ... handle error ...\n}\n"},{label:"Download an object as its raw byte representation (i.e. images)",code:"const { ok, value: bytesValue, error } = await client.downloadAsBytes('file.png');\nif (!ok) {\n    // ... handle error ...\n}\n"},{label:"Download an object by streaming the object's contents (i.e. streaming data over an API)",code:"const { ok, value: stream, error } = await client.downloadAsStream('file.json');\nif (!ok) {\n    // ... handle error ...\n}\n"},{label:"Download an object to the filesystem",code:"const { ok, error } = await client.downloadToFilename('file.json', destFilename);\nif (!ok) {\n    // ... handle error ...\n}\n"},{label:"List the objects in the bucket",code:"const { ok, value, error } = await client.list();\nif (!ok) {\n    // ... handle error ...\n}\n"},{label:"Upload an object from text (i.e. JSON)",code:"const { ok, error } = await client.uploadFromText('file.json', data);\nif (!ok) {\n    // ... handle error ...\n}\n"},{label:"Upload an object from its byte representation (i.e. images)",code:"const { ok, error } = await client.uploadFromBytes('file.png', data);\nif (!ok) {\n    // ... handle error ...\n}\n"},{label:"Upload an object from the filesystem",code:"const { ok, error } = await client.uploadFromFilename('file.json', srcFilename);\nif (!ok) {\n    // ... handle error ...\n}\n"},{label:"Upload an object from a stream (i.e. streaming data over an API)",code:"const { ok, error } = await client.uploadFromStream('file.json', stream);\nif (!ok) {\n    // ... handle error ...\n}\n"},{label:"Delete an object from the bucket",code:"const { ok, error } = await client.delete('file.json');\nif (!ok) {\n    // ... handle error ...\n}\n"}]},py:{packagerConfigLanguage:"python3",description:(0,p.Y)(lZ.Ay,{components:{code:function(e){return(0,p.Y)(SW.A,(0,eg._)({language:"json"},e))}},children:"For more information, see the [SDK Reference](https://docs.replit.com/cloud-services/storage-and-databases/object-storage/python-api-reference/)."}),packageName:"replit-object-storage",commands:[{label:"Import Object Store Library",code:"from replit.object_storage import Client\nclient = Client()"},{label:"Download an object as text (i.e. JSON)",code:'client.download_as_text("file.json")'},{label:"Download an object as its raw byte representation (i.e. images)",code:'client.download_as_bytes("file.png")'},{label:"Download an object to the filesystem",code:'client.download_to_filename("file.json", dest_filename)'},{label:"List the objects in the bucket",code:"client.list()"},{label:"Upload an object from text (i.e. JSON)",code:'client.upload_from_text("file.json", data)'},{label:"Upload an object from its byte representation (i.e. images)",code:'client.upload_from_bytes("file.png", data)'},{label:"Upload an object from the filesystem",code:'client.upload_from_filename("file.json", src_filename)'},{label:"Delete an object from the bucket",code:'client.delete("file.json")'}]},other:{description:(0,p.Y)(lZ.Ay,{components:{code:function(e){return(0,p.Y)(SW.A,(0,eg._)({language:"json"},e))}},children:'\nYou can use the [Google Cloud client libraries](https://cloud.google.com/storage/docs/reference/libraries#use) to interact with your bucket in any of the supported languages.\n\nIf there isn\'t a client library for your language of choice, you can use the [JSON API](https://cloud.google.com/storage/docs/json_api).\n\nWith both the client libraries and the JSON API, only blob/file/object APIs are authorized.\n\n## Authorization\n\n### Client libraries\n\n1. Create a JSON file with these contents in your project root directory, `google_application_credentials.json`\n\n```\n{\n  "type": "external_account",\n  "audience": "replit",\n  "credential_source": {\n    "url": "http://127.0.0.1:1106/credential"\n  },\n  "token_url": "http://127.0.0.1:1106/token"\n}\n```\n\n2. Set the `GOOGLE_APPLICATION_CREDENTIALS` environment variable to `"google_application_credentials.json"`\n3. Set the `GCLOUD_PROJECT` environment variable to `""`\n\n### JSON API\n\n1. Issue a `POST` request to `http://127.0.0.1:1106/token`\n\n## Bucket Selection\nUsing Google Cloud APIs or libraries directly requires a bucket name parameter to be specified on all requests. This field is interchangeable with your bucket\'s ID within Replit App Storage.\n\nTo get the ID of the default bucket for your App or Deployment, issue a `GET` request to `http://127.0.0.1:1106/object-storage/default-bucket`\n'}),commands:[]}},S1=(0,eo.x)({statusBanner:[es.wp.maxWidth("fit-content")]});function S2(e){var n=e.onError,t=(0,g._)((0,b.useState)("js"),2),r=t[0],a=t[1],i=(0,nj.A)().showConfirm,o=(0,k.A)().packager,s=(0,Sj.J)().configs,l=(0,Sq.hF)(),u=(0,g._)((0,b.useState)(!1),2),c=u[0],d=u[1],f=s.find(function(e){return e.language===S0[r].packagerConfigLanguage}),h=!!(S0[r].packagerConfigLanguage&&S0[r].packageName&&f),m=!!(f&&l(f.id).some(function(e){return e.name===S0[r].packageName})),v=(0,g._)((0,b.useState)(!1),2),_=v[0],S=v[1],A=SX.find(function(e){return e.value===r}),C=_||m;return(0,b.useLayoutEffect)(function(){var e=!0,n=!1,t=void 0;try{for(var r,i=SX[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=function(){var e=r.value;if(S0[e.value].packagerConfigLanguage&&s.find(function(n){return n.language===S0[e.value].packagerConfigLanguage}))return a(e.value),{v:void 0}}();if("object"===(0,nm._)(o))return o.v}}catch(e){n=!0,t=e}finally{try{e||null==i.return||i.return()}finally{if(n)throw t}}a("other")},[]),(0,p.FD)(W.S,{gap:16,children:[(0,p.Y)(W.S,{row:!0,gap:0,children:(0,p.Y)(SZ.l,{items:SX,selectedItem:A,initialSelectedItem:SX[0],onChange:function(e){S(!1),a(e.value)}})}),S0[r].description?S0[r].description:null,!C&&h?(0,p.Y)(M.$n,{onClick:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(!h)return n(Error("Package not available for selected language")),[2];return d(!0),[4,o.addPackages([{name:S0[r].packageName}])];case 1:return e.sent()?(i("Installed ".concat(S0[r].packageName," package")),S(!0)):n(Error("Failed to install ".concat(S0[r].packageName," package"))),[2]}})})()},text:"Install ".concat(S0[r].packageName," package"),colorway:"primary",loading:c}):null,A&&C?(0,p.Y)(tU.N,{text:"Package installed",colorway:"positive",css:S1.statusBanner}):null,S0[r].commands.map(function(e){return(0,p.FD)(W.S,{gap:6,children:[(0,p.Y)(G.EY,{children:e.label}),(0,p.Y)(lZ.Ay,{components:{code:function(e){return(0,p.Y)(SW.A,(0,eg._)({language:r},e))}},children:"```\n".concat(e.code)})]},e.label)})]})}function S3(){var e=(0,eb._)(["\n  query ObjectStorageReplOrg($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        org {\n          id\n        }\n      }\n    }\n  }\n"]);return S3=function(){return e},e}var S4={},S5=(0,ey.J1)(S3()),S7=t(18304),S9=(0,eo.x)({ctaStatusBanner:[es.wp.textAlign.left],cta:[es.wp.width("100%"),es.wp.maxWidth(320),{marginLeft:"auto",marginRight:"auto"}],payment:[es.wp.borderRadius(12),es.wp.textAlign.left,es.wp.shadow(2)]});function S8(e){var n=e.children,t=e.createBucketAuthz,r=e.actionDescription,a=e.refetchAuthzQueryData,i=e.loading,o=e.replId,s=(0,g._)((0,b.useState)(!1),2),l=s[0],u=s[1],c=(0,g._)((0,b.useState)(!1),2),d=c[0],f=c[1];return(0,p.FD)(p.FK,{children:[(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(S6,{replId:o,mainActionCTA:n,showPaymentMethodForm:l,setShowPaymentMethodForm:function(){return u(!0)},setShowSupportForm:function(){return f(!0)},createBucketAuthz:t,actionDescription:r,refetchAuthzQueryData:a,loading:i}),l?(0,p.Y)(ex.ui,{elevated:!0,css:S9.payment,p:16,children:(0,p.Y)(dD.y,{onClose:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:return u(!1),[4,a()];case 1:return e.sent(),[2]}})})()},context:"workspace_object_storage_pane"})}):null]}),(0,p.Y)(tF.a,{isOpen:d,onRequestClose:function(){return f(!1)},children:(0,p.Y)(tL.A,{onRequestClose:function(){return f(!1)}})})]})}function S6(e){var n=e.mainActionCTA,t=e.showPaymentMethodForm,r=e.setShowPaymentMethodForm,a=e.setShowSupportForm,i=e.createBucketAuthz,o=e.actionDescription,s=e.refetchAuthzQueryData,l=e.loading,u=e.replId,c=(0,oC.m6)(),d=(0,oU.e)();if(!i)return null;if(!i.isAuthorized&&c)return(0,p.Y)(tU.N,{text:i.message,colorway:"warning",icon:(0,p.Y)(rJ.A,{}),css:S9.ctaStatusBanner});switch(i.code){case tN.S4P.RequiresActiveSubscription:return(0,p.Y)(W.S,{gap:8,align:"center",children:(0,p.Y)(oT.A,{context:"workspace_object_storage_pane",text:"Upgrade your plan to ".concat(o),css:S9.cta,colorway:"primary",variant:"default",disabled:t,onPlanCheckoutComplete:s,modalHeadingText:"Upgrade your plan to ".concat(o),redirectPath:d})});case tN.S4P.RequiresPaymentMethodOrSubscription:return(0,p.FD)(W.S,{gap:8,align:"center",children:[(0,p.Y)(oT.A,{context:"workspace_object_storage_pane",text:"Upgrade your plan to ".concat(o),css:S9.cta,colorway:"primary",variant:"default",disabled:t,onPlanCheckoutComplete:s,modalHeadingText:"Upgrade your plan to ".concat(o),redirectPath:d}),(0,p.Y)(M.$n,{variant:"nofill",colorway:"primary",text:"or add a payment method",css:S9.cta,disabled:t,loading:l,iconLeft:(0,p.Y)(de.A,{}),onClick:function(){return r()}})]});case tN.S4P.RequiresSmsVerification:return(0,p.Y)(wx.A,{context:tN.SGY.ObjectStorage,onSuccess:s});case tN.S4P.RequiresPaymentMethod:return(0,p.Y)(M.$n,{colorway:"primary",text:"Add a payment method",css:S9.cta,disabled:t,loading:l,iconLeft:(0,p.Y)(de.A,{}),onClick:function(){return r()}});case tN.S4P.RequiresUnbanning:return(0,p.Y)(fd.d,{text:"Your account is not currently allowed to ".concat(o,". We're here to help! Please reach out to support@replit.com for assistance."),colorway:"warning",iconLeft:(0,p.Y)(rJ.A,{}),css:S9.ctaStatusBanner,onClick:function(){return a()}});case tN.S4P.InsufficientBudget:return(0,p.FD)(p.FK,{children:[(0,p.Y)(tU.N,{text:"You've reached your monthly usage budget. Increase your budget to ".concat(o,"."),colorway:"warning",icon:(0,p.Y)(rJ.A,{}),css:S9.ctaStatusBanner}),(0,p.Y)(wj.h,{onUpdateSuccess:s,replId:u})]});case tN.S4P.FeatureDisabled:case tN.S4P.FeatureUnsupportedForReplitTeams:case tN.S4P.FeatureUnsupportedForTeamsEdu:case tN.S4P.FeatureUnsupportedForTeamsFree:case tN.S4P.FeatureUnsupportedForTeamsPro:case tN.S4P.InsufficientPermissions:case tN.S4P.InsufficientQuota:case tN.S4P.RequiresActiveTeamsSubscription:case tN.S4P.PaymentDelinquent:case tN.S4P.RequiresEmailVerification:return(0,p.Y)(tU.N,{text:i.message,colorway:"warning",icon:(0,p.Y)(rJ.A,{}),css:S9.ctaStatusBanner});case tN.S4P.Authorized:case tN.S4P.AuthorizedQuota:return(0,p.Y)(p.FK,{children:n});case tN.S4P.RequiresEnterprisePlan:return;default:(0,r_.A)(i.code)}}var Ae=t(9797),An=[{imageUrl:"/public/images/object-storage/objects-in-bucket.svg",text:"Keep your app's uploads safe and organized. Store photos, videos, and documents in easy-to-use storage 'buckets'.",altText:"An image and a file going into a bucket"},{imageUrl:"/public/images/object-storage/upload-to-cloud.svg",text:"Perfect for apps where people upload files — like photo galleries, portfolios, or forms with attachments.",altText:"Images being uploaded to a cloud"},{imageUrl:"/public/images/object-storage/share-same-bucket.svg",text:"Your files work in both development and production automatically, so what you test is what your users see.",altText:"Development icon and deployment icon sharing a bucket"}],At=(0,eo.x)({action:[es.wp.width("100%"),es.wp.maxWidth(320),es.wp.px(32),{marginLeft:"auto",marginRight:"auto"}],rowText:[es.wp.flex.growAndShrink(1),es.wp.textAlign.left]});function Ar(e){var n,t,r,a,i=e.createBucketAuthz,o=e.editBucketAuthz,s=e.refetchAuthzQueryData,l=e.onBucketAdded,u=e.onError,c=e.innerRef,d=(0,g._)((0,b.useState)(!1),2),f=d[0],h=d[1],m=(0,b.useCallback)(function(){return h(!1)},[]),v=(0,b.useCallback)(function(){return h(!0)},[]),y=(0,g._)((0,b.useState)(!1),2),w=y[0],_=y[1],S=(0,b.useCallback)(function(){return _(!1)},[]),A=(0,b.useCallback)(function(){return _(!0)},[]),k=(0,O.A)(),C=(n={variables:{replId:k}},t=(0,eg._)({},S4,n),ew.I(S5,t)).data,Y=(null==C?void 0:C.getRepl.__typename)==="Repl"?null==(r=C.getRepl.org)?void 0:r.id:void 0,E=(0,S7.o)({controlName:"flag-deployments-switch-to-azure"}),x=(0,g._)(Se(),2),T=x[0],D=x[1].loading;return(0,p.FD)(p.FK,{children:[(0,p.Y)(SG,{isOpen:f,onBucketAdded:l,onError:u,onRequestClose:m,orgId:Y}),(0,p.Y)(So,{isOpen:w,loading:D,handleCreateBucket:function(e){T({variables:{input:e},onCompleted:function(e){var n="Bucket"===e.createBucket.__typename?e.createBucket:null;if(!n)return void u(Error("Failed to create bucket"));l(n)},onError:u})},onRequestClose:S}),(0,p.Y)(t1.A,{pane:{type:"objectStorage"},maxWidth:450,body:An.map(function(e,n){return(0,p.FD)(W.S,{row:!0,gap:16,children:[(0,p.Y)(W.S,{children:(0,p.Y)(Ae.A,{src:e.imageUrl,width:44,height:44,alt:e.altText})}),(0,p.Y)(G.EY,{css:At.rowText,children:e.text})]},n)}),innerRef:c,action:(0,p.FD)(S8,{replId:k,createBucketAuthz:i,actionDescription:"create a bucket",refetchAuthzQueryData:s,loading:D,children:[(0,p.Y)(M.$n,{css:At.action,text:D?"Creating bucket...":"Create new bucket",onClick:A,colorway:"primary",iconLeft:D?(0,p.Y)(a$.A,{}):(0,p.Y)(u6.A,{}),disabled:E||D}),(0,p.Y)(W.S,{children:(0,p.Y)(z.m_,{isDisabled:null==o?void 0:o.isAuthorized,tooltip:null!=(a=null==o?void 0:o.message)?a:"You are not authorized to edit buckets",delay:"default",placement:"bottom-start",children:(0,p.Y)(M.$n,{css:At.action,text:"Use an existing bucket",onClick:v,iconLeft:(0,p.Y)(fm.A,{}),disabled:E||D||!(null==o?void 0:o.isAuthorized)})})})]})})]})}var Aa=t(3331),Ai=t(2094),Ao=t(17739),As=t(98444),Al=function(e){var n=e.folderPath,t=e.onDropNativeFiles,r=(0,g._)((0,Ao.H)(function(){return{accept:[Sp.FILE,As.FILE],drop:function(e){return"files"in e&&t(e.files),{name:n}},collect:function(e){return{isOver:!!e.isOver()}}}}),2);return{isDraggedOver:r[0].isOver,drop:r[1]}},Au=function(e){var n=e.currentFolder,t=e.onDropNativeFiles,r=(0,g._)((0,Ao.H)(function(){return{accept:[As.FILE],drop:function(e,n){n.didDrop()||e.dirContent.then(function(e){t(e)})},collect:function(e){return{isOverCurrent:e.isOver({shallow:!0})}}}},[n]),2);return{isOverCurrent:r[0].isOverCurrent,drop:r[1]}},Ac=t(23788),Ad=t(10821),Af=t(84014),Ap=t(44452),Ah=t(94396),Am=t(1698),Av=t(12778),Ag=t(38848),Ab=t(33786),Ay="1px dashed ".concat(U.LU.accentPrimaryDefault),Aw=es.kL.min(500),A_=(0,av.v)(["bodyOutline","bodyMarginBottom"]),AS=A_.cssVars,AA=A_.styleTokens,Ak=(0,eo.x)({buttons:[(0,v._)({},Aw,[es.wp.rowWithGap(8)])],tableWrapper:[es.wp.borderRadius(4),{outline:AA.bodyOutline,marginBottom:AA.bodyMarginBottom}],tableHeader:[es.wp.position.sticky,es.wp.top(0),es.wp.textAlign.left,es.wp.zIndex(1),es.wp.backgroundColor.backgroundDefault],tableHeaderMainColumn:[es.wp.textAlign.left,es.wp.p(4)],footer:[es.wp.mb(8),es.wp.pt(8),es.wp.flex.growAndShrink(1)],loadMoreButton:[es.wp.flex.growAndShrink(1)],pageSizeSelect:[es.wp.minWidth(75),{borderTopRightRadius:"".concat(U.LU.space4," !important"),borderBottomRightRadius:"".concat(U.LU.space4," !important")}]});function AC(e){var n,t,r,a,i,o,s,l,u,c,d,f,h,m,_=e.bucketExternalId,S=e.onOpenCommandsTab,A=e.onError,k=(0,g._)((0,b.useState)(""),2),C=k[0],Y=k[1],E=(0,nn.md)(Sb).get(_),x=null!=(h=null==E?void 0:E.isLoading)&&h,T=(0,g._)((0,b.useState)(""),2),D=T[0],I=T[1],R=(t=(n={searchQuery:C,bucketState:E,currentFolder:D}).bucketState,r=n.currentFolder,(0,b.useMemo)(function(){if(!t)return{displayedItems:[],nextPageToken:void 0,total:0};var e=t.items,n=t.search,a=t.nextPageToken,i=n?n.items:e,o=n?n.nextPageToken:a,s=n?n.items.length:e.length,l=[],u=new Map,c=!0,d=!1,f=void 0;try{for(var p,h=i[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=p.value;if(m.name.startsWith(r)&&m.name!==r){var v=m.name.slice(r.length);if(!v.includes("/")){l.push((0,nh._)((0,eg._)({},m),{isFolder:!1,displayName:v}));continue}var g=v.split("/")[0];if(u.get(g)||u.set(g,{isFolder:!0,name:r+g+"/",displayName:g}),m.name===r+g+"/"){var b=u.get(g);if(!b)throw Error("Folder should have been added to map");b.optimisticallyInserted=m.optimisticallyInserted,b.isPendingDeletion=m.isPendingDeletion}}}}catch(e){d=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(d)throw f}}var y=SY(Array.from(u.values())),w=SY(l);return{displayedItems:(0,ev._)(y).concat((0,ev._)(w)),nextPageToken:o,total:s}},[t,r])),N=R.displayedItems,O=R.nextPageToken,P=R.total,F=!!O,L=(0,b.useMemo)(function(){return[{accessorKey:"name",header:"Name",size:500},{accessorKey:"added",header:"Added",size:200},{accessorKey:"size",header:"Size",size:200}]},[]),J=(0,Aa.useReactTable)({data:N,columns:L,getCoreRowModel:(0,Aa.getCoreRowModel)()}),H=J.getRowModel().rows,V=(0,b.useRef)(null),z=(0,eH.Te)({count:F?H.length+1:H.length,getScrollElement:function(){return V.current},estimateSize:function(){return 34},overscan:20}),j=Sx(),q=j.fetchObjects,Z=j.maxResults,K=j.setMaxResults,Q=(i=(a=(0,g._)((0,b.useState)(!1),2))[0],o=a[1],s=(0,nn.Xr)(SS),l=(0,nn.Xr)(SA),u=(0,nn.Xr)(Sk),{createFolder:function(e){return(0,y._)(function(e){var n,t,r,a,i,c,d;return(0,w.YH)(this,function(f){switch(f.label){case 0:if(n=e.bucketExternalId,t=e.folderName,r=e.currentFolder,a=e.onError,t.includes("/"))return null==a||a(Error("Folder name cannot contain a forward slash")),[2];o(!0),s({bucketExternalId:n,name:i=r+t+"/",contentType:"text/plain",size:"0"}),c=new File([""],t,{type:"text/plain"}),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Sv({bucketExternalId:n,objectName:i,file:c})];case 2:return f.sent(),l({bucketExternalId:n,name:i,isOptimisticallyInserted:!1}),[3,4];case 3:return d=f.sent(),null==a||a(d),u({bucketExternalId:n,name:i}),[3,4];case 4:return o(!1),[2]}})}).apply(this,arguments)},loading:i}).createFolder,X=ST().uploadFiles,ee=(0,b.useRef)(null),en=(0,b.useRef)(null),et=(0,g._)((0,b.useState)(!1),2),er=et[0],ea=et[1],ei=(0,g._)((0,b.useState)(null),2),eo=ei[0],es=ei[1],el=Au({currentFolder:D,onDropNativeFiles:function(e){X({bucketExternalId:_,files:e,targetFolder:D,onError:A})}}),eu=el.isOverCurrent,ec=el.drop,ed=function(e){Y(e),""===e&&q({bucketExternalId:_,onError:A})},ef=!(N&&N.length);return(0,p.FD)(p.FK,{children:[(0,p.FD)(W.S,{grow:!0,shrink:!0,children:[(0,p.FD)(W.S,{css:Ak.buttons,gap:8,children:[(0,p.FD)(W.S,{row:!0,gap:8,children:[(0,p.Y)(M.$n,{onClick:function(){ee.current&&ee.current.click()},text:"Upload files",colorway:"primary",iconLeft:(0,p.Y)(Ah.A,{})}),(0,p.Y)(M.$n,{onClick:function(){en.current&&en.current.click()},text:"Upload folder",colorway:"primary",iconLeft:(0,p.Y)(Av.A,{})})]}),(0,p.FD)(W.S,{grow:!0,row:!0,gap:8,justify:"space-between",children:[(0,p.Y)(M.$n,{onClick:function(){return ea(!0)},text:"Create folder",iconLeft:(0,p.Y)(Am.A,{})}),(0,p.Y)(W.S,{grow:!0,children:(0,p.Y)(p8.I,{value:C,onChange:function(e){return ed(e.target.value)},onKeyDown:function(e){"Escape"===e.key&&ed(""),"Enter"===e.key&&q({bucketExternalId:_,matchGlob:C,onError:A})},onClear:function(){return ed("")},disabled:x})}),(0,p.Y)(M.$n,{onClick:function(){return q({bucketExternalId:_,matchGlob:C,onError:A})},text:"Refresh",loading:x,iconLeft:(0,p.Y)(sI.A,{})})]})]}),(0,p.FD)(W.S,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,p.Y)(AJ,{currentFolder:D,bucketExternalId:_,setCurrentFolder:I,onError:A}),(0,p.Y)(W.S,{children:x?(0,p.Y)(a$.A,{size:12}):(0,p.FD)(G.EY,{color:"dimmer",variant:"small",children:[F?"Loaded":"Total"," ",P]})})]}),(0,p.Y)(W.S,{innerRef:ec,css:Ak.tableWrapper,grow:!0,shrink:!0,style:(m={},(0,v._)(m,AS.bodyOutline,(d=(c={isOverCurrent:eu,isEmpty:ef}).isOverCurrent,f=c.isEmpty,d?Ay:f?"1px dashed ".concat(U.LU.outlineDefault):void 0)),(0,v._)(m,AS.bodyMarginBottom,eu||ef?U.LU.space8:void 0),m),children:!ef||er?(0,p.Y)("div",{ref:V,className:"container",style:{overflow:"auto",flex:"1 1 auto"},children:(0,p.Y)("div",{style:{height:"".concat(z.getTotalSize(),"px")},children:(0,p.FD)("table",{style:{width:"100%"},children:[(0,p.Y)("thead",{css:Ak.tableHeader,children:J.getHeaderGroups().map(function(e){return(0,p.Y)("tr",{children:e.headers.map(function(e){return(0,p.Y)("th",{css:Ak.tableHeaderMainColumn,colSpan:e.colSpan,style:{width:e.getSize()},children:(0,Aa.flexRender)(e.column.columnDef.header,e.getContext())},e.id)})},e.id)})}),(0,p.FD)("tbody",{children:[er?(0,p.Y)(AV,{onCreateFolder:function(e){ea(!1),Q({bucketExternalId:_,folderName:e,currentFolder:D,onError:A})},onCanceled:function(){return ea(!1)}}):null,z.getVirtualItems().map(function(e,n){if(e.index>H.length-1)return(0,p.Y)("tr",{style:{height:"".concat(e.size,"px"),transform:"translateY(".concat(e.start-n*e.size,"px)")},children:(0,p.Y)("td",{colSpan:3,children:(0,p.FD)(Ad.Y,{css:Ak.footer,children:[(0,p.Y)(M.$n,{css:Ak.loadMoreButton,onClick:function(){return q({bucketExternalId:_,matchGlob:C,loadMorePageToken:O,onError:A})},text:x?"":"Load more",iconLeft:x?(0,p.Y)(a$.A,{}):void 0,loading:x,disabled:x||!F}),(0,p.Y)($.l,{css:Ak.pageSizeSelect,isDisabled:x||!F,"aria-label":"Select page size",selectedKey:Z.toString(),onSelectionChange:function(e){return K(Number(e))},items:SE.map(function(e){return{id:e.toString()}}),children:function(e){return(0,p.Y)(B.nh,{label:e.id},e.id)}})]})})},e.key.toString());var t=N[e.index];return t?t.isFolder?(0,p.Y)(AT,{index:n,virtualRow:e,item:t,setCurrentFolder:I,onDeleteClick:es,bucketExternalId:_,onError:A},t.name):(0,p.Y)(AD,{index:n,virtualRow:e,item:t,bucketExternalId:_,onDeleteClick:es,onError:A},t.name):null})]})]})})}):(0,p.Y)(p.FK,{children:x?(0,p.Y)(W.S,{align:"center",justify:"center",style:{flex:1},children:(0,p.Y)(a$.A,{})}):(0,p.Y)(AW,{onOpenCommandsTab:S})})}),(0,p.Y)(Ac.v,{fileUploadInputRef:ee,dirUploadInputRef:en,uploadFiles:function(e){return X({bucketExternalId:_,files:e.files,targetFolder:D,onError:A})}})]}),(0,p.Y)(AG,{bucketExternalId:_,requestedDeleteItem:eo,onRequestClose:function(){return es(null)},onError:A})]})}var AY=(0,av.v)(["rowOutline","rowOpacity","rowTextDecoration","rowCursor"]),AE=AY.cssVars,Ax=AY.styleTokens;function AT(e){var n,t=e.index,r=e.virtualRow,a=e.item,i=e.bucketExternalId,o=e.setCurrentFolder,s=e.onDeleteClick,l=e.onError,u=ST().uploadFiles,c=(0,nj.A)().showConfirm,d=Al({folderPath:a.name,onDropNativeFiles:function(e){c('Uploading files to "'.concat(a.name,'"')),u({bucketExternalId:i,files:e,targetFolder:a.name,onError:l})}}),f=d.isDraggedOver,h=d.drop;return(0,p.Y)(AO,{index:t,virtualRow:r,item:a,ref:h,onDeleteClick:function(){return s(a)},icon:(0,p.Y)(fp.A,{}),timeCreatedCell:"-",sizeCell:"-",style:(n={},(0,v._)(n,AE.rowOutline,f?Ay:void 0),(0,v._)(n,AE.rowCursor,"pointer"),n),onClick:function(){return o(a.name)},onKeyDown:function(e){"Enter"===e.key&&o(a.name)}})}function AD(e){var n,t,r,a,i,o,s,l,u,c,d,f=e.index,h=e.virtualRow,m=e.item,_=e.bucketExternalId,S=e.onDeleteClick,A=e.onError,k=encodeURIComponent(m.name),C="/object-storage/storage/v1/b/".concat(_,"/o/").concat(k,"?alt=media"),Y=!!(m.optimisticallyInserted||m.isPendingDeletion),E=(t=(n=(0,g._)((0,b.useState)(!1),2))[0],r=n[1],a=(0,nn.Xr)(SA),i=(0,nn.Xr)(SS),o=(0,nn.Xr)(Sk),{loading:t,moveObject:function(e){return(0,y._)(function(e){var n,t,s,l,u,c,d;return(0,w.YH)(this,function(f){switch(f.label){case 0:n=e.bucketExternalId,t=e.object,s=e.destinationFolder,l=e.onError,u=e.onSuccess,r(!0),c=s+t.name.split("/").pop(),a({bucketExternalId:n,name:t.name,isPendingDeletion:!0}),i({bucketExternalId:n,name:c,contentType:t.contentType,size:t.size}),f.label=1;case 1:return f.trys.push([1,4,,5]),[4,function(e){return(0,y._)(function(e){var n,t,r,a,i,o,s;return(0,w.YH)(this,function(l){switch(l.label){case 0:return n=e.sourceBucketExternalId,t=e.destinationBucketExternalId,r=e.sourceObjectName,a=e.destinationObjectName,i=encodeURIComponent(r),o=encodeURIComponent(a),[4,fetch("/object-storage/storage/v1/b/".concat(n,"/o/").concat(i,"/copyTo/b/").concat(t,"/o/").concat(o),{method:"POST",credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}})];case 1:if(!(s=l.sent()).ok)throw Error("Failed to copy object: ".concat(Sm(s)));return[2]}})}).apply(this,arguments)}({destinationBucketExternalId:n,sourceBucketExternalId:n,sourceObjectName:t.name,destinationObjectName:c})];case 2:return f.sent(),[4,Sg({bucketExternalId:n,objectName:t.name})];case 3:return f.sent(),o({bucketExternalId:n,name:t.name}),a({bucketExternalId:n,name:c,isOptimisticallyInserted:!1}),null==u||u(),[3,5];case 4:return d=f.sent(),null==l||l(d),a({bucketExternalId:n,name:t.name,isPendingDeletion:!1}),o({bucketExternalId:n,name:c}),[3,5];case 5:return r(!1),[2]}})}).apply(this,arguments)}}).moveObject,x=(0,nj.A)().showConfirm,T=(l=(s={item:m,disableDrag:Y,onDropOverFolder:function(e){return E({bucketExternalId:_,object:m,destinationFolder:e,onSuccess:function(){x('Moved "'.concat(m.name,'" to "').concat(e,'"'))},onError:A})}}).item,u=s.disableDrag,c=s.onDropOverFolder,{isDragging:(d=(0,g._)((0,Ai.i)(function(){return{type:Sp.FILE,canDrag:!u,item:function(){return{name:l.name,type:Sp.FILE}},collect:function(e){return{isDragging:!!e.isDragging()}},end:function(e,n){var t=n.getDropResult();t&&t&&c(t.name)}}},[u]),2))[0].isDragging,drag:d[1]}),D=T.isDragging,I=T.drag;return(0,p.Y)(AO,{index:f,virtualRow:h,item:m,ref:I,onDeleteClick:function(){return S(m)},icon:(0,p.Y)(A$,{contentType:m.contentType}),timeCreatedCell:(0,p.Y)(eP.Dc,{date:m.timeCreated}),sizeCell:y2(Number(m.size),{isKib:!0,isKibNotation:!0}),style:(0,v._)({},AE.rowOpacity,D?.5:void 0),additionalActionButtons:(0,p.Y)(p.FK,{children:(0,p.Y)(e$.K0,{alt:"Download",css:AR.rowActionButton,children:(0,p.Y)("a",{download:m.displayName,href:C,css:es.wp.color.foregroundDefault,children:(0,p.Y)(ez.A,{})})})})})}var AI=(0,eo.x)({row:[es.wp.position.relative,es.wp.borderRadius(4),{outline:Ax.rowOutline,outlineOffset:-1,opacity:Ax.rowOpacity,cursor:Ax.rowCursor,":hover":{background:"".concat(U.LU.backgroundHigher," !important")},":hover #action-buttons":{display:"flex"},":focus":{outline:"2px solid ".concat(U.LU.accentPrimaryDefault)}}],text:[es.wp.flex.shrink(1)]}),AR=(0,eo.x)({row:[AI.row],pendingRow:[AI.row,es.wp.color.foregroundDimmest],tableData:[es.wp.p(4),{":first-of-type":{borderTopLeftRadius:4,borderBottomLeftRadius:4},":last-of-type, :nth-last-of-type(2)":{borderTopRightRadius:4,borderBottomRightRadius:4}}],text:AI.text,strikeThroughText:[AI.text,{textDecoration:"line-through"}],actionButtonTableData:[es.wp.position.relative],rowActionButtonGroup:[es.wp.position.absolute,es.wp.right(0),es.wp.top(0),es.wp.bottom(0),es.wp.rowWithGap(4),es.wp.align.center,es.wp.backgroundColor.backgroundHigher,{display:"none",borderTopRightRadius:4,borderBottomRightRadius:4}],rowActionButton:[sv.b.filled],loadingTableData:[es.wp.position.relative],loadingIconWrapper:[es.wp.position.absolute,es.wp.right(4),es.wp.top(0),es.wp.bottom(0),es.wp.justify.center],loadingIcon:[{borderRadius:"50%"},es.wp.backgroundColor.backgroundDefault]}),AN=function(){var e=(0,g._)((0,b.useState)(!1),2),n=e[0],t=e[1],r=(0,g._)((0,b.useState)(null),2),a=r[0],i=r[1];return(0,b.useEffect)(function(){if(null!==a){var e=function(){t(a.offsetWidth<a.scrollWidth||a.offsetHeight<a.scrollHeight)};e();var n=new ResizeObserver(e);return n.observe(a),function(){return n.disconnect()}}},[a]),{attachObserver:i,isOverflowing:n}},AO=(0,b.forwardRef)(function(e,n){var t=e.index,r=e.virtualRow,a=e.item,i=e.onDeleteClick,o=e.icon,s=e.timeCreatedCell,l=e.sizeCell,u=e.style,c=e.onClick,d=e.onKeyDown,f=e.additionalActionButtons,h=a.isPendingDeletion?AR.strikeThroughText:AR.text,m=a.optimisticallyInserted||a.isPendingDeletion,v=AN(),g=v.attachObserver,b=v.isOverflowing;return(0,p.FD)("tr",{style:(0,nh._)((0,eg._)({},u),{height:"".concat(r.size,"px"),transform:"translateY(".concat(r.start-t*r.size,"px)"),background:r.index%2==0?"color-mix(in srgb, ".concat(U.LU.backgroundDefault," 60%, ").concat(U.LU.backgroundRoot,")"):void 0}),ref:n,tabIndex:0,css:m?AR.pendingRow:AR.row,onClick:c,onKeyDown:d,children:[(0,p.Y)("td",{css:AR.tableData,children:(0,p.Y)(z.m_,{isDisabled:!b,tooltip:a.displayName,children:(0,p.FD)(W.S,{row:!0,gap:8,align:"center",children:[o,(0,p.Y)(G.EY,{multiline:!0,maxLines:1,css:h,ref:g,children:a.displayName})]})})}),(0,p.Y)("td",{css:AR.tableData,children:(0,p.Y)(G.EY,{multiline:!0,maxLines:1,css:h,children:s})}),(0,p.Y)("td",{css:AR.tableData,children:(0,p.Y)(G.EY,{multiline:!0,maxLines:1,css:h,children:l})}),m?null:(0,p.Y)("td",{css:AR.actionButtonTableData,children:(0,p.FD)(W.S,{css:AR.rowActionButtonGroup,px:4,id:"action-buttons",children:[f,(0,p.Y)(e$.K0,{onClick:i,alt:"Delete",css:AR.rowActionButton,children:(0,p.Y)(_p.A,{color:U.LU.accentNegativeDefault})})]})}),m?(0,p.Y)("td",{css:AR.loadingTableData,children:(0,p.Y)(W.S,{css:AR.loadingIconWrapper,children:(0,p.Y)(a$.A,{css:AR.loadingIcon})})}):null]},a.name)}),AP=(0,av.v)(["breadcrumbOutline","breadcrumbTextColor"]),AF=AP.cssVars,AU=AP.styleTokens,AL=(0,eo.x)({breadcrumb:[{color:AU.breadcrumbTextColor,outline:AU.breadcrumbOutline}]}),AM=function(e){var n=e.split("/").filter(function(e){return""!==e}),t=n.map(function(e,t){return{folderName:e,path:n.slice(0,t+1).join("/")+"/"}});return[{folderName:"Objects",path:""}].concat((0,ev._)(t))};function AJ(e){var n=e.currentFolder,t=e.bucketExternalId,r=e.setCurrentFolder,a=e.onError,i=AM(n);return(0,p.Y)(W.S,{pt:12,pb:4,row:!0,gap:2,align:"center",children:i.map(function(e,n){var o=e.folderName,s=e.path,l=n===i.length-1;return(0,p.FD)(b.Fragment,{children:[(0,p.Y)(AH,{folderPath:s,folderName:o,bucketExternalId:t,onClick:function(){return r(s)},isLastBreadcrumb:l,onError:a}),l?null:(0,p.Y)(G.EY,{color:"dimmest",children:"/"})]},s)})})}function AH(e){var n,t=e.folderPath,r=e.folderName,a=e.bucketExternalId,i=e.onClick,o=e.isLastBreadcrumb,s=e.onError,l=ST().uploadFiles,u=Al({folderPath:t,onDropNativeFiles:function(e){return l({bucketExternalId:a,files:e,targetFolder:t,onError:s})}}),c=u.isDraggedOver,d=u.drop;return(0,p.Y)(M.$n,{ref:d,text:r,variant:"nofill",onClick:i,iconLeft:(0,p.Y)(fp.A,{}),size:"small",disabled:o,style:(n={},(0,v._)(n,AF.breadcrumbTextColor,o?U.LU.foregroundDefault:void 0),(0,v._)(n,AF.breadcrumbOutline,c?Ay:void 0),n),css:AL.breadcrumb})}var AB=(0,eo.x)({icon:[es.wp.height(24),es.wp.width(24),es.wp.center]});function AV(e){var n=e.onCreateFolder,t=e.onCanceled,r=(0,g._)((0,b.useState)(""),2),a=r[0],i=r[1],o=(0,cd.A)(t,[]);return(0,p.Y)("tr",{children:(0,p.Y)("td",{colSpan:3,children:(0,p.FD)(W.S,{innerRef:o,row:!0,gap:8,align:"center",children:[(0,p.Y)(W.S,{css:AB.icon,children:(0,p.Y)(fp.A,{})}),(0,p.Y)(H.pd,{value:a,autoFocus:!0,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(n(a),i("")),"Escape"===e.key&&t()},autoCapitalize:"off",autoComplete:"off",autoCorrect:"off"})]})})})}function A$(e){var n=e.contentType;return n?n.startsWith("image/")?(0,p.Y)(Ag.A,{}):n.startsWith("video/")?(0,p.Y)(Ap.A,{}):n.startsWith("audio/")?(0,p.Y)(Ab.A,{}):(0,p.Y)(li.A,{}):(0,p.Y)(li.A,{})}function AG(e){var n,t,r,a,i,o,s,l,u,c,d,f=e.bucketExternalId,h=e.requestedDeleteItem,m=e.onRequestClose,v=e.onError,_=(t=(n=(0,g._)((0,b.useState)(!1),2))[0],r=n[1],a=(0,nn.Xr)(SA),i=(0,nn.Xr)(Sk),{loading:t,deleteObject:function(e){return(0,y._)(function(e){var n,t,o,s;return(0,w.YH)(this,function(l){switch(l.label){case 0:n=e.bucketExternalId,t=e.objectName,o=e.onError,r(!0),a({bucketExternalId:n,name:t,isPendingDeletion:!0}),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Sg({bucketExternalId:n,objectName:t})];case 2:return l.sent(),i({bucketExternalId:n,name:t}),[3,4];case 3:return s=l.sent(),null==o||o(s),a({bucketExternalId:n,name:t,isPendingDeletion:!1}),[3,4];case 4:return r(!1),[2]}})}).apply(this,arguments)}}).deleteObject,S=(s=(o=(0,g._)((0,b.useState)(!1),2))[0],l=o[1],u=(0,nn.Xr)(SA),c=(0,nn.Xr)(Sk),d=(0,nn.md)(Sb),{loading:s,deleteFolder:function(e){return(0,y._)(function(e){var n,t,r,a,i,o,s;return(0,w.YH)(this,function(f){switch(f.label){case 0:n=e.bucketExternalId,t=e.folderPath,r=e.onError,l(!0),o=(null!=(i=null==(a=d.get(n))?void 0:a.items)?i:[]).filter(function(e){return e.name.startsWith(t)}),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(o.map(function(e){return(0,y._)(function(){return(0,w.YH)(this,function(t){switch(t.label){case 0:u({bucketExternalId:n,name:e.name,isPendingDeletion:!0}),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Sg({bucketExternalId:n,objectName:e.name})];case 2:return t.sent(),c({bucketExternalId:n,name:e.name}),[3,4];case 3:return t.sent(),u({bucketExternalId:n,name:e.name,isPendingDeletion:!1}),[3,4];case 4:return[2]}})})()}))];case 2:return f.sent(),[3,4];case 3:return s=f.sent(),null==r||r(s),[3,4];case 4:return l(!1),[2]}})}).apply(this,arguments)}}).deleteFolder;return(0,p.Y)(tF.a,{isOpen:!!h,onRequestClose:m,children:h?(0,p.Y)(Af.A,{name:h.displayName,description:'"'.concat(h.displayName,'" ').concat(h.isFolder?" and all its contents":""),entityType:h.isFolder?"folder":"file",hideModal:m,delete:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(!(null==h?void 0:h.isFolder))return[3,2];return[4,S({bucketExternalId:f,folderPath:h.name,onError:v})];case 1:return e.sent(),m(),[2];case 2:if(!h)return[3,4];return[4,_({bucketExternalId:f,objectName:h.name,onError:v})];case 3:e.sent(),m(),e.label=4;case 4:return[2]}})})()}}):null})}var Az=(0,eo.x)({wrapper:[es.wp.center,es.wp.colWithGap(16),es.wp.flex.grow(1),es.wp.justify.center,es.wp.borderRadius(4),es.wp.mb(8)],textWrapper:[es.wp.center,es.wp.colWithGap(4)],text:[es.wp.center],textButton:[es.wp.color.accentPrimaryStronger]});function AW(e){var n=e.onOpenCommandsTab;return(0,p.Y)(W.S,{css:Az.wrapper,children:(0,p.FD)(W.S,{css:Az.textWrapper,children:[(0,p.Y)(G.EY,{variant:"subheadBig",children:"No objects"}),(0,p.FD)(W.S,{css:Az.text,children:[(0,p.Y)(G.EY,{children:"Drag and drop or click to upload,"}),(0,p.FD)(W.S,{row:!0,gap:4,align:"center",children:[(0,p.Y)(G.EY,{children:"or"}),(0,p.Y)(M.$n,{variant:"underlinedOnHover",colorway:"primary",onClick:n,text:"upload using commands",css:Az.textButton})]})]})]})})}function Aj(){var e=(0,eb._)(["\n  mutation ObjectStorageSettingsDeleteBucket($input: DeleteBucketInput!) {\n    deleteBucket(input: $input) {\n      ... on Bucket {\n        id\n      }\n      ... on Error {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return Aj=function(){return e},e}function Aq(){var e=(0,eb._)(["\n  mutation ObjectStorageSettingsRemoveReplBucket(\n    $input: RemoveReplBucketInput!\n  ) {\n    removeReplBucket(input: $input) {\n      __typename\n      ... on Bucket {\n        ...ObjectStorageBucket\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Aq=function(){return e},e}var AZ={},AK=(0,ey.J1)(Aj()),AQ=(0,ey.J1)(Aq(),_9),AX=t(21466);function A0(e){var n,t,r=e.bucketId,a=e.bucketExternalId,i=e.onSettingsUpdate,o=e.onError,s=(0,O.A)(),l=(0,g._)((0,b.useState)(!1),2),u=l[0],c=l[1],d=function(){return c(!1)},f=(0,g._)((0,b.useState)(!1),2),h=f[0],m=f[1],v=function(){return m(!1)},y=(0,g._)((n=(0,eg._)({},AZ,void 0),uV.n(AK,n)),2),w=y[0],_=y[1].loading,S=(0,g._)((t=(0,eg._)({},AZ,void 0),uV.n(AQ,t)),2),A=S[0],k=S[1].loading;return(0,p.FD)(p.FK,{children:[(0,p.FD)(W.S,{gap:32,children:[(0,p.Y)(W.S,{gap:12,children:(0,p.FD)(W.S,{gap:6,children:[(0,p.Y)(G.EY,{variant:"subheadDefault",children:"Bucket ID"}),(0,p.Y)(lZ.Ay,{children:"```\n".concat(a)})]})}),(0,p.FD)(W.S,{gap:12,children:[(0,p.FD)(W.S,{gap:6,children:[(0,p.Y)(M.$n,{text:k?"Removing Bucket from Repl...":"Remove Bucket from Repl",loading:k,css:es.wp.color.accentNegativeStronger,onClick:function(){return m(!0)}}),(0,p.Y)(G.EY,{color:"dimmest",children:"Your Repl will no longer be able to access this bucket. No data will be deleted and you can re-add this bucket at any time."})]}),(0,p.FD)(W.S,{gap:6,children:[(0,p.Y)(M.$n,{text:_?"Deleting…":"Delete Bucket",loading:_,iconLeft:(0,p.Y)(_p.A,{color:U.LU.accentNegativeStronger}),css:es.wp.color.accentNegativeStronger,onClick:function(){return c(!0)}}),(0,p.Y)(G.EY,{color:"dimmest",children:"You cannot undo this action."})]})]})]}),(0,p.Y)(tF.a,{isOpen:h,onRequestClose:v,children:(0,p.Y)(AX.A,{prompt:"Remove Bucket?",desc:"This action will revoke this Repl's access to this bucket.",onCancel:v,confirmText:"Remove Bucket",icon:(0,p.Y)(pH.A,{}),onConfirm:function(){A({variables:{input:{bucketId:r,replId:s}},onError:o,onCompleted:function(e){"Bucket"===e.removeReplBucket.__typename?i({type:"removeBucket",data:{bucketId:r}}):o(Error("Failed to remove bucket: "+e.removeReplBucket.message))}}),v()}})}),(0,p.Y)(tF.a,{isOpen:u,onRequestClose:d,children:(0,p.Y)(Af.A,{name:"bucket",description:"this bucket and all its contents",entityType:"bucket",hideModal:d,delete:function(){return w({variables:{input:{bucketId:r}},onError:o,onCompleted:function(e){"Bucket"===e.deleteBucket.__typename?i({type:"deleteBucket",data:{bucketId:r}}):o(Error("Failed to delete bucket: "+e.deleteBucket.message))}})}})})]})}var A1=t(6609),A2=t(2155),A3=[{icon:(0,p.Y)(A2.A,{}),title:"Objects",value:"objects"},{icon:(0,p.Y)(ii.A,{}),title:"Commands",value:"commands"},{icon:(0,p.Y)(sV.A,{}),title:"Settings",value:"settings"}],A4=(0,eo.x)({controlSeparator:[es.wp.color.outlineDefault,es.wp.px(8)],panels:[es.wp.flex.column,es.wp.px(8),es.wp.pt(12),es.wp.flex.growAndShrink(1)],objectTabPanel:[es.wp.flex.column,es.wp.flex.growAndShrink(1)]}),A5=function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.onError,a=t.onCompleted,i=(0,O.A)(),o=(0,b.useCallback)(function(e){if((null==e?void 0:e.getRepl.__typename)==="Repl")try{return function(e){if("Repl"!==e.__typename)throw Error("Failed to fetch bucket data");var n,t=e.buckets;if(t&&"BucketConnection"!==t.__typename)throw Error(t.message);var r=null!=(n=null==t?void 0:t.items)?n:[];if(!r.length)return{buckets:r};var a=e.defaultBucket;if(a)if("Bucket"===a.__typename)return{initialBucket:a,buckets:r};else throw Error(a.message);return{initialBucket:r[0],buckets:r}}(e.getRepl)}catch(e){null==r||r(e)}},[]),s=(e={variables:{replId:i,bucketsCount:10},fetchPolicy:"cache-and-network",ssr:!1,onCompleted:function(e){if((null==e?void 0:e.getRepl.__typename)==="Repl"){var n=o(e);n&&(null==a||a(n))}}},n=(0,eg._)({},_7,e),ew.I(_8,n)),l=s.data,u=s.loading,c=s.error,d=s.refetch,f=(0,g._)((0,b.useState)(l?o(l):void 0),2),p=f[0],h=f[1];return(0,b.useEffect)(function(){l&&h(o(l))},[o,l]),{buckets:null==p?void 0:p.buckets,initialBucket:null==p?void 0:p.initialBucket,data:l,loading:u,error:c,refetch:d}};function A7(e){var n=e.buckets,t=e.onRequestAddBucket,r=e.onRequestCreateBucket,a=e.onSelect,i=e.selectedBucketId,o=(0,b.useMemo)(function(){if(n&&i)return n.find(function(e){return e.id===i})},[n,i]);return o&&n?(0,p.Y)(W.S,{children:(0,p.FD)(ac.in,{label:o.name,items:n,trigger:(0,p.Y)(M.$n,{size:"default",variant:"nofill",text:o.name,iconRight:(0,p.Y)(tW.A,{size:12})}),children:[n.map(function(e){return(0,p.Y)(ac.Dr,{icon:(0,p.Y)(rL.A,{visibility:e.id===o.id?"visible":"hidden"}),id:e.id,label:e.name,onAction:e.id!==o.id?function(){a(e)}:void 0},e.id)}),(0,p.Y)(ac.wv,{}),(0,p.Y)(ac.Dr,{icon:(0,p.Y)(u6.A,{}),id:"create-new",label:"Create new bucket",onAction:r},"create-new"),(0,p.Y)(ac.Dr,{icon:(0,p.Y)(fm.A,{}),id:"add-existing",label:"Add an existing bucket",onAction:t},"add-existing")]})}):(0,p.Y)(W.S,{children:(0,p.Y)(M.$n,{size:"default",variant:"nofill",text:"Loading...",iconRight:(0,p.Y)(tW.A,{size:12})})})}function A9(e){var n=e.onSelect,t=e.selectedView,r=(0,b.useMemo)(function(){return A3.find(function(e){return e.value===t})},[t]);return r?(0,p.Y)(W.S,{children:(0,p.Y)(ac.in,{onAction:function(e){var t=A3.find(function(n){return n.value===e});t&&n(t.value)},label:r.title,items:A3,trigger:(0,p.Y)(M.$n,{size:"default",variant:"nofill",text:r.title,iconLeft:r.icon,iconRight:(0,p.Y)(tW.A,{size:12})}),children:function(e){return(0,p.Y)(ac.Dr,{icon:e.icon,id:e.value,label:e.title},e.value)}})}):null}var A8=h.ZU.Object({type:h.ZU.Literal("objectStorage")}),A6={Content:function(){var e,n,t,r=(0,g._)((0,b.useState)(),2),a=r[0],i=r[1],o=(0,b.useMemo)(function(){return null==a?void 0:a.map(function(e){return e.id})},[a]),s=(0,g._)((0,b.useState)(),2),l=s[0],u=s[1],c=(0,g._)((0,b.useState)("objects"),2),d=c[0],f=c[1],h=(0,g._)((0,b.useState)(!1),2),m=h[0],v=h[1],_=(0,b.useCallback)(function(){return v(!1)},[]),S=(0,b.useCallback)(function(){return v(!0)},[]),A=(0,g._)((0,b.useState)(!1),2),C=A[0],Y=A[1],E=(0,b.useCallback)(function(){return Y(!1)},[]),x=(0,b.useCallback)(function(){return Y(!0)},[]),T=(0,nn.md)(Sb).get(null!=(n=null==l?void 0:l.externalId)?n:""),D=Sx(),I=D.fetchObjects,R=D.loading,N=(0,b.useCallback)(function(e){u(e),f("objects"),I({bucketExternalId:e.externalId})},[I]),O=(0,k.A)().dotReplit;(0,b.useEffect)(function(){l&&O.updateDotReplit([(0,Sn.Xl)(l.externalId)])},[l,O]);var P=(0,nj.A)(),F=P.showConfirm,U=P.showError,L=function(e){U(e.message),id.v4(function(n){n.setTag("object-storage-pane",!0),id.Cp(e)})},M=A5({onError:L,onCompleted:function(e){var n=e.buckets,t=e.initialBucket;i(n),!l&&t&&(u(t),I({bucketExternalId:null==t?void 0:t.externalId}))}}),J=M.data,H=M.loading,B=M.error,V=M.refetch,$=(0,g._)(Se(),2),z=$[0],j=$[1].loading,q=(0,b.useCallback)(function(e){var n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];i(function(n){return n?[e].concat((0,ev._)(n)):[e]}),u(e),V(),I({bucketExternalId:e.externalId,isNewBucket:n})},[I,V]),Z=(0,b.useCallback)(function(e){var n=(null!=a?a:[]).filter(function(n){return n.id!==e});if(i(n),0===n.length){u(void 0),f("objects"),O.updateDotReplit([{path:"objectStorage",op:"remove"}]);return}u(n[0]),I({bucketExternalId:n[0].externalId}),f("objects")},[I,a,O]),K=(null==J?void 0:J.getRepl.__typename)==="Repl"?J.getRepl.authorizations.createObjectBucket:void 0,Q=(null==J?void 0:J.getRepl.__typename)==="Repl"?J.getRepl.authorizations.editObjectBucket:void 0,X=(null==J?void 0:J.getRepl.__typename)==="Repl"?null==(e=J.getRepl.org)?void 0:e.id:void 0;if(B)return(0,p.Y)(W.S,{p:16,children:(0,p.Y)(tU.N,{text:'Error: "'.concat(B.message,'". The issue has been logged and the Replit team will look into it.'),colorway:"negative"})});if(H&&!a)return(0,p.Y)(t1.A,{pane:{type:"objectStorage"},maxWidth:450,loading:!0});if(!l)return(0,p.Y)(Ar,{createBucketAuthz:K,editBucketAuthz:Q,refetchAuthzQueryData:V,onBucketAdded:function(e){var n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,y._)(function(){return(0,w.YH)(this,function(t){return q(e,n),[2]})})()},onError:L});switch(d){case"objects":t=R&&void 0===T?(0,p.Y)(yJ,{}):(0,p.Y)(W.S,{css:A4.objectTabPanel,children:(0,p.Y)(A1.A,{children:(0,p.Y)(AC,{bucketExternalId:l.externalId,onOpenCommandsTab:function(){f("commands")},onError:L})})});break;case"commands":t=(0,p.Y)(W.S,{children:(0,p.Y)(S2,{onError:L})});break;case"settings":t=(0,p.Y)(W.S,{children:(0,p.Y)(A0,{bucketId:l.id,bucketExternalId:l.externalId,onSettingsUpdate:function(e){("deleteBucket"===e.type||"removeBucket"===e.type)&&Z(e.data.bucketId),"deleteBucket"===e.type&&F("Bucket deleted successfully"),"removeBucket"===e.type&&F("Bucket removed from Repl successfully")},onError:L})})}return(0,p.FD)(W.S,{grow:!0,shrink:!0,children:[(0,p.Y)(SG,{excludeBucketIds:null!=o?o:[],isOpen:m,onBucketAdded:function(e){_(),q(e,!1),F("Bucket added to Repl successfully")},onError:L,onRequestClose:_,orgId:X}),(0,p.Y)(So,{isOpen:C,loading:j,handleCreateBucket:function(e){z({variables:{input:{name:e.name,replId:e.replId}},onCompleted:function(e){var n="Bucket"===e.createBucket.__typename?e.createBucket:null;if(!n)return void L(Error("Failed to create bucket"));E(),q(n),F("Bucket created successfully")},onError:L})},onRequestClose:E}),(0,p.FD)(W.S,{px:8,py:4,align:"center",row:!0,children:[(0,p.Y)(A7,{buckets:a,onRequestAddBucket:S,onRequestCreateBucket:x,onSelect:N,selectedBucketId:null==l?void 0:l.id}),(0,p.Y)(G.EY,{css:A4.controlSeparator,variant:"small",children:"/"}),(0,p.Y)(A9,{onSelect:f,selectedView:d})]}),(0,p.Y)(uH.a,{}),(0,p.Y)(W.S,{css:A4.panels,children:t})]})},Icon:function(e){var n=e.size;return(0,p.Y)(tw.Vx.Provider,{value:{color:U.LU.tealStrongest,size:n},children:(0,p.Y)(A2.A,{})})},getTitle:function(){return"App Storage"},description:"App Storage is Replit's built-in object storage that lets your app easily host and save uploads like images, videos, and documents.",category:tb.bY.CloudServices,decode:function(e){return m.T(A8,e)}},ke=t(73321),kn=t(83045),kt=t(9092),kr=t(27608),ka=t(8553),ki=t(29872),ko=t(80325),ks=t(35706);function kl(e){var n=(0,b.useRef)(null),t=(0,b.useRef)([]);function r(){n.current&&clearTimeout(n.current),t.current=[]}function a(n){e({type:"success",shortcut:n.length>1?[n[0],n[1]]:n[0]}),r()}return{onKeyDown:function(r){var i=n.current,o=t.current;r.preventDefault(),r.stopPropagation(),i&&clearTimeout(i);var s=(0,kt.yz)(r);if(s){if((0,kt.RW)(s))return void e({type:"update",recorded:o.length?[o[0],s]:[s]});if(o.length>0&&"Enter"===s)return void a(o);o.push(s),e({type:"update",recorded:o}),n.current=setTimeout(function(){return a(o)},600*(2!==o.length))}},startRecording:function(){r(),e({type:"start"})},stopRecording:function(){r(),e({type:"stop"})}}}var ku=(0,eo.x)({row:[es.wp.minHeight(28)],right:[es.wp.position.relative,es.wp.flex.grow(1),es.wp.flex.shrink(0)],recordingRow:[es.wp.flex.column,es.wp.align.center,es.wp.justify.end],recordingRowKeys:[es.wp.position.relative],recordingRowPlaceholder:[es.wp.display.flex,es.wp.align.baseline,es.wp.rowWithGap(4),{fontStyle:"italic"}],keys:[es.wp.display.inlineFlex,es.wp.rowWithGap(12)],secondaryText:[es.wp.display.flex,es.wp.flex.row,es.wp.align.center,es.wp.rowWithGap(4)],secondaryTextId:[es.wp.flex.grow(1),es.wp.flex.shrink(0)],secondaryTextDescription:[es.wp.flex.grow(0),es.wp.flex.shrink(1),es.wp.color.foregroundDimmest]}),kc=(0,eo.x)({input:[{opacity:0,width:1}],searchingText:[{fontStyle:"italic"}]});function kd(e){var n,t,r,a,i=e.command,o=e.filter,s=e.shortcutsToCommands,l=e.onViewShortcutConflicts,u=(0,me.ef)(),c=(0,me.vU)(),d=(0,me.UU)(i.id),f=(0,g._)((0,b.useState)(null),2),h=f[0],m=f[1],v=kl(function(e){switch(e.type){case"start":return void m({recorded:[]});case"stop":return void m(null);case"update":return void m({recorded:e.recorded});case"success":var n=(0,kt.u7)(e.shortcut);if(!n||u(i.id,n))return void m(null);m(null);return;case"error":return void m(function(n){var t;return{error:e.message,recorded:null!=(t=null==n?void 0:n.recorded)?t:[]}})}}),y=v.stopRecording,w=v.startRecording,_=v.onKeyDown,S=(0,cd.A)(function(){return y()},[]),A=!!h;kg(A);var k=null!=(a=null==h?void 0:h.recorded)?a:[],C=null==h?void 0:h.error,Y=o.length>0,E=null==(n=kn.A.match(o,i.name))?void 0:n.ranges,x=null==(t=kn.A.match(o,i.id))?void 0:t.ranges,T=(null==i?void 0:i.description)?null==(r=kn.A.match(o,i.description))?void 0:r.ranges:void 0,D=(0,mu.A)(function(){return o.replaceAll('"',"").split("-").map(function(e){return e.toLowerCase()})},[o]);return(0,p.FD)(W.S,{gap:8,"data-testid":i.id,children:[(0,p.FD)(W.S,{css:ku.row,row:!0,gap:8,align:"center",children:[(0,p.FD)(W.S,{grow:0,shrink:!0,gap:2,children:[(0,p.Y)(ff.e,{text:i.name,highlight:E,dimmed:Y}),(0,p.FD)(G.EY,{variant:"small",css:ku.secondaryText,multiline:!1,children:[Y?(0,p.Y)(ff.e,{css:ku.secondaryTextId,text:i.id,highlight:x,dimmed:Y}):null,i.description?(0,p.FD)(p.FK,{children:[Y?(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"•"}):null,(0,p.Y)(ff.e,{css:ku.secondaryTextDescription,text:i.description,highlight:T,dimmed:Y})]}):null]})]}),(0,p.FD)(W.S,{innerRef:A?S:void 0,css:ku.right,row:!0,gap:16,align:"center",justify:"end",children:[A?(0,p.Y)(ke.n1,{autoFocus:!0,restoreFocus:!0,children:(0,p.Y)("input",{onKeyDown:_,css:kc.input})}):null,i.shortcut&&!A&&s.length>1?(0,p.Y)(e$.K0,{"data-testid":"View conflicts",alt:"View conflicts",onClick:function(){(0,b.startTransition)(function(){i.shortcut&&l(kf([i.shortcut]))})},children:(0,p.Y)(rJ.A,{color:U.LU.foregroundDimmer})}):null,i.shortcut&&!A?(0,p.Y)(kr._y,{small:!0,keyCombo:i.shortcut,match:D}):null,i.shortcut||A?null:(0,p.FD)(p.FK,{children:[(0,p.Y)(M.$n,{size:"small",variant:"outlined",iconLeft:(0,p.Y)(u6.A,{}),text:"Add shortcut",onClick:function(){return w()}}),d?(0,p.Y)(e$.K0,{alt:"Reset",onClick:function(){return u(i.id,d)},children:(0,p.Y)(sI.A,{})}):null]}),A?(0,p.Y)(W.S,{css:ku.recordingRow,children:(0,p.FD)(W.S,{row:!0,gap:8,align:"center",children:[(0,p.Y)(W.S,{css:ku.recordingRowKeys,children:k.length>0?(0,p.Y)(W.S,{css:ku.keys,children:k.map(function(e,n){return(0,p.Y)(kr._y,{small:!0,keyCombo:e},"".concat(e,"-").concat(n))})}):(0,p.Y)(G.EY,{multiline:!1,color:"dimmest",css:ku.recordingRowPlaceholder,children:"Recording…"})}),(0,p.Y)(e$.K0,{alt:"Stop",onClick:function(){return y()},children:(0,p.Y)(kw,{})})]})}):null,i.shortcut&&!A?(0,p.FD)(W.S,{row:!0,gap:4,children:[d&&d!==i.shortcut?(0,p.Y)(e$.K0,{alt:"Reset",onClick:function(){return u(i.id,d)},children:(0,p.Y)(sI.A,{})}):null,(0,p.Y)(e$.K0,{alt:"Change",onClick:function(){return w()},children:(0,p.Y)(ko.A,{})}),(0,p.Y)(e$.K0,{alt:"Remove",onClick:function(){return c(i.id)},children:(0,p.Y)(_p.A,{})})]}):null]})]}),C?(0,p.Y)(tU.N,{icon:(0,p.Y)(rJ.A,{}),colorway:"warning",text:C,closable:!0,closeAction:function(){return m(function(e){var n;return{recorded:null!=(n=null==e?void 0:e.recorded)?n:[]}})}}):null]})}function kf(e){var n=e.flat();return n.length>1?n.map(function(e){return kf([e])}).join(" "):(0,kt.Ft)(n[0]).map(function(e){return'"'.concat(e,'"')}).join("-").replaceAll(" ","space")}var kp=(0,eo.x)({surface:[es.wp.borderRadius(8),es.wp.colWithGap(12)]});function kh(e){var n=e.search,t=e.setSearch,r=(0,b.useRef)(null),a=(0,g._)((0,b.useState)(!1),2),i=a[0],o=a[1];kg(i);var s=kl(function(e){var n,a,i;switch(e.type){case"start":o(!0),t(""),null==r||null==(n=r.current)||n.focus();return;case"stop":case"error":o(!1),null==r||null==(a=r.current)||a.focus(),null==r||null==(i=r.current)||i.select();return;case"success":return void t(kf([e.shortcut]));case"update":return void t(kf(e.recorded))}}),l=s.stopRecording,u=s.startRecording,c=s.onKeyDown;return(0,p.FD)(W.S,{row:!0,gap:8,align:"center",children:[(0,p.Y)(ke.n1,{children:(0,p.Y)(H.pd,{ref:r,placeholder:i?"Searching with pressed keys. Press Escape to exit":"Type to search keyboard shortcuts",onBlur:i?l:void 0,onChange:function(e){t(e.currentTarget.value)},onKeyDown:i?function(e){"Escape"===e.key?l():c(e)}:void 0,value:n})}),(0,p.Y)(W.S,{row:!0,gap:4,align:"center",children:i?(0,p.FD)(p.FK,{children:[(0,p.Y)(G.EY,{color:"dimmest",css:kc.searchingText,multiline:!1,children:"Searching…"}),(0,p.Y)(e$.K0,{alt:"Stop Recording",onClick:l,children:(0,p.Y)(kw,{})})]}):(0,p.Y)(e$.K0,{alt:"Record Keys",onClick:u,children:(0,p.Y)(ks.A,{})})}),(0,p.Y)(e$.K0,{alt:"Clear Input",disabled:0===n.length,onClick:function(){var e;t(""),null==r||null==(e=r.current)||e.focus()},children:(0,p.Y)(ki.A,{})})]})}function km(){var e=(0,g._)((0,b.useState)(""),2),n=e[0],t=e[1],r=(0,b.useDeferredValue)(n);return(0,p.FD)(W.S,{p:0,gap:8,children:[(0,p.Y)(kh,{search:n,setSearch:t}),(0,p.Y)(kv,{search:r,setSearch:t})]})}var kv=(0,b.memo)(function(e){var n=e.search,t=e.setSearch,r=(0,me.RI)(),a=(0,mu.A)(function(){return(0,ev._)(r.values())},[r]),i=(0,b.useMemo)(function(){return kn.A.filter(n,a,{extract:function(e){var n="".concat(e.name," ").concat(e.id);return e.description&&(n+=" ".concat(e.description)),e.shortcut&&(n+=" ".concat(kf([e.shortcut]))),n}})},[n,a]),o=(0,b.useMemo)(function(){return i.reduce(function(e,n){var t=n.original,r=t.shortcut;if(!r)return e;var a=e.get(r);return a?a.push(t):a=[t],e.set(r,a),e},new Map)},[i]);return i.length>0?(0,p.Y)(ex.ui,{css:kp.surface,pt:8,children:i.map(function(e,r){var a;return(0,p.FD)(b.Fragment,{children:[r>0?(0,p.Y)(ex.ui,{elevated:!0,style:{height:1}}):null,(0,p.Y)(kd,{command:e.original,filter:n,shortcutsToCommands:null!=(a=o.get(e.original.shortcut))?a:[],onViewShortcutConflicts:t})]},e.original.id)})}):null});function kg(e){var n="You have unsaved changes";(0,b.useEffect)(function(){var t=function(e){return e.preventDefault(),e.returnValue=n,n};if(e)return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}},[e])}var kb=(0,nV.i7)("0%{transform:scale(1);}40%{transform:scale(1.3);}100%{transform:scale(1);}"),ky=(0,eo.x)({background:[{animationName:kb,animation:"".concat(kb," 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"),boxShadow:"0 0 10px ".concat(U.LU.redStronger)},es.wp.height(11),es.wp.width(11),es.wp.borderRadius("full"),es.wp.position.absolute],container:[es.wp.position.relative,es.wp.align.center,es.wp.justify.center],icon:[{zIndex:1}]});function kw(){return(0,p.FD)(W.S,{css:ky.container,children:[(0,p.Y)(ka.A,{css:ky.icon,color:U.LU.redStronger}),(0,p.Y)(W.S,{css:ky.background})]})}function k_(){var e=(0,nK.c)()("keyboard_shortcuts");return(0,p.FD)(W.S,{gap:12,children:[(0,p.Y)(W.S,{tag:"label",htmlFor:e}),(0,p.Y)(km,{})]})}var kS=t(60910),kA=t(25189);function kk(){var e=(0,eb._)(["\n  query AiDeveloperSection {\n    currentUser {\n      id\n      isStaff: hasRole(role: REPLIT_STAFF)\n    }\n  }\n"]);return kk=function(){return e},e}var kC={},kY=(0,ey.J1)(kk()),kE=t(7232),kx=t(49222),kT=t(154),kD=(0,_.qK)(),kI=_.Ku?[{title:"override",value:_.Ku}]:Array.from((0,ev._)(Object.entries(kE.B)).concat([["custom",""]]),function(e){return{title:e[0],value:e[1]}}),kR=(0,_.lJ)()||_.Ku?kI[0]:kI[1];function kN(){var e,n,t,r=(e=(0,eg._)({},kC,void 0),ew.I(kY,e)).data,a=(null==r||null==(n=r.currentUser)?void 0:n.isStaff)||!1,i=(0,g._)((0,b.useState)(!Object.values(kI).map(function(e){return e.value}).includes(kD)),2),o=i[0],s=i[1],l=(0,g._)((0,b.useState)(""),2),u=l[0],c=l[1];return a?(0,p.Y)(kx.wn,{id:"chatServiceEndpoint",title:(0,p.FD)(p.FK,{children:[(0,p.FD)(W.S,{row:!0,gap:8,align:"center",justify:"start",children:[(0,p.Y)(G.EY,{multiline:!1,children:"AI Chat Service Endpoint"}),(0,p.Y)(kT._,{})]}),(0,p.FD)(W.S,{gap:8,children:[(0,p.FD)(G.EY,{variant:"small",color:"dimmest",children:["Current endpoint: ",kD]}),(0,p.Y)(G.EY,{variant:"small",color:"dimmest",children:"Reloading window is required for change to take effect."})]})]}),children:(0,p.FD)(W.S,{gap:12,children:[(0,p.Y)(SZ.l,{css:[es.wp.minWidth(184)],initialSelectedItem:null!=(t=kI.find(function(e){return e.value===kD}))?t:kD?kI[kI.length-1]:kR,onChange:function(e){(null==e?void 0:e.title)!=="custom"?((0,_.WQ)(e.value),s(!1),window.location.reload()):s(!0)},items:kI}),o?(0,p.FD)(W.S,{row:!0,gap:4,children:[(0,p.Y)(H.pd,{value:u,onChange:function(e){c(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(0,_.WQ)(u)}}),(0,p.Y)(e$.K0,{alt:"Update custom url",onClick:function(){(0,_.WQ)(u),window.location.reload()},children:kD!==u?(0,p.Y)(sI.A,{}):(0,p.Y)(rL.A,{})})]}):null]})}):null}function kO(){var e=(0,eb._)(["\n  query CodeSuggestionPreferences($replId: String!) {\n    currentUser {\n      id\n      userSubscriptionType\n    }\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        org {\n          id\n        }\n      }\n    }\n  }\n"]);return kO=function(){return e},e}var kP={},kF=(0,ey.J1)(kO());function kU(e){var n=e.context,t=e.text,r=(0,oD.g)().show;return(0,p.Y)(M.$n,{text:void 0===t?"Activate":t,colorway:"primary",onClick:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:return[4,r("MembershipPurchaseModal",{analyticsContext:{upgrade:{context:n}}})];case 1:return e.sent(),[2]}})})()}})}function kL(){var e,n,t,r,a=(t={variables:{replId:(0,O.A)()}},r=(0,eg._)({},kP,t),ew.I(kF,r)).data,i=(null==a||null==(e=a.currentUser)?void 0:e.userSubscriptionType)===tN.Ohf.HackerPro,o=(null==a?void 0:a.getRepl.__typename)==="Repl"&&null!=(n=a.getRepl.org)&&!!n.id,s=(0,oC.Po)((0,ta.useRouter)()),l=(0,ov.f)().isTeamWithAiDisabled,u=(0,tA.g)("codeSuggestion"),c=u.preferences,d=u.update;return l?null:(0,p.FD)(W.S,{gap:12,children:[(0,p.Y)(uJ.n,{currentValue:c.codeSuggestion,update:function(e){var n=d(e),t=!0,r=!1,a=void 0;try{for(var i,o=Object.entries(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=(0,g._)(i.value,2),l=s[0],u=s[1];(0,ah.u4)(ah.AZ.SETTINGS_TOGGLED,{settingChanged:l,updatedValue:u})}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},setting:uM.KY.codeSuggestion,title:(0,p.FD)(p.FK,{children:[(0,p.Y)(W.S,{row:!0,gap:8,align:"center",children:(0,p.Y)(G.EY,{multiline:!1,children:"AI Code Completion"})}),(0,p.FD)(G.EY,{variant:"small",color:"dimmest",children:["Code completion provides inline “ghost text” suggestions while you code.",(0,p.Y)("br",{}),"Press tab or swipe right on your mobile device to accept."]})]})}),o||i||s?null:(0,p.FD)(W.S,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,p.Y)(G.EY,{children:"Upgrade for full access to Replit AI"}),(0,p.Y)(kU,{text:"Upgrade to Replit ".concat(ox.en),context:"workspace_settings_pane"})]})]})}var kM=t(55775);function kJ(e){return e.slice().sort(function(e,n){return e-n})}var kH=(0,eo.x)({ruler:[es.wp.borderRadius(8)],remove:[es.wp.borderRadius(4)],title:[es.wp.pr(8),es.wp.overflow("visible"),es.wp.flex.shrink(0)],body:[es.wp.flex.wrapReverse,es.wp.align.start,es.wp.justify.end,es.wp.flex.growAndShrink(1),{gap:U.LU.space4}],list:[es.wp.flex.wrap,es.wp.flex.growAndShrink(1),es.wp.align.end,es.wp.justify.end,{gap:U.LU.space4}]});function kB(e){var n=e.pos,t=e.onRemove;return(0,p.FD)(ex.ui,{css:kH.ruler,py:4,px:8,row:!0,gap:4,align:"center",elevated:!0,children:[(0,p.Y)(G.EY,{multiline:!1,children:n}),(0,p.Y)(e$.K0,{css:kH.remove,alt:"Remove ruler",onClick:t,children:(0,p.Y)(ki.A,{})})]})}function kV(){var e=(0,g._)((0,b.useState)(!1),2),n=e[0],t=e[1],r=(0,g._)((0,b.useState)(80),2),a=r[0],i=r[1],o=(0,b.useRef)(null),s=(0,b.useRef)(null),l=-1===a,u=a>=0&&a<=1e3,c=(0,tA.g)("rulers"),d=c.preferences,f=c.update,h=kJ(d.rulers);return(0,p.Y)(kx.wn,{id:"rulers",title:(0,p.Y)(G.EY,{css:kH.title,multiline:!1,children:"Rulers"}),children:(0,p.FD)(W.S,{css:kH.body,row:!0,children:[(0,p.Y)(W.S,{css:kH.list,row:!0,children:h.map(function(e,n){return(0,p.Y)(kB,{pos:e,onRemove:function(){f({rulers:h.filter(function(e,t){return t!==n})})}},n)})}),n?(0,p.FD)(W.S,{row:!0,gap:4,align:"center",children:[(0,p.Y)(H.pd,{ref:o,type:"number",style:{width:l?"6ch":a.toString().length+5.5+"ch"},value:a>=0?a.toString():"",onChange:function(e){if(""===e.target.value)i(-1);else{var n=parseInt(e.target.value,10);isNaN(n)||i(n)}},onKeyDown:function(e){"Escape"===e.key?(i(80),t(!1)):"Enter"===e.key&&u&&(f({rulers:kJ((0,ev._)(h).concat([a]))}),t(!1),i(80))},onBlur:function(e){e.relatedTarget!==s.current&&(t(!1),i(80))},onFocus:function(e){e.target.select()},autoFocus:!0}),(0,p.Y)(M.$n,{ref:s,text:"Accept",colorway:"primary",iconLeft:(0,p.Y)(rL.A,{}),disabled:!u,onClick:function(){u&&(f({rulers:kJ((0,ev._)(h).concat([a]))}),t(!1),i(80))},onBlur:function(e){e.relatedTarget!==o.current&&(t(!1),i(80))}})]}):(0,p.Y)(p.FK,{children:h.length>=10?null:(0,p.Y)(M.$n,{text:"Add Ruler",iconLeft:(0,p.Y)(u6.A,{}),onClick:function(){return t(!0)}})})]})})}var k$=(0,eo.x)({container:[(0,v._)({},kx.cX,[es.wp.colWithGap(8)])],switchWrapper:[es.wp.rowWithGap(8),es.wp.align.center,es.wp.justify.end,(0,v._)({},kx.cX,[es.wp.flex.rowReverse])],switchLabel:[(0,v._)({},kx.cX,[es.wp.ml(8)])]});function kG(){var e=(0,tA.g)("showLeadingWhitespace","showTrailingWhitespace","showEnclosedWhitespace","showSelectedWhitespace"),n=e.preferences,t=e.update;return(0,p.FD)(W.S,{css:k$.container,row:!0,justify:"space-between",align:"start",children:[(0,p.FD)(W.S,{grow:!0,shrink:!0,children:[(0,p.Y)(G.EY,{children:"Show Whitespace"}),(0,p.Y)(G.EY,{multiline:!0,variant:"small",color:"dimmest",children:"Make whitespace characters visible, such as tabs and spaces."})]}),(0,p.FD)(W.S,{gap:12,children:[(0,p.FD)(W.S,{css:k$.switchWrapper,tag:"label",children:[(0,p.Y)(G.EY,{variant:"small",css:k$.switchLabel,children:"Leading"}),(0,p.Y)(eh.d,{"aria-label":"Show leading whitespace",isSelected:n.showLeadingWhitespace,onChange:function(e){t({showLeadingWhitespace:e})}})]}),(0,p.FD)(W.S,{css:k$.switchWrapper,tag:"label",children:[(0,p.Y)(G.EY,{variant:"small",css:k$.switchLabel,children:"Enclosed"}),(0,p.Y)(eh.d,{"aria-label":"Show enclosed whitespace",isSelected:n.showEnclosedWhitespace,onChange:function(e){t({showEnclosedWhitespace:e})}})]}),(0,p.FD)(W.S,{css:k$.switchWrapper,tag:"label",children:[(0,p.Y)(G.EY,{variant:"small",css:k$.switchLabel,children:"Trailing"}),(0,p.Y)(eh.d,{"aria-label":"Show trailing whitespace",isSelected:n.showTrailingWhitespace,onChange:function(e){t({showTrailingWhitespace:e})}})]}),(0,p.FD)(W.S,{css:k$.switchWrapper,tag:"label",children:[(0,p.Y)(G.EY,{variant:"small",css:k$.switchLabel,children:"Selected"}),(0,p.Y)(eh.d,{"aria-label":"Show selected whitespace",isSelected:n.showSelectedWhitespace,onChange:function(e){t({showSelectedWhitespace:e})}})]})]})]})}var kz=t(11082),kW=t(31111),kj=t(23706);function kq(e){var n=e.setting,t=e.currentValue,r=e.update;return(0,p.Y)(kx.wn,{title:(0,p.FD)(p.FK,{children:[(0,p.Y)(G.EY,{multiline:!1,children:n.name}),(0,p.Y)(G.EY,{variant:"small",color:"dimmest",children:n.description})]}),id:n.id,children:(0,p.Y)(aA.e2,{name:"Agent Position",value:t,onChange:function(e){r({agentPosition:e})},row:!0,children:n.options.map(function(e){return(0,p.Y)(aA.$O,{id:e.id,value:e.editorPreferencesValue,icon:"leftSidebar"===e.editorPreferencesValue?(0,p.Y)(kW.A,{}):(0,p.Y)(kj.A,{})},e.id)})})})}var kZ=t(98935),kK=t(26454),kQ=t(45206),kX=t(84549);function k0(){var e,n,t,r,a,i=(0,ot.D)(),o=i.theme,s=i.setActiveTheme,l=(0,kZ.tS)({variables:{input:{}}}).data,u=(0,kZ.Np)({variables:{input:{}}}).data,c=(null==l||null==(n=l.currentUser)||null==(e=n.installedThemes)?void 0:e.__typename)==="InstalledThemeConnection"?l.currentUser.installedThemes.items.map(function(e){return e.customTheme}):[],d=(null==u||null==(r=u.currentUser)||null==(t=r.authoredThemes)?void 0:t.__typename)==="CustomThemeConnection"?u.currentUser.authoredThemes.items:[],f=function(e){("number"==typeof e||"replitSpooky"===e)&&s(e)},h=(0,g._)((0,b.useState)(!1),2),m=h[0],v=h[1],y=(0,b.useRef)("replitSpooky"===o.id);if(!(c.length>0||d.length>0||y.current))return(0,p.FD)(aA.e2,{name:"Theme",value:o.id,onChange:s,row:!0,children:[(0,p.Y)(aA.$O,{id:"replitLight",value:"replitLight",text:"Light",icon:(0,p.Y)(kX.A,{})}),(0,p.Y)(aA.$O,{id:"replitDark",value:"replitDark",text:"Dark",icon:(0,p.Y)(kK.A,{})})]});var w=null!=(a=({replitLight:(0,p.Y)(kX.A,{}),replitDark:(0,p.Y)(kK.A,{})})[o.id])?a:(0,p.Y)(kQ.A,{});return(0,p.FD)(tz.Wv,{isOpen:m,onOpenChange:v,label:"Home",placement:"bottom start",children:[(0,p.Y)(M.$n,{iconLeft:w,iconRight:(0,p.Y)(tW.A,{}),text:o.name}),(0,p.FD)(ac.W1,{"aria-label":"Themes",children:[(0,p.Y)(k1,{icon:(0,p.Y)(kX.A,{}),label:"Light",onAction:function(){return s("replitLight")},right:"replitLight"===o.id?(0,p.Y)(rL.A,{}):void 0}),(0,p.Y)(k1,{icon:(0,p.Y)(kK.A,{}),label:"Dark",onAction:function(){return s("replitDark")},right:"replitDark"===o.id?(0,p.Y)(rL.A,{}):void 0}),(0,p.Y)(k1,{label:"Spooky",onAction:function(){return s("replitSpooky")},right:"replitSpooky"===o.id?(0,p.Y)(rL.A,{}):void 0}),d.map(function(e){return(0,p.Y)(k1,{label:e.title,onAction:function(){return f(e.id)},right:o.id===e.id?(0,p.Y)(rL.A,{}):void 0},e.id)}),c.map(function(e){return(0,p.Y)(k1,{label:e.title,onAction:function(){return f(e.id)},right:o.id===e.id?(0,p.Y)(rL.A,{}):void 0},e.id)})]})]})}function k1(e){var n;return(0,p.FD)(ac.iy,{textValue:e.label,onAction:e.onAction,children:[(0,p.Y)(tw.Z_,{size:16,children:e.icon}),(0,p.Y)(ac.Vk,{children:e.label}),null!=(n=e.right)?n:null]})}var k2=t(83112),k3=t.n(k2);function k4(){return(0,p.Y)("div",{className:k3().divider})}function k5(){var e=(0,tA.g)("fontSize","minimapDisplay","wrapping","keyboardHandler","multiselectModifierKey","showFileTreeGitStatus","codeIntelligence","codeActionsOnSave","formatOnSave","semanticTokens","accessibleTerminal","shellBellAudio","webviewAutoOpenOnPortOpened","agentAudioNotification","agentPushNotification","agentPosition","assistantPushNotification","forwardPortsAutomatically","acceptSuggestionOnCommitCharacter","enableCloseBracketMatching"),n=e.preferences,t=e.update,r=(0,oC.Po)((0,ta.useRouter)()),a=(0,oC.m5)(),i=(0,kz.oR)(),o=(0,kA.vm)(),s=(0,om._P)({controlName:"flag-lsp-semantic-tokens",logFlagToAnalytics:!1}),l=function(e){Object.keys(e).forEach(function(n){var t=e[n];(0,ah.u4)(ah.AZ.SETTINGS_TOGGLED,{settingChanged:n,updatedValue:t})}),t(e)};if(!n)return null;var u=(0,nh._)((0,eg._)({},uM.KY.multiselectModifierKey),{options:uM.KY.multiselectModifierKey.options.map(function(e){return(0,nh._)((0,eg._)({},e),{title:(0,kS.t3)("cmdOrCtrlKey"===e.id?kS.YX.CMD_OR_CTRL_KEY:kS.YX.ALT_KEY,o)})})});return(0,p.FD)(W.S,{gap:6,pb:32,children:[(0,p.FD)(kx.iV,{title:"Agent & Assistant",defaultExpanded:!0,children:[r?null:(0,p.FD)(p.FK,{children:[(0,p.Y)(kq,{setting:uM.KY.agentPosition,update:l,currentValue:n.agentPosition}),(0,p.Y)(k4,{})]}),(0,p.Y)(uJ.n,{setting:uM.KY.agentAudioNotification,update:l,currentValue:n.agentAudioNotification}),(0,p.Y)(k4,{}),(0,p.Y)(uJ.n,{setting:uM.KY.agentPushNotification,update:l,currentValue:n.agentPushNotification}),(0,p.Y)(k4,{}),(0,p.Y)(uJ.n,{setting:uM.KY.assistantPushNotification,update:l,currentValue:n.assistantPushNotification}),(0,p.Y)(k4,{})]}),(0,p.FD)(kx.iV,{title:"App Preview",defaultExpanded:!0,children:[(0,p.Y)(kx.wn,{id:"webviewAutoOpenOnPortOpened",title:(0,p.FD)(p.FK,{children:[(0,p.Y)(G.EY,{children:i?"Automatic Preview (unavailable in this Repl)":"Automatic Preview"}),(0,p.Y)(G.EY,{variant:"small",color:"dimmest",children:"Open a web preview automatically when a port is open"}),i?(0,p.Y)(W.S,{pt:8,children:(0,p.Y)(tU.N,{colorway:"orange",text:'This preference is unavailable in Extension Apps. To view custom tools in dev mode, click the "Preview" button in Extension Devtools instead.'})}):null]}),children:(0,p.Y)(eh.d,{"aria-label":"Automatic Webview",isSelected:n.webviewAutoOpenOnPortOpened,isDisabled:i,onChange:function(e){l({webviewAutoOpenOnPortOpened:e})}})}),(0,p.Y)(k4,{}),(0,p.Y)(uJ.n,{setting:uM.KY.forwardPortsAutomatically,update:l,currentValue:n.forwardPortsAutomatically}),(0,p.Y)(k4,{})]}),(0,p.FD)(kx.iV,{title:"Appearance",defaultExpanded:!0,children:[(0,p.Y)(uJ.n,{setting:uM.KY.fontSize,update:l,currentValue:n.fontSize}),r?null:(0,p.FD)(p.FK,{children:[(0,p.Y)(k4,{}),(0,p.Y)(kx.wn,{id:"theme",title:"Theme",children:(0,p.Y)(k0,{})})]}),(0,p.Y)(k4,{})]}),(0,p.FD)(kx.iV,{title:"Code Editing",defaultExpanded:!1,children:[(0,p.Y)(kL,{}),(0,p.Y)(k4,{}),(0,p.Y)(kx.wn,{id:"acceptSuggestionOnCommitCharacter",title:(0,p.FD)(p.FK,{children:[(0,p.Y)(G.EY,{children:"Accept Suggestion on Commit Character"}),(0,p.FD)(G.EY,{variant:"small",color:"dimmest",children:["Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (",(0,p.Y)("code",{children:";"}),") can be a commit character that accepts the suggestion and types the character."]})]}),children:(0,p.Y)(eh.d,{"aria-label":"Accept suggestion on commit character",isSelected:n.acceptSuggestionOnCommitCharacter,onChange:function(e){l({acceptSuggestionOnCommitCharacter:e})}})}),(0,p.Y)(k4,{}),(0,p.Y)(kx.wn,{id:"enableCloseBracketMatching",title:(0,p.FD)(p.FK,{children:[(0,p.Y)(G.EY,{children:"Auto close brackets"}),(0,p.Y)(G.EY,{variant:"small",color:"dimmest",children:"Controls whether the editor should automatically close brackets after the user adds an opening bracket."})]}),children:(0,p.Y)(eh.d,{"aria-label":"Auto close brackets",isSelected:n.enableCloseBracketMatching,onChange:function(e){l({enableCloseBracketMatching:e})}})}),(0,p.Y)(k4,{}),(0,p.Y)(uJ.n,{setting:uM.KY.wrapping,update:l,currentValue:n.wrapping}),(0,p.Y)(k4,{}),(0,p.Y)(kM.Ay,{}),(0,p.Y)(k4,{}),a?null:(0,p.FD)(p.FK,{children:[(0,p.Y)(uJ.n,{setting:uM.KY.minimap,update:l,currentValue:n.minimapDisplay}),(0,p.Y)(k4,{})]}),(0,p.Y)(uJ.n,{setting:uM.KY.codeIntelligence,update:l,currentValue:n.codeIntelligence}),(0,p.Y)(k4,{}),s&&n.codeIntelligence?(0,p.FD)(p.FK,{children:[(0,p.Y)(uJ.n,{setting:uM.KY.semanticTokens,update:l,currentValue:n.semanticTokens}),(0,p.Y)(k4,{})]}):null,(0,p.Y)(kG,{}),(0,p.Y)(k4,{})]}),(0,p.FD)(kx.iV,{title:"Advanced Developer Settings",defaultExpanded:!1,children:[(0,p.Y)(kV,{}),(0,p.Y)(k4,{}),(0,p.Y)(uJ.n,{setting:uM.KY.keyboardHandler,update:l,currentValue:n.keyboardHandler}),(0,p.Y)(k4,{}),(0,p.Y)(uJ.n,{setting:u,update:l,currentValue:n.multiselectModifierKey}),(0,p.Y)(k4,{}),(0,p.Y)(uJ.n,{setting:uM.KY.showFileTreeGitStatus,update:l,currentValue:n.showFileTreeGitStatus}),(0,p.Y)(kN,{}),(0,p.Y)(k4,{}),(0,p.Y)(uJ.n,{setting:uM.KY.accessibleTerminal,update:l,currentValue:n.accessibleTerminal}),(0,p.Y)(k4,{}),(0,p.Y)(uJ.n,{setting:uM.KY.shellBellAudio,update:l,currentValue:n.shellBellAudio})]})]})}var k7=t(18872),k9=t.n(k7);function k8(){var e=(0,oC.m5)();return(0,p.FD)(W.S,{clsx:k9().root,p:16,gap:16,grow:!0,shrink:!0,children:[(0,p.FD)(W.S,{justify:"center",gap:2,children:[(0,p.Y)(G.Y9,{variant:"subheadBig",level:3,children:"User Settings"}),(0,p.Y)(G.EY,{variant:"small",color:"dimmest",children:"The following settings apply to your account and will be used across all your Apps."})]}),e?(0,p.Y)(k5,{}):(0,p.FD)(el.tU,{children:[(0,p.FD)(el.wb,{withDividers:!1,children:[(0,p.Y)(el.oz,{children:"Workspace"}),(0,p.Y)(el.oz,{children:"Keyboard shortcuts"})]}),(0,p.FD)(el.T2,{children:[(0,p.Y)(el.Kp,{clsx:k9().tabPanel,children:(0,p.Y)(k5,{})}),(0,p.Y)(el.Kp,{clsx:k9().tabPanel,children:(0,p.Y)(k_,{})})]})]})]})}var k6=h.ZU.Object({type:h.ZU.Literal("preferences")}),Ce={Content:function(){return(0,p.Y)(k8,{})},Icon:function(e){var n=e.size;return(0,p.Y)(tw.Vx.Provider,{value:{color:U.LU.greyStrongest,size:n},children:(0,p.Y)(sV.A,{})})},getTitle:function(){return"User Settings"},description:"Configure personal editor preferences and workspace settings which apply to all Apps",category:tb.bY.Other,decode:function(e){return m.T(k6,e)}},Cn=t(82399);function Ct(){var e=(0,eb._)(["\n  fragment ProjectMergeSectionRepl on Repl {\n    id\n    title\n  }\n"]);return Ct=function(){return e},e}function Cr(){var e=(0,eb._)(["\n  fragment ProjectMergeSectionCurrentUser on CurrentUser {\n    id\n  }\n"]);return Cr=function(){return e},e}var Ca=(0,ey.J1)(Ct()),Ci=(0,ey.J1)(Cr());function Co(){var e=(0,eb._)(["\n  fragment ReplToReplMergeOrg on Org {\n    id\n    slug\n  }\n"]);return Co=function(){return e},e}function Cs(){var e=(0,eb._)(["\n  fragment ReplMergeRelatedRepl on Repl {\n    id\n    url\n    nextPagePathname\n    ...ReplSelectorRepl\n  }\n  ","\n"]);return Cs=function(){return e},e}function Cl(){var e=(0,eb._)(["\n  fragment ReplToReplMergeProject on Project {\n    id\n    mainRepl {\n      id\n      ...ReplMergeRelatedRepl\n    }\n  }\n  ","\n"]);return Cl=function(){return e},e}function Cu(){var e=(0,eb._)(["\n  fragment ReplToReplMergeCurrentRepl on Repl {\n    id\n    ...ProjectMergeSectionRepl\n  }\n  ","\n"]);return Cu=function(){return e},e}function Cc(){var e=(0,eb._)(["\n  query ReplToReplMergeGetRelatedRepls($id: String!) {\n    getRepl(id: $id) {\n      __typename\n      ... on Repl {\n        id\n        project {\n          id\n          repls {\n            items {\n              ...ReplMergeRelatedRepl\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return Cc=function(){return e},e}var Cd=(0,ey.J1)(Co()),Cf=(0,ey.J1)(Cs(),Cn.a$),Cp=(0,ey.J1)(Cl(),Cf),Ch=(0,ey.J1)(Cu(),Ca);function Cm(){var e=(0,eb._)(["\n  query ProjectPane($id: String!) {\n    getRepl(id: $id) {\n      __typename\n      ... on Repl {\n        id\n        ...ReplToReplMergeCurrentRepl\n        project {\n          ...ReplToReplMergeProject\n          org {\n            ...ReplToReplMergeOrg\n          }\n        }\n      }\n    }\n    currentUser {\n      ...ProjectMergeSectionCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return Cm=function(){return e},e}Cc();var Cv={},Cg=(0,ey.J1)(Cm(),Ch,Cp,Cd,Ci),Cb=t(94280),Cy=t(7503),Cw=t(48667),C_=function(){var e=(0,g._)((0,b.useReducer)(function(){return Math.random()},Math.random()),2);return[e[0],e[1]]},CS=function(e){var n=e.ours,t=e.theirs,r=(0,g._)(C_(),2),a=r[0],i=r[1],o=(0,ic.A)(function(e){return(0,y._)(function(){var r,a,i,o,s,l,u;return(0,w.YH)(this,function(c){switch(c.label){case 0:return[4,Promise.all([e.log({max:100,revRange:n}),null!==t?e.log({max:100,revRange:"".concat(n,"..").concat(t)}):null,null!==t?e.log({max:100,revRange:"".concat(t,"..").concat(n)}):null])];case 1:if(r=c.sent(),i=(a=(0,g._)(r,3))[0],o=a[1],s=a[2],i.error)return[2,i];if(null==o?void 0:o.error)return[2,o];if(null==s?void 0:s.error)return[2,s];return[2,{error:null,both:i.commits,theirs:null!=(l=null==o?void 0:o.commits)?l:[],ours:null!=(u=null==s?void 0:s.commits)?u:[]}]}})})()},[n,t,a]);return[(0,b.useMemo)(function(){return null===o?{error:null}:o.error?o:{error:null,both:h5(o.both,o.theirs,o.ours),theirs:o.theirs,ours:o.ours}},[o]),i]},CA=function(){var e=(0,k.A)().git,n=(0,g._)((0,b.useState)({loading:!1,error:null}),2),t=n[0],r=n[1];return[(0,b.useCallback)(function(n){var t=n.remote,a=n.branch,i=n.allowConflicts,o=void 0!==i&&i;return(0,y._)(function(){var n;return(0,w.YH)(this,function(i){switch(i.label){case 0:return r({loading:!0,error:null}),[4,e.pull({mode:vY.MERGE,allowConflicts:o,experimental_override_remote:{name:t,branch:a}})];case 1:return(n=i.sent()).error?r({loading:!1,error:n.error}):(r({loading:!1,error:null}),e.forceRefresh()),[2]}})})()},[e]),t]},Ck=function(e){var n,t,r,a,i,o,s,l,u,c,d,f,p,h,m,v,_,S=e.selectedReplId,A=(n=null!=S?S:null,(t=(0,ic.A)(function(e){return(0,y._)(function(){var t;return(0,w.YH)(this,function(r){switch(r.label){case 0:if(!n)return[2,{hasStarted:!1,error:null,remote:null}];return[4,hZ({git:e,replId:n})];case 1:if((t=r.sent()).error)return[2,{hasStarted:!0,error:t.error}];return[2,{hasStarted:!0,error:null,remote:t.remote}]}})})()},[n]))&&t.hasStarted?t.error?{state:"Error",error:t.error}:{state:"Success",error:null,remote:t.remote}:{state:"Loading",error:null}),k=(0,g._)(CA(),2),C=k[0],Y=k[1],E=(0,g._)((a=(r=(0,g._)(C_(),2))[0],i=r[1],[(0,ic.A)(function(e){return(0,y._)(function(){var n;return(0,w.YH)(this,function(t){switch(t.label){case 0:return[4,e.getRepositoryState()];case 1:return(n=t.sent()).error,[2,n]}})})()},[a]),i]),2),x=E[0],T=E[1],D=(0,g._)((s=(o=(0,g._)(C_(),2))[0],l=o[1],[(0,ic.A)(function(e){return(0,y._)(function(){var n;return(0,w.YH)(this,function(t){switch(t.label){case 0:return[4,e.status()];case 1:return(n=t.sent()).error,[2,n]}})})()},[s]),l]),1)[0],I=(0,g._)(CS({ours:"main",theirs:S?hq({replId:S,branch:"main"}):null}),2),R=I[0],N=I[1],O=(0,g._)((c=(u={remoteName:S?hj(S):null,onCompleted:function(){T(),N()}}).remoteName,d=u.onCompleted,p=(f=(0,g._)((0,b.useState)(!1),2))[0],h=f[1],v=(m=(0,g._)(C_(),2))[0],_=m[1],(0,ic.A)(function(e){return(0,y._)(function(){var n;return(0,w.YH)(this,function(t){switch(t.label){case 0:if(!c)return[2,{error:null}];return h(!0),[4,e.fetch({remote:c})];case 1:return n=t.sent(),h(!1),null==n.error&&d(),[2,n]}})})()},[c,v]),[p,_]),2);return{state:x,status:D,commits:R,isFetching:O[0],refetch:O[1],remote:A,pull:{state:Y,doPull:function(e){"Success"===A.state&&C((0,nh._)((0,eg._)({},e),{remote:A.remote.name}))}}}},CC=(0,b.createContext)(null);function CY(){var e=(0,b.useContext)(CC);if(null===e)throw Error("useProjectGitState must be used inside a ProjectGitStateProvider");return e}var CE=t(63907);function Cx(){var e=(0,eb._)(["\n  fragment ProjectReplsComboBoxRepl on Repl {\n    id\n    ...ReplMergeRelatedRepl\n  }\n  ","\n"]);return Cx=function(){return e},e}function CT(){var e=(0,eb._)(["\n  query ProjectReplsComboBox($id: String!, $replsInput: ProjectReplsInput!) {\n    getRepl(id: $id) {\n      __typename\n      ... on Repl {\n        id\n        project {\n          id\n          mainRepl {\n            ...ProjectReplsComboBoxRepl\n          }\n          repls(input: $replsInput) {\n            items {\n              ...ProjectReplsComboBoxRepl\n            }\n            pageInfo {\n              nextCursor\n              hasNextPage\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return CT=function(){return e},e}var CD={},CI=(0,ey.J1)(Cx(),Cf),CR=(0,ey.J1)(CT(),CI),CN=t(73496),CO=t(21701),CP=(0,eo.x)({replSelector:[es.wp.minWidth(300)],item:[es.wp.display.grid,es.wp.overflow("hidden"),{gap:4,gridAutoRows:"min-content",gridAutoFlow:"row",whiteSpace:"nowrap",textOverflow:"ellipsis"}]}),CF={username:"Unknown User",image:""},CU=function(e){var n,t,r=e.replId,a=e.onSelect,i=e.selectedReplId,o=(0,iv._)(e,["replId","onSelect","selectedReplId"]),s=(0,g._)((0,b.useState)(""),2),l=s[0],u=s[1],c=(0,CN.A)(l,250),d=(0,nj.A)().showError,f=(0,g._)((0,b.useState)({options:[],mainRepl:null,nextCursor:null}),2),h=f[0],m=f[1],v=(n={variables:{id:r,replsInput:{count:10,filters:{title:{search:c}}}},ssr:!1,fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0,onCompleted:function(e){var n,t,r,a=e&&"Repl"===e.getRepl.__typename&&(null==(n=e.getRepl.project)?void 0:n.__typename)==="Project"?e.getRepl.project:null,i=(null==a?void 0:a.repls.__typename)==="ReplConnection"?a.repls:null;a&&i||d("Something went wrong loading Apps - please try again."),m({mainRepl:null!=(t=null==a?void 0:a.mainRepl)?t:null,nextCursor:(null==i?void 0:i.pageInfo.hasNextPage)&&i.pageInfo.nextCursor?i.pageInfo.nextCursor:null,options:null!=(r=null==i?void 0:i.items)?r:[]})}},t=(0,eg._)({},CD,n),ew.I(CR,t)),_=v.loading,S=v.refetch,A=v.networkStatus,k=(0,mu.A)(function(){var e=h.mainRepl,n=h.options.filter(function(e){return e.id!==r});return""===c&&e&&e.id!==r?[e].concat((0,ev._)(n.filter(function(n){return n.id!==e.id}))):n},[h,r,c]),C=(0,g._)((0,b.useState)(!1),2),Y=C[0],E=C[1];(0,b.useEffect)(function(){if(!Y){var e=k.find(function(e){return e.id===i});e&&(E(!0),""===l&&u(e.title))}},[Y,l,i,k]);var x=(0,ni.A)(a),T=(0,b.useCallback)(function(e){var n=k.find(function(n){return n.id===e});n&&(x.current(n),u(n.title))},[k,x]);return(0,p.Y)(CO.a,(0,nh._)((0,eg._)({menuTrigger:"focus",inputValue:l,onInputChange:function(e){u(e)},onSelectionChange:T,items:k,selectedKey:i,css:CP.replSelector,isLoading:_,allowsEmptyCollection:!0,onLoadMore:function(){return(0,y._)(function(){var e,n,t,a,i,o;return(0,w.YH)(this,function(s){switch(s.label){case 0:if(!(h.nextCursor&&A!==CE.p.fetchMore))return[3,2];return n=h.options,[4,S({id:r,replsInput:{count:10,filters:{title:{search:c}},cursor:h.nextCursor}})];case 1:(a=(t=s.sent())&&"Repl"===t.data.getRepl.__typename&&(null==(e=t.data.getRepl.project)?void 0:e.__typename)==="Project"&&"ReplConnection"===t.data.getRepl.project.repls.__typename?t.data.getRepl.project.repls:null)||d("Something went wrong loading Apps - please try again."),o=null!=(i=null==a?void 0:a.items)?i:[],m((0,nh._)((0,eg._)({},h),{nextCursor:(null==a?void 0:a.pageInfo.hasNextPage)&&a.pageInfo.nextCursor?a.pageInfo.nextCursor:null,options:n.concat(o)})),s.label=2;case 2:return[2]}})})()},emptyMessage:"No Apps found",maxHeight:200},o),{children:function(e){var n,t,r,a;return(0,p.FD)(B.if,{textValue:e.title,children:[(0,p.Y)(sr.e,{src:null!=(r=null==(n=e.owner)?void 0:n.image)?r:CF.image,username:null!=(a=null==(t=e.owner)?void 0:t.username)?a:CF.username,size:24}),(0,p.FD)(W.S,{css:CP.item,children:[(0,p.Y)(G.EY,{children:e.title}),(0,p.FD)(W.S,{row:!0,gap:8,align:"center",children:[(0,p.Y)(G.EY,{children:e.owner?"@".concat(e.owner.username):""}),h.mainRepl&&h.mainRepl.id===e.id?(0,p.Y)(V.a,{text:"Main Repl",variant:"filled"}):null]})]})]})}}))},CL=t(10788),CM=t(60594).Buffer,CJ=[{"& > span:first-child-of-type":[es.wp.flex.grow(1),es.wp.textAlign.left]},{"& > span":[es.wp.flex.shrink(1)]},es.wp.height("auto"),es.wp.p(8),es.wp.fontWeight.medium,es.wp.backgroundColor.backgroundHigher,es.wp.flex.row,es.wp.align.center,es.wp.justify.spaceBetween,es.wp.overflow("hidden"),es.wp.cursor.pointer],CH=(0,eo.x)({buttonFolded:[CJ,es.wp.borderRadius(8)],buttonUnfolded:[CJ,es.wp.borderRadius(8,8,0,0)],rowContainer:[es.wp.position.relative,es.wp.zIndex(1),es.wp.overflow("hidden")],diffContainer:[es.wp.borderRadius(8)],bodyContainer:[es.wp.borderRadius(0,0,8,8),es.wp.p(8),es.wp.display.flex,es.wp.flex.row,es.wp.flex.wrap,es.wp.align.center,es.wp.justify.center,es.wp.backgroundColor.backgroundDefault,es.wp.border({color:U.LU.outlineDimmer,direction:"bottom"}),es.wp.border({color:U.LU.outlineDimmer,direction:"left"}),es.wp.border({color:U.LU.outlineDimmer,direction:"right"})],noChangesContainer:[es.wp.py(8),es.wp.px(8),es.wp.center,es.wp.width("100%")],innerContainer:[es.wp.display.flex,es.wp.align.center],splitContainer:[es.wp.display.flex,es.wp.flex.row,es.wp.justify.spaceBetween,es.wp.maxWidth("100%"),es.wp.align.center],splitChild:[{flexBasis:"50%"}]}),CB=function(e){var n=e.folded,t=void 0!==n&&n,r=e.setFolded,a=e.diff,i="".concat(a.initial.path,"/").concat(a.initial.filename),o="".concat(a.final.path,"/").concat(a.final.filename);return(0,p.FD)(W.S,{css:t?CH.buttonFolded:CH.buttonUnfolded,onClick:function(){return r(!t)},children:[(0,p.FD)(W.S,{css:[CH.rowContainer,es.wp.flex.shrink(1)],align:"center",row:!0,gap:8,children:["RENAMED"===a.status||"COPIED"===a.status?(0,p.FD)(p.FK,{children:[(0,p.Y)(aV.A,{path:i}),(0,p.Y)(G.EY,{multiline:!1,children:a.initial.filename}),""===a.initial.path?null:(0,p.Y)(G.EY,{multiline:!1,color:"dimmest",css:[es.wp.fontWeight.normal],maxLines:1,children:a.initial.path}),(0,p.Y)(iR.A,{}),(0,p.Y)(aV.A,{path:o}),(0,p.Y)(G.EY,{multiline:!1,children:a.final.filename}),""===a.final.path?null:(0,p.Y)(G.EY,{multiline:!1,color:"dimmest",css:[es.wp.fontWeight.normal],children:a.final.path})]}):(0,p.FD)(p.FK,{children:[(0,p.Y)(aV.A,{path:o}),(0,p.Y)(G.EY,{multiline:!1,children:a.final.filename}),""===a.final.path?null:(0,p.Y)(G.EY,{multiline:!1,color:"dimmest",css:[es.wp.fontWeight.normal],children:a.final.path})]}),(0,p.Y)(J.r,{textToCopy:o,tooltipText:"Copy Full Path",tooltipPlacement:"bottom-end"})]}),(0,p.FD)(W.S,{css:CH.rowContainer,align:"center",row:!0,gap:8,children:[(0,p.Y)(iD,{type:a.status}),(0,p.Y)(e$.K0,{alt:t?"Collapse diff":"Expand diff",onClick:function(){return r(!t)},children:t?(0,p.Y)(tW.A,{}):(0,p.Y)(iN.A,{})})]})]})},CV=function(e){var n=e.diff,t=e.splitOrUnified,r=e.extensions;return"Split"===t?(0,p.Y)(iC,{a:{filePath:n.initial.filename,doc:n.initial.content},b:{filePath:n.final.filename,doc:n.final.content,extensions:r},collapseUnchanged:{},style:{width:"100%"}}):(0,p.Y)(nw.Ay,{filePath:n.final.filename,initialDoc:n.final.content,extensions:[im.X.of(nv.EY.of(n.initial.content.split("\n")))],readOnly:!0,style:{width:"100%"}})},C$=function(e){return(0,aU.FN)(e)?"media":(0,aU.m6)(e)?"ot":"binary"},CG=function(e){var n=e.content,t=e.type,r=e.filename,a=e.extensions;switch(t){case"media":return(0,p.Y)(W.S,{css:[{display:"flex",height:"100%"}],children:(0,p.Y)(iI.jM,{src:(0,iI.p4)(n,(0,aU.P7)(r)),fileName:r,mime:(0,aU.P7)(r)})});case"ot":return(0,p.Y)(nw.Ay,{filePath:r,initialDoc:n,readOnly:!0,style:{width:"100%"},extensions:a});default:return(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"This binary file has changed."})}},Cz=function(e){var n=e.diff,t=e.splitOrUnified,r=e.extensions;if(n.initial.content===n.final.content)return(0,p.Y)(W.S,{css:CH.noChangesContainer,children:(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"There are no changes to show."})});if("DELETED"===n.status)return(0,p.Y)(W.S,{css:CH.noChangesContainer,children:(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"This file has been deleted."})});var a=(0,CL.A)(CM.from(n.initial.content))?"binary":C$(n.initial.filename),i=(0,CL.A)(CM.from(n.final.content))?"binary":C$(n.final.filename);if("binary"===a||"binary"===i)return(0,p.Y)(W.S,{css:CH.noChangesContainer,children:(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"This binary file has changed."})});if("ADDED"===n.status)switch(i){case"media":return(0,p.Y)(W.S,{css:CH.noChangesContainer,children:(0,p.Y)(W.S,{css:CH.innerContainer,children:(0,p.Y)(iI.jM,{src:(0,iI.p4)(n.final.content,(0,aU.P7)(n.final.filename)),fileName:n.final.filename,mime:(0,aU.P7)(n.final.filename)})})});case"ot":return(0,p.Y)(W.S,{css:CH.noChangesContainer,children:(0,p.Y)(nw.Ay,{filePath:n.final.filename,initialDoc:n.final.content,readOnly:!0,style:{width:"100%"},extensions:r})});default:return(0,p.Y)(W.S,{css:CH.noChangesContainer,children:(0,p.Y)(G.EY,{color:"dimmest",multiline:!1,children:"This binary file has been added."})})}return"ot"===a&&"ot"===i?(0,p.Y)(CV,{diff:n,splitOrUnified:t,extensions:r}):(0,p.FD)(W.S,{css:CH.splitContainer,p:8,children:[(0,p.Y)(W.S,{css:CH.splitChild,align:"center",justify:"center",children:(0,p.Y)(CG,{content:n.initial.content,type:a,filename:n.initial.filename,extensions:r})}),(0,p.Y)(W.S,{css:CH.splitChild,children:(0,p.Y)(CG,{content:n.final.content,type:i,filename:n.final.filename,extensions:r})})]})},CW=function(e){var n=e.diff,t=e.fetchDiffFileContents,r=e.splitOrUnified,a=(0,g._)((0,b.useState)({expanded:!1,loading:!1,content:null,error:null}),2),i=a[0],o=a[1];return(0,p.FD)(W.S,{css:CH.diffContainer,grow:!0,children:[(0,p.Y)(CB,{folded:!i.expanded,setFolded:function(e){return(0,y._)(function(){var r;return(0,w.YH)(this,function(a){switch(a.label){case 0:if(o((0,nh._)((0,eg._)({},i),{expanded:!e,loading:null==i.content})),e)return[3,2];return[4,t(n)];case 1:r=a.sent(),o(function(e){return(0,nh._)((0,eg._)({},e),{loading:!1,error:r.error?r.error:null,content:null==r.error?{initial:r.content.base,final:r.content.head}:null})}),a.label=2;case 2:return[2]}})})()},diff:n}),i.expanded?(0,p.FD)(ex.ui,{css:CH.bodyContainer,elevated:!0,children:[i.error?(0,p.Y)(tU.N,{colorway:"negative",icon:(0,p.Y)(rJ.A,{}),text:i.error}):null,i.loading?(0,p.Y)(W.S,{p:8,children:(0,p.Y)(a$.A,{})}):null,i.content?(0,p.Y)(Cz,{diff:(0,nh._)((0,eg._)({},n),{initial:(0,nh._)((0,eg._)({},n.initial),{content:i.content.initial}),final:(0,nh._)((0,eg._)({},n.final),{content:i.content.final})}),splitOrUnified:r}):null]}):null]},n.id)},Cj=function(e){return e.Git="Git",e.Fs="Fs",e}({});function Cq(e){return(0,y._)(function(e){var n,t,r;return(0,w.YH)(this,function(a){switch(a.label){case 0:if(n=e.file,t=e.fs,r=e.git,"Fs"!==n.type)return[3,2];return[4,function(e){return(0,y._)(function(e){var n,t;return(0,w.YH)(this,function(r){switch(r.label){case 0:return n=e.path,[4,e.fs.readFile(n,{fromDisk:!0})];case 1:if((t=r.sent()).error)return[2,{content:null,error:t.error}];return[2,{content:t.content.toString("utf8"),error:null}]}})}).apply(this,arguments)}({path:n.path,fs:t})];case 1:case 3:return[2,a.sent()];case 2:return[4,r.getFileContents({path:n.path,revision:n.revision,convertToBase64:(0,aU.FN)(n.path)})]}})}).apply(this,arguments)}function CZ(e){return(0,y._)(function(){var n,t,r,a,i,o,s,l,u,c,d;return(0,w.YH)(this,function(f){switch(f.label){case 0:return n=e.fs,t=e.git,r=e.base,a=e.head,l=Promise.all,[4,Cq({git:t,fs:n,file:a})];case 1:return u=[f.sent()],[4,Cq({git:t,fs:n,file:r})];case 2:return[4,l.apply(Promise,[u.concat([f.sent()])])];case 3:if(o=(i=g._.apply(void 0,[f.sent(),2]))[0],(s=i[1]).error)return[2,{error:"fetchFileContentsForDiff could not fetch base file from ".concat(r.type," for ").concat(r.path),content:null}];if(o.error)return[2,{error:"fetchFileContentsForDiff could not fetch base file from ".concat(a.type," for ").concat(a.path),content:null}];return[2,{error:null,content:{base:null!=(c=s.content)?c:"",head:null!=(d=o.content)?d:""}}]}})})()}var CK=t(82514),CQ={z:!0,findCopies:!0,findCopiesHarder:!0,findRenames:!0,nameStatus:!0},CX={z:"-z",findCopies:"--find-copies",findCopiesHarder:"--find-copies-harder",findRenames:"--find-renames",nameStatus:"--name-status"};function C0(e){switch(e){case iE.PX.UNMODIFIED:return null;case iE.PX.MODIFIED:return il.Os.MODIFIED;case iE.PX.TYPE_CHANGED:return il.Os.TYPE_CHANGED;case iE.PX.DELETED:return il.Os.DELETED;case iE.PX.RENAMED:return il.Os.RENAMED;case iE.PX.COPIED:return il.Os.COPIED;case iE.PX.UNTRACKED:case iE.PX.UNMERGED:case iE.PX.ADDED:return il.Os.ADDED;default:(0,r_.A)(e)}}var C1=function(e,n){return""===e?n:"".concat(e,"/").concat(n)};function C2(e,n){return n.filter(function(n){var t="".concat(n.final.path,"/").concat(n.final.filename),r="".concat(n.initial.path,"/").concat(n.initial.filename);return t.toLowerCase().includes(e.toLowerCase())||r.toLowerCase().includes(e.toLowerCase())})}function C3(e){var n=e.children,t=e.headerContent;return(0,p.FD)(W.S,{gap:16,children:[(0,p.FD)(W.S,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,p.Y)(G.Y9,{level:2,variant:"subheadDefault",children:"Changed Files"}),t]}),n]})}function C4(e){var n,t,r,a,i,o,s=(0,k.A)(),l=s.fs,u=s.git,c=(0,g._)((0,b.useState)(""),2),d=c[0],f=c[1],h=(0,g._)((0,b.useState)("Split"),2),m=h[0],v=h[1],_=(n={type:"revisionToRevisionDiff",head:e.head,base:e.base},t=(0,nh._)((0,eg._)({},n),{flags:(0,nh._)((0,eg._)({},CQ),{nameStatus:!0})}),r=(0,ic.A)(function(e){return(0,y._)(function(){var n,r;return(0,w.YH)(this,function(a){switch(a.label){case 0:return n=function(e){var n,t=e.base,r=null!=(n=e.flags)?n:CQ,a=["git","diff"];switch(Object.keys(r).forEach(function(e){CX[e]&&a.push(CX[e])}),e.type){case"revisionToRevisionDiff":a.push("".concat(t,"...").concat(e.head));break;case"revisionToIndexDiff":a.push("--staged",t);break;default:(0,r_.A)(e)}return a}(t),[4,e.escapeHatchGitExecRead(n.join(" "),{serviceMethod:"useGitDiff"})];case 1:if((r=a.sent()).error||null===r.output)return[2,{error:lT.uA.UNKNOWN}];return[2,{diff:r.output,error:null}]}})})()}),a=(0,mu.A)(function(){return null==r?{loading:!0,error:null,data:null}:r.error?{loading:!1,error:r.error,data:null}:{loading:!1,error:null,data:r.diff}},[r]),(0,mu.A)(function(){if(null==a||a.loading)return{loading:!0,error:null,data:null};if(a.error)return{loading:!1,error:a.error,data:null};var e,n=null!=(e=a.data)?e:"",t=(0,CK.By)(n),r=(0,CK.GM)(n);return{loading:!1,error:null,data:Array.from(new Set((0,ev._)(t).concat((0,ev._)(r)))).filter(function(e){return["DELETED","ADDED","MODIFIED","COPIED","RENAMED","TYPE_CHANGED"].includes(e.type)}).map(function(e){var n,t;return{id:(0,nW.A)(),status:e.type,initial:{filename:(0,aU.WP)(null!=(n=e.originalPath)?n:e.path),path:(0,aU._6)(null!=(t=e.originalPath)?t:e.path)},final:{filename:(0,aU.WP)(e.path),path:(0,aU._6)(e.path)}}})}},[a])),S=(0,mu.A)(function(){var e;return C2(d,null!=(e=_.data)?e:[])},[d,_]),A=function(n){return(0,y._)(function(){return(0,w.YH)(this,function(t){switch(t.label){case 0:return[4,CZ({git:u,fs:l,base:{type:Cj.Git,revision:e.base,path:C1(n.initial.path,n.initial.filename)},head:{type:Cj.Git,revision:e.head,path:C1(n.final.path,n.final.filename)}})];case 1:return[2,t.sent()]}})})()},C=(i=CY().status,o=(0,mu.A)(function(){return i&&null==i.error?i.changes:[]},[i]),(0,mu.A)(function(){return o.map(function(e){var n,t,r,a,i=null!=(r=null!=(t=C0(e.type.worktree))?t:C0(e.type.index))?r:il.Os.UNKNOWN,o=null!=(a=null==(n=e.source)?void 0:n.path)?a:e.path;return{id:(0,nW.A)(),status:i,initial:{filename:(0,aU.WP)(o),path:(0,aU._6)(o)},final:{filename:(0,aU.WP)(e.path),path:(0,aU._6)(e.path)}}})},[o])),Y=(0,mu.A)(function(){return C2(d,C)},[d,C]),E=function(e){return(0,y._)(function(){return(0,w.YH)(this,function(n){switch(n.label){case 0:return[4,CZ({git:u,fs:l,base:{type:Cj.Git,revision:"HEAD",path:C1(e.initial.path,e.initial.filename)},head:{type:Cj.Fs,path:C1(e.final.path,e.final.filename)}})];case 1:return[2,n.sent()]}})})()};return _.loading?(0,p.Y)(C3,{children:(0,p.Y)(a$.A,{})}):_.error||null==_.data?(0,p.Y)(C3,{children:(0,p.Y)(G.EY,{children:"Something went wrong. Please try another Repl."})}):0===_.data.length&&0===C.length?(0,p.Y)(C3,{children:(0,p.FD)(W.S,{row:!0,gap:4,align:"center",children:[(0,p.Y)(lD.A,{}),(0,p.Y)(G.EY,{children:"No changes to merge"})]})}):(0,p.Y)(C3,{headerContent:(0,p.FD)(W.S,{row:!0,gap:8,children:[(0,p.Y)(iF,{value:m,onChange:v}),(0,p.Y)(p8.I,{value:d,onChange:function(e){f(e.target.value)},onClear:function(){f("")},loading:!1,placeholder:"Filter changed files"})]}),children:(0,p.FD)(W.S,{gap:12,children:[Y.length?(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(G.Y9,{level:3,variant:"text",color:"dimmer",children:"Uncommitted Changes"}),Y.map(function(e){return(0,p.Y)(CW,{diff:e,splitOrUnified:m,fetchDiffFileContents:E},e.id)})]}):null,S.length?(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(G.Y9,{level:3,variant:"text",color:"dimmer",children:"Committed Changes"}),S.map(function(e){return(0,p.Y)(CW,{diff:e,splitOrUnified:m,fetchDiffFileContents:A},e.id)})]}):null]})})}var C5=function(e){var n=e.selectedRepl,t=e.isMainRepl,r=hq({replId:n.id,branch:"main"}),a="HEAD";return(0,p.Y)(C4,{base:t?a:r,head:t?r:a})};function C7(){var e=(0,g._)((0,b.useState)(!1),2),n=e[0],t=e[1],r=(0,k.A)().fs;return(0,b.useEffect)(function(){var e=!1,n=r.watchPathStat(".gitignore",{onNewStat:function(n){e||t(!n.exists)},onError:function(){}});return function(){e=!0,n()}},[r]),n?(0,p.Y)(tU.N,{icon:(0,p.Y)(ad.A,{}),text:(0,p.FD)(G.EY,{children:["This project does not have a .gitignore file. It is recommended that all projects have a .gitignore file. You can find templates for .gitignore files for different languages"," ",(0,p.Y)("a",{href:"https://github.com/github/gitignore",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]})}):null}var C9=t(14385);function C8(e){var n=e.selectedRepl,t=(0,ic.A)(function(e){return(0,y._)(function(){var n;return(0,w.YH)(this,function(t){switch(t.label){case 0:return[4,e.getRepositoryState()];case 1:if((n=t.sent()).error)return[2,{error:null,message:"Something went wrong, this Repl's git state could not be read. Please make sure there is still a .git folder."}];if(n.state!==pg.Gi.CLEAN)return[2,{error:null,message:"This Repl has uncommitted changes. This will prevent any merges. Please undo or commit your changes before leaving the Repl."}];return[2,{error:null,message:null}]}})})()}),r=null==t?void 0:t.message;return(0,p.FD)(W.S,{gap:12,children:[(0,p.Y)(G.Y9,{level:2,variant:"subheadDefault",children:"Main Repl"}),(0,p.FD)(G.EY,{children:["You are in the main Repl for the project. If you want to merge in changes, head to"," ",n?(0,p.Y)(hx(),(0,nh._)((0,eg._)({target:"_blank"},(0,C9.q1)(n,{initialPaneType:"project"})),{children:n.title})):"a fork","."]}),r?(0,p.Y)(tU.N,{icon:(0,p.Y)(ad.A,{}),colorway:"negative",text:r}):null]})}var C6=t(14524),Ye=t(41991);function Yn(){var e=(0,eb._)(["\n  query PushToRemoteRepl($id: String!) {\n    getRepl(id: $id) {\n      ... on Repl {\n        id\n        title\n        ...CrosisContextRepl\n      }\n    }\n    currentUser {\n      id\n      ...CrosisContextCurrentUser\n    }\n  }\n  ","\n  ","\n"]);return Yn=function(){return e},e}var Yt={},Yr=(0,ey.J1)(Yn(),Ye.c,Ye.N),Ya=t(67276),Yi=t(71696),Yo=t(90352),Ys=t(6705),Yl=t(47727),Yu=(0,eo.x)({infoIcon:[es.wp.color.foregroundDimmer,{marginTop:3}],infoMessage:{flex:1}}),Yc=function(e){return e.CannotMerge="CannotMerge",e.NothingToMerge="NothingToMerge",e.OnlyUncommittedChanges="OnlyUncommittedChanges",e.UncommittedAndCommittedChanges="UncommittedAndCommittedChanges",e.OnlyCommittedChanges="OnlyCommittedChanges",e}(Yc||{}),Yd=function(){var e,n,t=CY(),r=t.commits,a=t.state;if((null==a?void 0:a.error)!=null||!(null==a?void 0:a.type)||a.type!==pg.UN.NORMAL||(null==a?void 0:a.state)==null||null!=r.error||!(null==r?void 0:r.ours))return"CannotMerge";var i=a.state===pg.Gi.DIRTY_WORKTREE||a.state===pg.Gi.DIRTY_INDEX,o=!!((null==r||null==(e=r.ours)?void 0:e.length)&&(null==r||null==(n=r.ours)?void 0:n.length)>0);return i&&!o?"OnlyUncommittedChanges":i&&o?"UncommittedAndCommittedChanges":!i&&o?"OnlyCommittedChanges":"NothingToMerge"};function Yf(e){var n,t,r,a,i,o,s,l,u,c,d,f,h,m,v,_,S,A,C,Y,E,x,T,D=e.sourceRepl,I=e.destinationRepl,R=e.projectId,N=e.mainReplId,O=e.orgId,P=e.currentUser,F=(0,nj.A)().showError,U=(0,nK.c)()("includeUncommittedChanges"),L=(0,g._)((0,b.useState)(!1),2),J=L[0],H=L[1],B=(0,g._)((t=(n={destinationReplId:I.id,sourceReplId:D.id,onSuccess:function(e){var n=e.didAutoCommit;(0,Cw.L)({action:"merge",orgId:O,projectId:R,autoCommitEnabled:n,sourceReplType:D.id===N?"mainRepl":"devRepl",destinationReplType:I.id===N?"mainRepl":"devRepl"})}}).sourceReplId,r=n.destinationReplId,a=n.onSuccess,i=(0,k.A)().git,o=(0,b.useRef)(null),l=(s=(0,g._)((0,b.useState)(!1),2))[0],u=s[1],d=(c=(0,nj.A)()).showError,f=c.showConfirm,h={variables:{id:r}},m=(0,eg._)({},Yt,h),v=ew.I(Yr,m),_=(0,b.useCallback)(function(){if(!v.data)return null;var e=v.data,n=e.getRepl,t=e.currentUser;if(!t||"Repl"!==n.__typename)return null;if(o.current)if(o.current.replId===n.id&&o.current.currentUserId===t.id)return o.current;else o.current.container.close();var r=(0,Yi.Ay)({onUnrecoverableError:function(e){id.Cp(e,{tags:{projects:!0},extra:{replid:n.id}})}});r.connect({context:(0,Yo.O)({repl:n,currentUser:t}),getMinimumRetryDelayMs:function(){return 0}});var a=(0,Ya.Ay)({container:r}),i=(0,Ys.A)({container:r,fs:a}),s=(0,Yl.A)({container:r,fs:a,enableReplspaceSshTokenPassthrough:!0});return o.current={container:r,git:i,fs:a,replspace:s,replId:n.id,currentUserId:t.id},o.current},[v.data]),(0,b.useEffect)(function(){if(o.current){var e=o.current.container;return function(){e.close()}}},[]),[(0,b.useCallback)(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoCommit:!1}).autoCommit;return(0,y._)(function(){var n,r,o,s,l,c,p,h,m;return(0,w.YH)(this,function(g){switch(g.label){case 0:if(null==(r=(null==(n=v.data)?void 0:n.getRepl.__typename)==="Repl"?v.data.getRepl:null))return d("Please try again."),[2];o=r.title,u(!0),g.label=1;case 1:if(g.trys.push([1,7,8,9]),!e)return[3,3];return[4,function(e){return(0,y._)(function(e){var n,t,r;return(0,w.YH)(this,function(a){switch(a.label){case 0:return n=e.git,t=e.commitMessage,[4,n.stageFiles({all:!0})];case 1:if(a.sent().error)return[2,{success:!1,error:"Could not commit your changes"}];return[4,n.getRepositoryState()];case 2:if((r=a.sent()).error)return[2,{success:!1,error:"Could not commit your changes"}];if(r.state!==pg.Gi.DIRTY_INDEX)return[3,4];return[4,n.commit({message:t})];case 3:if(a.sent().error)return[2,{success:!1,error:"Could not commit your changes"}];a.label=4;case 4:return[2,{success:!0,error:null}]}})}).apply(this,arguments)}({git:i,commitMessage:e.message})];case 2:if((s=g.sent()).error)return d(s.error),[2];g.label=3;case 3:if(!(l=_()))return d('Could not merge: the "'.concat(o,'" Repl could not be reached, please try again.')),[2];return[4,(c=l.git).getRepositoryState()];case 4:if((p=g.sent()).error)return d('Could not merge: the "'.concat(o,"\" Repl's git state could not be read, please try again.")),[2];if(p.state!==pg.Gi.CLEAN)return d('Could not merge: the "'.concat(o,'" Repl has uncommitted changes, please open that repl and commit or reset any changes.')),[2];return[4,hZ({git:c,replId:t})];case 5:if(g.sent().error)return d('Could not merge: the "'.concat(o,'" Repl could not be reached, please try again.')),[2];return[4,c.pull({experimental_override_remote:{name:hj(t),branch:"main"},allowConflicts:!1,mode:vY.REBASE})];case 6:if((h=g.sent()).error){switch(h.error){case lT.uA.MERGE_CONFLICT:m="this would result in a merge conflict. Get the latest changes in your repl, then try again.";break;case lT.uA.DIRTY_WORKTREE:m='the "'.concat(o,'" Repl has uncommitted changes, please open that repl and commit or reset any changes.');break;case lT.uA.HEAD_DETACHED:m='the "'.concat(o,'" Repl is on an unknown branch, please open that repl and checkout a branch before merging.');break;default:m='please check the "'.concat(o,'" Repl or try again.')}return d("Could not merge: ".concat(m)),[2]}return f("Changes pushed!"),i.forceRefresh(),null==a||a({didAutoCommit:!!e}),[3,9];case 7:return g.sent(),d("Could not merge: something went wrong, please try again."),[3,9];case 8:return u(!1),[7];case 9:return[2]}})})()},[v,_,t,d,f,i,a]),{loading:l}]),2),V=B[0],$=B[1].loading,j=(C=(S={replId:I.id,orgId:O,projectId:R,currentUserId:P.id}).replId,Y=S.orgId,E=S.projectId,x=S.currentUserId,Object.values(null!=(A=(0,C6.Si)({orgId:Y,projectId:E})[C])?A:{}).filter(function(e){return e.id!==x})),q=Yd(),Z="NothingToMerge"===q||"CannotMerge"===q||$,K="Automatic commit for ".concat(D.title);switch(q){case"NothingToMerge":T="You do not have any commits to merge in yet";break;case"CannotMerge":T="You cannot merge right now";break;case"OnlyUncommittedChanges":case"UncommittedAndCommittedChanges":case"OnlyCommittedChanges":T="Your changes will be pulled into ".concat(I.title);break;default:(0,r_.A)(q)}return(0,p.FD)(W.S,{gap:8,children:[j.length>0?(0,p.Y)(tU.N,{icon:(0,p.Y)(rJ.A,{}),colorway:"orange",text:"".concat(I.title," has active coders (@").concat(j[0].username).concat(j.length>1?" and others":"","). Merging may disrupt ongoing work.")}):null,(0,p.Y)(z.m_,{tooltip:T,isDisabled:null===T,placement:"top",maxWidth:300,children:(0,p.Y)(M.$n,{colorway:"primary",text:"Merge changes into ".concat(I.title),disabled:Z,onClick:function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:switch(q){case"NothingToMerge":return[3,1];case"CannotMerge":return[3,2];case"OnlyCommittedChanges":return[3,3];case"UncommittedAndCommittedChanges":return[3,5];case"OnlyUncommittedChanges":return[3,7]}return[3,9];case 1:return F("No changes to merge"),[3,10];case 2:return F("You cannot merge right now"),[3,10];case 3:return[4,V({autoCommit:!1})];case 4:case 6:case 8:return e.sent(),[3,10];case 5:return[4,V({autoCommit:!!J&&{message:K}})];case 7:return[4,V({autoCommit:{message:K}})];case 9:(0,r_.A)(q),e.label=10;case 10:return[2]}})})()},loading:$,iconLeft:$?(0,p.Y)(a$.A,{}):void 0})}),"OnlyUncommittedChanges"===q?(0,p.FD)(W.S,{row:!0,gap:6,children:[(0,p.Y)(ad.A,{css:Yu.infoIcon}),(0,p.Y)(G.EY,{color:"dimmer",css:Yu.infoMessage,children:"All changes are uncommitted, so they will be automatically committed when you merge"})]}):null,"UncommittedAndCommittedChanges"===q?(0,p.FD)(W.S,{row:!0,gap:6,children:[(0,p.Y)(nQ.S,{id:U,checked:J,onChange:H}),(0,p.Y)(dz.J,{htmlFor:U,children:(0,p.Y)(G.EY,{color:"dimmer",children:"Include uncommitted changes in merge"})}),(0,p.Y)(z.m_,{tooltip:"Any changes you have not committed will be automatically committed and merged",delay:"default",children:(0,p.Y)(ad.A,{css:Yu.infoIcon})})]}):null]})}function Yp(){var e=(0,eb._)(["\n  query ProjectCommitGraphRemoteRepl($id: String!) {\n    getRepl(id: $id) {\n      ... on Repl {\n        id\n        title\n      }\n    }\n  }\n"]);return Yp=function(){return e},e}var Yh={},Ym=(0,ey.J1)(Yp()),Yv=t(3383),Yg=(0,eo.x)({input:[es.wp.py(0),es.wp.minHeight(24),es.wp.pl(12)]}),Yb=function(){var e=(0,k.A)().git;return(0,b.useCallback)(function(n){return(0,y._)(function(){return(0,w.YH)(this,function(t){switch(t.label){case 0:return[4,e.stageFiles({all:!0})];case 1:return t.sent(),[4,e.commit({message:n,allowEmpty:!1})];case 2:return t.sent(),e.forceRefresh(),[2]}})})()},[e])},Yy=function(e){var n=e.onDone,t=(0,g._)((0,b.useState)(""),2),r=t[0],a=t[1],i=Yb(),o=(0,g._)((0,b.useState)(!1),2),s=o[0],l=o[1];return(0,p.Y)(H.pd,{autoFocus:!0,autoCapitalize:"off","aria-label":"Commit message",placeholder:"cmd+enter to commit",onKeyDown:function(e){return(0,y._)(function(){return(0,w.YH)(this,function(t){switch(t.label){case 0:if(!("Enter"===e.key&&e.metaKey))return[3,2];return e.stopPropagation(),e.preventDefault(),l(!0),[4,i(r)];case 1:t.sent(),l(!1),t.label=2;case 2:return"Escape"===e.key&&(a(""),n()),[2]}})})()},onChange:function(e){a(e.target.value)},disabled:s,onBlur:n,css:Yg.input})},Yw=(0,av.v)(["commit-text-foreground","commit-extended-text-foreground","commit-graph-color","segment-grid-area"]),Y_=Yw.cssVars,YS=Yw.styleTokens,YA=[es.wp.position.absolute,{top:6,left:3,width:10,height:10,borderRadius:"50%"}],Yk=(0,eo.x)({graph:[es.wp.display.grid,{gridTemplateAreas:'\n        "title-left title-left"\n        "action-left action-left"\n        "left left"\n        "spacer title-right"\n        "spacer action-right"\n        "spacer right"\n        "split-left split-right"\n        "common common"',gridTemplateColumns:"minmax(16px, min-content) 1fr",gridTemplateRows:"min-content ".repeat(8).trim()},(0,v._)({},es.kL.min("tabletMin"),{gridTemplateAreas:'\n          "title-left title-right"\n          "action-left action-right"\n          "left right" \n          "split-left split-right"  \n          "common common"',gridTemplateColumns:"1fr 1fr",gridTemplateRows:"min-content ".repeat(5).trim()})],segment:[es.wp.flex.column,es.wp.align.start,es.wp.justify.end,{listStyleType:"none",gridArea:YS["segment-grid-area"],minWidth:0,maxWidth:"100%"}],action:[{gridArea:YS["segment-grid-area"]}],title:[{gridArea:YS["segment-grid-area"]}],commit:[{minWidth:0,maxWidth:"100%"},{'&[data-interactive="true"]':[sv.b.nofill,es.wp.border({width:0})]}],decoration:[es.wp.position.relative,{height:"100%",width:16}],commitDot:[YA,{backgroundColor:YS["commit-graph-color"]}],commitDotUntracked:[YA,{"&:before":[YA,{boxSizing:"border-box",top:-2,left:-2,content:'""',border:"2px dashed ".concat(YS["commit-graph-color"])}],border:"2px solid ".concat(U.LU.accentPrimaryStronger)}],line:[{marginLeft:"auto",marginRight:"auto",position:"absolute",width:"2px",left:"calc(50% - ".concat(1,"px)"),height:"calc(100% - ".concat(8,"px)"),backgroundColor:YS["commit-graph-color"],transform:"translateY(".concat(15,"px)")},{background:"linear-gradient(to top, transparent 0%,  ".concat(YS["commit-graph-color"]," ").concat(10,"px)")},{"li:last-child  &":{height:"calc(100% - ".concat(15,"px)"),background:"none",backgroundColor:YS["commit-graph-color"]}}],commitColumn:[es.wp.viewStyle,es.wp.colWithGap(8),es.wp.minHeight(24),{minWidth:0,maxWidth:"calc(100% - ".concat(16,"px)"),overflow:"hidden"}],commitMessage:[{color:YS["commit-text-foreground"]}],commitDescription:[{color:YS["commit-extended-text-foreground"]}],splitLeft:[{gridArea:"split-left",position:"relative",height:16,width:"100%"}],splitRight:[{gridArea:"split-right",position:"relative",height:16,width:16}],curveRight:[es.wp.position.absolute,{bottom:0,left:7,borderRadius:"100% 0 0 0",borderTop:"2px solid ".concat(YS["commit-graph-color"]),borderLeft:"2px solid ".concat(YS["commit-graph-color"]),height:9,width:9}],curveUp:[es.wp.position.absolute,{top:0,left:0,borderRadius:"0 0 100% 0",borderBottom:"2px solid ".concat(YS["commit-graph-color"]),borderRight:"2px solid ".concat(YS["commit-graph-color"]),height:9,width:9}],fullLine:[{position:"absolute",width:2,height:"100%",left:7,backgroundColor:YS["commit-graph-color"]}],sidewaysLine:[{position:"absolute",width:"calc(100% - ".concat(16,"px)"),height:2,left:16,top:7,backgroundColor:YS["commit-graph-color"]}],compactLine:[es.wp.height("100%"),es.wp.position.relative,{gridArea:"spacer"},(0,v._)({},es.kL.min("tabletMin"),{display:"none"})]}),YC=function(e){var n=e.children,t=e.hasLeft,r=e.hasRight;return(0,p.FD)(W.S,{css:Yk.graph,children:[n,(0,p.Y)(YT,{hasLeft:t,hasRight:r}),(0,p.Y)("div",{css:Yk.compactLine,children:(0,p.Y)("div",{css:Yk.decoration,children:(0,p.Y)("div",{css:Yk.fullLine,style:t?(0,v._)({},Y_["commit-graph-color"],U.LU.accentPrimaryDefault):{}})})})]})},YY=function(e){var n,t,r=e.children,a=e.area,i=e.title,o=e.action;if(!b.Children.count(r))return null;var s="common"===a?(n={},(0,v._)(n,Y_["segment-grid-area"],a),(0,v._)(n,Y_["commit-graph-color"],U.LU.outlineDefault),(0,v._)(n,Y_["commit-text-foreground"],U.LU.foregroundDimmer),(0,v._)(n,Y_["commit-extended-text-foreground"],U.LU.foregroundDimmest),n):(t={},(0,v._)(t,Y_["segment-grid-area"],a),(0,v._)(t,Y_["commit-graph-color"],U.LU.accentPrimaryDefault),(0,v._)(t,Y_["commit-text-foreground"],U.LU.accentPrimaryStrongest),(0,v._)(t,Y_["commit-extended-text-foreground"],U.LU.foregroundDimmest),t);return(0,p.FD)(p.FK,{children:["common"===a?null:(0,p.Y)(Yx,{area:a,children:i}),"common"===a?null:(0,p.Y)(YE,{area:a,children:o}),(0,p.Y)(W.S,{style:s,tag:"ol",css:Yk.segment,"aria-label":a,children:r})]})},YE=function(e){var n=e.children,t=e.area,r=(0,v._)({},Y_["segment-grid-area"],"action-".concat(t));return(0,p.Y)(W.S,{style:r,css:Yk.action,py:4,row:!0,gap:8,children:n})},Yx=function(e){var n=e.children,t=e.area,r=(0,v._)({},Y_["segment-grid-area"],"title-".concat(t));return(0,p.Y)(W.S,{style:r,css:Yk.title,children:"string"==typeof n?(0,p.Y)(G.Y9,{level:3,variant:"subheadDefault",color:"dimmer",children:n}):n})},YT=function(e){var n=e.hasLeft,t=e.hasRight,r=(0,v._)({},Y_["commit-graph-color"],n?U.LU.accentPrimaryDefault:"transparent"),a=(0,v._)({},Y_["commit-graph-color"],t?U.LU.accentPrimaryDefault:"transparent");return n||t?(0,p.FD)(p.FK,{children:[(0,p.FD)("div",{css:Yk.splitLeft,children:[(0,p.FD)("div",{css:Yk.decoration,children:[(0,p.Y)("div",{css:Yk.line,"data-line":!0,style:r}),(0,p.Y)("div",{css:Yk.fullLine,"data-full-line":!0,style:r})]}),(0,p.Y)("div",{css:Yk.curveRight,style:a}),(0,p.Y)("div",{css:Yk.sidewaysLine,style:a})]}),(0,p.Y)("div",{css:Yk.splitRight,style:a,children:(0,p.Y)("div",{css:Yk.curveUp})})]}):null},YD=function(e){var n=e.onClick,t=e.children,r=e.className;return n?(0,p.Y)(M.SC,{className:r,onPress:n,css:es.wp.reset.button,children:t}):(0,p.Y)("div",{className:r,children:t})},YI=function(e){var n=e.message,t=e.description,r=e.type,a=e.onClick;return(0,p.FD)(W.S,{tag:"li",css:Yk.commit,pr:8,row:!0,align:"start",justify:"start","data-interactive":!!a,children:[(0,p.FD)("div",{css:Yk.decoration,children:[(0,p.Y)("div",{css:Yk.line}),(0,p.Y)("div",{css:"working"===r?Yk.commitDotUntracked:Yk.commitDot})]}),(0,p.FD)(YD,{onClick:a,css:Yk.commitColumn,children:[(0,p.Y)(G.EY,{multiline:!1,css:Yk.commitMessage,style:"working"===r?(0,v._)({},Y_["commit-text-foreground"],U.LU.accentPrimaryStronger):{},children:n}),t?(0,p.Y)(G.EY,{css:Yk.commitDescription,children:t}):null]})]})},YR=function(){var e=(0,g._)((0,b.useState)(!1),2),n=e[0],t=e[1];return n?(0,p.Y)("li",{children:(0,p.Y)(Yy,{onDone:function(){return t(!1)}})}):(0,p.Y)(YI,{type:"working",message:"uncommitted changes",onClick:function(){return t(!0)}})},YN=function(e){var n,t,r,a,i,o,s,l,u,c,d,f=(c={variables:{id:e.selectedRepl.id}},d=(0,eg._)({},Yh,c),ew.I(Ym,d)).data,h=CY(),m=h.state,v=h.commits,g=(null==m?void 0:m.error)?null:null!=(s=null==m?void 0:m.state)?s:null,b=(null==m?void 0:m.error)?null:null!=(l=null==m?void 0:m.type)?l:null,y=(null==f||null==(n=f.getRepl)?void 0:n.__typename)==="Repl"&&f.getRepl.title||"Remote",w=((u=b===pg.UN.NORMAL&&g!==pg.Gi.CLEAN,true),u);if(null==v?void 0:v.error)return(0,p.Y)(G.EY,{children:v.error});var _=!!(null==v||null==(t=v.theirs)?void 0:t.length),S=!!(null==v||null==(r=v.ours)?void 0:r.length)||w;return(0,p.FD)(YC,{hasLeft:_,hasRight:S,children:[_?(0,p.Y)(YY,{area:"left",title:y,children:null==v||null==(a=v.theirs)?void 0:a.map(function(e){return(0,p.Y)(YI,{message:e.subject,description:"".concat(e.author.name,", ").concat((0,Yv.K)(e.author.date))},e.hash)})}):null,S?(0,p.FD)(YY,{area:"right",title:"My workspace",children:[w?(0,p.Y)(YR,{}):null,null==v||null==(i=v.ours)?void 0:i.map(function(e){return(0,p.Y)(YI,{message:e.subject,description:"".concat(e.author.name,", ").concat((0,Yv.K)(e.author.date))},e.hash)})]}):null,(0,p.Y)(YY,{area:"common",children:null==v||null==(o=v.both)?void 0:o.map(function(e){return(0,p.Y)(YI,{message:e.subject,description:"".concat(e.author.name,", ").concat((0,Yv.K)(e.author.date))},e.hash)})})]})},YO=function(e){var n=(0,g._)((0,b.useState)(function(){return(0,ne.y$)()}),1)[0];return(0,p.FD)(py.Provider,{value:n,children:[(0,p.Y)(pj,{}),(0,p.Y)(YN,(0,eg._)({},e))]})},YP=(0,eo.x)({header:[es.wp.border({color:U.LU.outlineDimmest,direction:"bottom"})],headerLeft:[es.wp.flex.wrap,es.wp.align.center,{flex:1}],comboBoxAndActions:[es.wp.flex.wrap,es.wp.flex.shrink(1)],iconButton:[es.wp.color.foregroundDimmer,es.wp.hover(es.wp.color.foregroundDefault)],swapIcon:[es.wp.color.foregroundDimmest,{rotate:"90deg"}],warnings:[{"&:empty":es.wp.display.none}],toggle:[es.wp.minWidth(123)],errorView:[es.wp.rowWithGap(8),es.wp.justify.center],viewSection:[es.wp.px(8),es.wp.py(12),{":not(:last-of-type)":es.wp.border({color:U.LU.outlineDimmest,direction:"bottom"})}]}),YF=function(e){var n=e.selectedRepl,t=e.currentRepl,r=e.remoteResult,a=e.tab,i=e.isMainRepl;return n?"Loading"===r.state?(0,p.Y)(a$.A,{}):"Error"===r.state?(0,p.Y)(G.EY,{children:"Something went wrong, please try again."}):"changes"===a?(0,p.Y)(C5,{selectedRepl:n,isMainRepl:i}):(0,p.Y)(YO,{selectedRepl:n,currentRepl:t}):(0,p.Y)(G.EY,{children:"Select a Repl to compare against your current Repl."})},YU=(0,b.forwardRef)(function(e,n){var t,r,a,i,o,s=e.repl,l=e.project,u=e.openGitPane,c=e.org,d=e.currentUser,f=!!l.mainRepl&&s.id===l.mainRepl.id,h=(0,g._)((0,b.useState)(f?null:null!=(r=l.mainRepl)?r:null),2),m=h[0],v=h[1],y=(0,g._)((0,b.useState)("changes"),2),w=y[0],_=y[1],S=function(){return _("changes"===w?"commits":"changes")};(0,b.useEffect)(function(){(0,Cw.L)({action:"tabOpened",orgId:c.id,projectId:l.id,tab:w,replType:f?"mainRepl":"devRepl"})},[w,l,c,f]);var A=Ck({selectedReplId:null!=(a=null==m?void 0:m.id)?a:null}),k=A.isFetching,C=A.refetch,Y=A.state,E=A.remote,x=A.pull,T=x.doPull,D=x.state,I=D.error,R=D.loading,N=(null==Y?void 0:Y.error)?null:null!=(i=null==Y?void 0:Y.state)?i:null;return(0,p.Y)(CC.Provider,{value:A,children:(0,p.FD)(W.S,{innerRef:n,children:[(0,p.FD)(W.S,{css:YP.header,p:8,row:!0,gap:2,children:[(0,p.FD)(W.S,{css:YP.headerLeft,row:!0,gap:8,children:["changes"===w?(0,p.Y)(M.$n,{css:YP.toggle,text:"Changes",iconLeft:(0,p.Y)(lD.A,{}),iconRight:(0,p.Y)(vs.A,{css:YP.swapIcon}),onClick:S},"toggle"):(0,p.Y)(M.$n,{css:YP.toggle,text:"Commits",iconLeft:(0,p.Y)(i$,{}),iconRight:(0,p.Y)(vs.A,{css:YP.swapIcon}),onClick:S},"toggle"),(0,p.Y)(G.EY,{color:"dimmer",multiline:!0,children:"compared against"}),(0,p.FD)(W.S,{css:YP.comboBoxAndActions,row:!0,gap:8,children:[(0,p.Y)(CU,{"aria-label":"Select a Repl",replId:s.id,selectedReplId:null!=(o=null==m?void 0:m.id)?o:null,onSelect:v}),(0,p.FD)(W.S,{row:!0,gap:0,align:"center",children:[(0,p.Y)(e$.K0,{alt:"Pull",onClick:function(){T({branch:"main"}),(0,Cw.L)({action:"pull",orgId:c.id,projectId:l.id,replType:f?"mainRepl":"devRepl"})},disabled:R||f,css:YP.iconButton,children:k?(0,p.Y)(a$.A,{}):(0,p.Y)(rz.A,{})}),m?(0,p.Y)(cg.A,(0,nh._)((0,eg._)({alt:"Go to ".concat(m.title),target:"_blank"},(0,C9.q1)(m,{initialPaneType:"project"})),{css:YP.iconButton,children:(0,p.Y)(tj.A,{})})):null]})]})]}),(0,p.Y)(W.S,{pt:4,row:!0,gap:8,children:(0,p.Y)(e$.K0,{alt:"Fetch",onClick:C,disabled:"Success"!==E.state,css:YP.iconButton,children:k?(0,p.Y)(a$.A,{}):(0,p.Y)(sI.A,{})})})]}),(0,p.FD)(W.S,{css:YP.warnings,p:8,gap:12,children:[I===lT.uA.DIRTY_WORKTREE?(0,p.Y)(W.S,{css:YP.errorView,children:(0,p.Y)(tU.N,{colorway:"negative",icon:(0,p.Y)(rJ.A,{}),text:"You have uncommitted changes. Please commit them before pulling."})}):null,I===lT.uA.MERGE_CONFLICT?(0,p.FD)(W.S,{css:YP.errorView,children:[(0,p.Y)(tU.N,{colorway:"negative",icon:(0,p.Y)(rJ.A,{}),text:"There were conflicts in the changes you are trying to pull. Click to resolve them."}),(0,p.Y)(M.$n,{text:"Resolve Manually",onClick:function(){u(),T({branch:"main",allowConflicts:!0}),(0,Cw.L)({projectId:l.id,orgId:c.id,action:"pullWithConflicts",replType:f?"mainRepl":"devRepl"})},colorway:"negative"})]}):null,N===pg.Gi.MERGING?(0,p.Y)(tU.N,{colorway:"primary",text:"Merge in progress"}):null,N===pg.Gi.REBASING?(0,p.Y)(tU.N,{colorway:"primary",text:"Rebase in progress"}):null,(0,p.Y)(C7,{})]}),f?(0,p.Y)(W.S,{css:YP.viewSection,children:(0,p.Y)(C8,{selectedRepl:null!=m?m:void 0})}):null,!f&&m?(0,p.Y)(W.S,{css:YP.viewSection,children:(0,p.Y)(Yf,{destinationRepl:m,sourceRepl:s,projectId:l.id,mainReplId:null==(t=l.mainRepl)?void 0:t.id,orgId:c.id,currentUser:d})}):null,(0,p.Y)(W.S,{css:YP.viewSection,children:(0,p.Y)(YF,{currentRepl:s,selectedRepl:m,remoteResult:E,isMainRepl:f,tab:w})})]})})}),YL=t(93174),YM=(0,eo.x)({container:[es.wp.p(8)]});function YJ(e){var n,t,r,a,i=e.isActive,o=e.performPaneOperation,s=(0,Cy.Jw)(Cb.X.id,Cb.F.ProjectPane),l=(0,O.A)(),u=(0,YL.Q)(),c=(n={variables:{id:l}},t=(0,eg._)({},Cv,n),ew.I(Cg,t)),d=c.data,f=c.loading,h=c.error,m=(null==d?void 0:d.getRepl.__typename)==="Repl"?d.getRepl:null,v=(null==d?void 0:d.currentUser)?d.currentUser:null,g=(null==m||null==(r=m.project)?void 0:r.__typename)==="Project"?m.project:null,y=(null==g||null==(a=g.org)?void 0:a.__typename)==="Org"?g.org:null,w=(0,nj.A)().showError,_="error"===u.state?u.error:null;return((0,b.useEffect)(function(){_&&w(_)},[w,_]),gz(i),f||"loading"===u.state)?(0,p.Y)(W.S,{p:16,row:!0,gap:8,justify:"center",children:(0,p.Y)(a$.A,{})}):y&&g?!h&&m&&v?(0,p.Y)(YU,{ref:s,repl:m,project:g,org:y,openGitPane:function(){return o({operation:"open",pane:{type:"git"}})},currentUser:v}):(0,p.Y)(W.S,{css:YM.container,children:(0,p.Y)(G.EY,{children:"Something went wrong, please try again."})}):(0,p.Y)(W.S,{css:YM.container,children:(0,p.Y)(G.EY,{children:"This Repl is not a project!"})})}function YH(e){return(0,p.Y)(tw.Ay,(0,nh._)((0,eg._)({},e),{children:(0,p.Y)("path",{fillRule:"evenodd",d:"M6 3.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM2.25 6a3.75 3.75 0 1 1 4.5 3.675V21a.75.75 0 0 1-1.5 0V9.675A3.751 3.751 0 0 1 2.25 6Zm10 0a.75.75 0 0 1 .75-.75h3A2.75 2.75 0 0 1 18.75 8v6.325A3.751 3.751 0 0 1 18 21.75a3.75 3.75 0 0 1-.75-7.425V8A1.25 1.25 0 0 0 16 6.75h-3a.75.75 0 0 1-.75-.75ZM18 15.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z",clipRule:"evenodd"})}))}var YB=h.ZU.Object({type:h.ZU.Literal("project")}),YV={Content:function(e){var n=e.options,t=n.isActive,r=n.performPaneOperation;return(0,p.Y)(YJ,{isActive:t,performPaneOperation:r})},Icon:function(){return(0,p.Y)(YH,{})},getTitle:function(){return"Project"},description:"Manage changes in your Project and sync or merge changes across Apps in the Project",category:tb.bY.WorkspaceFeatures,decode:function(e){return m.T(YB,e)}},Y$=h.ZU.Object({type:h.ZU.Literal("replitAuth")});function YG(){var e=(0,eb._)(["\n  query ReplitAuth($id: String!) {\n    getRepl(id: $id) {\n      ... on Repl {\n        id\n        title\n        iconUrl\n        hasAuthUsers\n        authorizations {\n          editMetadata {\n            isAuthorized\n          }\n          manageAuth {\n            isAuthorized\n            code\n            message\n          }\n        }\n        authProviderConfig {\n          ... on AuthProviderConfig {\n            id\n            minimizedProviders\n          }\n        }\n      }\n    }\n  }\n"]);return YG=function(){return e},e}function Yz(){var e=(0,eb._)(["\n  query ReplitAuthUsers(\n    $id: String!\n    $count: Int\n    $after: String\n    $orderBy: ReplitAuthUserOrderByInput\n    $filter: ReplitAuthUserFilterInput\n  ) {\n    getRepl(id: $id) {\n      ... on Repl {\n        id\n        authUsers(\n          count: $count\n          after: $after\n          orderBy: $orderBy\n          filter: $filter\n        ) {\n          items {\n            id\n            banned\n            timeCreated\n            lastLoggedIn\n            displayName\n            image\n            email\n            userId\n          }\n          pageInfo {\n            hasNextPage\n            nextCursor\n          }\n        }\n      }\n    }\n  }\n"]);return Yz=function(){return e},e}function YW(){var e=(0,eb._)(["\n  mutation UpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        title\n        iconUrl\n      }\n    }\n  }\n"]);return YW=function(){return e},e}function Yj(){var e=(0,eb._)(["\n  mutation UpdateReplitAuthProviderConfig(\n    $input: UpdateReplitAuthProviderConfigInput!\n  ) {\n    updateReplitAuthProviderConfig(input: $input) {\n      ... on AuthProviderConfig {\n        id\n        minimizedProviders\n      }\n    }\n  }\n"]);return Yj=function(){return e},e}function Yq(){var e=(0,eb._)(["\n  mutation UpdateReplitAuthUserBanStatus(\n    $input: UpdateReplitAuthUserBanStatusInput!\n  ) {\n    updateReplitAuthUserBanStatus(input: $input) {\n      ... on UpdateReplitAuthUserBanStatusOutput {\n        success\n        message\n        user {\n          id\n          banned\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return Yq=function(){return e},e}var YZ={},YK=(0,ey.J1)(YG());function YQ(e){var n=(0,eg._)({},YZ,e);return ew.I(YK,n)}var YX=(0,ey.J1)(Yz());YW();var Y0=(0,ey.J1)(Yj()),Y1=(0,ey.J1)(Yq()),Y2=t(64970),Y3=t(790),Y4=t(98319),Y5=t(69805);function Y7(e){var n=e.openPane,t=(0,rh.c)({openPane:n}),r=(0,g._)((0,b.useState)(!1),2),a=r[0],i=r[1],o=(0,b.useCallback)(function(e){t("Add Replit Auth to my app",e),i(!1)},[t]);return(0,p.FD)(tz.Wv,{isOpen:a,onOpenChange:i,label:"Ask Agent options",placement:"bottom start",children:[(0,p.Y)(fd.d,{iconLeft:(0,p.Y)(ad.A,{}),text:"Replit Auth is not configured. Click set up with Agent, and log into your app once with Replit Auth to configure.",colorway:"primary",onClick:function(){return i(!0)}}),(0,p.Y)(Y5._,{onClick:o})]})}var Y9=t(65053),Y8=t(78133),Y6=t(49188),Ee=t(82602),En=(0,eo.x)({loadingContainer:[es.wp.height("100%")],sectionContainer:[es.wp.mb(24)],providerItem:[es.wp.gap(8)],form:[es.wp.p(0)],sectionTitle:[es.wp.mb(16)],sectionSubtitle:[es.wp.mb(16)],providerIconContainer:[es.wp.mr(8),es.wp.flex.row,es.wp.align.center],errorText:[{color:U.LU.foregroundDefault}],configContent:[{maxWidth:430}],pageTitle:[es.wp.mb(16)],saveButton:[es.wp.mt(16)]}),Et=[{id:"google",label:"Google",icon:(0,p.Y)(function(e){return(0,p.Y)(tw.Ay,(0,nh._)((0,eg._)({},e),{children:(0,p.Y)("path",{d:"M16.855 6.55c-1.25-1.19-2.83-1.8-4.6-1.8-3.13 0-5.78 2.11-6.73 4.96-.24.72-.38 1.49-.38 2.29s.13 1.57.38 2.29c.95 2.85 3.6 4.96 6.73 4.96 1.62 0 2.99-.44 4.07-1.16 1.26-.85 2.11-2.1 2.4-3.58h-6.47V10h11.3c.12.73.19 1.48.19 2.27 0 3.65-1.3 6.73-3.56 8.82-1.98 1.83-4.69 2.91-7.93 2.91-4.69 0-8.74-2.7-10.71-6.62a11.86 11.86 0 0 1 0-10.76C3.515 2.7 7.565 0 12.255 0c3.24 0 5.95 1.19 8.02 3.13l-3.42 3.42Z"})}))},{size:16})},{id:"github",label:"GitHub",icon:(0,p.Y)(pN.A,{size:16})},{id:"x",label:"X",icon:(0,p.Y)(Ee.A,{size:16})},{id:"apple",label:"Apple",icon:(0,p.Y)(Y8.A,{size:16})},{id:"email",label:"Email",icon:(0,p.Y)(Y6.A,{size:16})}];function Er(e){var n,t,r=e.replId,a=e.hasAuthUsers,i=e.openPane,o=YQ({variables:{id:r}}),s=o.data,l=o.loading,u=(0,nj.A)(),c=u.showError,d=u.showConfirm,f=(0,g._)((0,b.useState)(""),2),h=f[0],m=f[1],v=(0,g._)((0,b.useState)([]),2),_=v[0],S=v[1],A=(0,nK.c)(),k=(0,b.useRef)(void 0),C=(0,b.useRef)([]);(0,_F.M)(ah.AZ.AUTH_PANE_USED,{action:"Configure Tab Viewed",replId:r});var Y=(0,g._)((0,Y2.KZ)({onError:function(e){return c((0,Y3.A)(e.message))},onCompleted:function(e){d("App info updated successfully");var n=e.updateRepl.repl;n&&"url"in n&&n.url&&n.url!==k.current&&(window.history.replaceState(null,"",n.url+window.location.search+window.location.hash),k.current=n.url)}}),1)[0],E=(0,g._)((n={onError:function(e){c((0,Y3.A)(e.message))},onCompleted:function(e){if(!e.updateReplitAuthProviderConfig||"AuthProviderConfig"!==e.updateReplitAuthProviderConfig.__typename)return void c("Failed to update login providers");d("Login providers updated"),C.current=(0,ev._)(_)}},t=(0,eg._)({},YZ,n),uV.n(Y0,t)),2),x=E[0],T=E[1].loading,D=(0,b.useCallback)(function(){if((null==s?void 0:s.getRepl)&&"Repl"===s.getRepl.__typename){m(s.getRepl.title||""),"url"in s.getRepl&&"string"==typeof s.getRepl.url&&(k.current=s.getRepl.url);var e=s.getRepl.authProviderConfig,n=Et.map(function(e){return e.id});e&&"AuthProviderConfig"===e.__typename&&e.minimizedProviders&&(n=n.filter(function(n){return!e.minimizedProviders.includes(n)})),S(n),C.current=(0,ev._)(n)}},[s]);(0,b.useEffect)(function(){s&&D()},[s,D]);var I=function(){(0,ah.u4)(ah.AZ.AUTH_PANE_USED,{action:"App Info Saved",appName:h}),Y({variables:{input:{id:r,title:h}}})},R=function(e){S(function(n){return n.includes(e)?n.filter(function(n){return n!==e}):(0,ev._)(n).concat([e])})};if(l)return(0,p.Y)(W.S,{css:En.loadingContainer,row:!0,justify:"center",align:"center",children:(0,p.Y)(a$.A,{size:24})});var N=(null==s?void 0:s.getRepl)&&"Repl"===s.getRepl.__typename?s.getRepl:null;return N?(0,p.FD)(W.S,{css:En.configContent,gap:12,children:[!1===a&&(0,p.Y)(Y7,{openPane:i}),(0,p.Y)(G.EY,{variant:"subheadBig",css:En.pageTitle,children:"Configure your log in screen"}),(0,p.FD)(W.S,{css:En.sectionContainer,children:[(0,p.Y)(G.EY,{css:En.sectionTitle,variant:"subheadDefault",children:"App info"}),(0,p.Y)("form",{css:En.form,onSubmit:function(e){e.preventDefault(),I()},children:(0,p.Y)(W.S,{align:"stretch",gap:16,children:(0,p.FD)(ex.ui,{background:"default",gap:16,children:[(0,p.Y)(W.S,{children:(0,p.FD)(W.S,{gap:4,children:[(0,p.FD)(W.S,{row:!0,justify:"space-between",align:"end",children:[(0,p.Y)("label",{htmlFor:A("app-name"),children:(0,p.Y)(G.EY,{variant:"small",color:"dimmer",multiline:!1,children:"Name"})}),(0,p.Y)(Y9.A,{maxLength:60,value:h,hideLabel:!0})]}),(0,p.Y)(H.pd,{value:h,onChange:function(e){return m(e.target.value)},onBlur:I,placeholder:"Your app name",maxLength:60,id:A("app-name")})]})}),(0,p.Y)(Y4.A,{replId:r,authz:{isAuthorized:N&&N.authorizations.editMetadata.isAuthorized},initialIconUrl:N.iconUrl||"",originIconUrl:""})]})})})]}),(0,p.FD)(W.S,{css:En.sectionContainer,children:[(0,p.Y)(G.EY,{css:En.sectionTitle,variant:"subheadDefault",children:"Log in providers"}),(0,p.Y)(G.EY,{multiline:!0,css:En.sectionSubtitle,children:"Choose which login options to display prominently. Unchecked options will appear in a dropdown menu."}),(0,p.Y)(W.S,{gap:12,children:Et.map(function(e){return(0,p.FD)(W.S,{css:En.providerItem,row:!0,align:"center",children:[(0,p.Y)(nQ.S,{checked:_.includes(e.id),onChange:function(){return R(e.id)},id:A("provider-".concat(e.id))}),(0,p.Y)("label",{htmlFor:A("provider-".concat(e.id)),children:(0,p.FD)(W.S,{css:es.wp.flex.row,align:"center",children:[(0,p.Y)(W.S,{css:En.providerIconContainer,children:e.icon}),(0,p.Y)(G.EY,{children:e.label})]})})]},e.id)})}),(0,p.Y)(W.S,{css:En.saveButton,children:(0,p.Y)(M.$n,{onClick:function(){return(0,y._)(function(){var e;return(0,w.YH)(this,function(n){switch(n.label){case 0:return e=Et.map(function(e){return e.id}).filter(function(e){return!_.includes(e)}),(0,ah.u4)(ah.AZ.AUTH_PANE_USED,{action:"Login Providers Saved",selectedProviders:_,minimizedProviders:e}),[4,x({variables:{input:{replId:r,minimizedProviders:e}}})];case 1:return n.sent(),[2]}})})()},text:"Save providers",colorway:"primary",loading:T,disabled:T})})]})]}):(0,p.Y)(W.S,{children:(0,p.Y)(G.EY,{css:En.errorText,children:"Error loading app information."})})}var Ea=t(64875),Ei=t(3554),Eo=t(8613),Es=t(35155),El={userId:"USER_ID",name:"NAME",username:"USERNAME",added:"LAST_LOGIN",email:"EMAIL"},Eu=[{key:"userId",label:"User ID",isRowHeader:!0,className:"userIdColumn",allowSorting:!1},{key:"email",label:"Email",className:"emailColumn",allowSorting:!0},{key:"name",label:"Name",className:"nameColumn",allowSorting:!0},{key:"lastLoggedIn",label:"Last logged in",className:"lastLoggedInColumn",allowSorting:!0},{key:"actions",label:"",alignment:"end",className:"actionsColumn"}],Ec=(0,eo.x)({wrapper:[es.wp.height("100%"),es.wp.display.flex,es.wp.flex.column],container:[es.wp.flex.column,es.wp.flex.grow(1),es.wp.height("100%")],headerTitle:[es.wp.mb(16),es.wp.flex.row,es.wp.align.center,es.wp.gap(8)],tableWrapper:[es.wp.flex.column,es.wp.flex.growAndShrink(1),es.wp.minHeight(0),es.wp.overflow("hidden")],table:[es.wp.width("100%"),es.wp.height("100%"),es.wp.container("table"),es.wp.flex.grow(1),{"& .userIdColumn":{minWidth:100,maxWidth:200,width:"15%"},"& .nameColumn":{minWidth:200,maxWidth:350,width:"20%"},"& .emailColumn":(0,v._)({minWidth:200,maxWidth:350,width:"25%"},es.kL.max(800,"table"),[{display:"none"}]),"& .lastLoggedInColumn":{minWidth:150,maxWidth:200,width:"10%"},"& .actionsColumn":{width:"10%"}}],searchContainer:[es.wp.mb(16),{width:"fit-content"}]}),Ed=(0,eo.x)({modalContent:[es.wp.flex.column,es.wp.gap(16)],detailsRow:[es.wp.flex.column,es.wp.gap(4)],label:[es.wp.color.foregroundDefault,{fontSize:U.LU.fontSizeSmall,lineHeight:U.LU.lineHeightDefault,fontWeight:U.LU.fontWeightMedium}],value:[es.wp.gap(8),es.wp.color.foregroundDimmer,{fontSize:U.LU.fontSizeDefault,lineHeight:U.LU.lineHeightDefault}],buttonsContainer:[es.wp.gap(8)]}),Ef=(0,eo.x)({title:[es.wp.mb(16)]});function Ep(e,n){var t,r=(0,nj.A)(),a=r.showConfirm,i=r.showError,o=(0,g._)((t=(0,eg._)({},YZ,void 0),uV.n(Y1,t)),1)[0];return function(){return(0,y._)(function(){var t,r;return(0,w.YH)(this,function(s){switch(s.label){case 0:if(!n)return[2];s.label=1;case 1:return s.trys.push([1,3,,4]),(0,ah.u4)(ah.AZ.AUTH_PANE_USED,{action:n.banned?"User Unbanned":"User Banned",userId:n.userId}),[4,o({variables:{input:{replId:e,userId:Number(n.userId),action:n.banned?"UNBAN":"BAN"}},update:function(e,t){var r=t.data;(null==r?void 0:r.updateReplitAuthUserBanStatus.__typename)==="UpdateReplitAuthUserBanStatusOutput"&&r.updateReplitAuthUserBanStatus.success&&e.modify({id:e.identify({__typename:"ReplitAuthUser",id:n.id}),fields:{banned:function(){return!n.banned}}})}})];case 2:return(null==(r=null==(t=s.sent().data)?void 0:t.updateReplitAuthUserBanStatus)?void 0:r.__typename)==="UpdateReplitAuthUserBanStatusOutput"&&r.success?a(r.message):(null==r?void 0:r.__typename)==="NotFoundError"||(null==r?void 0:r.__typename)==="UnauthorizedError"?i(r.message):i("Failed to update ban status"),[3,4];case 3:return s.sent(),i("Failed to update ban status"),[3,4];case 4:return[2]}})})()}}function Eh(e){var n,t,r,a=e.replId,i=e.hasAuthUsers,o=e.openPane,s=(0,g._)((0,b.useState)(""),2),l=s[0],u=s[1],c=(0,g._)((0,b.useState)(null),2),d=c[0],f=c[1],h=(0,g._)((0,b.useState)(!1),2),m=h[0],v=h[1],_=(0,g._)((0,b.useState)({field:"LAST_LOGIN",direction:"DESC"}),2),S=_[0],A=_[1],k=(0,b.useRef)(null),C=(0,CN.A)(l,500);(0,_F.M)(ah.AZ.AUTH_PANE_USED,{action:"Users Tab Viewed",replId:a}),(0,_F.r)(ah.AZ.AUTH_PANE_USED,{action:"Users Searched"},function(){return!!C},[C]);var Y=(n={variables:{id:a,count:50,orderBy:S,filter:C?{search:C}:void 0},fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0,ssr:!1},t=(0,eg._)({},YZ,n),ew.I(YX,t)),E=Y.data,x=Y.loading,T=Y.error,D=Y.fetchMore,I=(0,b.useMemo)(function(){if((null==E?void 0:E.getRepl)&&"Repl"===E.getRepl.__typename&&E.getRepl.authUsers)return E.getRepl.authUsers},[E]),R=(0,b.useMemo)(function(){var e;return null!=(e=null==I?void 0:I.items)?e:[]},[I]),N=null!=(r=null==I?void 0:I.pageInfo.hasNextPage)&&r,O=(0,b.useMemo)(function(){return R.some(function(e){return e.email})},[R]),P=(0,b.useMemo)(function(){return Eu.filter(function(e){return"email"!==e.key||O})},[O]),F=(0,b.useCallback)(function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(x||!N)return[2];return[4,D({variables:{id:a,count:50,after:null==I?void 0:I.pageInfo.nextCursor,orderBy:S,filter:C?{search:C}:void 0},updateQuery:function(e,n){var t,r,a=n.fetchMoreResult;if((null==(t=a.getRepl)?void 0:t.__typename)!=="Repl"||!a.getRepl.authUsers)return e;var i=(null==(r=e.getRepl)?void 0:r.__typename)==="Repl"&&e.getRepl.authUsers?e.getRepl.authUsers.items:[],o=(0,ev._)(i).concat((0,ev._)(a.getRepl.authUsers.items));return(0,nh._)((0,eg._)({},a),{getRepl:(0,nh._)((0,eg._)({},a.getRepl),{authUsers:(0,nh._)((0,eg._)({},a.getRepl.authUsers),{items:o})})})}})];case 1:return e.sent(),[2]}})})()},[x,N,D,a,null==I?void 0:I.pageInfo.nextCursor,S,C]),U=(0,b.useCallback)(function(e){if(e.column){var n=El[e.column]||"LAST_LOGIN",t="ascending"===e.direction?"ASC":"DESC";(0,ah.u4)(ah.AZ.AUTH_PANE_USED,{action:"Users Sorted",sortField:n,sortDirection:t}),A({field:n,direction:t})}},[]),L=(0,b.useMemo)(function(){return null!==d&&R.find(function(e){return e.userId===d})||null},[R,d]);return(0,p.Y)("div",{ref:k,css:Ec.wrapper,children:(0,p.FD)(W.S,{css:Ec.container,gap:12,children:[!i&&(0,p.Y)(Y7,{openPane:o}),(0,p.FD)(W.S,{css:Ec.headerTitle,children:[(0,p.Y)(K.A,{size:24}),(0,p.Y)(G.EY,{variant:"subheadBig",children:"Users"})]}),(0,p.Y)(W.S,{css:Ec.searchContainer,children:(0,p.Y)(p8.I,{placeholder:"Search users",value:l,onChange:function(e){return u(e.target.value)},onClear:function(){u("")}})}),(0,p.Y)(ex.ui,{css:Ec.tableWrapper,elevated:!0,children:(0,p.Y)(Ei.h,{css:Ec.table,autoLayout:!0,title:"Authenticated Users",columns:P,items:R,selectionMode:"none",selectionBehavior:"replace",loading:x,loadingPlaceholder:{numRows:50,height:36},errorMessage:null==T?void 0:T.message,emptyState:(0,p.Y)(Ea.A,{title:x?"Loading users...":"No users",description:function(){if(!x)return C?"No users match your search criteria.":"Users who log in to your app will appear here."}(),illustration:(0,p.Y)(K.A,{size:24})}),canLoadMore:N,onLoadMore:F,isLoadingMore:I&&x,onSortChange:U,children:function(e){return(0,p.FD)(Es.H,{id:e.id,children:[(0,p.Y)(Eo.n,{className:"userIdColumn",children:(0,p.Y)(G.EY,{children:e.userId})},"userId-".concat(e.id)),O?(0,p.Y)(Eo.n,{className:"emailColumn",children:(0,p.Y)(G.EY,{children:e.email||""})},"email-".concat(e.id)):null,(0,p.Y)(Eo.n,{className:"nameColumn",children:(0,p.FD)(W.S,{row:!0,align:"center",gap:8,children:[(0,p.Y)(sr.e,{src:e.image||null,username:e.displayName||"",size:20}),(0,p.Y)(G.EY,{children:e.displayName||""}),e.banned?(0,p.Y)(V.a,{text:"Banned",colorway:"negative",variant:"muted",compact:!0}):null]})},"name-".concat(e.id)),(0,p.Y)(Eo.n,{className:"lastLoggedInColumn",children:e.lastLoggedIn?(0,p.Y)(eP.Dc,{date:e.lastLoggedIn,dateFormat:"relative"}):"Never"},"lastLoggedIn-".concat(e.id)),(0,p.Y)(Eo.n,{className:"actionsColumn",children:(0,p.Y)(Em,{user:e,onViewDetails:function(){f(e.userId),v(!0)},replId:a})},"actions-".concat(e.id))]},e.id)}})}),L?(0,p.Y)(Ev,{user:L,isOpen:m,onClose:function(){v(!1),f(null)},portalContainer:k.current,replId:a}):null]})})}var Em=function(e){var n=e.user,t=e.onViewDetails,r=Ep(e.replId,n);return(0,p.Y)(W.S,{row:!0,justify:"end",children:(0,p.FD)(ac.in,{placement:"bottom end",trigger:(0,p.Y)(e$.K0,{alt:"Actions",children:(0,p.Y)(cG.A,{})}),children:[(0,p.Y)(ac.Dr,{label:"View details",onAction:function(){(0,ah.u4)(ah.AZ.AUTH_PANE_USED,{action:"User Details Viewed",userId:n.userId}),t()}}),(0,p.Y)(ac.Dr,{label:n.banned?"Unban user":"Ban user",onAction:r})]})})};function Ev(e){var n=e.user,t=e.isOpen,r=e.onClose,a=e.portalContainer,i=Ep(e.replId,n);return n?(0,p.Y)(tF.a,{isOpen:t,onRequestClose:r,portalContainer:a,children:(0,p.FD)(W.S,{css:Ed.modalContent,children:[(0,p.FD)(W.S,{row:!0,align:"center",gap:8,css:Ef.title,children:[(0,p.Y)(sr.e,{src:n.image||null,username:n.displayName||"",size:32}),(0,p.Y)(G.EY,{variant:"subheadBig",children:n.displayName||""}),n.banned?(0,p.Y)(V.a,{colorway:"negative",text:"Banned",variant:"muted"}):null]}),(0,p.FD)(W.S,{css:Ed.detailsRow,children:[(0,p.Y)(G.EY,{css:Ed.label,children:"User ID"}),(0,p.Y)(G.EY,{css:Ed.value,children:n.userId})]}),n.displayName?(0,p.FD)(W.S,{css:Ed.detailsRow,children:[(0,p.Y)(G.EY,{css:Ed.label,children:"Name"}),(0,p.Y)(G.EY,{css:Ed.value,children:n.displayName})]}):null,n.email?(0,p.FD)(W.S,{css:Ed.detailsRow,children:[(0,p.Y)(G.EY,{css:Ed.label,children:"Email"}),(0,p.Y)(G.EY,{css:Ed.value,children:n.email})]}):null,(0,p.FD)(W.S,{css:Ed.detailsRow,children:[(0,p.Y)(G.EY,{css:Ed.label,children:"Account created"}),(0,p.Y)(G.EY,{css:Ed.value,children:(0,p.Y)(eP.Dc,{dateFormat:"absolute",absoluteFormat:{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"},date:new Date(n.timeCreated)})})]}),(0,p.FD)(W.S,{css:Ed.detailsRow,children:[(0,p.Y)(G.EY,{css:Ed.label,children:"Last login"}),(0,p.Y)(G.EY,{css:Ed.value,children:(null==n?void 0:n.lastLoggedIn)?(0,p.Y)(eP.Dc,{dateFormat:"absolute",absoluteFormat:{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"},date:new Date(n.lastLoggedIn)}):"Never"})]}),(0,p.Y)(W.S,{row:!0,justify:"start",css:Ed.buttonsContainer,children:(0,p.Y)(M.$n,{text:n.banned?"Unban User":"Ban User",onClick:i,colorway:n.banned?"primary":"negative",iconLeft:n.banned?void 0:(0,p.Y)(ut.A,{})})})]})}):(r(),null)}var Eg=t(76297),Eb=(0,eo.x)({container:[es.wp.flex.column,es.wp.flex.growAndShrink(1),es.wp.height("100%")],header:[es.wp.border({color:U.LU.outlineDimmest,width:1,direction:"bottom"}),es.wp.overflowX("auto"),es.wp.overflowY("hidden")],help:[es.wp.border({color:U.LU.outlineDimmest,width:1,direction:"bottom"})],tabs:[es.wp.flex.growAndShrink(1),{height:"100%",'[role="tablist"]':{height:"100%"}}],body:[es.wp.overflowY("auto")],content:[es.wp.maxHeight("100%")],centered:[es.wp.flex.column,es.wp.justify.center,es.wp.align.center,es.wp.height("100%"),es.wp.p(16)],bannerWrapper:[es.wp.width("fit-content")],loadingContainer:[es.wp.flex.column,es.wp.justify.center,es.wp.align.center,es.wp.height("100%")]});function Ey(e){var n,t,r,a=e.performPaneOperation,i=(0,O.A)(),o=(0,g._)((0,b.useState)(0),2),s=o[0],l=o[1],u=(0,b.useCallback)(function(e){return a({operation:"open",pane:e})},[a]),c=YQ({variables:{id:i}}),d=c.data,f=c.loading,h=(null==d||null==(n=d.getRepl)?void 0:n.__typename)==="Repl"?d.getRepl:null,m=null==h?void 0:h.hasAuthUsers;return f?(0,p.Y)(W.S,{css:Eb.loadingContainer,children:(0,p.Y)(a$.A,{})}):(null==h||null==(r=h.authorizations)||null==(t=r.manageAuth)?void 0:t.isAuthorized)?(0,p.FD)(W.S,{css:Eb.container,children:[(0,p.FD)(W.S,{css:Eb.header,row:!0,justify:"space-between",children:[(0,p.Y)(el.tU,{css:Eb.tabs,selectedIndex:s,onSelectionChange:l,children:(0,p.FD)(el.wb,{"aria-label":"Authentication Options",children:[(0,p.Y)(el.oz,{children:(0,p.FD)(W.S,{row:!0,align:"center",gap:8,children:[(0,p.Y)(K.A,{size:16})," Users"]})}),(0,p.Y)(el.oz,{children:(0,p.FD)(W.S,{row:!0,align:"center",gap:8,children:[(0,p.Y)(sV.A,{size:16})," Configure"]})})]})}),(0,p.Y)(W.S,{row:!0,css:Eb.help,align:"center",children:(0,p.Y)(cg.A,{alt:"Visit the Replit Auth documentation to learn more.",target:"_blank",href:b7.ik.REPLIT_AUTH,children:(0,p.Y)(Eg.A,{})})})]}),(0,p.Y)(ex.ui,{css:Eb.body,elevated:!1,grow:!0,shrink:!0,children:(0,p.Y)(W.S,{css:Eb.content,p:16,children:0===s?(0,p.Y)(Eh,{replId:i,hasAuthUsers:m,openPane:u}):(0,p.Y)(Er,{replId:i,hasAuthUsers:m,openPane:u})})})]}):(0,p.Y)(W.S,{css:Eb.centered,children:(0,p.FD)(W.S,{css:Eb.bannerWrapper,gap:8,children:[(0,p.Y)(tU.N,{colorway:"warning",icon:(0,p.Y)(rJ.A,{}),text:"You are not authorized to manage Auth."}),(0,p.Y)(hx(),{href:b7.ik.REPLIT_AUTH,target:"_blank",rel:"noopener",children:"Visit the Replit Auth documentation to learn more."})]})})}var Ew=t(55224),E_={Content:function(e){var n=e.options;return(0,p.Y)(Ey,{performPaneOperation:n.performPaneOperation})},Icon:function(e){var n=e.size;return(0,p.Y)(tw.Vx.Provider,{value:{color:U.LU.orangeStrongest,size:n},children:(0,p.Y)(Ew.A,{color:U.LU.limeStrongest})})},getTitle:function(){return"Auth"},description:"Let users log in to your App using a prebuilt login page",category:tb.bY.CloudServices,decode:function(e){return m.T(Y$,e)}},ES=t(14785),EA=t(16103),Ek=t(169),EC=t(4722),EY=t(71132),EE=t(2407),Ex=t(63881),ET=(0,ne.eU)(0),ED=(0,ne.eU)(function(e){return e(ET)<=Ex.bX?"compact":"normal"}),EI={CURSOR_SAVE:"\x1b[s",CURSOR_RESTORE:"\x1b[u",ERASE_TO_END_OF_SCREEN:"\x1b[0J",COLOR_RESET:"\x1b[0m",COLOR_BRIGHT_BLACK:"\x1b[0;90m"},ER=(0,nV.AH)([es.wp.position.absolute,es.wp.left(8),es.wp.right(0),es.wp.zIndex(5)]);function EN(e){var n,t,r,a,i,o,s,l,u,c,d,f,h=e.lineNumber,m=e.paneHeight,v=e.shell,S=e.sendToShellChannel,A=e.onClose,k=(0,b.useMemo)(function(){return null==v?void 0:v._term},[v]),C=(0,b.useMemo)(function(){var e,n=null==k?void 0:k._core;return null!=(e=null==n?void 0:n._renderService.dimensions.css.cell)?e:{width:0,height:0}},[k]),Y=(0,b.useRef)(""),E=(0,b.useRef)(!1),T=(0,b.useRef)(null),D=(0,g._)((0,b.useState)(64),2),R=D[0],N=D[1],O=(0,b.useRef)(null),P=(0,b.useCallback)(function(e){return N(e.height)},[N]),F=(n=(0,_.NC)(),r=(t=(0,g._)((0,b.useState)(null),2))[0],a=t[1],o=(i=(0,g._)((0,b.useState)(!1),2))[0],s=i[1],l=(0,b.useCallback)(function(e){return(0,y._)(function(){var t,r;return(0,w.YH)(this,function(i){switch(i.label){case 0:return s(!0),[4,n.sessions.create({sessionType:I.dF3.INLINE_CHAT})];case 1:if(!(t=i.sent()).ok)return s(!1),[2,t];return a(r=t.payload),[4,r.appendEvent({kind:"shellSuggestion",message:e,modelType:I.e3q.BASIC})];case 2:return i.sent(),[2]}})})()},[n]),u=(0,b.useCallback)(function(){return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(!r)return[3,2];return[4,r.abortLastEvent()];case 1:e.sent(),s(!1),e.label=2;case 2:return[2]}})})()},[r]),d=(c=(0,x.Rj)(function(){return null==r?void 0:r.reduce(EO,1)},[r],{default:{message:"",completed:!1}})).message,f=c.completed,(0,b.useEffect)(function(){f&&s(!1)},[f]),{sendMessage:l,stopMessage:u,loading:o,message:d,completed:f}),U=F.sendMessage,L=F.stopMessage,J=F.message,H=F.loading,B=F.completed;(0,b.useEffect)(function(){if(0===J.length){Y.current="";return}Y.current!==J&&(E.current&&(v.write(EI.CURSOR_RESTORE),v.write(EI.ERASE_TO_END_OF_SCREEN)),v.write(EI.CURSOR_SAVE),v.write(EI.COLOR_BRIGHT_BLACK),v.write(J.replaceAll("\n","\r\n").trim()),v.write(EI.COLOR_RESET),E.current=!0,Y.current=J)},[v,J]);var V=(0,b.useCallback)(function(){(0,ah.u4)(ah.AZ.AI_INLINE_EVENT,{action:"generation_stopped",intent_type:"generate",source:"shell"}),L(),E.current&&(v.write(EI.CURSOR_RESTORE),v.write(EI.ERASE_TO_END_OF_SCREEN),v.write(EI.COLOR_RESET)),A()},[v,L,A]);(0,b.useEffect)(function(){return v.onData(function(){L(),A()}).dispose},[v,L,A]);var $=(0,Ex.D3)({id:(0,nW.A)(),inputRef:O,loading:H,onSubmit:function(){K?Z():((0,ah.u4)(ah.AZ.AI_INLINE_EVENT,{action:"message_sent",intent_type:"generate",source:"shell",message_content:G}),Q())},onClose:V}),G=$.value,z=$.setValue,j=$.onKeyDown,q=$.escPressed,Z=(0,b.useCallback)(function(){if(!E.current||!J)return void V();v.write(EI.CURSOR_RESTORE),v.write(EI.ERASE_TO_END_OF_SCREEN),v.write(EI.COLOR_RESET),S(J),(0,ah.u4)(ah.AZ.AI_INLINE_EVENT,{action:"suggestion_accepted",intent_type:"generate",source:"shell"}),A()},[J,v,S,A,V]),K=B&&T.current===G,Q=(0,b.useCallback)(function(){T.current=G,(0,ah.u4)(ah.AZ.AI_INLINE_EVENT,{action:"message_sent",intent_type:"generate",source:"shell",message_content:G}),U(G)},[U,G]),X=C.height*(h+1)+8,ee="top";X+R>m&&(ee="bottom",X=m-C.height*(h+1)+4);var en=(0,_.Gk)(),et=(0,g._)((0,b.useState)(function(){return(0,ne.y$)()}),1)[0],er=(0,nn.Xr)(ET,{store:et}),ea=(0,nn.md)(ED,{store:et}),ei=(0,oy.A)(function(e){return er(e.width)});return(0,p.Y)(W.S,{css:ER,style:{top:"top"===ee?X:void 0,bottom:"bottom"===ee?X:void 0},children:(0,p.FD)(Ex.y1,{requestMeasure:P,type:"generateCode",isCodeMirrorPocket:!1,innerRef:ei,children:[(0,p.Y)(Ex.pd,{value:G,inputRef:O,onChange:function(e){return z(e.currentTarget.value)},placeholder:"Enter a prompt to generate a shell command",onKeyDown:j,autoFocus:!0}),(0,p.FD)(Ex.wi,{children:[(0,p.FD)(p.FK,{children:[(0,p.Y)(Ex.sb,{type:"generateCode"}),B?(0,p.Y)(e$.K0,{alt:"Rerun the same prompt",onClick:function(){return Q()},size:12,colorway:"grey",children:(0,p.Y)(sI.A,{})}):null]}),K?(0,p.FD)(p.FK,{children:[(0,p.Y)(M.$n,{variant:"outlined",size:"small",text:"Reject",onClick:function(){(0,ah.u4)(ah.AZ.AI_INLINE_EVENT,{action:"suggestion_rejected",intent_type:"generate",source:"shell"}),V()}}),(0,p.Y)(M.$n,{size:"small",text:"Accept",colorway:"blurple",onClick:Z,dataCy:"ghostwriter-inline-accept-suggestion"})]}):(0,p.Y)(Ex.XT,{escPressed:q,connecting:!en,loading:H,disabled:!G||!G.trim(),promptPresentation:"normal"===ea,onClick:function(){H?((0,ah.u4)(ah.AZ.AI_INLINE_EVENT,{action:"generation_stopped",intent_type:"generate",source:"shell",message_content:G}),L()):((0,ah.u4)(ah.AZ.AI_INLINE_EVENT,{action:"message_sent",intent_type:"generate",source:"shell",message_content:G}),Q())}})]})]})})}var EO={direction:"reverse",state:{message:"",completed:!1},reducer:function(e,n){var t;e.sender.type===I.utd.AI&&(null==(t=e.contents.contents)?void 0:t.$kind)==="shellSuggestionEventContents"&&e.contents.contents.shellSuggestionEventContents.content&&(n.message=e.contents.contents.shellSuggestionEventContents.content,n.completed=e.state===I.qOk.COMPLETE)}},EP=t(76420);function EF(e){var n=e.portsOpenedByThisShell,t=e.performPaneOperation,r=e.onClose,a=(0,k.A)().ports,i=(0,b.useCallback)(function(e){a.updateDotReplitPortsMapping(e,void 0)},[a]),o=(0,b.useCallback)(function(e){a.tryExposingPortAutomatically(e)},[a]);return(0,p.Y)(EP.yN,{configurations:n.map(function(e){return e.configuration}),openWebview:function(){t({operation:"open",secondary:!0,pane:{type:"webview",data:{ports:n.length>0?{type:"local",port:n[0].configuration.localPort}:void 0}}})},openNetworkingTool:function(){t({operation:"open",secondary:!0,pane:{type:"developer",data:{tab:["networking"]}}})},onClose:function(){null==r||r()},onDontExposePort:function(){1===n.length&&i(n[0].configuration.localPort)},onDoExposePort:function(){1===n.length&&o(n[0].configuration.localPort)}})}var EU=t(63853),EL=t(53495),EM=(0,nV.AH)([es.wp.height("100%"),es.wp.overflow("hidden"),{"& .xterm":[es.wp.pl(8),es.wp.pt(8),es.wp.pb(4),es.wp.height("100%")]}]),EJ=(0,eo.x)({container:[es.wp.height("100%"),{"&:focus-within .controls":{opacity:1}}],xterm:EM,xtermWithBorderRadius:[EM,{"& .xterm-viewport":[es.wp.borderRadius(0,0,8,8)]}]}),EH=(0,nV.AH)([es.wp.position.absolute,es.wp.flex.row,es.wp.top(8),es.wp.right(8),es.wp.height(30),es.wp.align.center,es.wp.zIndex(8),{opacity:0}]);function EB(e){var n,t,r=e.shell,a=e.shellMetadata,i=e.sendToShellChannel,o=e.shellRef,s=e.className,l=e.openSearchAndReplace,u=e.openAssistantWithMessage,c=e.openAgentWithMessage,d=e.performPaneOperation,f=e.isGeneratePromptVisible,h=e.currentPromptLineNumber,m=e.onOpenGeneratePrompt,v=e.onCloseGeneratePrompt,_=e.searchState,S=e.setSearchState,A=(0,tA.g)("accessibleTerminal").preferences.accessibleTerminal,k=(0,T.jT)(),C=(0,n9.kP)(null!=(n=null==a?void 0:a.cgroup)?n:void 0);r&&_.isSearching&&(t=(0,p.Y)(EU.p,{searchValue:_.searchText,setSearchValue:function(e){S({isSearching:!0,searchText:e})},findPrevious:r.findPrevious,findNext:r.findNext,exit:function(){return S({isSearching:!1})}}));var Y=(0,oC.m5)(),E=(0,EY.EF)().onContextMenu,x=(0,EE.P)({xterm:r,isWorkflowsTerminal:!1,openShellSearch:function(e){S({isSearching:!0,searchText:e})},openSearchAndReplace:l,openGeneratePrompt:m}),D=(0,b.useCallback)(function(e){return(0,y._)(function(){return(0,w.YH)(this,function(n){return c((0,EC.yt)(e)),[2]})})()},[c]);(0,EL.Z)({xterm:r,onAskAssistant:function(e){u((0,EC.yt)(e))},onAskAgent:D,isAgentBusy:k}),(0,b.useEffect)(function(){null==r||r.fit()},[r,C]);var I=(0,g._)((0,b.useState)(0),2),R=I[0],N=I[1],O=(0,oy.A)(function(e){N(e.height)},{type:"throttle",wait:200});return(0,p.FD)(W.S,{className:s,innerRef:O,css:EJ.container,onKeyDown:function(e){"f"===e.key&&(0,kS.T$)(e)&&(S({isSearching:!0,searchText:""}),e.preventDefault())},children:[!A&&(0,p.Y)(Ek.s,{children:'Enable "Accessible Terminal" in Workspace Settings to use a screen reader with the shell.'}),(0,p.FD)(W.S,{css:[es.wp.coverContainer,es.wp.flex.column],onClick:function(){f&&(v(),null==r||r.focus())},children:[(0,p.Y)(W.S,{css:[Y?EJ.xterm:EJ.xtermWithBorderRadius,es.wp.flex.growAndShrink(1),f?{pointerEvents:"none",filter:"opacity(0.75)"}:null],innerRef:o,onContextMenu:function(e){return E(e,{command:x})}}),(0,p.Y)(EF,{portsOpenedByThisShell:C,performPaneOperation:d,onClose:function(){null==r||r.focus(),null==r||r.fit()}})]}),r&&f?(0,p.Y)(EN,{lineNumber:h,paneHeight:R,shell:r,sendToShellChannel:i,onClose:function(){v(),r.focus()}}):null,r?(0,p.Y)(W.S,{className:"controls",css:EH,children:t}):null]})}var EV=t(28191),E$=t(60594).Buffer,EG=(0,nV.AH)([es.wp.position.relative,es.wp.height("100%")]);function Ez(e){var n=e.shellId,t=e.paneId,r=e.performPaneOperation,a=e.userId,i=e.xterm,o=e.xtermRef,s=e.currentPromptLineNumber,l=e.isGeneratePromptVisible,u=e.onOpenGeneratePrompt,c=e.onCloseGeneratePrompt,d=e.searchState,f=e.setSearchState,h=(0,g._)((0,b.useState)(void 0),2),m=h[0],v=h[1],S=(0,b.useCallback)(function(e){r({operation:"open",secondary:!0,pane:{type:"searchReplace",data:{initialQuery:e}}})},[r]),A=(0,b.useCallback)(function(e){r({operation:"open",secondary:!0,pane:e})},[r]),k=(0,EV.H)({openPane:A}),C=(0,_.dm)().assistantMode,Y=(0,rh.c)({openPane:A}),E=(0,_.jt)(),x=(0,_.NC)(),I=(0,T.jT)(),R=(0,b.useCallback)(function(e){(0,ah.u4)(ah.AZ.ASSISTANT_USED,{action:"message_sent",assistant_mode:C,message_content:e,message_source:"shell",is_agent_repl:E}),k(e)},[C,E,k]),N=(0,b.useCallback)(function(e){return(0,y._)(function(){var n,t;return(0,w.YH)(this,function(r){switch(r.label){case 0:if(!I)return[3,3];return n=(0,EA.tF)({text:e,attachedFiles:[]}),[4,x.queue.enqueue({contents:n})];case 1:return r.sent(),[4,x.sessions.agent.current.once()];case 2:return A({type:"agentChat",data:{sessionId:null==(t=r.sent())?void 0:t.id}}),[3,4];case 3:Y(e,{createNewSession:!1}),r.label=4;case 4:return(0,ah.u4)(ah.AZ.AGENT_USED,{action:I?"message_queued":"message_sent",message_content:e,message_source:"shell",is_agent_repl:E}),[2]}})})()},[I,E,x,Y,A]),O=(0,b.useRef)(null);(0,nC.b)(function(e,r){var o=r.signal;return(0,y._)(function(){var r,s,l,u,c,d;return(0,w.YH)(this,function(f){return i?(s=(r=e.shellExec.connect.stream({id:n,userId:a,processViewId:t,size:i.getSize()},{signal:o})).reqWritable,l=r.resReadable,O.current=u=function(e){s.write({$kind:"stdin",stdin:new Uint8Array(E$.from(e))})},c=i.onResize(function(r){return(0,y._)(function(){return(0,w.YH)(this,function(i){switch(i.label){case 0:return[4,e.shellExec.resize.rpc({id:n,userId:a,processViewId:t,size:r})];case 1:return i.sent(),[2]}})})()}),d=i.onData(u),i.write("\x1bc"),(0,y._)(function(){var e,n,t,r,a,o,s;return(0,w.YH)(this,function(u){switch(u.label){case 0:e=!1,n=!1,u.label=1;case 1:u.trys.push([1,6,7,12]),r=(0,D._)(l),u.label=2;case 2:return[4,r.next()];case 3:if(!(e=!(a=u.sent()).done))return[3,5];if(!(o=a.value).ok)return i.clear(),[2];"output"===o.payload.$kind&&i.write(o.payload.output),u.label=4;case 4:return e=!1,[3,2];case 5:return[3,12];case 6:return s=u.sent(),n=!0,t=s,[3,12];case 7:if(u.trys.push([7,,10,11]),!(e&&null!=r.return))return[3,9];return[4,r.return()];case 8:u.sent(),u.label=9;case 9:return[3,11];case 10:if(n)throw t;return[7];case 11:return[7];case 12:return[2]}})})(),[2,function(){O.current=null,s.close(),c.dispose(),d.dispose()}]):[2]})})()},[i,n,a,t]),(0,nC.b)(function(e,t){var r=t.signal;return(0,y._)(function(){var t,a,i,o,s,l,u,c;return(0,w.YH)(this,function(d){switch(d.label){case 0:t=e.shellExec.monitor.subscribe({id:n},{signal:r}).resReadable,a=!1,i=!1,d.label=1;case 1:d.trys.push([1,6,7,12]),s=(0,D._)(t),d.label=2;case 2:return[4,s.next()];case 3:if(!(a=!(l=d.sent()).done))return[3,5];if(!(u=l.value).ok)if("NO_PROCESS_MATCHING_ID"===u.payload.code)return[3,4];else return[3,5];"NotStarted"!==u.payload.state&&u.payload.cgroupPath&&v({cgroup:u.payload.cgroupPath}),d.label=4;case 4:return a=!1,[3,2];case 5:return[3,12];case 6:return c=d.sent(),i=!0,o=c,[3,12];case 7:if(d.trys.push([7,,10,11]),!(a&&null!=s.return))return[3,9];return[4,s.return()];case 8:d.sent(),d.label=9;case 9:return[3,11];case 10:if(i)throw o;return[7];case 11:return[7];case 12:return[2]}})})()},[n]);var P=(0,b.useCallback)(function(e){return!!O.current&&(O.current(e),!0)},[O]);return(0,p.Y)(W.S,{css:EG,children:(0,p.Y)(EB,{shell:i,shellMetadata:m,shellRef:o,performPaneOperation:r,currentPromptLineNumber:s,isGeneratePromptVisible:l,sendToShellChannel:P,openSearchAndReplace:S,openAssistantWithMessage:R,openAgentWithMessage:N,onOpenGeneratePrompt:u,onCloseGeneratePrompt:c,searchState:d,setSearchState:f})})}var EW=t(75640),Ej=t(92949),Eq=t(84118),EZ=(0,eo.x)({wrapper:[es.wp.height("100%"),es.wp.flex.column],headerWrapper:[es.wp.border({direction:"bottom",color:U.LU.outlineDimmest}),es.wp.height(28)],failureWrapper:[es.wp.color.accentNegativeStronger],terminalWrapper:[es.wp.height("100%"),es.wp.flex.growAndShrink(1)],shellListItemWrapper:[es.wp.width("100%"),es.wp.overflow("hidden")],shellListButton:[es.wp.viewStyle,es.wp.reset.button,es.wp.p(2),es.wp.height(22),es.wp.rowWithGap(8),es.wp.align.center,sv.t.nofill,es.wp.flex.shrink(1),{transitionProperty:"background-color, box-shadow, opacity",opacity:.8}],shellListButtonLabel:[es.wp.display.flex,es.wp.align.center,es.wp.rowWithGap(8),es.wp.flex.shrink(1)],shellListItem:[es.wp.display.flex,es.wp.rowWithGap(8),es.wp.borderRadius(),es.wp.px(6),es.wp.py(4),es.wp.align.center,es.wp.color.foregroundDefault,es.wp.cursor.pointer,{transitionProperty:"background-color, box-shadow",backgroundColor:"transparent",borderWidth:1,borderStyle:"solid",borderColor:"transparent",outline:"2px solid ".concat(U.LU.accentPrimaryDefault),outlineOffset:"-2px",outlineColor:"transparent"},{"&[data-hovered],&[data-focused]":{backgroundColor:U.LU.interactiveBackground},"&[data-selected]":{backgroundColor:U.LU.interactiveBackgroundActive},"&[aria-disabled]":{color:U.LU.foregroundDimmest,cursor:"not-allowed"}}],shellListItemText:[es.wp.font.code,es.wp.fontSize(U.LU.fontSizeSmall),es.wp.flex.shrink(0)],shellListItemCommand:[es.wp.font.code,es.wp.fontSize(U.LU.fontSizeSmall),es.wp.flex.growAndShrink(1),{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}],shellListCurrentText:[es.wp.fontSize(U.LU.fontSizeSmall),es.wp.color.greyDefault],shellListNotRunningText:[es.wp.fontSize(U.LU.fontSizeSmall),es.wp.color.greyDefault],runningShellsCountBadge:[es.wp.width(18),es.wp.height(18),es.wp.align.center,es.wp.justify.center,es.wp.backgroundColor.backgroundHighest,es.wp.borderRadius("full"),es.wp.fontSize(U.LU.fontSizeSmall)]});function EK(e){var n,t,r,a,i,o,s,l,u,c,d,f,h,m,y,w,_,S,A,C,Y,E,x,T,D,I,R,N,P,F,U,L,M,J,H,B,V=e.paneId,$=e.performPaneOperation,G=e.emitPaneMetrics,z=e.initialPwd,j=e.initialCmd,q=e.isActive,Z=(0,g._)((0,b.useState)({state:"not-connected"}),2),K=Z[0],Q=Z[1],X="connected"===K.state?K.id:void 0,ee=(0,sH.T)(),en=(0,b.useCallback)(function(e){return Q({state:"connected",id:e})},[Q]),et=(r=(n={isActive:q,performPaneOperation:$,emitPaneMetrics:G}).performPaneOperation,a=n.emitPaneMetrics,i=n.isActive,o=(0,b.useCallback)(function(e){r({operation:"open",secondary:!0,pane:{type:(0,tb.QY)(e),data:e}})},[r]),s=(0,b.useCallback)(function(e,n){r({operation:"open",secondary:!0,pane:{type:"webview",data:{ports:{type:"local",path:e,port:n}}}})},[r]),l=(0,k.A)().fs,u=(0,O.A)(),c=(0,b.useRef)(null),d=(0,b.useRef)(""),h=(f=(0,g._)((0,b.useState)(0),2))[0],m=f[1],w=(y=(0,g._)((0,b.useState)(!1),2))[0],_=y[1],S=(0,b.useRef)(!1),A=(0,EW.QU)({onFTCSState:function(e){var n=e.state;n===EW.Od.CommandExecuted&&(S.current=!0),n===EW.Od.CommandFinished&&(S.current=!1),c.current=n},onOpenGeneratePrompt:function(){S.current||_(!0)},onUpdateCurrentPromptLineNumber:m}),C=(0,b.useCallback)(function(e,n){if(n.startsWith("A")){var t=n.replace(/^A;/,"");(0,ah.u4)(ah.AZ.SHELL_COMMAND_EVALED,{context:t,replId:u,api:"pid2",pwd:d.current})}n.startsWith("B")&&(d.current=n.replace(/^B;/,""))},[u]),Y=(0,b.useCallback)(function(e){return r({operation:"open",pane:e,secondary:!0})},[r]),x=(E=(0,g._)((0,Ej.A)({openFile:o,listFiles:l.listFiles,openWebview:s,onInBandOSCMessages:(t={},(0,v._)(t,EW.n8,A),(0,v._)(t,82,C),t),openPane:Y,emitPaneMetrics:a}),2))[0],T=E[1],D=(0,b.useCallback)(function(){S.current||((0,ah.u4)(ah.AZ.AI_SHELL_CONTEXT_MENU_GENERATE_CLICKED),_(!0))},[]),I=(0,b.useCallback)(function(){_(!1)},[]),R=(0,b.useId)(),N="scope-shell-".concat(R),(0,me.RD)(N,i),(0,me.SJ)(function(){return[EW.Ws.id,{run:function(){S.current||_(!0)},scope:N,bubble:!1}]},[_]),(0,aB.HP)(function(){return x},[x]),F=(P=(0,g._)((0,b.useState)({isSearching:!1}),2))[0],U=P[1],L=(0,b.useCallback)(function(){var e;U({isSearching:!0,searchText:null!=(e=null==x?void 0:x._term.getSelection())?e:""})},[x]),M=(0,b.useCallback)(function(){U({isSearching:!1})},[]),J=(0,b.useCallback)(function(){F.isSearching?M():L()},[L,M,F]),H=(0,b.useCallback)(function(){null==x||x.clear()},[x]),B=(0,b.useMemo)(function(){return[{match:yF.G2,data:{type:"action",label:"Clear Shell",icon:(0,p.Y)(_p.A,{}),run:H}},{match:yF.G2,data:{type:"action",label:"Find in Shell",icon:(0,p.Y)(fm.A,{}),run:L}}]},[L,H]),(0,aB.Qt)(function(){return{commands:[{commands:B}],type:"shell"}},[B]),{xterm:x,xtermRef:T,searchState:F,setSearchState:U,toggleSearch:J,isGeneratePromptVisible:w,currentPromptLineNumber:h,onOpenGeneratePrompt:D,onCloseGeneratePrompt:I,clearShell:H});return(0,p.FD)(W.S,{css:EZ.wrapper,children:[(0,p.Y)(EQ,{step:K,setStep:Q,shellId:X,initialCmd:j,initialPwd:z,switchShellSession:en,toggleSearch:et.toggleSearch,clearShell:et.clearShell}),(0,p.FD)(W.S,{css:EZ.terminalWrapper,children:[ee&&void 0!==X?(0,p.Y)(Ez,(0,eg._)({shellId:X,paneId:V,performPaneOperation:$,userId:ee},et)):null,"errored"===K.state?(0,p.Y)(W.S,{css:EZ.failureWrapper,p:8,children:"Failed to load the Shell."}):null]})]})}function EQ(e){var n=e.shellId,t=e.step,r=e.setStep,a=e.initialPwd,i=e.initialCmd,o=e.switchShellSession,s=e.toggleSearch,l=e.clearShell,u=(0,b.useRef)(!1),c=(0,eC.I)(function(e){return function(n){return(0,y._)(function(){var t;return(0,w.YH)(this,function(o){switch(o.label){case 0:if(u.current)return[2];return u.current=!0,[4,e.shellExec.spawn.rpc({cmd:"bash",cwd:(null==n?void 0:n.restoreFromPaneState)?a:void 0,initialCmd:(null==n?void 0:n.restoreFromPaneState)?i:void 0,autoCleanup:!0})];case 1:return(t=o.sent()).ok?r({state:"connected",id:t.payload.id}):"UNEXPECTED_DISCONNECT"===t.payload.code?r({state:"not-connected"}):r({state:"errored"}),u.current=!1,[2]}})})()}},[r,a,i]),d=(0,eC.I)(function(e){return function(){return(0,y._)(function(){return(0,w.YH)(this,function(t){switch(t.label){case 0:if(!n)return[3,2];return[4,e.shellExec.kill.rpc({id:n})];case 1:t.sent(),t.label=2;case 2:return[2]}})})()}},[n]);return(0,p.FD)(W.S,{css:EZ.headerWrapper,grow:0,shrink:0,align:"center",justify:"space-between",row:!0,gap:4,px:4,children:[(0,p.FD)(W.S,{grow:!0,shrink:!0,row:!0,gap:2,align:"center",children:[(0,p.Y)(EX,{shellId:n,spawnShell:c,switchShellSession:o,step:t}),(0,p.Y)(E2,{})]}),(0,p.FD)(W.S,{shrink:0,row:!0,gap:4,align:"center",children:[(0,p.Y)(e$.K0,{alt:"Search in Shell",onClick:function(){s()},children:(0,p.Y)(fm.A,{color:U.LU.foregroundDimmest})}),(0,p.Y)(e$.K0,{alt:"Clear Output",onClick:function(){l()},children:(0,p.Y)(_p.A,{color:U.LU.foregroundDimmest})}),(0,p.Y)(e$.K0,{alt:"Kill Shell",disabled:void 0===d,onClick:function(){null==d||d()},children:(0,p.Y)(pH.A,{color:U.LU.foregroundDimmest})})]})]})}function EX(e){var n=e.step,t=e.shellId,r=e.spawnShell,a=e.switchShellSession,i=(0,g._)((0,b.useState)([]),2),o=i[0],s=i[1],l=o.find(function(e){return e.id===t});return((0,nC.b)(function(e,n){var t=n.signal;return(0,y._)(function(){var n,r,a,i,o,l,u,c;return(0,w.YH)(this,function(d){switch(d.label){case 0:n=e.shellExec.monitorAll.subscribe({},{signal:t}).resReadable,r=!1,a=!1,d.label=1;case 1:d.trys.push([1,6,7,12]),o=(0,D._)(n),d.label=2;case 2:return[4,o.next()];case 3:if(!(r=!(l=d.sent()).done))return[3,5];if(!(u=l.value).ok)return[2];s(u.payload.processes.filter(function(e){return"Running"===e.state})),d.label=4;case 4:return r=!1,[3,2];case 5:return[3,12];case 6:return c=d.sent(),a=!0,i=c,[3,12];case 7:if(d.trys.push([7,,10,11]),!(r&&null!=o.return))return[3,9];return[4,o.return()];case 8:d.sent(),d.label=9;case 9:return[3,11];case 10:if(a)throw i;return[7];case 11:return[7];case 12:return[2]}})})()},[]),(0,b.useEffect)(function(){"not-connected"===n.state&&(null==r||r({restoreFromPaneState:!0}))},[r,n.state]),(0,b.useEffect)(function(){"connected"===n.state&&(o.find(function(e){return e.id===t})||(o.length>0?a(o[0].id):null==r||r()))},[t,o,r,n.state,a]),l&&"Running"===l.state)?(0,p.Y)(p.FK,{children:(0,p.FD)(ac.in,{trigger:(0,p.FD)(dB.$,{css:EZ.shellListButton,children:[(0,p.Y)(tW.A,{size:12}),(0,p.Y)(W.S,{css:EZ.shellListButtonLabel,children:(0,p.Y)(E1,{shellState:l})}),(0,p.Y)(E0,{userIdsToProcessViewIds:l.userIdsToProcessViewIds}),o.length>1?(0,p.Y)(z.m_,{tooltip:"".concat(o.length," Shells are running"),children:(0,p.Y)(W.S,{css:EZ.runningShellsCountBadge,children:o.length})}):null]}),children:[o.filter(function(e){return"Running"===e.state}).sort(function(e,n){var t,r;return("Running"===e.state&&null!=(t=e.idx)?t:0)-("Running"===n.state&&null!=(r=n.idx)?r:0)}).map(function(e){var n,t=null!=(n=e.command)?n:e.previousCommand,r=e.cwd.replace(/^\/home\/runner/,"~"),i="".concat(r).concat(t?": ".concat(t):""),o=e.id===l.id;return(0,p.FD)(a4.Dr,{css:EZ.shellListItem,onAction:function(){a(e.id)},textValue:i,children:[(0,p.Y)(E1,{shellState:e}),o?(0,p.Y)(G.EY,{css:EZ.shellListCurrentText,children:"Current"}):null,(0,p.Y)(E0,{userIdsToProcessViewIds:e.userIdsToProcessViewIds})]},e.id)}),(0,p.Y)(ac.wv,{}),(0,p.Y)(ac.Dr,{label:"New Shell",icon:(0,p.Y)(u6.A,{}),onAction:function(){null==r||r()}})]})}):null}function E0(e){var n=e.userIdsToProcessViewIds,t=(0,b8.Q4)(),r=(0,b.useMemo)(function(){var e;return null!=(e=Object.keys(null!=n?n:{}).map(function(e){return parseInt(e,10)}).map(function(e){return t.find(function(n){return n.id===e})}).filter(Boolean))?e:[]},[n,t]);return 0===r.length?null:(0,p.Y)(W.S,{grow:0,shrink:0,row:!0,gap:4,align:"center",children:r.map(function(e){return(0,p.Y)(Eq.A,{user:e,size:16},e.id)})})}function E1(e){var n,t=e.shellState;if("Running"!==t.state)return(0,p.Y)(G.EY,{css:EZ.shellListNotRunningText,children:"Not Running"});var r=void 0!==t.command||void 0!==t.previousCommand;return(0,p.FD)(W.S,{css:EZ.shellListItemWrapper,row:!0,children:[(0,p.Y)(G.EY,{css:EZ.shellListItemText,children:t.cwd.replace(/^\/home\/runner/,"~")}),r?(0,p.FD)(p.FK,{children:[":\xa0",(0,p.Y)(G.EY,{css:EZ.shellListItemCommand,style:{color:void 0===t.command?U.LU.greyDefault:void 0},children:null!=(n=t.command)?n:t.previousCommand})]}):null]})}function E2(){return(0,te.NT)()?(0,p.Y)(z.m_,{tooltip:"The environment is rebuilding in the background due to a change in configuration files",children:(0,p.Y)(a$.A,{color:U.LU.foregroundDimmest})}):null}var E3=h.ZU.Object({type:h.ZU.Literal("shell"),data:h.ZU.Optional(h.ZU.Object({initialPwd:h.ZU.Optional(h.ZU.String()),initialCmd:h.ZU.Optional(h.ZU.String())}))}),E4={Content:function(e){var n,t,r=e.pane,a=e.options;return(0,n6.A)().didConnectOnce?(0,p.Y)(EK,{paneId:a.paneId,isActive:a.isActive,initialPwd:null==(n=r.data)?void 0:n.initialPwd,initialCmd:null==(t=r.data)?void 0:t.initialCmd,performPaneOperation:a.performPaneOperation,emitPaneMetrics:a.emitPaneMetrics}):null},Icon:function(e){var n=e.size;return(0,p.Y)(tw.Vx.Provider,{value:{color:U.LU.blueStrongest,size:n},children:(0,p.Y)(sR.A,{})})},getTitle:function(){return"Shell"},description:"Directly access your App through a command line interface (CLI)",category:tb.bY.WorkspaceFeatures,decode:function(e){return m.T(E3,e)}},E5=["youtube.com","youtube-nocookie.com","vimeo.com","wistia.com","sadanandpai.github.io"],E7=function(e){try{var n=new URL(e).hostname;return E5.some(function(e){return n===e||n.endsWith("."+e)})}catch(e){return!1}},E9=h.ZU.Object({type:h.ZU.Literal("videoPlayer"),data:h.ZU.Object({embedUrl:h.ZU.String(),title:h.ZU.String()})}),E8={Content:function(e){var n=e.pane.data;return(0,p.Y)(E6,{title:n.title,embedUrl:n.embedUrl})},Icon:function(e){var n=e.size;return(0,p.Y)(lS.A,{size:n})},getTitle:function(e){return e.data.title},category:tb.bY.Other,decode:function(e){return m.T(E9,e)}};function E6(e){var n,t=e.embedUrl,r=e.borderRadius,a=e.title;return E7(t)?(0,p.Y)("iframe",{title:a,src:t,frameBorder:"0",css:[es.wp.coverContainer,(n=es.wp).borderRadius.apply(n,(0,ev._)(void 0===r?[0,0,8,8]:r))]}):(0,p.FD)("div",{children:["Only YouTube, Vimeo, and Wistia videos are supported."," ",(0,p.Y)("a",{href:b7.WA,target:"_blank",children:"Request more formats here."})]})}var xe=t(10647),xn=t(1303),xt=(0,eo.x)({toolButton:[es.wp.display.inlineBlock],actionContent:[es.wp.width(450),es.wp.maxWidth("100%"),es.wp.colWithGap(16)]});function xr(e){var n=e.openNetworkingTool;return(0,p.Y)(t1.A,{pane:{type:"vnc"},bodyText:(0,p.FD)(G.EY,{multiline:!0,children:["No VNC server is currently running with compatible ports available to view. Try running your App, and check the"," ",(0,p.Y)(M.$n,{css:xt.toolButton,text:"Networking tool",iconLeft:(0,p.Y)(xn.A,{}),size:"small",onClick:n})," ","to ensure ports are being forwarded correctly."]})})}function xa(){return(0,p.Y)(t1.A,{pane:{type:"vnc"},bodyText:(0,p.Y)(G.EY,{multiline:!0,children:"VNC is unavailable as the Agent is testing your App."})})}function xi(e){var n=e.vncUrl,t=e.onRetry;return(0,p.Y)(t1.A,{pane:{type:"vnc"},action:(0,p.FD)(W.S,{css:xt.actionContent,children:[(0,p.Y)(tU.N,{colorway:"warning",text:(0,p.FD)(p.FK,{children:["There was an error connecting to the server",n?(0,p.FD)(p.FK,{children:[" at ",(0,p.Y)("br",{}),n]}):""]})}),n?(0,p.Y)(L.A,{headerContent:"Diagnosis",children:(0,p.Y)(W.S,{p:8,gap:8,children:(0,p.Y)(lZ.Ay,{children:"If you see a connection error, it's possible that your internet service provider (ISP) has security settings blocking the URL shown above.\n\nPlease contact your ISP and ask them to unblock the URL. Here are the support links for common ISPs:\n\n- [Xfinity](https://www.xfinity.com/support/articles/report-blocked-website)\n- [Spectrum.net](https://www.spectrum.net/support/forms/unblock_site)\n      "})})}):null,(0,p.Y)(M.$n,{iconLeft:(0,p.Y)(sI.A,{}),text:"Refresh connection",onClick:t})]})})}var xo=t(29576),xs=function(e){return e.Connecting="Connecting",e.Connected="Connected",e.Disconnected="Disconnected",e.Errored="Errored",e}(xs||{}),xl=(0,eo.x)({root:[es.wp.position.relative,es.wp.height("100%"),es.wp.width("100%")],target:[es.wp.height("100%"),es.wp.width("100%")],overlay:[es.wp.coverContainer,es.wp.backgroundColor.backgroundDefault,{"&:empty":[es.wp.display.none]}]}),xu={direction:"reverse",state:{isActive:!1},reducer:function(e,n){var t;if((null==(t=e.contents.contents)?void 0:t.$kind)==="subagentRunning"){var r,a=e.contents.contents.subagentRunning;if((null==a||null==(r=a.contents)?void 0:r.$kind)==="uiTestingSubagentEventContents")return n.isActive=e.state===I.qOk.IN_PROGRESS,!1}}};function xc(e){var n,t,r,a,i=e.openNetworkingTool,o=(0,n9.PO)(),s=(t=(0,_.NC)(),r=(0,x.J2)(t.sessions.agent.current),null!=(n=null==(a=(0,x.Rj)(function(){return null==r?void 0:r.reduce(xu,100).result},[r]))?void 0:a.isActive)&&n);return o?s?(0,p.Y)(xa,{}):(0,p.Y)(xd,{}):(0,p.Y)(xr,{openNetworkingTool:i})}function xd(){var e=(0,g._)((0,b.useState)(void 0),2),n=e[0],t=e[1],r=(0,g._)((0,b.useState)(!1),2),a=r[0],i=r[1],o=(0,b.useCallback)(function(){i(!0)},[i]),s=(0,xe.U)({password:n,setPassword:t,handlePromptForPassword:o,vncOptions:{scaleViewport:!0,resizeSession:!0,viewOnly:!1}}),l=s.status,u=s.vncUrl,c=s.vncEl,d=s.connect;return(0,p.FD)(W.S,{"data-cy":"vnc",css:xl.root,children:[(0,p.Y)("div",{ref:c,css:xl.target,"data-cy":"vnc-output-".concat(l.toLowerCase())}),(0,p.FD)(W.S,{css:xl.overlay,children:["Connecting"===l?(0,p.Y)(t1.A,{pane:{type:"vnc"},loading:!0}):null,"Disconnected"===l?(0,p.Y)(t1.A,{pane:{type:"vnc"},bodyText:"Disconnected"}):null,"Errored"===l?(0,p.Y)(xi,{vncUrl:u,onRetry:d}):null]}),(0,p.Y)(tF.a,{isOpen:a,onRequestClose:function(){return i(!1)},children:(0,p.Y)(xo.A,{prompt:"Password",desc:"The output is password protected, please input it",placeholder:"VNC Password",type:"text",onCancel:function(){return i(!1)},onConfirm:function(e){t(e),i(!1)}})})]})}var xf=t(6525),xp=h.ZU.Object({type:h.ZU.Literal("vnc")}),xh={Content:function(e){var n=e.options.performPaneOperation,t=(0,b.useCallback)(function(){return n({operation:"open",secondary:!0,pane:{type:"developer",data:{tab:["networking"]}}})},[n]);return(0,p.Y)(W.S,{grow:!0,shrink:!0,children:(0,p.Y)(xc,{openNetworkingTool:t})})},Icon:function(e){var n=e.size;return(0,p.Y)(xf.A,{size:n})},getTitle:function(){return"VNC"},description:"View your app's desktop screen output",category:tb.bY.WorkspaceFeatures,decode:function(e){return m.T(xp,e)}},xm=t(91806),xv=t(18947),xg=h.ZU.Object({type:h.ZU.Literal("workflows")}),xb={Content:function(){return(0,p.Y)(xv.A,{})},Icon:function(e){var n=e.size;return(0,p.Y)(tw.Vx.Provider,{value:{color:U.LU.greenStrongest,size:n},children:(0,p.Y)(lS.A,{})})},getTitle:function(){return"Workflows"},description:"Configure different ways to run your App",category:tb.bY.WorkspaceFeatures,decode:function(e){return m.T(xg,e)}},xy=t(62290),xw=t(80947),x_=t(86064),xS=t(56141),xA=t(2152),xk=t(62721),xC=t(11148),xY=t(44237),xE=t(24739),xx=t(36448),xT=t(31185),xD=t(17370),xI=t(95391),xR=t(91932),xN=t.n(xR),xO=(0,U.CK)("Search.module.css",["--input-height"]),xP={type:"context",icon:(0,p.Y)(fm.A,{}),label:"",description:"Search..."};function xF(e){var n=e.openFile,t=(0,k.A)().fs,r=(0,Y.Sx)(),a=(0,tC.J)(),i=(0,b.useMemo)(function(){var e=(0,xD.g)({openFile:function(e){return n(e.path)},fs:t,shouldHideFile:a,getRecentFiles:r});return e.data=xP,delete e.match,e},[n,t,a,r]);return(0,p.Y)(W.S,{clsx:xN().root,style:(0,v._)({},xO.inputHeight,"32px"),children:(0,p.Y)(xI.r,{fullWidth:!0,command:i,openOnInput:!0,compact:!0})})}var xU=t(59260),xL=t(89660),xM=t(45494),xJ=t.n(xM);function xH(e){var n,t,r,a,i,o,s,l,u,c,d,f,h,m,v,_,S,A,C,E=e.openFile,x=e.currentPath,T=e.onClose,D=(t=(n={openFile:E,currentPath:x}).openFile,r=n.currentPath,a=(0,O.A)(),o=(i=(0,g._)((0,b.useState)(null),2))[0],s=i[1],l=(0,xC.v)(),u=(0,tC.J)(!0),c=(0,b.useCallback)(function(e){return!u(e.filename)},[u]),d=(0,k.A)().fs,f="cmdOrCtrlKey"===(0,tA.g)("multiselectModifierKey").preferences.multiselectModifierKey?"cmdOrCtrlKey":"altKey",h=(0,Y.Sx)(),m=(0,b.useCallback)(function(e){return(0,xY.J9)(e,h)},[h]),v=(0,EY.EF)().onContextMenu,_=(0,xT.B6)(),S=(0,b8.Qd)(),A=(0,tk.u)({fs:d,filter:c,fontSize:13,onFileSelect:function(e){var n=e.path;t(n),l(n)},onCreate:function(e){e.type===na.pt.File&&t(e.path)},multiselectModifierKey:f,onConflicts:function(e){return s({type:"conflicts",data:e})},onDeleteNodes:function(e){return s({type:"deleteNode",data:e})},onContextMenu:function(e,n){return v(e,{command:_(n,A)})},autocomplete:m,localCacheKey:a+":sidebar",onFileRenameStart:S,onFileRenameEnd:function(){return S(null)}}),C=(0,xk._)(),(0,b.useEffect)(function(){return A.setFileStatus(C)},[A,C]),(0,b.useEffect)(function(){(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(null===r)return A.select(null),[2];return[4,A.select({path:r,type:na.pt.File})];case 1:if(e.sent(),r!=r)return[2];return A.scrollToPath(r),[2]}})})()},[r,A]),{filetree:A,activeModal:o,closeModal:function(){return s(null)}}),I=D.filetree,R=D.activeModal,N=D.closeModal;return(0,p.FD)(p.FK,{children:[(0,p.FD)(ex.ui,{clsx:xJ().root,children:[(0,p.FD)(W.S,{clsx:xJ().header,align:"center",justify:"space-between",row:!0,children:[(0,p.FD)(W.S,{row:!0,gap:2,align:"center",children:[(0,p.Y)(e$.K0,{size:28,alt:"Close files",onClick:T,children:(0,p.Y)(xL.A,{})}),(0,p.Y)(G.EY,{variant:"small",children:"Files"})]}),(0,p.FD)(W.S,{row:!0,justify:"end",align:"center",children:[(0,p.Y)(e$.K0,{size:28,alt:"New file",dataCy:"filetree-add-file",onClick:function(){I.create(na.pt.File)},children:(0,p.Y)(xU.A,{})}),(0,p.Y)(e$.K0,{size:28,alt:"New folder",onClick:function(){I.create(na.pt.Directory)},children:(0,p.Y)(Am.A,{})}),(0,p.Y)(xA.U,{size:28,filetree:I})]})]}),(0,p.FD)(W.S,{grow:!0,shrink:!0,children:[(0,p.Y)(xF,{openFile:E}),(0,p.Y)(W.S,{grow:!0,shrink:!0,children:(0,p.Y)(tk.J,{store:I.store})})]})]}),(0,p.FD)(tF.a,{isOpen:!!R,onRequestClose:N,children:[(null==R?void 0:R.type)==="conflicts"?(0,p.Y)(xx.A,{paths:R.data.conflicts.map(function(e){return e.path}),onCancel:N,onConfirm:function(){var e=R.data;"move"===e.type?I.move({nodes:e.nodes,to:e.to,overwrite:!0}):I.upload({files:e.files,parentPath:e.to,overwrite:!0}),N()}}):null,(null==R?void 0:R.type)==="deleteNode"?(0,p.Y)(Af.A,(0,nh._)((0,eg._)({},(0,xE.D)(R.data.nodes)),{delete:function(){return R.data.confirm()},hideModal:N})):null]})]})}function xB(e){return(0,p.FD)(tw.Ay,(0,nh._)((0,eg._)({},e),{children:[(0,p.Y)("path",{fillRule:"evenodd",d:"M1.25 5A2.75 2.75 0 0 1 4 2.25h4.999c.251 0 .485.126.625.334L11.4 5.25H20A2.75 2.75 0 0 1 22.75 8v4.5a.75.75 0 0 1-1.5 0V8c0-.69-.56-1.25-1.25-1.25h-9a.751.751 0 0 1-.625-.335L8.598 3.75H4c-.69 0-1.25.56-1.25 1.25v14c0 .69.56 1.25 1.25 1.25h4a.75.75 0 0 1 0 1.5H4A2.75 2.75 0 0 1 1.25 19V5Z",clipRule:"evenodd"}),(0,p.Y)("path",{fillRule:"evenodd",d:"M22.55 17.646a.854.854 0 0 1 0 1.208l-3.696 3.696a.855.855 0 0 1-1.208-1.209l3.091-3.091-3.091-3.091a.855.855 0 0 1 1.208-1.209l3.696 3.696Z",clipRule:"evenodd"}),(0,p.Y)("path",{fillRule:"evenodd",d:"M17.376 18.854 13.68 22.55a.854.854 0 0 1-1.208-1.209l3.092-3.091-3.092-3.091a.855.855 0 0 1 1.208-1.209l3.696 3.696a.854.854 0 0 1 0 1.208Z",clipRule:"evenodd"})]}))}var xV=t(50484),x$=t.n(xV);function xG(e){var n,t,r=e.performPaneOperation,a=null!=(t=null==(n=e.data)?void 0:n.path)?t:null,i=(0,g._)((0,b.useState)(!a),2),o=i[0],s=i[1],l=(0,b.useCallback)(function(e){r({operation:"replace",pane:(0,tY.a)(e)})},[r]),u=(0,aL.KA)({path:a,performPaneOperation:r});(0,aB.Qt)(function(){if(u)return{commands:[{commands:u?(0,ev._)(u):[]}]}},[u]);var c=(0,bK.fZ)();return(0,p.FD)(W.S,{clsx:x$().root,grow:!0,shrink:!0,row:!0,children:[o?(0,p.Y)(xH,{onClose:function(){return s(!1)},openFile:l,currentPath:null!=a?a:null}):null,(0,p.FD)(W.S,{clsx:x$().root,grow:!0,shrink:!0,children:[(0,p.FD)(aH.Y9,{children:[(0,p.FD)(aH.Bm,{noPadding:!o,children:[o?null:(0,p.Y)(e$.K0,{size:28,alt:"Open files",onClick:function(){return s(!0)},clsx:x$().filetreeButton,children:(0,p.Y)(xB,{})}),a?(0,p.Y)(p.FK,{children:o?(0,p.Y)(p.FK,{children:c?(0,p.Y)(xy.z,{view:c}):null}):(0,p.Y)(xS.D,{path:a,onFileClick:l,children:c?(0,p.Y)(xy.z,{view:c}):null})}):null]}),(0,p.Y)(aH.Yw,{children:a?(0,p.Y)(xw.i,{path:a,performPaneOperation:e.performPaneOperation,isReadOnly:e.isReadOnly}):null})]}),(0,p.Y)(W.S,{grow:!0,shrink:!0,clsx:x$().content,children:(0,p.Y)(xz,(0,eg._)({},e))})]})]})}function xz(e){var n,t,r,a,i,o=(0,k.A)().fs,s=e.performPaneOperation,l=e.data,u=null!=(r=null==(n=e.data)?void 0:n.path)?r:null,c=null!=(a=null==(t=e.data)?void 0:t.type)?a:(0,tb.QY)({path:u}),d=void 0,f=void 0;(null==l?void 0:l.type)==="codeEditor"&&(d=l.line,f=l.col);var h=(0,b.useMemo)(function(){return{line:d,col:f}},[d,f]),m=(0,b.useCallback)(function(){s({operation:"replace",pane:{type:"codeEditor",data:{path:u}}})},[s,u]);if(!u)return(0,p.Y)(W.S,{clsx:x$().emptyState,align:"center",justify:"center",children:(0,p.Y)(G.EY,{color:"dimmest",children:"No file open"})});switch(c){case"media":return(0,p.Y)(aJ,{centered:!0,children:(0,p.Y)(iI.Ay,{filePath:u,fs:o})});case"binary":return(0,p.Y)(aq,{path:u});case"draw":return(0,p.FD)(aJ,{children:[(0,p.Y)(oo,{fs:o,filePath:u})," "]});default:return(0,p.FD)(p.FK,{children:[(0,p.Y)(x_.A,{filePath:u,isHidden:null!=(i=e.isHidden)&&i,deeplink:h,onDeeplinkUpdated:m,hideMobileKeyboardToolbar:!0,performPaneOperation:e.performPaneOperation},u),(0,p.Y)(aZ.I,{path:u,performPaneOperation:e.performPaneOperation})]})}}var xW=t(41918),xj=h.ZU.String({minLength:1}),xq=h.ZU.Object({type:h.ZU.Literal("codeEditor"),path:h.ZU.Union([xj,h.ZU.Null()]),line:h.ZU.Optional(h.ZU.Number()),col:h.ZU.Optional(h.ZU.Number())}),xZ=h.ZU.Object({type:h.ZU.Optional(h.ZU.Union([h.ZU.Literal("draw"),h.ZU.Literal("media"),h.ZU.Literal("binary"),h.ZU.Literal("markdown"),h.ZU.Literal("csv")])),path:xj}),xK=h.ZU.Object({type:h.ZU.Literal("file"),data:h.ZU.Optional(h.ZU.Union([xq,xZ]))}),xQ={Content:function(e){var n=e.options,t=(0,iv._)(e,["options"]),r=n.performPaneOperation,a=(0,g._)((0,b.useState)(function(){return(0,ne.y$)()}),1)[0];return(0,p.Y)(bK.dz.Provider,{value:a,children:(0,p.Y)(xG,(0,nh._)((0,eg._)({isReadOnly:!1,isHidden:n.isHidden},t.pane),{performPaneOperation:r}))})},Icon:function(e){var n=e.size,t=e.pane.data;return(null==t?void 0:t.path)?(0,p.Y)(aV.A,{path:t.path,size:n}):(0,p.Y)(ii.A,{size:n})},getTitle:function(e){var n;return(null==(n=e.data)?void 0:n.path)?(0,aU.WP)(e.data.path):"Code"},category:xW.b.WorkspaceFeatures,decode:function(e){return m.T(xK,e)},description:"View and edit files"},xX=t(30326),x0=t(67014),x1=t.n(x0);function x2(){return(0,p.FD)(W.S,{pb:8,pt:16,row:!0,gap:8,align:"start",wrap:!0,clsx:x1().container,children:[(0,p.Y)(x3,{}),(0,p.Y)(G.EY,{color:"dimmest",children:"This security scan is powered by Semgrep Community Edition."})]})}function x3(){return(0,p.FD)("svg",{clsx:x1().semgrepLogo,xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 1670 252",children:[(0,p.FD)("g",{fill:"#13bf95",children:[(0,p.Y)("path",{d:"m412-4e-7c55.22847 0 100 44.77153 100 100 0 55.22847-44.77153 100-100 100s-100-44.77153-100-100c1e-3 -22.75534 7.76297-44.82984 22.00391-62.57812 5.79468 6.661495 7.89062 10.6061 13.99609 20.57812h3.5c-3.0923-7.636258-7.63896-15.06492-13.76367-24.96093 18.96049-21.03049 45.94792-33.03689 74.26367-33.03906zm0 44c-30.92795 0-56 25.07205-56 56 0 30.92795 25.07205 56 56 56s56-25.07205 56-56c0-30.92794-25.07205-56-56-56z"}),(0,p.Y)("path",{d:"m256 0c-55.22841 0-100 44.77158-100 100 8e-3 22.74213 7.76844 44.80216 22 62.54102 0.04153-0.05203 0.07004-0.09276 0.11133-0.14454 0.01252 0.01556 0.02458 0.03133 0.03711 0.04688 0.96022-1.20705 1.88357-2.443 2.78711-3.69336 4.19703-5.49557 7.10017-10.10355 9.92773-17.07812 0.25397-0.55649 0.51186-1.11021 0.75586-1.67188h3.38086c-0.72386 2.98756-1.74037 5.91654-2.99414 8.88477-2.79519 5.99462-6.2697 12.37905-9.80078 18.10937-0.05698 0.09227-0.10092 0.17302-0.1582 0.26563 18.94128 20.83966 45.79173 32.72679 73.95312 32.74023 28.16139-0.01344 55.01184-11.90057 73.95312-32.74023-0.05728-0.09261-0.10122-0.17336-0.1582-0.26563-3.53108-5.73032-7.00559-12.11475-9.80078-18.10937-1.25377-2.96823-2.27028-5.89721-2.99414-8.88477h3.38086c0.244 0.56167 0.50189 1.11539 0.75586 1.67188 2.82756 6.97457 5.7307 11.58255 9.92773 17.07812 0.90354 1.25036 1.82689 2.48631 2.78711 3.69336 0.01253-0.01555 0.02459-0.03132 0.03711-0.04688 0.04129 0.05178 0.0698 0.09251 0.11133 0.14454 14.23156-17.73886 21.992-39.79889 22-62.54102 0-55.22842-44.77159-100-100-100zm0 44c30.92792 0 56 25.07208 56 56 0 30.92792-25.07208 56-56 56s-56-25.07208-56-56c0-0.966497 0.02388-1.926386 0.07227-2.880859 1.49985-29.58868 25.96631-53.11914 55.92773-53.11914z"}),(0,p.Y)("path",{d:"m100 0c-55.22848 0-100 44.77152-100 100 0 55.22847 44.77152 100 100 100 55.22847 0 100-44.77153 100-100-1e-3 -22.75534-7.76297-44.82984-22.00391-62.57812-5.79468 6.661495-7.89062 10.6061-13.99609 20.57812h-3.5c3.0923-7.636258 7.63896-15.06492 13.76367-24.96093-18.96049-21.03049-45.94792-33.03689-74.26367-33.03906zm0 44c30.92795 0 56 25.07205 56 56 0 30.92795-25.07205 56-56 56-30.92795 0-56-25.07205-56-56 0-30.92795 25.07205-56 56-56z"})]}),(0,p.FD)("g",{fill:"currentColor",children:[(0,p.Y)("path",{d:"M659.55109 194.4763q-15.41724 0-28.48243-3.92117-13.0652-4.18248-23.51636-12.02494-10.45116-8.10366-18.55228-19.8669l20.64231-23.52687q12.8032 18.0379 24.82438 25.09587 12.01918 6.79666 27.96042 6.79666 9.40715 0 16.98426-2.87559 7.57802-2.87548 12.01918-8.10365 4.44227-5.22817 4.44227-11.76394 0-4.70538-1.56782-8.62645-1.56783-4.18258-4.96488-7.31947-3.39705-3.13698-8.36183-5.75097-4.96487-2.87558-11.49717-4.96677-6.5326-2.09119-14.89423-3.39838-14.11021-3.13698-24.82437-7.84216-10.45116-4.70528-17.76827-11.763938-7.05521-7.058063-10.45116-16.207914-3.39705-9.149252-3.39705-20.389893 0-11.23994 4.96487-20.650891 4.96488-9.672049 13.58721-16.729911 8.62313-7.058063 20.38131-10.7179437Q648.83763 6 662.16483 6q14.89423 0 26.6534 3.6596807 12.01919 3.6596803 21.16533 10.9789423 9.14573 7.058062 15.41723 17.513907l-21.16532 20.650891q-5.48748-8.365056-12.01918-13.854927-6.2714-5.751069-14.11022-8.626454-7.83922-2.875585-16.46225-2.875585-9.66835 0-16.98426 3.136984-7.0552 2.875584-11.23517 8.103557-4.18096 5.228172-4.18096 12.286935 0 5.228172 2.09033 9.672049 2.35164 4.182478 6.5326 7.58076 4.44227 3.398382 11.49717 6.012468 7.05521 2.614186 16.46225 4.443977 14.37122 3.136983 25.60839 8.103557 11.49718 4.705375 19.3363 11.239938 8.10062 6.53527 12.01918 14.90092 4.18096 8.36506 4.18096 18.03791 0 17.7759-8.36182 30.84684-8.10063 12.80893-23.25536 19.86689-15.15523 6.79666-35.80054 6.79666z"}),(0,p.Y)("path",{d:"M815.75346 194.4763q-21.42632 0-37.88957-8.88785-16.46225-9.14925-25.8694-24.83487-9.14573-15.94591-9.14573-36.33581 0-16.20791 5.22617-29.539839 5.22618-13.33193 14.37122-23.003879 9.40715-9.933547 22.21034-15.16192 13.0652-5.489571 28.22143-5.489571 13.58721 0 25.08538 5.228173 11.75818 4.966773 20.38131 14.115925 8.62313 8.887853 13.0652 21.174888 4.70357 12.286933 4.44227 26.663863l-.26129 11.50294h-111.8317l-6.01009-21.69789h92.50341l-3.91966 4.44398v-6.01247q-.78393-8.365057-5.48749-14.639924-4.70357-6.535166-12.01918-10.194946-7.05521-3.92108-15.67824-3.92108-13.5872 0-22.73334 5.228173-9.14574 4.966674-14.11022 14.900921-4.70357 9.933546-4.70357 24.311876 0 13.85492 5.74869 24.04987 6.01009 10.19495 16.72225 15.94591 10.71317 5.48958 24.82438 5.48958 9.92975 0 18.29028-3.13699 8.36183-3.39838 18.29028-11.76394l14.63322 20.6509q-6.5327 6.27376-15.67824 10.97894-9.14574 4.70537-19.07429 7.31946-9.92975 2.61418-19.5973 2.61418z"}),(0,p.Y)("path",{d:"M899.25473 191.86632V54.367045h29.52845v28.493849l-4.96487 2.614086q2.35163-6.796664 6.794-12.808932 4.70357-6.012468 11.23517-10.717943 6.5327-4.705376 14.11021-7.319362 7.57752-2.613986 15.41724-2.614086 11.49717 0 20.1203 3.921079 8.88457 3.659681 14.63327 11.239941 6.01 7.58076 8.8845 19.344898l-4.7036-.784246 1.8291-4.443977q3.1357-6.012468 8.1006-11.23994 5.2262-5.489571 11.7582-9.41065 6.5325-4.182478 13.8492-6.273767 7.3166-2.352688 14.1102-2.352688 15.6782 0 25.8694 6.273767 10.1901 6.273767 15.4172 19.082899 5.2262 12.808933 5.2262 31.630837v82.86656h-29.7905V111.0948q0-11.239946-2.8745-18.298908-2.8744-7.058863-8.6231-10.455945-5.7487-3.659681-14.8943-3.659681-6.794 0-13.0652 2.352688-6.0101 2.352687-10.4511 6.535165-4.4423 4.182478-7.0553 9.933448-2.3519 5.489573-2.3519 12.286933v82.08157h-29.78842V110.5725q0-10.19495-3.13565-17.252911-2.87445-7.319461-8.62313-10.978942-5.74869-3.659681-14.11022-3.659681-6.794 0-12.80319 2.352688-6.01009 2.352687-10.45116 6.535165-4.44227 3.92108-7.05521 9.672049-2.35163 5.489572-2.35163 12.024932v82.60457z"}),(0,p.Y)("path",{d:"M1199.1093 251.996q-14.8942 0-29.7905-4.70527-14.8942-4.70538-24.3003-12.02494l10.9741-22.48188q5.2262 3.92118 12.0192 6.79666 7.0553 3.13699 14.6332 4.70528 7.8393 1.82989 15.6783 1.82989 14.1102 0 23.5163-4.70538 9.4071-4.44397 14.1103-13.59293 4.9648-8.88775 4.9648-22.21988v-25.61886l3.6583 1.56849q-1.3066 8.36505-8.6231 15.68492-7.0554 7.31946-17.7683 12.02493-10.7132 4.44388-21.9494 4.44388-19.3362 0-34.7545-9.14925-15.1552-9.14925-24.0403-25.09587-8.6233-15.94592-8.6233-36.59781t8.6233-36.596804q8.6231-16.207914 23.7783-25.356866 15.1552-9.41065 34.2325-9.41065 7.8393 0 15.1553 2.091189 7.3165 1.82989 13.5872 5.228172 6.2711 3.398382 10.9741 7.58076 4.9647 4.182478 8.1004 8.887753 3.1357 4.705375 3.9196 8.887853l-6.0101 2.091189.2613-31.892831h29.0055V182.98707q0 16.46891-4.9647 29.27784-4.7036 12.80893-14.1102 21.69789-9.1458 8.88785-22.4724 13.33193Q1215.829 252 1199.1038 252Zm1.0452-84.43455q12.2812 0 21.6883-5.75097 9.6684-5.75107 14.8943-15.68492 5.2261-9.93355 5.2261-23.26588 0-13.07093-5.4873-23.265874-5.2263-10.194946-14.6333-15.945916-9.407-5.75107-21.6883-5.75107-12.0192 0-21.4263 6.012469-9.4071 5.751069-14.6332 15.945915-5.2262 10.194946-5.2262 23.003876 0 13.07093 5.2262 23.26588 5.2261 9.93355 14.6332 15.68492 9.4071 5.75097 21.4263 5.75097z"}),(0,p.Y)("path",{d:"M1297.8108 191.86632V54.367045h29.2664l.5227 43.392771-3.6583-9.933548q2.8743-10.194946 9.9297-18.298903 7.0552-8.365056 16.2013-13.070931 9.1458-4.966674 18.8133-4.966674 4.4423 0 8.6231.784206 4.1809.784206 6.5327 1.82989l-7.8393 32.15383q-3.1356-1.307093-7.0552-2.091189-3.9196-1.045594-7.8392-1.045594-6.794 0-13.0652 2.614086-6.0102 2.614186-10.7132 7.319461-4.4424 4.443877-7.3165 10.71794-2.6131 6.01247-2.6131 13.33193v74.76161z"}),(0,p.Y)("path",{d:"M1454.2132 194.4763q-21.4264 0-37.8896-8.88785-16.4623-9.14925-25.8684-24.83487-9.1458-15.94591-9.1458-36.33581 0-16.20791 5.2261-29.539839 5.2262-13.33193 14.3713-23.003879 9.4071-9.933547 22.2103-15.16192 13.0652-5.489571 28.2204-5.489571 13.5872 0 25.0844 5.228173 11.7582 4.966773 20.3823 14.115925 8.623 8.887853 13.0652 21.174888 4.7036 12.286933 4.4423 26.663863l-.2615 11.50294h-111.8317l-6.0101-21.69789h92.5034l-3.9197 4.44398v-6.01247q-.7839-8.365057-5.4875-14.639924-4.7034-6.535166-12.0191-10.194946-7.0554-3.92108-15.6783-3.92108-13.5872 0-22.7323 5.228173-9.146 4.966674-14.1102 14.900921-4.7036 9.933546-4.7036 24.311876 0 13.85492 5.7487 24.04987 6.0101 10.19495 16.7222 15.94591 10.7132 5.48958 24.8244 5.48958 9.9297 0 18.2903-3.13699 8.3618-3.39838 18.2903-11.76394l14.6332 20.6509q-6.5326 6.27376-15.6782 10.97894-9.1458 4.70537-19.0743 7.31946-9.9297 2.61418-19.5973 2.61418z"}),(0,p.Y)("path",{d:"M1532.8144 249.37601V54.367045h29.2664l.2611 31.369834-4.7036-2.352688q1.5679-8.103557 8.8846-15.16192 7.3165-7.319361 17.7682-11.763937 10.7132-4.443977 22.2104-4.443977 18.2903 0 32.4025 9.149252 14.3712 9.149251 22.7343 25.095867Q1670 102.20539 1670 122.85628q0 20.65189-8.3617 36.85781-8.1007 15.94591-22.4723 25.35686-14.1102 9.14926-32.1405 9.14926-12.0192 0-23.2564-4.70528-10.9741-4.70527-18.8132-12.28693-7.8393-7.58066-9.6685-15.94592l7.3168-3.65968v91.75351zm68.724-81.81956q11.4972 0 20.3813-5.75097 9.1458-5.75107 14.3712-15.68492 5.2261-10.19495 5.2261-23.26588 0-12.80893-5.2261-22.74288-4.9648-9.933544-14.1102-15.684914-8.8843-5.75097-20.6423-5.75097t-20.9043 5.75097q-8.8845 5.489571-14.1102 15.684914-5.2262 9.93355-5.2262 22.74288 0 13.07093 5.2262 23.26588 5.2262 9.93355 14.1102 15.68492 9.1456 5.75097 20.9043 5.75097z"})]})]})}var x4=t(67364),x5=t(94812),x7=t.n(x5);function x9(e){var n,t=e.severity,r=e.loading,a=e.resolved,i=U.LU.blueDimmest,o=U.LU.blueStrongest,s="";switch(t){case x4.A.LOW:i=U.LU.blueDimmest,o=U.LU.blueStrongest,n=(0,p.Y)(ad.A,{}),s="Low severity vulnerability";break;case x4.A.MODERATE:i=U.LU.yellowDimmest,o=U.LU.yellowStrongest,n=(0,p.Y)(rJ.A,{}),s="Moderate severity vulnerability";break;case x4.A.HIGH:i=U.LU.orangeDimmest,o=U.LU.orangeStrongest,n=(0,p.Y)(rJ.A,{}),s="High severity vulnerability";break;case x4.A.CRITICAL:i=U.LU.redDimmest,o=U.LU.redStrongest,n=(0,p.Y)(oW.A,{}),s="Critical severity vulnerability"}return a&&(i=U.LU.accentPositiveDimmest,o=U.LU.accentPositiveStrongest,n=(0,p.Y)(rL.A,{}),s="This vulnerability has been resolved"),r&&(i=U.LU.accentPrimaryDimmest,o=U.LU.accentPrimaryStrongest,s="Security scan in progress",n=(0,p.Y)(a$.A,{})),(0,p.Y)(z.m_,{tooltip:s,placement:"top",isDisabled:r,children:(0,p.Y)("div",{clsx:x7().severity,style:{background:i,color:o},children:n})})}function x8(e){var n=e.open,t=e.onClick;return(0,p.Y)(e$.K0,{alt:n?"Hide details":"Show details",onClick:t,children:n?(0,p.Y)(iN.A,{}):(0,p.Y)(tW.A,{})})}function x6(e){var n=e.expanded,t=e.setExpanded;return(0,p.Y)(W.S,{row:!0,grow:!0,align:"center",justify:"end",gap:8,children:(0,p.Y)(x8,{open:n,onClick:function(){return t(!n)}})})}var Te=t(51951),Tn=t.n(Te);function Tt(e){var n=e.onClick;return(0,p.Y)(W.S,{clsx:Tn().fullWidth,children:(0,p.Y)(M.$n,{text:"View Agent Session",iconRight:(0,p.Y)(sW.A,{}),variant:"nofill",size:"small",onClick:n})})}function Tr(e){var n=e.disabled,t=e.loading,r=e.onClick;return(0,p.Y)(W.S,{clsx:Tn().fullWidth,children:(0,p.Y)(M.$n,{text:"Update automatically",disabled:n,loading:t,size:"small",onClick:r})})}function Ta(e){var n=e.disabled,t=e.loading,r=e.tooltip,a=e.onClick;return(0,p.Y)(W.S,{clsx:Tn().fullWidth,children:(0,p.Y)(z.m_,{isDisabled:!r,tooltip:r,children:(0,p.Y)(M.$n,{text:"Fix with Agent",disabled:n,loading:t,colorway:"primary",size:"small",onClick:a})})})}function Ti(e){var n=e.allowIgnore,t=e.disabled,r=e.ignored,a=e.ignoreIssue,i=e.unignoreIssue;return(0,p.Y)(W.S,{clsx:Tn().fullWidth,children:r?(0,p.Y)(M.$n,{variant:"outlined",text:"Move to active",size:"small",disabled:t,onClick:function(){return null==i?void 0:i()}}):(0,p.Y)(z.m_,{isDisabled:n,tooltip:n?void 0:"This is a critical issue and cannot be hidden.",children:(0,p.Y)(M.$n,{variant:"default",text:"Hide",size:"small",disabled:t||!n,onClick:function(){return null==a?void 0:a()}})})})}function To(e){var n=e.state,t=e.openAgentSession,r=e.onUpdateDependencies,a=e.onFixWithAgent,i=e.disabled,o=e.updatingDependencies,s=e.hasUnresolvedFixableVulns,l=e.ignored,u=e.ignoreIssue,c=e.unignoreIssue,d=e.allowIgnore,f="";return n.running?f="Agent is currently working on another task":n.fixing?f="Your session is being created":i&&(f="An action is in progress, please wait"),(0,p.FD)(W.S,{row:!0,align:"center",justify:"center",gap:8,pt:8,children:[n.resolved||n.fixing||n.running?null:(0,p.Y)(W.S,{grow:!0,clsx:Tn().actionButton,children:(0,p.Y)(Ti,{allowIgnore:d,disabled:null!=i&&i,ignored:!!d&&l,ignoreIssue:d?u:void 0,unignoreIssue:d?c:void 0})}),t&&n.session?(0,p.Y)(W.S,{grow:!0,clsx:Tn().actionButtonPrimary,children:(0,p.Y)(Tt,{onClick:function(){return t(n.session)}})}):null,r&&s&&!n.session?(0,p.Y)(W.S,{grow:!0,clsx:Tn().actionButton,children:(0,p.Y)(Tr,{disabled:i,loading:o,onClick:function(){return r()}})}):null,!a||n.resolved||n.session||l?null:(0,p.Y)(W.S,{grow:!0,clsx:Tn().actionButtonPrimary,children:(0,p.Y)(Ta,{disabled:i||n.fixing||n.running,loading:n.fixing,tooltip:f,onClick:function(){return a()}})})]})}var Ts=t(8282),Tl=t.n(Ts);function Tu(e){var n,t=e.disabled,r=e.state,a=e.openAgentSession,i=e.onFixWithAgent,o=(0,g._)((0,b.useState)(!1),2),s=o[0],l=o[1];return(0,p.FD)(ex.ui,{clsx:Tl().vulnerability,elevated:!0,p:8,children:[(0,p.FD)(W.S,{clsx:(n={},(0,v._)(n,Tl().vulnerabilityHeader,s),(0,v._)(n,Tl().isExpanded,!r.resolved||s),n),row:!0,gap:8,align:"center",justify:"space-between",wrap:!r.resolved,shrink:!0,children:[(0,p.FD)(W.S,{row:!0,gap:8,align:"center",shrink:!0,children:[(0,p.Y)(x9,{severity:r.vulnerability.severity,loading:r.running||r.fixing,resolved:r.resolved}),(0,p.Y)(G.EY,{variant:"subheadDefault",color:r.resolved?"dimmer":"default",children:"Detected malicious file vulnerability"})]}),(0,p.Y)(x6,{expanded:s,setExpanded:l})]}),s?(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(G.EY,{color:"dimmer",variant:"small",children:r.vulnerability.message}),(0,p.Y)(W.S,{clsx:Tl().maliciousVulnerabilityCode,gap:4,children:(0,p.Y)(W.S,{gap:8,children:r.vulnerability.paths.map(function(e){return(0,p.Y)(W.S,{clsx:Tl().filePath,children:e},e)})})})]}):null,(0,p.Y)(To,{allowIgnore:!1,openAgentSession:a,onFixWithAgent:i?function(){i(r.vulnerability),(0,ah.u4)(ah.AZ.SECURITY_SCAN,{action:"fix_vulnerability_agent",name:r.vulnerability.name,paths:r.vulnerability.paths,type:xX.e.Malicious})}:void 0,state:r,disabled:t})]})}var Tc=(0,ne.eU)(null),Td=(0,ne.eU)(null),Tf=function(e){return e.Fixed="fixed",e.Pending="pending",e}({});function Tp(e){return!e||"fixed"===e.status}function Th(e){return e.type!==xX.e.Dependency||e.fix.available&&!e.fix.breakingChanges&&"npm"===e.ecosystem}var Tm=function(e,n){var t=n.filter(function(e){var n=(0,x4.T)("string"==typeof e.severity?e.severity:e.severity.level);return n===x4.A.CRITICAL||n===x4.A.HIGH}).map(function(e){return(0,nh._)((0,eg._)({},e),{severity:(0,x4.T)("string"==typeof e.severity?e.severity:e.severity.level),id:"dependencyAudit"===e.kind?e.id:e.fingerprint,source:"dependencyAudit"===e.kind?"npm":"opengrep"})}),r=[];e.forEach(function(e){var n=t.find(function(n){return n.id===e.id});switch(e.status){case"fixed":n&&r.push({id:e.id,status:"pending"});break;case"pending":n||r.push({id:e.id,status:"fixed"});break;default:(0,r_.A)(e.status)}});var a=t.map(function(e){var n,t,r=e.kind;switch(r){case"dependencyAudit":return t=e.fix&&e.fix.available?e.fix.requiresMajorUpdate?{available:!0,breakingChanges:!0,version:{name:e.package.name,version:e.fix.version,isSemVerMajor:!0}}:{available:!0,breakingChanges:!1}:{available:!1},{type:xX.e.Dependency,id:e.id,status:"pending",ecosystem:e.package.ecosystem,severity:e.severity,name:e.package.name,source:e.source,isDirect:null==(n=e.dependency)?void 0:n.isDirect,currentVersion:e.package.version,fix:t,ignored:e.ignored};case"sast":return{type:xX.e.Analysis,id:e.fingerprint,name:e.checkId,status:"pending",message:e.message,location:e.location,severity:(0,x4.T)(e.severity),source:"opengrep",ignored:e.ignored};case"maliciousFile":return{type:xX.e.Malicious,id:e.fingerprint,name:e.name,status:"pending",paths:e.paths,message:"".concat(e.description," ").concat(e.mitigation),severity:(0,x4.T)(e.severity),source:"replit",ignored:e.ignored};default:(0,r_.A)(r)}}),i=e.map(function(e){var n=a.find(function(n){return n.id===e.id}),t=r.find(function(n){return n.id===e.id});return t?(0,nh._)((0,eg._)({},e,n),{status:t.status}):(0,nh._)((0,eg._)({},e,n),{status:e.status})});return(0,ev._)(i).concat((0,ev._)(a.filter(function(n){return!e.find(function(e){return e.id===n.id})})))},Tv=t(3971),Tg=t.n(Tv);function Tb(e){var n,t,r,a=e.disabled,i=e.states,o=e.updatingDependencies,s=e.openAgentSession,l=e.onFixWithAgent,u=e.onUpdateDependencies,c=(0,g._)((0,b.useState)(!1),2),d=c[0],f=c[1],h=(t=null==(n=i.find(function(e){return e.session}))?void 0:n.session,{running:i.some(function(e){return e.running}),fixing:i.some(function(e){return e.fixing}),resolved:i.every(function(e){return e.resolved}),session:null!=t?t:null}),m=i.filter(function(e){return e.type===xX.e.Dependency}).filter(function(e){return Th(e.vulnerability)}),y=i.filter(function(e){return e.type===xX.e.Dependency}).filter(function(e){return!Th(e.vulnerability)}),w=m.length>0,_=y.length>0,S=m.some(function(e){return Th(e.vulnerability)&&!Tp(e.vulnerability)});return w||_?(0,p.FD)(ex.ui,{clsx:Tg().vulnerability,elevated:!0,p:8,children:[(0,p.FD)(W.S,{clsx:(r={},(0,v._)(r,Tg().vulnerabilityHeader,!0),(0,v._)(r,Tg().isExpanded,!h.resolved||d),r),row:!0,gap:8,align:"center",justify:"space-between",wrap:!h.resolved,shrink:!0,children:[(0,p.FD)(W.S,{row:!0,gap:8,align:"start",shrink:!0,children:[(0,p.Y)(x9,{severity:function(e){var n=x4.A.LOW,t=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;if(s.severity===x4.A.CRITICAL){n=x4.A.CRITICAL;break}s.severity===x4.A.HIGH&&(n=x4.A.HIGH),s.severity===x4.A.MODERATE&&n!==x4.A.HIGH&&(n=x4.A.MODERATE)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n}(i.map(function(e){return e.vulnerability})),loading:h.running||h.fixing,resolved:h.resolved}),(0,p.Y)(G.EY,{variant:"subheadDefault",color:h.resolved?"dimmer":"default",style:{maxWidth:"90%"},children:"Outdated dependencies have known vulnerabilities"})]}),(0,p.Y)(x6,{expanded:d,setExpanded:f})]}),h.resolved&&!d?null:(0,p.FD)(W.S,{gap:16,children:[(0,p.Y)(G.EY,{color:"dimmer",variant:"small",children:"There are dependencies that have vulnerabilities and may need to be updated."}),w?(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(G.EY,{color:"dimmer",variant:"small",children:"These dependencies can be updated automatically."}),(0,p.Y)(W.S,{clsx:Tg().dependencyVulnerabilityGroup,gap:4,children:m.map(function(e){var n=e.vulnerability;return(0,p.Y)(Ty,{name:n.name,status:n.status,version:n.currentVersion},n.id)})})]}):null,_?(0,p.FD)(W.S,{gap:8,children:[(0,p.FD)(G.EY,{color:"dimmer",variant:"small",children:["These dependencies may cause issues if updated without making additional changes."," ",l?"You can have the Agent update them for you and make any necessary changes.":null]}),(0,p.Y)(W.S,{clsx:Tg().dependencyVulnerabilityGroup,gap:4,children:y.map(function(e){var n=e.vulnerability;return(0,p.Y)(Ty,{name:n.name,status:n.status,version:n.currentVersion},n.id)})})]}):null]}),(0,p.Y)(To,{openAgentSession:s,onUpdateDependencies:u,updatingDependencies:o,onFixWithAgent:l?function(){var e=i.filter(function(e){return e.vulnerability.status!==Tf.Fixed}).map(function(e){return e.vulnerability}).filter(function(e){return e.type===xX.e.Dependency});l(e),(0,ah.u4)(ah.AZ.SECURITY_SCAN,{action:"fix_vulnerability_agent",checkIds:e.map(function(e){return e.id}),type:xX.e.Dependency})}:void 0,state:h,disabled:a,hasUnresolvedFixableVulns:S,allowIgnore:!1})]}):null}function Ty(e){var n=e.name,t=e.status,r=e.version,a=t===Tf.Fixed;return(0,p.FD)(W.S,{row:!0,gap:8,align:"center",children:[t!==Tf.Fixed?null:(0,p.Y)(rL.A,{color:U.LU.accentPositiveStronger}),t!==Tf.Pending?null:(0,p.Y)(s5.A,{}),(0,p.Y)(G.EY,{color:a?"dimmer":"default",children:(0,p.FD)("span",{clsx:Tg().dependencyVulnerabilityName,children:[n,r?"@".concat(r):null]})})]})}var Tw=t(98877),T_=t.n(Tw);function TS(e){var n,t=e.disabled,r=e.state,a=e.openAgentSession,i=e.onFixWithAgent,o=e.ignoreIssue,s=e.unignoreIssue,l=(0,g._)((0,b.useState)(!1),2),u=l[0],c=l[1];return(0,p.FD)(ex.ui,{clsx:T_().vulnerability,elevated:!0,p:8,children:[(0,p.FD)(W.S,{clsx:(n={},(0,v._)(n,T_().vulnerabilityHeader,u),(0,v._)(n,T_().isExpanded,!r.resolved||u),n),gap:8,children:[(0,p.FD)(W.S,{row:!0,gap:8,align:"start",justify:"space-between",shrink:!0,children:[(0,p.FD)(W.S,{row:!0,gap:8,align:"start",shrink:!0,children:[(0,p.Y)(x9,{severity:r.vulnerability.severity,loading:r.running||r.fixing,resolved:r.resolved}),(0,p.Y)(G.EY,{variant:"subheadDefault",color:r.resolved?"dimmer":"default",children:"Detected potential vulnerability"})]}),(0,p.Y)(x6,{expanded:u,setExpanded:c})]}),(0,p.Y)(G.EY,{clsx:T_().filePath,color:"dimmer",variant:"small",children:r.vulnerability.location.path})]}),u?(0,p.FD)(W.S,{gap:8,children:[(0,p.Y)(G.EY,{color:"dimmer",variant:"small",children:r.vulnerability.message}),(0,p.FD)(W.S,{clsx:T_().analysisVulnerabilityCode,gap:4,children:[(0,p.FD)(W.S,{row:!0,align:"center",gap:8,children:[(0,p.Y)(aV.A,{path:r.vulnerability.location.path,size:16}),(0,p.Y)(G.EY,{clsx:T_().filePath,color:"dimmest",variant:"small",children:r.vulnerability.location.path})]}),(0,p.Y)(E.A,{code:r.vulnerability.location.lines,filePath:r.vulnerability.location.path,fontSize:12,lineNumbersStart:r.vulnerability.location.start.line,lineNumbers:!0})]})]}):null,(0,p.Y)(To,{allowIgnore:!0,ignored:r.vulnerability.ignored,ignoreIssue:o,unignoreIssue:s,openAgentSession:a,onFixWithAgent:i?function(){i(r.vulnerability),(0,ah.u4)(ah.AZ.SECURITY_SCAN,{action:"fix_vulnerability_agent",checkIds:[r.vulnerability.id],type:xX.e.Analysis})}:void 0,state:r,disabled:t})]})}function TA(e,n){return(0,ob.jM)(e,function(t){switch(n.type){case"UPDATE":var r=new Set(e.vulnerabilities.keys()),a=!0,i=!1,o=void 0;try{for(var s,l=n.vulns[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;r.delete(u.id);var c=t.vulnerabilities.get(u.id);c?(c.vulnerability=u,c.resolved=Tp(u)):t.vulnerabilities.set(u.id,{type:u.type,vulnerability:u,resolved:Tp(u),session:null,running:!1,fixing:!1})}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}var d=!0,f=!1,p=void 0;try{for(var h,m=r[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var v=h.value;t.vulnerabilities.delete(v)}}catch(e){f=!0,p=e}finally{try{d||null==m.return||m.return()}finally{if(f)throw p}}t.running.id&&r.has(t.running.id)&&(t.running.id=null);break;case"RUNNING":t.running.state=n.state,n.session?t.running.id=n.session.id:t.running.id=null;var g=!0,b=!1,y=void 0;try{for(var w,_=t.vulnerabilities.values()[Symbol.iterator]();!(g=(w=_.next()).done);g=!0){var S,A=w.value;A.running=(null==(S=A.session)?void 0:S.id)===t.running.id}}catch(e){b=!0,y=e}finally{try{g||null==_.return||_.return()}finally{if(b)throw y}}break;case"SESSION_OPENED":t.running.id=n.session.id;var k=!0,C=!1,Y=void 0;try{for(var E,x=n.ids[Symbol.iterator]();!(k=(E=x.next()).done);k=!0){var T=E.value,D=t.vulnerabilities.get(T);D&&(D.session=n.session)}}catch(e){C=!0,Y=e}finally{try{k||null==x.return||x.return()}finally{if(C)throw Y}}break;case"FIXING":var I=!0,R=!1,N=void 0;try{for(var O,P=n.ids[Symbol.iterator]();!(I=(O=P.next()).done);I=!0){var F=O.value,U=t.vulnerabilities.get(F);U&&(U.fixing=n.state)}}catch(e){R=!0,N=e}finally{try{I||null==P.return||P.return()}finally{if(R)throw N}}}})}function Tk(e){var n=e.scanResult,t=e.currentAgentSession,r=e.openAgentSession,a=e.onFixWithAgent,i=e.onUpdateDependencies,o=e.isScanning,s=e.isUpdatingDependencies,l=(0,g._)((0,b.useReducer)(TA,null,function(){return{running:{id:null,state:!1},updatingDependencies:!1,vulnerabilities:new Map}}),2),u=l[0],c=l[1],d=(E=(0,to.ob)(Tc),T=(0,eC.I)(function(e){return function(n){var t=n.kind,r=n.fingerprint;return(0,y._)(function(){return(0,w.YH)(this,function(n){return[2,e.securityScan.ignoreScan.rpc({kind:t,fingerprint:r})]})})()}}),D=(0,b.useCallback)(function(e){var n=e.kind,t=e.id;return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(!T)return[2];return[4,T({kind:n,fingerprint:t})];case 1:if(!e.sent().ok)return[2];return E(function(e){return e?e.map(function(e){return e.id===t?(0,nh._)((0,eg._)({},e),{ignored:!0}):e}):null}),[2]}})})()},[T,E]),R=(0,eC.I)(function(e){return function(n){var t=n.kind,r=n.fingerprint;return(0,y._)(function(){return(0,w.YH)(this,function(n){return[2,e.securityScan.unignoreScan.rpc({kind:t,fingerprint:r})]})})()}}),{ignoreIssue:D,unignoreIssue:(0,b.useCallback)(function(e){var n=e.kind,t=e.id;return(0,y._)(function(){return(0,w.YH)(this,function(e){switch(e.label){case 0:if(!R)return[2];return[4,R({kind:n,fingerprint:t})];case 1:if(!e.sent().ok)return[2];return E(function(e){return e?e.map(function(e){return e.id===t?(0,nh._)((0,eg._)({},e),{ignored:!1}):e}):null}),[2]}})})()},[R,E])}),f=d.ignoreIssue,h=d.unignoreIssue;(0,b.useEffect)(function(){c({type:"UPDATE",vulns:n})},[n]);var m=(0,b.useMemo)(function(){if(a)return function(e){return(0,y._)(function(){var n;return(0,w.YH)(this,function(t){switch(t.label){case 0:c({type:"FIXING",ids:Array.isArray(e)?e.map(function(e){return e.id}):[e.id],state:!0}),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,a(e)];case 2:return n=t.sent(),c({type:"SESSION_OPENED",ids:Array.isArray(e)?e.map(function(e){return e.id}):[e.id],session:n}),[2,n];case 3:return c({type:"FIXING",ids:Array.isArray(e)?e.map(function(e){return e.id}):[e.id],state:!1}),[7];case 4:return[2]}})})()}},[a]);(0,x.q3)(null==t?void 0:t.agent.state,{next:function(e){(null==e?void 0:e.state)!==I.g32.AGENT_STATE_PAUSED&&(null==e?void 0:e.state)!==I.g32.AGENT_STATE_NOT_STARTED?c({type:"RUNNING",session:t,state:!0}):c({type:"RUNNING",session:null,state:!1})}});var v=[],_=[],S=[],A=[],k=!0,C=!1,Y=void 0;try{for(var E,T,D,R,N,O=u.vulnerabilities.values()[Symbol.iterator]();!(k=(N=O.next()).done);k=!0){var P=N.value;P.type===xX.e.Dependency?P.vulnerability.fix.available?v.push(P):_.push(P):P.type===xX.e.Analysis?S.push(P):P.type===xX.e.Malicious&&A.push(P)}}catch(e){C=!0,Y=e}finally{try{k||null==O.return||O.return()}finally{if(C)throw Y}}var F=u.running.state;return(0,p.FD)(W.S,{gap:16,children:[(0,p.Y)(Tb,{disabled:o||s||F,states:v,updatingDependencies:s,openAgentSession:r,onFixWithAgent:m,onUpdateDependencies:i}),A.length&&(v.length||_.length)?(0,p.Y)(uH.a,{}):null,A.map(function(e){return(0,p.Y)(Tu,{disabled:o||s||F,state:e,openAgentSession:r,onFixWithAgent:m},"MaliciousVulnerability-".concat(e.vulnerability.id))}),S.length&&(v.length||_.length||A.length)?(0,p.Y)(uH.a,{}):null,S.map(function(e){return(0,p.Y)(TS,{disabled:o||s||F,state:e,openAgentSession:r,onFixWithAgent:m,ignoreIssue:function(){return(0,y._)(function(){return(0,w.YH)(this,function(n){switch(n.label){case 0:return[4,f({kind:"sast",id:e.vulnerability.id})];case 1:return n.sent(),(0,ah.u4)(ah.AZ.SECURITY_SCAN,{action:"hide_issue_clicked",type:"sast",vulnerabilityId:e.vulnerability.id,vulnerabilityName:e.vulnerability.name,severity:e.vulnerability.severity}),[2]}})})()},unignoreIssue:function(){return(0,y._)(function(){return(0,w.YH)(this,function(n){switch(n.label){case 0:return[4,h({kind:"sast",id:e.vulnerability.id})];case 1:return n.sent(),(0,ah.u4)(ah.AZ.SECURITY_SCAN,{action:"unhide_issue_clicked",type:"sast",vulnerabilityId:e.vulnerability.id,vulnerabilityName:e.vulnerability.name,severity:e.vulnerability.severity}),[2]}})})()}},e.vulnerability.id)})]})}var TC=t(41269),TY=new Set;function TE(){var e=(0,g._)((0,b.useState)(!1),2),n=e[0],t=e[1],r=(0,g._)((0,b.useState)(!1),2),a=r[0],i=r[1],o=(0,b.useRef)(null),s=(0,b.useRef)(null),l=(0,to.h)(Tc),u=(0,to.ob)(Tc),c=(0,to.h)(Td),d=(0,to.ob)(Td),f=(0,b.useCallback)(function(){o.current&&(o.current.write({kind:"start-scan"}),i(!0))},[]);(0,nC.b)(function(e,n){return(0,y._)(function(e,n){var t,r,a,l,c,f,p,h,m,v,g;return(0,w.YH)(this,function(b){switch(b.label){case 0:t=n.signal,r=n.session,l=(a=e.securityScan.scan.stream({session:r.from},{signal:t})).resReadable,o.current=a.reqWritable,c=!1,f=!1,b.label=1;case 1:b.trys.push([1,6,7,12]),h=function(){var e=v.value;if(!e.ok)return"UNEXPECTED_DISCONNECT"===e.payload.code||"CANCEL"===e.payload.code?"break":("extras"in e.payload&&e.payload.extras&&"scanId"in e.payload.extras&&e.payload.extras.scanId!==s.current||(id.v4(function(n){n.setTag("securityScan",!0),n.setExtra("riverError",e.payload),id.Cp(Error("Unhandled error during security scan"))}),i(!1),u([])),"continue");var n=e.payload;return"started"===n.kind?(s.current=n.scanId,i(!0),"continue"):null!==s.current&&n.scanId!==s.current?"continue":void(u(function(e){return Tm(null!=e?e:[],n.results)}),d(new Date),i(!1),!TY.has(n.scanId)&&(TY.add(n.scanId),(0,TC.ci)(n.results)))},m=(0,D._)(l),b.label=2;case 2:return[4,m.next()];case 3:if(!(c=!(v=b.sent()).done)||"break"===h())return[3,5];b.label=4;case 4:return c=!1,[3,2];case 5:return[3,12];case 6:return g=b.sent(),f=!0,p=g,[3,12];case 7:if(b.trys.push([7,,10,11]),!(c&&null!=m.return))return[3,9];return[4,m.return()];case 8:b.sent(),b.label=9;case 9:return[3,11];case 10:if(f)throw p;return[7];case 11:return[7];case 12:return[2]}})}).apply(this,arguments)},[u,d,i]);var p=(0,eC.I)(function(e){return function(){return(0,y._)(function(){return(0,w.YH)(this,function(n){switch(n.label){case 0:return t(!0),[4,e.securityScan.fixDependencyAudit.rpc({})];case 1:return n.sent(),t(!1),i(!0),f(),[2]}})})()}},[f]);return{runScan:f,scanResult:l,lastScanDate:c,isScanning:a,isUpdatingDependencies:n,updateDependencies:p}}var Tx=function(){function e(){(0,fR._)(this,e),this.state={fixing:!1,currSession:null,prevSession:null}}var n=e.prototype;return n.startFixWithAgent=function(e){var n,t=e.sessionId,r=e.vulns;this.state.fixing&&this.completeFixing(!1),n=this.state.currSession,this.state={fixing:!0,prevSession:n,currSession:{sessionId:t,vulns:r,commits:0,startTime:new Date,endTime:null,fixed:!1}}},n.commit=function(e){var n=e.sessionId;this.state.fixing&&n===this.state.currSession.sessionId&&this.state.currSession.commits++},n.hasAgentFixedVulns=function(e){if(!this.state.fixing)return!1;var n=this.state.currSession.vulns;return Array.isArray(n)?n.every(function(n){return Tp(e.find(function(e){return e.id===n.id}))}):Tp(e.find(function(e){return e.id===n.id}))},n.completeFixing=function(e){if(this.state.fixing){var n=(0,nh._)((0,eg._)({},this.state.currSession),{endTime:new Date,fixed:e});this.state={fixing:!1,currSession:n,prevSession:this.state.prevSession},this.trackAgentFix()}},n.trackAgentFix=function(){if(!this.state.fixing&&this.state.currSession){var e=this.state.currSession,n=e.sessionId,t=e.vulns,r=e.commits,a=e.startTime,i=e.endTime,o=e.fixed,s=i.getTime()-a.getTime();(0,ah.u4)(ah.AZ.SECURITY_SCAN,{action:"agent_fix_completed",sessionId:n,vulns:t,commits:r,timeTaken:s,fixed:o,type:Array.isArray(t)?xX.e.Dependency:xX.e.Analysis})}},n.updateScanResult=function(e){this.state.fixing&&this.hasAgentFixedVulns(e)&&this.completeFixing(!0)},n.agentFixFailed=function(e){this.state.fixing&&e===this.state.currSession.sessionId&&this.completeFixing(!1)},e}(),TT=t(53526),TD=t(88686),TI=t.n(TD),TR=h.ZU.Object({type:h.ZU.Literal("securityScan")}),TN={Content:function(e){var n=e.options.performPaneOperation,t=(0,b.useCallback)(function(e){n({operation:"open",pane:{type:"agentChat",data:{sessionId:e}}})},[n]),r=(0,b.useCallback)(function(e){n({operation:"open",secondary:!1,pane:e})},[n]);return(0,p.Y)(TO,{openAgentSession:t,openPane:r})},Icon:function(e){var n=e.size;return(0,p.Y)(tw.Vx.Provider,{value:{color:U.LU.blueStrongest,size:n},children:(0,p.Y)(TT.A,{})})},getTitle:function(){return"Security Scanner"},description:"Scan your app for vulnerabilities",category:xW.b.CloudServices,decode:function(e){return m.T(TR,e)}},TO=function(e){var n,t,r,a,i,o,s,l,u,c,d,f,h,m,v=e.openAgentSession,S=e.openPane,A=TE(),k=A.scanResult,C=A.lastScanDate,Y=A.runScan,E=A.isScanning,T=A.isUpdatingDependencies,D=A.updateDependencies;(0,b.useEffect)(function(){E||k||Y()},[E,Y,k]);var N=(0,_.jt)(),O=(0,_.NC)(),P=(0,x.J2)(O.sessions.agent.current,null),F=(!(n=(0,b.useRef)()).current&&(n.current=new Tx),t=n.current,a=(r=TE()).isScanning,i=r.runScan,o=r.scanResult,s=r.updateDependencies,l=(0,_.NC)(),c=(u=(0,g._)((0,b.useState)(null),2))[0],d=u[1],f=(0,x.Rj)(function(){return c?l.sessions.get(c):null},[c,l]),h=(0,x.Rj)(function(){return null==f?void 0:f.data.select(function(e){return e.readOnly})},[f],{default:!1}),m=(0,b.useCallback)(function(e){return(0,y._)(function(){var n,r,a,i,o,u,c,f,p,h,m,g,b,y,_,S,A,k;return(0,w.YH)(this,function(w){switch(w.label){case 0:if(n="",Array.isArray(e))return[3,1];return(r=e.type)===xX.e.Analysis?n=["A recent security scan returned the following vulnerability alert using static code analysis: ",e.message.split("\n").map(function(e){return"> ".concat(e)}).join("\n"),"> **Location:** `".concat(e.location.path,"` (lines ").concat(e.location.start.line,"-").concat(e.location.end.line,")"),"\n**Instructions:**\n- Examine the code at the specified location to understand the vulnerability context\n- Decide whether the reported issue is real. *Use execution path, context, and impact to judge.*\n- If you have high confidence that it's exploitable, provide the smallest safe patch. Tell the user it is important to test their app before continuing with their deployment.\n- If the issue is a false positive but violates coding best practices, apply the minimal fix to follow recommended patterns. Otherwise, if there's no security risk and the code follows best practices, make no change and explain why."].join("\n"):r===xX.e.Malicious?n=["A security scan found malicious files matching known supply chain attack signatures:",e.message.split("\n").map(function(e){return"> ".concat(e)}).join("\n"),e.paths.map(function(e){return"> **Malicious File :** `".concat(e,"`")}).join("\n"),"\n**IMMEDIATE ACTION REQUIRED:**\n- **DO NOT EXECUTE** any code from these files\n- Immediately quarantine or delete the malicious files listed above\n- Check if these files are part of compromised npm packages\n- Audit for compromised dependencies and update to clean versions\n\nPlease take these actions and confirm when the malicious files have been removed."].join("\n"):(0,r_.A)(r),[3,4];case 1:if(a=[],!(i=e.filter(function(e){return e.type===xX.e.Dependency}).filter(function(e){return e.status===Tf.Pending})).length)return[3,3];o=!0,u=!1,c=void 0;try{for(f=i[Symbol.iterator]();!(o=(p=f.next()).done);o=!0)(h=p.value).fix.available&&a.push({name:h.name,from:h.currentVersion,to:h.fix.breakingChanges&&"object"===(0,nm._)(h.fix.version)?h.fix.version.version:void 0})}catch(e){u=!0,c=e}finally{try{o||null==f.return||f.return()}finally{if(u)throw c}}return[4,null==s?void 0:s()];case 2:w.sent(),w.label=3;case 3:m="",g=!0,b=!1,y=void 0;try{for(_=a[Symbol.iterator]();!(g=(S=_.next()).done);g=!0)A=S.value,m+=A.from&&A.to?"".concat(A.name,"@").concat(A.from," -> ").concat(A.name,"@").concat(A.to,"\n"):"".concat(A.name,"\n")}catch(e){b=!0,y=e}finally{try{g||null==_.return||_.return()}finally{if(b)throw y}}m&&(m=m.trim()),m&&(n=["In response to a security scan, the following dependencies were updated:\n```",m,"```\n\nEnsure that the app still works and fix any issues that may have come up."].join("\n")),w.label=4;case 4:if(!n)throw Error("No message to send");return[4,l.sessions.create({sessionType:I.dF3.AGENT_SESSION})];case 5:if(!(k=w.sent()).ok)throw k;return k.payload.appendEvent({kind:"message",intent:I.qRv.AGENT,message:n}),v(k.payload.id),t.startFixWithAgent({sessionId:k.payload.id,vulns:e}),d(k.payload.id),[2,k.payload]}})})()},[l,s,v,d,t]),(0,b.useEffect)(function(){o&&t.state.fixing&&t.updateScanResult(o)},[o,t]),(0,b.useEffect)(function(){c&&h&&t.state.fixing&&t.agentFixFailed(c)},[h,c,t]),(0,_.zv)("received-completed-event",function(e){var n=e.event;(0,R.cL)(n,"commitData")&&t.state.fixing&&(t.commit({sessionId:n.sessionId}),a||i())}),{fixWithAgent:m}).fixWithAgent,U=(0,b.useCallback)(function(){Y(),(0,TC.kB)(xX.a.SECURITY_SCANNER_PANE)},[Y]),L=(0,b.useMemo)(function(){var e;return null!=(e=null==k?void 0:k.filter(function(e){return!e.ignored}))?e:[]},[k]),J=(0,b.useMemo)(function(){var e;return null!=(e=null==k?void 0:k.filter(function(e){return e.ignored}))?e:[]},[k]);return(0,p.FD)(W.S,{justify:"space-between",grow:!0,height:"100%",px:32,py:16,align:"center",clsx:TI().root,children:[(0,p.FD)(W.S,{gap:16,grow:!0,style:{width:"100%"},children:[(0,p.FD)(W.S,{row:!0,gap:8,align:"start",children:[(0,p.Y)(G.EY,{variant:"headerDefault",children:"Security Scanner"}),(0,p.Y)(W.S,{pt:4,children:(0,p.Y)(V.a,{colorway:"primary",text:"Beta",variant:"filled"})})]}),(0,p.FD)(G.EY,{variant:"small",color:"dimmer",children:["Run a scan to check for potential security risks in your application. Scans are typically complete within minutes."," ",(0,p.Y)("a",{href:"https://docs.replit.com/replit-workspace/workspace-features/security-scanner",target:"_blank",children:"Learn more"})]}),(0,p.Y)(W.S,{align:"start",children:(0,p.Y)(M.$n,{text:E?"Scanning for vulnerabilities":"Run scan",iconLeft:E?(0,p.Y)(a$.A,{}):(0,p.Y)(TT.A,{}),loading:E,onClick:U})}),(0,p.Y)(_J.tU,{children:(0,p.FD)(W.S,{children:[(0,p.FD)(_J.wb,{withUnderline:!0,children:[(0,p.Y)(_J.oz,{id:"active-issues",children:"Active Issues"}),(0,p.Y)(_J.oz,{id:"hidden-issues",children:"Hidden Issues"})]}),(0,p.FD)(_J.T2,{children:[(0,p.FD)(_J.Kp,{id:"active-issues",children:[null!==k&&C?(0,p.Y)(p.FK,{children:(0,p.Y)(TP,{count:k?L.filter(function(e){return e.status===Tf.Pending&&(e.type!==xX.e.Dependency||e.fix.available)}).length:0,timestamp:C,openPane:S})}):null,0===L.length?null:(0,p.Y)(Tk,{isScanning:E,isUpdatingDependencies:T,scanResult:L,currentAgentSession:P,onUpdateDependencies:null!=D?D:void 0,openAgentSession:function(e){return v(e.id)},onFixWithAgent:N?F:void 0})]}),(0,p.Y)(_J.Kp,{id:"hidden-issues",children:(0,p.Y)(W.S,{clsx:TI().ignoredIssuesContainer,children:0===J.length?(0,p.Y)(p.FK,{children:(0,p.Y)(G.EY,{className:TI().ignoredIssuesText,children:"No hidden issues found."})}):(0,p.Y)(Tk,{isScanning:E,isUpdatingDependencies:T,scanResult:J,currentAgentSession:P,onUpdateDependencies:null!=D?D:void 0,openAgentSession:function(e){return v(e.id)},onFixWithAgent:N?F:void 0})})})]})]})})]}),(0,p.Y)(x2,{})]})};function TP(e){var n=e.count,t=e.timestamp,r=e.openPane,a="No vulnerabilities found.";return 1===n?a="1 potential vulnerability found.":n>1&&(a="".concat(n," potential vulnerabilities found.")),(0,p.FD)(W.S,{gap:4,clsx:TI().lastScanSummaryContainer,children:[(0,p.FD)(W.S,{row:!0,wrap:!0,gap:4,children:[(0,p.Y)(G.EY,{clsx:TI().lastScanSummaryText,children:a}),0===n?(0,p.FD)(W.S,{gap:4,row:!0,children:[(0,p.Y)(G.EY,{color:"dimmer",children:"Ready to deploy?"}),(0,p.Y)(M.$n,{colorway:"blue",variant:"underlinedOnHover",text:"Go back to Deployments",onClick:function(){r({type:"deployments"}),(0,ah.u4)(ah.AZ.SECURITY_SCAN,{action:"deployment_pane_redirected"})}})]}):null]}),(0,p.FD)(W.S,{row:!0,children:[(0,p.Y)(G.EY,{variant:"small",color:"dimmer",children:"Last ran on"}),"\xa0",(0,p.Y)(eP.Dc,{date:t,textVariant:"small",textColor:"dimmer",dateFormat:"absolute"})]})]})}function TF(){return{codeEditor:aZ.N,webview:xm.QS,media:yK,binary:aW,vnc:xh,adminPanel:tS,runnerOutput:ES.a,shell:E4,envEditor:oh,draw:ou,git:gj,diff:i0,history:b3,database:yI,neon:_2,markdown:yq,csvPreview:aK.J,ghostwriterChat:pv,objectStorage:A6,workflows:xb,project:YV,agentFiles:tI,integrations:b5.u,videoPlayer:E8,replitAuth:E_,securityScan:TN,preferences:Ce,automations:aF,file:xQ,developer:is}}},46855:(e,n,t)=>{"use strict";t.d(n,{F:()=>u});var r=t(12694),a=t(34837),i=t(21462),o=t(76957),s=t(31366),l=t(56205);function u(e){var n=(0,r._)((0,i.useState)(function(){var n,t,r,a,i,l,u;return t=(n={fs:e.fs,container:e.container,dotReplit:e.dotReplit,ports:e.ports,secrets:e.secrets}).container,r=n.fs,a=n.dotReplit,i=n.ports,l=n.secrets,(u=(0,o.y$)()).set(s.xs,t),u.set(s.fg,r),u.set(s.Vc,a),u.set(s.kK,i),u.set(s.$s,l),u}),1)[0];return(0,a.FD)(l.rF.Provider,{value:n,children:[e.children,(0,a.Y)(s.JH,{replId:e.replId,orgId:e.orgId})]})}},46909:(e,n,t)=>{"use strict";t.d(n,{$f:()=>o,Pi:()=>i,cl:()=>a});var r=t(9092),a="git",i={gitCommit:{id:"git.commit",name:"Git: Commit",scope:a,default:(0,r.FM)({cmdOrCtrl:!0,key:"Enter"})}},o=Object.values(i)},46966:(e,n,t)=>{"use strict";t.d(n,{A:()=>C});var r=t(83846),a=t(34837),i=t(21462),o=t(69832),s=t(47737),l=t(41833),u=t(37743),c=t(48686),d=t(32978),f=t(18454),p=t(57282),h=function(){function e(){var n=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,u._)(this,e),this.isSupported=t,this.events=new d.V_(function(e){if(n.isSupported){var t=function(n){return(0,p.$Z)(n,function(n){return e.next(n.result)})};return window.addEventListener("message",t),function(){window.removeEventListener("message",t)}}}),this.transcript=new d.V_(function(e){return n.events.subscribe(function(n){"update"===n.event&&e.next(n.transcript)})}),this.isTranscribing=new d.V_(function(e){return n.events.subscribe(function(n){switch(n.event){case"update":case"start":e.next(!0);break;default:e.next(!1)}})}),this.isSupported=t}return e.prototype.requestAction=function(e){if(this.isSupported){var n={messageType:f.tF.REQUEST_SPEECH_TO_TEXT_ACTION,action:e};(0,p._z)(n,(0,c.Ak)())}},e}(),m=t(39534),v=t(25227),g=t(17844),b=t(93629),y=t(25590);function w(e){return(0,a.Y)(y.Ay,(0,b._)((0,g._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M9.776.978A3.75 3.75 0 0 1 15.75 4V9.34a.75.75 0 0 1-1.5 0V4a2.25 2.25 0 0 0-4.455-.45.75.75 0 1 1-1.47-.3A3.75 3.75 0 0 1 9.775.979ZM.47.47a.75.75 0 0 1 1.06 0l22 22a.75.75 0 1 1-1.06 1.06l-5.518-5.517a7.75 7.75 0 0 1-4.202 1.752v2.485H16a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1 0-1.5h3.25v-2.485a7.75 7.75 0 0 1-7-7.768V10a.75.75 0 0 1 1.5 0v2.005a6.25 6.25 0 0 0 10.136 4.941l-1.82-1.82a3.75 3.75 0 0 1-5.816-3.125V9.31L.47 1.53A.75.75 0 0 1 .47.47Zm9.28 10.34V12a2.25 2.25 0 0 0 3.218 2.028L9.75 10.811ZM19 9.25a.75.75 0 0 1 .75.75v2c0 .457-.041.913-.122 1.362a.75.75 0 1 1-1.476-.264c.065-.363.098-.73.098-1.099V10a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}))}function _(e){return(0,a.Y)(y.Ay,(0,b._)((0,g._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M9.348 1.348A3.75 3.75 0 0 1 15.75 4v8a3.75 3.75 0 0 1-7.5 0V4a3.75 3.75 0 0 1 1.098-2.652ZM12 1.75A2.25 2.25 0 0 0 9.75 4v8a2.25 2.25 0 0 0 4.5 0V4A2.25 2.25 0 0 0 12 1.75Zm-7 7.5a.75.75 0 0 1 .75.75v2a6.25 6.25 0 0 0 12.5 0v-2a.75.75 0 0 1 1.5 0v2a7.75 7.75 0 0 1-7 7.714v2.536H16a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1 0-1.5h3.25v-2.536a7.75 7.75 0 0 1-7-7.714v-2A.75.75 0 0 1 5 9.25Z",clipRule:"evenodd"})}))}var S=t(64024),A=t.n(S),k=(0,m.CK)("SpeechToTextButton.module.css",["--mic-color"]);function C(e){var n,t=e.disabled,u=e.getCurrentText,c=e.onUpdateText,d=(0,i.useRef)(null),f=(0,i.useRef)(""),p=(0,s.Dr)("speechRecognition"),g=(n=(0,s.Dr)("speechRecognition"),(0,i.useRef)(new h(n)).current),b=(0,o.J2)(g.isTranscribing);return((0,i.useEffect)(function(){return g.events.subscribe(function(e){switch(e.event){case"start":f.current=u();break;case"update":c(f.current+" "+e.transcript)}})}),(0,i.useEffect)(function(){(0,l.U)(d,(0,r._)({},k.micColor,b?m.LU.redDefault:m.LU.foregroundDimmer))},[b]),!p||t)?null:(0,a.Y)(v.S,{innerRef:d,clsx:A().root,onClick:function(){return g.requestAction(b?"stopTranscription":"startTranscription")},children:b?(0,a.Y)(w,{}):(0,a.Y)(_,{})})}},46987:e=>{e.exports={drawerContainer:"InitialBuildFooter_drawerContainer__khWdC"}},47012:e=>{e.exports={root:"Chat_root__Yf_1K",emptyState:"Chat_emptyState__uhAy7",footerContainer:"Chat_footerContainer__KTEt5",isDesktop:"Chat_isDesktop__9Qscb",footerRow:"Chat_footerRow__0dttJ",centeredVisualPlanner:"Chat_centeredVisualPlanner__C_vdi",isMobile:"Chat_isMobile__d3LQ9"}},47055:e=>{e.exports={fullBetaText:"BetaDisclaimer_fullBetaText__nnaw9",abbreviatedBetaText:"BetaDisclaimer_abbreviatedBetaText__vjD4e"}},47099:(e,n,t)=>{"use strict";t.d(n,{I:()=>l});var r=t(34837),a=t(39534),i=t(70764),o=t(25227),s=(0,i.x)({container:[{maskImage:"linear-gradient(to right, white 80%, transparent)"}]}),l=function(e){var n=e.className;return(0,r.Y)(o.S,{className:n,css:s.container,children:(0,r.FD)("svg",{viewBox:"0 0 448 59",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.Y)("path",{d:"M28 14.5C56 14.5 56 44.5 84 44.5",stroke:a.LU.accentPositiveDimmest}),(0,r.Y)("path",{d:"M196 14.5C224 14.5 224 44.5 252 44.5",stroke:a.LU.accentPositiveDimmest}),(0,r.Y)("path",{d:"M280 14.5C308 14.5 308 44.5 336 44.5",stroke:a.LU.accentPositiveDimmest}),(0,r.Y)("path",{d:"M364 14.5C392 14.5 392 44.5 420 44.5",stroke:a.LU.accentPositiveDimmest}),(0,r.Y)("path",{d:"M168 14.5C140 14.5 140 44.5 112 44.5",stroke:a.LU.accentPositiveDimmest}),(0,r.Y)("path",{d:"M112 14.5C140 14.5 140 44.5 168 44.5",stroke:a.LU.accentPositiveDimmest}),(0,r.Y)("path",{d:"M336 14.5C308 14.5 308 44.5 280 44.5",stroke:a.LU.accentPositiveDimmest}),(0,r.Y)("path",{d:"M420 14.5C392 14.5 392 44.5 364 44.5",stroke:a.LU.accentPositiveDimmest}),(0,r.Y)("path",{d:"M252 14.5C224 14.5 224 44.5 196 44.5",stroke:a.LU.accentPositiveDimmest}),(0,r.Y)("rect",{width:"28",height:"28",rx:"4",fill:a.LU.accentPositiveDimmest}),(0,r.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.6868 9.64645C11.8821 9.84171 11.8821 10.1583 11.6868 10.3536L8.04036 14L11.6868 17.6464C11.8821 17.8417 11.8821 18.1583 11.6868 18.3536C11.4915 18.5488 11.175 18.5488 10.9797 18.3536L6.9797 14.3536C6.78444 14.1583 6.78444 13.8417 6.9797 13.6464L10.9797 9.64645C11.175 9.45118 11.4915 9.45118 11.6868 9.64645ZM16.313 9.64645C16.5083 9.45118 16.8249 9.45118 17.0201 9.64645L21.0201 13.6464C21.2154 13.8417 21.2154 14.1583 21.0201 14.3536L17.0201 18.3536C16.8249 18.5488 16.5083 18.5488 16.313 18.3536C16.1178 18.1583 16.1178 17.8417 16.313 17.6464L19.9595 14L16.313 10.3536C16.1178 10.1583 16.1178 9.84171 16.313 9.64645Z",fill:a.LU.accentPositiveStrongest}),(0,r.Y)("rect",{x:"84",y:"31",width:"28",height:"28",rx:"4",fill:a.LU.accentPositiveDimmest}),(0,r.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M95.6868 40.6464C95.8821 40.8417 95.8821 41.1583 95.6868 41.3536L92.0404 45L95.6868 48.6464C95.8821 48.8417 95.8821 49.1583 95.6868 49.3536C95.4915 49.5488 95.175 49.5488 94.9797 49.3536L90.9797 45.3536C90.7844 45.1583 90.7844 44.8417 90.9797 44.6464L94.9797 40.6464C95.175 40.4512 95.4915 40.4512 95.6868 40.6464ZM100.313 40.6464C100.508 40.4512 100.825 40.4512 101.02 40.6464L105.02 44.6464C105.215 44.8417 105.215 45.1583 105.02 45.3536L101.02 49.3536C100.825 49.5488 100.508 49.5488 100.313 49.3536C100.118 49.1583 100.118 48.8417 100.313 48.6464L103.959 45L100.313 41.3536C100.118 41.1583 100.118 40.8417 100.313 40.6464Z",fill:a.LU.accentPositiveStronger}),(0,r.Y)("rect",{x:"168",y:"31",width:"28",height:"28",rx:"4",fill:a.LU.accentPositiveDimmest}),(0,r.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M179.687 40.6464C179.882 40.8417 179.882 41.1583 179.687 41.3536L176.04 45L179.687 48.6464C179.882 48.8417 179.882 49.1583 179.687 49.3536C179.492 49.5488 179.175 49.5488 178.98 49.3536L174.98 45.3536C174.784 45.1583 174.784 44.8417 174.98 44.6464L178.98 40.6464C179.175 40.4512 179.492 40.4512 179.687 40.6464ZM184.313 40.6464C184.508 40.4512 184.825 40.4512 185.02 40.6464L189.02 44.6464C189.215 44.8417 189.215 45.1583 189.02 45.3536L185.02 49.3536C184.825 49.5488 184.508 49.5488 184.313 49.3536C184.118 49.1583 184.118 48.8417 184.313 48.6464L187.959 45L184.313 41.3536C184.118 41.1583 184.118 40.8417 184.313 40.6464Z",fill:a.LU.accentPositiveStronger}),(0,r.Y)("rect",{x:"252",y:"31",width:"28",height:"28",rx:"4",fill:a.LU.accentPositiveDimmest}),(0,r.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M263.687 40.6464C263.882 40.8417 263.882 41.1583 263.687 41.3536L260.04 45L263.687 48.6464C263.882 48.8417 263.882 49.1583 263.687 49.3536C263.492 49.5488 263.175 49.5488 262.98 49.3536L258.98 45.3536C258.784 45.1583 258.784 44.8417 258.98 44.6464L262.98 40.6464C263.175 40.4512 263.492 40.4512 263.687 40.6464ZM268.313 40.6464C268.508 40.4512 268.825 40.4512 269.02 40.6464L273.02 44.6464C273.215 44.8417 273.215 45.1583 273.02 45.3536L269.02 49.3536C268.825 49.5488 268.508 49.5488 268.313 49.3536C268.118 49.1583 268.118 48.8417 268.313 48.6464L271.959 45L268.313 41.3536C268.118 41.1583 268.118 40.8417 268.313 40.6464Z",fill:a.LU.accentPositiveStronger}),(0,r.Y)("rect",{x:"336",y:"31",width:"28",height:"28",rx:"4",fill:a.LU.accentPositiveDimmest}),(0,r.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M347.687 40.6464C347.882 40.8417 347.882 41.1583 347.687 41.3536L344.04 45L347.687 48.6464C347.882 48.8417 347.882 49.1583 347.687 49.3536C347.492 49.5488 347.175 49.5488 346.98 49.3536L342.98 45.3536C342.784 45.1583 342.784 44.8417 342.98 44.6464L346.98 40.6464C347.175 40.4512 347.492 40.4512 347.687 40.6464ZM352.313 40.6464C352.508 40.4512 352.825 40.4512 353.02 40.6464L357.02 44.6464C357.215 44.8417 357.215 45.1583 357.02 45.3536L353.02 49.3536C352.825 49.5488 352.508 49.5488 352.313 49.3536C352.118 49.1583 352.118 48.8417 352.313 48.6464L355.959 45L352.313 41.3536C352.118 41.1583 352.118 40.8417 352.313 40.6464Z",fill:a.LU.accentPositiveStronger}),(0,r.Y)("rect",{x:"420",y:"31",width:"28",height:"28",rx:"4",fill:a.LU.accentPositiveDimmest}),(0,r.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M431.687 40.6464C431.882 40.8417 431.882 41.1583 431.687 41.3536L428.04 45L431.687 48.6464C431.882 48.8417 431.882 49.1583 431.687 49.3536C431.492 49.5488 431.175 49.5488 430.98 49.3536L426.98 45.3536C426.784 45.1583 426.784 44.8417 426.98 44.6464L430.98 40.6464C431.175 40.4512 431.492 40.4512 431.687 40.6464ZM436.313 40.6464C436.508 40.4512 436.825 40.4512 437.02 40.6464L441.02 44.6464C441.215 44.8417 441.215 45.1583 441.02 45.3536L437.02 49.3536C436.825 49.5488 436.508 49.5488 436.313 49.3536C436.118 49.1583 436.118 48.8417 436.313 48.6464L439.959 45L436.313 41.3536C436.118 41.1583 436.118 40.8417 436.313 40.6464Z",fill:a.LU.accentPositiveStronger}),(0,r.Y)("line",{x1:"28",y1:"14",x2:"444",y2:"14",stroke:a.LU.accentPositiveDimmest,strokeWidth:"2"})]})})}},47112:(e,n,t)=>{"use strict";t.d(n,{A:()=>u});var r=t(29935),a=t(17459),i=t(82643),o=t(73920),s=t(7659),l=function(e){return e.CHANNEL_OPENED="CHANNEL_OPENED",e.OUTPUT_RECEIVED="OUTPUT_RECEIVED",e.STDERR_RECEIVED="STDERR_RECEIVED",e.STATE_CHANGED="STATE_CHANGED",e}({});function u(e){var n=e.container,t=(0,s.Ay)(),u=null,c=!1,d="",f="",p=n.openChannel({service:"exec"},function(e){var n=e.channel,r=!1;return n.onCommand(function(e){if(null!=e.output)d+=e.output,t.emit(l.OUTPUT_RECEIVED,e.output);else if(null!=e.stderr)f+=e.stderr,t.emit(l.STDERR_RECEIVED,e.stderr);else if(null!=e.state){if(!r){r=!0;return}t.emit(l.STATE_CHANGED,{state:e.state,outputBuffer:d,stderrBuffer:f}),e.state===o.api.State.Stopped&&(d="",f="")}}),u=n,t.emit(l.CHANNEL_OPENED,n),function(){u=null}});return{request:function(e){return(0,r._)(function(){var n,s,d,f,p,h,m,v,g,b;return(0,i.YH)(this,function(y){switch(y.label){case 0:return n=e.env,s=e.args,f=void 0===(d=e.lifecycle)?o.api.Exec.Lifecycle.NON_BLOCKING:d,h=void 0!==(p=e.splitStderr)&&p,m=e.noUserEnv,v=(0,a._)(e,["env","args","lifecycle","splitStderr","noUserEnv"]),[4,(0,r._)(function(){return(0,i.YH)(this,function(e){if(c)throw Error("closed");return u?[2,u]:[2,new Promise(function(e){t.once(l.CHANNEL_OPENED,function(n){e(n)})})]})})()];case 1:return b=(g=y.sent()).request({exec:{env:n,args:s,lifecycle:f,splitStderr:h,noUserEnv:null!=m&&m}}),f===o.api.Exec.Lifecycle.STDIN&&"stdin"in v&&(g.send({input:v.stdin}),g.send({inputClose:{}})),[2,b]}})})()},onOutput:function(e){return t.on(l.OUTPUT_RECEIVED,e),function(){t.off(l.OUTPUT_RECEIVED,e)}},onStderr:function(e){return t.on(l.STDERR_RECEIVED,e),function(){t.off(l.STDERR_RECEIVED,e)}},onStateChanged:function(e){return t.on(l.STATE_CHANGED,e),function(){t.off(l.STATE_CHANGED,e)}},getStatus:function(){return u?u.status:"closed"},dispose:function(){c=!0,p(),u=null}}}},47567:(e,n,t)=>{"use strict";t.d(n,{A:()=>l});var r=t(46434),a=t(29935),i=t(82643),o=t(45620),s=t(95570);function l(){return(0,o.b)(function(e,n){return n.signal,(0,a._)(function(){var e,n,t,a,o,l,u,c;return(0,i.YH)(this,function(i){switch(i.label){case 0:return[3,12];case 1:i.trys.push([1,6,7,12]),o=(0,r._)(e),i.label=2;case 2:return[4,o.next()];case 3:if(!(n=!(l=i.sent()).done))return[3,5];(u=l.value).ok&&(u.payload.extras?s.log("[pid2]: ".concat(u.payload.message),u.payload.extras):s.log("[pid2]: ".concat(u.payload.message))),i.label=4;case 4:return n=!1,[3,2];case 5:return[3,12];case 6:return c=i.sent(),t=!0,a=c,[3,12];case 7:if(i.trys.push([7,,10,11]),!(n&&null!=o.return))return[3,9];return[4,o.return()];case 8:i.sent(),i.label=9;case 9:return[3,11];case 10:if(t)throw a;return[7];case 11:return[7];case 12:return[2]}})})()},[]),null}},47727:(e,n,t)=>{"use strict";t.d(n,{A:()=>w,p:()=>b});var r=t(29935),a=t(53847),i=t(82643),o=t(97858),s=t(12584);function l(){var e=(0,s._)(["\n  query GitHubAuth {\n    currentUser {\n      id\n      gitHubInfo {\n        accessToken\n      }\n    }\n  }\n"]);return l=function(){return e},e}var u=(0,t(41114).J1)(l()),c=t(74651),d=c.ZU.Object({id:c.ZU.String(),user_id:c.ZU.Number(),ssh_hostname:c.ZU.String(),token:c.ZU.String()}),f=t(92972),p=t(62449),h=t(95793),m=t(88331),v=t(34778),g=["http:","https:","vscode:"];function b(e){return(0,r._)(function(e){var n,t;return(0,i.YH)(this,function(r){switch(r.label){case 0:return n=e.replId,[4,(0,f.$6)(function(){return(0,m.B2)("/data/repls/".concat(n,"/get_ssh_token"))})];case 1:if((t=r.sent()).error)return[2,{type:"error",message:t.error.toString()}];if(!o.J(d,t.value))return[2,{type:"error",message:"Invalid JSON"}];return[2,{type:"success",data:t.value}]}})}).apply(this,arguments)}function y(){(0,a._)(document.activeElement,HTMLElement)&&document.activeElement.blur()}function w(e){var n=e.container,t=e.fs,a=e.openMultipleFiles,o=e.openMultipleURLs,s=e.enableReplspaceSshTokenPassthrough,l=new Set,c=!1,d=null;return n.openChannel({service:"open",name:"open"},function(e){e.channel.onCommand(function(e){if("replspaceApiOpenMultipleFiles"===e.body){if(!e.replspaceApiOpenMultipleFiles)throw Error("Expected replspaceApiOpenMultipleFiles");var n=e.replspaceApiOpenMultipleFiles,t=n.files,r=n.urls.flatMap(function(e){var n;try{n=new URL(e)}catch(e){return[]}return g.includes(n.protocol)?[n]:[]});a&&t.length>0&&(y(),a({paths:t})),o&&r.length>0&&(y(),o({urls:r.map(function(e){return e.toString()})}))}})}),n.openChannel({service:"git",name:"git"},function(e){var n=e.channel;return n.onCommand(function(e){return(0,r._)(function(){var o,s,f,m,v,g,b,w,_,S,A,k,C,Y,E,x;return(0,i.YH)(this,function(T){switch(T.label){case 0:switch(e.body){case"replspaceApiOpenFile":return[3,1];case"replspaceApiGetGitHubToken":return[3,7]}return[3,9];case 1:if(!e.replspaceApiOpenFile)throw Error("Expected replspaceApiOpenFile");if(s=(o=e.replspaceApiOpenFile).file,f=o.waitForClose,m=o.nonce,a)return[3,3];if(!s.endsWith(".git/COMMIT_EDITMSG"))return f&&n.send({replspaceApiCloseFile:{file:s,nonce:m}}),window.alert("tried to open ".concat(s," but failed")),[2];return v=window.prompt("Enter a commit message"),[4,t.writeFile(s,null!=v?v:"")];case 2:if(T.sent(),!f)return[2];return[3,5];case 3:if(y(),a({paths:[s]}),!f||!d)return[2];return[4,d(s)];case 4:T.sent(),T.label=5;case 5:return[4,t.flush()];case 6:if(T.sent(),"open"!==n.status)return[2];return n.send({replspaceApiCloseFile:{file:s,nonce:m}}),[2];case 7:if(!e.replspaceApiGetGitHubToken)throw Error("Expected replspaceApiGetGitHubToken");return g=function(){var t;"open"===n.status&&n.send({replspaceApiGitHubToken:{token:"",nonce:null==(t=e.replspaceApiGetGitHubToken)?void 0:t.nonce}})},[4,(0,r._)(function(){var e;return(0,i.YH)(this,function(n){switch(n.label){case 0:if(!p.V)throw Error("Expected apollo");return[4,p.V.query({query:u})];case 1:if(!(null==(e=n.sent().data)?void 0:e.currentUser))throw Error("Expected current user");return[2,e.currentUser]}})})()];case 8:if(null==(b=T.sent()).gitHubInfo)return g(),[2];if(!l.size)return g(),h.vF.error("Got a replspaceApiGetGitHubToken command but no confirm listener is set up"),[2];if(w=function(){var t,r;"open"===n.status&&n.send({replspaceApiGitHubToken:{token:null==(t=b.gitHubInfo)?void 0:t.accessToken,nonce:null==(r=e.replspaceApiGetGitHubToken)?void 0:r.nonce}})},c)return w(),[2];_=!1,S=function(){var e=!0,n=!1,t=void 0;try{for(var r,a=l[Symbol.iterator]();!(e=(r=a.next()).done);e=!0)(0,r.value)(null)}catch(e){n=!0,t=e}finally{try{e||null==a.return||a.return()}finally{if(n)throw t}}},A=!0,k=!1,C=void 0;try{for(Y=l[Symbol.iterator]();!(A=(E=Y.next()).done)&&(x=E.value,!_);A=!0)x(function(e){var n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!_){if(_=!0,!e){g(),S();return}n&&(c=e),w(),S()}})}catch(e){k=!0,C=e}finally{try{A||null==Y.return||Y.return()}finally{if(k)throw C}}T.label=9;case 9:return[2]}})})()}),function(){}}),n.openChannel({service:"shelltracker",name:"shelltracker"},function(e){e.channel.onCommand(function(e){if(null!=e.replspaceApiShellTracker){var t,r;(0,v.u4)(v.AZ.SHELL_COMMAND_EVALED,{context:e.replspaceApiShellTracker.cmd,replId:null==(r=n.getContext())||null==(t=r.repl)?void 0:t.id,api:"replspace",pwd:e.replspaceApiShellTracker.pwd})}})}),void 0!==s&&s&&n.openChannel({service:"sshtoken",name:"sshtoken"},function(e){var n=e.channel;n.onCommand(function(e){return(0,r._)(function(){var t,r,a,o,s,l;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(!e.replspaceApiSSHTokenGetRequest)throw Error("Expected replspaceApiSSHTokenGetRequest");return r=(t=e.replspaceApiSSHTokenGetRequest).nonce,a=t.replid,o=function(e){"open"===n.status&&n.send({replspaceApiSSHTokenGetResponse:e})},s=function(){o({token:"",nonce:r})},[4,b({replId:a})];case 1:if(l=i.sent(),"open"!==n.status)return[2];if("error"===l.type)return s(),h.vF.error(l.message),[2];return o({token:l.data.token,nonce:r,sshHostname:l.data.ssh_hostname}),[2]}})})()})}),{onConfirmSendToken:function(e){var n=function(n){return e(n)};return l.add(n),function(){l.delete(n)}},setWaitForFileClose:function(e){d=e}}}},48438:e=>{e.exports={imageContainer:"ManageConnection_imageContainer__sB6T1",header:"ManageConnection_header__5jnjt",tabsContainer:"ManageConnection_tabsContainer__7F1wI",divider:"ManageConnection_divider__ld5_4",replSection:"ManageConnection_replSection__Rs_f5"}},48667:(e,n,t)=>{"use strict";t.d(n,{$:()=>i,L:()=>o});var r=t(17844),a=t(34778);function i(){(0,a.u4)(a.AZ.MODAL_VIEWED,{modalName:"projects_help_dialog"})}function o(e){(0,a.u4)(a.AZ.GIT_PROJECT_FEATURE_USED,(0,r._)({},e))}},48950:(e,n,t)=>{"use strict";t.d(n,{PF:()=>m,nw:()=>h});var r=t(37743),a=t(12694),i=t(82643),o=t(46723),s=t.n(o),l=s().DIFF_DELETE,u=s().DIFF_INSERT,c=s().DIFF_EQUAL;function d(e,n){var t=new(s()),r=t.diff_linesToChars_(e,n),a=r.chars1,i=r.chars2,o=r.lineArray,l=t.diff_main(a,i,!1);return t.diff_charsToLines_(l,o),l}function f(e){return e.split("\n").length-1}function p(e,n,t){if(e>0){var r=function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===t)return 0;var a=n.indexOf("\n",r);return -1===a?null:1===t?a+1:e(n,t-1,a+1)}(t,n);if(null!==r)return{lineNumber:n,character:r,padding:e}}return null}function h(e,n){var t=!1,r=!1;t="\n"===e[e.length-1],r="\n"===n[n.length-1];for(var i=d(e+(t?"":"\n"),n+(r?"":"\n")),o=0,s=0,h=[],m=[],v=[],g=[],b=0,y=0,w=0;w<i.length;w++){var _=(0,a._)(i[w],2),S=_[0],A=f(_[1]);switch(S){case l:var k,C=(0,a._)(null!=(k=i[w+1])?k:[],2),Y=C[0],E=C[1];o+=A;for(var x=0;x<A;x++)h.push(o-x);var T=A;Y===u&&(T-=f(E));var D=p(T,s,n);D&&g.push(D);break;case u:var I,R=(0,a._)(null!=(I=i[w-1])?I:[],2),N=R[0],O=R[1];s+=A;for(var P=0;P<A;P++)m.push(s-P);var F=A;N===l&&(F-=f(O));var U=p(F,o,e);U&&v.push(U);break;case c:s>y&&(y=s),o>b&&(b=o),o+=A,s+=A}}return{leftPadded:v.filter(function(e){return e.lineNumber<y}),rightPadded:g.filter(function(e){return e.lineNumber<b}),leftColored:h,rightColored:m,changedTrailingNewline:t!==r,leftTrailingNewline:t,rightTrailingNewline:r}}var m=function(){function e(n,t){(0,r._)(this,e),this.deleted=new Set,this.inserted=new Map,this.linePositions=new Map,this.lineLengths=new Map,this.currentTrailingNewline="\n"===n[n.length-1],this.otherTrailingNewline="\n"===t[t.length-1],this.changedTrailingNewline=this.currentTrailingNewline!==this.otherTrailingNewline;var i=d(n,t),o=[],s=!0,f=!1,p=void 0;try{for(var h,m=i[Symbol.iterator]();!(s=(h=m.next()).done);s=!0){var v=(0,a._)(h.value,2),g=v[0],b=v[1].split("\n");""===b[b.length-1]&&b.pop();var y=!0,w=!1,_=void 0;try{for(var S,A=b[Symbol.iterator]();!(y=(S=A.next()).done);y=!0){var k=S.value;o.push([g,k])}}catch(e){w=!0,_=e}finally{try{y||null==A.return||A.return()}finally{if(w)throw _}}}}catch(e){f=!0,p=e}finally{try{s||null==m.return||m.return()}finally{if(f)throw p}}this.currentTrailingNewline&&!this.otherTrailingNewline?o.push([l,""]):!this.currentTrailingNewline&&this.otherTrailingNewline?o.push([u,""]):this.currentTrailingNewline&&this.otherTrailingNewline&&o.push([c,""]);var C=1,Y=0,E=1,x=!0,T=!1,D=void 0;try{for(var I,R=o[Symbol.iterator]();!(x=(I=R.next()).done);x=!0){var N=(0,a._)(I.value,2),O=N[0],P=N[1];switch(O){case l:this.linePositions.set(C,Y),this.lineLengths.set(C,P.length),this.deleted.add(C),Y+=P.length+1,C++;break;case u:var F=C-1,U=this.inserted.get(F);U||(U=[],this.inserted.set(F,U)),U.push({number:E,content:P}),E++;break;case c:this.linePositions.set(C,Y),this.lineLengths.set(C,P.length),Y+=P.length+1,C++,E++}}}catch(e){T=!0,D=e}finally{try{x||null==R.return||R.return()}finally{if(T)throw D}}}var n=e.prototype;return n.startInsertions=function(){var e=this.inserted.get(0);return e&&0!==e.length?e:null},n.lineIsDeleted=function(e){return this.deleted.has(e)},n.lineInsertions=function(e){var n=this.inserted.get(e);return n&&0!==n.length?n:null},n.lineInsertedContent=function(e){var n=this.lineInsertions(e);return n?n.map(function(e){return e.content}).join("\n"):null},n.offsetFor=function(e){var n,t,r;r=0+(null!=(t=null==(n=this.inserted.get(0))?void 0:n.length)?t:0);for(var a=1;a<e;a++){this.lineIsDeleted(a)&&r--;var i=this.lineInsertions(a);i&&(r+=i.length)}return r},n.linePosition=function(e){var n;return null!=(n=this.linePositions.get(e))?n:null},n.lineLength=function(e){var n;return null!=(n=this.lineLengths.get(e))?n:null},n.line=function(e){var n=this.linePosition(e),t=this.lineLength(e);if(null===n||null===t)return null;var r=this.offsetFor(e),a=this.lineIsDeleted(e),i=this.lineInsertions(e);return{number:e,from:n,to:n+t,length:t,offset:r,isDeleted:a,insertions:i}},n.lines=function(){var e,n,t,r,o,s,l,u;return(0,i.YH)(this,function(i){switch(i.label){case 0:e=!0,n=!1,t=void 0,i.label=1;case 1:i.trys.push([1,6,7,8]),r=this.linePositions[Symbol.iterator](),i.label=2;case 2:if(e=(o=r.next()).done)return[3,5];if(s=(0,a._)(o.value,1)[0],!(l=this.line(s)))throw Error("line should not be null");return[4,l];case 3:i.sent(),i.label=4;case 4:return e=!0,[3,2];case 5:return[3,8];case 6:return u=i.sent(),n=!0,t=u,[3,8];case 7:try{e||null==r.return||r.return()}finally{if(n)throw t}return[7];case 8:return[2]}})},e}()},49222:(e,n,t)=>{"use strict";t.d(n,{cX:()=>p,iV:()=>v,wn:()=>m});var r=t(83846),a=t(12694),i=t(34837),o=t(21462),s=t(70764),l=t(18712),u=t(87261),c=t(83031),d=t(91953),f=t(25227),p="@container (max-width: 480px)",h=(0,s.x)({wrapper:[(0,r._)({},p,[l.wp.colWithGap(8),l.wp.align.start])]});function m(e){var n=e.id,t=e.title,r=e.children,a=e.variant,s=(0,u.c)()(n),l="default"===(void 0===a?"default":a);return(0,i.FD)(f.S,{css:h.wrapper,gap:8,row:l,justify:l?"space-between":void 0,align:l?"center":void 0,children:[(0,i.Y)(f.S,{grow:!0,shrink:!0,tag:"label",htmlFor:s,children:"string"==typeof t?(0,i.Y)(d.EY,{multiline:!1,children:t}):t}),(0,o.cloneElement)(r,{id:s})]})}function v(e){var n=e.title,t=e.defaultExpanded,r=e.children,s=(0,a._)((0,o.useState)(void 0!==t&&t),2),l=s[0],u=s[1];return(0,i.Y)(c.A,{headerContent:(0,i.Y)(d.EY,{variant:"subheadDefault",children:n}),expanded:l,onClick:function(){return u(!l)},children:(0,i.Y)(f.S,{p:4,gap:12,children:r})})}},49380:e=>{e.exports={container:"FigmaUrlInput_container__9_W7f",mediumFont:"FigmaUrlInput_mediumFont__RRXh9"}},49451:(e,n,t)=>{"use strict";t.d(n,{S2:()=>V,YZ:()=>H});var r=t(17844),a=t(12694),i=t(34837),o=t(21462),s=t(2094),l=t(17739),u=t(74651),c=t(42028),d=t(25687),f=t(41608),p=t(13672),h=t(63591),m=t(70764),v=t(18712),g=t(83096),b=t(37379),y=t(43820),w=t(91953),_=t(25227),S=(0,m.x)({root:[v.wp.rowWithGap(4),v.wp.align.center],input:[v.wp.flex.growAndShrink(1),v.wp.color.foregroundDefault],disabledInput:[v.wp.flex.growAndShrink(1),v.wp.borderRadius(4),v.wp.px(8),v.wp.py(4),v.wp.color.foregroundDefault,v.wp.backgroundColor.backgroundDefault,{opacity:.7}]});function A(e){switch(e.description){case"shell.exec":return(0,i.Y)(C,{disabled:e.disabled,onArgsBlur:e.onArgsBlur,type:e.type,handleChange:e.handleChange,required:e.required,value:e.value,icon:e.icon,showIcon:e.showIcon});case"workflow.run":return(0,i.Y)(k,{disabled:e.disabled,onArgsBlur:e.onArgsBlur,type:e.type,handleChange:e.handleChange,required:e.required,value:e.value,icon:e.icon,showIcon:e.showIcon});case"packager.installForLanguage":return(0,i.Y)(Y,{disabled:e.disabled,onArgsBlur:e.onArgsBlur,type:e.type,handleChange:e.handleChange,required:e.required,value:e.value,icon:e.icon,showIcon:e.showIcon});case"packager.installForAll":return(0,i.Y)(Y,{disabled:e.disabled,onArgsBlur:e.onArgsBlur,type:e.type,handleChange:e.handleChange,required:e.required,value:"all",icon:e.icon,showIcon:e.showIcon});default:return(0,i.Y)(i.FK,{})}}function k(e){var n=(0,h.mP)().filter(function(e){var n;return!(null==(n=e.metadata)?void 0:n.generated)}).map(function(e){return{name:e.name,id:e.name}});return(0,i.FD)(_.S,{css:S.root,children:[e.showIcon?e.icon:null,(0,i.Y)(y.l,{css:S.input,isDisabled:e.disabled,onBlur:e.onArgsBlur,"aria-label":"Select a Workflow",selectedKey:e.value,onSelectionChange:function(n){"number"!=typeof n&&e.handleChange({type:"args",args:n})},items:n,children:function(e){return(0,i.Y)(b.nh,{label:e.name},e.id)}})]})}function C(e){return(0,i.FD)(_.S,{css:S.root,children:[e.showIcon?e.icon:null,e.disabled?(0,i.Y)(w.EY,{css:S.disabledInput,children:e.value}):(0,i.Y)(g.pd,{css:S.input,disabled:e.disabled,onBlur:e.onArgsBlur,placeholder:"shell command to execute",onChange:function(n){var t=n.currentTarget.value;e.handleChange({type:"args",args:t})},required:e.required,value:e.value,type:e.type})]})}function Y(e){var n=(0,p.J)().configs.map(function(e){return{id:e.language}});return n.push({id:"all"}),(0,i.FD)(_.S,{css:S.root,children:[e.showIcon?e.icon:null,(0,i.Y)(y.l,{css:S.input,isDisabled:e.disabled,onBlur:e.onArgsBlur,"aria-label":"Select a Language to install",selectedKey:e.value,onSelectionChange:function(n){"number"!=typeof n&&("all"===n?e.handleChange({type:"task",task:"packager.installForAll"}):e.handleChange({type:"task",task:"packager.installForLanguage",args:n}))},items:n,children:function(e){return(0,i.Y)(b.nh,{label:e.id},e.id)}})]})}var E=(0,m.x)({taskSelect:[v.wp.flex.growAndShrink(1)]});function x(e){var n;return(0,i.Y)(y.l,{isDisabled:e.disabled,"aria-label":"Select a task",selectedKey:"packager.installForAll"===(n=e.selectedKey)?"packager.installForLanguage":n,onSelectionChange:function(n){var t=e.supportedTasks;if(!t.includes(n))throw Error("Invalid task name: ".concat(n," (expected one of ").concat(t,")"));e.handleChange({type:"task",task:n})},items:e.items,css:E.taskSelect,children:function(e){return(0,i.Y)(b.nh,{label:e.description,icon:e.icon},e.id)}})}var T=t(16653),D=t(73455),I=t(3937),R=t(99960),N=t(91175),O=t(90991),P=t(52389),F=t(43193),U=new Map(d.Jc.anyOf.map(function(e){return[e.properties.task.const,e]})),L=["packager.installForAll","packager.installForLanguage","shell.exec","workflow.run"],M={"shell.exec":{description:"Execute Shell Command",icon:(0,i.Y)(P.A,{})},"packager.installForLanguage":{description:"Install Packages",icon:(0,i.Y)(N.A,{})},"workflow.run":{description:"Run Workflow",icon:(0,i.Y)(O.A,{})}},J={TASK:"task"};function H(e){var n=(0,h.b7)(e),t=(0,h.AK)(),r=(0,h.vJ)(),a=(0,h.wS)();return n?(0,i.Y)(V,{disabled:e.disabled,format:e.format,lastTask:e.lastTask,taskIndex:e.taskIndex,initialConfig:n,onArgsBlur:a,onChange:function(n,t){null!==n&&r(e,n,{persist:"task"===t})},onReorder:e.onReorder,onRemove:function(){return t(e)},simplified:e.simplified}):(0,i.Y)(w.EY,{children:"Task not found"})}u.ZU.Object({type:u.ZU.Literal("task"),taskIndex:u.ZU.Number()});var B=(0,m.x)({root:[v.wp.borderRadius(4),v.wp.p(6),v.wp.rowWithGap(6)],dragIcon:[{cursor:"grab"}],dropIndicator:[v.wp.height(4),v.wp.backgroundColor.blueDefault,v.wp.m(8),v.wp.borderRadius()]});function V(e){var n,t,u,d,p,h,m,v=(0,o.useRef)(null),g=(0,a._)((0,o.useState)((null==(n=e.initialConfig)?void 0:n.task)||null),2),b=g[0],y=g[1],w=(0,a._)((0,o.useState)(e.initialConfig&&"args"in e.initialConfig?e.initialConfig.args:null),2),S=w[0],k=w[1];(0,o.useEffect)(function(){e.initialConfig&&(y(e.initialConfig.task),"args"in e.initialConfig&&k(e.initialConfig.args))},[e.initialConfig]);var C=e.disabled?Object.entries(M).map(function(e){var n=(0,a._)(e,2),t=n[0],i=n[1];return(0,r._)({id:t},i)}):Object.entries(M).filter(function(e){var n=(0,a._)(e,2),t=n[0];return n[1],L.includes(t)}).map(function(e){var n=(0,a._)(e,2),t=n[0],i=n[1];return(0,r._)({id:t},i)}),Y=b?function(e){var n,t=U.get(e);if(!t||!("args"in t.properties))return null;var r=null==(n=t.required)?void 0:n.includes("args");return{type:t.properties.args.type,required:r}}(b):null,E=(0,a._)((0,s.i)(function(){return{type:J.TASK,item:function(){return{type:"task",taskIndex:e.taskIndex}},collect:function(e){return{isDragging:!!e.isDragging()}},canDrag:function(){var e=document.activeElement;return!(e&&("INPUT"===e.tagName||"SELECT"===e.tagName))}}},[e]),2),N=E[0].isDragging,O=E[1],P=(0,a._)((0,l.H)(function(){return{accept:"task",drop:function(n){var t,r=n.taskIndex;null==(t=e.onReorder)||t.call(e,r,e.taskIndex)},collect:function(n){var t=n.getItem(),r=null==t?void 0:t.taskIndex,a=!!n.isOver()&&r!==e.taskIndex;return{isAbove:a&&r>e.taskIndex,isBelow:a&&r<e.taskIndex}}}},[e]),2),H=P[0],V=H.isAbove,$=H.isBelow,G=P[1];function z(n){var t,r,a,i,o="task"===n.type?{task:"task"===n.type?n.task:b,args:null!=(t=n.args)?t:void 0}:{task:b,args:n.args};y(o.task),k(null!=(r=o.args)?r:null);var s=o.task?U.get(o.task):null;if(!s)return null;try{null==(a=e.onChange)||a.call(e,c.T(s,o),n.type)}catch(t){null==(i=e.onChange)||i.call(e,null,n.type)}}return e.disabled||O(G(v)),(0,i.FD)(i.FK,{children:[V?(0,i.Y)(T.a,{css:B.dropIndicator}):null,(0,i.Y)(I.ui,{elevated:!0,disabled:e.disabled,innerRef:v,style:{opacity:N?.5:1},css:B.root,children:(0,i.Y)(_.S,{grow:!0,shrink:!0,gap:4,children:(0,i.FD)(_.S,{row:!0,gap:4,align:"start",justify:"space-between",children:[e.disabled?null:(0,i.Y)(_.S,{css:B.dragIcon,pt:6,children:(0,i.Y)(R.A,{})}),(0,i.FD)(_.S,{grow:!0,shrink:!0,gap:4,children:[e.simplified?null:(0,i.Y)(x,{disabled:e.disabled,handleChange:z,selectedKey:b,items:C,supportedTasks:L}),(0,i.Y)(A,{description:b,disabled:e.disabled,type:null==Y?void 0:Y.type,value:e.format?(0,f.ZM)(null!=(u=null==S?void 0:S.toString())?u:""):null!=(d=null==S?void 0:S.toString())?d:"",required:null!=(p=null==Y?void 0:Y.required)&&p,handleChange:z,onArgsBlur:e.onArgsBlur,showIcon:e.simplified,icon:b?null==(t=M[b])?void 0:t.icon:void 0})]}),e.disabled?null:(0,i.Y)(_.S,{row:!0,gap:8,children:(0,i.Y)(D.K0,{disabled:null!=(h=e.lastTask)&&h,alt:null!=(m=e.lastTask)&&m?"Workflow must have at least one task":"Remove task",onClick:e.onRemove,children:(0,i.Y)(F.A,{})})})]})})}),$?(0,i.Y)(T.a,{css:B.dropIndicator}):null]})}},49540:(e,n,t)=>{"use strict";t.d(n,{Nf:()=>s,X$:()=>u,zg:()=>l});var r=t(21462),a=t(76957),i=t(49313),o=(0,a.eU)(!1);function s(){return(0,i.h)(o)}function l(){var e=(0,i.ob)(o);return(0,r.useCallback)(function(){return e(!0)},[e])}function u(e){var n=(0,i.ob)(o),t=(0,r.useRef)(!1);(0,r.useEffect)(function(){t.current||(t.current=!0,n(e))},[n,e])}},50068:(e,n,t)=>{"use strict";t.d(n,{DH:()=>v,GK:()=>b,N_:()=>m,aP:()=>d,pX:()=>c,s7:()=>g,sC:()=>f});var r=t(17844),a=t(93629),i=t(21462),o=t(76957),s=t(79203),l=t(41409),u=t(860),c=(0,l.F)(function(){return null}),d=(0,l.F)(function(){return null});function f(e){var n=d.current();(0,i.useEffect)(function(){e!==n&&d.set(function(){return e})},[e,n])}var p=(0,o.eU)(null),h=(0,o.eU)(null,function(e,n,t){var i,o,s=e(p),l=s?(0,r._)({},s,t):(0,r._)({},t),u=null==l?void 0:l.changes,d=null==l?void 0:l.filePath;if(!d||!u)throw Error('"filePath", "changes", "users" required when initializing history state');var f=(o=(i=(0,a._)((0,r._)({},l),{changes:u,filePath:d})).changes.length,(0,r._)({users:{},count:o,version:Math.max(0,o-1),playing:!1,comparing:!1},i));c.set(function(){return f});var h=f.changes.length;if(0===h)return void n(p,f);(null==s?void 0:s.changes)&&f.changes!==s.changes&&(f.count=h,f.version=Math.min(f.version,h-1),f.playing=!1,f.comparing=!1),f.version===h-1&&(f.playing=!1),n(p,f)});function m(){return(0,s.md)(p,{store:y()})}function v(){return(0,s.Xr)(h,{store:y()})}function g(){return(0,s.Xr)((0,u.A)(function(){return(0,o.eU)(null,function(e,n){n(p,null)})},[]),{store:y()})}var b=(0,i.createContext)(null);function y(){var e=(0,i.useContext)(b);if(!e)throw Error("Expected store in context");return e}},50420:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M7.387 2.47a.75.75 0 0 1 0 1.06L4.811 6.107h13.618a.75.75 0 0 1 0 1.5H4.81l2.576 2.577a.75.75 0 1 1-1.06 1.06L2.47 7.388a.75.75 0 0 1 0-1.06L6.327 2.47a.75.75 0 0 1 1.06 0Zm9.226 10.285a.75.75 0 0 1 1.06 0l3.857 3.858a.75.75 0 0 1 0 1.06l-3.857 3.857a.75.75 0 0 1-1.06-1.06l2.576-2.577H5.571a.75.75 0 0 1 0-1.5H19.19l-2.576-2.577a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}))}},50429:e=>{e.exports={connectionContainer:"SlackConnectorSetupUI_connectionContainer__m1se2",statusContainer:"SlackConnectorSetupUI_statusContainer__gNcIQ",inlineCode:"SlackConnectorSetupUI_inlineCode__WR2_A"}},50452:e=>{e.exports={feed:"Feed_feed__eAl6n",expandableGroup:"Feed_expandableGroup__yWd9b",expandButton:"Feed_expandButton__0Nh49",summary:"Feed_summary__QTPva",statusRowContainer:"Feed_statusRowContainer__pvRqS",visible:"Feed_visible__Jxdmo",noTransition:"Feed_noTransition__4SwSe","highlight-bg":"Feed_highlight-bg__UCDr9"}},50484:e=>{e.exports={root:"FilePane_root__lIUh7",content:"FilePane_content__5v_vb",emptyState:"FilePane_emptyState__952Na",filetreeButton:"FilePane_filetreeButton__NkNas"}},50568:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var r=t(12694),a=t(21462),i=t(86035),o=t(80719),s=t(32978),l=t(69832),u=t(97172);function c(){var e=(0,u.Jo)("development").refetch,n=(0,o.NC)(),t=(0,l.J2)(n.sessions.agent.current),c=(0,a.useMemo)(function(){return null==t?void 0:t.reduce(d,1)},[t]),f=null==t?void 0:t.agent.state,p=(0,a.useMemo)(function(){return f&&c?s.cP.combine(f,c):null},[f,c]),h=(0,a.useCallback)(function(n){var t=(0,r._)(n,2),a=t[0];t[1].createdDatabase&&(null==a?void 0:a.state)===i.g32.AGENT_STATE_RUNNING&&e()},[e]);(0,l.q3)(p,{next:h})}var d={direction:"reverse",state:{createdDatabase:!1},reducer:function(e,n){if(e.sender.type!==i.utd.AI)return!1;var t=e.contents.contents;if((null==t?void 0:t.$kind)!=="agentTimelineEventContents")return!1;var r=t.agentTimelineEventContents.toolData;return(null==r?void 0:r.$kind)==="createPostgresqlDatabaseData"&&(n.lastCreationEventId!==e.id&&(n.createdDatabase=!0,n.lastCreationEventId=e.id),!1)}}},50646:(e,n,t)=>{"use strict";t.d(n,{j:()=>a});var r=t(84993);function a(){var e=(0,r.TO)().state,n=(0,r.Kb)(e.stages,r.XB.ValidatingDiffStatements),t=(0,r.Kb)(e.stages,r.XB.GeneratingDiffStatements),a=t&&t.status===r.Ng.Paused,i=n&&(n.status===r.Ng.Completed&&!n.approved||n.status===r.Ng.Paused&&!n.approved);return a||i}},50916:(e,n,t)=>{"use strict";t.d(n,{A:()=>u});var r=t(29935),a=t(82643),i=t(59270),o=t(36163),s=/\(copy\)( \d+)?$/,l=/\d+$/;function u(e,n){return(0,r._)(function(){var t,r,u,c,d,f;return(0,a.YH)(this,function(a){switch(a.label){case 0:return t=(0,i._6)(e),[4,n.readDir(0===t.length?o.Dl:t)];case 1:if((r=a.sent()).error)throw r.error;return u=new Set(r.children.map(function(e){return e.filename})),c=function(e,n){var t=(0,i.an)(e),r=(0,i.J)(e);if(!r&&e.startsWith(".")){var a=e.lastIndexOf(".");r=a>0?e.slice(0,a):e}for(var o=s.test(r)?e:"".concat(r," (copy)").concat(t.length>0?".".concat(t):""),u=1;u<=n.size&&n.has(o);u++){var c=(0,i.J)(o),d=c.split(" ");l.test(c)&&d.pop(),o="".concat(d.join(" ")," ").concat(u),t.length>0&&(o+=".".concat(t))}return o}((0,i.WP)(e),u),d=t?"".concat(t,"/").concat(c):c,[4,n.copyFile(e,d)];case 2:if((f=a.sent()).error)throw f.error;return[2,d]}})})()}},51033:(e,n,t)=>{"use strict";t.d(n,{j:()=>V});var r=t(34837),a=t(49999),i=t(48576),o=t(57221),s=t(40115),l=t(73491),u=t(70764),c=t(18712),d=(0,u.x)({webview:[c.wp.height("auto"),c.wp.flex.grow(1),c.wp.position.relative]});function f(e){var n=e.openPane,t=(0,s.A)(),a=t.container,i=t.ports;return(0,r.Y)(l.Q,{css:d.webview,container:a,ports:i,initialPort:o.Kw,readonlyBannerVariant:"gallery",openPane:n})}var p=t(21462),h=t(33747),m=t(24270),v=t(30545),g=t(63591),b=t(87083),y=t(65950),w=t(63789),_=t(19882),S=t(91953),A=t(25227),k=t(73215),C=t(34282),Y=t(33683);t(6525);var E=t(8466),x=t(90843),T=t(5857),D=t(35547),I=t.n(D);function R(){return(0,r.Y)(i.A,{pane:{type:"webview"},headerText:"Preview will be available soon",icon:(0,r.Y)(C.A,{size:48,variant:"minimal"}),body:(0,r.Y)(A.S,{align:"center",children:(0,r.Y)(_.u,{})})})}function N(){return(0,r.Y)(i.A,{pane:{type:"webview"},icon:(0,r.Y)(E.A,{size:48}),headerText:"Your app is not running",body:(0,r.FD)(A.S,{align:"center",row:!0,gap:4,children:[(0,r.Y)(y.d,{})," to preview your app."]})})}function O(){return(0,r.Y)(i.A,{pane:{type:"webview"},icon:(0,r.Y)(Y.A,{size:48}),headerText:"Your app is starting",bodyText:null})}function P(){return(0,r.Y)(i.A,{pane:{type:"webview"},headerText:"The workspace is loading…",bodyText:null})}function F(){return(0,r.Y)(i.A,{pane:{type:"webview"},icon:(0,r.Y)(T.A,{size:48}),headerText:"The workspace is reconnecting…",bodyText:null})}function U(){return(0,r.Y)(i.A,{pane:{type:"webview"},icon:(0,r.Y)(Y.A,{size:48}),headerText:"Your app is not ready yet",body:(0,r.Y)(A.S,{align:"center",children:(0,r.FD)(S.EY,{children:[(0,h.Nn)({capitalizeFirstChar:!0})," is working on it…"]})})})}function L(e){var n=e.openPane,t=e.crashedRunId,a=(0,g.If)(),o=null==a?void 0:a[t],s=(0,m.T)();return(0,r.Y)(i.A,{pane:{type:"webview"},icon:(0,r.Y)(E.A,{size:48}),headerText:"Your app crashed",body:(0,r.FD)(A.S,{clsx:I().crashedBodyWrapper,gap:16,children:[s&&o?(0,r.Y)(A.S,{clsx:I().borderWrapper,children:(0,r.Y)(b.A,{workflowRunState:o,currentUserId:s,openPane:n})}):null,(0,r.Y)(A.S,{align:"center",children:(0,r.Y)(M,{openPane:n})})]})})}function M(e){var n=e.openPane,t=(0,v.c)({openPane:n}),a=(0,p.useCallback)(function(e){t("The app failed to run, please debug and fix it.",e)},[t]);return(0,r.Y)(w.C,{onSendAgentMessage:a,buttonText:"Debug with ".concat(h.g$),menuPrefix:"Debug",colorway:"blurple"})}function J(e){var n=e.openPane,t=e.nixError,a=(0,p.useCallback)(function(e){n({type:"codeEditor",data:{path:e}})},[n]);return(0,r.Y)(i.A,{pane:{type:"webview"},icon:(0,r.Y)(x.A,{size:48}),headerText:"App is in recovery mode",body:(0,r.Y)(A.S,{clsx:I().borderWrapper,children:(0,r.Y)(A.S,{p:16,children:(0,r.Y)(k.H,{openFile:a,nixError:t})})})})}var H=t(70537);function B(){return(0,r.Y)(i.A,{pane:{type:"webview"},icon:(0,r.Y)(E.A,{size:48}),headerText:"The app is running, but the preview isn't ready",bodyText:null})}function V(e){var n=e.webviewState,t=e.openPane;switch(n.state){case H.J4.WORKSPACE_CONNECTING:case H.J4.SERVICES_LOADING:return(0,r.Y)(P,{});case H.J4.WORKSPACE_RECONNECTING:return(0,r.Y)(F,{});case H.J4.GALLERY_PREVIEW:return(0,r.Y)(f,{openPane:t});case H.J4.APP_CRASHED_AGENT_WORKING:return(0,r.Y)(U,{});case H.J4.APP_CRASHED_AGENT_IDLE:return(0,r.Y)(L,{openPane:t,crashedRunId:n.crashedRunId});case H.J4.APP_NOT_RUNNING_AGENT_WORKING:case H.J4.APP_STARTING_AGENT_WORKING:return(0,r.Y)(R,{});case H.J4.APP_NOT_RUNNING_AGENT_IDLE:return(0,r.Y)(N,{});case H.J4.APP_STARTING_AGENT_IDLE:return(0,r.Y)(O,{});case H.J4.LAST_RESORT_RUNNING_NO_PORT:return(0,r.Y)(B,{});case H.J4.NIX_IS_BROKEN:return(0,r.Y)(J,{openPane:t,nixError:n.nixError});default:(0,a.A)(n)}}},51217:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M2.25 3A.75.75 0 0 1 3 2.25h18a.75.75 0 0 1 0 1.5h-1.304c-.273 1.86-1.53 3.131-2.595 4.209l-.067.068C15.749 9.328 14.75 10.384 14.75 12c0 1.616.999 2.672 2.284 3.973l.067.068c1.065 1.078 2.322 2.35 2.595 4.209H21a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h1.304c.273-1.86 1.53-3.131 2.595-4.209l.067-.068C8.251 14.672 9.25 13.616 9.25 12c0-1.616-.999-2.672-2.284-3.973L6.9 7.959C5.834 6.88 4.577 5.609 4.304 3.75H3A.75.75 0 0 1 2.25 3Zm3.577.75c.257 1.217 1.131 2.134 2.207 3.223l.067.068C9.303 8.258 10.75 9.721 10.75 12c0 2.278-1.447 3.742-2.65 4.959l-.066.068c-1.076 1.089-1.95 2.006-2.207 3.223H7.75l3.8-2.85a.75.75 0 0 1 .9 0l3.8 2.85h1.923c-.257-1.217-1.131-2.134-2.207-3.223l-.067-.068c-1.202-1.217-2.649-2.68-2.649-4.959 0-2.278 1.447-3.742 2.65-4.959l.066-.068c1.076-1.089 1.95-2.006 2.207-3.223H5.827Zm7.923 16.5L12 18.938l-1.75 1.312h3.5Z",clipRule:"evenodd"})}))}},51239:(e,n,t)=>{"use strict";t.d(n,{N:()=>D,Y:()=>Y});var r=t(12694),a=t(34837),i=t(21462),o=t(86035),s=t(80719),l=t(69832),u=t(86103),c=t(12252),d=t(66069),f=t(40756),p=t(73455),h=t(70251),m=t(3937),v=t(91953),g=t(90233),b=t(25227),y=t(33759),w=t(66404),_=t(90283),S=t(59771),A=t(30453),k=t(29884),C=t.n(k);function Y(e){var n=(0,u._P)({controlName:"flag-agent-debug-info-button"});return(0,a.Y)(m.ui,{row:!0,align:"end",clsx:[C().root],children:(0,a.FD)(m.ui,{row:!0,gap:12,clsx:C().surface,align:"center",justify:"space-between",children:["checkpoints"===e.screen?(0,a.FD)(a.FK,{children:[(0,a.Y)(p.K0,{size:32,alt:"Back",onClick:function(){return e.onAction("goBack")},children:(0,a.Y)(y.A,{})}),(0,a.Y)(b.S,{grow:!0,shrink:!0,align:"center",justify:"center",children:(0,a.Y)(T,{})}),(0,a.Y)(p.K0,{size:32,disabled:e.disableNewSessionButton,alt:"New chat",onClick:function(){return e.onAction("newChat")},children:(0,a.Y)(w.A,{})})]}):(0,a.FD)(a.FK,{children:[(0,a.Y)(p.K0,{size:32,alt:"History",onClick:function(){return e.onAction("showCheckpoints")},children:(0,a.Y)(S.A,{})}),(0,a.FD)(b.S,{row:!0,grow:!0,shrink:!0,justify:"center",align:"center",children:[e.sessionTitle?(0,a.Y)(x,{sessionId:e.sessionId,sessionTitle:e.sessionTitle}):(0,a.FD)(b.S,{row:!0,pl:18,pr:2,gap:4,align:"center",justify:"center",grow:!0,shrink:!0,children:[(0,a.Y)(v.EY,{variant:"small",color:"dimmest",children:"New chat"}),(0,a.Y)(D,{sessionId:e.sessionId})]}),n&&e.sessionId?(0,a.Y)(c.O,{sessionId:e.sessionId,sessionType:o.dF3.AGENT_SESSION}):null]}),(0,a.Y)(g.m_,{isDisabled:!e.disableNewSessionButton,tooltip:"Cannot create a new chat while one is in progress",children:(0,a.Y)(p.K0,{size:32,disabled:e.disableNewSessionButton,alt:e.disableNewSessionButton?"Cannot create a new chat while one is in progress":"New chat",onClick:function(){return e.onAction("newChat")},children:(0,a.Y)(w.A,{})})})]}),(0,a.Y)(E,{checkpointMade:e.checkpointMade})]})})}function E(e){var n=e.checkpointMade,t=(0,r._)((0,i.useState)(!1),2),o=t[0],s=t[1],u=(0,i.useRef)(null),c=(0,i.useCallback)(function(){u.current&&clearTimeout(u.current),s(!0),u.current=setTimeout(function(){s(!1)},4e3)},[]);return(0,l.q3)(n,{next:c}),o?(0,a.FD)(b.S,{row:!0,align:"center",clsx:C().checkpointMade,gap:4,children:[(0,a.Y)(m.ui,{clsx:C().checkpointMadeIcon,children:(0,a.Y)(_.A,{size:12})}),(0,a.Y)(m.ui,{clsx:C().checkpointMadeText,grow:!0,shrink:!0,children:(0,a.Y)(v.EY,{variant:"small",children:"Checkpoint made"})})]}):null}function x(e){var n=e.sessionTitle,t=e.sessionId;return(0,a.FD)(b.S,{row:!0,pl:18,pr:4,gap:4,align:"center",justify:"center",grow:!0,shrink:!0,children:[(0,a.Y)(v.EY,{multiline:!1,shrink:!0,children:n}),(0,a.Y)(D,{sessionId:t})]})}function T(){return(0,a.FD)(b.S,{row:!0,gap:6,align:"center",children:[(0,a.Y)(S.A,{}),(0,a.Y)(v.EY,{multiline:!1,children:"History"})]})}function D(e){var n=(0,r._)((0,i.useState)(!1),2),t=n[0],o=n[1],u=(0,s.NC)(),c=(0,l.Rj)(function(){return e.sessionId?u.sessions.get(e.sessionId):null},[u,e.sessionId]);return(0,a.FD)(a.FK,{children:[(0,a.Y)(b.S,{shrink:0,children:(0,a.Y)(g.m_,{isDisabled:!c,tooltip:"Send feedback",children:(0,a.Y)(f.$n,{disabled:!c,clsx:C().agentBadge,iconLeft:c?(0,a.Y)(A.A,{}):void 0,size:"small",text:"Agent 3",colorway:"orange",onClick:function(){return o(!0)}})})}),c?(0,a.Y)(h.a,{isOpen:t,onRequestClose:function(){return o(!1)},children:(0,a.Y)(d.u,{session:c,onClose:function(){return o(!1)}})}):null]})}},51270:e=>{e.exports={errorText:"GithubRemoteConfig_errorText__UCXDC",statusText:"GithubRemoteConfig_statusText__GVMvq",privateToggle:"GithubRemoteConfig_privateToggle__LOlWl"}},51345:(e,n,t)=>{"use strict";t.d(n,{F:()=>p});var r=t(21462),a=t(45773),i=t(39938),o=t(47737),s=t(41833),l=t(64369),u=t(25396),c=t(39534),d=t(39638),f=t.n(d);function p(e){var n=e.view,t=e.setPromptEditor,d=(0,r.useRef)(null),p=(0,o.m5)(),h=function(){try{return(0,u.b)()}catch(e){return null}}(),m=(0,r.useRef)(!1);(0,r.useEffect)(function(){(null==h?void 0:h.isShown)&&(m.current=!0)},[null==h?void 0:h.isShown]);var v=(0,i.A)(t);return(0,r.useEffect)(function(){if(n&&v.current){var e=v.current;return e({setValue:function(e){n.state.doc.toString()!==e&&(n.dispatch({changes:{from:0,to:n.state.doc.length,insert:e}}),requestAnimationFrame(function(){var e=n.state.doc.lines,t=n.state.doc.line(e).from;n.dispatch({effects:a.Lz.scrollIntoView(t,{y:"end"})})}))},getValue:function(){return n.state.doc.toString()},focus:function(){p&&m.current||(n.focus(),n.dispatch({selection:{anchor:n.state.doc.length}}))},animatePlaceholder:function(){n.dispatch({effects:l.om.of(!0)}),(0,s.U)(d,"border-color",c.LU.accentPrimaryDefault),setTimeout(function(){requestAnimationFrame(function(){var e;null==(e=d.current)||e.style.removeProperty("border-color")})},60)},animateBorder:function(){var e=d.current;e&&(e.style.setProperty("animation","".concat(f()["agent-input-glow"]," 1.5s")),e.addEventListener("animationend",function(){return e.style.removeProperty("animation")},{once:!0}),p&&m.current||n.focus())}}),function(){e(null)}}},[n,v,p]),d}},51353:e=>{e.exports={errorMessage:"ErrorBoundary_errorMessage__3Jcbl"}},51554:e=>{e.exports={root:"ReadOnlySession_root__h_iV4",fullWidth:"ReadOnlySession_fullWidth__PxMcx"}},51627:(e,n,t)=>{"use strict";t.d(n,{A:()=>M});var r=t(53847),a=t(17844),i=t(17459),o=t(12694),s=t(86105),l=t(34837),u=t(40185),c=t(21462),d=t(90629),f=t(9066),p=t(6268),h=t(49069),m=t(45773),v=t(53870),g=t(9849),b=t(27250),y=t(21605),w=t(6862),_=t(99335),S=t(8761),A=t(70411),k=t(60948),C=t(51488),Y=t(65568),E=t(57821),x=t(85692),T=t(5336),D=t(86103),I=t(30375),R=t(39938),N=t(77135),O=t(47737),P=t(73712),F=m.w4.of([{key:"Shift-Enter",run:p.Bn,shift:p.Bn},{key:"ArrowDown",run:(0,f.aU)(!0)},{key:"ArrowUp",run:(0,f.aU)(!1)},{key:"PageDown",run:(0,f.aU)(!0,"page")},{key:"PageUp",run:(0,f.aU)(!1,"page")},{key:"Enter",run:f.$w},{key:"Mod-z",run:p.tN,preventDefault:!0},{key:"Mod-y",run:p.ZS,preventDefault:!0},{key:"Mod-Shift-z",run:p.ZS,preventDefault:!0}]),U=m.w4.of([{key:"Enter",run:p.Bn,shift:p.Bn}]),L=m.Lz.domEventHandlers({drop:function(e){var n;return!!(null==(n=e.dataTransfer)?void 0:n.files.length)&&(e.preventDefault(),!0)}});let M=(0,c.forwardRef)(function(e,n){var t,f,p,M,J,H,B,V,$,G,z,W,j,q,Z,K,Q,X=e.elementRef,ee=e.initialDoc,en=e.fontSize,et=e.readOnly,er=e.extensions,ea=e.initializing,ei=e.loading,eo=e.onException,es=(0,i._)(e,["elementRef","initialDoc","fontSize","readOnly","extensions","initializing","loading","onException"]),el=(0,o._)((0,c.useState)(null),2),eu=el[0],ec=el[1],ed=(0,o._)((0,c.useState)(null),2),ef=ed[0],ep=ed[1],eh=(0,c.useRef)(ee),em=(0,o._)((0,c.useState)(0),2),ev=em[0],eg=em[1],eb=(0,c.useRef)(ev),ey=(0,c.useCallback)(function(){eg(function(e){if(e-eb.current>=5)throw Error("CodeMirror error refresh loop detected");return e+1})},[]);(0,c.useEffect)(function(){var e=setTimeout(function(){eb.current=ev},1e3);return function(){return clearTimeout(e)}},[ev]),(0,c.useImperativeHandle)(n,function(){return{view:eu,dom:ef}},[eu,ef]),(0,S.vO)();var ew=(0,R.A)(null!=eo?eo:S.oB),e_=(f=(t={fontSize:en,readOnly:et,extensions:er,initializing:ea,loading:ei}).fontSize,p=t.readOnly,M=t.extensions,J=t.initializing,H=t.loading,B=(0,u.useRouter)(),V=(0,I.a)(),$=(0,O.Po)(B),G=(0,O.m5)(),z=(0,D._P)({controlName:"flag-editor-root-level-tooltips",logFlagToAnalytics:!1}),W=(0,S.Im)(M),q=(j=(0,P.D)()).values,Z=j.isDarkColorScheme,K=C.i.use(q,Z,f),Q=[A.h.use(p,$,z,!1),k.p.use(p),S.Hf.use(W),K,Y.R.use(!0),y.A.use(J),w.n5.use(H),_.D.use(G)],[h.Nb.highest(T.LI),x.Pb,w.zn,g.T,v.i,V?U:F,E.D,L].concat((0,s._)(Q)));(0,c.useEffect)(function(){var e,n=function(e){if(ew.current(e),(0,S.Mq)(e)){var n=(0,r._)(e,Error)?e.message:void 0;d.ZQ({category:"codemirror",message:"Codemirror refresh called",data:{error:n},level:"error"}),ey()}};if(ef){var t=null;try{t=new m.Lz({doc:null!=(e=eh.current)?e:void 0,parent:ef,extensions:[m.Lz.exceptionSink.of(n)].concat((0,s._)(e_))})}catch(e){n(e)}return t&&ec(t),function(){if(t){ec(null);try{t.destroy()}catch(e){n(e)}}}}},[ef,ev]),(0,b.O)(eu);var eS=(0,N.S)([ep,X],{breadcrumb:"client/codemirror/react/ProseCodeMirror.tsx:353"});return(0,l.FD)(l.FK,{children:[(0,l.Y)("div",(0,a._)({ref:eS},es)),(0,l.Y)(T.OE,{view:eu})]})})},51951:e=>{e.exports={actionButton:"VulnerabilityActions_actionButton__ov9CP",actionButtonPrimary:"VulnerabilityActions_actionButtonPrimary__FOykV",fullWidth:"VulnerabilityActions_fullWidth__3TgIf"}},51979:(e,n,t)=>{"use strict";t.d(n,{A:()=>l,L:()=>c});var r=t(12694),a=t(21462),i=t(47737),o=t(25396),s=t(39938);function l(){var e=(0,a.useRef)(0),n=(0,r._)((0,a.useState)(!1),2),t=n[0],s=n[1],l=(0,i.m5)(),c=(0,i.m6)(),d=(0,o.b)();return(0,a.useEffect)(function(){var n,t=window.visualViewport;if(t){if(c)return void s(null!=(n=null==d?void 0:d.isShown)&&n);if(l){var r=function(){s(u({current:t.height,initial:e.current}))};return e.current=t.height,t.addEventListener("resize",r),function(){t.removeEventListener("resize",r)}}}},[l,c,null==d?void 0:d.isShown]),t}function u(e){return e.current<.8*e.initial}function c(e){var n=(0,s.A)(e),t=(0,a.useRef)(0),r=(0,i.m6)();(0,a.useEffect)(function(){if(!r){var e=window.visualViewport;if(e){var a=function(){n.current(u({current:e.height,initial:t.current}))};return t.current=e.height,e.addEventListener("resize",a),function(){e.removeEventListener("resize",a)}}}},[n,r])}},51997:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});var r=t(12694),a=t(21462);function i(e,n){var t=(0,r._)((0,a.useState)(null),2),i=t[0],o=t[1];return(0,a.useEffect)(function(){var t=!1;return e.readFile(n).then(function(e){t||o(e)}),function(){t=!0}},[e,n]),i}},52074:e=>{e.exports={radiusDefault:"SlackConnectionSection_radiusDefault__lPCCv",hidden:"SlackConnectionSection_hidden__sonh8"}},52076:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.FD)(o.Ay,(0,a._)((0,r._)({},e),{children:[(0,i.Y)("path",{fillRule:"evenodd",d:"M19 2.922a2.079 2.079 0 0 0-1.47.608L4.171 16.89 3.07 20.93 7.11 19.83l.859-.86a.75.75 0 1 1 1.06 1.061l-1 1a.75.75 0 0 1-.333.194l-5.5 1.5a.75.75 0 0 1-.92-.921l1.5-5.5a.75.75 0 0 1 .193-.333l13.5-13.5a3.579 3.579 0 0 1 5.06 5.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l4.5-4.5A2.078 2.078 0 0 0 19 2.922Z",clipRule:"evenodd"}),(0,i.Y)("path",{fillRule:"evenodd",d:"M13.938 12.3c-.147-.4-.73-.4-.876 0l-1.004 2.744a.458.458 0 0 1-.298.278l-2.436.746a.446.446 0 0 0 0 .857l2.437.752a.458.458 0 0 1 .297.279l1.005 2.745c.146.399.728.399.875 0l1.004-2.745a.458.458 0 0 1 .297-.278l2.437-.75a.446.446 0 0 0 0-.857l-2.437-.749a.458.458 0 0 1-.297-.278l-1.004-2.745Z",clipRule:"evenodd"})]}))}},52389:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M9.341 6.066 12 18.43l2.655-12.364a3.57 3.57 0 0 0 .029-1.183.748.748 0 0 1-.042-.21 2.262 2.262 0 0 0-.721-1.188 3.12 3.12 0 0 0-1.923-.735 3.12 3.12 0 0 0-1.923.735 2.263 2.263 0 0 0-.721 1.189.747.747 0 0 1-.042.209 3.57 3.57 0 0 0 .029 1.183Zm-1.565-.642a5.61 5.61 0 0 0 .096.944l2.46 11.441-5.034-8.286a3.551 3.551 0 0 1-.281-.7.755.755 0 0 0-.038-.148c-.152-.652-.1-1.313.187-1.846.336-.626 1.087-1.242 2.61-1.405Zm.248-1.525c-2.108.127-3.501.957-4.18 2.22-.398.74-.51 1.562-.42 2.353-1.179.603-1.866 1.732-2.09 2.892-.257 1.334.07 2.85 1.11 3.817a.758.758 0 0 0 .037.032l9.045 7.368a.75.75 0 0 0 .948 0l9.045-7.368a.723.723 0 0 0 .038-.032c1.039-.968 1.366-2.483 1.109-3.817-.224-1.161-.913-2.292-2.094-2.894.09-.79-.023-1.61-.42-2.351-.68-1.263-2.073-2.093-4.18-2.22a3.76 3.76 0 0 0-1.062-1.542c-.906-.795-2.08-1.107-2.912-1.107-.832 0-2.006.312-2.912 1.107A3.76 3.76 0 0 0 8.024 3.9Zm8.196 1.525a5.607 5.607 0 0 1-.096.944l-2.457 11.44 5.03-8.285a3.543 3.543 0 0 0 .309-.801c.166-.667.117-1.347-.176-1.893-.336-.626-1.087-1.242-2.61-1.405Zm3.932 4.54a5.077 5.077 0 0 1-.162.32l-5.092 8.388 5.653-4.605c.568-.542.823-1.481.642-2.419-.133-.688-.486-1.298-1.041-1.684ZM9.1 18.67l-5.094-8.386a5.033 5.033 0 0 1-.16-.317c-.554.385-.906.994-1.039 1.681-.18.938.074 1.877.642 2.419l5.65 4.603Z",clipRule:"evenodd"})}))}},52712:(e,n,t)=>{"use strict";t.d(n,{KY:()=>o});var r=t(86105),a=t(86199),i=[{id:"true",editorPreferencesValue:!0,title:"true"},{id:"false",editorPreferencesValue:!1,title:"false"}],o={fontSize:{id:"fontSize",name:"Font Size",description:"Change the font size of the editor.",type:"select",editorPreferencesKey:"fontSize",options:[{id:"10",editorPreferencesValue:10,title:"tiny"},{id:"12",editorPreferencesValue:12,title:"small"},{id:"14",editorPreferencesValue:14,title:"normal"},{id:"18",editorPreferencesValue:18,title:"large"},{id:"24",editorPreferencesValue:24,title:"huge"}]},wrapping:{id:"wrapping",name:"Wrapping",description:"Change whether the editor wraps lines or not.",type:"select",editorPreferencesKey:"wrapping",options:[{id:"none",editorPreferencesValue:!1,title:"none"},{id:"soft",editorPreferencesValue:!0,title:"soft wrap"}]},minimap:{id:"minimap",name:"Minimap",description:"Change the minimap display.",type:"select",editorPreferencesKey:"minimapDisplay",options:[{id:"none",editorPreferencesValue:"none",title:"none"},{id:"blocks",editorPreferencesValue:"blocks",title:"blocks"},{id:"characters",editorPreferencesValue:"characters",title:"characters"}]},indentationDetection:{id:"indentDetection",name:"Indentation Detection",description:"Automatically detect indentation settings when opening a file.",type:"boolean",editorPreferencesKey:"indentDetection",options:i},indentFormatPastes:{id:"indentFormatPastes",name:"Format Pasted Text Indentation",description:"Automatically format the indentation of pasted text.",type:"boolean",editorPreferencesKey:"indentFormatPastes",options:i},indentIsSpaces:{id:"indentationCharacter",name:"Indentation Character",description:"The character used for indenting lines.",type:"select",editorPreferencesKey:"indentIsSpaces",options:[{id:"spaces",editorPreferencesValue:!0,title:"spaces"},{id:"tabs",editorPreferencesValue:!1,title:"tabs"}]},keyboardHandler:{id:"keyboardHandler",name:"Keybinds",description:"Use another keyboard mapping",type:"select",editorPreferencesKey:"keyboardHandler",options:[{id:"default",editorPreferencesValue:null,title:"default"},{id:"emacs",editorPreferencesValue:"emacs",title:"emacs"},{id:"vim",editorPreferencesValue:"vim",title:"vim"}]},showFileTreeGitStatus:{id:"showFileTreeGitStatus",name:"Filetree Git Status",description:"Show the Git status of files in the file tree.",type:"boolean",editorPreferencesKey:"showFileTreeGitStatus",options:i},codeIntelligence:{id:"codeIntelligence",name:"Code Intelligence",description:"Code intelligence gives you autocomplete, as well as hints as you type.",type:"boolean",editorPreferencesKey:"codeIntelligence",options:i},semanticTokens:{id:"semanticTokens",name:"Semantic Tokens",description:"Enables enhanced syntax highlighting from language servers.",type:"boolean",editorPreferencesKey:"semanticTokens",options:i},shellBellAudio:{id:"shellBellAudio",name:"Shell Bell Audible Indicator",description:"Play sound in the Shell on issues like a failed tab completion.",type:"boolean",editorPreferencesKey:"shellBellAudio",options:i},accessibleTerminal:{id:"accessibleTerminal",name:"Accessible Terminal Output",description:"Enable this setting to use a screen reader. Warning: this can negatively affect performance.",type:"boolean",editorPreferencesKey:"accessibleTerminal",options:i},webviewAutoOpenOnPortOpened:{id:"webviewAutoOpenOnPortOpened",name:"Automatic Webview",description:"Open a webview automatically when a port is open.",type:"boolean",editorPreferencesKey:"webviewAutoOpenOnPortOpened",options:i},forwardPortsAutomatically:{id:"forwardPortsAutomatically",name:"Forward Opened Ports Automatically",description:"Automatically configure detected newly opened ports.",type:"select",editorPreferencesKey:"forwardPortsAutomatically",options:[{id:"none",editorPreferencesValue:"none",title:"never"},{id:"only-global",editorPreferencesValue:"only-global",title:"all ports except localhost"},{id:"all",editorPreferencesValue:"all",title:"all ports"}]},agentAudioNotification:{id:"agentAudioNotification",name:"Agent Audio Notification",description:"Play a sound when the Agent needs your response.",type:"boolean",editorPreferencesKey:"agentAudioNotification",options:i},agentPushNotification:{id:"agentPushNotification",name:"Agent Push Notification",description:"Send a push notification when the Agent needs your response.",type:"boolean",editorPreferencesKey:"agentPushNotification",options:i},agentPosition:{id:"agentPosition",name:"Agent Position",description:"Choose whether the Agent appears in the left or right sidebar.",type:"select",editorPreferencesKey:"agentPosition",options:[{id:"leftSidebar",editorPreferencesValue:"leftSidebar",title:"Left"},{id:"rightSidebar",editorPreferencesValue:"rightSidebar",title:"Right"}]},assistantPushNotification:{id:"assistantPushNotification",name:"Assistant Push Notification",description:"Send a push notification when the Assistant needs your response.",type:"boolean",editorPreferencesKey:"assistantPushNotification",options:i},multiselectModifierKey:{id:"multiselectModifierKey",name:"Multiselect Modifier Key",description:"Modifier key for selecting multiple items in the filetree.",type:"select",editorPreferencesKey:"multiselectModifierKey",options:[{id:"cmdOrCtrlKey",editorPreferencesValue:"cmdOrCtrlKey",title:"cmdOrCtrlKey"},{id:"altKey",editorPreferencesValue:"altKey",title:"altKey"}]},codeSuggestion:{id:"codeSuggestion",name:"AI Code Completion",description:'Code completion provides inline "ghost text" suggestions while you code.',type:"boolean",editorPreferencesKey:"codeSuggestion",options:i},assistantAutoApplyChanges:{id:"assistantAutoApplyChanges",name:"Auto Apply Changes",description:"Automatically apply changes made by the AI assistant to your code.",type:"boolean",editorPreferencesKey:"assistantAutoApplyChanges",options:i},assistantAutoRestartRepl:{id:"assistantAutoRestartRepl",name:"Auto Restart Workflows",description:"Automatically restart workflows after applying code changes.",type:"boolean",editorPreferencesKey:"assistantAutoRestartRepl",options:i},assistantAdvancedModelOverride:{id:"assistantAdvancedModelOverride",name:"Advanced Model Override",description:"Override the default advanced model.",type:"select",editorPreferencesKey:"assistantAdvancedModelOverride",options:[{id:"default",editorPreferencesValue:null,title:"default"}].concat((0,r._)(Array.from(a._W).map(function(e){return{id:e.qualified,editorPreferencesValue:e.qualified,title:e.readable}})))}}},53011:(e,n,t)=>{"use strict";t.d(n,{ES:()=>u,Xh:()=>c,cR:()=>l,oL:()=>d});var r=t(12694),a=t(34837),i=t(21462),o=t(47993),s=(0,i.createContext)({left:null,right:null,setLeft:function(){},setRight:function(){},setHasBackButtonOverride:function(){},hasBackButtonOverride:!1});function l(e){var n=e.children,t=e.side,r=(0,i.useContext)(s);if(!r)return null;var a=r[t];return a?o.createPortal(n,a):null}function u(){var e=(0,i.useContext)(s);return(0,i.useCallback)(function(n){e.backButtonOverrideRef&&(e.backButtonOverrideRef.current=n,e.setHasBackButtonOverride(!!n))},[e])}function c(e){var n,t,o,l,u,c,d,f,p,h,m=e.children,v=(t=(n=(0,r._)((0,i.useState)(null),2))[0],o=n[1],u=(l=(0,r._)((0,i.useState)(null),2))[0],c=l[1],d=(0,i.useRef)(null),p=(f=(0,r._)((0,i.useState)(!1),2))[0],h=f[1],(0,i.useMemo)(function(){return{left:t,right:u,setLeft:o,setRight:c,backButtonOverrideRef:d,setHasBackButtonOverride:h,hasBackButtonOverride:p}},[t,u,p]));return(0,a.Y)(s.Provider,{value:v,children:m})}function d(){return(0,i.useContext)(s)}},53254:e=>{e.exports={databaseGrid:"DatabaseOverviewPage_databaseGrid__o48jY",wrapper:"DatabaseOverviewPage_wrapper__UComr",skeletonText:"DatabaseOverviewPage_skeletonText__fiwUv"}},53495:(e,n,t)=>{"use strict";t.d(n,{Z:()=>A});var r=t(34837),a=t(21462),i=t(54988),o=t(80719),s=t(19786),l=t(17844),u=t(93629),c=t(25590);function d(e){return(0,r.FD)(c.Ay,(0,u._)((0,l._)({},e),{children:[(0,r.Y)("path",{d:"M8.09945 1.00012C9.8352 1.00012 11.2423 2.40723 11.2423 4.14298L11.2422 4.16743C11.2554 6.75801 13.358 8.85436 15.951 8.85727L15.9566 8.85726C17.6924 8.85726 19.0995 10.2644 19.0995 12.0001C19.0995 13.7359 17.6924 15.143 15.9566 15.143C13.3611 15.143 11.2554 17.2404 11.2422 19.8328C11.2423 19.841 11.2423 19.8491 11.2423 19.8573C11.2423 21.593 9.8352 23.0001 8.09945 23.0001C6.3637 23.0001 4.9566 21.593 4.9566 19.8573C4.9566 18.1215 6.3637 16.7144 8.09945 16.7144C8.10155 16.7144 8.10365 16.7144 8.10575 16.7144C10.7064 16.7109 12.8136 14.6016 12.8136 12.0001C12.8136 9.39653 10.703 7.2859 8.09939 7.28584C6.36367 7.28581 4.9566 5.87871 4.9566 4.14298C4.9566 2.40723 6.3637 1.00012 8.09945 1.00012Z",fill:"url(#paint0_linear_434_35354)"}),(0,r.Y)("path",{d:"M11.2423 12.0001C11.2423 10.2644 9.83518 8.85729 8.09943 8.85729C6.36368 8.85729 4.95657 10.2644 4.95657 12.0001C4.95657 13.7359 6.36368 15.143 8.09943 15.143C9.83518 15.143 11.2423 13.7359 11.2423 12.0001Z",fill:"url(#paint1_linear_434_35354)"}),(0,r.FD)("defs",{children:[(0,r.FD)("linearGradient",{id:"paint0_linear_434_35354",x1:"4.95657",y1:"1.00012",x2:"25.7048",y2:"15.5274",gradientUnits:"userSpaceOnUse",children:[(0,r.Y)("stop",{stopColor:"#69D9F0"}),(0,r.Y)("stop",{offset:"1",stopColor:"#0093B0"})]}),(0,r.FD)("linearGradient",{id:"paint1_linear_434_35354",x1:"4.95657",y1:"1.00012",x2:"25.7048",y2:"15.5274",gradientUnits:"userSpaceOnUse",children:[(0,r.Y)("stop",{stopColor:"#69D9F0"}),(0,r.Y)("stop",{offset:"1",stopColor:"#0093B0"})]})]})]}))}var f=t(39534),p=t(70764),h=t(18712),m=t(40756),v=t(73455),g=t(3937),b=t(25227),y=t(77898),w=t(29274),_=(0,p.x)({root:[h.wp.display.inlineBlock,h.wp.borderRadius(4),h.wp.border({color:f.LU.outlineDefault})],askButton:[h.wp.border({direction:"right",color:f.LU.outlineDefault})],askButtonInner:[h.wp.height(26),h.wp.borderRadius(4,0,0,4)],copyButton:[{"> button":[h.wp.width(26),h.wp.height(26),h.wp.borderRadius(0,4,4,0)]}]});function S(e){var n=e.adjustXPosition,t=e.adjustYPosition,a=e.onClickAskAssistant,i=e.onClickAskAgent,o=e.onClickCopy,s=e.supportsAgent,l=e.isAgentBusy;return(0,r.Y)(g.ui,{elevated:!0,css:_.root,style:{marginLeft:void 0===n?0:n,marginTop:void 0===t?4:t},children:(0,r.FD)(b.S,{row:!0,align:"center",children:[(0,r.Y)(b.S,{css:_.askButton,children:s?(0,r.Y)(m.$n,{text:void 0!==l&&l?"Add to Queue":"Ask Agent",variant:"nofill",onClick:i,size:"small",iconLeft:(0,r.Y)(y.A,{}),css:_.askButtonInner}):(0,r.Y)(m.$n,{text:"Ask Assistant",variant:"nofill",onClick:a,size:"small",iconLeft:(0,r.Y)(d,{}),css:_.askButtonInner})}),(0,r.Y)(b.S,{css:_.copyButton,children:(0,r.Y)(v.K0,{alt:"Copy",size:12,onClick:o,children:(0,r.Y)(w.A,{})})})]})})}function A(e){var n=e.xterm,t=e.onAskAssistant,l=e.onAskAgent,u=e.isAgentBusy,c=void 0!==u&&u,d=(0,a.useMemo)(function(){return null==n?void 0:n._term},[n]),f=(0,a.useRef)(null),p=(0,a.useRef)(null),h=(0,a.useRef)(null),m=(0,o.jt)();(0,a.useEffect)(function(){if(d)return d.onSelectionChange(function(){f.current&&f.current.dispose(),p.current&&p.current.dispose(),h.current&&(h.current.unmount(),h.current=null);var e=d.getSelectionPosition(),n=d.getSelection().trim();if(d.hasSelection()&&e&&n.length>0){var a,o,u,v=d.buffer.active.cursorY,g=e.end.y-v+1,b=null!=(o=null==d?void 0:d._core._renderService.dimensions.css.cell.width)?o:8,y=Math.round(((null==e?void 0:e.end.x)-(null==e?void 0:e.start.x))/2),w=-70,_=4,A=y*b,k=Math.ceil(140/b);A<70?(y=e.start.x,w=0):y>d.cols-k/2&&(y=e.end.x,w=-140),e.end.y>=d.rows-2&&(_=-8,g-=1),f.current=d.registerMarker(g),p.current=null!=(u=d.registerDecoration({marker:f.current,x:y,width:k,layer:"top"}))?u:null,null==(a=p.current)||a.onRender(function(e){h.current||(h.current=(0,i.createRoot)(e)),h.current.render((0,r.Y)(S,{supportsAgent:m,isAgentBusy:c,adjustXPosition:w,adjustYPosition:_,onClickAskAgent:function(){d.clearSelection(),l(n)},onClickAskAssistant:function(){d.clearSelection(),t(n)},onClickCopy:function(){d.clearSelection(),(0,s.default)(n)}}))})}}).dispose},[l,t,m,d,c])}},53526:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.FD)(o.Ay,(0,a._)((0,r._)({},e),{children:[(0,i.Y)("path",{d:"M19.25 6a.251.251 0 0 0-.25-.25c-2.24 0-4.895-1.3-6.727-2.9a.42.42 0 0 0-.546 0C10.02 4.34 7.57 5.585 5.426 5.735L5 5.75a.25.25 0 0 0-.25.25v7c0 2.301.797 3.99 2.058 5.28 1.12 1.15 2.636 2.01 4.357 2.677l.75.274.017.006.084.016a.253.253 0 0 0 .08-.013c2.025-.706 3.818-1.644 5.097-2.957 1.26-1.293 2.057-2.982 2.057-5.284V6Zm1.5 7c0 2.698-.954 4.76-2.483 6.33-1.51 1.548-3.547 2.584-5.68 3.328l-.006.003a1.75 1.75 0 0 1-1.156-.013c-2.14-.739-4.18-1.772-5.69-3.32C4.202 17.76 3.25 15.699 3.25 13V6A1.75 1.75 0 0 1 5 4.25l.336-.012c1.71-.125 3.856-1.165 5.41-2.523l.007-.006.135-.104a1.92 1.92 0 0 1 2.224 0l.135.105.007.005.32.269C15.207 3.304 17.351 4.25 19 4.25A1.75 1.75 0 0 1 20.75 6v7Z"}),(0,i.Y)("path",{d:"M14.526 9.418a.75.75 0 0 1 1.056 1.056l-.052.056-4 4a.75.75 0 0 1-1.06 0l-2-2-.052-.056a.75.75 0 0 1 1.056-1.056l.056.052L11 12.94l3.47-3.47.056-.052Z"})]}))}},53736:(e,n,t)=>{"use strict";t.d(n,{A:()=>d});var r=t(17844),a=t(93629),i=t(17459),o=t(34837),s=t(70764),l=t(18712),u=t(73455),c=(0,s.x)({checked:[l.wp.backgroundColor.backgroundHigher],unchecked:[l.wp.color.foregroundDimmest]});function d(e){var n=e.alt,t=e.icon,s=e.checked,l=e.onClick,d=(0,i._)(e,["alt","icon","checked","onClick"]);return(0,o.Y)(u.K0,(0,a._)((0,r._)({},d),{css:s?c.checked:c.unchecked,alt:"".concat(s?"Disable":"Enable"," ").concat(n),onClick:l,children:t}))}},54222:(e,n,t)=>{"use strict";t.d(n,{OR:()=>f});var r=t(17844),a=t(12584),i=t(41114),o=t(54744);function s(){var e=(0,a._)(["\n  fragment WorkspaceToolPanesRepl on Repl {\n    workspaceCta\n    authorizations {\n      editFileContents {\n        isAuthorized\n      }\n      editPermissions {\n        isAuthorized\n      }\n    }\n    authorizations {\n      viewDeploymentConfig {\n        isAuthorized\n      }\n    }\n    config {\n      isServer\n      isVnc\n    }\n  }\n"]);return s=function(){return e},e}function l(){var e=(0,a._)(["\n  query WorkspaceToolPanes($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        ...WorkspaceToolPanesRepl\n      }\n    }\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n    }\n  }\n  ","\n"]);return l=function(){return e},e}var u={},c=(0,i.J1)(s()),d=(0,i.J1)(l(),c);function f(e){var n=(0,r._)({},u,e);return o.I(d,n)}},54362:(e,n,t)=>{"use strict";t.d(n,{A:()=>b});var r=t(46434),a=t(29935),i=t(53847),o=t(12694),s=t(86105),l=t(82643),u=t(21462),c=t(25687),d=t(67201),f=t(16732),p=t(3452),h=t(42415),m=t(45620),v=t(41479),g=t(40115);function b(){var e=(0,p.A)(),n=(0,g.A)().ports,t=(0,u.useRef)(new Map),b=(0,u.useRef)(new Set),y=(0,u.useRef)(new Map),w=(0,u.useRef)(null),_=(0,v.I)(function(e){return function(){return(0,a._)(function(){var n,r,a,i,u,c,d,f,p,h;return(0,l.YH)(this,function(l){switch(l.label){case 0:n=!0,r=!1,a=void 0,l.label=1;case 1:l.trys.push([1,6,7,8]),i=t.current.entries()[Symbol.iterator](),l.label=2;case 2:if(n=(u=i.next()).done)return[3,5];if(d=(c=(0,o._)(u.value,2))[0],0===(f=c[1]).length)return[3,4];return p=(0,s._)(f),t.current.set(d,[]),[4,e.agentToolWebviewLogs.store.rpc({logs:p,paneId:"expo-".concat(d)})];case 3:l.sent(),l.label=4;case 4:return n=!0,[3,2];case 5:return[3,8];case 6:return h=l.sent(),r=!0,a=h,[3,8];case 7:try{n||null==i.return||i.return()}finally{if(r)throw a}return[7];case 8:return[2]}})})()}},[]);(0,u.useEffect)(function(){if(e){if(!_){w.current=null;return}w.current=(0,f.A)(_,{wait:100})}},[e,_]);var S=(0,u.useCallback)(function(e,n){t.current.has(e)||t.current.set(e,[]);var r,a=t.current.get(e);a&&a.push({message:n,method:"console.log"}),null==(r=w.current)||r.call(w)},[]);(0,u.useEffect)(function(){if(e)return n.portsState.subscribe(function(e){if(e){var n=e.filter(h.N);(function(e,n,t){var r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value.configuration.localPort;n.has(l)||(n.add(l),t(l,"[Expo detected on port ".concat(l,"] Starting to capture logs...")))}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}})(n,b.current,S),function(e,n,t){var r=new Set(e.map(function(e){return e.configuration.localPort})),a=!0,i=!1,o=void 0;try{for(var s,l=n[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;r.has(u)||(n.delete(u),t.delete(u))}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}}(n,b.current,t.current)}})},[e,n.portsState,S]);var A=(0,u.useCallback)(function(e,n){return(0,a._)(function(){var t,a,o,s,u,c,f,p,h,m,v,g,b,w;return(0,l.YH)(this,function(l){switch(l.label){case 0:t=new AbortController,y.current.set(e.taskKey,{abort:t,portNumbers:e.portNumbers}),l.label=1;case 1:l.trys.push([1,14,15,16]),a=n.workflows.connectToTask.stream({runId:e.runId,taskIdx:e.taskIdx,userId:0,processViewId:(0,d.A)()},{signal:t.signal}).resReadable,o=new TextDecoder,s="",u=!1,c=!1,l.label=2;case 2:l.trys.push([2,7,8,13]),p=(0,r._)(a),l.label=3;case 3:return[4,p.next()];case 4:if(!(u=!(h=l.sent()).done)||(v=!(m=h.value).ok&&("UNEXPECTED_DISCONNECT"===m.payload.code||"CANCEL"===m.payload.code),g=!m.ok&&"NO_MATCHING_TASK_STATE"===m.payload.code,v||g))return[3,6];if(!m.ok)throw Error("[".concat(m.payload.code,"] ").concat(m.payload.message));if("output"!==m.payload.$kind)return[3,5];s=function(e,n,t,r,a){var i=(n+=t.decode(e,{stream:!0})).split("\n"),o=i.pop()||"",s=!0,l=!1,u=void 0;try{for(var c,d=i[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=c.value;if(f.trim()){var p=!0,h=!1,m=void 0;try{for(var v,g=r[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var b=v.value;a(b,f)}}catch(e){h=!0,m=e}finally{try{p||null==g.return||g.return()}finally{if(h)throw m}}}}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}return o}(m.payload.chunk,s,o,e.portNumbers,S),l.label=5;case 5:return u=!1,[3,3];case 6:return[3,13];case 7:return b=l.sent(),c=!0,f=b,[3,13];case 8:if(l.trys.push([8,,11,12]),!(u&&null!=p.return))return[3,10];return[4,p.return()];case 9:l.sent(),l.label=10;case 10:return[3,12];case 11:if(c)throw f;return[7];case 12:return[7];case 13:return function(e,n,t){if(e.trim()){var r=!0,a=!1,i=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;t(l,e)}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}}}(s+=o.decode(),e.portNumbers,S),[3,16];case 14:if(w=l.sent(),(0,i._)(w,Error)&&"AbortError"===w.name)return[2];throw w;case 15:return y.current.delete(e.taskKey),[7];case 16:return[2]}})})()},[S]);(0,m.b)(function(n,t){var i=t.signal;return(0,a._)(function(){var t,a,s,u,d,f,p,h,m;return(0,l.YH)(this,function(l){switch(l.label){case 0:if(!e)return[2];t=n.workflows.runState.subscribe({},{signal:i}).resReadable,i.addEventListener("abort",function(){var e=!0,n=!1,t=void 0;try{for(var r,a=y.current.values()[Symbol.iterator]();!(e=(r=a.next()).done);e=!0)r.value.abort.abort()}catch(e){n=!0,t=e}finally{try{e||null==a.return||a.return()}finally{if(n)throw t}}y.current.clear()}),a=!1,s=!1,l.label=1;case 1:l.trys.push([1,6,7,12]),d=(0,r._)(t),l.label=2;case 2:return[4,d.next()];case 3:if(!(a=!(f=l.sent()).done))return[3,5];if(!(p=f.value).ok)return[3,4];h=p.payload.state,function(e,n,t,r,a){var i=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var d=l.value,f=function(e,n){if(!e)return null;var t=!0,r=!1,a=void 0;try{for(var i,o=Object.values(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value,l=s.tasks.findIndex(function(e){if(e.state!==c.Dr.RUNNING)return!1;var t=e.metadata;return!!(null==t?void 0:t.openPorts)&&t.openPorts.some(function(e){return e.port===n})});if(-1!==l){var u=s.tasks[l].metadata;if(u.openPorts){var d=u.openPorts.map(function(e){return e.port});return{runId:s.runId,taskIdx:l,taskKey:"".concat(s.runId,"-").concat(l),portNumbers:d}}}}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return null}(n,d);f&&(t.has(f.taskKey)||a(f,r))}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}}(Array.from(b.current),h,y.current,n,A),function(e,n){var t=!0,r=!1,a=void 0;try{for(var i,s=n.entries()[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var l=(0,o._)(i.value,2),u=l[0],d=l[1];!function(e,n){return!!e&&Object.values(e).some(function(e){return e.tasks.some(function(t,r){return"".concat(e.runId,"-").concat(r)===n&&t.state===c.Dr.RUNNING})})}(e,u)&&(d.abort.abort(),n.delete(u))}}catch(e){r=!0,a=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw a}}}(h,y.current),l.label=4;case 4:return a=!1,[3,2];case 5:return[3,12];case 6:return m=l.sent(),s=!0,u=m,[3,12];case 7:if(l.trys.push([7,,10,11]),!(a&&null!=d.return))return[3,9];return[4,d.return()];case 8:l.sent(),l.label=9;case 9:return[3,11];case 10:if(s)throw u;return[7];case 11:return[7];case 12:return[2]}})})()},[e,A])}},54634:(e,n,t)=>{"use strict";t.d(n,{D8:()=>g,m2:()=>A,vc:()=>k});var r=t(17844),a=t(93629),i=t(17459),o=t(34837),s=t(86035),l=t(70764),u=t(18712),c=t(91953),d=t(25227),f=t(41260),p=t(62036),h=t(81076),m=t(52076),v=new Map([[s.e3q.BASIC,f.A],[s.e3q.ADVANCED,p.A]]);function g(e){var n=e.model,t=(0,i._)(e,["model"]),a=v.get(n);return a?(0,o.Y)(a,(0,r._)({},t)):null}s.e3q.BASIC,s.e3q.ADVANCED;var b=new Map([[s.qRv.GENERATE,m.A],[s.qRv.TRANSFORM,m.A],[s.qRv.EXPLAIN,h.A],[s.qRv.REPLIT_DOCS,h.A]]),y=new Map([[s.qRv.GENERATE,"Generate"],[s.qRv.TRANSFORM,"Modify"],[s.qRv.EXPLAIN,"Explain"],[s.qRv.REPLIT_DOCS,"Ask replit.com"]]),w=new Map([[s.Z1T.GENERATE_CODE,m.A],[s.Z1T.TRANSFORM_CODE,m.A],[s.Z1T.EXPLAIN_CODE,h.A],[s.Z1T.DEBUGGER,h.A]]),_=new Map([[s.Z1T.GENERATE_CODE,"Generate"],[s.Z1T.TRANSFORM_CODE,"Modify"],[s.Z1T.EXPLAIN_CODE,"Explain"],[s.Z1T.DEBUGGER,"Debug"]]),S=(0,l.x)({iconLabel:[u.wp.rowWithGap(4),u.wp.align.center]});function A(e){var n=e.intent,t=e.icon,i=e.text,s=b.get(n),l=y.get(n);return s&&l?(0,o.FD)(d.S,{css:S.iconLabel,children:[(0,o.Y)(s,(0,r._)({},t)),(0,o.Y)(c.EY,(0,a._)((0,r._)({},i),{children:l}))]}):null}function k(e){var n=e.type,t=e.icon,i=e.text,s=w.get(n),l=_.get(n);return s&&l?(0,o.FD)(d.S,{css:S.iconLabel,children:[(0,o.Y)(s,(0,r._)({},t)),(0,o.Y)(c.EY,(0,a._)((0,r._)({},i),{children:l}))]}):null}},55157:(e,n,t)=>{"use strict";t.d(n,{L:()=>s});var r=t(21462),a=t(84383),i=t(41683),o=t(40115);function s(){var e=(0,o.A)().ports,n=(0,i.w)(e);return(0,r.useMemo)(function(){return n.some(function(e){return(0,a.O)(e.configuration.localPort)})},[n])}},55464:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(17844),a=t(93629),i=t(34837);let o=function(e){return(0,i.Y)("svg",(0,a._)((0,r._)({width:20,height:18,viewBox:"0 0 14 18",fill:e.color},e),{children:(0,i.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2h2a2 2 0 012 2v2c0 .364-.097.706-.268 1H4.268A1.99 1.99 0 014 6V4a2 2 0 012-2zM2.126 7A4.007 4.007 0 012 6V4a4 4 0 014-4h2a4 4 0 014 4v2c0 .345-.044.68-.126 1H12a2 2 0 012 2v7a2 2 0 01-2 2H2a2 2 0 01-2-2V9a2 2 0 012-2h.126z"})}))}},55519:(e,n,t)=>{"use strict";t.d(n,{A:()=>b});var r=t(12694),a=t(34837),i=t(17844),o=t(12584),s=t(41114),l=t(57933);function u(){var e=(0,o._)(["\n  query FeaturedReplPreviewReplInfo($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        isFeaturedRepl\n      }\n    }\n  }\n"]);return u=function(){return e},e}var c={},d=(0,s.J1)(u()),f=t(99689),p=t(35897),h=t(96576),m=t(40756),v=t(91953),g=t(25227);let b=function(e){var n,t,o=e.isFeatured,s=e.repl,u=e.orgId,b=e.onCompleted,y=(0,p.A)(),w=y.showError,_=y.showConfirm,S=(0,r._)((0,f.iu)({onError:function(){w("Something unexpected happened")},onCompleted:function(e){"Org"===e.updateOrgFeaturedRepl.__typename?(_("Profile updated successfully"),x()):w(e.updateOrgFeaturedRepl.message)}}),2),A=S[0],k=S[1].loading,C=(0,r._)((0,f.Gz)({onError:function(){w("Something unexpected happened")},onCompleted:function(e){"Org"===e.removeOrgFeaturedRepl.__typename?(_("Removed featured App"),x()):w(e.removeOrgFeaturedRepl.message)}}),2),Y=C[0],E=C[1].loading,x=(0,r._)((n={variables:{replId:s.id},fetchPolicy:"network-only",ssr:!1},t=(0,i._)({},c,n),l._(d,t)),1)[0];return u?(0,a.FD)(g.S,{justify:"center",gap:16,children:[(0,a.Y)(v.EY,{variant:"headerDefault",children:o?"Remove from featured repls":"Feature App on your profile"}),(0,a.Y)(v.EY,{variant:"text",children:o?"Do you want to remove this App from the Featured section?":"Display this App at the top of your organization's profile. Only public Apps can be featured."}),(0,a.Y)(h.o,{repl:s,index:0,hideForkButton:!0}),(0,a.FD)(g.S,{row:!0,justify:"space-between",align:"center",children:[(0,a.Y)(m.$n,{text:"Cancel",onClick:b}),(0,a.Y)(m.$n,{colorway:"primary",text:o?"Remove":"Feature on profile",onClick:function(){o?Y({variables:{input:{orgId:u,replId:s.id}}}):A({variables:{input:{orgId:u,replId:s.id}}}),b()},loading:k||E})]})]}):null}},55643:(e,n,t)=>{"use strict";t.d(n,{a:()=>s});var r=t(34837),a=t(70764),i=t(18712),o=t(2717),s=function(e){var n=e.className,t=e.text,a=e.iconLeft,i=e.onClick;return(0,r.Y)(o.a,{onClick:i,className:n,colorway:"yellow",css:l.self,text:t,iconLeft:a})},l=(0,a.x)({self:[i.wp.borderRadius(4),{padding:"4px 3px"}]})},55689:(e,n,t)=>{"use strict";t.d(n,{A:()=>p,F:()=>d});var r=t(29935),a=t(12694),i=t(86105),o=t(82643),s=t(16057),l=t(25544),u=t(11874),c=t(52080);function d(e,n){return!!e&&!!n&&(e===n||e.name===n.name&&e.remote===n.remote)}function f(e){var n=(0,a._)(e.split("	"),6),t=n[0],r=n[1],i=n[2],o=n[3],d=n[4],f=n[5],p=(0,l.T)(t),h={hash:i,author:{name:o,email:(0,s.ao)(d),date:1e3*parseInt(f,10)}};if(p.type===u.QN.BRANCH){var m=r?(0,l.T)(r):null,v=m&&(m.type===u.QN.REMOTE_BRANCH||m.type===u.QN.BRANCH)?m:null;return{type:c.xx.LOCAL,name:p.name,push:v,remote:null,tracking:null,commit:h}}return p.type===u.QN.REMOTE_BRANCH?{type:c.xx.REMOTE,name:p.branch,remote:p.remote,push:null,tracking:null,commit:h}:null}function p(e){return(0,r._)(function(e){var n,t,r=arguments;return(0,o.YH)(this,function(a){switch(a.label){case 0:return[4,e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!1===e.local&&!1===e.remote)throw Error("Cannot specify both local and remote as false");var n=[];if(n.push('--format="%(refname)%09%(push)%09%(objectname)%09%(authorname)%09%(authoremail)%09%(authordate:unix)"'),e.max&&n.push("--count=".concat(e.max)),e.pattern)if("string"==typeof e.pattern)n.push((0,s.hh)(e.pattern));else{var t,r,a=e.pattern.map(function(e){return(0,s.hh)(e)});n.push.apply(n,(0,i._)(a))}else(null==(t=e.local)||t)&&n.push("refs/heads"),(null==(r=e.remote)||r)&&n.push("refs/remotes");return"git for-each-ref ".concat(n.join(" "))}(r.length>1&&void 0!==r[1]?r[1]:{}),{serviceMethod:"git-list-branches"})];case 1:if((n=a.sent()).error)return[2,n];return(t=function(e){var n=[],t=[],r=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var d=s.value;d.type===c.xx.LOCAL?n.push(d):d.type===c.xx.REMOTE&&t.push(d)}}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}var f=new Set,p=[],h=!0,m=!1,v=void 0;try{for(var g,b=t[Symbol.iterator]();!(h=(g=b.next()).done);h=!0)!function(){var e=g.value,t=n.find(function(n){return n.push&&n.push.type===u.QN.REMOTE_BRANCH&&n.push.remote===e.remote&&n.push.branch===e.name&&n.name===e.name});t&&(f.add(e),f.add(t),p.push({type:c.xx.TRACKED,name:t.name,remote:e.remote,push:t.push,tracking:e,commit:t.commit}))}()}catch(e){m=!0,v=e}finally{try{h||null==b.return||b.return()}finally{if(m)throw v}}var y=e.filter(function(e){return!f.has(e)});return(0,i._)(y).concat((0,i._)(p))}((0,s.jr)(n.output,"\n").map(f).filter(function(e){return null!==e}))).sort(function(e,n){return n.commit.author.date-e.commit.author.date}),[2,{branches:t,error:null}]}})}).apply(this,arguments)}},55775:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>g,fq:()=>y,pi:()=>m});var r=t(12694),a=t(34837),i=t(21462),o=t(52712),s=t(26737),l=t(81069),u=t(49222),c=t(70764),d=t(18712),f=t(16653),p=t(83096),h=t(91953),m=[{value:"spaces",title:"spaces"},{value:"tabs",title:"tabs"}],v=(0,c.x)({sizeInput:[d.wp.py(6),d.wp.flex.growAndShrink(0),{border:"none"}]});function g(){var e=(0,s.g)("indentDetection","indentFormatPastes","indentIsSpaces","indentSize"),n=e.preferences,t=e.update;return(0,a.FD)(a.FK,{children:[(0,a.Y)(l.n,{setting:o.KY.indentationDetection,currentValue:n.indentDetection,update:t}),(0,a.Y)(f.a,{}),(0,a.Y)(l.n,{setting:o.KY.indentFormatPastes,currentValue:n.indentFormatPastes,update:t}),(0,a.Y)(f.a,{}),(0,a.Y)(l.n,{setting:o.KY.indentIsSpaces,currentValue:n.indentIsSpaces,update:t}),(0,a.Y)(f.a,{}),(0,a.Y)(u.wn,{id:"indentSize",title:(0,a.FD)(a.FK,{children:[(0,a.Y)(h.EY,{multiline:!1,children:"Indentation Size"}),(0,a.Y)(h.EY,{variant:"small",color:"dimmest",children:"The number of columns taken up by an indentation level."})]}),children:(0,a.Y)(y,{css:v.sizeInput,size:n.indentSize,onChange:function(e){t({indentSize:e})}})})]})}function b(e){return null==e||("string"==typeof e&&(e=parseInt(e,10)),isNaN(e))?2:(Number.isInteger(e)||(e=Math.round(e)),e<1)?1:e>16?16:e}function y(e){var n=e.size,t=e.onChange,o=e.className,s=(0,r._)((0,i.useState)(null),2),l=s[0],u=s[1],c=null!==l?l:n.toString(),d=""===c?"6ch":c.length+5.5+"ch";return(0,a.Y)(p.pd,{type:"number",style:{width:d},className:o,min:1,max:16,value:c,onBlur:function(){return u(null)},onChange:function(e){var n=e.target.value.trim(),r=e.target.valueAsNumber;if(""===n||isNaN(r))return void u(n);e.target.validity.valid?(u(null),t(b(r))):(u(n),""===n||isNaN(parseInt(n,10))||t(b(n)))}})}},55939:e=>{e.exports={capabilityContainer:"DynamicReplitCapabilities_capabilityContainer__51T_b"}},56006:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(34837),a=t(12493);function i(e){var n=e.children,t=e.config,i=(0,a.ob)(a.Ai);return t.id&&i(t),(0,r.Y)(r.FK,{children:n})}function o(e){var n=e.children,t=e.config,o=(0,a.PY)();return(0,r.Y)(a.uB.Provider,{value:o,children:t?(0,r.Y)(i,{config:t,children:n}):n})}},56066:(e,n,t)=>{"use strict";t.d(n,{s:()=>g});var r=t(34837),a=t(81962),i=t(39534),o=t(3554),s=t(8613),l=t(35155),u=t(91953),c=t(21276),d=t(66341),f=t(25227),p=t(90173),h=t(87348),m=t.n(h),v=function(e){var n=e.title,t=e.description;return(0,r.FD)(f.S,{className:m().emptyState,children:[(0,r.Y)(f.S,{children:(0,r.Y)(p.A,{size:24,fill:i.LU.foregroundDimmer})}),(0,r.Y)(u.EY,{variant:"subheadDefault",children:void 0===n?"No Apps connected":n}),(0,r.Y)(u.EY,{color:"dimmer",children:void 0===t?"This connection hasn't been used by any Apps yet.":t})]})},g=function(e){var n=e.repls,t=e.emptyStateTitle,i=e.emptyStateDescription;return(0,r.Y)(o.h,{title:"",autoLayout:!0,columns:[{key:"name",label:"Name",allowSorting:!1,isRowHeader:!0},{key:"creator",label:"Creator",allowSorting:!1},{key:"created",label:"Created",allowSorting:!1}],items:n,emptyState:(0,r.Y)(v,{title:t,description:i}),children:function(e){var n,t,i,o,u,p,h,v;return(0,r.FD)(l.H,{children:[(0,r.Y)(s.n,{children:(0,r.Y)("a",{href:null!=(o=e.url)?o:"#",className:m().replLink,children:e.title})},"name"),(0,r.Y)(s.n,{children:(0,r.Y)(a.A,{inline:!0,username:null!=(u=null==(n=e.user)?void 0:n.username)?u:"Unknown",children:(0,r.Y)(f.S,{row:!0,align:"center",children:(0,r.Y)(d.K,{src:null!=(p=null==(t=e.user)?void 0:t.image)?p:null,username:null!=(h=null==(i=e.user)?void 0:i.username)?h:"Unknown",small:!0})})})},"creator"),(0,r.Y)(s.n,{children:(0,r.Y)(c.Dc,{date:null!=(v=e.timeCreated)?v:"",dateFormat:"relative"})},"created")]},e.id)}})}},56120:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>d,aT:()=>c});var r=t(29935),a=t(83846),i=t(17844),o=t(93629),s=t(82643),l=t(74651),u=t(16057),c="Replit-Restored-To";function d(e,n){return(0,r._)(function(){var t;return(0,s.YH)(this,function(r){switch(r.label){case 0:var s,l,d,f,p,h;return[4,e((l=(0,u.hh)(n.commit),d=(0,u.hh)(null!=(s=n.message)?s:"Restored to ".concat(l)),f=(0,o._)((0,i._)({},n.trailers),(0,a._)({},c,"${RESOLVED_COMMIT_HASH}")),p=(0,u.qo)(f),h="-p HEAD"+(n.extraParent?" -p ".concat((0,u.hh)(n.extraParent)):""),["set -eo pipefail;","RESOLVED_COMMIT_HASH=$(git rev-parse ".concat(l,");"),"COMMIT_HASH=$(git commit-tree ".concat(h," -m ").concat(d," ").concat(p,' "${RESOLVED_COMMIT_HASH}^{tree}");'),'git reset --quiet --hard "$COMMIT_HASH"; echo -n "$COMMIT_HASH";'].join(" ")))];case 1:if((t=r.sent()).error)return[2,t];return[2,{hash:t.output,error:null}]}})})()}l.ZU.Object({commit:l.ZU.String(),extraParent:l.ZU.Optional(l.ZU.String()),message:l.ZU.Optional(l.ZU.String()),trailers:l.ZU.Optional(l.ZU.Record(l.ZU.String(),l.ZU.String()))})},56988:(e,n,t)=>{"use strict";t.d(n,{Kd:()=>s,Nk:()=>l,a6:()=>o,h3:()=>a,s7:()=>i});var r=t(21462),a=50,i=2/3*100,o=85,s=100;function l(e){var n=e.usage,t=e.limit,a=e.percentThreshold,i=e.onHitThreshold,o=(0,r.useRef)(void 0);(0,r.useEffect)(function(){if(void 0!==n&&void 0!==t){var e=n/t*100;void 0!==o.current&&o.current/t*100<a&&e>=a&&i(),o.current=n}},[n,t,a,i])}},57003:e=>{e.exports={popoverSurface:"AgentChatModeDropdown_popoverSurface__qwchT",selectButton:"AgentChatModeDropdown_selectButton__B37AC",modeItem:"AgentChatModeDropdown_modeItem__85Mks",disabled:"AgentChatModeDropdown_disabled__lzoTD",emptyIcon:"AgentChatModeDropdown_emptyIcon__8Rq6B",toggleComboIcon:"AgentChatModeDropdown_toggleComboIcon__y0knT",glow:"AgentChatModeDropdown_glow__uU16J"}},57021:e=>{e.exports={root:"GeneralSubagentThinking_root__i8N8N",isExpanded:"GeneralSubagentThinking_isExpanded__YvSJl",subSurface:"GeneralSubagentThinking_subSurface__miqiI"}},57068:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r={sandbox:"allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox allow-modals allow-downloads allow-downloads-without-user-activation allow-presentation allow-orientation-lock allow-pointer-lock allow-scripts",allow:"accelerometer; ambient-light-sensor; autoplay; battery; camera; display-capture; encrypted-media; execution-while-not-rendered; execution-while-out-of-viewport; fullscreen; gamepad; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; navigation-override; oversized-images; payment; picture-in-picture; publickey-credentials; speaker-selection; sync-xhr; unoptimized-images; unsized-media; usb; screen-wake-lock; web-share; xr-spatial-tracking; clipboard-read; clipboard-write; pointer-lock",allowFullScreen:!0,allowtransparency:"true",allowpaymentrequest:"true",allowpopups:"true"};let a=r;r.allow},57194:(e,n,t)=>{"use strict";t.d(n,{t:()=>c});var r=t(91246),a=t.n(r),i=t(41683),o=t(40115),s=t(70537),l=t(99431),u=t(63591);function c(){var e=(0,s.gv)(),n=(0,s.ZO)(),t=(0,s.cn)(),r=(0,s.X5)(),c=(0,u.lO)(),d=(0,o.A)().ports,f=(0,i.w)(d).map(function(e){return a()(e,["processInfo"])});(0,l.Nx)({agentAwareWebviewState:r,agentAwareWebviewStateInputs:t,visualPreviewState:n,visualPreviewStateInputs:e,runInfo:c,openedAndForwardedPorts:f})}},58422:(e,n,t)=>{"use strict";t.d(n,{y:()=>i});var r=t(79203),a=t(68689);function i(){return{isEditModeActive:(0,r.md)(a.J),setIsEditModeActive:(0,r.Xr)(a.NN)}}},58648:(e,n,t)=>{"use strict";t.d(n,{Z:()=>i});var r=t(21462),a=t(39938);function i(e,n){var t=(0,a.A)(e);(0,r.useEffect)(function(){if(null!==n){var e=setTimeout(function(){null!==t.current&&t.current()},n);return function(){return clearTimeout(e)}}},[n,t])}},59092:(e,n,t)=>{"use strict";t.d(n,{d:()=>_});var r=t(83846),a=t(34837),i=t(72096),o=t.n(i),s=t(21462),l=t(39534),u=t(85254),c=t(70764),d=t(51292),f=t(18712),p=t(73455),h=t(3937),m=t(91953),v=t(25227),g=t(70399),b=t(25590),y=(0,c.x)({anchor:[f.wp.viewStyle,f.wp.reset.button,f.wp.rowWithGap(16),f.wp.center,f.wp.flex.growAndShrink(1),(0,r._)({},f.$_.max("mobileMax"),[f.wp.rowWithGap(8)])],bView:[f.wp.reset.button,f.wp.rowWithGap(16),f.wp.center,f.wp.flex.growAndShrink(1),f.wp.cursor.pointer,(0,r._)({},f.$_.max("mobileMax"),[f.wp.rowWithGap(8)])],closeIcon:[{background:"transparent"}]}),w=v.D.button,_=(0,s.forwardRef)(function(e,n){var t=e.className,r=e.colorway,i=e.closable,s=e.iconLeft,c=e.iconRight,_=e.title,S=e.text,A=e.closeAction,k=e.textAlign,C={title:[f.wp.fontWeight.bold,f.wp.pb(4),k?f.wp.textAlign[k]:f.wp.textAlign.center],text:[f.wp.flex.growAndShrink(1),k?f.wp.textAlign[k]:f.wp.textAlign.center]},Y=(0,a.FD)(a.FK,{children:[(0,a.Y)(b.Z_,{size:16,children:s}),(0,a.FD)(v.S,{grow:!0,shrink:!0,children:[_?(0,a.Y)(m.EY,{css:C.title,variant:"text",children:_}):null,(0,a.Y)(m.EY,{css:C.text,variant:"small",children:S})]}),(0,a.Y)(b.Z_,{size:16,children:c})]}),E=r?l.ky[r].default:l.LU.accentPrimaryDefault,x=[f.wp.rowWithGap(4),f.wp.align.center,_?f.wp.p(8):f.wp.p(4),f.wp.pl(8),f.wp.borderRadius(),f.wp.flex.growAndShrink(1),r?(0,u.KU)(r):d.b.filledAndOutlined,{"&:focus-within":{boxShadow:"0 0 0 2px "+E}}];return(0,a.FD)(v.S,{css:x,children:["href"in e?(0,a.Y)(o(),{as:e.as,href:e.href,prefetch:e.prefetch,replace:e.replace,scroll:e.scroll,shallow:e.shallow,ref:n,className:t,rel:e.rel,role:"link",target:e.target,css:y.anchor,children:Y}):(0,a.Y)(w,{ref:n,className:t,onClick:e.onClick,type:e.type,css:y.bView,children:Y}),i?(0,a.Y)(h.ui,{elevated:!0,css:y.closeIcon,grow:0,children:(0,a.Y)(p.K0,{alt:"Close",tooltipBehavior:"hidden",colorway:r,onClick:A,children:(0,a.Y)(g.A,{})})}):null]})});_.displayName="StatusBannerButton"},59847:e=>{e.exports={iconAndSummary:"AgentTestingUI_iconAndSummary__khKD9"}},60480:(e,n,t)=>{"use strict";t.d(n,{OI:()=>p,_O:()=>d});var r=t(17844),a=t(12584),i=t(41114),o=t(54744),s=t(53524);function l(){var e=(0,a._)(["\n  fragment PublishReleaseFormRepl on Repl {\n    id\n    title\n    description\n    slug\n    user {\n      username\n    }\n    ...PublishedReplShareInfoReplData\n    deployment {\n      id\n      activeRelease {\n        id\n      }\n    }\n    releases {\n      items {\n        id\n        timeCreated\n        description\n        initialLayoutState\n      }\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function u(){var e=(0,a._)(["\n  query PublishReleaseFormCurrentUser {\n    currentUser {\n      id\n      username\n    }\n  }\n"]);return u=function(){return e},e}var c={},d=(0,i.J1)(l(),s.E),f=(0,i.J1)(u());function p(e){var n=(0,r._)({},c,e);return o.I(f,n)}},60696:e=>{e.exports={fadeIn:"Narration_fadeIn__BjS5K","fade-in":"Narration_fade-in__3esSJ",small:"Narration_small__WGven",large:"Narration_large__T4CLS",preserveNewlines:"Narration_preserveNewlines__c9x4E"}},61101:(e,n,t)=>{"use strict";t.d(n,{GK:()=>x,VP:()=>T,qX:()=>E});var r=t(29935),a=t(37743),i=t(41292),o=t(88967),s=t(58075),l=t(73238),u=t(83751),c=t(48122),d=t(17844),f=t(93629),p=t(12694),h=t(82643),m=t(21462),v=t(48686),g=t(32978),b=t(18454),y=t(47737),w=t(57282),_=new WeakMap,S=new WeakMap,A=new WeakMap,k=new WeakSet,C=function(){function e(n){var t=this,l=n.navigateIframeRef,c=n.onReceiveWebviewLog,d=n.onReceiveWebviewScreenshot;(0,a._)(this,e),(0,u._)(this,k),(0,o._)(this,_,{writable:!0,value:void 0}),(0,o._)(this,S,{writable:!0,value:void 0}),(0,o._)(this,A,{writable:!0,value:void 0}),(0,s._)(this,S,[]),(0,s._)(this,_,new g.V_(function(e){var n=function(n){return(0,w.Cw)(n,function(n){return e.next(n.paneResponse)})};return window.addEventListener("message",n),function(){window.removeEventListener("message",n)}})),(0,i._)(this,S).push((0,i._)(this,_).subscribe(function(e){return(0,r._)(function(){var n,t,r;return(0,h.YH)(this,function(a){switch(a.label){case 0:if("webview"!==e.paneType||"navigation"!==e.response.type)return[3,4];if("base"in e.response&&"path"in e.response&&"port"in e.response||(null==(n=(0,i._)(this,A))?void 0:n.path)===e.response.path)return[3,2];return(0,s._)(this,A,{base:"",path:e.response.path,port:80}),[4,null==(t=l.current)?void 0:t.call(l,(0,i._)(this,A).path,(0,i._)(this,A).port)];case 1:return a.sent(),[2];case 2:var o,u;if(o=(0,i._)(this,A),u=e.response,o&&u&&o.base===u.base&&o.path===u.path&&o.port===u.port)return[3,4];return(0,s._)(this,A,e.response),[4,null==(r=l.current)?void 0:r.call(l,(0,i._)(this,A).path,(0,i._)(this,A).port)];case 3:a.sent(),a.label=4;case 4:return[2]}})}).call(t)})),(0,i._)(this,S).push((0,i._)(this,_).subscribe(function(e){"webview"===e.paneType&&"logs"===e.response.type&&c(e.response.method,e.response.message.map(function(e){try{return JSON.stringify(e,null,0)}catch(e){return"Devtools error: console message could not be stringified"}}).join(" "))})),(0,i._)(this,S).push((0,i._)(this,_).subscribe(function(e){"webview"===e.paneType&&"screenshot"===e.response.type&&d(e.response.dataUri)}))}var n=e.prototype;return n.dispose=function(){(0,i._)(this,S).forEach(function(e){return e()})},n.refresh=function(){(0,l._)(this,k,Y).call(this,{type:"refresh"})},n.setInsets=function(e){(0,l._)(this,k,Y).call(this,{type:"setInsets",insets:e})},n.handleNavigateTo=function(e){var n,t,r,a,o,s,u,c,p;if(e.base===(null==(n=(0,i._)(this,A))?void 0:n.base)&&e.port===(null==(t=(0,i._)(this,A))?void 0:t.port)&&e.path===(null==(r=(0,i._)(this,A))?void 0:r.path))return void this.refresh();(0,l._)(this,k,Y).call(this,(0,f._)((0,d._)({type:"navigate"},e),{url:(s=e.base,u=null!=(a=e.path)?a:"/",c=null!=(o=e.port)?o:80,p=new URL(u.startsWith("/")?u:"/".concat(u),s),80!==c&&(p.port=c.toString()),p.toString())}))},(0,c._)(e,[{key:"path",get:function(){return(0,i._)(this,_).filter(function(e){return"webview"===e.paneType&&"navigation"===e.response.type}).select(function(e){return e.response.path})}}]),e}();function Y(e){var n={messageType:b.tF.REQUEST_PANE_ACTION,paneAction:{paneType:"webview",action:e}};(0,w._z)(n,(0,v.Ak)())}function E(){var e=(0,y.Dr)("webviewBridge"),n=(0,y.Dr)("workspace2");return(0,m.useMemo)(function(){return e&&n},[e,n])}function x(e){var n=e.initialPort,t=e.initialPath,r=e.baseUrl,a=e.isSupported,i=e.navigateIframeRef,o=e.onReceiveWebviewLog,s=e.onReceiveWebviewScreenshot,l=(0,p._)((0,m.useState)(null),2),u=l[0],c=l[1];(0,m.useEffect)(function(){if(a){var e=new C({navigateIframeRef:i,onReceiveWebviewLog:o,onReceiveWebviewScreenshot:s});return c(e),function(){e.dispose()}}},[a,i,o,s]);var d=(0,m.useRef)(void 0);return(0,m.useEffect)(function(){a&&u&&r&&d.current!==n&&(d.current=n,u.handleNavigateTo({base:r,port:n,path:t}))},[r,u,t,n,a]),u}function T(e){var n=e.isVisible,t=E();(0,m.useEffect)(function(){t&&((0,w._z)({messageType:b.tF.REQUEST_PANE_ACTION,paneAction:{paneType:"webview",action:{type:"setVisibility",isVisible:n}}},(0,v.Ak)()),n||(0,w._z)({messageType:b.tF.REQUEST_PANE_ACTION,paneAction:{paneType:"webview",action:{type:"navigate",base:"",url:"INVALID_URL_TO_HIDE_NATIVE_WEBVIEW"}}},(0,v.Ak)()))},[t,n])}},61146:(e,n,t)=>{"use strict";t.d(n,{U:()=>L,O:()=>F});var r=t(83846),a=t(17844),i=t(93629),o=t(12694),s=t(86105),l=t(34837),u=t(21462),c=t(13541),d=t(64706),f=t(84184),p=t(82701),h=t(94123),m=t(88233),v=t(39534),g=t(18712),b=t(87261),y=t(89381),w=t(85319),_=t(73455),S=t(83096),A=t(14972),k=t(91953),C=t(25227),Y=t(24857),E=t(73635),x=t(70399),T=t(46973),D=t(88976),I=t(42019),R=t(25590);function N(e){return(0,l.Y)(R.Ay,(0,i._)((0,a._)({},e),{children:(0,l.Y)("path",{fillRule:"evenodd",d:"M1.25 6A.75.75 0 0 1 2 5.25h20a.75.75 0 0 1 0 1.5H2A.75.75 0 0 1 1.25 6Zm0 6a.75.75 0 0 1 .75-.75h20a.75.75 0 0 1 0 1.5H2a.75.75 0 0 1-.75-.75Zm0 6a.75.75 0 0 1 .75-.75h20a.75.75 0 0 1 0 1.5H2a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}))}var O=t(85801),P=t(33683),F=function(e){var n,t,c,v,Y,E,x=e.isHidden,T=(t=(n=(0,o._)((0,u.useState)(null),2))[0],c=n[1],v=(0,m.rM)(),(0,u.useEffect)(function(){v!==t&&null!=v&&c(v)},[v,t]),t),R=(0,f.A)(T||""),N=(0,o._)((0,u.useState)(null==(Y=R[0])?void 0:Y.clientId),2),O=N[0],P=N[1];O&&!R.find(function(e){return O===e.clientId})&&P(null==(E=R[0])?void 0:E.clientId),!O&&R.length&&P(R[0].clientId);var F=(0,b.c)(),L=(0,o._)((0,p.A)(!0),2),J=L[0],H=L[1],B=(0,o._)((0,u.useState)(""),2),V=B[0],$=B[1],G=(0,o._)((0,u.useState)(function(){return{}}),2),z=G[0],W=G[1],j=(0,o._)((0,p.A)(!0),2),q=j[0],Z=j[1],K=(0,o._)((0,p.A)(!0),2),Q=K[0],X=K[1],ee=(0,u.useCallback)(function(e,n){W(function(t){var o;return(0,i._)((0,a._)({},t),(0,r._)({},e,[n].concat((0,s._)(null!=(o=t[e])?o:[])).slice(0,100)))})},[]),en=(0,u.useCallback)(function(e,n,t){W(function(r){if(r[e]){for(var i=0;i<r[e].length;i++)if(r[e][i].id===n){r[e][i]=t(r[e][i]);break}r[e]=r[e].slice(0,100)}return(0,a._)({},r)})},[]),et=(0,u.useCallback)(function(){O&&W(function(e){return(0,i._)((0,a._)({},e),(0,r._)({},O,[]))})},[O]),er=(0,u.useMemo)(function(){return R.find(function(e){return e.clientId===O})},[R,O]),ea=null==er?void 0:er.isOpen(T||""),ei=(0,u.useCallback)(function(){var e=null==er?void 0:er.clientId;e&&ee(e,{canceled:!1,notification:{method:"probe",params:{filePath:T,state:null==er?void 0:er.getServerState(),capabilities:null==er?void 0:er.getServerCapabilities(),diagnostics:ea?null==er?void 0:er.getDiagnostics(T||""):[],isOpen:ea,isSupportedFile:null==er?void 0:er.isSupportedFile(T||"")}},requestTime:new Date,type:"probe"})},[ee,T,er,ea]),eo=(0,u.useMemo)(function(){if(!O)return[];var e,n,t=V.split(",").map(function(e){return e.trim()}).filter(Boolean);if(!t.length)return null!=(e=z[O])?e:[];var r=null!=(n=z[O])?n:[];return q||(r=r.filter(function(e){return null==e.notification})),Q||(r=r.filter(function(e){return null==e.request})),V&&(r=r.filter(function(e){return t.some(function(n){var t;return null==(t=e.request||e.notification)?void 0:t.method.toLowerCase().includes(n.toLowerCase())})})),r},[V,z,O,q,Q]);return((0,u.useEffect)(function(){return(0,d.xW)(R.flatMap(function(e){return[e.onRequest(function(n){J&&ee(e.clientId,{id:n.id,canceled:!1,request:n.data,requestTime:new Date})}),e.onResponse(function(n){J&&en(e.clientId,n.id,function(e){return(0,a._)((0,i._)((0,a._)({},e),{responseTime:new Date}),void 0!==n.result?{response:n.result}:{error:n.error})})}),e.onCancelRequest(function(n){J&&en(e.clientId,n,function(e){return(0,i._)((0,a._)({},e),{canceled:!0})})}),e.onDiagnostics(function(n){var t=n.path,r=n.diagnostics;J&&ee(e.clientId,{canceled:!1,notification:{method:"textDocument/publishDiagnostics for "+t,params:r},requestTime:new Date,type:"diagnostics"})}),e.onServerStateChange(function(n){J&&ee(e.clientId,{canceled:!1,notification:{method:"state",params:{serverState:n}},requestTime:new Date,type:"state"})}),e.onServerCapabilitiesChange(function(n){J&&ee(e.clientId,{canceled:!1,notification:{method:"capabilities",params:{serverCapabilities:n}},requestTime:new Date,type:"capabilities"})}),e.onSendNotification(function(n){J&&ee(e.clientId,{canceled:!1,notification:n,requestTime:new Date})}),e.onReceiveNotification(function(n){J&&ee(e.clientId,{canceled:!1,notification:n,requestTime:new Date})})]}))},[ee,en,J,R]),x)?null:(0,l.FD)(C.S,{css:[g.wp.flex.column],children:[(0,l.FD)(C.S,{css:[g.wp.m(4),g.wp.position.sticky,g.wp.top(0),g.wp.backgroundColor.backgroundDefault,g.wp.zIndex(1)],row:!0,align:"center",children:[(0,l.Y)(k.EY,{multiline:!1,children:O?(0,l.FD)(l.FK,{children:[(0,l.Y)(M,{})," logs for ",(0,l.Y)("code",{children:T})]}):"No LSP client available"}),(0,l.Y)(_.K0,{alt:"Probe LSP",onClick:ei,children:(0,l.Y)(D.A,{})}),(0,l.Y)(C.S,{grow:!0}),(0,l.Y)(A.d,{"aria-label":"Enable LSP Logs",isSelected:J,onChange:H})]}),(0,l.Y)(C.S,{children:(0,l.Y)(y.e2,{name:"Visible LSP Client",value:O,onChange:P,row:!0,children:R.map(function(e){return(0,l.Y)(y.$O,{id:e.clientId,text:e.clientName,value:e.clientId},e.clientId)})})}),(0,l.FD)(C.S,{row:!0,gap:8,css:[g.wp.m(4),g.wp.mb(8)],children:[(0,l.FD)(C.S,{row:!0,gap:4,children:[(0,l.Y)(I.A,{}),(0,l.Y)(k.EY,{multiline:!1,children:"Show"})]}),(0,l.FD)(C.S,{row:!0,gap:4,children:[(0,l.Y)(w.S,{name:"showNotifications",id:F("showNotifications"),checked:q,onChange:Z}),(0,l.Y)("label",{htmlFor:F("showNotifications"),children:" Notifications"})]}),(0,l.FD)(C.S,{row:!0,gap:4,children:[(0,l.Y)(w.S,{name:"showRequests",id:F("showRequests"),checked:Q,onChange:X}),(0,l.Y)("label",{htmlFor:F("showRequests"),children:" Requests"})]}),(0,l.Y)(C.S,{grow:!0,shrink:!0}),(0,l.Y)(C.S,{row:!0,gap:4,children:(0,l.Y)(h.D,{onClick:et})})]}),(0,l.Y)(C.S,{row:!0,gap:4,children:(0,l.Y)(S.pd,{id:F("filterLsp"),placeholder:"Filter by method (Separate by ,)",onChange:function(e){return $(e.target.value)},value:V})}),(0,l.FD)(C.S,{css:[g.wp.flex.column,g.wp.overflow("auto")],grow:!0,children:[eo.map(function(e,n){var t;return(0,l.Y)(U,{log:e},null!=(t=e.id)?t:e.requestTime.valueOf()+""+n)}),!eo.length&&(0,l.Y)(C.S,{css:g.wp.m(4),children:"\uD83D\uDE14 No logs yet..."})]})]})},U=(0,u.memo)(function(e){var n,t,r,a,i,s,u=e.log,c=u.requestTime,d=u.responseTime,f=u.request,h=u.response,m=u.notification,v=u.id,b=(0,o._)((0,p.A)(!0),2),y=b[0],w=b[1];return(0,l.FD)(C.S,{css:[g.wp.my(4),g.wp.mx(4)],children:[(0,l.FD)(C.S,{role:"button",onClick:w,onKeyDown:w,tabIndex:0,css:[{"&:hover":{cursor:"pointer",".lspLog-requestMethod":{textDecoration:"underline"}}}],row:!0,gap:4,children:[(0,l.FD)(C.S,{grow:!0,row:!0,gap:2,children:[(0,l.Y)(k.EY,{className:"lspLog-emoji",multiline:!1,children:(t=(n=u).type,r=n.canceled,a=n.response,i=n.notification,"state"===t?(0,l.Y)(T.A,{}):"diagnostics"===t?(0,l.Y)(Y.A,{}):"capabilities"===t?(0,l.Y)(N,{}):"probe"===t?(0,l.Y)(D.A,{}):r?(0,l.Y)(x.A,{}):i?(0,l.Y)(O.A,{}):void 0!==a?(0,l.Y)(E.A,{}):(0,l.Y)(P.A,{}))}),(0,l.FD)(k.EY,{className:"lspLog-requestMethod",multiline:!1,children:[(0,l.Y)("code",{children:null==(s=f||m)?void 0:s.method}),null!=v&&(0,l.FD)("code",{className:"lspLog-logId",css:{opacity:.5},children:["#",v]})]})]}),(0,l.Y)(C.S,{css:{opacity:.5},children:null!=d&&(0,l.FD)(k.EY,{css:g.wp.fontSize(13),multiline:!1,children:[d.valueOf()-c.valueOf(),"ms"]})})]}),!y&&(0,l.FD)(l.FK,{children:[void 0!==f&&(0,l.Y)(L,{name:"request.params",src:f.params}),void 0!==m&&(0,l.Y)(L,{name:"notification.params",src:m.params}),void 0!==h&&(0,l.Y)(L,{name:"response",src:h})]})]})}),L=(0,u.memo)(function(e){var n=e.name,t=e.src;return(0,l.Y)(C.S,{css:{marginTop:5,".node-ellipsis":{letterSpacing:-2},".object-key span":{letterSpacing:0},".object-key-val":{paddingBottom:"0 !important"},'.object-key + span[style*="margin"], .array-key + span[style*="margin"]':{marginLeft:"0 !important"},".variable-row, .pushed-content .object-key-val":{paddingLeft:"10px !important",paddingBottom:"0 !important"}},children:(0,l.Y)(c.A,{json:(0,r._)({},n,t)})})}),M=function(){return(0,l.Y)(k.EY,{multiline:!1,css:{display:"inline",fontStyle:"italic",fontWeight:600,textShadow:"".concat(v.LU.redDimmer," 2px 2px")},children:"LSP"})}},61837:e=>{e.exports={container:"DatabaseItem_container__T2Qnf",containerSelected:"DatabaseItem_containerSelected__hTAoN",containerNotClickable:"DatabaseItem_containerNotClickable__5hmM3",skeletonText:"DatabaseItem_skeletonText__zpiw1"}},62058:(e,n,t)=>{"use strict";t.d(n,{B:()=>l});var r=t(12694),a=t(21462),i=t(96513),o=t(84128),s=function(e){var n,t,r,a=e.orgId,o=e.repl,s=e.forkSource;return{originId:o.id,teamId:null,title:null,description:null,isPrivate:!0,forkToPersonal:null,replReleaseId:null!=(r=null==(t=o.deployment)||null==(n=t.activeRelease)?void 0:n.id)?r:void 0,orgId:a,trackingData:{forkSource:s,isOnboarding:!1,isApp:o.publishedAs===i.Q_w.App,isTemplate:o.publishedAs===i.Q_w.Template}}};function l(e){var n=e.onFork,t=e.onError,i=(0,r._)((0,o.A)({navigateAfterFork:!0,replLinkOptions:{initialPaneType:"project"},onFork:function(){n()},onError:function(){t()}}),2),l=i[0],u=i[1].loading;return[(0,a.useCallback)(function(e){var n=e.repl;return l(s({orgId:e.orgId,repl:n,forkSource:e.forkSource}))},[l]),{loading:u}]}},62161:(e,n,t)=>{"use strict";t.d(n,{S:()=>a});var r=t(21462);function a(e){var n=(0,r.useRef)(!1);(0,r.useEffect)(function(){n.current||(n.current=!0,e())},[e])}},62290:(e,n,t)=>{"use strict";t.d(n,{z:()=>eh});var r=t(34837),a=t(21462),i=t(49069),o=t(16246),s=t(85692),l=t(14603),u=t(10527),c=t(27047),d=t(92148),f=t(12694),p=t(86846),h=t(45692),m=t(39534),v=t(95182),g=t(68843),b=t(91785),y=t(41844),w=t(17844),_=t(93629),S=t(25590),A=t(55247),k=t(78925),C=t(48114),Y=t(79035),E=t(67456),x=t(48485),T=t(91175),D=t(48707),I=t(52313),R=function(e){var n=new Set(h.A),t=new Map,r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=(0,f._)(o.value,3),u=l[0],c=l[1],d=l[2];if(!n.has(u))throw Error("Symbol not supported by LSP client. Please add to the supported symbol icons array");t.set(u,[c,null!=d?d:m.LU.foregroundDefault])}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return t}([[p.SymbolKind.Array,x.A],[p.SymbolKind.Boolean,Y.A],[p.SymbolKind.Class,g.A,m.LU.yellowDefault],[p.SymbolKind.Constant,b.A,m.LU.blueStronger],[p.SymbolKind.Constructor,k.A,m.LU.blurpleDefault],[p.SymbolKind.Enum,function(e){return(0,r.Y)(S.Ay,(0,_._)((0,w._)({},e),{children:(0,r.Y)("path",{fillRule:"evenodd",d:"M7.25 5A2.75 2.75 0 0 1 10 2.25h9A2.75 2.75 0 0 1 21.75 5v5A2.75 2.75 0 0 1 19 12.75h-.5a.75.75 0 0 1 0-1.5h.5c.69 0 1.25-.56 1.25-1.25V5c0-.69-.56-1.25-1.25-1.25h-9c-.69 0-1.25.56-1.25 1.25v4a.75.75 0 0 1-1.5 0V5Zm3 1a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75Zm0 3a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75Zm-8 5A2.75 2.75 0 0 1 5 11.25h9A2.75 2.75 0 0 1 16.75 14v5A2.75 2.75 0 0 1 14 21.75H5A2.75 2.75 0 0 1 2.25 19v-5ZM5 12.75c-.69 0-1.25.56-1.25 1.25v5c0 .69.56 1.25 1.25 1.25h9c.69 0 1.25-.56 1.25-1.25v-5c0-.69-.56-1.25-1.25-1.25H5ZM5.25 15a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1-.75-.75Zm0 3a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}))},m.LU.orangeDefault],[p.SymbolKind.EnumMember,I.A,m.LU.blueStronger],[p.SymbolKind.Event,v.A],[p.SymbolKind.Field,D.A],[p.SymbolKind.File,A.A],[p.SymbolKind.Function,k.A,m.LU.blurpleStronger],[p.SymbolKind.Interface,function(e){return(0,r.Y)(S.Ay,(0,_._)((0,w._)({},e),{children:(0,r.Y)("path",{fillRule:"evenodd",d:"M17 7.75a4.25 4.25 0 1 0 0 8.5 4.25 4.25 0 0 0 0-8.5Zm-5.701 3.5a5.751 5.751 0 1 1 0 1.5H6.646a2.751 2.751 0 1 1 0-1.5H11.3ZM4 10.75a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z",clipRule:"evenodd"})}))},m.LU.blueStronger],[p.SymbolKind.Key,C.A],[p.SymbolKind.Method,k.A,m.LU.blurpleDefault],[p.SymbolKind.Module,T.A,m.LU.purpleDefault],[p.SymbolKind.Namespace,y.A],[p.SymbolKind.Object,Y.A,m.LU.blueDimmer],[p.SymbolKind.Operator,Y.A],[p.SymbolKind.Package,T.A,m.LU.purpleDefault],[p.SymbolKind.Property,D.A],[p.SymbolKind.String,E.A],[p.SymbolKind.Struct,y.A],[p.SymbolKind.TypeParameter,I.A],[p.SymbolKind.Variable,I.A,m.LU.blueStronger]]);function N(e){var n,t=e.kind,a=e.size,i=(0,f._)(null!=(n=R.get(t))?n:[Y.A,m.LU.foregroundDefault],2),o=i[0],s=i[1];return(0,r.Y)(o,{color:s,size:void 0===a?16:a})}var O=t(34778),P=t(93812),F=t(16565),U=t(26122),L=t(42793),M=t(51292),J=t(18712),H=t(25227),B=(0,L.AH)([M.b.nofill,{transitionProperty:"background-color, box-shadow, opacity",opacity:.8,":focus":{zIndex:1,opacity:1}}]),V={button:(0,L.AH)([J.wp.reset.button,J.wp.p(2),J.wp.rowWithGap(4),J.wp.align.center,B]),text:(0,L.AH)({fontSize:m.LU.fontSizeSmall})},$={opacity:1};function G(e){var n=e.icon,t=e.text,i=e.innerRef,o=e.ariaProps,s=e.active,l=(0,P.s)(o,i).buttonProps,u=(0,F.M)({}),c=u.hoverProps,d=u.isHovered;return(0,r.FD)(H.S,(0,_._)((0,w._)({tag:"button",css:V.button,style:d||s?$:void 0,innerRef:i},(0,U.v)(l,c)),{children:[n?(0,a.cloneElement)(n,{size:12}):null,(0,r.Y)(H.S,{css:V.text,children:t})]}))}var z={root:(0,L.AH)([J.wp.p(4),J.wp.rowWithGap(4),J.wp.align.center]),text:(0,L.AH)([J.wp.truncate,J.wp.flex.growAndShrink(1),{fontSize:m.LU.fontSizeDefault}])};function W(e){return(0,r.FD)(H.S,{css:[z.root],children:[e.icon?(0,a.cloneElement)(e.icon,{size:16}):null,(0,r.Y)(H.S,{css:z.text,children:e.text})]})}var j=t(86105),q=t(62595),Z=t(2265),K=t(62304),Q=(0,L.AH)([J.wp.p(4)]);function X(e){var n=e.items,t=e.children,i=e.menuProps,o=e.selectedKeys,s=e.onAction,l=(0,q.p)({items:n,children:t,selectedKeys:o,selectionMode:"single"}),u=(0,a.useRef)(null),c=(0,Z.b)((0,w._)({items:n,onAction:s},i),l,u);return(0,r.Y)(H.S,(0,_._)((0,w._)({},c.menuProps),{innerRef:u,css:Q,children:(0,j._)(l.collection).map(function(e){return(0,r.Y)(et,{item:e,state:l},e.key)})}))}var ee={root:(0,L.AH)([J.wp.flex.row,J.wp.align.center,J.wp.position.relative,B]),selected:(0,L.AH)([{opacity:1,backgroundColor:m.LU.interactiveBackground}])},en={opacity:1};function et(e){var n=e.item,t=e.state,i=(0,a.useRef)(null),o=(0,K.O)({key:n.key},t,i),s=o.menuItemProps,l=o.isSelected,u=(0,F.M)({}),c=u.hoverProps,d=u.isHovered;return(0,r.Y)(H.S,(0,_._)((0,w._)({innerRef:i,css:[ee.root,l&&ee.selected],style:d||l?en:void 0},(0,U.v)(s,c)),{children:n.rendered}))}var er=t(266),ea=t(11612),ei=t(46212),eo=t(12951),es=t(3937),el={underlay:(0,L.AH)([J.wp.coverContainer,J.wp.position.fixed]),surface:(0,L.AH)([J.wp.borderRadius(8),{boxShadow:m.LU.shadow2,border:"1px solid",borderColor:m.LU.backgroundHighest}])};function eu(e){var n=e.state,t=e.triggerRef,a=e.placement,i=e.children,o=(0,f._)((0,eo.A)("Popover"),2),s=o[0],l=o[1],u=(0,er.f)({placement:a,triggerRef:t,popoverRef:s,offset:8},n),c=u.popoverProps,d=u.underlayProps;return(0,r.FD)(ea.hJ,{children:[(0,r.Y)(H.S,(0,_._)((0,w._)({},d),{css:el.underlay})),(0,r.FD)(es.ui,(0,_._)((0,w._)({elevated:!0,css:el.surface,innerRef:l},c),{children:[(0,r.Y)(ei.R,{onDismiss:n.close}),i,(0,r.Y)(ei.R,{onDismiss:n.close})]}))]})}var ec=t(81512);function ed(e){return CSS.escape(e.name)}function ef(e){var n=e.selectedSymbol,t=e.symbols,i=e.moveCursor,o=e.icon,s=e.text,l=(0,c.I)({onOpenChange:function(e){e&&(0,O.u4)(O.AZ.CODE_NAVIGATION_USED,{action:"opened"})}}),f=(0,a.useRef)(null),p=(0,d.V)({},l,f),h=p.menuTriggerProps,m=p.menuProps,v=n?new Set([n.name]):void 0;return(0,r.FD)(r.FK,{children:[(0,r.Y)(G,{text:s,icon:o,innerRef:f,ariaProps:h,active:l.isOpen}),l.isOpen?(0,r.Y)(eu,{triggerRef:f,state:l,placement:"bottom left",children:(0,r.Y)(X,{menuProps:m,items:t,selectedKeys:v,onAction:function(e){var n=t.find(function(n){return ed(n)===e});n&&(i(n.selectionRange.start),(0,O.u4)(O.AZ.CODE_NAVIGATION_USED,{action:"jumped"}))},children:function(e){return(0,r.Y)(u.q,{children:(0,r.Y)(W,{icon:(0,r.Y)(N,{kind:e.kind}),text:e.name})},ed(e))}})}):null]})}var ep=(0,a.memo)(function(e){var n=e.symbols,t=e.symbolsPath,i=e.moveCursor,o=t.length?t[t.length-1]:null,s=o?o.children:n;return(0,r.FD)(r.FK,{children:[t.map(function(e,o){var s=0===o?n:t[o-1].children;return s?(0,r.FD)(a.Fragment,{children:[(0,r.Y)(ec.A,{size:12}),(0,r.Y)(ef,{symbols:s,icon:(0,r.Y)(N,{size:12,kind:e.kind}),text:e.name,selectedSymbol:e,moveCursor:i})]},ed(e)):null}),(null==s?void 0:s.length)?(0,r.FD)(r.FK,{children:[(0,r.Y)(ec.A,{size:12}),(0,r.Y)(ef,{symbols:s,text:"...",moveCursor:i})]}):null]})}),eh=(0,a.memo)(function(e){var n,t=e.view,u=(0,a.useCallback)(function(e){null==t||t.dispatch({scrollIntoView:!0,selection:i.OF.cursor((0,l.TU)(t.state.doc,e))}),null==t||t.focus()},[t]),c=(0,a.useDeferredValue)({symbols:(0,s.Vn)(t,o.h2),symbolsPath:(0,s.Vn)(t,o.LJ)});return(null==(n=c.symbols)?void 0:n.length)?(0,r.Y)(ep,{symbols:c.symbols,symbolsPath:c.symbolsPath||[],moveCursor:u}):null})},62293:(e,n,t)=>{"use strict";t.d(n,{f:()=>w});var r=t(12694),a=t(34837),i=t(21462),o=t(79203),s=t(64489),l=t(39938),u=t(47737),c=t(9275),d=t(88743),f=t(29978),p=t(7503),h=t(70251),m=t(70598);function v(){var e,n,t=(0,p.rA)(),r=t.activeStep,i=t.goto,o=t.totalSteps,s=t.currentStepIndex,l=t.done;if(null==r)return null;var u=null!=(n=null==(e=r.modalConfig)?void 0:e.width)?n:320;return(0,a.Y)(h.a,{preventClose:!0,isOpen:!0,onRequestClose:function(){},centered:!0,maxWidth:"fit-content",noPadding:!0,transparent:!0,children:(0,a.Y)(m.p,{title:r.hideTitle?void 0:r.title,"aria-label":r.title,subtitle:r.subtitle,icon:r.icon,content:function(){return(0,a.Y)(a.FK,{children:"function"==typeof r.content?(0,a.Y)(r.content,{}):r.content})},hideCloseButton:r.hideCloseButton,hideNavigation:r.hideNavigation,onDismiss:function(){return l()},currentStepIndex:s,onCurrentStepChange:i,totalSteps:o,cypressCloseData:"tour-popover-close-button",compact:!0,colorway:r.colorway,containerStyle:{width:u}})})}var g=t(95919),b=t(95570),y=f.O5.Provider;function w(e){var n,t,p=e.children,h=e.tour,m=e.onStep,w=e.onDone,_=e.colorway,S=(0,u.m5)(),A=(0,r._)((0,i.useState)(function(){return(0,f.Ws)({tour:h})}),1)[0],k=(0,o.md)(f.MN,{store:A}),C=(0,o.md)(f.$h,{store:A});if(-1===C)throw Error("Current tour step is not in tour steps");var Y=(0,r._)((0,s.en)({variables:{name:h.id},optimisticResponse:{__typename:"RootMutationType",markTourAsSeen2:{__typename:"TourSeen",id:h.id,seen:!0}}}),1)[0],E=(0,o.Xr)(f._,{store:A}),x=(0,i.useRef)();(0,i.useEffect)(function(){x.current=k},[k]);var T=(0,o.Xr)(f.vs,{store:A}),D=(0,o.md)(f.Tf,{store:A}),I=(0,o.md)(f.DA,{store:A}),R=(0,o.Xr)(f.$t,{store:A});window.startTour=function(){b.log("starting tour:",h.id,"from",h.steps[0].id),R()};var N=(0,o.md)(f.Yg,{store:A}),O=(0,o.md)(f.b5,{store:A}),P=(0,l.A)(m),F=(0,l.A)(w);(0,i.useEffect)(function(){return A.sub(f.Nc,function(){var e,n=A.get(f.Nc);n&&(null==(e=P.current)||e.call(P,n))})},[A,P,F]);var U=(0,i.useRef)(!1);(0,i.useEffect)(function(){var e;!U.current&&k&&k.id===h.steps[0].id&&(null==(e=P.current)||e.call(P,k.id),U.current=!0)},[k,P,h]),(0,i.useEffect)(function(){return A.sub(f._,function(){var e,n=A.get(f._),t=A.get(f.Nc);n&&(t&&(null==(e=F.current)||e.call(F,t)),Y())})},[A,Y,F]);var L=(0,s.D$)({variables:{tours:h.id},onCompleted:function(e){var n;A.set(f._,!!(null==e||null==(n=e.currentUser)?void 0:n.toursSeen[0].seen))}}).loading,M=(0,o.Xr)(f.cS,{store:A});(0,i.useEffect)(function(){M(L)},[M,L]);var J=(0,o.md)(f.MN,{store:A}),H=(0,o.Xr)(f.Hl,{store:A}),B=(0,o.md)(f.GM,{store:A}),V=(0,o.Xr)(f.GM,{store:A});if((0,c.CW)({targetElement:D,activeTourStep:J,goToNextStep:H,setTourPausedReason:V}),!I||!k)return(0,a.Y)(y,{value:A,children:p});if(k.isModal)return(0,a.FD)(y,{value:A,children:[(0,a.Y)(v,{}),p]});var $=0===C||!!(null==(n=x.current)?void 0:n.isModal)||!!(null==(t=h.options)?void 0:t.disableAnimation);return(0,a.FD)(y,{value:A,children:[D?(0,a.FD)(a.FK,{children:["user"===B?null:(0,a.Y)(d.J,{targetElement:D,transparent:k.hideOverlay||"async"===B,disableAnimation:$}),!k.hideTooltip&&(0,a.Y)(g.C,{targetElement:D,activeStep:k,currentStepIndex:N,done:function(){return E(!0)},goto:function(e){T(e+C-N)},totalSteps:O,disableAnimation:$,colorway:_,doneText:h.doneText,hideIfPopperReferenceHidden:!S})]}):null,p]})}},62600:e=>{e.exports={scroll:"Checkpoints_scroll__iJ40G",session:"Checkpoints_session__d4uU2",sessionCheckpoint:"Checkpoints_sessionCheckpoint__0DtGn",checkpoint:"Checkpoints_checkpoint__T6Tka",checkpointLine:"Checkpoints_checkpointLine__t0ZVc",dashed:"Checkpoints_dashed__23B7o",toggleCollapsedButton:"Checkpoints_toggleCollapsedButton__7JFlt",highlight:"Checkpoints_highlight___OnSH","highlight-bg":"Checkpoints_highlight-bg__fwSoR"}},62721:(e,n,t)=>{"use strict";t.d(n,{_:()=>l});var r=t(29935),a=t(82643),i=t(31472),o=t(26737),s=t(41832);function l(){var e,n,t=(0,o.g)("showFileTreeGitStatus").preferences.showFileTreeGitStatus,l=(0,s.A)(function(e){return(0,r._)(function(){var n,r;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(!t)return[2,{status:null,error:null}];return[4,e.getRepositoryState()];case 1:if((n=a.sent()).error)return[2,n];if(n.type!==i.UN.NORMAL)return[2,{status:null,error:null}];return[4,e.status()];case 2:if((r=a.sent()).error)return[2,r];return[2,{status:r,error:null}]}})})()},[t]);return l&&!l.error&&(null==(e=l.status)?void 0:e.changes)?function(e){var n=new Map,t=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.set(s.path,{index:s.type.index,worktree:s.type.worktree})}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n}(null==(n=l.status)?void 0:n.changes):null}},62760:(e,n,t)=>{"use strict";t.d(n,{H:()=>f,Y:()=>d});var r=t(37743),a=t(12694),i=t(22531),o=t(21462),s=t(96907),l=t.n(s),u=t(478),c=t(58631),d=function(){function e(n){var t=this;if((0,r._)(this,e),this.saveToLocalStorage=l()(function(){c.A.set("stateCache",{version:2,entries:Array.from(t.map.entries())})},500,{leading:!1,trailing:!0,maxWait:1e3}),this.map=new u.q(20),n){if((void 0===n?"undefined":(0,i._)(n))!=="object"||null===n||!Object.prototype.hasOwnProperty.call(n,"version")||!Object.prototype.hasOwnProperty.call(n,"entries")||"number"!=typeof n.version||2!==n.version)return;var o=n.entries,s=!0,d=!1,f=void 0;try{for(var p,h=o[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var m=(0,a._)(p.value,2),v=m[0],g=m[1];this.map.set(v,g)}}catch(e){d=!0,f=e}finally{try{s||null==h.return||h.return()}finally{if(d)throw f}}}}var n=e.prototype;return n.set=function(e,n){this.map.set(e,n),this.saveToLocalStorage()},n.get=function(e){return this.map.get(e)},e}(),f=(0,o.createContext)(null)},63075:e=>{e.exports={container:"AdvancedSettings_container__9bLbe",clickable:"AdvancedSettings_clickable__vpfgF",contentBorder:"AdvancedSettings_contentBorder__6y44a",hiddenContent:"AdvancedSettings_hiddenContent__SNrPu",sectionDivider:"AdvancedSettings_sectionDivider__YaHrI",statusBanner:"AdvancedSettings_statusBanner__2_N_R"}},63570:(e,n,t)=>{"use strict";t.d(n,{A:()=>p});var r=t(34837),a=t(72096),i=t.n(a),o=t(40185),s=t(67862),l=t(26279),u=t(18712),c=t(70251),d=t(91953),f=t(25227);function p(){var e=(0,o.useRouter)(),n=(0,l.pE)("didMigrateToNix","boolean");return(0,r.Y)(c.a,{isOpen:n,onRequestClose:function(){(0,l.HQ)({router:e,params:[{mode:"delete",key:"didMigrateToNix"}]})},centered:!0,children:(0,r.FD)(f.S,{gap:16,children:[(0,r.Y)(d.Y9,{level:1,variant:"headerDefault",children:"We've upgraded your App!"}),(0,r.FD)(d.EY,{children:["Your App is now using"," ",(0,r.Y)(i(),{href:"https://blog.replit.com/nix",children:"the latest infrastructure"})," ","which unlocks powerful new features."]}),(0,r.FD)(f.D.ul,{css:u.wp.colWithGap(4),children:[(0,r.Y)(f.D.li,{children:(0,r.FD)(d.EY,{children:["•"," ",(0,r.Y)(i(),{href:s.ik.DEPENDENCY_MANAGEMENT,children:"Use 80,000+ system dependencies"})," ","(linux packages) out of the box."]})}),(0,r.Y)(f.D.li,{children:(0,r.FD)(d.EY,{children:["•"," ",(0,r.Y)(i(),{href:"https://docs.replit.com/replit-workspace/configuring-repl",children:"Configure your App"})," ","with more capabilities."]})}),(0,r.Y)(f.D.li,{children:(0,r.FD)(d.EY,{children:["•"," ",(0,r.Y)(i(),{href:s.ik.DEPENDENCY_MANAGEMENT,children:"Check out this doc"})," ","for a deep dive."]})})]}),(0,r.FD)(d.EY,{variant:"small",css:{fontStyle:"italic"},children:["Any overwritten files have been backed up to the same file name with a .backup suffix. If you have any questions, please visit"," ",(0,r.Y)(i(),{href:"https://replit.com/community",children:"replit.com/community"})," ","to get help."]}),(0,r.Y)(d.EY,{multiline:!1,children:"Thank you for your patience"})]})})}},63704:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.FD)(o.Ay,(0,a._)((0,r._)({},e),{children:[(0,i.Y)("path",{fillRule:"evenodd",d:"M3 8.276a4.259 4.259 0 0 1 4.259-4.259h8.965a4.259 4.259 0 0 1 4.259 4.259v8.965a4.259 4.259 0 0 1-4.259 4.259H7.26A4.259 4.259 0 0 1 3 17.241V8.276Zm4.259-2.914a2.914 2.914 0 0 0-2.914 2.914v8.965a2.914 2.914 0 0 0 2.914 2.914h8.965a2.914 2.914 0 0 0 2.914-2.914V8.276a2.914 2.914 0 0 0-2.914-2.914H7.26Z",clipRule:"evenodd"}),(0,i.Y)("path",{d:"M9.948 5.057A3.057 3.057 0 0 1 13.006 2h6.436A3.057 3.057 0 0 1 22.5 5.057v6.437a3.057 3.057 0 0 1-3.058 3.058h-6.436a3.057 3.057 0 0 1-3.058-3.058V5.057Z"})]}))}},63789:(e,n,t)=>{"use strict";t.d(n,{C:()=>y});var r=t(83846),a=t(12694),i=t(34837),o=t(21462),s=t(69805),l=t(39534),u=t(40756),c=t(80339),d=t(28611),f=t(25227),p=t(53958),h=t(85826),m=t(33683),v=t(89370),g=t.n(v),b=(0,l.CK)("SendAgentMessageButtonGroup.module.css",["--divider-color"]);function y(e){var n=e.className,t=e.onSendAgentMessage,v=e.loading,y=void 0!==v&&v,w=e.disabled,_=void 0!==w&&w,S=e.buttonText,A=e.menuPrefix,k=e.colorway,C=void 0===k?"primary":k,Y=(0,a._)((0,o.useState)(!1),2),E=Y[0],x=Y[1];return(0,i.FD)(f.S,{row:!0,clsx:[g().buttonGroup,g().cta,n],style:(0,r._)({},b.dividerColor,l.ky[C].dimmest),children:[(0,i.Y)(u.$n,{clsx:g().buttonGroupLeft,colorway:C,text:S,iconLeft:y?(0,i.Y)(m.A,{}):(0,i.Y)(p.A,{}),loading:y,disabled:_,onClick:function(){return t({createNewSession:!1})}}),(0,i.Y)(c.a,{clsx:g().buttonGroupDivider}),(0,i.FD)(d.Wv,{isOpen:E,onOpenChange:x,label:"Message options",placement:"bottom end",children:[(0,i.Y)(u.$n,{clsx:g().buttonGroupRight,colorway:C,disabled:_,text:"",iconLeft:y?(0,i.Y)(m.A,{}):(0,i.Y)(h.A,{})}),(0,i.Y)(s._,{onClick:t,prefix:A})]})]})}},63853:(e,n,t)=>{"use strict";t.d(n,{p:()=>c});var r=t(34837),a=t(21462),i=t(42793),o=t(39534),s=t(18712),l=t(40756),u=(0,i.AH)(s.wp.display.flex,s.wp.align.center,s.wp.height(30),{"input, button":[s.wp.my(0),s.wp.mx(4)],input:[s.wp.py(4),s.wp.px(8),s.wp.backgroundColor.backgroundDefault,s.wp.color.foregroundDefault,s.wp.height(24),s.wp.width(85),s.wp.borderRadius(4),s.wp.focusRing,{border:"none",boxShadow:"none","&::placeholder":[s.wp.color.foregroundDefault],"&:focus":[{outline:"none",borderColor:o.LU.accentPrimaryDefault}]}]});function c(e){var n=e.searchValue,t=e.setSearchValue,i=e.findNext,o=e.findPrevious,s=e.exit,c=(0,a.useRef)(null);(0,a.useEffect)(function(){c.current&&c.current.focus()},[]);var d=function(e){if("Escape"===e.key)return void s();"Enter"===e.key&&(e.shiftKey?o(n):i(n))};return(0,r.FD)("div",{css:u,children:[(0,r.Y)("input",{ref:c,placeholder:"Find",value:n,onChange:function(e){return t(e.target.value)},onKeyDown:function(e){return d(e)}}),(0,r.Y)(l.$n,{size:"small",onClick:function(){return i(n)},text:"Next"}),(0,r.Y)(l.$n,{size:"small",onClick:function(){return o(n)},text:"Previous"}),(0,r.Y)(l.$n,{size:"small",onClick:s,text:"Exit"})]})}},63881:(e,n,t)=>{"use strict";t.d(n,{D3:()=>F,N2:()=>I,Rc:()=>M,XT:()=>P,bX:()=>Y,ce:()=>J,pd:()=>N,sb:()=>O,wi:()=>U,y1:()=>R});var r=t(12694),a=t(86105),i=t(34837),o=t(21462),s=t(33747),l=t(69086),u=t(20551),c=t(21727),d=t(29100),f=t(39534),p=t(85254),h=t(70764),m=t(51292),v=t(18712),g=t(9844),b=t(91953),y=t(90233),w=t(25227),_=t(43585),S=t(33683),A=t(91467),k=t(77901),C=t(90843),Y=400,E=[v.wp.p(4),v.wp.center,v.wp.borderRadius(4)],x=(0,h.x)({root:(0,a._)(E).concat([v.wp.cursor.pointer,(0,p.Li)("blurple")]),disabled:(0,a._)(E).concat([(0,p.Li)("grey")])});function T(e){return e.disabled||e.connecting?(0,i.Y)(w.S,{css:x.disabled,tag:"button","data-cy":"ghostwriter-inline-submit",children:e.connecting?(0,i.Y)(S.A,{size:12}):(0,i.Y)(A.A,{size:12})}):(0,i.Y)(w.S,{"data-cy":"ghostwriter-inline-submit",css:x.root,tag:"button",onClick:e.onClick,children:e.loading?(0,i.Y)(k.A,{size:12}):(0,i.Y)(A.A,{size:12})})}var D=(0,h.x)({root:[v.wp.minWidth(300),v.wp.maxWidth(800),v.wp.position.relative,{fontFamily:f.LU.fontFamilyDefault}],container:[v.wp.position.relative,v.wp.backgroundColor.backgroundDefault],input:[m.b.outlined,v.wp.borderRadius(4),{paddingBottom:36,"@media (hover: hover)":{":not([disabled]):hover":{backgroundColor:"transparent"}}}],textarea:[v.wp.p(8),v.wp.pb(0),{caretColor:"initial",fontFamily:f.LU.fontFamilyDefault,border:"0 none",resize:"none",height:"1em",backgroundColor:"transparent","@media (hover: hover)":{":not([disabled]):focus":{outline:"0 none"}},"::placeholder":{color:f.LU.foregroundDimmest}}],footer:[v.wp.position.absolute,v.wp.bottom(0),v.wp.left(0),v.wp.width("100%"),{height:36}],footerRight:[{"& button":[v.wp.height(22),v.wp.py(6),v.wp.py(4),v.wp.borderRadius(4)]}],error:[v.wp.color.accentNegativeStronger]}),I=function(e){var n=e.requestMeasure,t=e.type,r=e.children,a=e.isCodeMirrorPocket,o=(0,c.A)(n);return(0,i.Y)(d.A,{bsod:!0,tags:{ai:!0},extras:{type:t},origin:"ErrorBoundary: InlineAiWidget",children:(0,i.Y)(w.S,{css:D.root,py:8,pr:8,gap:4,innerRef:o,className:void 0===a||a?"cm-pocket-widget":void 0,children:r})})},R=function(e){var n=e.requestMeasure,t=e.type,r=e.children,a=e.isCodeMirrorPocket,o=e.error,s=e.clearError,l=e.innerRef;return(0,i.FD)(I,{type:t,requestMeasure:n,isCodeMirrorPocket:void 0===a||a,children:[(0,i.Y)(w.S,{css:D.container,innerRef:l,children:r}),o?(0,i.Y)(g.N,{icon:(0,i.Y)(C.A,{color:f.LU.accentNegativeDefault}),text:o,closable:!0,closeAction:s}):null]})};function N(e){var n=(0,u.A)();return(0,i.Y)(w.S,{css:D.input,children:(0,i.Y)("textarea",{value:e.value,onChange:e.onChange,placeholder:e.placeholder,css:D.textarea,ref:function(t){e.inputRef.current=t,n.ref(t)},onKeyDown:e.onKeyDown,autoFocus:e.autoFocus,"data-cy":"ghostwriter-inline-input",disabled:e.disabled})})}function O(e){var n=e.readableModelName,t=e.type;return(0,i.Y)(y.m_,{tooltip:"generateCode"===t?"Generate new code based on this file".concat(n?" using ".concat(n,"."):"."):"Modify selected code based on the context of this file".concat(n?" using ".concat(n,"."):"."),children:(0,i.FD)(w.S,{row:!0,gap:4,align:"center",children:[(0,i.Y)(_.A,{}),(0,i.Y)(b.EY,{variant:"small",color:"dimmest",children:"transformCode"===t?"Modify with ".concat(s.BP):"Generate with ".concat(s.BP)})]})})}function P(e){var n=e.loading,t=e.disabled,r=e.promptPresentation,a=e.onClick,o=e.connecting,s=e.escPressed,l=e.codeLengthExceeded;return(0,i.FD)(i.FK,{children:[n?(0,i.FD)(w.S,{row:!0,gap:4,align:"center",children:[(0,i.Y)(S.A,{size:12,color:f.LU.blurpleDefault}),r?(0,i.Y)(b.EY,{variant:"small",color:"dimmest",children:"AI is writing"}):null]}):(0,i.Y)(i.FK,{children:r?(0,i.Y)(b.EY,{variant:"small",color:"dimmest",children:l?"Code length exceeded":s?"Press Esc again to dismiss":"Esc to close, Enter to submit"}):null}),(0,i.Y)(T,{connecting:o,loading:n,disabled:t,onClick:a})]})}function F(e){var n=e.id,t=e.inputRef,a=e.onClose,i=e.loading,s=e.onSubmit,u=(0,r._)((0,o.useState)(""),2),c=u[0],d=u[1],f=(0,r._)((0,o.useState)(!1),2),p=f[0],h=f[1];return(0,o.useEffect)(function(){var e="inline-ai/input-state/".concat(n),r=l.A.get(e,"string");r&&d(r);var a=t.current;return function(){if(a){var n=a.value;if(0===n.length)return void l.A.remove(e);l.A.set(e,n)}}},[n,t]),{value:c,setValue:d,onKeyDown:function(e){switch(e.key){case"Escape":e.preventDefault(),c.length?p?a():h(!0):a();break;case"Enter":if(e.preventDefault(),i)break;e.shiftKey?d(function(e){return e+"\n"}):!e.metaKey&&c.length&&c.trim()&&s();break;default:h(!1)}},escPressed:p}}var U=function(e){var n=(0,r._)(e.children,2),t=n[0],a=n[1];return(0,i.FD)(w.S,{css:D.footer,px:8,pr:6,row:!0,gap:8,align:"center",children:[(0,i.Y)(w.S,{grow:!0,shrink:!0,align:"center",row:!0,gap:8,children:t}),(0,i.Y)(w.S,{css:D.footerRight,row:!0,gap:4,align:"center",children:a})]})},L=(0,h.x)({default:[v.wp.width("90%")]}),M=function(e){var n=e.inlineActionType,t=e.closeAction;return(0,i.Y)(w.S,{css:L.default,children:(0,i.Y)(g.N,{icon:(0,i.Y)(C.A,{}),colorway:"red",text:"".concat(n," with AI is currently unavailable. Try again later."),closable:!0,closeAction:t})})},J=function(e){var n=e.inlineActionType,t=e.closeAction;return(0,i.Y)(w.S,{css:L.default,children:(0,i.Y)(g.N,{icon:(0,i.Y)(C.A,{}),colorway:"blurple",text:"".concat(n," with AI is unavailable while ").concat((0,s.Nn)({variant:"casual"})," is running."),closable:!0,closeAction:t})})}},64024:e=>{e.exports={root:"SpeechToTextButton_root__P1bjL"}},64258:(e,n,t)=>{"use strict";t.d(n,{B:()=>fg});var r,a,i,o=t(17844),s=t(93629),l=t(12694),u=t(22531),c=t(34837),d=t(21462),f=t(74651),p=t(42028),h=t(31366),m=t(72885),v=t(51002),g=t(29935),b=t(86105),y=t(82643),w=t(96513),_=t(24347),S=t(63613),A=t(83846),k=t(21695),C=t(82195),Y=t(90483),E=t(1867),x=t(21640),T=t(12584),D=t(41114),I=t(54744);function R(){var e=(0,T._)(["\n  fragment ReplAnalyticsDurationResult on ReplAnalyticsDuration {\n    __typename\n    results {\n      __typename\n      value\n      count\n    }\n  }\n"]);return R=function(){return e},e}function N(){var e=(0,T._)(["\n  query ReplAnalyticsDuration(\n    $id: String!\n    $input: ReplAnalyticsDurationInput!\n  ) {\n    getRepl(id: $id) {\n      ... on Repl {\n        __typename\n        id\n        analyticsDuration(input: $input) {\n          ... on ReplAnalyticsDuration {\n            ...ReplAnalyticsDurationResult\n          }\n          ... on NotFoundError {\n            __typename\n            message\n          }\n          ... on UserError {\n            __typename\n            message\n          }\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return N=function(){return e},e}var O={},P=(0,D.J1)(R()),F=(0,D.J1)(N(),P),U=t(42793),L=t(73712),M=t(18712),J=(0,U.AH)([M.wp.maxHeight(320),M.wp.minHeight(240),{aspectRatio:"2 / 1"}]);function H(){var e=(0,L.D)().values;return{animation:{duration:0},backgroundColor:e.global.backgroundHigher,borderColor:e.global.outlineDimmer,borderWidth:1,titleFont:{family:"'IBM Plex Sans', sans-serif"},titleColor:e.global.foregroundDimmest,bodyFont:{family:"'IBM Plex Sans', sans-serif"},bodyColor:e.global.foregroundDimmest,footerFont:{family:"'IBM Plex Sans', sans-serif"},footerColor:e.global.foregroundDimmest,padding:8,cornerRadius:6}}var B=t(24499),V=t(9844),$=t(91953),G=t(25227),z=function(e){var n=e.data;x.t1.register(x.E8);var t=(0,L.D)().values;return(0,c.Y)(E.yP,{options:{responsive:!0,maintainAspectRatio:!1,datasets:{bar:{categoryPercentage:1,barPercentage:1}},plugins:{tooltip:H()},scales:{y:{title:{display:!0,text:"# Requests",color:t.global.foregroundDimmer,font:{family:"'IBM Plex Sans', sans-serif"}},ticks:{font:{family:"'IBM Plex Sans', sans-serif"},color:t.global.foregroundDimmer,callback:function(e){if("number"==typeof e&&Math.floor(e)===e)return e}},grid:{color:t.global.outlineDimmest}},x:{title:{font:{family:"'IBM Plex Sans', sans-serif"},display:!0,text:"Duration (ms)",color:t.global.foregroundDimmer},ticks:{autoSkip:!1,maxRotation:20,color:t.global.foregroundDimmer,font:{family:"'IBM Plex Sans', sans-serif"}},grid:{color:t.global.outlineDimmest}}}},data:{labels:n.results.map(function(e){var n=e.value.replace("ms","").split("-"),t=n[n.length-1];return t.includes("s+")?t.replace("s+","000+"):"< "+t}),datasets:[{borderWidth:0,data:n.results.map(function(e){return e.count}),backgroundColor:Array(n.results.length).fill(t.global.tealDefault)}]}})};let W=function(e){var n,t,r,a,i=e.replId,s=e.start,u=e.hours,f=(0,l._)((0,d.useState)(void 0),2),p=f[0],h=f[1],m=(n={variables:{id:i,input:{start:s,hours:u,deployment:!0}},ssr:!1,onCompleted:function(e){if("Repl"===e.getRepl.__typename)switch(e.getRepl.analyticsDuration.__typename){case"UserError":case"NotFoundError":h(Error(e.getRepl.analyticsDuration.message))}}},t=(0,o._)({},O,n),I.I(F,t)),v=m.data,g=m.loading,b=m.error;return b&&h(b),(0,c.FD)(G.S,{gap:8,children:[(0,c.Y)($.EY,{variant:"subheadDefault",children:"Request Durations (ms)"}),(0,c.FD)(G.S,{children:[g?(0,c.Y)(G.S,{css:[J,M.wp.borderRadius(),B.S.backgroundPulse()]}):null,p?(0,c.Y)(V.N,{text:p.message,colorway:"negative"}):null,(null==v||null==(r=v.getRepl)?void 0:r.__typename)==="Repl"&&(null==(a=v.getRepl.analyticsDuration)?void 0:a.__typename)==="ReplAnalyticsDuration"?(0,c.Y)(G.S,{css:J,children:(0,c.Y)(z,{data:v.getRepl.analyticsDuration})}):null]})]})};var j=t(9888);function q(){var e=(0,T._)(["\n  fragment ReplAnalyticsPageViewDataPoint on ReplAnalyticsPageViewsData {\n    __typename\n    timestamp\n    success\n    failure\n  }\n"]);return q=function(){return e},e}function Z(){var e=(0,T._)(["\n  fragment ReplAnalyticsPageViews on ReplAnalyticsPageViews {\n    __typename\n    uniques\n    results {\n      ...ReplAnalyticsPageViewDataPoint\n    }\n  }\n  ","\n"]);return Z=function(){return e},e}function K(){var e=(0,T._)(["\n  query ReplAnalyticsPageViews(\n    $id: String!\n    $input: ReplAnalyticsPageViewsInput!\n  ) {\n    getRepl(id: $id) {\n      ... on Repl {\n        __typename\n        id\n        analyticsPageViews(input: $input) {\n          ... on ReplAnalyticsPageViews {\n            ...ReplAnalyticsPageViews\n          }\n          ... on NotFoundError {\n            __typename\n            message\n          }\n          ... on UserError {\n            __typename\n            message\n          }\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return K=function(){return e},e}var Q={},X=(0,D.J1)(q()),ee=(0,D.J1)(Z(),X),en=(0,D.J1)(K(),ee),et=t(46735),er=t(85527);x.t1.register(x.PP,x.kc,x.FN,x.No,x.m_);let ea=function(e){var n=e.labels,t=e.datasets,r=e.maintainAspectRatio,a=e.yAxisLabel,i=e.xAxisLabel,l=e.unit,u=(0,L.D)().values,d={labels:n.map(function(e){return e.toISOString()}),datasets:t.map(function(e){return(0,s._)((0,o._)({},e),{data:e.data.map(function(e){var n=e.x,t=e.y;return{x:n.toISOString(),y:t}}),pointRadius:.5,tension:.1})})},f=n.length;return(0,c.Y)(E.N1,{options:{clip:4,interaction:{mode:"nearest",intersect:!1},transitions:{active:{animation:{duration:0}}},elements:{point:{hoverRadius:4},line:{borderWidth:2}},responsive:!0,maintainAspectRatio:void 0===r||r,plugins:{tooltip:(0,s._)((0,o._)({},H()),{callbacks:{title:function(e){var n=new Date(e[0].label);return(0,et.A)(n,"MMM d, HH:mm (z)")}}})},scales:{y:{title:{display:!0,text:void 0===a?"# Requests":a,color:u.global.foregroundDimmer,font:{family:"'IBM Plex Sans', sans-serif"}},grid:{color:u.global.outlineDimmest},ticks:{font:{family:"'IBM Plex Sans', sans-serif"},color:u.global.foregroundDimmer,callback:function(e){if("number"==typeof e&&Math.floor(e)===e)return l?"".concat(e).concat(l):e}},min:0},x:{title:{display:!0,text:void 0===i?"Time":i,color:u.global.foregroundDimmer,font:{family:"'IBM Plex Sans', sans-serif"}},grid:{color:u.global.outlineDimmest},ticks:{font:{family:"'IBM Plex Sans', sans-serif"},color:u.global.foregroundDimmer,callback:function(e,t){var r=n[t];if(f<=24){if(r.getHours()%4!=0)return;return(0,et.A)(r,"HH:mm")}if(r.toISOString()===(0,er.A)(r).toISOString())return(0,et.A)(r,"MMM d")}}}}},data:d})};var ei=function(e){var n=e.data,t=e.start,r=e.hours,a=(0,L.D)().values,i=Array(r).fill(0).map(function(e,n){return(0,j.A)(t,n)}),o=n.results.reduce(function(e,n){return e.set(n.timestamp,n),e},new Map),s=[{label:"Connected",data:i.map(function(e){var n;return{y:(null!=(n=o.get(e.toISOString()))?n:{success:0}).success,x:e}}),borderColor:a.global.accentPrimaryStronger,backgroundColor:a.global.accentPrimaryStronger},{label:"Failed",data:i.map(function(e){var n;return{y:(null!=(n=o.get(e.toISOString()))?n:{failure:0}).failure,x:e}}),borderColor:a.global.accentNegativeStronger,backgroundColor:a.global.accentNegativeStronger}];return(0,c.Y)(ea,{labels:i,datasets:s,maintainAspectRatio:!1})};let eo=function(e){var n,t,r,a,i=e.replId,s=e.start,u=e.hours,f=(0,l._)((0,d.useState)(void 0),2),p=f[0],h=f[1],m=(n={variables:{id:i,input:{start:s,hours:u,deployment:!0}},ssr:!1,onCompleted:function(e){if("Repl"===e.getRepl.__typename)switch(e.getRepl.analyticsPageViews.__typename){case"UserError":case"NotFoundError":h(Error(e.getRepl.analyticsPageViews.message))}}},t=(0,o._)({},Q,n),I.I(en,t)),v=m.data,g=m.loading,b=m.error,y=(null==v||null==(r=v.getRepl)?void 0:r.__typename)==="Repl"&&(null==(a=v.getRepl.analyticsPageViews)?void 0:a.__typename)==="ReplAnalyticsPageViews"?v.getRepl.analyticsPageViews:void 0,w=y?y.uniques:void 0;return b&&h(b),(0,c.FD)(G.S,{gap:8,children:[(0,c.FD)(G.S,{row:!0,align:"center",justify:"space-between",children:[(0,c.Y)($.EY,{variant:"subheadDefault",multiline:!1,children:"Requests"}),w?(0,c.FD)($.EY,{multiline:!1,children:[(0,c.Y)("strong",{children:w})," unique IP addresses"]}):null]}),(0,c.FD)(G.S,{children:[g?(0,c.Y)(G.S,{css:[M.wp.width("100%"),J,M.wp.borderRadius(),B.S.backgroundPulse()]}):null,p?(0,c.Y)(V.N,{text:p.message,colorway:"negative"}):null,y?(0,c.Y)(G.S,{css:J,children:(0,c.Y)(ei,{data:y,start:s,hours:u})}):null]})]})};function es(){var e=(0,T._)(["\n  fragment ReplAnalyticsTimeSeriesDataPoint on ReplAnalyticsTimeSeriesData {\n    __typename\n    timestamp\n    value\n    count\n    unit\n  }\n"]);return es=function(){return e},e}function el(){var e=(0,T._)(["\n  fragment ReplAnalyticsTimeSeries on ReplAnalyticsTimeSeries {\n    __typename\n    results {\n      ...ReplAnalyticsTimeSeriesDataPoint\n    }\n  }\n  ","\n"]);return el=function(){return e},e}function eu(){var e=(0,T._)(["\n  query ReplAnalyticsTimeSeries(\n    $id: String!\n    $input: ReplAnalyticsTimeSeriesInput!\n  ) {\n    getRepl(id: $id) {\n      ... on Repl {\n        __typename\n        id\n        analyticsTimeSeries(input: $input) {\n          ... on ReplAnalyticsTimeSeries {\n            ...ReplAnalyticsTimeSeries\n          }\n          ... on NotFoundError {\n            __typename\n            message\n          }\n          ... on UserError {\n            __typename\n            message\n          }\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return eu=function(){return e},e}var ec={},ed=(0,D.J1)(es()),ef=(0,D.J1)(el(),ed),ep=(0,D.J1)(eu(),ef);t(36882),x.t1.register(x.PP,x.kc,x.FN,x.No,x.hE,x.m_,x.UA);let eh=function(e){var n,t=e.data,r=e.start,a=e.end,i=e.label,s=e.unit,l=e.xAxisLabel,u=e.yAxisLabel,d=(0,L.D)().values,f=H(),p={datasets:[{label:i,data:t,fill:!1,borderColor:d.global.blueDimmer,tension:.1}]},h=(n=Math).max.apply(n,(0,b._)(t.map(function(e){return e.y}))),m=Math.ceil(s===Y.zj.Percentage?Math.max(h,100):Math.ceil(1.2*h)),v=function(e,n){var t=n.getTime()-e.getTime();if(t<=36e5)return{unit:"minute",stepSize:5};if(t<=216e5)return{unit:"minute",stepSize:30};if(t<=864e5)return{unit:"hour",stepSize:2};if(t<=2592e5)return{unit:"hour",stepSize:6};if(t<=6048e5)return{unit:"hour",stepSize:12};else return{unit:"day",stepSize:1}}(r,a),g=v.unit,y=v.stepSize;return(0,c.Y)(E.N1,{data:p,options:{animation:!1,scales:{x:{type:"time",time:{unit:g},title:{display:!0,text:l},min:r.getTime(),max:a.getTime(),ticks:{stepSize:y,color:d.global.foregroundDimmer}},y:{title:{display:!0,text:u},type:"linear",suggestedMax:m,ticks:{font:{family:"'IBM Plex Sans', sans-serif"},color:d.global.foregroundDimmer,callback:function(e){return s?"".concat(e).concat(s):e}},min:0}},maintainAspectRatio:!1,responsive:!0,plugins:{tooltip:(0,o._)({},f)}}})};var em=function(e){var n,t,r,a,i=e.start,o=e.end,s=e.timeSeriesFragment,u=e.xAxisLabel,d=e.yAxisLabel;if(0===s.results.length)return(0,c.Y)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px"},children:"No Data Available"});var f=(r=(n=s.results)[0].value,{label:r,unit:(a=null==(t=n[0])?void 0:t.unit)?function(e,n){var t=Object.entries(e).find(function(e){var t=(0,l._)(e,2);return t[0],t[1]===n});if(t)return e[t[0]]}(Y.zj,a):void 0,data:n.map(function(e){return{x:new Date(e.timestamp),y:e.count}})}),p=f.label,h=f.unit,m=f.data;return(0,c.Y)(eh,{data:m,start:i,end:o,label:p,unit:h,xAxisLabel:u,yAxisLabel:d})},ev=function(e){var n=e.data,t=e.start,r=e.hours,a=e.colorFn,i=Array(r).fill(0).map(function(e,n){return(0,j.A)(t,n)}),o=n.results.reduce(function(e,n){var t,r=n.timestamp,a=n.value,i=n.count,o=null!=(t=e.get(a))?t:new Map;return o.set(r,i),e.set(a,o),e},new Map),s=(0,b._)(o.keys()).map(function(e,n){var t=a(e,n),r=o.get(e);return{label:e,data:i.map(function(e){var n,t=null!=(n=null==r?void 0:r.get(e.toISOString()))?n:0;return{x:new Date(e),y:t}}),borderColor:t,backgroundColor:t}});return(0,c.Y)(ea,{labels:i,datasets:s,maintainAspectRatio:!1})};let eg=function(e){var n,t,r,a,i=e.replId,s=e.title,u=e.metric,f=e.start,p=e.hours,h=e.colorFn,m=(0,l._)((0,d.useState)(void 0),2),v=m[0],g=m[1],b=(n={variables:{id:i,input:{metric:u,start:f,hours:p,deployment:!0}},ssr:!1,onCompleted:function(e){if("Repl"===e.getRepl.__typename)switch(e.getRepl.analyticsTimeSeries.__typename){case"TooManyRequestsError":g(Error("Too many requests"));break;case"UserError":case"NotFoundError":g(Error(e.getRepl.analyticsTimeSeries.message))}}},t=(0,o._)({},ec,n),I.I(ep,t)),y=b.data,w=b.loading,_=b.error,S=(null==y||null==(r=y.getRepl)?void 0:r.__typename)==="Repl"&&(null==(a=y.getRepl.analyticsTimeSeries)?void 0:a.__typename)==="ReplAnalyticsTimeSeries"?y.getRepl.analyticsTimeSeries:void 0;return _&&g(_),(0,c.FD)(G.S,{gap:8,children:[(0,c.Y)(G.S,{row:!0,align:"center",justify:"space-between",children:(0,c.Y)($.EY,{variant:"subheadDefault",multiline:!1,children:s})}),(0,c.FD)(G.S,{children:[w?(0,c.Y)(G.S,{css:[M.wp.width("100%"),J,M.wp.borderRadius(),B.S.backgroundPulse()]}):null,v?(0,c.Y)(V.N,{text:v.message,colorway:"negative"}):null,S?(0,c.Y)(G.S,{css:J,children:(0,Y.P0)(u)?(0,c.Y)(em,{start:f,end:(0,j.A)(f,p),timeSeriesFragment:S}):(0,c.Y)(ev,{data:S,start:f,hours:p,colorFn:h})}):null]})]})};var eb=t(63285),ey=t.n(eb);function ew(){var e=(0,T._)(["\n  fragment ReplAnalyticsTopListResult on ReplAnalyticsTopList {\n    __typename\n    results {\n      __typename\n      value\n      count\n    }\n  }\n"]);return ew=function(){return e},e}function e_(){var e=(0,T._)(["\n  query ReplAnalyticsTopList($id: String!, $input: ReplAnalyticsTopInput!) {\n    getRepl(id: $id) {\n      ... on Repl {\n        __typename\n        id\n        analyticsTopList(input: $input) {\n          ... on ReplAnalyticsTopList {\n            ...ReplAnalyticsTopListResult\n          }\n          ... on NotFoundError {\n            __typename\n            message\n          }\n          ... on UserError {\n            __typename\n            message\n          }\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return e_=function(){return e},e}var eS={},eA=(0,D.J1)(ew()),ek=(0,D.J1)(e_(),eA),eC=t(39534),eY=t(73455),eE=t(79690),ex=t(56064),eT=function(e){var n=e.data,t=e.variant;if(0===n.results.length)return(0,c.Y)($.EY,{multiline:!1,children:"No results"});switch(t){case"map":return(0,c.Y)(eR,{data:n});case"pie":return(0,c.Y)(eI,{data:n,devices:!1});case"device-pie":return(0,c.Y)(eI,{data:n,devices:!0});case"table":return(0,c.Y)(eD,{data:n})}},eD=function(e){var n=e.data;return x.t1.register(x.Bs),(0,c.Y)(G.S,{children:n.results.map(function(e,n){return(0,c.FD)(G.S,{css:[{borderBottom:"1px solid ".concat(eC.LU.outlineDimmest)},{"&:last-of-type":{borderBottom:"none"}}],py:8,row:!0,gap:16,children:[(0,c.Y)(G.S,{css:[M.wp.maxWidth("90%")],grow:!0,children:(0,c.Y)($.EY,{title:e.value,multiline:!1,children:e.value})}),(0,c.Y)(G.S,{children:(0,c.Y)($.EY,{multiline:!1,children:e.count})})]},n)})})},eI=function(e){var n=e.data,t=e.devices,r=(0,L.D)(),a=r.isDarkColorScheme,i=r.values,o=a?M.iB.categorical:M.iB.categorical.reverse(),s=new Map;return t?n.results.forEach(function(e){var n=e.value,t=e.count,r=n.match(/\(.*\)/);if(r&&r.length){var a=r[0].substring(1,r[0].length-1),i=s.get(a)||0;s.set(a,i+t)}else{var o=s.get("Unknown")||0;s.set("Unknown",o+t)}}):n.results.forEach(function(e){var n=e.value,t=e.count,r=n.replace(/ \(.*\)/,""),a=s.get(r)||0;s.set(r,a+t)}),(0,c.Y)(G.S,{css:J,children:(0,c.Y)(E.Fq,{options:{radius:"90%",maintainAspectRatio:!1,plugins:{tooltip:H()}},data:{labels:(0,b._)(s.keys()),datasets:[{borderWidth:+((0,b._)(s.keys()).length>1),borderColor:i.global.outlineDimmest,data:(0,b._)(s.values()),backgroundColor:Array(s.size).fill(0).map(function(e,n){return o[n%o.length]})}]}})})},eR=function(e){var n=e.data,r=ey()(function(){return Promise.all([t.e(1175),t.e(1434),t.e(625),t.e(5039)]).then(t.bind(t,87420))},{loadableGenerated:{webpack:function(){return[87420]}},ssr:!1}),a=n.results.map(function(e){return{country:e.value,numHits:e.count}});return(0,c.Y)(r,{countries:a})};let eN=function(e){var n,t,r,a,i=e.replId,s=e.start,u=e.hours,f=e.metric,p=e.count,h=e.variant,m=void 0===h?"table":h,v=e.expandable,g=(0,Y.sJ)(f),b=(0,l._)((0,d.useState)(void 0),2),y=b[0],w=b[1],_=(0,l._)((0,d.useState)(!1),2),S=_[0],A=_[1],k=(n={variables:{id:i,input:{metric:f,start:s,hours:u,deployment:!0,count:S?3*p:p}},ssr:!1,onCompleted:function(e){if("Repl"===e.getRepl.__typename)switch(e.getRepl.analyticsTopList.__typename){case"UserError":case"NotFoundError":w(Error(e.getRepl.analyticsTopList.message))}}},t=(0,o._)({},eS,n),I.I(ek,t)),C=k.data,E=k.loading,x=k.error;return x&&w(x),(0,c.FD)(G.S,{gap:8,children:[(0,c.FD)(G.S,{row:!0,gap:8,children:[(0,c.Y)($.EY,{variant:"subheadDefault",multiline:!1,children:"device-pie"===m?"Top Devices":"Top ".concat(g)}),void 0!==v&&v?(0,c.Y)(eY.K0,{alt:S?"Collapse list":"Expand list",onClick:function(){return A(!S)},children:S?(0,c.Y)(eE.A,{}):(0,c.Y)(ex.A,{})}):null]}),(0,c.FD)(G.S,{children:[E?(0,c.Y)(G.S,{css:[M.wp.height(80),M.wp.borderRadius(),B.S.backgroundPulse()]}):null,y?(0,c.Y)(V.N,{text:y.message,colorway:"negative"}):null,(null==C||null==(r=C.getRepl)?void 0:r.__typename)==="Repl"&&(null==(a=C.getRepl.analyticsTopList)?void 0:a.__typename)==="ReplAnalyticsTopList"?(0,c.Y)(eT,{variant:m,data:C.getRepl.analyticsTopList}):null]})]})};var eO=t(44399),eP=t(30724),eF=t(70764),eU=t(99933),eL=[{label:"six hours",key:6},{label:"one day",key:24},{label:"five days",key:120},{label:"one week",key:168},{label:"two weeks",key:336},{label:"thirty days",key:720}],eM={label:"one week",key:168},eJ=M.kL.min(600),eH=(0,eF.x)({fullWidth:(0,A._)({},eJ,{gridColumn:"span 2"})}),eB=(0,eF.x)({container:[M.wp.display.grid,M.wp.gap(32),M.wp.pb(32),(0,A._)({},eJ,{gridTemplateColumns:"repeat(2, minmax(0, 1fr))"})],fullWidth:eH.fullWidth,map:[eH.fullWidth],pies:[eH.fullWidth,M.wp.flex.column,(0,A._)({gap:32},M.kL.min(480),[M.wp.flex.row,{" > *":{flex:1}}])]}),eV=function(e){var n=e.replId,t=(0,l._)((0,d.useState)(eM),2),r=t[0],a=r.key,i=r.label,o=t[1],s=(0,l._)((0,d.useState)((0,k.A)((0,C.A)(new Date),a-1)),2),u=s[0],f=s[1],p=(0,eP.g)("deployment-analytics-dot"),h=p.isDone,m=p.setAsDone,v=(0,k.A)((0,C.A)(new Date),23),g=(0,L.D)().values,b=[g.global.redStronger,g.global.redDimmer,g.global.redStrongest,g.global.redDimmest],y=[g.global.orangeDefault,g.global.orangeDimmer,g.global.orangeStronger,g.global.orangeDimmest],w=[g.global.blueDefault,g.global.blueDimmer,g.global.blueStronger,g.global.blueDimmest],A=[g.global.greenDefault,g.global.greenDimmer,g.global.greenStronger,g.global.greenDimmest];return(0,d.useEffect)(function(){(0,eO.Ae)({context:_.P.Analytics})},[]),(0,d.useEffect)(function(){h||m()},[h,m]),(0,c.Y)(S.A,{children:(0,c.FD)(G.S,{css:eB.container,children:[(0,c.Y)(G.S,{css:eB.fullWidth,children:(0,c.Y)(eU.in,{items:eL,label:"Past ".concat(i),onAction:function(e){var n,t="string"==typeof e?parseInt(e,10):e;o(null!=(n=eL.find(function(e){return e.key===t}))?n:eM),f((0,k.A)((0,C.A)(new Date),t-1))},children:function(e){return(0,c.Y)(eU.Dr,{label:e.label,id:e.key},e.key)}})}),(0,c.Y)(G.S,{css:eB.fullWidth,children:(0,c.Y)(eo,{replId:n,start:u,hours:a})}),(0,c.Y)(eN,{replId:n,metric:Y.d0.Url,start:u,hours:a,count:4,expandable:!0}),(0,c.Y)(eN,{replId:n,metric:Y.d0.Referrer,start:u,hours:a,count:4,expandable:!0}),(0,c.Y)(eg,{replId:n,title:"HTTP Statuses (24h)",metric:Y.YE.Statuses,start:v,hours:24,colorFn:function(e,n){var t=Number(e);return t<300?A[n%A.length]:t<400?w[n%w.length]:t<500?y[n%y.length]:b[n%b.length]}}),(0,c.Y)(W,{replId:n,start:u,hours:a}),(0,c.FD)(G.S,{css:eB.pies,children:[(0,c.Y)(eN,{replId:n,metric:Y.d0.Browser,start:u,hours:a,count:100,variant:"pie"}),(0,c.Y)(eN,{replId:n,metric:Y.d0.Browser,start:u,hours:a,count:100,variant:"device-pie"})]}),(0,c.Y)(G.S,{css:eB.map,children:(0,c.Y)(eN,{replId:n,metric:Y.d0.Country,start:u,hours:a,count:100,variant:"map"})})]})})},e$=t(10795),eG=t(40215),ez=t(39486);function eW(){var e=(0,T._)(["\n  query HostingDeploymentConfigRedeploy($id: String!) {\n    hostingDeployment(id: $id) {\n      ... on HostingDeployment {\n        id\n        replitAppSubdomain\n        ignoredSecrets\n        activityLogs(count: 20) {\n          items {\n            id\n            ...HostingActivityLogLine2\n          }\n          pageInfo {\n            hasNextPage\n            nextCursor\n          }\n        }\n        currentBuild {\n          id\n          envVars {\n            name\n            value\n          }\n          suspendedReason\n        }\n        ...DeploymentsDeployOptionsDeployment\n        repl {\n          ...DeploymentsDeployOptionsAuthzRepl\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return eW=function(){return e},e}var ej={},eq=(0,D.J1)(eW(),ez.aW,eG.vz,eG.px),eZ=t(30326),eK=t(30284),eQ=t(34778),eX=t(40756),e0=t(70251),e1=t(99044),e2=t(70399),e3=t(14952),e4=(0,eF.x)({buttonLeft:[M.wp.borderRadius(8,0,0,8),M.wp.flex.growAndShrink(1)],buttonRight:[M.wp.borderRadius(0,8,8,0)]});function e5(e){var n=e.shouldShow,t=e.onDismissTour,r=(0,l._)((0,d.useState)(!1),2),a=r[0],i=r[1];return(0,c.FD)(c.FK,{children:[n?(0,c.FD)(G.S,{pb:12,row:!0,gap:2,justify:"center",children:[(0,c.Y)(eX.$n,{iconLeft:(0,c.Y)(e3.A,{}),onClick:function(){(0,eQ.u4)(eK.AZ.DEPLOYMENT_MOBILE_DOWNLOAD_QR_VIEWED),i(!0)},text:"Deploy with the Replit App!",css:e4.buttonLeft}),(0,c.Y)(eX.$n,{css:e4.buttonRight,text:"",iconLeft:(0,c.Y)(e2.A,{}),onClick:t})]}):null,(0,c.Y)(e0.a,{isOpen:a,onRequestClose:function(){i(!1),t()},children:(0,c.Y)(e1.A,{source:"deployment_build_success"})})]})}var e7=t(42372),e9=t(60795),e8=t(69846),e6=t(79203),ne=t(99767),nn=(0,t(76957).eU)("BOT_TOKEN"),nt="TELEGRAM_BOT_TOKEN",nr=t(17459),na=t(3937),ni=t(73635),no=t(31297),ns=t.n(no),nl=function(e){return e.INACTIVE="INACTIVE",e.ACTIVE="ACTIVE",e.COMPLETE="COMPLETE",e}({});function nu(e){var n=e.state,t=e.number,r=e.title,a=e.children,i=e.numberStyleVariant,l=void 0===i?"no-fill":i,u=e.showChildren,d=(0,nr._)(e,["state","number","title","children","numberStyleVariant","showChildren"]);return(0,c.Y)(na.ui,(0,s._)((0,o._)({elevated:"ACTIVE"===n,className:ns().stepContainer},d),{children:(0,c.FD)(G.S,{row:!0,gap:8,align:"start",children:["hidden_no_space"===l?null:"COMPLETE"===n?(0,c.Y)(G.S,{align:"center",justify:"center",className:ns().stepNumber,children:(0,c.Y)(ni.A,{})}):(0,c.Y)(na.ui,{elevated:"ACTIVE"===n&&"elevated"===l,align:"center",justify:"center",className:ns().stepNumber,style:{visibility:"hidden_keep_space"===l?"hidden":"unset"},children:(0,c.Y)($.EY,{variant:"small",color:"ACTIVE"===n?"dimmer":"dimmest",children:t})}),(0,c.FD)(G.S,{align:"start",shrink:1,gap:4,children:[(0,c.Y)($.EY,{className:ns().title,color:"ACTIVE"===n?"default":"dimmest",children:r}),u||void 0===u&&"ACTIVE"===n?a:null]})]})}))}var nc=t(55464),nd=t(19628),nf=t(49313),np=t(2717),nh=t(80325),nm=t(88976),nv=t(13315),ng=t(44737),nb=t.n(ng);function ny(){var e=(0,h.g$)().watch,n=(0,l._)((0,d.useState)(new Map),2),t=n[0],r=n[1];return(0,d.useEffect)(function(){return e(r)},[e]),null==t?void 0:t.get(nt)}function nw(e){var n=e.deployDisabled,t=(0,h.g$)(),r=ny();return(0,c.Y)(n_,{deployDisabled:null!=n&&n,addEntries:t.addEntries,removeEntries:t.removeEntries,existingBotToken:r})}function n_(e){var n=e.deployDisabled,t=e.addEntries,r=e.removeEntries,a=e.existingBotToken,i=(0,nf.h)(nn),o=(0,nf.ob)(nn),s=(0,l._)((0,d.useState)(""),2),u=s[0],f=s[1],p=(0,l._)((0,d.useState)(!0),2),m=p[0],v=p[1],g=!!(0,h.cF)();(0,d.useEffect)(function(){f(function(e){return e||(null!=a?a:"")})},[a]);var b=u.length>0,y=n||"PUBLISH"!==i,w="BOT_TOKEN"===i?nl.ACTIVE:nl.COMPLETE,_=g?"PUBLISH"===i?"Press publish to apply your changes":null:y?"Set up Telegram to enable publishing":"Press publish to share your Telegram agent with the world";return(0,c.FD)(c.FK,{children:[g?(0,c.Y)($.EY,{variant:"subheadDefault",children:"Telegram connection setup"}):null,(0,c.FD)(G.S,{clsx:[nb().stepsContainer,(0,A._)({},nb().inactiveContainer,"PUBLISH"===i)],children:[(0,c.Y)(nu,{number:1,title:'In Telegram, search for “BotFather” and click "open"',state:w}),(0,c.Y)(nu,{number:2,title:'Click "Create a new bot"',state:w}),(0,c.Y)(nu,{number:3,title:"Follow the prompts to fill out a name, description, and username",state:w}),(0,c.Y)(nu,{number:4,title:"PUBLISH"===i?"You provided your Telegram bot token":"BotFather will provide you a token. Copy and paste it below",state:w,showChildren:"PUBLISH"===i||void 0,children:"BOT_TOKEN"===i?(0,c.FD)(G.S,{gap:8,py:16,children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",children:[(0,c.Y)(nd.a,{keyName:"TELEGRAM_BOT_TOKEN",value:u,onChange:function(e){f(e)},readOnly:!1,accountSecrets:[],isSensitive:m,selectedKey:null,onSelectedKeyChange:function(){}}),(0,c.Y)(eY.K0,{alt:m?"Reveal value":"Hide value",onClick:function(){return v(!m)},children:m?(0,c.Y)(nm.A,{}):(0,c.Y)(nv.A,{})})]}),(0,c.Y)(eX.$n,{text:"Continue",colorway:"primary",disabled:!b,onClick:function(){t([{key:nt,value:u}]),o("PUBLISH")}})]}):(0,c.Y)(eY.K0,{className:nb().editBotTokenButton,onClick:function(){o("BOT_TOKEN"),r(nt)},alt:"Edit bot token",children:(0,c.FD)(G.S,{row:!0,align:"center",gap:8,children:[(0,c.Y)(np.a,{variant:"muted",text:"TELEGRAM_BOT_TOKEN",iconLeft:(0,c.Y)(nc.A,{width:10,height:10,color:eC.LU.foregroundDimmest})}),(0,c.Y)(nh.A,{className:nb().hidden,color:eC.LU.foregroundDimmest})]})})})]}),_?(0,c.Y)($.EY,{color:"PUBLISH"===i?"default":"dimmest",children:_}):null]})}var nS=t(71267),nA=t(53902);function nk(e){var n=e.value,t=e.onChange,r=e.loading,a=e.disabled,i=e.error;return(0,c.FD)(G.S,{gap:8,children:[(0,c.FD)(G.S,{gap:4,children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",children:[(0,c.Y)($.EY,{children:"Build command"}),(0,c.Y)($.EY,{variant:"small",color:"dimmest",children:"Optional"})]}),(0,c.Y)($.EY,{color:"dimmer",variant:"small",multiline:!0,children:"Compiles your app before it deploys"})]}),(0,c.Y)(nS.G7,{id:"buildCommand",value:n,onChange:t,loading:void 0!==r&&r,disabled:void 0!==a&&a,error:i})]})}var nC=t(10792),nY=t(11901),nE=t(51182),nx=t(51292),nT=t(85826),nD=t(1121),nI=t(55929),nR=t(90843);function nN(e){var n=e.secrets,t=e.otherSecrets,r=new Map,a=!0,i=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=(0,l._)(s.value,2),d=c[0],f=c[1];n.has(d)||r.set(d,f)}}catch(e){i=!0,o=e}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}return{missing:r}}var nO=(0,eF.x)({root:[M.wp.borderRadius(8),{border:"1px solid "+eC.LU.outlineDimmer}],button:[M.wp.reset.button,nx.b.nofill,M.wp.rowWithGap(8),M.wp.align.center,M.wp.height(32),M.wp.px(8),{border:"0 none",borderBottomLeftRadius:0,borderBottomRightRadius:0}],subtitle:[{borderTop:"1px solid "+eC.LU.outlineDimmest,top:-1},M.wp.py(8),M.wp.position.relative]});function nP(e){var n=e.secrets,t=e.otherSecrets,r=e.otherEnvName,a=e.onAddSecret,i=e.initialExpanded,o=nN({secrets:n,otherSecrets:t}).missing,s=(0,l._)((0,d.useState)(i),2),u=s[0],f=s[1],p=0===o.size;if((0,d.useEffect)(function(){p&&f(!1)},[p]),p)return null;var h="".concat(o.size," ").concat((0,nY.A)("secret",o.size)," out of sync"),m=1===o.size?"A ".concat(r," secret is missing from this environment"):"".concat(o.size," ").concat(r," secrets are missing from this environment");return(0,c.FD)(G.S,{css:nO.root,children:[(0,c.FD)(G.S,{css:nO.button,tag:"button",onClick:function(){return f(function(e){return!e})},children:[(0,c.FD)(G.S,{grow:!0,shrink:!0,row:!0,gap:8,align:"center",children:[(0,c.Y)(nR.A,{color:eC.LU.orangeDefault}),(0,c.Y)($.EY,{multiline:!1,children:h})]}),u?(0,c.Y)(nD.A,{}):(0,c.Y)(nT.A,{})]}),u?(0,c.FD)(G.S,{px:8,pb:8,children:[(0,c.Y)($.EY,{css:nO.subtitle,color:"dimmer",children:m}),(0,c.Y)(G.S,{gap:8,children:(0,b._)(o.entries()).map(function(e){var n=(0,l._)(e,2),t=n[0],r=n[1];return(0,c.FD)(G.S,{row:!0,gap:8,children:[(0,c.FD)(G.S,{grow:!0,shrink:!0,row:!0,gap:8,children:[(0,c.Y)(nE.Ge,{value:t}),(0,c.Y)(nE.iJ,{value:r})]}),r?(0,c.Y)(eX.$n,{iconLeft:(0,c.Y)(nI.A,{}),variant:"outlined",text:"Add secret",onClick:function(){return a({key:t,value:r})}}):null]},t)})})]}):null]})}var nF=t(90233);function nU(e){var n=e.envVars,t=e.envVarKeys,r=e.updateEnvVarName,a=e.updateEnvVarValue,i=e.removeEnvVar,o=e.addAnEnvVar,s=e.baseDisableState,l=e.devSecrets,u=e.ignoredSecrets,d=e.editReplSecretsAuthorization,f=e.editDeploySecretAuthorization,p=e.optOut,h=e.optIn,m=e.syncToWorkspace,v=e.queryLoading,g=e.replId,b=e.initialSecretsSyncExpanded;return(0,c.FD)(G.S,{gap:12,children:[n.length>0?n.map(function(e,n){var o=e.name,v=e.value;return(0,c.Y)(nS.bG,{index:n,name:o,value:v,updateEnvVarName:function(e){return r(n,e)},updateEnvVarValue:function(e){return a(n,e)},removeEnvVar:function(){return i(n)},disabled:s,otherKeys:t.filter(function(e,t){return t!==n}),devSecrets:l||null,ignoredSecrets:u,canEditDevSecretsDisabledMessage:(null==d?void 0:d.isAuthorized)===!1?d.message:void 0,canEditDeploySecretsDisabledMessage:(null==f?void 0:f.isAuthorized)===!1?f.message:void 0,optOutSyncing:p,optInSyncing:h,syncToWorkspace:m},n)}):null,l&&(null==d?void 0:d.isAuthorized)&&(null==f?void 0:f.isAuthorized)?(0,c.Y)(nP,{secrets:new Map(n.map(function(e){return[e.name,e.value]})),otherSecrets:l,otherEnvName:"workspace",onAddSecret:function(e){return o({name:e.key,value:e.value})},initialExpanded:b}):null,(0,c.Y)(nF.m_,{tooltip:null==f?void 0:f.message,isDisabled:null==f?void 0:f.isAuthorized,children:(0,c.Y)(eX.$n,{onClick:function(){(0,eO.Rl)({replId:g}),o()},text:"Add deployment secret",iconLeft:(0,c.Y)(nI.A,{}),disabled:v||!(null==f?void 0:f.isAuthorized)})})]})}var nL=t(49222),nM=t(41269),nJ=t(85319),nH=t(36379),nB=(0,eF.x)({titleRow:[M.wp.gap(8),M.wp.align.center]});function nV(e){var n=e.onViewAction,t=(0,h.BU)(),r=t.flagSecurityScanInDeployment,a=t.enabled,i=t.userCanControl,o=t.isOrgEnforced,s=t.enforcementReason,l=t.setDeploymentSecurityScanEnabled;return(0,c.Y)(c.FK,{children:(0,c.Y)(nL.wn,{id:"securityScan",title:(0,c.FD)(G.S,{gap:4,children:[(0,c.FD)(G.S,{css:nB.titleRow,row:!0,children:[(0,c.Y)($.EY,{children:"Pre-publishing security scan"}),(0,c.Y)(np.a,{text:"Beta",colorway:"primary",compact:!0})]}),(0,c.FD)($.EY,{variant:"small",color:"dimmer",children:["Before publishing your app, run a security scan powered by our partner Semgrep to identify potential vulnerabilities."," ",(0,c.Y)("a",{target:"_blank",href:"https://docs.replit.com/replit-workspace/workspace-features/security-scanner",children:"Learn more"})]})]}),children:r?(0,c.Y)(nF.m_,{isDisabled:!o,tooltip:o?"required"===s?"Security scans are required for this organization.":"Only admins can skip security scans.":"",children:(0,c.Y)(nJ.S,{name:"Enable security scanning for publishing",checked:a,onChange:l,disabled:!i})}):(0,c.Y)(eX.$n,{onClick:function(){n({type:_.k.OpenPane,payload:{type:"securityScan"}}),(0,nM.kB)(eZ.a.DEPLOYMENT_PANE_FINAL_PAGE)},iconRight:(0,c.Y)(nH.A,{color:eC.LU.foregroundDimmest}),text:"Run scan"})})})}var n$=t(59092),nG=t(64424),nz=(0,eF.x)({bannerButton:{span:[M.wp.textAlign.left]}});function nW(e){var n=e.deployability,t=e.isRedeploy,r=n.deploy,a=n.redeploy,i=t?a:r;return i.isAuthorized?null:i.code===w.S4P.RequiresActiveTeamsSubscription?(0,c.Y)(n$.d,{href:"/teams/new",target:"_blank",text:"".concat(i.message," Click here to get started by creating a new organization."),colorway:"warning",iconLeft:(0,c.Y)(nR.A,{}),iconRight:(0,c.Y)(nG.A,{}),css:nz.bannerButton}):(0,c.Y)(V.N,{text:i.message,colorway:"warning",icon:(0,c.Y)(nR.A,{})})}var nj=t(6724),nq=t.n(nj),nZ=t(1893),nK=t(48373),nQ=t(84383),nX=t(99391),n0=t(83031),n1=t(71052),n2=(0,eF.x)({self:[M.wp.mt(8)],textButton:[M.wp.cursor.pointer,M.wp.reset.button,M.wp.color.accentPrimaryStronger,M.wp.focusRing,M.wp.hover(M.wp.color.accentPrimaryStrongest),{lineHeight:1.2,":not([disabled])":{cursor:"pointer"}}],tableHeader:[M.wp.color.foregroundDimmer,M.wp.m(4),M.wp.textAlign.left],tableWrapper:[M.wp.mb(8),M.wp.colWithGap(8),(0,A._)({},nZ.sX,M.wp.rowWithGap(0))],table:[M.wp.flex.column,M.wp.width("100%"),(0,A._)({},nZ.sX,[M.wp.width("50%"),M.wp.colWithGap(6),{"&:first-child":{table:{borderRight:"1px solid "+eC.LU.outlineDimmer}}}])],ghostRow:[M.wp.display.none,(0,A._)({},nZ.sX,M.wp.display.flex)]}),n3=function(e){var n=e.text,t=e.onClick;return(0,c.Y)("button",{css:n2.textButton,onClick:t,children:n})};function n4(e){var n=e.hasPortsConfigured,t=e.hasPort80Configured,r=e.hasConflictingPorts,a=e.hasLocalhostPort80,i=e.openNetworkingPane;return n?t?r?(0,c.Y)(V.N,{text:(0,c.FD)(c.FK,{children:["Potential port conflict. Make sure no External Ports have conflicts in your configuration and that you only have one External Port configured on port :80. Open the"," ",(0,c.Y)(n3,{text:"Networking pane to resolve.",onClick:i})]}),colorway:"warning"}):a?(0,c.Y)(V.N,{text:(0,c.FD)(c.FK,{children:["Hosting your deployment on localhost can cause security or performance issues in some cases. Open the"," ",(0,c.Y)(n3,{text:"Networking pane to configure.",onClick:i})]}),colorway:"primary"}):(0,c.Y)(V.N,{text:(0,c.FD)(c.FK,{children:["Deployment forwarding to External Port :80. Open the"," ",(0,c.Y)(n3,{text:"Networking pane to configure.",onClick:i})]}),colorway:"primary"}):(0,c.Y)(V.N,{text:(0,c.FD)(c.FK,{children:["Potential port issue. Deployments require an External Port configured on port :80. Open the"," ",(0,c.Y)(n3,{text:"Networking pane to configure.",onClick:i})]}),colorway:"warning"}):(0,c.Y)(V.N,{text:(0,c.FD)(c.FK,{children:["No ports configured. Deployments will automatically forward the first Internal Port that opens. Open the"," ",(0,c.Y)(n3,{text:"Networking pane to configure.",onClick:i})]})})}var n5=function(e){return 80===(0,nQ.Zd)(e.configuration)};function n7(e){var n=e.portState,t=(0,nQ.s$)(n.configuration),r=(0,nQ.Zd)(n.configuration),a=n5(n);return(0,c.FD)(c.FK,{children:[(0,c.FD)(nX.VP,{width:"50%",children:[(0,c.Y)($.EY,{children:t?"localhost":"0.0.0.0"}),a&&t?(0,c.Y)(n1.A,{size:16,color:eC.ky.primary.default}):null]}),(0,c.FD)(nX.VP,{width:"50%",children:[(0,c.FD)($.EY,{children:[":",r]}),a?(0,c.Y)(ni.A,{size:16,color:eC.ky.positive.default}):(0,c.Y)(e2.A,{size:16,color:eC.ky.negative.default})]})]})}function n9(e){var n=e.ports,t=e.openNetworkingPane,r=e.onWarningChange,a=(0,nK.A)(n.portsState),i=(null==a?void 0:a.filter(function(e){return(0,nQ.Zd)(e.configuration)}).sort(function(e,n){var t,r;return(null!=(t=(0,nQ.Zd)(e.configuration))?t:0)-(null!=(r=(0,nQ.Zd)(n.configuration))?r:0)}))||null,o=null==i?void 0:i.find(n5),s=!!o,u=!!(i&&i.length>0),f=!!i&&!!o&&!!(i.filter(n5).length>1||i.some(function(e){return(0,nQ.Zd)(e.configuration)===o.configuration.localPort})),p=!!(o&&(0,nQ.s$)(o.configuration)),h=u&&!s||f;(0,d.useEffect)(function(){null==r||r(h)},[h,r]);var m=(0,l._)((0,d.useState)(!1),2),v=m[0],g=m[1];return(0,c.Y)(n0.A,{headerContent:(0,c.FD)(G.S,{gap:4,style:{flex:1,minWidth:0},children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",children:[(0,c.Y)($.EY,{children:"Port configuration"}),h?(0,c.Y)(nR.A,{size:16,color:eC.ky.warning.strongest}):null]}),(0,c.Y)(G.S,{style:{maxWidth:"100%"},children:(0,c.Y)($.EY,{color:"dimmer",variant:"small",multiline:!0,children:"Configure which port your app uses for incoming requests"})})]}),expanded:v,onClick:function(){return g(!v)},children:(0,c.FD)(G.S,{css:n2.self,gap:8,children:[(0,c.Y)(n4,{hasPortsConfigured:u,hasPort80Configured:s,hasConflictingPorts:f,hasLocalhostPort80:p,openNetworkingPane:t}),(0,c.Y)(G.S,{children:(0,c.FD)(G.S,{css:n2.tableWrapper,children:[(0,c.FD)(G.S,{css:n2.table,children:[(0,c.Y)($.EY,{css:n2.tableHeader,children:"Deployment expects:"}),(0,c.FD)(nX.XI,{children:[(0,c.FD)(nX.fI,{children:[(0,c.Y)(nX.VP,{header:!0,width:"50%",children:"Host"}),(0,c.Y)(nX.VP,{header:!0,width:"50%",children:"External Port"})]}),(0,c.FD)(nX.fI,{children:[(0,c.Y)(nX.VP,{width:"50%",children:(0,c.Y)($.EY,{children:"0.0.0.0"})}),(0,c.FD)(nX.VP,{width:"50%",children:[(0,c.Y)($.EY,{children:":80"}),(0,c.Y)(ni.A,{size:16,color:eC.ky.positive.default})]})]}),u&&i?nq()((null==i?void 0:i.length)-1).map(function(e){return(0,c.Y)(nX.fI,{css:n2.ghostRow,children:(0,c.Y)(nX.VP,{children:(0,c.Y)($.EY,{children:"\xa0"})})},e)}):null]})]}),(0,c.FD)(G.S,{css:n2.table,children:[(0,c.Y)($.EY,{css:n2.tableHeader,children:"Your External Port configuration(s):"}),(0,c.FD)(nX.XI,{children:[(0,c.FD)(nX.fI,{children:[(0,c.Y)(nX.VP,{header:!0,width:"50%",children:"Host"}),(0,c.Y)(nX.VP,{header:!0,width:"50%",children:"External Port"})]}),u?null==i?void 0:i.map(function(e){return(0,c.Y)(nX.fI,{children:(0,c.Y)(n7,{portState:e})},e.configuration.localPort)}):(0,c.FD)(nX.fI,{children:[(0,c.Y)(nX.VP,{width:"50%",children:(0,c.Y)($.EY,{children:"-"})}),(0,c.Y)(nX.VP,{width:"50%",children:(0,c.Y)($.EY,{children:"-"})})]})]})]})]})})]})})}var n8=t(49999),n6=t(44411),te=t(7017),tn=t(72058),tt=t(18304),tr=t(87261),ta=t(89381),ti=t(22440),to=t(37962),ts=t(53526),tl=(0,eF.x)({titleRow:[M.wp.gap(8),M.wp.align.center]});function tu(e){var n=e.privacyMode,t=e.setPrivacyMode,r=e.privatePassword,a=e.setPrivatePassword,i=e.privatePasswordError,o=e.hasExistingPrivatePassword,s=e.isRedeploy,u=(0,tt.o)({controlName:ne.em}),f=(0,te.ET)(),p=f.loading,h=f.orgId,m=(0,tn.A)(h),v=m.requirePrivateDeployments,g=m.adminOnlyPublicDeployments,b=m.isAdmin,y=!p&&!h,_=v||!b&&g,S=(0,tr.c)(),A=S("deployment-privacy-mode"),k=(0,l._)((0,d.useState)(!1),2),C=k[0],Y=k[1],E=(0,d.useCallback)(function(e){switch(e){case w.b8R.Public:if(_)return;t(e),a(void 0),Y(!1);break;case w.b8R.Private:t(e),a(void 0),Y(!1);break;case w.b8R.Password:if(!u)return;t(e);break;default:(0,n8.A)(e)}},[a,t,_,u]),x=(0,d.useCallback)(function(){var e=!C;Y(e),e?a(""):a(void 0)},[a,C]);return(0,c.Y)(c.FK,{children:(0,c.Y)(nL.wn,{id:"privateDeployments",variant:"vertical",title:(0,c.FD)(G.S,{gap:8,children:[(0,c.Y)(G.S,{css:tl.titleRow,row:!0,children:(0,c.Y)($.EY,{color:"dimmer",children:"Published App Access"})}),(0,c.FD)($.EY,{variant:"small",color:"dimmer",children:[y?(0,c.Y)(c.FK,{children:"Limit published app access to team members."}):(0,c.FD)(c.FK,{children:["Limit published app access to team members who have viewer access.",s?" Visibility changes apply after you publish. ":" "]})," ",(0,c.Y)("a",{target:"_blank",href:"https://docs.replit.com/cloud-services/deployments/private-deployments",children:"Learn more"})]})]}),children:(0,c.FD)(c.FK,{children:[(0,c.Y)(G.S,{children:(0,c.FD)(ta.e2,{id:A,name:A,value:n,onChange:E,row:!0,stretch:!0,children:[(0,c.Y)(ta.$O,{id:S("public"),value:w.b8R.Public,text:(0,c.Y)(c.FK,{children:(0,c.Y)(nF.m_,{isDisabled:!_,tooltip:v?"Private publishing is required for this organization.":"Only admins can publish public apps.",children:"Public"})}),icon:(0,c.Y)(ti.A,{}),disabled:!!_}),u?(0,c.Y)(ta.$O,{id:S("password"),value:w.b8R.Password,text:"Password",icon:(0,c.Y)(to.A,{})}):null,(0,c.Y)(ta.$O,{id:S("private"),value:w.b8R.Private,text:(0,c.Y)(nF.m_,{tooltip:"Private Published Apps are only available on Replit ".concat(n6.$B,"."),children:(0,c.FD)(G.S,{row:!0,gap:4,align:"center",justify:"center",children:["Private ",(0,c.Y)(np.a,{text:"Teams",colorway:"primary",compact:!0})]})}),icon:(0,c.Y)(ts.A,{})})]})}),u&&n===w.b8R.Password?(0,c.Y)(G.S,{children:!o||C?(0,c.Y)(nS.Cq,{value:null!=r?r:"",onChange:a,error:i}):(0,c.Y)(eX.$n,{text:"Change password",onClick:x,size:"small"})}):null]})})})}function tc(e){var n=e.value,t=e.onChange,r=e.loading,a=e.disabled,i=e.error;return(0,c.FD)(G.S,{gap:8,children:[(0,c.Y)($.EY,{children:"Public directory"}),(0,c.Y)($.EY,{color:"dimmer",variant:"small",multiline:!0,children:"Public directory is the folder where the browser should start when serving your static site"}),(0,c.Y)(nS.G7,{id:"publicDir",value:n,onChange:t,loading:void 0!==r&&r,disabled:void 0!==a&&a,error:i})]})}function td(e){var n=e.value,t=e.onChange,r=e.loading,a=e.disabled,i=e.error;return(0,c.FD)(G.S,{gap:8,children:[(0,c.FD)(G.S,{gap:4,children:[(0,c.Y)($.EY,{children:"Run command"}),(0,c.Y)($.EY,{color:"dimmer",variant:"small",multiline:!0,children:"Starts your app after it deploys"})]}),(0,c.Y)(nS.G7,{id:"runCommand",value:n,onChange:t,loading:void 0!==r&&r,disabled:void 0!==a&&a,error:i})]})}var tf=t(42405),tp=t(14683),th=t(96809),tm=t(39590);function tv(){var e=(0,T._)(["\n  mutation CreateDeployedSlackAgentInstallUrl(\n    $input: CreateDeployedSlackAgentInstallUrlInput!\n  ) {\n    createDeployedSlackAgentInstallUrl(input: $input) {\n      __typename\n      ... on CreateDeployedSlackAgentInstallUrl {\n        installUrl\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return tv=function(){return e},e}var tg={},tb=(0,D.J1)(tv());function ty(){var e=(0,T._)(["\n  query GetSlackAgentBuilderDeploymentStatus(\n    $connectionId: String!\n    $orgId: String\n  ) {\n    getSlackAgentBuilderDeploymentStatus(\n      connectionId: $connectionId\n      orgId: $orgId\n    ) {\n      __typename\n      ... on SlackAgentBuilderDeploymentStatus {\n        connectionId\n        status\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return ty=function(){return e},e}var tw={},t_=(0,D.J1)(ty()),tS=t(56674),tA=t(11952),tk=(0,d.memo)(function(e){var n=e.isOpen,t=e.setIsOpen,r=e.token,a=e.selectedConnector,i=e.onEvent,o=(0,d.useCallback)(function(){t(!1)},[t]),s=(0,d.useMemo)(function(){return{view:"add",hideNavigation:!0,autoConnect:a?a.toLowerCase().replace(/_/g,"-"):void 0}},[a]),l=(0,d.useCallback)(function(e,n){return(0,g._)(function(){return(0,y.YH)(this,function(t){switch(t.label){case 0:return[4,i(e,n)];case 1:return t.sent(),[2]}})})()},[i]);return(0,c.Y)(tA.f,{isOpen:n,onRequestClose:o,maxWidth:400,maxHeight:600,centered:!0,children:(0,c.Y)(tS.ConnectEmbed,{token:r,connectOptions:s,onEvent:l,height:600,baseURL:"https://replit.openint.dev/connect"})})});tk.displayName="AddIntegrationModal";var tC=t(8553),tY=t(33683),tE=t(50429),tx=t.n(tE),tT={preconnect:{incomplete:"Grant Replit Agent Builder access to your Slack workspace",complete:"Replit Agent Builder installed"},install:{incomplete:"Add your agent to Slack",complete:"Agent added to Slack workspace"},invite:{incomplete:"Invite to your Slack channels",complete:"Invited agent to Slack channels"}};function tD(e){var n=e.isConnected,t=e.connectionStatusLoading,r=e.state,a=e.onPreconnectClick,i=e.onInstallClick,o=(0,l._)((0,d.useState)(!1),2),s=o[0],u=o[1],f=(0,l._)((0,d.useState)(!1),2),p=f[0],h=f[1],m=(0,l._)((0,d.useState)(!1),2),v=m[0],g=m[1],b=(0,d.useCallback)(function(){a(),u(!0)},[a]),y=(0,d.useCallback)(function(){i(),h(!0)},[i]),w=function(){switch(r){case"PRECONNECT":return{preconnectStepState:nl.ACTIVE,installStepState:nl.INACTIVE,inviteStepState:nl.INACTIVE,publishStepState:nl.INACTIVE};case"INSTALL":return{preconnectStepState:nl.COMPLETE,installStepState:nl.ACTIVE,inviteStepState:nl.INACTIVE,publishStepState:nl.INACTIVE};case"DONE":if(v)return{preconnectStepState:nl.COMPLETE,installStepState:nl.COMPLETE,inviteStepState:nl.COMPLETE,publishStepState:nl.ACTIVE};return{preconnectStepState:nl.COMPLETE,installStepState:nl.COMPLETE,inviteStepState:nl.ACTIVE,publishStepState:nl.COMPLETE}}}(),_=w.preconnectStepState,S=w.installStepState,A=w.inviteStepState,k=w.publishStepState,C=tT.preconnect[_===nl.COMPLETE?"complete":"incomplete"],Y=tT.install[S===nl.COMPLETE?"complete":"incomplete"],E=tT.invite[A===nl.COMPLETE?"complete":"incomplete"];return(0,c.Y)(G.S,{gap:8,children:(0,c.FD)(na.ui,{className:tx().connectionContainer,children:[(0,c.FD)(G.S,{className:tx().statusContainer,row:!0,justify:"space-between",align:"center",py:8,px:16,children:[(0,c.Y)($.EY,{children:"Slack connection status"}),(0,c.Y)(G.S,{row:!0,gap:8,align:"center",children:t?(0,c.FD)(c.FK,{children:[(0,c.Y)(tY.A,{}),(0,c.Y)($.EY,{color:"dimmer",children:"Loading..."})]}):(0,c.FD)(c.FK,{children:[(0,c.Y)(tC.A,{size:8,color:n?eC.LU.greenStronger:eC.LU.greyStronger}),(0,c.Y)($.EY,{color:"dimmer",children:n?"Connected":"Not connected"})]})})]}),(0,c.Y)(nu,{state:_,number:1,title:C,p:8,pb:"ACTIVE"===_?16:8,children:(0,c.FD)(G.S,{row:!0,gap:12,children:[(0,c.Y)(eX.$n,{colorway:"primary",size:"small",iconRight:(0,c.Y)(nG.A,{}),text:"Add to Slack",onClick:b}),s?(0,c.FD)(G.S,{row:!0,gap:4,align:"center",children:[(0,c.Y)(tY.A,{color:eC.LU.foregroundDimmest}),(0,c.Y)($.EY,{color:"dimmest",variant:"small",children:"Waiting for access…"})]}):null]})}),(0,c.Y)(nu,{state:S,number:2,title:Y,p:8,pb:"ACTIVE"===S?16:8,children:(0,c.FD)(G.S,{row:!0,gap:12,children:[(0,c.Y)(eX.$n,{colorway:"primary",size:"small",iconRight:(0,c.Y)(nG.A,{}),text:"Install agent",onClick:y}),p?(0,c.FD)(G.S,{row:!0,gap:4,align:"center",children:[(0,c.Y)(tY.A,{color:eC.LU.foregroundDimmest}),(0,c.Y)($.EY,{color:"dimmest",variant:"small",children:"Waiting for installation…"})]}):null]})}),(0,c.Y)(nu,{state:A,number:3,title:E,p:8,pb:"ACTIVE"===A?16:8,children:(0,c.FD)(G.S,{gap:8,children:[(0,c.FD)($.EY,{color:"dimmest",children:["Type",(0,c.Y)($.EY,{variant:"code",color:"dimmest",className:tx().inlineCode,children:"/invite"})," ","to invite your agent into the channels you want to use it in."]}),(0,c.Y)(G.S,{row:!0,children:(0,c.Y)(eX.$n,{colorway:"primary",size:"small",text:"Continue",onClick:function(){return g(!0)}})})]})}),(0,c.Y)(nu,{state:k,number:4,title:"Publish",p:8,pb:16,showChildren:!0,children:(0,c.Y)($.EY,{color:"dimmest",multiline:!0,children:n?"Press publish to start using your agent":"Connect to your Slack workspace to enable publishing"})})]})})}var tI=t(29947),tR=t(61125);function tN(){var e=(0,tI.W)(),n=e.connections,t=e.loading,r=(0,tR.A)();return{connection:n.find(function(e){var n;return(null==(n=e.repls)?void 0:n.find(function(e){return e.id===r}))&&(e.connectorName===e$.jis.SlackAgent||e.connectorName===e$.jis.SlackAgentBuilder)}),loading:t}}var tO=t(29100);function tP(){return(0,c.Y)(tO.A,{bsod:!1,fallback:function(e){return(0,c.Y)(G.S,{p:16,children:(0,c.Y)(V.N,{colorway:"red",text:"An unexpected error occurred while setting up the Slack connection: ".concat(e.message)})})},reportToSentry:!0,origin:"ErrorBoundary: SlackConnectorSetup",children:(0,c.Y)(tF,{})})}function tF(){var e,n,t,r,a,i,u,f,p,h=tN(),m=h.connection,v=h.loading,w=(0,tI.W)(),_=w.connections,S=w.refetch,A=w.error,k=w.token,C=w.loading,Y=(0,tR.A)(),E=(0,te.ET)().orgId,x=(0,l._)((0,d.useState)(!1),2),T=x[0],D=x[1],R=(0,l._)((0,d.useState)(null),2),N=R[0],O=R[1],P=(0,l._)((0,d.useState)(!1),2),F=P[0],U=P[1],L=(0,d.useRef)(null),M=(0,l._)((e=(0,o._)({},tg,void 0),tm.n(tb,e)),1)[0],J=(t=(n={replId:Y,orgId:E||null,onConnectionCreated:function(){S()}}).replId,r=n.orgId,a=n.onConnectionCreated,i=(0,l._)((0,tp.xP)(),1)[0],{handleConnectionEvent:function(e){return(0,g._)(function(){return(0,y.YH)(this,function(n){switch(n.label){case 0:if("connect.connection-connected"!==e.name)return[3,2];return[4,i({variables:{input:{connectionId:e.data.connection_id,orgId:r||null,replId:t}},update:function(n,t){var r=t.data;if((null==r||null==(a=r.createConnection)?void 0:a.__typename)==="CreateConnection")try{var a,i,l=n.readQuery({query:tp.wZ});if((null==l||null==(i=l.currentUser)?void 0:i.__typename)==="CurrentUser"){var u={__typename:"OintConnection",connectionId:e.data.connection_id,connectionName:e.data.connection_id.split("_")[1],connectionType:e.data.connection_id.split("_")[1],iconPath:null,status:"connected",scopes:[],repls:[]};n.writeQuery({query:tp.wZ,data:{currentUser:(0,s._)((0,o._)({},l.currentUser),{connectorContext:(0,s._)((0,o._)({},l.currentUser.connectorContext),{connections:(0,b._)(l.currentUser.connectorContext.connections).concat([u])})})}})}}catch(e){}}})];case 1:n.sent(),null==a||a(),n.label=2;case 2:return[2]}})})()}}).handleConnectionEvent;(0,d.useEffect)(function(){if(_.length>0){var e=_.find(function(e){var n;return e.connectorName===e$.jis.SlackAgentBuilder&&(null==(n=e.repls)?void 0:n.some(function(e){return e.id===Y}))});e&&O(e)}},[_,Y]);var H=(u={variables:{connectionId:(null==N?void 0:N.connectionId)||"",orgId:E||void 0},skip:!N,pollInterval:2e3*!!F},f=(0,o._)({},tw,u),I.I(t_,f)).data,B=(null==H||null==(p=H.getSlackAgentBuilderDeploymentStatus)?void 0:p.__typename)==="SlackAgentBuilderDeploymentStatus"?H.getSlackAgentBuilderDeploymentStatus.status:null,V=N?"connected"===B?"DONE":"INSTALL":"PRECONNECT";if(A)throw Error("Failed to load connector context");var $=(0,d.useCallback)(function(e,n){return(0,g._)(function(){return(0,y.YH)(this,function(t){switch(t.label){case 0:return L.current=n,[4,J(e)];case 1:return t.sent(),"connect.connection-connected"===e.name&&(D(!1),n(),L.current=null),[2]}})})()},[J]);return((0,d.useEffect)(function(){"connected"===B&&F&&U(!1)},[B,F]),(0,d.useEffect)(function(){return function(){L.current&&L.current()}},[]),C)?(0,c.Y)(tY.A,{}):(0,c.FD)(c.FK,{children:[(0,c.Y)(tD,{isConnected:!!m,connectionStatusLoading:v,state:V,onPreconnectClick:function(){return D(!0)},onInstallClick:function(){return(0,g._)(function(){var e,n,t,r,a;return(0,y.YH)(this,function(i){switch(i.label){case 0:if(!N)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,M({variables:{input:{connectionId:N.connectionId,replId:Y,appName:"Replit Agent",appDescription:"A Replit agent for Slack",orgId:E||void 0}}})];case 2:return(null==(n=(t=i.sent()).data)||null==(e=n.createDeployedSlackAgentInstallUrl)?void 0:e.__typename)==="CreateDeployedSlackAgentInstallUrl"&&(r=t.data.createDeployedSlackAgentInstallUrl.installUrl,window.open(r,"_blank"),U(!0)),[3,4];case 3:throw a=i.sent(),U(!1),a;case 4:return[2]}})})()}}),(0,c.Y)(tk,{isOpen:T,setIsOpen:D,token:k||"",selectedConnector:"slack-agent-builder",onEvent:$})]})}var tU=t(86103),tL=t(5586),tM=t(53673),tJ=t(52074),tH=t.n(tJ);function tB(e){var n=e.onDeleteDeployment,t=tN(),r=t.connection,a=t.loading,i=(0,tI.W)().refetch,o=!!r,s=(0,tR.A)(),u=(0,tL.g9)().show,f=(0,tU._P)({controlName:"flag-new-slack-connector",default:!1}),p=!!(0,h.cF)(),m=(0,d.useCallback)(function(){f||u("SlackConnectorSetupModalDeprecated",{replId:s})},[s,u,f]),v=(0,l._)((0,tp.KS)(),2),b=v[0],w=v[1].loading,_=(0,l._)((0,d.useState)(!1),2),S=_[0],k=_[1],C=(0,l._)((0,d.useState)(!1),2),Y=C[0],E=C[1],x=(0,d.useCallback)(function(){if(p)return void u("AgentStackDisconnectModal",{onDeleteDeployment:n});k(!0)},[p,u,n]),T=(0,d.useCallback)(function(){return(0,g._)(function(){return(0,y.YH)(this,function(e){switch(e.label){case 0:if(!r)throw Error("No connection to delete");return E(!0),k(!1),[4,b({variables:{input:{connectionId:r.connectionId}}})];case 1:return e.sent(),[4,i()];case 2:return e.sent(),[2]}})})()},[b,r,i]);if(f&&(!o||Y))return(0,c.Y)(tP,{});var D=w||a?(0,c.Y)(G.S,{clsx:(0,A._)({},tH().hidden,a),children:(0,c.Y)(eX.$n,{variant:"outlined",text:a?"Loading…":"Disconnecting…",size:"small",iconLeft:(0,c.Y)(tY.A,{}),disabled:!0})}):o?(0,c.Y)(G.S,{children:(0,c.Y)(eX.$n,{text:"Disconnect",size:"small",variant:"outlined",onClick:x})}):(0,c.Y)(eX.$n,{text:"Connect to Slack",size:"small",iconLeft:(0,c.Y)(tM.A,{}),colorway:"primary",onClick:m});return(0,c.FD)(G.S,{gap:8,children:[(0,c.Y)($.EY,{children:"Slack connection status"}),(0,c.Y)(na.ui,{elevated:!0,className:tH().radiusDefault,children:(0,c.FD)(G.S,{row:!0,justify:"space-between",align:"center",p:8,children:[(0,c.Y)(G.S,{row:!0,gap:8,align:"center",children:a?(0,c.FD)(c.FK,{children:[(0,c.Y)(tY.A,{}),(0,c.Y)($.EY,{color:"dimmer",children:"Loading…"})]}):(0,c.FD)(c.FK,{children:[(0,c.Y)(tC.A,{size:8,color:o?eC.LU.greenStronger:eC.LU.greyStronger}),(0,c.Y)($.EY,{color:"dimmer",children:o?"Connected":"Not connected"})]})}),D]})}),o||a?null:(0,c.Y)($.EY,{variant:"small",color:"dimmer",children:"Connect to your Slack workspace to enable publishing."}),(0,c.Y)(e0.a,{isOpen:S,onRequestClose:function(){return k(!1)},children:(0,c.Y)(th.A,{title:"Disconnect from Slack",confirmLabel:"Yes, disconnect from Slack",isDestructive:!0,onConfirm:T,onCancel:function(){return k(!1)},children:"Are you sure you want to disconnect from Slack? You can reconnect at any time but you may need to request permission from your admin."})})]})}var tV=t(68682),t$=t(79857),tG="SCHEDULE_CRON_EXPRESSION",tz="SCHEDULE_CRON_TIMEZONE";function tW(e){return e.some(function(e){return e.name===tG&&null!==e.value&&(0,tV.isValidCron)(e.value)})}var tj=function(e){var n,t,r,a,i=e.envVars,o=e.updateEnvVarValue,s=e.addAnEnvVar,l=e.initialized,u=e.onScheduleChanged,f=void 0===(0,h.cF)(),p=(0,d.useRef)(null),m=(0,d.useRef)(null),v=(0,d.useCallback)(function(e){if(null===p.current){var n=i.findIndex(function(e){return e.name===tG});if(-1===n){p.current=i.length,s({name:tG,value:null!=e?e:""});return}p.current=n}o(p.current,null!=e?e:"")},[s,i,o,p]),g=(0,d.useCallback)(function(e){if(null===m.current){var n=i.findIndex(function(e){return e.name===tz});if(-1===n){m.current=i.length,s({name:tz,value:null!=e?e:""});return}m.current=n}o(m.current,null!=e?e:"")},[s,i,o]),b=null!=(r=null==(n=i.find(function(e){return e.name===tG}))?void 0:n.value)?r:null,y=null!=(a=null==(t=i.find(function(e){return e.name===tz}))?void 0:t.value)?a:null,w=(0,d.useRef)(b),_=(0,d.useRef)(y);(0,d.useEffect)(function(){l&&(w.current=b,_.current=y)},[l]);var S=(0,t$.$L)({initialCrontab:b,initialTimezone:y,onCrontabChange:v,onTimezoneChange:g}),A=S.describeSchedule,k=S.crontab,C=S.timezone,Y=S.error,E=S.loading,x=S.scheduleToCronExpression,T=S.cronExpressionToSchedule,D=S.setCrontab,I=S.setTimezone,R=S.handleOnInputChanged,N=S.setTranslationType;return(0,d.useEffect)(function(){l&&u&&u(k!==w.current||C!==_.current)},[k,C,l,u]),(0,c.FD)(G.S,{gap:8,children:[Y?(0,c.Y)(t$.jn,{crontab:k,timezone:C,cronLoading:!1,error:Y,onCronExpressionChange:D,onTimezoneChange:I}):(0,c.Y)(t$.yB,{describeSchedule:A,crontab:k,timezone:C,loading:E,cronLoading:!l,scheduleToCronExpression:x,cronExpressionToSchedule:T,onScheduleDescriptionChange:function(e){return R(e,"scheduleToCronExpression")},onCronExpressionChange:function(e){return R(e,"cronExpressionToSchedule")},onTimezoneChange:I,onScheduleDescriptionFocus:function(){return N("scheduleToCronExpression")},onCronExpressionFocus:function(){return N("cronExpressionToSchedule")}}),f?(0,c.Y)($.EY,{variant:"small",color:"dimmer",children:"Set a schedule to deploy your agent."}):null]})},tq=t(16960),tZ=t(82136),tK=t(54741),tQ=t(26299),tX=t(89364),t0=t(50957),t1=(0,eF.x)({self:M.wp.colWithGap(16),footer:M.wp.colWithGap(0),deployButton:M.wp.flex.grow(1),statusBanner:[M.wp.textBalance,M.wp.flex.shrink(1)]}),t2=function(e){var n=e.deploymentId,t=e.replId,r=e.initialSubdomain,a=e.provider,i=e.machine,o=e.secrets,s=e.fs,u=e.ports,f=e.dotReplit,p=e.onDeploy,m=e.onCancel,g=e.onError,b=e.initialSecretsSyncExpanded,y=e.openNetworkingPane,S=e.hasAgentSession,A=e.onViewAction,k=(0,tq.Y)({deploymentId:n,replId:t,initialSubdomain:r,provider:a,machine:i,secrets:o,fs:s,dotReplit:f,onDeploy:p,onError:g,hasAgentSession:S}),C=k.mode,Y=k.flagSecurityScanning,E=k.deployment,x=k.queryLoading,T=k.optionsLoading,D=k.currentBuild,I=k.isRedeploy,R=k.editDeploySecretAuthorization,N=k.editReplSecretsAuthorization,O=k.appType,P=k.subdomain,F=k.validSubdomain,U=k.buildCommand,L=k.runCommand,M=k.runCommandError,J=k.timezone,H=k.timezoneError,B=k.crontab,z=k.crontabError,W=k.envVars,j=k.publicDir,q=k.publicDirError,Z=k.timeoutValue,K=k.timeoutUnits,Q=k.isPrivate,X=k.privacyMode,ee=k.privatePassword,en=k.privatePasswordError,et=k.hasExistingPrivatePassword,er=k.ignoredSecrets,ea=k.isOverwritingSecrets,ei=k.isOverwriteSecretsModalOpen,eo=k.devSecrets,es=k.orgId,el=k.timeoutValueError,eu=k.canCreateNeonProductionDatabaseStateLoading,ec=k.setSubdomain,ed=k.setValidSubdomain,ef=k.setBuildCommand,ep=k.setRunCommand,eh=k.setTimezone,em=k.setCrontab,ev=k.setPublicDir,eg=k.setPrivacyMode,eb=k.setPrivatePassword,ey=k.setTimeoutValue,ew=k.setTimeoutUnits,e_=k.setTimeoutValueError,eS=k.setIsOverwriteSecretsModalOpen,eA=k.createNeonProductionDatabase,ek=k.setCreateNeonProductionDatabase,eC=k.pushDevelopmentDatabaseObjects,eY=k.setPushDevelopmentDatabaseObjects,eE=k.overwriteData,ex=k.setOverwriteData,eT=k.createNeonProductionDatabaseState,eD=k.onAppTypeChanged,eI=k.addAnEnvVar,eR=k.updateEnvVarName,eN=k.updateEnvVarValue,eO=k.removeEnvVar,eP=k.handleDeployClick,eF=k.optOut,eU=k.optIn,eL=k.syncToWorkspace,eM=k.overwriteSecrets,eJ=a!==w.Q0q.Cron&&!(null==E?void 0:E.replitAppSubdomain),eH=(0,(0,h.mj)().getDeployabilityByProvider)(a,Q),eB=I?eH.redeploy.isAuthorized:eH.deploy.isAuthorized,eV=x||T||C===v.d.Preparing||el,eG=(0,tK.Y)().isAgentStackRepl,ez=(0,tQ.C)().agentStackPlatformType,eW=(0,l._)((0,d.useState)(!1),2),ej=eW[0],eq=eW[1],eZ=eV||!eB||eu,eK=eG&&ez===e$.J_c.TimeBased&&I&&(!ej||!tW(W)),eQ=eZ||eJ&&!F||eK,e1="PUBLISH"===(0,e6.md)(nn),e2=!(eG&&I&&(ez===e$.J_c.Slack||ez===e$.J_c.Telegram&&!e1)),e3=function(){A({type:_.k.SendDeploymentLifecycleCommand,payload:{command:e$.jPZ.Destroy}})},e4=function(){if(T)return(0,c.FD)(c.FK,{children:[(0,c.Y)(nA.r,{}),(0,c.Y)(nA.r,{}),(0,c.Y)(nA.r,{})]});if(eG)switch(ez){case e$.J_c.Slack:return(0,c.Y)(tB,{onDeleteDeployment:e3});case e$.J_c.Telegram:return(0,c.Y)(nw,{});case e$.J_c.TimeBased:return(0,c.Y)(tj,{envVars:W,updateEnvVarValue:eN,addAnEnvVar:eI,removeEnvVar:eO,initialized:!T,onScheduleChanged:eq})}var e=O!==w.JX5.Static,r=a===w.Q0q.Gce,i=O===w.JX5.Static,o=a===w.Q0q.Cron,s=O===w.JX5.Server||O===w.JX5.CloudRun,l=a!==w.Q0q.Cron,d=W.map(function(e){return e.name});return(0,c.FD)(c.FK,{children:[o?(0,c.Y)(tf.n5,{crontab:B,setCrontab:em,crontabError:z,timezone:J,setTimezone:eh,timezoneError:H,loading:x,timeoutValue:Z,setTimeoutValue:ey,timeoutUnits:K,setTimeoutUnits:ew,setTimeoutValueError:e_}):null,eJ?(0,c.Y)(nA.K,{id:"primaryDomain",title:"Primary domain",information:"You can add more custom domains after publishing",children:(0,c.Y)(nS.zS,{id:"primaryDomain",subdomain:P,provider:a,deploymentId:n||void 0,onChange:ec,updateValidity:ed})}):null,l?(0,c.Y)(tu,{privacyMode:X,setPrivacyMode:eg,privatePassword:ee,setPrivatePassword:eb,privatePasswordError:en,hasExistingPrivatePassword:et,isRedeploy:I}):null,i?(0,c.Y)(tc,{value:j,onChange:ev,loading:T,disabled:eV,error:q}):null,(0,c.Y)(nk,{value:U,onChange:ef,loading:T,disabled:eV}),e?(0,c.Y)(td,{value:L,onChange:ep,loading:T,disabled:eV,error:M}):null,(0,c.Y)(nC.Yq,{createDatabase:eA,setCreateDatabase:ek,pushDevelopmentDatabaseObjects:eC,setPushDevelopmentDatabaseObjects:eY,overwriteData:eE,setOverwriteData:ex,tooltipText:eT.tooltipText,warningText:eT.warningText,disabled:eT.isDisabled,isRedeploy:I}),(0,c.FD)(nA.K,{id:"envVars",title:"Production app secrets",information:"Secrets, or environment variables, are private keys you can use to access APIs and services",children:[es?(0,c.Y)(V.N,{icon:(0,c.Y)(t0.A,{}),css:t1.statusBanner,colorway:"primary",text:"Secrets now sync automatically with your team's published apps. "+"Production app secrets added before ".concat((0,tZ.r)(ne.dz.toISOString())," ")+"remain unchanged to avoid disrupting existing workflows. Manage syncing below."}):null,(0,c.Y)(nU,{envVars:W,envVarKeys:d,updateEnvVarName:eR,updateEnvVarValue:eN,removeEnvVar:eO,addAnEnvVar:eI,baseDisableState:eV,devSecrets:eo,ignoredSecrets:er,editReplSecretsAuthorization:N,editDeploySecretAuthorization:R,optOut:eF,optIn:eU,syncToWorkspace:eL,queryLoading:x,replId:t,initialSecretsSyncExpanded:b})]}),r?(0,c.Y)(nA.K,{id:"deploymentAppType",title:"App type",information:"Configure your app based on whether it needs to serve traffic from the web.",children:(0,c.Y)(nS.Sr,{appType:O,onChange:eD})}):null,s?(0,c.Y)(n9,{ports:u,openNetworkingPane:y}):null,Y?(0,c.Y)(nV,{onViewAction:A}):null]})}();return(0,c.FD)(c.FK,{children:[(0,c.FD)(G.S,{css:t1.self,children:[e4,(0,c.FD)(G.S,{css:t1.footer,children:[(0,c.Y)(nW,{deployability:eH,isRedeploy:I}),(0,c.FD)(G.S,{pt:12,row:!0,gap:8,children:[D?(0,c.Y)(eX.$n,{text:"Cancel",onClick:m}):null,e2?(0,c.Y)(G.S,{css:t1.deployButton,children:(0,c.Y)(eX.$n,{colorway:"primary",onClick:function(){eP(eJ)},text:C===v.d.Preparing&&"Preparing..."||T&&"Fetching options..."||"Publish",iconLeft:T||C===v.d.Preparing?(0,c.Y)(tY.A,{}):(0,c.Y)(tX.A,{}),disabled:eQ})}):null]})]})]}),(0,c.Y)(e0.a,{isOpen:ei,onRequestClose:function(){ea||eS(!1)},children:(0,c.FD)(G.S,{gap:8,children:[(0,c.Y)($.EY,{variant:"subheadBig",children:"Copy secrets from Published app to Development?"}),(0,c.Y)($.EY,{children:"Are you sure you want to copy all of your secrets from Published app to Development? Secrets already present in Development will be overwritten and lost permanently."}),(0,c.FD)(G.S,{pt:8,row:!0,gap:8,justify:"end",children:[(0,c.Y)(eX.$n,{text:"Cancel",disabled:ea,onClick:function(){eS(!1)}}),(0,c.Y)(eX.$n,{text:"Yes, copy secrets",colorway:"negative",disabled:ea,loading:ea,onClick:eM})]})]})})]})},t3=(0,eF.x)({self:M.wp.colWithGap(8),ctaGroup:{flexDirection:"row",gap:8,flexWrap:"wrap"},deployOptions:[M.wp.borderRadius(8),M.wp.border({color:eC.LU.outlineDimmest})]}),t4=function(e){var n,t,r,a,i,s,u,f,p,b,w,S,A,k,C,Y,E,x,T,D,R=e.deploymentId,N=e.replId,O=e.dotReplit,P=e.fs,F=e.ports,U=e.secrets,L=e.onError,M=e.expanded,J=e.setExpanded,H=e.shouldShowMobileTour,B=e.onDismissMobileTour,$=e.openNetworkingPane,z=e.onResume,W=e.hasAgentSession,j=e.onViewAction,q=(0,tK.Y)().isAgentStackRepl,Z=(0,tQ.C)().agentStackPlatformType,K=(0,tU._P)({controlName:"flag-security-scanning"})&&!q,Q=(0,h.Tp)().redeployWithNoNewOptions,X=(0,m.uS)(),ee=(a=(n={deploymentId:R,dotReplit:O}).deploymentId,i=n.dotReplit,u=(s=(0,l._)((0,d.useState)(null),2))[0],f=s[1],(0,d.useEffect)(function(){var e=!1;return(0,g._)(function(){var n;return(0,y.YH)(this,function(t){switch(t.label){case 0:return[4,(0,e7.XE)(i)];case 1:if(n=t.sent(),e)return[2];return f(n),[2]}})})(),function(){e=!0}},[i]),p=u,A=(b={variables:{id:a},ssr:!1,fetchPolicy:"cache-and-network"},w=(0,o._)({},ej,b),S=I.I(eq,w)).data,k=S.loading,C=S.error,Y=(null==A||null==(t=A.hostingDeployment)?void 0:t.__typename)==="HostingDeployment"?A.hostingDeployment:null,(null==A||null==(r=A.hostingDeployment)?void 0:r.__typename)==="NotFoundError"?{deployment:null,config:null,error:"Published app not found",loading:!1}:null===p||!Y&&k?{data:null,erorr:null,loading:!0}:C||!Y?{deployment:null,config:null,error:"Something went wrong",loading:!1}:{deployment:Y,config:p,error:null,loading:!1}),en=(0,h.mj)().deployability,et=null==(E=ee.deployment)?void 0:E.currentBuild,er=(0,e9.g)({secrets:U,replId:N}).devSecrets,ea=null==(x=ee.deployment)?void 0:x.currentBuild.envVars,ei=null==(T=ee.deployment)?void 0:T.repl.authorizations.editSecrets.isAuthorized,eo=null==(D=ee.deployment)?void 0:D.repl.authorizations.editDeploymentSecrets.isAuthorized,es=(0,d.useMemo)(function(){return er&&ea&&ei&&eo?nN({secrets:new Map(null==ea?void 0:ea.map(function(e){return[e.name,e.value]})),otherSecrets:er}).missing.size:0},[er,ea,ei,eo]);if(ee.error)return(0,c.Y)(e8.Wx,{text:ee.error});if(M)return et?(0,c.Y)(G.S,{css:t3.deployOptions,p:16,pt:12,children:(0,c.Y)(t2,{initialSubdomain:"",provider:et.provider,deploymentId:R,replId:N,fs:P,secrets:U,dotReplit:O,ports:F,onCancel:function(){return J(!1)},onDeploy:function(){return J(!1)},onError:L,initialSecretsSyncExpanded:es>0,openNetworkingPane:$,hasAgentSession:W,onViewAction:j})}):(0,c.Y)(V.N,{colorway:"warning",icon:(0,c.Y)(nR.A,{}),text:"Provider not found"});var el=function(){switch(Z){case e$.J_c.Slack:return"Slack connection settings";case e$.J_c.TimeBased:return"Schedule settings";case e$.J_c.Telegram:return"Telegram connection settings";default:return"Advanced settings"}}(),eu=ee.loading||!en.redeploy.isAuthorized||X!==v.d.Ready&&X!==v.d.Suspended;return(0,c.FD)(G.S,{css:t3.self,children:[(0,c.Y)(nW,{deployability:en,isRedeploy:!0}),(0,c.FD)(G.S,{css:t3.ctaGroup,children:[(0,c.Y)(eX.$n,{disabled:eu,onClick:function(){return(0,g._)(function(){return(0,y.YH)(this,function(e){switch(e.label){case 0:if(ee.loading)return[2];if(X===v.d.Suspended)return z(),[2];return[4,Q({hasAgentSession:W})];case 1:return e.sent(),[2]}})})()},text:X===v.d.Suspended?"Resume":"Republish",iconLeft:(0,c.Y)(tX.A,{})}),(0,c.Y)(eX.$n,{disabled:eu,text:el,onClick:function(){return J(!0)},iconLeft:(0,c.Y)(ex.A,{})}),K?(0,c.Y)(eX.$n,{text:"Run security scan",iconLeft:(0,c.Y)(nH.A,{}),onClick:function(){j({type:_.k.OpenPane,payload:{type:"securityScan"}}),(0,nM.kB)(eZ.a.REDEPLOY_PANE)}}):null,(0,c.Y)(e5,{shouldShow:H,onDismissTour:B})]})]})},t5=(0,eF.x)({line:{width:1,position:"absolute",left:3},circlePast:{position:"absolute",top:10,left:1,width:5,height:5,borderRadius:"100%",opacity:.5}}),t7=(0,eF.x)({container:{width:7,position:"relative"},linePast:[t5.line,{backgroundColor:eC.LU.outlineDimmest,top:15,bottom:-10}],linePresent:[t5.line,{backgroundImage:"linear-gradient(to top, ".concat(eC.LU.outlineDimmest,", ").concat(eC.LU.outlineDimmer,")"),top:27,bottom:-10}],lineFuture:[t5.line,{borderRight:"1px dashed "+eC.LU.outlineDimmer,top:23,bottom:-20}],lineFutureFailClosed:[t5.line,{backgroundColor:eC.LU.outlineDimmest,top:19,bottom:-20}],lineFutureFailOpen:[t5.line,{borderRight:"1px dashed "+eC.LU.outlineDimmer,top:22,bottom:-18}],circlePastGreen:[t5.circlePast,M.wp.backgroundColor.accentPositiveDefault],circlePastRed:[t5.circlePast,M.wp.backgroundColor.accentNegativeDefault],circlePastGray:[t5.circlePast,M.wp.backgroundColor.outlineDimmer],circlePresent:[M.wp.backgroundColor.accentPrimaryStronger,{position:"absolute",top:20,left:0,width:7,height:7,borderRadius:"100%"}],circleFuture:{position:"absolute",top:12,left:-1,width:9,height:9},circleFutureFailClosed:[M.wp.backgroundColor.accentNegativeDefault,{position:"absolute",top:14,left:1,width:5,height:5,borderRadius:"100%",opacity:.6}]});function t9(e){var n,t;switch(e.type){case"pastSuccess":n=t7.linePast,t=(0,c.Y)(G.S,{css:t7.circlePastGreen});break;case"pastFail":n=t7.linePast,t=(0,c.Y)(G.S,{css:t7.circlePastRed});break;case"pastNeutral":n=t7.linePast,t=(0,c.Y)(G.S,{css:t7.circlePastGray});break;case"present":n=t7.linePresent,t=(0,c.Y)(G.S,{css:t7.circlePresent});break;case"future":n=t7.lineFuture,t=(0,c.Y)("svg",{viewBox:"0 0 9 9",css:t7.circleFuture,children:(0,c.Y)("circle",{cx:4.5,cy:4.5,r:4,fill:"none",stroke:eC.LU.outlineStrongest,strokeDasharray:"2 1"})});break;case"futureFailClosed":n=t7.lineFutureFailClosed,t=(0,c.Y)(G.S,{css:t7.circleFutureFailClosed});break;case"futureFailOpen":n=t7.lineFutureFailOpen,t=null}return(0,c.FD)(G.S,{css:t7.container,children:[(0,c.Y)(G.S,{css:n,"data-timeline-line":!0}),t]})}var t8=t(21424);function t6(){var e=(0,T._)(["\n  query HostingDeployActionHistory(\n    $input: HostingBuildDeployActionHistoryInput!\n  ) {\n    hostingBuildDeployActionHistory(input: $input) {\n      ... on HostingBuildDeployActionHistoryResults {\n        results {\n          ... on HostingBuildDeployLogAction {\n            log\n          }\n          ... on HostingBuildDeployStatusAction {\n            status\n            message\n          }\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return t6=function(){return e},e}var re={},rn=(0,D.J1)(t6()),rt=t(50646),rr=t(92949),ra=t(59552),ri=t(12401),ro=t(86035),rs=t(33747),rl=t(53847),ru=t(97858),rc=t(6132),rd=t(80719),rf=t(69832),rp=f.ZU.Object({description:f.ZU.String(),name:f.ZU.Optional(f.ZU.String()),type:f.ZU.Optional(f.ZU.String()),before:f.ZU.Optional(f.ZU.String()),after:f.ZU.Optional(f.ZU.String()),file:f.ZU.Optional(f.ZU.Union([f.ZU.String(),f.ZU.Null()])),File:f.ZU.Optional(f.ZU.Object({$kind:f.ZU.String(),file:f.ZU.String()}))}),rh=f.ZU.Object({errors:ro.wIV.properties.errors,suggestions:f.ZU.Array(rp)}),rm={direction:"forward",state:{result:void 0,completed:!1},reducer:function(e,n){if((0,rc.VF)(e.contents.contents,"hostingDebugSummaryEventContents")&&e.state===ro.qOk.COMPLETE&&e.sender.type===ro.utd.AI){var t=(0,rc.QN)(e.contents.contents).result;if(ru.J(rh,t))return n.result=t,n.completed=e.state===ro.qOk.COMPLETE,!1}}},rv=t(60794),rg=t(66186),rb=t(63789),ry=t(30545),rw=t(48485),r_=(0,eF.x)({link:{color:eC.LU.foregroundDefault,textDecoration:"underline",":hover":{color:eC.LU.accentPrimaryStronger}},list:[{listStyle:"inside"}]});function rS(e){var n=e.provider,t=e.onViewApplicationLogs,r=(0,h.O6)();return(0,c.FD)(c.FK,{children:["Common issues for promote stage errors can be an error occurring while trying to run your run command, your application exiting unexpectedly, an error on your app server or a provisioning issue.",(0,c.Y)("br",{}),(0,c.Y)("br",{}),"Ways to debug:",(0,c.FD)("ul",{css:r_.list,children:[r?(0,c.Y)("li",{children:"This promotion may also be failing due to VNC incompatibilities."}):null,(0,c.Y)("li",{children:"Make sure your repl runs in the Workspace."}),(0,c.FD)("li",{children:["View our"," ",(0,c.Y)("a",{href:"https://docs.replit.com/cloud-services/deployments/troubleshooting",target:"_blank",css:r_.link,onClick:function(){return(0,eO.Ae)({context:"troubleshooting_doc"})},children:"troubleshooting tips."})]}),n!==w.Q0q.Static&&t?(0,c.FD)("li",{children:["Look for errors in your application's server logs.",(0,c.Y)(eX.$n,{text:"Logs",size:"small",iconLeft:(0,c.Y)(rw.A,{}),onClick:t,css:M.wp.display.inlineFlex})," "]}):null,(0,c.Y)("li",{children:"Look for errors in your deploy logs."})]})]})}function rA(){var e=(0,h.O6)();return(0,c.FD)(c.FK,{children:["Common issues for build stage errors can be an error occurring while trying to run your build command or an compilation issue with your application code.",(0,c.Y)("br",{}),(0,c.Y)("br",{}),"Ways to debug:",(0,c.FD)("ul",{css:r_.list,children:[e?(0,c.Y)("li",{children:"This promotion may also be failing due to VNC incompatibilities."}):null,(0,c.Y)("li",{children:"Make sure your repl runs in the Workspace."}),(0,c.FD)("li",{children:["View our"," ",(0,c.Y)("a",{href:"https://docs.replit.com/cloud-services/deployments/troubleshooting",target:"_blank",css:r_.link,onClick:function(){return(0,eO.Ae)({context:"troubleshooting_doc"})},children:"troubleshooting tips."})]}),(0,c.Y)("li",{children:"Look for errors in your deploy logs."})]})]})}var rk=t(77898);function rC(){var e=(0,T._)(["\n      The deployment failed with the following error:\n\n\n      ```\n      ","\n      ```\n      Suggested fixes include:\n\n\n      ```\n      ","\n      ```\n      Can you apply the suggested fixes?\n    "],["\n      The deployment failed with the following error:\\n\\n\n      \\`\\`\\`\n      ","\n      \\`\\`\\`\n      Suggested fixes include:\\n\\n\n      \\`\\`\\`\n      ","\n      \\`\\`\\`\n      Can you apply the suggested fixes?\n    "]);return rC=function(){return e},e}var rY=[M.wp.cursor.pointer,M.wp.reset.button,M.wp.color.foregroundDimmest,M.wp.focusRing,M.wp.hover(M.wp.color.foregroundDefault),{lineHeight:1.2,":not([disabled])":{cursor:"pointer"}}],rE=(0,eF.x)({errorsSection:[M.wp.colorMixBg(eC.LU.accentNegativeDimmest,"transparent",.3),M.wp.color.accentNegativeStrongest],errorsSectionTitleText:[M.wp.color.foregroundDefault],errorsList:[M.wp.display.flex,M.wp.colWithGap(4),M.wp.pt(6),M.wp.pl(24),{listStyleType:"disc"}],suggestionsSectionAgent:[M.wp.colorMixBg(eC.LU.blurpleDimmest,"transparent",.15),M.wp.border({direction:"top",color:eC.LU.outlineDimmer})],aiSuggestionsTitle:[M.wp.color.blurpleStrongest,M.wp.align.center],aiSuggestionsList:M.wp.pl(24),textButton:[rY]});function rx(e){var n,t,r,a,i,o,s,u,f,p,m,v,b,w,_,S=e.title,A=e.debugSummary,k=e.view,C=e.provider,Y=e.onViewBuildLogs,E=e.viewingBuildLogs,x=e.viewBuildLogsIcon,T=e.openFile,D=e.openPane,I=(0,tR.A)(),R=(0,h.i$)(),N=(0,d.useCallback)(function(e){(0,rv.Q)({error:e,context:"useHostingDebugSummary",extras:{replId:I,deploymentId:R,debugSummary:A,view:k,provider:C}})},[A,R,C,I,k]),O=(n=A.sessionId,t=(0,rd.NC)(),a=(r=(0,l._)((0,d.useState)(),2))[0],i=r[1],s=(o=(0,l._)((0,d.useState)(!0),2))[0],u=o[1],p=(f=(0,l._)((0,d.useState)(!1),2))[0],m=f[1],v=(0,d.useRef)(null),b=(0,d.useCallback)(function(e){u(!1),N(e),m(!0)},[N]),w=(0,rf.J2)(n?t.sessions.get(n):null),_=(0,d.useMemo)(function(){return null==w?void 0:w.reduce(rm,"global").result},[w]),(0,rf.q3)(_,{next:function(e){e.result&&e.completed&&(i(e.result),v.current&&(clearTimeout(v.current),v.current=null),u(!1))},error:function(e){b((0,rl._)(e,Error)?e:Error(String(e)))}}),(0,d.useEffect)(function(){if(s&&w)return v.current=setTimeout(function(){b(Error("Debug summary event timed out while loading."))},3e4),function(){v.current&&(clearTimeout(v.current),v.current=null)}},[s,w,b]),{loading:s,error:p,debugResult:a}),P=O.loading,F=O.debugResult,U=O.error,L=(0,h.om)().listFiles,M=(0,l._)((0,d.useState)([]),2),J=M[0],H=M[1],B=(0,ry.c)({openPane:D}),V=(0,d.useRef)(!1);return(0,d.useEffect)(function(){R&&F&&!V.current&&(V.current=!0,(0,eO.QH)("viewed",{view:k,debugSummary:A,debugResult:F,replId:I,deploymentId:R}),F.suggestions.some(function(e){return!!rI(e)})&&L().then(function(e){e.files&&H(e.files)}))},[F,k,A,I,R,L]),(0,c.Y)(rT,{title:S,debugSummary:A,debugResult:F,provider:C,viewingBuildLogs:E,viewBuildLogsIcon:x,loading:P,files:J,error:U,onViewBuildLogs:Y,openFile:T,onDebugWithAgent:function(e){return(0,g._)(function(){return(0,y.YH)(this,function(n){return F&&B((0,ri.A)(rC(),null==F?void 0:F.errors.join("\n"),null==F?void 0:F.suggestions.map(function(e){return"".concat(e.description,"\n")}).join("\n")),e),[2]})})()}})}function rT(e){var n=e.title,t=e.debugSummary,r=e.debugResult,a=e.provider,i=e.viewingBuildLogs,o=e.viewBuildLogsIcon,s=e.loading,l=e.files,u=e.error,d=e.onViewBuildLogs,f=e.openFile,p=e.onDebugWithAgent;return(0,c.FD)(na.ui,{elevated:!0,children:[(0,c.FD)(G.S,{css:rE.errorsSection,p:8,gap:4,children:[(0,c.FD)(G.S,{row:!0,gap:12,align:"center",justify:"space-between",children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",children:[(0,c.Y)(nR.A,{color:eC.LU.accentNegativeStronger}),(0,c.Y)($.EY,{css:rE.errorsSectionTitleText,multiline:!1,children:n})]}),(0,c.Y)(G.S,{row:!0,gap:0,children:"function"==typeof d?(0,c.Y)(G.S,{children:(0,c.FD)("button",{css:rE.textButton,onClick:d,children:[i?"Hide":"View"," logs"," ",(0,c.Y)(rR,{viewingBuildLogs:i,viewBuildLogsIcon:o})]})}):null})]}),(0,c.FD)($.EY,{children:[s?(0,c.FD)(G.S,{row:!0,gap:4,align:"center",children:[(0,c.Y)(tY.A,{}),(0,c.Y)($.EY,{children:"Analyzing error, generating suggestions…"})]}):(0,c.Y)(c.FK,{children:r?(0,c.FD)(c.FK,{children:[(0,c.Y)($.EY,{children:"Your deployment attempt had the following errors:"}),(0,c.Y)("ul",{css:rE.errorsList,children:r.errors.map(function(e){return(0,c.Y)("li",{children:e},e)})})]}):null}),u?(0,c.FD)(c.FK,{children:[(0,c.FD)($.EY,{children:["An error occurred while loading AI generated suggestions. Please try deploying again or follow the common debugging steps."," "]}),t.type===w.UfI.DeploymentBuildError?(0,c.Y)(rA,{}):null,t.type===w.UfI.DeploymentPromotionError?(0,c.Y)(rS,{provider:a}):null]}):null]})]}),!s&&r?(0,c.Y)(G.S,{css:rE.suggestionsSectionAgent,children:(0,c.FD)(G.S,{p:8,gap:8,children:[(0,c.Y)(rD,{onDebugWithAgent:p}),(0,c.Y)("ol",{css:rE.aiSuggestionsList,children:r.suggestions.map(function(e,n){return(0,c.Y)(rO,{suggestion:e,files:l,openFile:f},"".concat(t.id,"-").concat(n))})})]})}):null]})}function rD(e){var n=e.onDebugWithAgent,t=(0,rg.hT)()===ro.g32.AGENT_STATE_RUNNING;return(0,c.FD)(G.S,{css:rE.aiSuggestionsTitle,row:!0,gap:8,children:[(0,c.Y)(rk.A,{}),(0,c.FD)($.EY,{multiline:!1,style:{flex:"1 1 auto",color:eC.LU.blurpleStrongest},children:[rs.g$," suggestions"]}),(0,c.Y)(nF.m_,{tooltip:"".concat(rs.g$," is running, please wait until it finishes its current work"),isDisabled:!t,children:(0,c.Y)(rb.C,{onSendAgentMessage:n,disabled:t,buttonText:"Debug with ".concat(rs.g$),menuPrefix:"Debug",colorway:"blurple"})})]})}function rI(e){var n,t,r,a;return"File"in e&&(null==(n=e.File)?void 0:n.file)!=="null"&&(null==(t=e.File)?void 0:t.file)!==""?(null==(r=e.File)?void 0:r.file.replace("./",""))||void 0:"file"in e&&"null"!==e.file&&""!==e.file&&(null==(a=e.file)?void 0:a.replace("./",""))||void 0}function rR(e){var n=e.viewingBuildLogs,t=e.viewBuildLogsIcon;return t||(n?(0,c.Y)(nD.A,{}):(0,c.Y)(nT.A,{}))}var rN=(0,eF.x)({self:{"[data-accordion-header]":[M.wp.align.start,M.wp.flex.growAndShrink(1),M.wp.rowWithGap(4)]},headerInner:[M.wp.flex.growAndShrink(1),M.wp.align.baseline,M.wp.rowWithGap(4)],description:[M.wp.textAlign.left,M.wp.color.foregroundDimmer,M.wp.rowWithGap(8),M.wp.flex.growAndShrink(1),M.wp.justify.spaceBetween],interactiveDescription:[rY,M.wp.textAlign.left,M.wp.color.foregroundDimmer,M.wp.rowWithGap(8),M.wp.flex.growAndShrink(1),M.wp.justify.spaceBetween],body:[M.wp.border(),M.wp.borderRadius(),M.wp.mt(4),M.wp.mb(8),M.wp.overflow("hidden"),M.wp.font.code,M.wp.fontSize("small"),{lineHeight:eC.LU.lineHeightSmall}],before:[M.wp.color.accentNegativeStrongest,M.wp.colorMixBg(eC.LU.accentNegativeDimmest,"transparent",.3),M.wp.px(6),M.wp.py(2)],after:[M.wp.color.accentPositiveStrongest,M.wp.colorMixBg(eC.LU.accentPositiveDimmest,"transparent",.3),M.wp.px(6)],fileLinkButton:[rY,M.wp.fontSize("small"),M.wp.cursor.pointer]});function rO(e){var n=e.suggestion,t=e.files,r=e.openFile,a=(0,d.useRef)(rI(n)),i=(0,l._)((0,d.useState)(),2),o=i[0],s=i[1];(0,d.useEffect)(function(){if(a.current&&!o){var e=!0,n=!1,r=void 0;try{for(var i,l=t[Symbol.iterator]();!(e=(i=l.next()).done);e=!0)if(i.value===a.current)return void s(a.current)}catch(e){n=!0,r=e}finally{try{e||null==l.return||l.return()}finally{if(n)throw r}}}},[t,o]);var u=(null==n?void 0:n.after)&&(null==n?void 0:n.after)!=="",f=(null==n?void 0:n.before)&&(null==n?void 0:n.before)!=="";return u||f?(0,c.Y)("li",{css:rN.self,children:(0,c.Y)(n0.A,{toggleOn:"chevron",chevron:"none",headerContent:function(e){var t=e.isExpanded,a=e.toggle;return(0,c.FD)(c.FK,{children:[(0,c.FD)(G.S,{css:rN.headerInner,children:[(0,c.FD)("button",{css:rN.interactiveDescription,onClick:a,children:[(0,c.Y)($.EY,{maxLines:t?void 0:1,style:{color:"inherit"},children:n.description})," "]}),o?(0,c.Y)("button",{css:rN.fileLinkButton,onClick:function(e){e.stopPropagation(),r({path:o})},children:(0,c.FD)(G.S,{row:!0,gap:4,align:"center",css:M.wp.cursor.pointer,children:[o,(0,c.Y)(nG.A,{size:12})]})}):null]}),(0,c.Y)(eY.K0,{alt:"Show suggestion",onClick:a,children:t?(0,c.Y)(nD.A,{}):(0,c.Y)(nT.A,{})})]})},headerProps:{"data-accordion-header":""},children:(0,c.FD)(G.S,{css:rN.body,children:[f?(0,c.Y)(G.S,{css:rN.before,children:(0,c.Y)("pre",{children:n.before})}):null,u?(0,c.Y)(G.S,{css:rN.after,children:(0,c.Y)("pre",{children:n.after})}):null]})})}):(0,c.Y)("li",{css:rN.self,children:(0,c.FD)(G.S,{css:rN.headerInner,children:[(0,c.FD)(G.S,{css:rN.description,children:[(0,c.Y)($.EY,{style:{color:"inherit"},children:n.description})," "]}),o?(0,c.Y)("button",{css:rN.fileLinkButton,onClick:function(e){e.stopPropagation(),r({path:o})},children:(0,c.FD)(G.S,{row:!0,gap:4,align:"center",children:[o,(0,c.Y)(nG.A,{size:12})]})}):null]})})}function rP(e){var n=e.currentStatus,t=e.provider,r=e.logs,a=e.viewBuildLogs,i=e.debugSummary,o=e.openFile,s=e.openPane,l=e.onViewBuildLogs,u=e.onViewApplicationLogs;if((0,h.mj)().hasDebugSummariesAuthorization&&i){var d=n===w.nHS.Building?"Build failed":"Promotion failed";return(0,c.Y)(rx,{title:d,debugSummary:i,view:_.P.DeploymentInProgress,provider:t,openFile:o,openPane:s})}return n===w.nHS.Building?(0,c.Y)(rB,{provider:t,logs:r,openFile:o,viewBuildLogs:a,onViewBuildLogs:l}):n===w.nHS.Promoting?(0,c.Y)(rH,{provider:t,logs:r,openFile:o,viewBuildLogs:a,onViewBuildLogs:l,onViewApplicationLogs:u}):null}function rF(e){var n=e.currentStatus,t=e.provider,r=e.debugSummary,a=e.openFile,i=e.openPane,o=e.onViewApplicationLogs;return(0,h.mj)().hasDebugSummariesAuthorization&&r?(0,c.Y)(rx,{title:"Publishing failed",debugSummary:r,view:"deploy_history_logs",provider:t,openFile:a,openPane:i}):n===w.nHS.Building?(0,c.Y)(rB,{provider:t,openFile:a}):n===w.nHS.Promoting?(0,c.Y)(rH,{provider:t,openFile:a,onViewApplicationLogs:o}):null}var rU=(0,eF.x)({self:[M.wp.borderRadius(4),M.wp.overflow("hidden"),M.wp.border({color:eC.LU.outlineDimmer}),M.wp.mb(6)]});function rL(e){var n=e.title,t=e.debugSummary,r=e.provider,a=e.openFile,i=e.openPane,o=e.onViewBuildLogs;return(0,c.Y)(G.S,{css:rU.self,children:(0,c.Y)(rx,{title:n,debugSummary:t,view:_.P.Deployment,provider:r,onViewBuildLogs:o,viewBuildLogsIcon:(0,c.Y)(rw.A,{}),openFile:a,openPane:i})})}var rM=(0,eF.x)({xtermContainer:[M.wp.display.flex,M.wp.pt(12),M.wp.pl(16),M.wp.overflow("hidden"),M.wp.borderRadius(4,4,0,0)],xterm:[M.wp.width("100%"),M.wp.maxWidth("100%"),M.wp.height(200)],xtermButton:M.wp.borderRadius(0,0,4,4)});function rJ(e){var n=e.title,t=e.description,r=e.logs,a=e.viewBuildLogs,i=e.onViewBuildLogs,o=e.openFile,s=(0,ra.V)(),u=(0,h.om)(),f=(0,l._)((0,rr.A)({openFile:o,listFiles:u.listFiles}),2),p=f[0],m=f[1],v=(0,d.useRef)(r?r.slice(-5):[]);return(0,d.useEffect)(function(){v.current.length&&v.current.forEach(function(e){null==p||p.write(e)})},[p]),(0,c.FD)(na.ui,{elevated:!0,p:12,gap:12,children:[(0,c.FD)(G.S,{gap:8,children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",children:[(0,c.Y)(nR.A,{color:eC.LU.accentNegativeStronger}),(0,c.Y)($.EY,{multiline:!1,children:n})]}),(0,c.Y)($.EY,{children:t})]}),void 0===a||a?null:(0,c.FD)(G.S,{children:[(0,c.Y)(G.S,{css:rM.xtermContainer,style:{backgroundColor:null==s?void 0:s.background},children:(0,c.Y)(G.D.div,{css:rM.xterm,ref:m})}),(0,c.Y)(eX.$n,{text:"View all",iconLeft:(0,c.Y)(ex.A,{}),onClick:function(){return null==i?void 0:i()},css:rM.xtermButton})]})]})}function rH(e){return(0,c.Y)(rJ,(0,o._)({title:"Your app failed to promote",description:(0,c.Y)(rS,{provider:e.provider,onViewApplicationLogs:e.onViewApplicationLogs})},e))}function rB(e){return(0,c.Y)(rJ,(0,o._)({title:"Your app failed to build",description:(0,c.Y)(rA,{})},e))}function rV(e){return(0,c.Y)(rJ,(0,o._)({title:"This build's publish logs have expired",description:(0,c.Y)(c.FK,{children:"No information was found for this build. Publish logs expire after 30 days."})},e))}var r$=t(51274),rG=t(57933),rz=t(21428),rW=t(90676);function rj(){var e=(0,T._)(["\n  fragment PendingDomainsRepl on Repl {\n    id\n    pendingDomains {\n      domainName\n      status\n      message\n    }\n  }\n"]);return rj=function(){return e},e}function rq(){var e=(0,T._)(["\n  query PendingDomainsQuery($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        ...PendingDomainsRepl\n      }\n    }\n  }\n  ","\n"]);return rq=function(){return e},e}function rZ(){var e=(0,T._)(["\n  subscription PendingDomainsUpdates($replId: String!) {\n    pendingDomainsUpdates(replId: $replId) {\n      id\n      ...PendingDomainsRepl\n    }\n  }\n  ","\n"]);return rZ=function(){return e},e}var rK={},rQ=(0,D.J1)(rj()),rX=(0,D.J1)(rq(),rQ),r0=(0,D.J1)(rZ(),rQ);function r1(){var e=(0,T._)(["\n  fragment DomainItemDnsRecord on DnsRecord {\n    id\n    answer\n    type\n    ttl\n    host\n    isProtected\n  }\n"]);return r1=function(){return e},e}function r2(){var e=(0,T._)(["\n  fragment DomainItem on Domain {\n    id\n    status\n    state\n    domain\n    managed\n    timeCreated\n    autorenew\n    dnsRecords {\n      id\n      ...DomainItemDnsRecord\n    }\n  }\n  ","\n"]);return r2=function(){return e},e}function r3(){var e=(0,T._)(["\n  mutation CreateDnsRecord($input: CreateDnsRecordInput!) {\n    createDnsRecord(input: $input) {\n      ... on Error {\n        message\n      }\n      ... on CreateDnsRecordOutput {\n        domain {\n          id\n          ...DomainItem\n        }\n      }\n    }\n  }\n  ","\n"]);return r3=function(){return e},e}function r4(){var e=(0,T._)(["\n  mutation DeleteDnsRecord($input: DeleteDnsRecordInput!) {\n    deleteDnsRecord(input: $input) {\n      ... on Error {\n        message\n      }\n      ... on DeleteDnsRecordOutput {\n        domain {\n          id\n          ...DomainItem\n        }\n      }\n    }\n  }\n  ","\n"]);return r4=function(){return e},e}function r5(){var e=(0,T._)(["\n  mutation HostingDeploymentsUnlinkDomain(\n    $input: UnlinkHostingDeploymentDomainInput!\n  ) {\n    unlinkHostingDeploymentDomain(input: $input) {\n      ... on HostingDeployment {\n        id\n        domains2 {\n          id\n        }\n        repl {\n          ...PendingDomainsRepl\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return r5=function(){return e},e}function r7(){var e=(0,T._)(["\n  mutation VerifyDomain($input: VerifyDomainInput!) {\n    verifyDomain(input: $input) {\n      ... on Domain {\n        id\n        state\n      }\n    }\n  }\n"]);return r7=function(){return e},e}function r9(){var e=(0,T._)(["\n  mutation setShouldDomainAutoRenew($input: SetShouldDomainAutoRenewInput!) {\n    setShouldDomainAutoRenew(input: $input) {\n      ... on Error {\n        message\n      }\n      ... on SetShouldDomainAutoRenewResult {\n        domain {\n          id\n          ...DomainItem\n        }\n      }\n    }\n  }\n  ","\n"]);return r9=function(){return e},e}var r8={},r6=(0,D.J1)(r1()),ae=(0,D.J1)(r2(),r6),an=(0,D.J1)(r3(),ae),at=(0,D.J1)(r4(),ae),ar=(0,D.J1)(r5(),rQ);function aa(e){var n=(0,o._)({},r8,e);return tm.n(ar,n)}var ai=(0,D.J1)(r7()),ao=(0,D.J1)(r9(),ae);function as(){var e=(0,T._)(["\n  fragment Domains2Repl on Repl {\n    id\n    org {\n      id\n    }\n  }\n"]);return as=function(){return e},e}function al(){var e=(0,T._)(["\n  fragment HostingDeploymentDomainsHostingDeployment on HostingDeployment {\n    id\n    currentBuild {\n      id\n      status\n    }\n    repl {\n      id\n      title\n      apexProxy\n    }\n    domains2 {\n      id\n      ...DomainItem\n      whois @include(if: $isGlowup) {\n        registrar\n        creationDate\n        expiryDate\n      }\n      currentDnsRecords @include(if: $isGlowup) {\n        A\n        TXT\n      }\n      renewalPriceCents @include(if: $isGlowup)\n    }\n  }\n  ","\n"]);return al=function(){return e},e}function au(){var e=(0,T._)(["\n  query Domains2Repl($id: String!) {\n    getRepl(id: $id) {\n      ...Domains2Repl\n    }\n  }\n  ","\n"]);return au=function(){return e},e}function ac(){var e=(0,T._)(["\n  query HostingDeploymentDomains($id: String!, $isGlowup: Boolean!) {\n    hostingDeployment(id: $id) {\n      ... on HostingDeployment {\n        id\n        ...HostingDeploymentDomainsHostingDeployment\n      }\n    }\n  }\n  ","\n"]);return ac=function(){return e},e}function ad(){var e=(0,T._)(["\n  mutation LinkHostingDeploymentDomain(\n    $input: LinkHostingDeploymentDomainInput!\n  ) {\n    linkHostingDeploymentDomain(input: $input) {\n      ... on HostingDeployment {\n        id\n        domains2 {\n          ...DomainItem\n        }\n      }\n    }\n  }\n  ","\n"]);return ad=function(){return e},e}var af={},ap=(0,D.J1)(as()),ah=(0,D.J1)(al(),ae),am=(0,D.J1)(au(),ap),av=(0,D.J1)(ac(),ah);function ag(e){var n=(0,o._)({},af,e);return I.I(av,n)}var ab=(0,D.J1)(ad(),ae);function ay(){var e=(0,T._)(["\n  fragment DeploymentSettingsAuthorizations on ReplAuthorizations {\n    addCustomDomain {\n      isAuthorized\n      code\n      message\n    }\n    deleteCustomDomain {\n      isAuthorized\n      code\n      message\n    }\n    deleteDeployment {\n      isAuthorized\n      code\n      message\n    }\n    editDeploymentStatus(provider: $provider) {\n      isAuthorized\n      code\n      message\n    }\n    editDeploymentTier(provider: $provider) {\n      isAuthorized\n      code\n      message\n    }\n  }\n"]);return ay=function(){return e},e}function aw(){var e=(0,T._)(["\n  query HostingDeploymentSettings($id: String!, $isGlowup: Boolean!) {\n    hostingDeployment(id: $id) {\n      ... on HostingDeployment {\n        id\n        ...HostingDeploymentDomainsHostingDeployment\n        currentBuild {\n          id\n          provider\n          suspendedReason\n          machineConfiguration {\n            ...MachineConfiguration\n          }\n          machineJob {\n            ... on HostingBuildMachineJob {\n              failureNotifications\n            }\n          }\n          envVars {\n            name\n            value\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return aw=function(){return e},e}function a_(){var e=(0,T._)(["\n  query HostingDeploymentSettingsAuthz(\n    $replId: String!\n    $provider: HostingBuildProvider!\n  ) {\n    getRepl(id: $replId) {\n      __typename\n      ... on Repl {\n        id\n        authorizations {\n          ...DeploymentSettingsAuthorizations\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return a_=function(){return e},e}var aS={},aA=(0,D.J1)(ay()),ak=(0,D.J1)(aw(),ah,rz.yH);function aC(e){var n=(0,o._)({},aS,e);return I.I(ak,n)}var aY=(0,D.J1)(a_(),aA);function aE(e){var n=(0,o._)({},aS,e);return rG._(aY,n)}var ax=t(30705),aT=t(51089),aD=function(e){var n=e.stage,t=e.activeStage,r=e.erroredStage,a=e.pausedStage;return n===r?(0,c.Y)(nR.A,{alt:"error"}):n<t?(0,c.Y)(ni.A,{alt:"success"}):n===a?(0,c.Y)(aT.A,{alt:"paused"}):n===t?(0,c.Y)(tY.A,{alt:"current"}):(0,c.Y)(ax.A,{alt:"waiting"})},aI=function(e){var n=e.stage,t=e.activeStage,r=e.erroredStage,a=e.pausedStage;return void 0===t?null:n===r?"negative":n<t?"positive":n===a?"orange":n===t?"primary":null},aR=function(e){var n,t=e.stage,r=e.totalStagesWithTitle,a=e.activeStage,i=e.text,o=e.erroredStage,s=e.pausedStage,l=void 0!==a;return(0,c.Y)(d.Fragment,{children:(0,c.Y)(np.a,{text:l?i:"",colorway:null!=(n=aI({stage:t,activeStage:a,erroredStage:o,pausedStage:s}))?n:void 0,variant:"filled",css:[l&&a<t&&!o?B.S.foregroundPulse():{},M.wp.border({color:eC.LU.backgroundHigher}),M.wp.overflow("hidden"),(0,A._)({position:"relative",flex:1,height:26,zIndex:r-t,":first-of-type":{paddingLeft:6,paddingRight:6},":not(:first-of-type)":{paddingLeft:24},":not(:last-of-type)":{marginRight:-24}," span":M.wp.display.none},M.kL.min(400),{" span":M.wp.display.flex,":first-of-type":{paddingLeft:16,paddingRight:0}})],iconRight:l?(0,c.Y)(aD,{stage:t,activeStage:a,erroredStage:o,pausedStage:s}):void 0})},l&&a<=t&&!o?1:0)},aN=[{id:0,title:"Provision",statusType:e$.nHS.Pending},{id:1,title:"Security Scan",statusType:e$.nHS.SecurityScanning},{id:2,title:"Build",statusType:e$.nHS.Building},{id:3,title:"Bundle",statusType:e$.nHS.Running},{id:4,title:"Promote",statusType:e$.nHS.Promoting},{id:5,statusType:e$.nHS.Success}],aO=[{id:0,title:"Provision",statusType:e$.nHS.Pending},{id:1,title:"Build",statusType:e$.nHS.Building},{id:2,title:"Bundle",statusType:e$.nHS.Running},{id:3,title:"Promote",statusType:e$.nHS.Promoting},{id:4,statusType:e$.nHS.Success}],aP=aN.filter(function(e){return"title"in e}),aF=aO.filter(function(e){return"title"in e}),aU=function(e,n){return e.find(function(e){return e.statusType===n})},aL=(0,eF.x)({base:{borderRadius:eC.LU.borderRadiusDefault,paddingLeft:6,paddingRight:6,height:24}}),aM=(0,eF.x)({header:[M.wp.width("100%")],headerLeft:[M.wp.align.baseline,M.wp.flex.shrink(1)],started:[M.wp.rowWithGap(6),M.wp.flex.growAndShrink(1),M.wp.justify.end,M.wp.color.foregroundDimmest],cancel:[aL.base,{'&[data-cancelable="true"]':{opacity:1,width:"auto"},'&[data-cancelable="false"]':{opacity:0,width:0}}],stages:[{zIndex:0}],textButton:[M.wp.cursor.pointer,M.wp.reset.button,M.wp.color.foregroundDimmest,M.wp.focusRing,M.wp.hover(M.wp.color.foregroundDefault),{lineHeight:1.2,":not([disabled])":{cursor:"pointer"}}]});function aJ(e){var n,t,r,a=e.onCancel,i=e.isCanceling,s=e.provider,l=(0,tR.A)(),u="azure_container_app"===s||"azure_vm"===s,d=s&&!u,f=(n={variables:{replId:l,provider:null!=s?s:w.Q0q.CloudRun},skip:!d},t=(0,o._)({},aS,n),I.I(aY,t)).data,p=(null==f?void 0:f.getRepl.__typename)==="Repl"?f.getRepl.authorizations.editDeploymentStatus:void 0,h=null!=(r=null==p?void 0:p.isAuthorized)&&r;return d?(0,c.Y)(nF.m_,{isDisabled:h,tooltip:null==p?void 0:p.message,children:(0,c.Y)(eX.$n,{size:"small",text:"Cancel",css:aM.cancel,onClick:a,iconRight:i?(0,c.Y)(tY.A,{}):void 0,disabled:i||!h,"data-cancelable":a?"true":"false"})}):null}var aH=function(e){var n=(0,h.BU)(),t=n.flagSecurityScanInDeployment,r=n.enabled;return(0,c.FD)(G.S,{p:16,pt:12,gap:12,children:[(0,c.FD)(G.S,{css:aM.header,row:!0,gap:8,justify:"space-between",children:[(0,c.FD)(G.S,{css:aM.headerLeft,row:!0,gap:8,children:[(0,c.Y)($.EY,{variant:"subheadDefault",multiline:!1,children:"Publishing"}),e.timeStarted&&e.userDisplayName?(0,c.FD)($.EY,{css:aM.started,multiline:!1,maxLines:1,children:["Started ".concat((0,r$.A)(new Date(e.timeStarted),Date.now(),{addSuffix:!0})," by "),(0,c.Y)("span",{children:e.userDisplayName})]}):null,e.onCancel?(0,c.Y)(aJ,{onCancel:e.onCancel,isCanceling:e.isCanceling,provider:e.provider}):null]}),(0,c.Y)(G.S,{row:!0,gap:6,justify:"end",children:e.onViewBuildLogs?(0,c.FD)("button",{css:aM.textButton,onClick:e.onViewBuildLogs,children:[e.viewBuildLogs?"Hide":"View"," logs"," ",e.viewBuildLogs?(0,c.Y)(nD.A,{}):(0,c.Y)(nT.A,{})]}):null})]}),(0,c.Y)(G.S,{css:aM.stages,grow:!0,row:!0,children:(t&&r?aP:aF).map(function(n){var t=n.id,r=n.title;return(0,c.Y)(aR,{stage:t,totalStagesWithTitle:aP.length,text:r,activeStage:e.activeStage,pausedStage:e.pausedStage,erroredStage:e.erroredStage},t)})})]})},aB=t(84993),aV=t(89914),a$=t(7277),aG=t(24529),az=t(85801),aW=t(48114),aj=t(93019),aq=t(93715),aZ=t(78087),aK=t.n(aZ);function aQ(e){var n=e.infoToPrint.toLowerCase();return n.includes("materialized view")?(0,c.Y)(nm.A,{size:16}):n.includes("primary key")?(0,c.Y)(aW.A,{size:16}):n.includes("schema")?(0,c.Y)(aG.A,{size:16}):n.includes("column")?(0,c.Y)(rw.A,{size:16}):n.includes("table")?(0,c.Y)(aj.A,{size:16}):(0,c.Y)(nR.A,{size:16})}function aX(e){var n=e.infoToPrint,t=n.startsWith("\xb7 ")?n.substring(2):n;return(0,c.FD)(G.S,{row:!0,gap:8,align:"center",shrink:!0,children:[(0,c.Y)(aQ,{infoToPrint:n}),(0,c.Y)($.EY,{shrink:!0,variant:"small",children:t})]})}function a0(e){var n=e.infoToPrint,t=n.length>0;return(0,c.Y)(G.S,{clsx:[aK().stageCodeHeader,t&&aK().warning],row:!0,align:"center",children:n.length>0?(0,c.FD)(G.S,{gap:6,shrink:!0,children:[(0,c.FD)($.EY,{variant:"small",color:"default",children:["Warning, this migration may permanently remove some data from your production database,"," ",(0,c.Y)("a",{target:"_blank",href:"https://docs.replit.com/cloud-services/storage-and-databases/production-databases#understanding-database-changes-and-deployments",clsx:aK().learnMoreLink,children:"learn more"}),":"]}),(0,c.Y)(G.S,{px:8,gap:6,children:n.map(function(e,n){return(0,c.Y)(aX,{infoToPrint:e},n)})})]}):(0,c.FD)($.EY,{variant:"small",color:"default",children:["Migrations are generated based on changes made by the agent in your app,"," ",(0,c.Y)("a",{target:"_blank",href:"https://docs.replit.com/cloud-services/storage-and-databases/production-databases#understanding-database-changes-and-deployments",clsx:aK().learnMoreLink,children:"learn more."})]})})}function a1(){var e=(0,l._)((0,d.useState)(!1),2),n=e[0],t=e[1];return(0,c.FD)(G.S,{clsx:aK().footerMessage,p:8,children:[(0,c.FD)(G.S,{clsx:[aK().footerMessageHeader,n&&aK().isExpanded],row:!0,gap:8,align:"center",justify:"space-between",children:[(0,c.Y)(az.A,{}),(0,c.Y)($.EY,{variant:"small",shrink:!0,children:"You may notice a temporary downtime of your deployment. What's happening?"}),(0,c.Y)(G.S,{row:!0,grow:!0,align:"center",justify:"end",children:(0,c.Y)(a$.J,{open:n,onClick:function(){return t(!n)}})})]}),n?(0,c.FD)(G.S,{px:8,gap:6,children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",shrink:!0,children:[(0,c.Y)(aq.A,{}),(0,c.Y)($.EY,{shrink:!0,variant:"small",children:"Database changes sometimes require stopping your app temporarily to avoid conflicts during the update process"})]}),(0,c.FD)(G.S,{row:!0,gap:8,align:"center",shrink:!0,children:[(0,c.Y)(ts.A,{}),(0,c.Y)($.EY,{shrink:!0,variant:"small",children:"This prevents data loss or corruption that could happen if users were still using the app during the change"})]})]}):null]})}function a2(e){var n=e.infoToPrint,t=e.statementsToExecute,r=e.maybeNonBackwardsCompatible;return(0,c.FD)(G.S,{gap:8,children:[(0,c.FD)(G.S,{clsx:aK().stageCode,gap:4,children:[(0,c.Y)(a0,{infoToPrint:n}),(0,c.Y)(G.S,{p:8,children:(0,c.Y)(aV.A,{code:t.join("\n"),fontSize:12,lineNumbers:!0})})]}),r?(0,c.Y)(a1,{}):null]})}var a3=t(47306),a4=t(66121),a5=t(50420),a7=t(98016),a9=t.n(a7);function a8(e){var n=e.conflictPrompt;if("selectPrompt"===n.$kind){var t=n.result.entity,r=t.name,a=t.count,i=t.tableName;return"createUniqueConstraint"===n.result.entity.type?(0,c.FD)(c.FK,{children:["You're about to add"," ",(0,c.Y)("span",{clsx:a9().conflictPromptOptionHighlight,children:r})," unique constraint to the"," ",(0,c.Y)("span",{clsx:a9().conflictPromptOptionHighlight,children:i})," ","table, which contains"," ",(0,c.Y)("span",{clsx:a9().conflictPromptOptionHighlight,children:a})," ",(0,nY.A)("item",a),". If this statement fails due to any existing data not matching the new constraint, you will receive an error from the database. Do you want to delete all data from"," ",(0,c.Y)("span",{clsx:a9().conflictPromptOptionHighlight,children:i})," ","table first?"]}):null}return(0,c.FD)(c.FK,{children:["Is"," ",(0,c.Y)("span",{clsx:a9().conflictPromptOptionHighlight,children:function(e){switch(e.$kind){case"columnConflictPrompt":return e.result.column.name;case"namedConflictPrompt":return e.result.item.name;case"namedWithSchemaConflictPrompt":var n=e.result.item;return"public"!==n.schema&&n.schema?"".concat(n.schema,".").concat(n.name):n.name;case"schemaConflictPrompt":return e.result.schema.name;default:return""}}(n)})," ",function(e){switch(e.$kind){case"columnConflictPrompt":return"column in ".concat(e.result.tableName," table created or renamed from another column?");case"namedConflictPrompt":case"namedWithSchemaConflictPrompt":return"".concat(e.result.entity," created or renamed from another ").concat(e.result.entity,"?");case"schemaConflictPrompt":return"schema created or renamed from another schema?";default:return""}}(n)]})}function a6(e){var n=e.label,t=e.$kind,r=e.isRename,a=e.entityType;return"selectPrompt"===t?(0,c.Y)($.EY,{multiline:!0,shrink:!0,children:function(e,n){if("createUniqueConstraint"===n)switch(e){case"no":return"No, add the constraint without deleting data";case"yes":return"Yes, delete all data from the table"}return e}(n,a)}):(0,c.FD)(c.FK,{children:[r?(0,c.Y)(a5.A,{}):(0,c.Y)(nI.A,{}),(0,c.Y)($.EY,{multiline:!0,shrink:!0,children:n})]})}function ie(e){var n=e.conflictPrompt,t=e.onSelectConflictPromptOption,r=(0,l._)((0,d.useState)(n.result.options[0]),2),a=r[0],i=r[1],o=(0,l._)((0,d.useState)(!1),2),s=o[0],u=o[1];(0,d.useEffect)(function(){var e=n.result.options;0!==e.length&&(e.find(function(e){return e.id===(null==a?void 0:a.id)})||(i(e[0]),u(!1)))},[n.result.options,null==a?void 0:a.id]);var f=(0,d.useCallback)(function(){return(0,g._)(function(){return(0,y.YH)(this,function(e){return a&&t&&(u(!0),t({$kind:n.$kind,selectedId:a.id})),[2]})})()},[a,t,n.$kind]);return(0,c.FD)(G.S,{gap:12,children:[(0,c.Y)($.EY,{color:"dimmer",children:(0,c.Y)(a8,{conflictPrompt:n})}),(0,c.Y)(a4.z,{name:"conflictPrompt",value:a.id,onChange:function(e){var t=e.target.value,r=n.result.options.find(function(e){return e.id===t});r&&i(r)},children:(0,c.Y)(G.S,{row:!0,gap:8,align:"stretch",wrap:!0,children:n.result.options.map(function(e){return(0,c.FD)(G.S,{row:!0,align:"start",clsx:a9().conflictPromptOption,children:[(0,c.Y)(a4.s,{id:e.id,value:e.id}),(0,c.Y)(a3.J,{htmlFor:e.id,clsx:a9().conflictPromptOptionLabel,children:(0,c.Y)(G.S,{row:!0,gap:4,align:"start",children:(0,c.Y)(a6,{$kind:n.$kind,entityType:"selectPrompt"===n.$kind?n.result.entity.type:void 0,isRename:"isRename"in e?e.isRename:void 0,label:e.label})})})]},e.id)})})}),(0,c.Y)(eX.$n,{text:"Submit",colorway:"primary",size:"small",onClick:f,loading:s,disabled:s||0===n.result.options.length})]})}var it=t(46693);function ir(){return(0,c.Y)(G.S,{gap:8,children:(0,c.Y)(it.g,{text:"How do I test my deployment database?",items:[{text:"Create a deployment preview environment and test your app's functionality with the database changes applied"},{text:"Check that your app still works properly and displays data correctly after the changes"}]})})}var ia=t(70609),ii=t.n(ia);function io(e){var n,t=e.statementError,r=e.onOverwriteDataAndDeploy,a=e.onCancel,i=[{id:"overwrite",text:"Copy your development database schema & data to production."},{id:"cancel",text:"Cancel deployment and retry once your schema conflicts are resolved."}],o=(0,l._)((0,d.useState)(i[1]),2),s=o[0],u=o[1],f=(0,l._)((0,d.useState)(!1),2),p=f[0],h=f[1],m=(0,d.useCallback)(function(){return(0,g._)(function(){return(0,y.YH)(this,function(e){if(!s)return[2];switch(h(!0),s.id){case"cancel":null==a||a();break;case"overwrite":null==r||r()}return[2]})})()},[r,a,s]);return(0,c.FD)(G.S,{gap:8,children:[(0,c.FD)(G.S,{gap:8,children:[(0,c.FD)($.EY,{color:"dimmer",variant:"small",children:["Your database schema changes conflict with existing production data and could not be applied,"," ",(0,c.Y)("a",{target:"_blank",href:"https://docs.replit.com/cloud-services/storage-and-databases/production-databases#understanding-database-changes-and-deployments",clsx:ii().learnMoreLink,children:"learn more."})," ","To resolve this, you can:"]}),(0,c.Y)(a4.z,{name:"validatingDiffStatementConflictOptions",value:null!=(n=null==s?void 0:s.id)?n:"",onChange:function(e){var n=e.target.value,t=i.find(function(e){return e.id===n});t&&u(t)},children:(0,c.Y)(G.S,{row:!0,gap:8,align:"stretch",wrap:!0,children:i.map(function(e){return(0,c.FD)(G.S,{row:!0,align:"start",clsx:ii().option,children:[(0,c.Y)(a4.s,{id:e.id,value:e.id}),(0,c.Y)(a3.J,{htmlFor:e.id,clsx:ii().optionLabel,children:(0,c.Y)(G.S,{row:!0,gap:4,align:"start",children:(0,c.Y)($.EY,{multiline:!0,shrink:!0,variant:"small",children:e.text})})})]},e.id)})})}),(null==s?void 0:s.id)==="overwrite"?(0,c.Y)(it.g,{text:"What does copying your development schema & data to production actually do?",items:[{text:"Replaces your production database with your development database, overwriting any existing production data."},{text:"Useful during early development when iterating on database schema changes with no sensitive production data."},{text:(0,c.FD)(c.FK,{children:["This action cannot be undone, but you can always restore your database,"," ",(0,c.Y)("a",{href:"https://docs.replit.com/cloud-services/storage-and-databases/sql-database#restore-tool",target:"_blank",children:"learn more."})]})}]}):null,(0,c.Y)(eX.$n,{text:(null==s?void 0:s.id)==="overwrite"?"Copy development database and deploy":"Cancel deployment",colorway:"primary",size:"small",onClick:m,loading:p,disabled:p})]}),(0,c.Y)(G.S,{clsx:ii().stageCode,gap:4,children:(0,c.Y)(G.S,{p:8,children:(0,c.Y)(aV.A,{code:t,fontSize:12,lineNumbers:!0})})})]})}function is(e){var n=e.state,t=e.onSelectConflictPromptOption,r=e.onOverwriteDataAndDeploy,a=e.onCancel;switch(n.type){case aB.XB.FoundDiff:break;case aB.XB.GeneratingDiffStatements:switch(n.status){case"paused":var i=n.conflictPrompt;return(0,c.Y)(ie,{conflictPrompt:i,onSelectConflictPromptOption:t});case"completed":var o=n.infoToPrint,s=n.maybeNonBackwardsCompatible,l=n.statementsToExecute;return(0,c.Y)(a2,{infoToPrint:o,statementsToExecute:l,maybeNonBackwardsCompatible:s});default:return null}case aB.XB.ValidatingDiffStatements:switch(n.status){case"paused":var u=n.statementError;return(0,c.Y)(io,{statementError:u,onOverwriteDataAndDeploy:r,onCancel:a});case"completed":return(0,c.Y)(ir,{});default:return null}}}function il(e){var n=e.state,t=e.onSelectConflictPromptOption,r=e.onOverwriteDataAndDeploy,a=e.onCancel;return(0,c.FD)(c.FK,{children:[n.errorMessage?(0,c.Y)(G.S,{pb:6,children:(0,c.Y)(V.N,{text:n.errorMessage,colorway:"warning",icon:(0,c.Y)(nR.A,{})})}):null,(0,c.Y)(is,{state:n,onSelectConflictPromptOption:t,onOverwriteDataAndDeploy:r,onCancel:a})]})}var iu=t(25590);function ic(e){return(0,c.Y)(iu.Ay,(0,s._)((0,o._)({},e),{children:(0,c.Y)("path",{d:"M14.5 3.586c0-.6.448-1.086 1-1.086H19c.552 0 1 .486 1 1.086v16.828c0 .6-.448 1.086-1 1.086h-3.5c-.552 0-1-.486-1-1.086V3.586ZM4 3.586c0-.6.448-1.086 1-1.086h3.5c.552 0 1 .486 1 1.086v16.828c0 .6-.448 1.086-1 1.086H5c-.552 0-1-.486-1-1.086V3.586Z"})}))}var id=t(1774),ip=t.n(id);function ih(e){var n=e.status,t="",r="",a=null;switch(n){case"completed":t=eC.LU.accentPositiveDimmest,r=eC.LU.accentPositiveStrongest,a=(0,c.Y)(ni.A,{});break;case"running":t=eC.LU.accentPrimaryDimmest,r=eC.LU.accentPrimaryStrongest,a=(0,c.Y)(tY.A,{});break;case"paused":t=eC.LU.orangeDimmest,r=eC.LU.orangeStrongest,a=(0,c.Y)(ic,{})}return(0,c.Y)("div",{clsx:ip().stageIcon,style:{background:t,color:r},children:a})}var im=t(11915),iv=t.n(im);function ig(e){var n,t=e.state,r=e.focusedStage,a=e.onApproveAndDeploy,i=e.onCreatePreviewDeploy,o=e.onSelectConflictPromptOption,s=e.onOverwriteDataAndDeploy,u=e.onCancel,f=(t.type===aB.XB.GeneratingDiffStatements||t.type===aB.XB.ValidatingDiffStatements)&&r===t.type,p=(0,l._)((0,d.useState)(f),2),h=p[0],m=p[1];(0,d.useEffect)(function(){m(f)},[f]);var v=(t.type===aB.XB.GeneratingDiffStatements||t.type===aB.XB.ValidatingDiffStatements)&&"running"!==t.status,g=v&&h,b="completed"===t.status;return(0,c.FD)(na.ui,{clsx:iv().stage,elevated:!0,p:8,children:[(0,c.FD)(G.S,{clsx:(n={},(0,A._)(n,iv().stageHeader,g),(0,A._)(n,iv().isExpanded,!b||g),n),row:!0,gap:8,align:"center",justify:"space-between",wrap:!b,shrink:!0,children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",shrink:!0,children:[(0,c.Y)(ih,{status:t.status}),(0,c.Y)($.EY,{color:b?"dimmer":"default",shrink:!0,children:function(e){var n=e.type,t=e.status;switch(n){case aB.XB.FoundDiff:return"Development database changes detected";case aB.XB.GeneratingDiffStatements:switch(t){case aB.Ng.Running:return"Generating database migrations...";case aB.Ng.Completed:return"Generated migrations to apply to production database";case aB.Ng.Paused:return"Detected potential conflicts, please review";case aB.Ng.Failed:return"Failed to generate database migrations";default:return(0,n8.A)(t)}case aB.XB.ValidatingDiffStatements:switch(t){case aB.Ng.Running:return"Validating database migrations...";case aB.Ng.Completed:return"Database migrations validated successfully";case aB.Ng.Paused:return"Migrations failed validation, please review";case aB.Ng.Failed:return"Failed to validate database migrations";default:return(0,n8.A)(t)}default:return(0,n8.A)(n)}}({type:t.type,status:t.status})})]}),(0,c.Y)(a$.i,{state:t,canExpand:v,expandedToggle:h,onApproveAndDeploy:a,onCreatePreviewDeploy:i,setExpandedToggle:m})]}),g?(0,c.Y)(il,{state:t,onSelectConflictPromptOption:o,onOverwriteDataAndDeploy:s,onCancel:u}):null]})}var ib=t(46434),iy=t(56790),iw=t(97172),i_=t(1637);function iS(){var e=(0,T._)(["\n  mutation ValidateDiffStatementsAndPreparePreviewDeploy(\n    $input: CreateHostingPreviewDeployInput!\n  ) {\n    createHostingPreviewDeploy(input: $input) {\n      ... on CreateHostingPreviewDeployResult {\n        preview {\n          id\n          url\n          expiresAt\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return iS=function(){return e},e}function iA(){var e=(0,T._)(["\n  mutation ContinueHostingPreviewDeploy(\n    $input: ContinueHostingPreviewDeployInput!\n  ) {\n    continueHostingPreviewDeploy(input: $input) {\n      ... on ContinueHostingPreviewDeployResult {\n        success\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return iA=function(){return e},e}var ik={},iC=(0,D.J1)(iS()),iY=(0,D.J1)(iA()),iE=t(24522),ix=t(45620),iT=t(16653),iD=(0,eF.x)({self:[M.wp.borderRadius(0,0,4,4),M.wp.overflow("hidden")],text:[M.wp.display.flex,M.wp.py(12),M.wp.px(16)],bottom:[M.wp.borderRadius(0,0,4,4),M.wp.overflow("hidden")]});function iI(e){var n,t,r,a,i,u,f,p,w,_,S,A,k,C,Y,E,x,T,D,I,R,N,O,P,F,U,L,M,J,H,B,V,$,z,W,j=e.provider,q=e.activeStage,Z=e.pausedStage,K=(t=(n=(0,aB.TO)()).state,r=n.dispatch,a=n.getState,i=(0,iy.g)().database,u=(0,iw.GK)().database,f=(0,iw.UK)().database,L=(p=(0,tR.A)(),w=(0,i_.m)(),_=(0,h.g$)(),S=(0,h.AS)(),A=(0,h.cF)(),k=(0,e7.Gx)({secrets:_,replId:p}),C=(0,iw.UK)().database,E=(Y=(0,aB.TO)()).state,x=Y.dispatch,T=Y.getState,I=(0,l._)((D=(0,o._)({},ik,void 0),tm.n(iC,D)),1)[0],N=(0,l._)((R=(0,o._)({},ik,void 0),tm.n(iY,R)),1)[0],P=(O=(0,aB.Kb)(E.stages,aB.XB.ValidatingDiffStatements))&&O.status===aB.Ng.Running&&O.previewId,F=O&&O.status===aB.Ng.Completed&&O.previewId&&O.preview&&"building"===O.preview.status,(0,iE.m)({variables:{input:{previewID:O&&O.previewId?O.previewId:null}},skip:!P&&!F,onData:function(e){var n=e.data.data;if(null==n?void 0:n.getAgentRollbackPreviewStatus){var t=n.getAgentRollbackPreviewStatus;"RollbackPreviewOutput"===t.__typename?"success"===t.status&&t.host?x({type:"SET_PREVIEW_DEPLOY",preview:{status:aB.Sp.Ready,url:"https://".concat(t.host),expiresAt:new Date(Date.now()+72e5).toISOString()}}):"fail"===t.status?x({type:"STAGE_ERROR",stage:aB.XB.ValidatingDiffStatements,errorMessage:"Preview build failed"}):"database-ready"===t.status?O&&"running"===O.status&&O.previewId&&x({type:"COMPLETED",stage:aB.XB.ValidatingDiffStatements}):"migration-error"===t.status?x({type:"MIGRATION_VALIDATION_ERROR",statementError:t.errorMessage||"Statement error occurred"}):"pending"===t.status&&x({type:"SET_PREVIEW_DEPLOY",preview:{status:aB.Sp.Building}}):("NotFoundError"===t.__typename||"UnauthorizedError"===t.__typename||"UserError"===t.__typename||"ServiceUnavailable"===t.__typename)&&x({type:"STAGE_ERROR",stage:aB.XB.ValidatingDiffStatements,errorMessage:t.message||"Failed to build preview"})}},onError:function(){x({type:"STAGE_ERROR",stage:aB.XB.ValidatingDiffStatements,errorMessage:"Failed to monitor preview status"})}}),U={validateDiffStatements:(0,d.useCallback)(function(e){return(0,g._)(function(){var n,t,r,a,i,o,s;return(0,y.YH)(this,function(l){switch(l.label){case 0:if(n=T().stages,!(t=(0,aB.Kb)(n,aB.XB.GeneratingDiffStatements)))return x({type:"STAGE_ERROR",stage:aB.XB.ValidatingDiffStatements,errorMessage:"Cannot validate statements without generating diff statements stage"}),[2];if("completed"!==t.status)return x({type:"STAGE_ERROR",stage:aB.XB.ValidatingDiffStatements,errorMessage:"Cannot validate statements when diff statements stage is not completed"}),[2];if((0,aB.Kb)(n,aB.XB.ValidatingDiffStatements))return x({type:"STAGE_ERROR",stage:aB.XB.ValidatingDiffStatements,errorMessage:"Cannot validate statements, stage already exists"}),[2];x({type:"SET_STAGE",stageState:{type:aB.XB.ValidatingDiffStatements,status:aB.Ng.Running}}),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,k()];case 2:return r=l.sent(),[4,(0,h.qM)({deploymentTimeCreated:S,buildTimeCreated:null==A?void 0:A.timeCreated,ignoreSecretsUntil:ne.dz,replId:p,apolloClient:w})];case 3:return a=l.sent(),[4,I({variables:{input:{replId:p,envVars:(0,h.Xp)({currentBuildVars:null==A?void 0:A.envVars,workspaceSecrets:r,ignoredSecretKeys:a})||[],neonProjectId:(null==C?void 0:C.projectId)||void 0,sqlStatementsToExecute:e}}})];case 4:return(null==(i=l.sent().data)?void 0:i.createHostingPreviewDeploy)&&("CreateHostingPreviewDeployResult"===i.createHostingPreviewDeploy.__typename?(o=i.createHostingPreviewDeploy.preview,x({type:"SET_STAGE",stageState:{type:aB.XB.ValidatingDiffStatements,status:aB.Ng.Running,previewId:o.id}})):x({type:"STAGE_ERROR",stage:aB.XB.ValidatingDiffStatements,errorMessage:i.createHostingPreviewDeploy.message||"Failed to create preview"})),[3,6];case 5:return s=l.sent(),x({type:"STAGE_ERROR",stage:aB.XB.ValidatingDiffStatements,errorMessage:(0,rl._)(s,Error)?s.message:"Failed to create preview deploy"}),[3,6];case 6:return[2]}})})()},[p,w,S,A,C,T,k,x,I]),createPreviewDeploy:(0,d.useCallback)(function(e){return(0,g._)(function(){var n,t;return(0,y.YH)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),x({type:"SET_PREVIEW_DEPLOY",preview:{status:aB.Sp.Building}}),[4,N({variables:{input:{previewId:e}}})];case 1:if((null==(n=r.sent().data)?void 0:n.continueHostingPreviewDeploy)&&"ContinueHostingPreviewDeployResult"!==n.continueHostingPreviewDeploy.__typename)return x({type:"SET_PREVIEW_DEPLOY",preview:{status:aB.Sp.Failed}}),x({type:"STAGE_ERROR",stage:aB.XB.ValidatingDiffStatements,errorMessage:n.continueHostingPreviewDeploy.message||"Failed to create preview"}),[2];return[3,3];case 2:return t=r.sent(),x({type:"SET_PREVIEW_DEPLOY",preview:{status:aB.Sp.Failed}}),x({type:"STAGE_ERROR",stage:aB.XB.ValidatingDiffStatements,errorMessage:(0,rl._)(t,Error)?t.message:"Failed to create preview deploy"}),[3,3];case 3:return[2]}})})()},[N,x])}).validateDiffStatements,M=U.createPreviewDeploy,J=(0,h.Tp)().approveAndDeployDatabaseChanges,H=(0,m.iQ)(),B=(0,d.useRef)(null),V=(0,d.useCallback)(function(e){B.current&&B.current.write(e)},[]),(0,ix.b)(function(e,n){var t=n.signal;return(0,g._)(function(){var n,a,l,c,d,p,h,m,v,g,b;return(0,y.YH)(this,function(y){switch(y.label){case 0:if(!u&&!i)return[2];if(r({type:"SET_STAGE",stageState:{type:aB.XB.GeneratingDiffStatements,status:aB.Ng.Running}}),!(n=i?i.connectionString:null==u?void 0:u.connectionString))throw Error("Development database connection string not found.");l=(a=e.prepareDatabaseMigrations.generateDiffStatements.stream({sourceConnectionString:n,targetConnectionString:null==f?void 0:f.connectionString},{signal:t})).resReadable,B.current=c=a.reqWritable,d=!1,p=!1,y.label=1;case 1:y.trys.push([1,6,7,12]),m=(0,ib._)(l),y.label=2;case 2:return[4,m.next()];case 3:if(!(d=!(v=y.sent()).done))return[3,5];if(!(g=v.value).ok){if("UNEXPECTED_DISCONNECT"===g.payload.code||"CANCEL"===g.payload.code)return[2];throw Error("[".concat(g.payload.code,"] ").concat(g.payload.message))}switch(g.payload.$kind){case"none":r({type:"COMPLETED",stage:aB.XB.GeneratingDiffStatements});break;case"diff":r((0,s._)((0,o._)({},g.payload.result),{type:"COMPLETED",stage:aB.XB.GeneratingDiffStatements})),L(g.payload.result.statementsToExecute);break;case"columnConflictPrompt":case"namedConflictPrompt":case"namedWithSchemaConflictPrompt":case"schemaConflictPrompt":case"selectPrompt":r({type:"CONFLICT_PROMPT",conflictPrompt:g.payload});break;default:(0,n8.A)(g.payload)}y.label=4;case 4:return d=!1,[3,2];case 5:return[3,12];case 6:return b=y.sent(),p=!0,h=b,[3,12];case 7:if(y.trys.push([7,,10,11]),!(d&&null!=m.return))return[3,9];return[4,m.return()];case 8:y.sent(),y.label=9;case 9:return[3,11];case 10:if(p)throw h;return[7];case 11:return[7];case 12:return c.close(),[2]}})})()},[r,i,u,f,L]),$=(0,d.useCallback)(function(){var e=a(),n=e.id,t=e.stages,r=(0,aB.Kb)(t,aB.XB.GeneratingDiffStatements);if(!r||r.status!==aB.Ng.Completed)throw Error("Cannot approve and deploy database changes, stage is not completed");var i=r.statementsToExecute;if(!i||0===i.length)throw Error("Could not approve and deploy, no statements to execute");J({prepareDatabaseStateId:n,sqlStatementsToExecute:i})},[J,a]),z=(0,d.useCallback)(function(){return(0,g._)(function(){return(0,y.YH)(this,function(e){return J({prepareDatabaseStateId:a().id,pushDevelopmentDatabaseObjects:"overwriteData"}),[2]})})()},[J,a]),W=(0,d.useCallback)(function(){var e;a().id&&(r({type:"CANCEL"}),H(v.d.Ready),null==(e=B.current)||e.close())},[r,a,H]),{state:t,getState:a,selectConflictPromptOption:V,createPreviewDeploy:M,approveAndDeploy:$,overwriteDataAndDeploy:z,cancelPreparingDatabase:W}),Q=K.state,X=K.selectConflictPromptOption,ee=K.createPreviewDeploy,en=K.approveAndDeploy,et=K.overwriteDataAndDeploy,er=K.cancelPreparingDatabase;return(0,c.FD)(c.FK,{children:[(0,c.Y)(aH,{activeStage:q.id,pausedStage:Z,provider:j,onCancel:er}),(0,c.FD)(G.S,{css:iD.bottom,children:[(0,c.Y)(iT.a,{}),(0,c.Y)(G.S,{css:iD.self,children:(0,c.Y)(G.S,{css:iD.text,children:(0,c.Y)(G.S,{gap:8,wrap:!0,children:(0,b._)(Q.stages).map(function(e,n){var t=(0,l._)(e,2),r=(t[0],t[1]);return(0,c.Y)(ig,{state:r,focusedStage:Q.focusedStage,onSelectConflictPromptOption:X,onCreatePreviewDeploy:ee,onApproveAndDeploy:en,onOverwriteDataAndDeploy:et,onCancel:er},n)})})})})]})]})}var iR=[M.wp.borderRadius(),{border:"1px solid ".concat(eC.LU.outlineDimmer)}],iN=(0,eF.x)({container:iR,bottom:[M.wp.borderRadius(0,0,4,4),M.wp.overflow("hidden")],logsOpen:[M.wp.overflow("hidden"),M.wp.height("auto")],logsClosed:[M.wp.overflow("hidden"),M.wp.height(0)],xtermContainer:[M.wp.display.flex,M.wp.pt(12),M.wp.pl(16),M.wp.overflow("hidden")],xterm:[M.wp.width("100%"),M.wp.maxWidth("100%"),M.wp.height(340)],divider:M.wp.backgroundColor.outlineDimmer}),iO=function(e){var n=(0,m.uS)();return n===v.d.Preparing?(0,c.Y)(G.S,{css:iN.container,children:(0,c.Y)(aH,{})}):n===v.d.PreparingDatabase?(0,c.Y)(iF,{}):(0,c.Y)(iU,(0,o._)({},e))},iP=function(){var e=(0,h.BU)(),n=e.flagSecurityScanInDeployment,t=e.enabled;return(0,d.useMemo)(function(){return n&&t?aN:aO},[n,t])};function iF(){var e=aU(iP(),w.nHS.Pending),n=(0,rt.j)()?null==e?void 0:e.id:void 0,t=(0,h.cF)();return e?(0,c.Y)(G.S,{css:iN.container,children:(0,c.Y)(iI,{provider:null==t?void 0:t.provider,activeStage:e,pausedStage:n})}):null}var iU=function(e){var n,t,r,a,i,s,u,f,p,m,v,_,S,A=e.initialBuild,k=e.viewBuildLogsOnLoad,C=e.onViewLogs,Y=e.onCanceled,E=e.onError,x=e.openFile,T=e.openPane,D=(0,h.UM)(),R=(0,h.tq)(),N=iP(),O=R?{id:R.id,status:R.status,provider:R.provider,timeStarted:R.timeCreated,userDisplayName:R.user.displayName,debugSummary:R.debugSummary}:void 0,P=(0,d.useRef)(A||O),F=(n={skip:!(null==(r=P.current)?void 0:r.id),variables:{input:{buildId:null!=(S=null==(a=P.current)?void 0:a.id)?S:""}},fetchPolicy:"network-only",ssr:!1,onCompleted:function(e){if(null==e?void 0:e.hostingBuildDeployActionHistory)switch(e.hostingBuildDeployActionHistory.__typename){case"NotFoundError":break;case"UnauthorizedError":E(e.hostingBuildDeployActionHistory.message);break;case"HostingBuildDeployActionHistoryResults":var n=e.hostingBuildDeployActionHistory.results;if(n&&n.length>0){var t=[],r=[],a=!0,i=!1,o=void 0;try{for(var s,l=n[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;switch(u.__typename){case"HostingBuildDeployLogAction":t.push(u.log);break;case"HostingBuildDeployStatusAction":r.push(u)}}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}ei({type:"setHistory",payload:t});var c=!0,d=!1,f=void 0;try{for(var p,h=r[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=p.value;eo(m.status,m.debugSummary)}}catch(e){d=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(d)throw f}}}break;default:E("Unexpected typename.")}},onError:function(e){E(e.message)}},t=(0,o._)({},re,n),I.I(rn,t)),U=F.loading,L=F.refetch;(0,h.kW)(function(e){switch(e.__typename){case"HostingBuildDeployLogAction":ei({type:"addLog",payload:e.log});break;case"HostingBuildDeployStatusAction":eo(e.status,e.debugSummary)}});var M=(0,l._)((0,d.useState)(P.current?null==(i=aU(N,P.current.status))?void 0:i.id:void 0),2),J=M[0],H=M[1],B=(0,l._)((0,d.useState)((null==(s=P.current)?void 0:s.status)==="failed"?null==(u=aU(N,null==(f=P.current)?void 0:f.status))?void 0:u.id:void 0),2),V=B[0],$=B[1],z=(0,l._)((0,d.useState)((null==(p=P.current)?void 0:p.debugSummary)||void 0),2),W=z[0],j=z[1],q=(0,l._)((0,d.useState)(!1),2),Z=q[0],K=q[1],Q=(0,h.om)(),X=(0,l._)((0,rr.A)({openFile:x,listFiles:Q.listFiles}),2),ee=X[0],en=X[1],et=(0,ra.V)(),er=(0,l._)((0,d.useReducer)(function(e,n){switch(n.type){case"setHistory":return ee&&ee.clear(),{allLogs:(0,b._)(n.payload).concat((0,b._)(e.allLogs))};case"addLog":return{allLogs:(0,b._)(e.allLogs).concat([n.payload]),recentLogs:[n.payload]};case"refetchLogs":return ee&&ee.clear(),U||L(),{allLogs:[]}}},{allLogs:[]}),2),ea=er[0],ei=er[1],eo=function(e,n){if(e===w.nHS.Failed)$(J),n&&j(n);else{var t=aU(N,e);if(!t)return;H(t.id)}},es=(0,l._)((0,d.useState)(k||!1),2),el=es[0],eu=es[1],ec=function(){eu(!el),el||(0,eO.Ae)({context:"deploy_progress_logs"})};(0,d.useEffect)(function(){(0,eO.Ae)({context:"deploy_progress"})},[]),(0,d.useEffect)(function(){var e;(null==(e=P.current)?void 0:e.id)&&R&&R.id!==P.current.id&&(P.current={id:R.id,status:R.status,provider:R.provider,timeStarted:R.timeCreated,userDisplayName:R.user.displayName,debugSummary:R.debugSummary},H(void 0),$(void 0),ei({type:"refetchLogs"}))},[R,null==(m=P.current)?void 0:m.id,L]),(0,d.useEffect)(function(){var e;void 0!==J&&(null==(e=P.current)?void 0:e.status)==="failed"&&$(J)},[J,null==(v=P.current)?void 0:v.status]),(0,d.useEffect)(function(){if(ee){if(ea.recentLogs)return void ea.recentLogs.forEach(function(e){return ee.write(e)});ea.allLogs.forEach(function(e){return ee.write(e)})}},[ea,ee]);var ed=null===(_=N.find(function(e){return e.id===J}))||void 0===_?void 0:_.statusType,ef=ed!==w.nHS.Success&&!V;return P.current?(0,c.FD)(G.S,{css:iN.container,children:[(0,c.Y)(aH,{onCancel:ef?function(){return(0,g._)(function(){return(0,y.YH)(this,function(e){switch(e.label){case 0:return K(!0),[4,D()];case 1:return e.sent(),Y(),[2]}})})()}:void 0,isCanceling:Z,onViewBuildLogs:ec,viewBuildLogs:el,provider:P.current.provider,timeStarted:P.current.timeStarted,userDisplayName:P.current.userDisplayName,activeStage:J,erroredStage:V}),(0,c.FD)(G.S,{css:iN.bottom,children:[(0,c.FD)(G.S,{css:el?iN.logsOpen:iN.logsClosed,children:[(0,c.Y)(iT.a,{css:iN.divider}),(0,c.Y)(G.S,{css:iN.xtermContainer,style:{backgroundColor:null==et?void 0:et.background},children:(0,c.Y)(G.D.div,{css:iN.xterm,ref:en})})]}),V&&ed?(0,c.FD)(c.FK,{children:[(0,c.Y)(iT.a,{css:iN.divider}),(0,c.Y)(rP,{currentStatus:ed,provider:P.current.provider,debugSummary:W,logs:ea.allLogs,viewBuildLogs:el,openFile:x,openPane:T,onViewBuildLogs:ec,onViewApplicationLogs:C})]}):null]})]}):null},iL=t(21814),iM=t(28861),iJ=function(e){return e.Current="current",e}(iJ||{}),iH=(0,A._)({},"current",{icon:(0,c.Y)(function(e){var n=e.color;return(0,c.Y)(G.S,{css:[{textTransform:"capitalize"}],align:"center",row:!0,gap:8,children:(0,c.Y)(G.S,{tag:"span",css:[M.wp.width("8px"),M.wp.height("8px"),M.wp.borderRadius("full"),{backgroundColor:n,boxShadow:"0 0 12px ".concat(n)}]})})},{color:eC.LU.blueStronger}),text:"Current deployment"}),iB=G.D.div,iV=function(e){var n=e.activityLogItem.type,t=(0,l._)((0,d.useState)(!1),2),r=t[0],a=t[1],i=(0,l._)((0,d.useState)(!1),2),o=i[0],s=i[1],u=(0,d.useRef)(!1);(0,d.useEffect)(function(){u.current=!0;var e=setTimeout(function(){s(r)},200);return function(){clearTimeout(e)}},[r]);var f=n in iH&&iH[n];if(!f)return null;var p=f.icon,h=f.text;return(0,c.Y)(G.S,{p:8,onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},children:(0,c.FD)(iM.A,{isOpen:o,onClickOutside:function(){return s(!1)},padding:8,children:[(0,c.Y)(iB,{css:M.wp.cursor.pointer,children:p}),(0,c.Y)(G.S,{css:[M.wp.maxWidth(240)],children:(0,c.Y)($.EY,{children:h})})]})})},i$=t(82992),iG=(0,eF.x)({title:[M.wp.fontSize(24),M.wp.pt(32)],subtitle:[M.wp.pt(6)],accordionContainer:[M.wp.pt(24)],accordion:[M.wp.backgroundColor.backgroundHigher,M.wp.borderRadius(6)],accordionItem:[M.wp.px(8),M.wp.py(2),M.wp.rowWithGap(8),M.wp.align.center],tableContainer:[M.wp.backgroundColor.backgroundDefault,M.wp.border({color:eC.LU.backgroundHigher}),M.wp.borderRadius(0,0,6,6),M.wp.px(12),M.wp.pb(6)],changedSecretsDisclaimer:[M.wp.py(8)],table:[M.wp.width("100%"),{".tr":{display:"flex",width:"100%",flexDirection:"row"},".th":{flexDirection:"row",borderBottom:"1px solid ".concat(eC.LU.outlineDimmest),color:eC.LU.foregroundDimmer},".td":{flexDirection:"row"}}],cell:[M.wp.fontWeight.normal,M.wp.fontSize(eC.LU.fontSizeDefault),M.wp.py(8),M.wp.display.flex,M.wp.flex.row,M.wp.align.center,M.wp.justify.spaceBetween],secretValue:[M.wp.pl(4),M.wp.color.foregroundDefault],noValue:[M.wp.pl(4),M.wp.color.foregroundDimmest],shortId:[M.wp.display.inlineBlock,M.wp.py(0),M.wp.borderRadius(4)],longId:[M.wp.maxWidth(260)]}),iz=function(e){var n=e.buildSecret,t=e.shortSecretLength,r=n.slice(0,void 0===t?8:t),a=(0,l._)((0,d.useState)(!1),2),i=a[0],o=a[1],s=(0,l._)((0,d.useState)(!1),2),u=s[0],f=s[1],p=(0,d.useRef)(!1);return((0,d.useEffect)(function(){p.current=!0;var e=setTimeout(function(){f(i)},200);return function(){clearTimeout(e)}},[i]),r.length===n.length)?(0,c.Y)("span",{children:r}):(0,c.Y)("span",{onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:(0,c.FD)(iM.A,{isOpen:u,onClickOutside:function(){return f(!1)},padding:8,children:[(0,c.FD)("span",{css:iG.shortId,children:[r,"..."]}),(0,c.Y)(G.S,{css:iG.longId,children:(0,c.Y)($.EY,{variant:"small",children:n})})]})})};function iW(e){var n=e.secretKey,t=e.build1Secret,r=e.build2Secret,a=e.hideSecret,i=e.selectedSecretsMap,o=e.updateSecretsMap,s=(0,l._)((0,d.useState)(i.get(n)),2),u=s[0],f=s[1],p=function(e){var t=e.buildSecret;return(0,c.Y)("td",{className:"td",children:(0,c.FD)(G.S,{css:iG.cell,style:{justifyContent:"start"},children:[(0,c.Y)(a4.s,{id:n,value:null!=t?t:"",checked:u===t,onChange:function(){f(t),o({key:n,value:t})}}),t?(0,c.Y)("span",{css:iG.secretValue,children:a?"••••••••":(0,c.Y)(iz,{buildSecret:t})}):(0,c.Y)("span",{css:iG.noValue,children:"No Value"})]})})};return(0,c.FD)("tr",{children:[(0,c.Y)("td",{className:"td",children:(0,c.Y)(G.S,{css:iG.cell,className:"cell",children:n})}),(0,c.Y)(p,{buildSecret:t}),(0,c.Y)(p,{buildSecret:r})]})}var ij=function(e){var n=e.secretKey,t=e.secretValue,r=e.hideSecret;return(0,c.FD)("tr",{children:[(0,c.Y)("td",{className:"td",children:(0,c.Y)(G.S,{css:iG.cell,className:"cell",children:n})}),(0,c.Y)("td",{className:"td",children:(0,c.Y)("span",{css:iG.cell,className:"cell",children:r?"••••••••••••••••••••••••":(0,c.Y)(iz,{buildSecret:t,shortSecretLength:20})})})]})};let iq=function(e){var n=e.currentBuild,t=e.build,r=e.selectedSecretsMap,a=e.updateSecretsMap,i=(0,l._)((0,d.useState)(!1),2),o=i[0],s=i[1],u=(0,l._)((0,d.useState)(!1),2),f=u[0],p=u[1],h=(0,l._)((0,d.useState)(!0),2),m=h[0],v=h[1],g=(0,l._)((0,d.useState)(!0),2),b=g[0],y=g[1],w=(0,l._)((0,d.useState)(),2),_=w[0],S=w[1];return((0,d.useEffect)(function(){var e,r,i,o,s,l,u,c,d,f=(r=(e={build1Secrets:n.envVars,build2Secrets:t.envVars}).build1Secrets,i=e.build2Secrets,o=new Map,s=new Map,l=new Map,u=new Map,c=new Set,d=new Map,r.forEach(function(e){l.set(e.name,e.value),c.add(e.name)}),i.forEach(function(e){u.set(e.name,e.value),c.add(e.name)}),c.forEach(function(e){var n=l.get(e)||void 0,t=u.get(e)||void 0;n===t?n&&(o.set(e,n),d.set(e,n)):(s.set(e,{build1Value:n,build2Value:t}),d.set(e,n))}),{unchangedSecrets:o,changedSecrets:s,defaultSelectedMap:d});f.defaultSelectedMap.forEach(function(e,n){a({key:n,value:e})}),S(f)},[t.envVars,n.envVars,a]),_&&(0!==_.unchangedSecrets.size||0!==_.changedSecrets.size))?(0,c.FD)(c.FK,{children:[(0,c.Y)(G.S,{css:iG.title,children:"Review Secrets"}),(0,c.Y)($.EY,{css:iG.subtitle,children:"Manage which secrets you would like to preserve from your production deployment or from your rollback target."}),_.changedSecrets.size>0?(0,c.Y)(G.S,{css:iG.accordionContainer,children:(0,c.Y)(n0.A,{headerContent:(0,c.FD)(G.S,{css:iG.accordionItem,children:[(0,c.Y)(nR.A,{color:eC.LU.yellowStronger}),_.changedSecrets.size,1===_.changedSecrets.size?" secret is ":" secrets are ","different across deployments"]}),expanded:f,onClick:function(){return p(!f)},css:iG.accordion,children:(0,c.FD)(G.S,{css:iG.tableContainer,children:[(0,c.Y)($.EY,{css:iG.changedSecretsDisclaimer,children:"Select secret values from either your production environment or rollback environment to copy over in your rollback."}),(0,c.FD)("table",{css:iG.table,children:[(0,c.FD)("tr",{children:[(0,c.Y)("th",{className:"th",style:{width:"40%"},children:(0,c.Y)(G.S,{css:iG.cell,children:"Key"})}),(0,c.Y)("th",{className:"th",style:{width:"30%"},children:(0,c.Y)(G.S,{css:iG.cell,children:"Production"})}),(0,c.Y)("th",{className:"th",style:{width:"30%"},children:(0,c.FD)(G.S,{css:iG.cell,children:["Rollback Build",(0,c.Y)(eY.K0,{alt:b?"Reveal Values":"Hide Values",onClick:function(){y(!b)},children:b?(0,c.Y)(nv.A,{}):(0,c.Y)(nm.A,{})})]})})]}),Array.from(_.changedSecrets.entries()).map(function(e){var n=(0,l._)(e,2),t=n[0],i=n[1];return(0,c.Y)(iW,{secretKey:t,build1Secret:i.build1Value,build2Secret:i.build2Value,hideSecret:b,selectedSecretsMap:r,updateSecretsMap:a},t)})]})]})})}):null,_.unchangedSecrets.size>0?(0,c.Y)(G.S,{css:iG.accordionContainer,children:(0,c.Y)(n0.A,{headerContent:(0,c.FD)(G.S,{css:iG.accordionItem,children:[(0,c.Y)(ni.A,{color:eC.LU.accentPositiveStronger}),_.unchangedSecrets.size,1===_.unchangedSecrets.size?" secret is ":" secrets are ","shared across deployments"]}),expanded:o,onClick:function(){return s(!o)},css:iG.accordion,children:(0,c.Y)(G.S,{css:iG.tableContainer,children:(0,c.FD)("table",{css:iG.table,children:[(0,c.FD)("tr",{children:[(0,c.Y)("th",{className:"th",style:{width:"40%"},children:(0,c.Y)(G.S,{css:iG.cell,children:"Key"})}),(0,c.Y)("th",{className:"th",style:{width:"60%"},children:(0,c.FD)(G.S,{css:iG.cell,children:["Rollback Build",(0,c.Y)(eY.K0,{alt:m?"Reveal Values":"Hide Values",onClick:function(){v(!m)},children:m?(0,c.Y)(nv.A,{}):(0,c.Y)(nm.A,{})})]})})]}),Array.from(_.unchangedSecrets.entries()).map(function(e,n){var t=(0,l._)(e,2),r=t[0],a=t[1];return(0,c.Y)(ij,{secretKey:r,secretValue:a,hideSecret:m},n)})]})})})}):null]}):null};var iZ=t(61980),iK=t(30375),iQ=t(65252),iX=t(31051),i0=t(32092),i1=t(33759),i2=t(13298),i3=t(56374),i4=t(74286);function i5(e){var n=e.type,t=e.view,r=e.provider,a=e.onViewBuildLogs,i=e.openFile,o=e.openPane,s=e.onClickRollback,l=(0,tR.A)();return(0,c.Y)(ou,{replId:l,type:void 0===n?"default":n,view:t,provider:r,onSelect:a,openFile:i,openPane:o,onClickRollback:s})}var i7=aN.filter(function(e){return"title"in e}),i9=(0,eF.x)({root:[{zIndex:0}]});function i8(e){var n=e.activeStage,t=e.erroredStage;return(0,c.Y)(G.S,{css:i9.root,px:8,pb:8,row:!0,children:i7.map(function(e){return(0,c.Y)(aR,{stage:e.id,text:e.title,totalStagesWithTitle:i7.length,activeStage:n,erroredStage:t},e.id)})})}var i6=(0,eF.x)({root:[M.wp.height("100%")],divider:[{marginLeft:8,marginRight:8,borderBottom:"1px solid "+eC.LU.outlineDimmest}],name:[M.wp.color.foregroundDefault,M.wp.fontWeight.medium],content:[M.wp.position.relative],loading:[M.wp.coverContainer,M.wp.center],error:[M.wp.m(8),M.wp.borderRadius(8),M.wp.overflow("hidden")],xterm:[M.wp.coverContainer,{overflow:"hidden",borderBottomLeftRadius:8,borderBottomRightRadius:8,"& > div":[M.wp.coverContainer,M.wp.p(8)]}]}),oe=(0,eF.x)({root:[nZ.R1.maxWidth],title:[M.wp.fontSize(24),M.wp.pt(8)],subheader:[M.wp.fontSize(14)],content:[M.wp.position.relative],prodToTargetContainer:[{b:{display:"contents",fontWeight:500}}],prodStatusDot:[M.wp.width(12),M.wp.align.center],buildContainer:[M.wp.borderRadius(),{outline:"1px solid ".concat(eC.LU.outlineDimmer)},M.wp.backgroundColor.outlineDimmest,M.wp.width("45%"),M.wp.height("100%")],buildContainerTitle:[M.wp.fontSize(16),M.wp.align.center],buildContainerSubTitle:[M.wp.color.foregroundDimmer]});function on(e){var n=e.build,t=e.isCurrentBuild,r=Date.now(),a=(0,r$.A)(new Date(n.timeCreated),r,{addSuffix:!0}),i=t?(0,c.Y)(G.S,{css:oe.prodStatusDot,children:(0,c.Y)(iZ.$,{status:n.status})}):(0,c.Y)(i4.A,{color:eC.LU.outlineStrongest,size:12});return(0,c.FD)(G.S,{css:oe.buildContainer,py:12,px:16,gap:8,children:[(0,c.FD)(G.S,{css:oe.buildContainerTitle,row:!0,gap:6,children:[i,t?"Production":n.id.slice(0,8)]}),(0,c.FD)(G.S,{css:oe.buildContainerSubTitle,row:!0,gap:6,align:"center",children:[(0,c.Y)(iX.e,{src:n.user.image||null,size:12,username:n.user.username||"",fullName:n.user.fullName||""}),(0,c.Y)("b",{children:" "+n.user.displayName})," deployed"," "+a]})]})}function ot(e){var n=e.build,t=e.onBack,r=e.onClickRollback,a=e.onError,i=(0,h.cF)(),o=(0,l._)((0,d.useState)(new Map),2),s=o[0],u=o[1],f=(0,iK.a)();return i?(0,c.FD)(G.S,{css:oe.root,pt:12,pb:16,children:[(0,c.Y)(G.S,{pt:8,pl:8,row:!0,gap:8,align:"center",children:(0,c.Y)(eY.K0,{alt:"Back to timeline",onClick:function(){return t()},children:(0,c.Y)(i1.A,{})})}),(0,c.FD)(G.S,{css:oe.content,grow:!0,shrink:!0,px:8,children:[(0,c.Y)(G.S,{css:oe.title,children:"Instant Rollback"}),(0,c.Y)(G.S,{css:oe.subheader,pt:12,children:"Replace your current production with a previously successful deployment."}),(0,c.FD)(G.S,{css:oe.prodToTargetContainer,pt:32,children:["Rolling back from ",(0,c.Y)("b",{children:"production"})," to the following"," ",(0,c.Y)("b",{children:"rollback target"}),":",(0,c.FD)(G.S,{grow:!0,shrink:!0,align:"center",justify:"space-between",pt:16,row:!0,gap:8,children:[(0,c.Y)(on,{build:i,isCurrentBuild:!0}),(0,c.Y)(i2.A,{}),(0,c.Y)(on,{build:n,isCurrentBuild:!1})]})]}),f?null:(0,c.Y)(iq,{build:n,currentBuild:i,updateSecretsMap:function(e){var n=e.key,t=e.value;u(s.set(n,t))},selectedSecretsMap:s}),(0,c.Y)(G.S,{pt:24,children:(0,c.Y)(eX.$n,{text:"Confirm Rollback",iconLeft:(0,c.Y)(i0.H,{}),onClick:function(){var e=[];s.forEach(function(n,t){n&&e.push({name:t,value:n})}),r(e),t()},colorway:"primary"})})]})]}):(a("This deployment does not have a current build to rollback from"),null)}function or(e){var n=e.build,t=e.onBack,r=e.fs,a=e.openFile,i=e.openPane,o=e.onViewAppLogs,s=(0,l._)((0,rr.A)({openFile:a,listFiles:r.listFiles}),2),u=s[0],f=s[1],p=(0,ez.XH)({variables:{input:{buildId:n.id}},ssr:!1,fetchPolicy:"cache-and-network"}),h=p.data,m=p.loading,v=(0,d.useMemo)(function(){var e=[],n=h&&"HostingBuildDeployActionHistoryResults"===h.hostingBuildDeployActionHistory.__typename?h.hostingBuildDeployActionHistory.results:null;if(n){var t=void 0,r=void 0,a=void 0,i=!0,o=!1,s=void 0;try{for(var l,u,c=n[Symbol.iterator]();!(i=(u=c.next()).done);i=!0)!function(){var n=u.value;if("HostingBuildDeployLogAction"===n.__typename)return e.push(n.log);aN.some(function(e){return e.statusType===n.status})&&(t=n.status),n.status===w.nHS.Failed&&(r=t)}()}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}var d=t?null==(l=aU(aN,t))?void 0:l.id:void 0;return r&&(a=d),{logs:e,activeStage:d,erroredStage:a,erroredStatus:r}}},[h]);return(0,d.useEffect)(function(){u&&v&&u.write(v.logs.join(""))},[u,v]),(0,c.FD)(G.S,{css:i6.root,gap:8,children:[(0,c.FD)(G.S,{pt:8,px:8,row:!0,gap:8,align:"center",children:[(0,c.Y)(eY.K0,{alt:"Back to timeline",onClick:function(){return t()},children:(0,c.Y)(i1.A,{})}),(0,c.Y)(G.S,{children:(0,c.FD)($.EY,{color:"dimmer",multiline:!1,children:[(0,c.Y)("span",{css:i6.name,children:n.user.displayName+" "}),(0,iL.f)(n.status)]})}),(0,c.Y)(i$.G4,{build:n})]}),v||m?(0,c.FD)(c.FK,{children:[(null==v?void 0:v.erroredStatus)?(0,c.Y)(G.S,{css:i6.error,children:(0,c.Y)(rF,{currentStatus:v.erroredStatus,provider:n.provider,debugSummary:n.debugSummary,openFile:a,openPane:i,onViewApplicationLogs:o})}):null,(0,c.Y)(i8,{activeStage:null==v?void 0:v.activeStage,erroredStage:null==v?void 0:v.erroredStage}),(0,c.Y)(G.S,{css:i6.divider}),(0,c.FD)(na.ui,{css:i6.content,grow:!0,shrink:!0,p:8,children:[(0,c.Y)(G.S,{css:i6.xterm,innerRef:f}),m||!u?(0,c.Y)(G.S,{css:i6.loading,children:(0,c.Y)(tY.A,{color:eC.LU.white,size:24})}):null]})]}):(0,c.Y)(rV,{provider:n.provider,openFile:a})]})}var oa=(0,eF.x)({item:M.wp.rowWithGap(12),past:{":last-of-type":{"[data-timeline-line]":{display:"none"}}},future:{":last-of-type":{"[data-timeline-line]":{bottom:-19}}}}),oi=(0,eF.x)({empty:[M.wp.center,M.wp.align.stretch],items:[],loadMore:[M.wp.center],item:[M.wp.color.foregroundDimmest,M.wp.hover(M.wp.color.foregroundDefault),{"&:hover .itemRight":{display:"flex"},"&:hover .itemLine":{display:"flex"}}],itemMainText:[(0,A._)({},M.kL.min(640),M.wp.flex.growAndShrink(0))],itemLine:[M.wp.display.none,(0,A._)({},M.kL.min(640),[M.wp.flex.growAndShrink(1),M.wp.border({color:eC.LU.outlineDimmest,direction:"top"})])],itemRight:[M.wp.textAlign.right,M.wp.display.none],itemPast:[oa.item,oa.past],itemFuture:[oa.item,oa.future],disabledLog:{cursor:"not-allowed"}}),oo=(0,eF.x)({top:M.wp.rowWithGap(12),button:[M.wp.reset.button,M.wp.cursor.pointer,M.wp.borderRadius(8),M.wp.display.flex,M.wp.rowWithGap(6),M.wp.align.center,M.wp.px(8),M.wp.color.foregroundDimmer,M.wp.height(32),M.wp.hover(M.wp.color.foregroundDefault),{'&[data-highlight="true"]':[M.wp.color.accentNegativeStrongest,M.wp.backgroundColor.accentNegativeDimmest,M.wp.border({color:eC.LU.accentNegativeDimmer})]}],info:[M.wp.flex.growAndShrink(1),{'&[data-open="false"]':M.wp.pb(6)}],buttonContent:[M.wp.flex.growAndShrink(1),M.wp.rowWithGap(8),M.wp.align.center],failedBuildList:M.wp.pt(8)});function os(e){var n=e.items,t=e.upcomingBuildStatus,r=e.view,a=e.provider,i=e.onClick,o=e.openFile,s=e.openPane,u=(0,l._)((0,d.useState)(!1),2),f=u[0],p=u[1],h=(0,m.uS)(),g=n[0],b=g.build.debugSummary,y=h===v.d.Ready&&!t&&r!==_.P.DeploymentInProgress&&b;return(0,c.FD)(G.S,{children:[(0,c.FD)(G.S,{css:oo.top,children:[(0,c.Y)(t9,{type:f?"futureFailOpen":"futureFailClosed"}),(0,c.FD)(G.S,{css:oo.info,"data-open":f,children:[y?(0,c.Y)(rL,{title:"".concat(n.length," ").concat((0,nY.A)("build",n.length)," failed"),debugSummary:b,onViewBuildLogs:function(){return i(g.build)},openFile:o,provider:a,openPane:s}):null,(0,c.FD)("button",{onClick:function(){return p(!f)},css:oo.button,children:[(0,c.FD)(G.S,{css:oo.buttonContent,children:[(0,c.Y)(ex.A,{}),(0,c.Y)($.EY,{children:"View all failed builds"}),f?null:(0,c.FD)($.EY,{css:M.wp.color.foregroundDimmest,variant:"small",children:[n.length>1?"Most recent: ":null,(0,r$.A)(new Date(n[0].timeCreated),Date.now(),{addSuffix:!0})]})]}),f?(0,c.Y)(nD.A,{color:eC.LU.foregroundDimmer}):(0,c.Y)(nT.A,{color:eC.LU.foregroundDimmer})]})]})]}),f?(0,c.Y)(G.S,{css:oo.failedBuildList,children:n.map(function(e){return(0,c.Y)(od,{item:e,onClick:function(){return i(e.build)},type:"future"},e.id)})}):null]})}function ol(e){var n=e.items,t=e.view,r=e.provider,a=e.onClick,i=e.openFile,o=e.openPane,s=(0,l._)((0,d.useState)(!1),2),u=s[0],f=s[1],p=(0,h.mj)().hasDebugSummariesAuthorization,m=(0,h.tq)(),v=(0,d.useRef)(void 0);(0,d.useEffect)(function(){(null==m?void 0:m.status)!==void 0&&(v.current=null==m?void 0:m.status)},[m,null==m?void 0:m.status]);var g=!m&&v.current!==w.nHS.Building&&v.current!==w.nHS.Success,b=g?eC.LU.accentNegativeStronger:eC.LU.foregroundDimmer;if(0===n.length)return null;var y=n[0];return p&&y.build.debugSummary?(0,c.Y)(os,{items:n,upcomingBuildStatus:v.current,view:t,provider:r,onClick:a,openFile:i,openPane:o}):(0,c.FD)(G.S,{children:[(0,c.FD)(G.S,{css:oo.top,children:[(0,c.Y)(t9,{type:u?"futureFailOpen":"futureFailClosed"}),(0,c.Y)(G.S,{css:oo.info,"data-open":u,children:(0,c.FD)("button",{onClick:function(){return f(!u)},css:oo.button,"data-highlight":g,children:[(0,c.FD)(G.S,{css:oo.buttonContent,children:[g?(0,c.Y)(nR.A,{color:eC.LU.accentNegativeStronger}):null,(0,c.FD)($.EY,{children:[n.length," ",(0,nY.A)("build",n.length)," failed"]}),u?null:(0,c.FD)($.EY,{children:[n.length>1?"Most recent: ":null,(0,r$.A)(new Date(n[0].timeCreated),Date.now(),{addSuffix:!0})]})]}),u?(0,c.Y)(nD.A,{color:b}):(0,c.Y)(nT.A,{color:b})]})})]}),u?(0,c.Y)(G.S,{css:oo.failedBuildList,children:n.map(function(e){return(0,c.Y)(od,{item:e,onClick:function(){return a(e.build)},type:"future"},e.id)})}):null]})}function ou(e){var n,t=e.replId,r=e.type,a=void 0===r?"default":r,i=e.view,o=e.provider,s=e.onSelect,l=e.openFile,u=e.openPane,f=e.onClickRollback,p=(0,ez.jN)({variables:{replId:t,count:20},fetchPolicy:"cache-and-network",ssr:!1}),b=p.data,_=p.previousData,S=p.loading,A=p.error,k=p.fetchMore,C=null!=b?b:_,Y=(0,m.uS)(),E=(null==C?void 0:C.getRepl.__typename)==="Repl"?C.getRepl:null,x=(null==E||null==(n=E.hostingDeployment)?void 0:n.__typename)==="HostingDeployment"?E.hostingDeployment:null,T=(0,tK.Y)().isAgentStackRepl,D=function(){return(0,g._)(function(){var e;return(0,y.YH)(this,function(n){switch(n.label){case 0:if(!(e=null==x?void 0:x.activityLogs.pageInfo.nextCursor))return[2];return[4,k({variables:{after:e,count:20}})];case 1:return n.sent(),[2]}})})()},I=(0,iQ.A)({onLoadMore:D,rootMargin:"0px 0px 300px 0px"}).targetRef,R=(0,h.cF)(),N=(0,h.tq)(),O=(0,d.useRef)(void 0);if((0,d.useEffect)(function(){(null==N?void 0:N.id)!==void 0&&(O.current=null==N?void 0:N.id)},[null==N?void 0:N.id]),S&&!x)return"failureQueue"===a?null:(0,c.Y)(op,{});if(!(null==x?void 0:x.activityLogs))return null;var P=x.activityLogs,F=P.items,U=P.pageInfo;if(0===F.length)return null;if(A)return(0,c.Y)(G.S,{css:oi.empty,pb:8,children:(0,c.Y)(V.N,{colorway:"warning",icon:(0,c.Y)(nR.A,{}),text:"Something went wrong"})});var L=function(e,n){var t=[],r=(null==n?void 0:n.timeCreated)?new Date(n.timeCreated):null,a=!0,i=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;if(u.type!==w.Eyb.Fail||r&&r.getTime()>new Date(u.build.timeCreated).getTime())break;t.push(u)}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return t}(F,R);return"failureQueue"===a?(0,c.Y)(nZ.lQ,{render:L.length>0,initialHeight:44,children:(0,c.Y)(ol,{items:L,view:i,provider:o,onClick:s,openFile:l,openPane:u})}):(0,c.FD)(G.S,{gap:8,"data-history-timeline-items":F.length-L.length,children:[(0,c.Y)(G.S,{css:oi.items,children:F.map(function(e,n){if(e.build.id===(null==R?void 0:R.id)||n<L.length)return null;var t=!1;return e.isRollbackCandidate&&e.build.status===w.nHS.Success&&!e.build.rollbackSourceBuildId&&f&&Y===v.d.Ready&&!T&&(t=!0),(0,c.Y)(od,{item:e,onClick:function(){return s(e.build)},onClickRollback:t&&f?function(){return f(e.build)}:void 0},e.id)})}),U.nextCursor?(0,c.Y)(G.S,{css:oi.loadMore,children:(0,c.Y)(eY.K0,{disabled:S,tooltipBehavior:"hidden",alt:"Show more",onClick:D,ref:I,children:S?(0,c.Y)(tY.A,{}):(0,c.Y)(i3.A,{})})}):null]})}var oc=function(e){var n=e.onClickRollback,t=e.rollbackTooltip;if((0,iK.a)()&&!n)return(0,c.Y)(c.FK,{});var r=void 0===n;return(0,c.Y)(eY.K0,{alt:t,onClick:function(){return n?n():void 0},disabled:r,css:r&&oi.disabledLog,children:(0,c.Y)(i0.H,{})})};function od(e){var n=e.item,t=e.onClick,r=e.onClickRollback,a=e.timeline,i=e.type,o=n.build.hasDeployLogs,s=!o,l=(0,iK.a)(),u=(0,m.uS)(),d="Rollback";r||(d="Cannot roll back, the image for this build is no longer available"),(0,tK.Y)().isAgentStackRepl?d="Rollback is not supported for Agents and Automations":u!==v.d.Ready?d="Cannot roll back while a deployment is in progress":n.build.status!==w.nHS.Success?d="Cannot roll back to a failed build":n.build.rollbackSourceBuildId&&(d="Cannot roll back, already rolled back to this deployment");var f=(0,c.FD)(G.S,{css:oi.item,grow:!0,shrink:!0,pl:8,pr:4,pb:12,align:"center",row:!0,gap:8,style:l?{alignItems:"start"}:{},children:[(0,c.Y)(G.S,{css:oi.itemMainText,grow:!0,shrink:!0,children:(0,c.Y)(i$.HP,{activityLogItem:n})}),(0,c.Y)(G.S,{css:oi.itemLine,className:"itemLine"}),(0,c.FD)(G.S,{css:oi.itemRight,row:!0,gap:0,justify:"end",style:l?{display:"flex"}:{},className:"itemRight",children:[(0,c.Y)(iV,{activityLogItem:n}),(0,c.Y)(oc,{onClickRollback:r,rollbackTooltip:d}),(0,c.Y)(eY.K0,{alt:o?"View deploy logs":"Deploy logs expire after 30 days",onClick:t,disabled:s,css:s&&oi.disabledLog,children:(0,c.Y)(rw.A,{})})]})]});return void 0===a||a?(0,c.FD)(G.S,{css:"past"===(void 0===i?"past":i)?oi.itemPast:oi.itemFuture,children:[(0,c.Y)(t9,{type:n.type===w.Eyb.Fail?"pastFail":"pastSuccess"}),f]}):f}var of=(0,eF.x)({loading:[{":last-of-type":{"[data-timeline-line]":{display:"none"}}}],loadingItem:[B.S.backgroundPulse(),M.wp.height(20.4),M.wp.mt(2),M.wp.ml(4),M.wp.flex.growAndShrink(1),M.wp.borderRadius(6),{opacity:.5,marginBottom:14}]});function op(){return(0,c.Y)(G.S,{children:[,,,].fill(0).map(function(e,n){return(0,c.FD)(G.S,{css:of.loading,row:!0,gap:12,children:[(0,c.Y)(t9,{type:"pastNeutral"}),(0,c.Y)(na.ui,{elevated:!0,css:of.loadingItem})]},n)})})}var oh=t(31294),om=t(2294),ov=t(47737),og=t(25423),ob=t(40185),oy=t(48686),ow=t(18454),o_=t(57282),oS=(0,eF.x)({deploymentInfoWrapper:[{':has( + [data-history-timeline-items="0"])':{"[data-timeline-line]":{display:"none"}}}]}),oA=function(e){var n,t,r,a=e.view,i=e.onLifecycleCommand,o=e.onViewAction,s=e.onError,u=e.openFile,f=e.openPane,p=e.hasAgentSession,g=(0,m.uS)(),b=(0,h.i$)(),y=(0,h.cF)(),A=(0,h.tq)(),k=(0,h.om)(),C=(0,h.g$)(),Y=(0,ov.m6)(),E=(0,h.Tp)().rollbackToPreviousBuild,x=(n=(0,ob.useRouter)(),t=(0,ov.ME)(n,"storeReviewPrompt")&&(0,ov.Po)(n),r=(0,d.useCallback)(function(e){var n=e.source;t&&(0,o_._z)({messageType:ow.tF.REQUEST_STORE_REVIEW_PROMPT,source:n},(0,oy.Ak)())},[t]),(0,d.useMemo)(function(){return{isSupported:t,requestPrompt:r}},[t,r])),T=(0,tL.g9)().show,D=void 0!==y,I=(0,tR.A)(),R=null==y?void 0:y.provider,N=D&&y.machineConfiguration?{configurationId:y.machineConfiguration.id,configurationLabel:y.machineConfiguration.label,configurationSlug:y.machineConfiguration.slug,maxInstances:null==y?void 0:y.maxMachineInstances}:void 0,O=(0,og.A)("deployments-pane","deployments-mobile-download"),P=O.shouldDisplay,F=O.dismiss,U=O.register;(0,d.useEffect)(function(){U()},[U]),(0,d.useEffect)(function(){D&&g===v.d.Deploying&&x.requestPrompt({source:"deployProgress"})},[x,D,g]);var L=(null==y?void 0:y.status)&&y.status===w.nHS.Success&&P&&!Y,M=(0,l._)((0,d.useState)(!1),2),J=M[0],H=M[1],B=(0,l._)((0,d.useState)(null),2),V=B[0],$=B[1],z=(0,l._)((0,d.useState)(null),2),W=z[0],j=z[1],q=(0,l._)((0,d.useState)(null),2),Z=q[0],K=q[1];(0,d.useEffect)(function(){(0,eO.Ae)({context:_.P.Deployment})},[]),(0,d.useEffect)(function(){(g===v.d.Preparing||g===v.d.PreparingDatabase||g===v.d.Deploying)&&(a===_.P.DeploymentInProgress||W||o({type:_.k.ChangeView,payload:{view:_.P.DeploymentInProgress}}))},[g,a,o,W]);var Q=(0,d.useRef)(void 0);(0,d.useEffect)(function(){Q.current=null==A?void 0:A.id},[null==A?void 0:A.id]);var X=(null==y?void 0:y.status)===w.nHS.Success,ee=(null==y?void 0:y.id)===Q.current,en=(0,tK.Y)().isAgentStackRepl,et=(0,tQ.C)().agentStackPlatformType;(0,d.useEffect)(function(){X&&ee&&(o({type:_.k.ChangeView,payload:{view:_.P.Deployment}}),en&&et===e$.J_c.Slack?T("SlackAgentStackPostDeployModal",{replId:I}):en&&et===e$.J_c.TimeBased?T("TimeBasedAgentStackPostDeployModal"):en&&et===e$.J_c.Telegram&&T("TelegramAgentStackPostDeployModal",{replId:I}))},[et,X,en,ee,o,I,T]);var er=null==A?void 0:A.status,ea=(0,d.useRef)(er);(0,d.useEffect)(function(){er&&(ea.current=er)},[er]);var ei=(0,h.Ol)(),eo=(0,h.Rh)();if(W)return(0,c.Y)(or,{build:W,fs:k,openFile:u,openPane:f,onBack:function(){j(null)},onViewAppLogs:function(){o({type:_.k.ChangeView,payload:{view:_.P.Logs}})}});if(V)return(0,c.Y)(ot,{build:V,onBack:function(){$(null)},onClickRollback:function(e){E({rollbackCandidateBuildId:V.id,envVars:e})},onError:function(e){$(null),s(e)}});if(Z===w.Q0q.CloudRun)return(0,c.Y)(t8.JY,{type:w.Q0q.CloudRun,onError:s,onConfirm:function(e){o({type:_.k.SendDeploymentLifecycleCommand,payload:{command:w.jPZ.UpdateMachineConfiguration,machineConfigurationId:e.configurationId,maxMachineInstances:e.maxInstances}})},onBack:function(){return K(null)}});if(Z===w.Q0q.Gce)return(0,c.Y)(oh.V,{type:w.Q0q.Gce,replId:I,initialMachineConfiguration:N,onConfirm:function(e){o({type:_.k.SendDeploymentLifecycleCommand,payload:{command:w.jPZ.UpdateMachineConfiguration,machineConfigurationId:e.configurationId,maxMachineInstances:e.maxInstances}})},onBack:function(){return K(null)},onError:s,provider:null!=R?R:w.Q0q.Gce});var es=!D||!b||g!==v.d.Ready&&g!==v.d.Suspended&&g!==v.d.ProcessingLifecycleCommand;return(0,c.Y)(c.FK,{children:(0,c.Y)(S.A,{children:(0,c.FD)(G.S,{children:[(0,c.FD)(G.S,{row:!0,gap:12,children:[D?(0,c.Y)(t9,{type:"future"}):null,(0,c.FD)(G.S,{grow:!0,shrink:!0,gap:12,pb:12,children:[es?null:(0,c.Y)(t4,{dotReplit:ei,fs:k,secrets:C,ports:eo,deploymentId:b,replId:I,onError:s,expanded:J,setExpanded:H,shouldShowMobileTour:null!=L&&L,onDismissMobileTour:F,openNetworkingPane:function(){o({type:_.k.OpenPane,payload:{type:"developer",data:{tab:["networking"]}}})},onResume:function(){i({command:w.jPZ.Resume})},hasAgentSession:p,onViewAction:o}),a===_.P.DeploymentInProgress?(0,c.Y)(iO,{openFile:u,openPane:f,viewBuildLogsOnLoad:!D,onViewLogs:function(){o({type:_.k.ChangeView,payload:{view:_.P.Logs}})},onCanceled:function(){o({type:_.k.ChangeView,payload:{view:_.P.Deployment}}),s("Build cancelled")},onError:s}):null]})]}),D&&R?(0,c.FD)(c.FK,{children:[(0,c.Y)(i5,{type:"failureQueue",onViewBuildLogs:j,openFile:u,openPane:f,view:a,provider:R}),(0,c.FD)(G.S,{css:oS.deploymentInfoWrapper,row:!0,gap:12,children:[(0,c.Y)(t9,{type:"present"}),(0,c.Y)(G.S,{grow:!0,shrink:!0,gap:12,pb:16,children:(0,c.Y)(om.EI,{provider:R,machine:N,onViewBuildLogs:j,onManageClick:function(){if(R===w.Q0q.CloudRun||R===w.Q0q.Gce)return void K(R);R===w.Q0q.Static&&o({type:_.k.ChangeView,payload:{view:_.P.Settings}})},onViewAction:o})})]}),(0,c.Y)(i5,{onViewBuildLogs:j,openFile:u,openPane:f,view:a,provider:R,onClickRollback:function(e){$(e)}})]}):null]})})})},ok=t(16693);function oC(){var e=(0,T._)(["\n  query LinkablePurchasedDomains {\n    currentUser {\n      id\n      domains(managed: true, onlyUnlinked: true) {\n        items {\n          id\n          domain\n        }\n      }\n    }\n  }\n"]);return oC=function(){return e},e}function oY(){var e=(0,T._)(["\n  mutation LinkPurchasedDomain(\n    $replId: String!\n    $domainName: String!\n    $deploymentId: String!\n  ) {\n    linkReplDomain2(\n      replId: $replId\n      deploymentId: $deploymentId\n      domain: $domainName\n    ) {\n      __typename\n      ... on Repl {\n        id\n      }\n    }\n  }\n"]);return oY=function(){return e},e}var oE={},ox=(0,D.J1)(oC());function oT(e){var n=(0,o._)({},oE,e);return I.I(ox,n)}var oD=(0,D.J1)(oY());function oI(){var e=(0,T._)(["\n  mutation BuyDomain($input: BuyDomainInput!) {\n    buyDomain(input: $input) {\n      ... on BuyDomainOutput {\n        scheduled\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return oI=function(){return e},e}function oR(){var e=(0,T._)(["\n  query GetPaymentMethod {\n    currentUser {\n      id\n      paymentMethod {\n        ... on Error {\n          message\n        }\n        ... on PaymentMethod {\n          id\n          last4\n        }\n      }\n    }\n  }\n"]);return oR=function(){return e},e}var oN={},oO=(0,D.J1)(oI()),oP=(0,D.J1)(oR()),oF=t(72096),oU=t.n(oF);function oL(e){return null==e?"N/A":"$".concat(e.toFixed(2))}function oM(e,n){switch(n.type){case"select_domain":return{step:"confirm",selectedDomain:n.payload,purchaseErrorMessage:null};case"purchase_failed":if(null==e.selectedDomain)throw Error("Selected domain is null");return{step:"confirm",selectedDomain:e.selectedDomain,purchaseErrorMessage:n.payload};case"search":return{step:"search",selectedDomain:null};case"processing":if(null==e.selectedDomain)throw Error("Selected domain is null");return{step:"processing",selectedDomain:e.selectedDomain}}return e}var oJ=t(58648),oH=t(77481),oB=(0,eF.x)({scrollArea:[{overflowY:"auto",minHeight:0,maxHeight:"100%"}],primaryActionButton:[M.wp.width("100%"),M.wp.py(12),{fontSize:eC.LU.fontSizeDefault}],confirmDetails:[M.wp.borderRadius(4)],detailRow:[M.wp.rowWithGap(8),M.wp.justify.spaceBetween],errorMessage:[M.wp.borderRadius(4),M.wp.backgroundColor.accentNegativeDimmest],root:[M.wp.overflow("hidden")],relativeContainer:[{position:"relative",minHeight:0,maxHeight:"100%"}]});function oV(e){var n,t,r,a=e.isBillingInfoLoading,i=e.selectedDomain,o=e.purchaseErrorMessage,s=e.handleBuyDomain,u=e.isPurchasing,f=e.lastFour,p=e.onGoBack,h=(t=(n=(0,l._)((0,d.useState)(!1),2))[0],r=n[1],(0,oJ.Z)(function(){r(!0)},1e3),t);return a?(0,c.FD)(G.S,{align:"center",p:8,children:[(0,c.Y)(tY.A,{size:16}),(0,c.Y)($.EY,{children:"Loading your billing information..."})]}):f?(0,c.FD)(G.S,{p:8,gap:16,css:oB.root,shrink:!0,children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",children:[(0,c.Y)(eY.K0,{alt:"Go back",onClick:p,children:(0,c.Y)(i1.A,{})}),(0,c.Y)($.Y9,{level:2,children:"Confirm Domain Purchase"}),(0,c.Y)(np.a,{colorway:"primary",text:"Beta"})]}),(0,c.Y)(G.S,{css:oB.relativeContainer,shrink:!0,children:(0,c.FD)(G.S,{gap:16,css:oB.scrollArea,shrink:!0,children:[(0,c.FD)(na.ui,{elevated:!0,gap:8,css:oB.confirmDetails,p:12,children:[(0,c.FD)(G.S,{css:oB.detailRow,children:[(0,c.Y)($.EY,{color:"dimmer",children:"Domain:"}),(0,c.Y)($.EY,{children:i.domainName})]}),(0,c.FD)(G.S,{css:oB.detailRow,children:[(0,c.Y)($.EY,{color:"dimmer",children:"Price:"}),i.years>1?(0,c.Y)(nF.m_,{tooltip:"Some domains such as .ai must be purchased and renewed in multi-year increments. You will be charged for ".concat(i.years," years up front."),children:(0,c.FD)("span",{children:[oL(i.purchasePrice)," for"," ",i.years," years"]})}):(0,c.Y)($.EY,{children:oL(i.purchasePrice)})]}),i.renewalPrice?(0,c.Y)(nF.m_,{tooltip:i.years>1?"Some domains such as .ai must be purchased and renewed in multi-year increments. Your domain will renew every ".concat(i.years," years for the displayed price."):"You can always cancel the renewal later",children:(0,c.FD)(G.S,{css:oB.detailRow,children:[(0,c.Y)($.EY,{color:"dimmer",children:i.years>1?"Renewal:":"Annual renewal:"}),(0,c.FD)($.EY,{children:[oL(i.renewalPrice)," ",i.years>1?"every ".concat(i.years," years"):"/year"]})]})}):null,(0,c.FD)(G.S,{css:oB.detailRow,children:[(0,c.Y)($.EY,{color:"dimmer",children:"Payment method:"}),(0,c.FD)($.EY,{children:["Your card ending in"," ",(0,c.Y)($.EY,{variant:"code",children:f.toString()})]})]})]}),o?(0,c.FD)(G.S,{css:oB.errorMessage,gap:4,p:12,children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",children:[(0,c.Y)(nR.A,{size:16,color:eC.LU.accentNegativeDefault}),(0,c.Y)($.EY,{color:"dimmer",children:"Purchase failed"})]}),(0,c.Y)($.EY,{color:"dimmer",children:o})]}):null,(0,c.Y)(G.S,{justify:"center",children:(0,c.Y)(eX.$n,{variant:"default",colorway:"positive",onClick:s,loading:u,text:"Confirm Purchase",disabled:!h,css:oB.primaryActionButton})}),(0,c.FD)(oH.s,{color:"dimmer",variant:"small",children:["Domain purchases are non-refundable. You will be charged immediately for the registration price of"," ",oL(i.purchasePrice)," and every"," ",1===i.years?" year":" ".concat(i.years," years")," ","for the renewal price of ",oL(i.renewalPrice),". Your domain will be available to use immediately. Domain Purchasing on Replit is currently in Beta, and some features may be unavailable. For more information, see our"," ",(0,c.Y)(oU(),{href:"https://docs.replit.com/cloud-services/deployments/domain-purchasing",target:"_blank",children:"Documentation"}),". For additional help, contact Replit Support."]})]})})]}):(0,c.FD)(G.S,{p:8,children:[(0,c.Y)($.EY,{children:"No payment method found"}),(0,c.Y)($.EY,{children:"Please add a payment method to your account and return to this screen."})]})}function o$(){return(0,c.Y)(G.S,{gap:16,pt:16,children:(0,c.FD)(G.S,{align:"center",gap:16,children:[(0,c.Y)(tY.A,{size:32}),(0,c.Y)($.EY,{variant:"subheadDefault",children:(0,c.Y)("strong",{children:"Processing your domain purchase"})})]})})}function oG(){var e=(0,T._)(["\n  query SearchForDomain($input: SearchDomainsInput!) {\n    searchDomains(input: $input) {\n      ... on DomainSearchOutput {\n        results {\n          domainName\n          sld\n          tld\n          purchasable\n          premium\n          purchasePrice\n          purchaseType\n          renewalPrice\n          years\n        }\n      }\n    }\n  }\n"]);return oG=function(){return e},e}var oz={},oW=(0,D.J1)(oG()),oj=t(73496),oq=t(37379),oZ=t(35751),oK=t(2400),oQ=t(42005),oX=(0,eF.x)({scrollArea:[{display:"flex",flexDirection:"column",overflowY:"auto",minHeight:0,paddingBottom:8,flexShrink:1}],domainResult:[M.wp.borderRadius(8),M.wp.border({color:eC.LU.outlineDimmer}),M.wp.hover([M.wp.border({color:eC.LU.outlineDefault}),M.wp.backgroundColor.accentPrimaryDimmest]),M.wp.mb(8)],noResults:[M.wp.borderRadius(8),M.wp.border({color:eC.LU.outlineDimmer}),M.wp.mb(8)],root:[M.wp.overflow("hidden")]});function o0(e){var n,t,r,a,i,s,u,f,p,h,m,v=e.suggestedDomain,g=e.onDomainSelect,b=e.onGoBack,y=(t=(n=(0,l._)((0,d.useState)(v||""),2))[0],r=n[1],f=(i={variables:{input:{keyword:a=(0,oj.A)(t,500)}}},s=(0,o._)({},oz,i),u=I.I(oW,s)).data,p=u.loading,h=u.error,m=(null==f?void 0:f.searchDomains)&&"DomainSearchOutput"===f.searchDomains.__typename?f.searchDomains.results.filter(Boolean):[],(0,d.useEffect)(function(){a&&a.length>0&&(0,eQ.u4)(eQ.AZ.DOMAIN_PURCHASE,{action:"search_performed",searchTerm:a,resultsCount:m.length})},[a,m.length]),{searchTerm:t,setSearchTerm:r,searchResults:m,debouncedSearchTerm:a,loading:p||t!==a,error:h}),w=y.searchTerm,_=y.setSearchTerm,S=y.searchResults,A=y.loading,k=y.error,C=y.debouncedSearchTerm;return(0,c.FD)(G.S,{css:oX.root,gap:8,grow:!0,shrink:!0,px:8,pt:8,children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",children:[(0,c.Y)(eY.K0,{onClick:b,alt:"Back to domains",children:(0,c.Y)(i1.A,{})}),(0,c.Y)($.Y9,{level:2,variant:"subheadDefault",children:"Buy a new domain"}),(0,c.Y)(np.a,{colorway:"primary",text:"Beta"})]}),(0,c.Y)(G.S,{tag:"label",row:!0,gap:8,align:"center",children:(0,c.Y)($.EY,{color:"dimmer",children:"Search for a domain to buy"})}),(0,c.FD)(oZ.U,{children:[(0,c.Y)(oK.L,{autoFocus:!0,placeholder:"Search for a domain...",value:w,onChange:function(e){return _(e)}}),(0,c.Y)(oq.qF,{css:oX.scrollArea,onAction:function(e){var n=S.find(function(n){return n.domainName===e});n&&g(n)},items:S,isLoading:A,renderEmptyState:function(){return(0,c.FD)(G.S,{gap:8,align:"stretch",children:[(0,c.Y)(G.S,{css:oX.noResults,align:"center",justify:"center",p:16,children:(0,c.Y)($.EY,{color:"dimmer",children:C?'No domains found matching "'.concat(C,'"'):"Enter a domain name to search"})}),k?(0,c.FD)(G.S,{row:!0,gap:4,align:"center",justify:"center",children:[(0,c.Y)(nR.A,{size:12,color:eC.LU.orangeDefault}),(0,c.Y)($.EY,{variant:"small",color:"dimmer",children:k.message})]}):null]})},children:function(e){return(0,c.FD)(oq.if,{textValue:"".concat(e.domainName," - ").concat(e.purchasable?"available":"unavailable"," ").concat(e.years>1?"".concat(oL(e.purchasePrice)," for ").concat(e.years," years"):oL(e.purchasePrice)),id:e.domainName,css:oX.domainResult,children:[(0,c.FD)(G.S,{gap:4,grow:!0,children:[(0,c.FD)(G.S,{row:!0,gap:4,align:"center",children:[(0,c.Y)($.EY,{children:e.domainName}),e.purchasable?(0,c.Y)(G.S,{row:!0,gap:2,align:"center",children:(0,c.Y)(ni.A,{size:12,color:eC.LU.accentPositiveDefault})}):null,e.premium?(0,c.Y)(oQ.A,{size:12,color:eC.LU.accentPrimaryDefault}):null]}),null!=e.renewalPrice&&(0,c.Y)($.EY,{variant:"small",color:"dimmer",children:e.years>1?(0,c.Y)(nF.m_,{tooltip:"Some domains such as .ai must be purchased and renewed in multi-year increments. Your domain will renew every ".concat(e.years," years for the displayed price."),children:(0,c.FD)("span",{children:["Renews at ",oL(e.renewalPrice)," every"," ",e.years," years"]})}):(0,c.FD)(c.FK,{children:["Renews at ",oL(e.renewalPrice),"/yr"]})})]}),(0,c.Y)($.EY,{children:e.years>1?(0,c.Y)(nF.m_,{tooltip:"Some domains such as .ai must be purchased and renewed in multi-year increments. You will be charged for ".concat(e.years," years up front."),children:(0,c.FD)("span",{children:[oL(e.purchasePrice)," for ",e.years," ","years"]})}):oL(e.purchasePrice)})]},e.domainName)}})]}),(0,c.Y)(G.S,{})]})}function o1(e){var n,t,r,a,i,s=(r=(0,o._)({},oN,void 0),I.I(oP,r)),u=s.data,f=s.loading,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{step:"search",selectedDomain:null},n=(0,l._)((0,d.useReducer)(oM,e),2);return{state:n[0],dispatch:n[1]}}(),h=p.state,m=p.dispatch,v=(0,l._)((0,d.useState)(null),2),b=v[0],w=v[1],_=(0,tU._P)({controlName:"flag-domains-glowup",default:!1});ag({variables:{id:e.deploymentId,isGlowup:_},fetchPolicy:"cache-and-network",ssr:!1,skip:!b||"search"===h.step||"confirm"===h.step,onCompleted:function(n){var t;(null==(t=n.hostingDeployment)?void 0:t.__typename)==="HostingDeployment"&&b&&(n.hostingDeployment.domains2||[]).find(function(e){return e.domain===b})&&e.onRequestClose()}});var S=(0,l._)((n={refetchQueries:[{query:av,variables:{id:e.deploymentId,isGlowup:_}}],awaitRefetchQueries:!0},t=(0,o._)({},oN,n),tm.n(oO,t)),2),A=S[0],k=S[1].loading;switch(h.step){case"search":return(0,c.Y)(o0,{suggestedDomain:e.suggestedDomain,onDomainSelect:function(e){(0,eQ.u4)(eQ.AZ.DOMAIN_PURCHASE,{action:"selected",domainName:e.domainName,tld:e.tld,sld:e.sld,purchasePrice:e.purchasePrice,renewalPrice:e.renewalPrice,years:e.years,premium:e.premium}),m({type:"select_domain",payload:e})},onGoBack:e.onRequestClose});case"confirm":return(0,c.Y)(oV,{lastFour:(null==u||null==(i=u.currentUser)||null==(a=i.paymentMethod)?void 0:a.__typename)==="PaymentMethod"?u.currentUser.paymentMethod.last4:null,isBillingInfoLoading:f,onGoBack:function(){return m({type:"search"})},selectedDomain:h.selectedDomain,purchaseErrorMessage:h.purchaseErrorMessage,handleBuyDomain:function(){return(0,g._)(function(){var n,t;return(0,y.YH)(this,function(r){switch(r.label){case 0:if(null==h.selectedDomain)return[2];return(0,eQ.u4)(eQ.AZ.DOMAIN_PURCHASE,{action:"confirmed",sld:h.selectedDomain.sld,tld:h.selectedDomain.tld,domainName:h.selectedDomain.domainName,purchasePrice:h.selectedDomain.purchasePrice,years:h.selectedDomain.years}),m({type:"processing"}),[4,A({variables:{input:{years:h.selectedDomain.years,domainName:h.selectedDomain.domainName,contact:{firstName:"",lastName:"",companyName:"",address1:"",address2:"",city:"",state:"",zip:"",country:"",phone:"",email:""},hostingDeploymentId:e.deploymentId,expectedChargeAmountCents:null!=h.selectedDomain.purchasePrice?Math.round(100*h.selectedDomain.purchasePrice):0}}})];case 1:return(null==(n=(t=r.sent()).data)?void 0:n.buyDomain)&&("BuyDomainOutput"===t.data.buyDomain.__typename&&t.data.buyDomain.scheduled?((0,eQ.u4)(eQ.AZ.DOMAIN_PURCHASE,{action:"completed",deploymentId:e.deploymentId,domainName:h.selectedDomain.domainName,purchasePrice:h.selectedDomain.purchasePrice,years:h.selectedDomain.years}),w(h.selectedDomain.domainName),e.onRequestClose()):"UserError"===t.data.buyDomain.__typename?((0,eQ.u4)(eQ.AZ.DOMAIN_PURCHASE,{action:"failed",domainName:h.selectedDomain.domainName,sld:h.selectedDomain.sld,tld:h.selectedDomain.tld,error:t.data.buyDomain.message}),m({type:"purchase_failed",payload:t.data.buyDomain.message})):"UnauthorizedError"===t.data.buyDomain.__typename&&((0,eQ.u4)(eQ.AZ.DOMAIN_PURCHASE,{action:"failed",domainName:h.selectedDomain.domainName,sld:h.selectedDomain.sld,tld:h.selectedDomain.tld,error:t.data.buyDomain.message}),m({type:"purchase_failed",payload:t.data.buyDomain.message}))),[2]}})})()},isPurchasing:k});case"processing":return(0,c.Y)(o$,{});default:(0,n8.A)(h)}}var o2=t(12079),o3=["","@"];function o4(e){var n=(0,o2.gR)(e);if(n.type===o2.xG.Listed){var t=n.icann.subDomains;return t.length>0?t.join("."):"@"}var r=e.split(".").slice(0,-2).join(".");return""===r?"@":r}var o5=t(19786),o7=t(19944),o9=t(83096),o8=t(29274),o6=(0,o7.v)(["paddingRight"]),se=o6.cssVars,sn=o6.styleTokens,st=(0,eF.x)({inputWrapper:[M.wp.position.relative,M.wp.flex.growAndShrink(1),{input:[{paddingRight:sn.paddingRight}]}],copyButton:[M.wp.position.absolute,M.wp.top("50%"),M.wp.right(4),{transform:"translateY(-50%)"}]});function sr(e){var n=(0,l._)((0,d.useState)(!1),2),t=n[0],r=n[1];return(0,d.useEffect)(function(){if(t){var e=setTimeout(function(){r(!1)},1e3);return function(){return clearTimeout(e)}}},[t]),(0,c.FD)(G.S,{css:st.inputWrapper,style:(0,A._)({},se.paddingRight,e.value?"36px":"8px"),children:[(0,c.Y)(o9.pd,(0,s._)((0,o._)({},e),{onClick:function(e){return e.currentTarget.select()}})),e.value?(0,c.Y)(eY.K0,{css:st.copyButton,alt:"Copy",tooltipBehavior:"hidden",onClick:function(){e.value&&((0,o5.default)(e.value),r(!0))},children:t?(0,c.Y)(ni.A,{}):(0,c.Y)(o8.A,{})}):null]})}var sa=(0,eF.x)({root:[M.wp.flex.column,(r={gap:8},(0,A._)(r,M.kL.min("mobileMax"),[M.wp.flex.row,{"& > div:nth-of-type(1)":{maxWidth:50},"& > div:nth-of-type(2)":{width:"30%"}}]),(0,A._)(r,"label",[M.wp.color.foregroundDimmer,{fontSize:eC.LU.fontSizeSmall}]),r)],col:[M.wp.colWithGap(4),M.wp.flex.growAndShrink(1)],records:[M.wp.borderRadius(12),(0,A._)({},M.kL.min("mobileMax"),M.wp.colWithGap(12))],divider:(0,A._)({display:"flex",height:1,backgroundColor:eC.LU.outlineDimmest},M.kL.min("mobileMax"),M.wp.display.none)});function si(e){var n=o4(e.hostname);return(0,c.FD)(G.S,{css:sa.root,children:[(0,c.FD)(G.S,{css:sa.col,children:[(0,c.Y)(G.S,{tag:"label",children:"Type"}),(0,c.Y)(o9.pd,{value:e.type,readOnly:!0})]}),(0,c.FD)(G.S,{css:sa.col,children:[(0,c.Y)(G.S,{tag:"label",children:"Hostname"}),(0,c.Y)(sr,{value:n,readOnly:!0})]}),(0,c.FD)(G.S,{css:sa.col,children:[(0,c.Y)(G.S,{tag:"label",children:"Record"}),(0,c.Y)(sr,{value:e.record,readOnly:!0})]})]})}function so(e){var n="replit-verify=".concat(e.replId);return(0,c.FD)(na.ui,{background:"default",css:sa.records,px:12,pt:8,pb:16,gap:16,children:[(0,c.Y)(si,{hostname:e.hostname,type:"A",record:e.apexProxy}),(0,c.Y)(G.S,{css:sa.divider}),(0,c.Y)(si,{hostname:e.hostname,type:"TXT",record:n})]})}var ss="https://docs.replit.com/cloud-services/deployments/custom-domains",sl=t(35897),su=t(22871),sc=t(39042),sd=t(75054),sf=t(28611),sp=t(43820),sh=t(14972),sm=t(16491),sv=t(26796),sg=t(43193),sb=t(33784),sy=(0,eF.x)({root:[M.wp.colWithGap(8),M.wp.borderRadius(8),M.wp.pl(8),M.wp.pr(4),M.wp.height(32),M.wp.justify.center]}),sw=(0,eF.x)({root:sy.root,rootExpanded:[sy.root,M.wp.height("auto"),M.wp.pt(4),M.wp.pb(12),M.wp.justify.start],domainRow:[M.wp.reset.button,M.wp.rowWithGap(8),M.wp.align.center,M.wp.justify.spaceBetween],domainWrapper:[M.wp.color.accentPrimaryStronger,{a:M.wp.hover(M.wp.color.accentPrimaryStrongest)}],statusDot:[M.wp.borderRadius("full"),M.wp.width(6),M.wp.height(6)],buttons:[M.wp.flex.column,M.wp.justify.spaceBetween,(a={gap:8},(0,A._)(a,M.kL.min("mobileMax"),M.wp.flex.row),(0,A._)(a,"button",[M.wp.flex.growAndShrink(1)]),a)],deleteButton:[M.wp.mt(16)]}),s_={verified:{color:eC.LU.accentPositiveDefault,text:"Verified"},verifying:{color:eC.LU.orangeDefault,text:"Verifying"},temporal_verification:{color:eC.LU.orangeDefault,text:"Verifying"},pushed_to_goval:{color:eC.LU.orangeDefault,text:"Verifying"},failed:{color:eC.LU.accentNegativeDefault,text:"Failed"},expired:{color:eC.LU.accentNegativeDefault,text:"Expired"},purchased:{color:eC.LU.accentPositiveDefault,text:"Purchased"}};function sS(e){var n,t,r=e.domain,a=(0,l._)((n={onCompleted:function(e){"SetShouldDomainAutoRenewResult"!==e.setShouldDomainAutoRenew.__typename&&u(e.setShouldDomainAutoRenew.message)}},t=(0,o._)({},r8,n),tm.n(ao,t)),2),i=a[0],s=a[1].loading,u=(0,sl.A)().showError;return(0,c.Y)(sh.d,{isSelected:r.autorenew,onChange:function(e){i({variables:{input:{domainId:r.id,shouldAutoRenew:e}}})},isReadOnly:s,children:(0,c.Y)($.EY,{children:"Auto renew before expiration"})})}function sA(e){var n,t,r,a,i,s=e.domain,u=e.deploymentId,f=e.authorizations,p=(0,l._)(aa(),2),h=p[0],m=p[1].loading,v=(0,l._)((n=(0,o._)({},r8,void 0),tm.n(an,n)),2),b=v[0],w=v[1].loading,_=(0,l._)((t=(0,o._)({},r8,void 0),tm.n(at,t)),2),S=_[0],A=_[1].loading,k=(0,sl.A)().showError,C=(0,l._)((0,d.useState)("collapsed"),2),Y=C[0],E=C[1],x=(0,l._)((0,d.useState)(!1),2),T=x[0],D=x[1],I=(null!=(a=f.deleteCustomDomain)?a:{isAuthorized:!0,message:""}).isAuthorized;return(0,c.FD)(na.ui,{elevated:!0,css:"collapsed"!==Y?sw.rootExpanded:sw.root,children:[(0,c.FD)(G.S,{css:sw.domainRow,style:{borderBottomLeftRadius:"collapsed"!==Y?0:void 0,borderBottomRightRadius:"collapsed"!==Y?0:void 0},children:[(0,c.FD)(G.S,{css:sw.domainWrapper,shrink:!0,row:!0,gap:8,align:"center",children:[(0,c.Y)($.EY,{multiline:!1,children:(0,c.Y)("a",{target:"_blank",href:"".concat(s.domain.startsWith("http://")||s.domain.startsWith("https://")?"":"https://").concat(s.domain),children:s.domain})}),(0,c.FD)(G.S,{row:!0,gap:4,align:"center",children:[(0,c.Y)(G.S,{css:sw.statusDot,style:{backgroundColor:s_[s.state].color}}),(0,c.Y)($.EY,{color:"dimmer",variant:"small",children:s_[s.state].text})]})]}),(0,c.FD)(G.S,{row:!0,children:[(0,c.Y)(su.r,{textToCopy:s.domain,tooltipSuccessText:"Copy link"}),(0,c.Y)(eY.K0,{alt:"Edit",onClick:function(){D(!1),E(function(e){return"collapsed"===e?"dns":"collapsed"})},disabled:w||A,children:"collapsed"===Y?(0,c.Y)(nh.A,{}):(0,c.Y)(nD.A,{})})]})]}),"dns"===Y?(0,c.FD)(G.S,{pl:4,pr:8,gap:12,children:[(0,c.Y)(sE,{domain:s,items:null!=(i=null==(r=s.dnsRecords)?void 0:r.filter(Boolean))?i:[],hostingDeploymentId:u,handleDelete:function(e){S({variables:{input:{domainId:s.id,recordId:e}}})}}),(0,c.Y)(eX.$n,{text:"Add DNS record",onClick:function(){E("add")}}),(0,c.FD)(sf.Wv,{elevated:!0,label:"Disconnect domain",isOpen:T,onOpenChange:D,children:[(0,c.Y)(eX.$n,{iconLeft:(0,c.Y)(sb.A,{}),size:"small",disabled:!I||m,variant:"outlined",colorway:"negative",text:"Disconnect ".concat(s.domain," from this app"),css:sw.deleteButton,onClick:function(){return D(!0)}}),(0,c.FD)(G.S,{gap:4,p:8,children:[(0,c.Y)($.EY,{children:"When you disconnect this domain, it will be available to link to your other apps."}),(0,c.FD)($.EY,{children:["Would you like to disconnect ",s.domain," from this app?"]}),(0,c.Y)(eX.$n,{iconLeft:(0,c.Y)(sb.A,{}),text:"Yes, disconnect",disabled:m,colorway:"negative",onClick:function(){return(0,g._)(function(){var e;return(0,y.YH)(this,function(n){switch(n.label){case 0:return[4,h({variables:{input:{hostingDeploymentDomainId:s.id}},refetchQueries:[{query:ox}]})];case 1:if((e=n.sent()).errors)return k("Something went wrong"),[2];if(!e.data)return[2];if("HostingDeployment"!==e.data.unlinkHostingDeploymentDomain.__typename)return k(e.data.unlinkHostingDeploymentDomain.message),[2];return D(!1),[2]}})})()}})]})]}),(0,c.Y)(sS,{domain:s})]}):null,"add"===Y?(0,c.Y)(G.S,{pl:4,pr:8,gap:12,children:(0,c.Y)(sY,{domain:s.domain,loading:w||A,handleSubmit:function(e){return(0,g._)(function(){var n;return(0,y.YH)(this,function(t){switch(t.label){case 0:return[4,b({variables:{input:{domainId:s.id,host:e.host,type:e.type,answer:e.answer,priority:"MX"===e.type?e.priority:void 0}}})];case 1:if((n=t.sent()).errors)return k("Something went wrong"),[2];if(!n.data)return[2];return"CreateDnsRecordOutput"===n.data.createDnsRecord.__typename?E("dns"):k(n.data.createDnsRecord.message),[2]}})})()},handleBack:function(){E("dns")}})}):null]})}var sk=[{label:"A",value:"A"},{label:"TXT",value:"TXT"},{label:"MX",value:"MX"},{label:"CNAME",value:"CNAME"}],sC=(0,eF.x)({hostField:[M.wp.flex.growAndShrink(1)],select:[M.wp.minWidth(120)]});function sY(e){var n=e.handleSubmit,t=e.handleBack,r=e.loading,a=e.domain,i=(0,l._)((0,d.useState)(""),2),o=i[0],s=i[1],u=(0,l._)((0,d.useState)("@"),2),f=u[0],p=u[1],h=(0,l._)((0,d.useState)(""),2),m=h[0],v=h[1],g=(0,l._)((0,d.useState)("10"),2),b=g[0],y=g[1],w="MX"===o?"mail.".concat(a):"CNAME"===o?"target.example.com":"Your value here";return(0,c.FD)(sd.lV,{gap:8,onSubmit:function(e){e.preventDefault(),n({type:o,host:f,answer:m,priority:"MX"===o?Number(b):void 0})},children:[(0,c.FD)(G.S,{row:!0,gap:4,align:"start",children:[(0,c.Y)(sp.l,{isRequired:!0,label:"Type",items:sk,css:sC.select,placeholder:"Select type",selectedKey:o,onSelectionChange:function(e){return s(e)},children:function(e){return(0,c.Y)(oq.nh,{id:e.value,label:e.label},e.value)}}),(0,c.FD)(sm.A_,{css:sC.hostField,isRequired:!0,children:[(0,c.Y)(a3.J,{children:"Hostname"}),(0,c.Y)(o9.pd,{placeholder:"@",value:f,onChange:function(e){return p(e.target.value)}}),(0,c.Y)(sc.bg,{})]}),"MX"===o?(0,c.FD)(sm.A_,{isRequired:!0,css:sC.select,children:[(0,c.Y)(a3.J,{children:"Priority"}),(0,c.Y)(o9.pd,{type:"number",min:0,max:65535,placeholder:"10",value:b,onChange:function(e){return y(e.target.value)}}),(0,c.Y)(sc.bg,{})]}):null]}),(0,c.FD)(sm.A_,{isRequired:!0,children:[(0,c.Y)(a3.J,{children:"Record"}),(0,c.Y)(o9.pd,{placeholder:w,value:m,onChange:function(e){return v(e.target.value)}}),(0,c.Y)(sc.bg,{})]}),(0,c.Y)(eX.$n,{text:"Add",type:"submit",loading:r}),(0,c.Y)(eX.$n,{text:"Back",onClick:t,loading:r})]})}function sE(e){var n=e.domain,t=e.items,r=e.hostingDeploymentId,a=e.handleDelete;return(0,c.Y)(G.S,{gap:4,css:sw.rootExpanded,children:t.map(function(e){return(0,c.Y)(sx,{item:e,domain:n,hostingDeploymentId:r,handleDelete:a},e.id)})})}function sx(e){var n,t,r,a,i,o=e.item,s=e.domain,u=e.hostingDeploymentId,f=e.handleDelete,p=(0,l._)((0,d.useState)(!1),2),h=p[0],m=p[1],v=(t=null!=(n=o.host)?n:"",!!("TXT"===o.type&&u&&o3.includes(t)&&o.answer==="replit-verify=".concat(u)||"A"===o.type&&u&&o3.includes(t))),g=null!=(r=o.host)?r:"",b=g?"".concat(g,".").concat(s.domain):s.domain;return(0,c.FD)(G.S,{row:!0,gap:4,align:"center",children:[(0,c.Y)(G.S,{grow:!0,children:(0,c.Y)(si,{type:null!=(a=o.type)?a:"",record:null!=(i=o.answer)?i:"",hostname:b})}),(0,c.FD)(sf.Wv,{elevated:!0,placement:"bottom right",label:"Delete DNS record",isOpen:h,onOpenChange:m,children:[(0,c.Y)(eY.K0,{css:sw.deleteButton,alt:"Delete",onClick:function(){return m(!0)},children:(0,c.Y)(sg.A,{})}),(0,c.FD)(G.S,{gap:4,p:8,children:[(0,c.Y)($.EY,{children:v?"Deleting Replit managed DNS records may cause your domain to stop working properly. Are you sure you want to continue?":"Are you sure you want to delete this DNS record?"}),(0,c.Y)(eX.$n,{text:"Delete",onClick:function(){f(o.id),m(!1)},iconLeft:(0,c.Y)(sg.A,{})})]})]})]},o.id)}function sT(e){var n,t,r,a=e.domain,i=e.deploymentId,s=e.replId,u=e.apexProxy,f=e.authorizations,p=(0,l._)((0,d.useState)(!1),2),h=p[0],m=p[1],v=(0,l._)((0,d.useState)(!1),2),g=v[0],b=v[1],y=(0,tU._P)({controlName:"flag-domains-glowup",default:!1}),_=(0,l._)((n={variables:{id:i,isGlowup:y},fetchPolicy:"network-only",ssr:!1},t=(0,o._)({},af,n),rG._(av,t)),2),S=_[0],A=_[1].loading,k=(0,l._)(aa(),2),C=k[0],Y=k[1].loading,E=(0,l._)((r=(0,o._)({},r8,void 0),tm.n(ai,r)),2),x=E[0],T=E[1].loading,D=a.state===w.xpm.Failed,I=f.addCustomDomain,R=I.isAuthorized,N=I.message,O=f.deleteCustomDomain,P=O.isAuthorized,F=O.message;return(0,c.FD)(na.ui,{elevated:!0,css:h?sw.rootExpanded:sw.root,children:[(0,c.FD)(G.S,{css:sw.domainRow,style:{borderBottomLeftRadius:h?0:void 0,borderBottomRightRadius:h?0:void 0},children:[(0,c.FD)(G.S,{css:sw.domainWrapper,shrink:!0,row:!0,gap:8,align:"center",children:[(0,c.Y)($.EY,{multiline:!1,children:(0,c.Y)("a",{target:"_blank",href:"".concat(a.domain.startsWith("http://")||a.domain.startsWith("https://")?"":"https://").concat(a.domain),children:a.domain})}),(0,c.FD)(G.S,{row:!0,gap:4,align:"center",children:[(0,c.Y)(G.S,{css:sw.statusDot,style:{backgroundColor:s_[a.state].color}}),(0,c.Y)($.EY,{color:"dimmer",variant:"small",children:s_[a.state].text})]})]}),(0,c.FD)(G.S,{row:!0,children:[(0,c.Y)(su.r,{textToCopy:a.domain,tooltipSuccessText:"Copy link"}),(0,c.Y)(nF.m_,{tooltip:N,isDisabled:R,children:(0,c.Y)(eY.K0,{alt:"Edit",disabled:!R,tooltipBehavior:"hidden",onClick:function(){b(!1),m(function(e){return!e})},css:M.wp.color.foregroundDimmer,children:h?(0,c.Y)(nD.A,{}):(0,c.Y)(nh.A,{})})})]})]}),h?(0,c.Y)(G.S,{pl:4,pr:8,gap:12,children:g?(0,c.FD)(c.FK,{children:[(0,c.Y)($.EY,{children:"Are you sure you want to unlink this domain?"}),(0,c.FD)(G.S,{css:sw.buttons,children:[(0,c.Y)(eX.$n,{size:"small",variant:"outlined",text:"Cancel",onClick:function(){b(!1)}}),(0,c.Y)(eX.$n,{size:"small",disabled:Y,text:"Yes, unlink "+a.domain,colorway:"negative",onClick:function(){C({variables:{input:{hostingDeploymentDomainId:a.id}}})}})]})]}):(0,c.FD)(c.FK,{children:[(0,c.FD)(G.S,{gap:6,children:[D?(0,c.FD)(c.FK,{children:[(0,c.FD)(G.S,{row:!0,gap:6,align:"center",children:[(0,c.Y)(nR.A,{}),(0,c.Y)($.EY,{children:"DNS Error"})]}),(0,c.FD)($.EY,{children:["Failed to link domain",a.status?": ".concat(a.status.endsWith(".")?a.status.slice(0,-1):a.status):null,". Make sure your domain's DNS settings have these records."," ",(0,c.Y)("a",{target:"_blank",href:ss,children:"Learn more"})]})]}):(0,c.FD)($.EY,{color:"dimmer",children:["Add these records to your domain's"," ",(0,c.Y)("strong",{css:M.wp.color.foregroundDefault,children:"DNS settings"}),". This may take up to 48 hours to fully apply."," ",(0,c.Y)("a",{target:"_blank",href:ss,children:"Learn more"})]}),(0,c.Y)(so,{hostname:a.domain,apexProxy:u,replId:s})]}),(0,c.FD)(G.S,{css:sw.buttons,children:[(0,c.Y)(eX.$n,{iconLeft:A||T?(0,c.Y)(tY.A,{}):(0,c.Y)(sv.A,{}),size:"small",text:D?"Retry linking":"Check status",onClick:function(){D?x({variables:{input:{hostingDeploymentDomainId:a.id}}}):S()}}),(0,c.Y)(nF.m_,{isDisabled:P,tooltip:F,children:(0,c.Y)(eX.$n,{iconLeft:(0,c.Y)(sg.A,{}),size:"small",disabled:Y||!P,text:D?"Remove domain":"Unlink domain",colorway:"negative",onClick:function(){b(!0)}})})]})]})}):null]})}function sD(e){var n=e.domain,t=e.deploymentId,r=e.replId,a=e.apexProxy,i=e.authorizations;return n.managed?(0,c.Y)(sA,{domain:n,deploymentId:t,authorizations:i}):(0,c.Y)(sT,{domain:n,deploymentId:t,replId:r,apexProxy:a,authorizations:i})}var sI=(0,eF.x)({item:[M.wp.borderRadius(8)]});function sR(e){var n,t,r,a=e.deploymentId,i=e.refetchDomainsQuery,s=(0,tR.A)(),u=oT({fetchPolicy:"cache-and-network",ssr:!1}),d=u.data,f=u.refetch,p=null==d||null==(r=d.currentUser)||null==(t=r.domains)?void 0:t.items,h=(0,l._)((n=(0,o._)({},oE,void 0),tm.n(oD,n)),2),m=h[0],v=h[1].loading;if(!(null==p?void 0:p.length))return null;var b=function(e){return(0,g._)(function(){return(0,y.YH)(this,function(n){switch(n.label){case 0:return[4,m({variables:{replId:s,domainName:e,deploymentId:a}})];case 1:return n.sent(),i(),f(),[2]}})})()};return(0,c.FD)(c.FK,{children:[(0,c.FD)(G.S,{row:!0,align:"center",gap:8,children:[(0,c.Y)($.EY,{variant:"subheadDefault",children:"Available to link:"}),v?(0,c.Y)(tY.A,{}):null]}),(0,c.Y)(G.S,{gap:8,tag:"ul",children:p.map(function(e){return(0,c.Y)(sN,{loading:v,domain:e.domain,handleLink:b},e.id)})}),(0,c.FD)($.EY,{variant:"small",color:"dimmer",children:["View all your purchased domains on your"," ",(0,c.Y)(oU(),{href:"/account#domains",target:"_blank",children:"account"})," ","page."]})]})}function sN(e){var n=e.domain,t=e.handleLink,r=e.loading,a=(0,l._)((0,d.useState)(!1),2),i=a[0],o=a[1];return(0,c.FD)(na.ui,{tag:"li",css:sI.item,elevated:!0,row:!0,px:8,py:4,align:"center",justify:"space-between",children:[(0,c.Y)($.EY,{children:n}),(0,c.FD)(sf.Wv,{placement:"bottom right",isOpen:i&&!r,onOpenChange:o,label:"Link domain",children:[(0,c.Y)(eY.K0,{onClick:function(){return o(!0)},alt:"Link",children:(0,c.Y)(nI.A,{})}),(0,c.FD)(G.S,{gap:8,p:8,children:[(0,c.FD)($.EY,{children:["Point ",n," to this deployment?"]}),(0,c.Y)(eX.$n,{onClick:function(){t(n),o(!1)},text:"Yes",loading:r})]})]})]})}var sO=t(59655),sP=t.n(sO),sF=t(51217),sU=(0,eF.x)({root:[M.wp.borderRadius(8),M.wp.border({color:eC.LU.outlineDimmer})],labelRow:[M.wp.rowWithGap(8),M.wp.align.center],labelText:[M.wp.flex.growAndShrink(1)],controls:[{"& > button":[M.wp.flex.growAndShrink(1)]}]}),sL=function(e){try{return new URL(e.startsWith("http")?e:"https://".concat(e)).hostname.toLowerCase()}catch(n){return e.trim().toLowerCase()}};function sM(e){var n,t,r=(0,l._)((0,d.useState)([]),2),a=r[0],i=r[1],s=(0,l._)((n={onCompleted:function(){e.onAdd()}},t=(0,o._)({},af,n),tm.n(ab,t)),2),u=s[0],f=s[1].loading;return(0,c.Y)(G.S,{css:sU.root,p:8,children:0===a.length?(0,c.Y)(sJ,{onCancel:e.onCancel,onSubmit:function(e){i(e)}}):(0,c.Y)(sH,{onCancel:e.onCancel,onSubmit:function(){u({variables:{input:{hostingDeploymentId:e.deploymentId,domain:a[0]}}})},domains:a,apexProxy:e.apexProxy,deploymentId:e.deploymentId,isLinkingDomains:f,replId:e.replId})})}function sJ(e){var n=e.onSubmit,t=e.onCancel,r=(0,d.useId)(),a=(0,l._)((0,d.useState)(!0),2),i=a[0],o=a[1],s=(0,l._)((0,d.useState)(void 0),2),u=s[0],f=s[1];return(0,c.FD)(G.S,{tag:"form",gap:16,onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget).get("domain");if(t=sL(t),!sP()(t))return void f("Enter a valid domain");n([t])},children:[(0,c.FD)(G.S,{gap:8,children:[(0,c.Y)(G.S,{tag:"label",htmlFor:r+"input",css:sU.labelRow,children:(0,c.Y)($.EY,{color:"dimmer",children:"First, enter your domain"})}),(0,c.Y)(o9.pd,{name:"domain",id:r+"input",autoFocus:!0,placeholder:"example.com",onChange:function(e){o(""===e.currentTarget.value.trim()),f(void 0)}}),u?(0,c.FD)(G.S,{row:!0,gap:4,align:"center",children:[(0,c.Y)(nR.A,{size:12,color:eC.LU.orangeDefault}),(0,c.Y)($.EY,{variant:"small",children:u})]}):null]}),(0,c.FD)(G.S,{css:sU.controls,row:!0,gap:8,justify:"space-between",children:[(0,c.Y)(eX.$n,{type:"button",text:"Cancel",onClick:t}),(0,c.Y)(eX.$n,{iconRight:(0,c.Y)(i2.A,{}),colorway:"primary",type:"submit",disabled:i||void 0!==u,text:"Next"})]})]})}function sH(e){var n=e.onSubmit,t=e.onCancel,r=e.domains,a=e.apexProxy,i=e.deploymentId,o=e.isLinkingDomains,s=e.replId,l=(0,d.useRef)(null);return(0,d.useEffect)(function(){l.current&&l.current.focus()},[]),(0,c.Y)(G.S,{gap:16,children:(0,c.FD)(G.S,{gap:8,children:[(0,c.Y)(sB,{replId:s,apexProxy:a,deploymentId:i,domains:r}),(0,c.FD)(G.S,{css:sU.controls,row:!0,gap:8,justify:"space-between",children:[(0,c.Y)(eX.$n,{type:"button",text:"Cancel",onClick:t,disabled:o}),(0,c.Y)(eX.$n,{iconRight:o?(0,c.Y)(tY.A,{}):(0,c.Y)(t0.A,{}),colorway:"primary",type:"submit",text:r.length>1?"Link domains":"Link domain",ref:l,onClick:function(){return n()},disabled:o})]})]})})}function sB(e){var n=e.domains.map(function(n){return{A:{hostname:n,record:e.apexProxy},TXT:{hostname:n,record:"replit-verify=".concat(e.replId)}}});return(0,c.FD)(G.S,{gap:8,children:[(0,c.FD)(G.S,{css:sU.labelRow,children:[(0,c.Y)(sF.A,{color:eC.LU.foregroundDimmest}),(0,c.FD)($.EY,{multiline:!0,css:sU.labelText,children:["Next, add the following records to your domain's DNS settings."," ",(0,c.Y)("a",{target:"_blank",href:ss,children:"Learn more"})]}),(0,c.Y)(su.i,{textToCopy:JSON.stringify(n,null,2),text:"JSON",showIcon:!0,size:"small"})]}),(0,c.Y)(G.S,{gap:8,children:e.domains.map(function(n){return(0,c.Y)(so,{apexProxy:e.apexProxy,hostname:n,replId:e.replId},n)})})]})}var sV=(0,eF.x)({root:[M.wp.borderRadius(8),M.wp.minHeight(32)],domainMessage:[M.wp.color.foregroundDimmer]});function s$(e){var n=e.domainName,t=e.status,r=e.message;return(0,c.FD)(na.ui,{elevated:!0,css:sV.root,pl:8,pr:4,py:4,children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",justify:"start",children:[(0,c.Y)($.EY,{multiline:!1,children:n}),(0,c.FD)(G.S,{row:!0,align:"center",gap:4,children:[function(e){switch(e){case"pending":default:return(0,c.Y)(ax.A,{color:eC.LU.foregroundDimmer});case"success":return(0,c.Y)(ni.A,{color:eC.LU.accentPositiveDefault});case"fail":return(0,c.Y)(e2.A,{color:eC.LU.accentNegativeDefault})}}(t),(0,c.Y)($.EY,{color:"dimmer",variant:"small",children:function(e){switch(e){case"pending":return"Processing...";case"dns-verifying":return"Verifying DNS...";case"success":return"Domain purchased successfully";case"fail":return"Purchase failed";default:return e}}(t)})]})]}),r?(0,c.Y)($.EY,{variant:"small",css:sV.domainMessage,children:r}):null]})}function sG(e){var n,t,r,a=e.refetchDomainsQuery,i=e.omitDomains,s=(0,l._)((0,d.useState)(new Set),2),u=s[0],f=s[1],p=(0,tR.A)(),h=(n={variables:{replId:p},fetchPolicy:"cache-and-network",ssr:!1},t=(0,o._)({},rK,n),I.I(rX,t)).data;r=(0,o._)({},rK,{variables:{replId:p},onData:function(e){var n,t,r=e.data;if(r&&(null==(t=r.data)||null==(n=t.pendingDomainsUpdates)?void 0:n.pendingDomains)){var i=r.data.pendingDomainsUpdates.pendingDomains.filter(function(e){return"success"===e.status}).map(function(e){return e.domainName}),o=new Set((0,b._)(u).concat((0,b._)(i)));o.size>u.size&&a(),f(o)}}}),rW.R(r0,r);var m=(0,d.useMemo)(function(){var e;return(null==h||null==(e=h.getRepl)?void 0:e.__typename)!=="Repl"?null:h.getRepl.pendingDomains.filter(function(e){return!i.has(e.domainName)})},[h,i]);return m&&0!==m.length?(0,c.Y)(G.S,{gap:8,children:m.map(function(e){var n;return i.has(e.domainName)?null:(0,c.Y)(s$,{domainName:e.domainName,status:e.status,message:null!=(n=e.message)?n:void 0},e.domainName)})}):null}var sz=(0,eF.x)({primaryDomain:[M.wp.borderRadius(8),M.wp.height(32)],primaryDomainLink:[M.wp.flex.shrink(1),M.wp.color.accentPrimaryStronger,{a:M.wp.hover(M.wp.color.accentPrimaryStrongest)}],domainPostPurchaseInfo:[M.wp.borderRadius(8),M.wp.border()],buyWrapper:[M.wp.height("100%"),M.wp.overflow("hidden")],scrollContainer:[M.wp.overflow("auto")]});function sW(e){var n,t,r,a,i,s,u,f,p=e.deployment,m=e.authorizations,v=(n={variables:{id:(0,tR.A)()}},t=(0,o._)({},af,n),I.I(am,t)),g=v.data,y=v.loading,_=(null==g||null==(r=g.getRepl)?void 0:r.__typename)==="Repl"&&!!(null==(a=g.getRepl.org)?void 0:a.id),S=(0,l._)((0,d.useState)(!1),2),A=S[0],k=S[1],C=(0,l._)((0,d.useState)(!1),2),Y=C[0],E=C[1],x=(0,l._)((0,d.useState)(void 0),2),T=x[0],D=x[1],R=oT({fetchPolicy:"cache-and-network",ssr:!1}).data,N=null==R||null==(s=R.currentUser)||null==(i=s.domains)?void 0:i.items,O=ag({variables:{id:p.id,isGlowup:!1},fetchPolicy:"cache-and-network",ssr:!1,pollInterval:T,onCompleted:function(e){var n,t;D((null==(n=e.hostingDeployment)?void 0:n.__typename)==="HostingDeployment"&&(null==(t=e.hostingDeployment.domains2)?void 0:t.some(function(e){return e.state===w.xpm.Verifying}))?3e4:void 0)}}).refetch,P=(null==p||null==(u=p.domains2)?void 0:u.length)?p.domains2:null,F=(0,d.useMemo)(function(){return new Set((0,b._)((null!=P?P:[]).map(function(e){return e.domain})).concat((0,b._)((null!=N?N:[]).map(function(e){return e.domain}))).map(function(e){return e}))},[P,N]),U=(null==p?void 0:p.currentBuild.status)===w.nHS.Success,L=null==p?void 0:p.repl.apexProxy,J=(0,h.cF)();if(Y&&L)return(0,c.Y)(G.S,{css:sz.buyWrapper,gap:8,children:(0,c.Y)(o1,{suggestedDomain:null==p?void 0:p.repl.title,deploymentId:p.id,onRequestClose:function(){return E(!1)}})});var H=function(){var e,n,t,r,a,i=(null==J||null==(e=J.repl.hostingDeployment)?void 0:e.__typename)==="HostingDeployment"?null==(n=J.repl.hostingDeployment)?void 0:n.replitAppSubdomain:void 0;if(!i&&(null==J||null==(t=J.repl.owner)?void 0:t.username)&&(i="".concat(J.repl.slug,"-").concat(J.repl.owner.username)),i)return"".concat(i).concat((null==(a=window)||null==(r=a.location)?void 0:r.hostname)!=="replit.com"?".staging":"",".").concat(ne.co)}(),B=m.addCustomDomain,z=B.isAuthorized,W=B.message;return(0,c.Y)(G.S,{css:sz.buyWrapper,gap:8,children:(0,c.FD)(G.S,{css:sz.scrollContainer,shrink:!0,children:[(0,c.Y)(G.S,{py:12,children:(0,c.Y)($.EY,{variant:"subheadDefault",children:"Domains"})}),(0,c.FD)(G.S,{gap:8,children:[(0,c.FD)(na.ui,{elevated:!0,css:sz.primaryDomain,justify:"space-between",align:"center",pl:8,pr:4,row:!0,gap:4,children:[(0,c.Y)($.EY,{multiline:!1,css:sz.primaryDomainLink,children:(0,c.Y)("a",{href:"https://".concat(H),target:"_blank",rel:"noreferrer noopener",children:H})}),(0,c.FD)(G.S,{row:!0,align:"center",children:[(0,c.Y)(su.r,{textToCopy:null!=H?H:""}),(0,c.Y)(nF.m_,{tooltip:sj,children:(0,c.Y)(to.A,{"aria-label":sj,color:eC.LU.foregroundDimmer,css:M.wp.m(4)})})]})]}),P&&p?(0,c.Y)(G.S,{gap:8,children:P.map(function(e){return(0,c.Y)(G.S,{children:(0,c.Y)(sD,{apexProxy:p.repl.apexProxy,deploymentId:p.id,domain:e,authorizations:m,replId:p.repl.id})},e.domain)})}):null,(0,c.Y)(sG,{refetchDomainsQuery:function(){O()},omitDomains:F}),(0,c.Y)(sR,{deploymentId:p.id,refetchDomainsQuery:O}),(null==(f=p.domains2)?void 0:f.some(function(e){return e.managed&&5>(0,ok.A)(new Date,new Date(e.timeCreated))}))?(0,c.FD)(na.ui,{px:8,py:8,elevated:!0,css:sz.domainPostPurchaseInfo,children:[(0,c.FD)(G.S,{row:!0,align:"center",gap:8,children:[(0,c.Y)(az.A,{}),(0,c.Y)($.EY,{children:"Congratulations on your new domain!"})]}),(0,c.Y)(G.S,{pl:24,children:(0,c.Y)($.EY,{variant:"small",children:"You may see a temporary error when accessing your domain that usually resolves within a few minutes after purchasing. If the problem persists longer than 48 hours, please contact Replit Support."})})]}):null,A&&L?(0,c.Y)(sM,{apexProxy:L,deploymentId:p.id,onAdd:function(){return k(!1)},onCancel:function(){return k(!1)},replId:p.repl.id}):null,U?null:(0,c.Y)(V.N,{colorway:"warning",icon:(0,c.Y)(nR.A,{}),text:"You must successfully publish your project before linking a domain"}),!1===A?(0,c.FD)(G.S,{row:!0,gap:8,children:[(0,c.Y)(nF.m_,{tooltip:_?"Custom domain purchasing is coming soon to org-owned Apps.":W,isDisabled:z&&!_,children:(0,c.Y)(eX.$n,{disabled:!U||!z||_||y,iconLeft:(0,c.Y)(nI.A,{}),text:"Buy a new domain",onClick:function(){(0,eQ.u4)(eQ.AZ.DOMAIN_PURCHASE,{action:"flow_opened",suggestedDomain:null==p?void 0:p.repl.title}),E(!0)},variant:"outlined",size:"small",iconRight:(0,c.Y)(np.a,{compact:!0,colorway:"primary",text:"Beta"})})}),(0,c.Y)(nF.m_,{tooltip:W,isDisabled:z,children:(0,c.Y)(eX.$n,{disabled:!U||!z,iconLeft:(0,c.Y)(nI.A,{}),text:"Manually connect from another registrar",onClick:function(){k(!0)},variant:"outlined",size:"small"})})]}):null]})]})})}var sj="The primary domain always ends in replit.app. To change, you must unpublish your app and publish again.";function sq(){var e=(0,T._)(["\n  fragment DomainsGlowupRepl on Repl {\n    id\n    org {\n      id\n    }\n  }\n"]);return sq=function(){return e},e}function sZ(){var e=(0,T._)(["\n  fragment DomainVerificationStatus on Domain {\n    state\n  }\n"]);return sZ=function(){return e},e}function sK(){var e=(0,T._)(["\n  fragment DomainsGlowupDomain on Domain {\n    id\n    state\n    domain\n    managed\n    ...DomainVerificationStatus\n    dnsRecords {\n      id\n      answer\n      type\n      host\n    }\n    whois {\n      registrar\n      creationDate\n      expiryDate\n    }\n    currentDnsRecords {\n      A\n      TXT\n    }\n    renewalPriceCents\n    autorenew\n    timeCreated\n  }\n  ","\n"]);return sK=function(){return e},e}function sQ(){var e=(0,T._)(["\n  fragment DomainsGlowupHostingDeployment on HostingDeployment {\n    id\n    currentBuild {\n      id\n      status\n    }\n    repl {\n      id\n      title\n      apexProxy\n    }\n    domains2 {\n      ...DomainsGlowupDomain\n    }\n  }\n  ","\n"]);return sQ=function(){return e},e}function sX(){var e=(0,T._)(["\n  query DomainsGlowupRepl($id: String!) {\n    getRepl(id: $id) {\n      ...DomainsGlowupRepl\n    }\n  }\n  ","\n"]);return sX=function(){return e},e}function s0(){var e=(0,T._)(["\n  query DomainsGlowupHostingDeploymentDomains(\n    $id: String!\n    $isGlowup: Boolean!\n  ) {\n    hostingDeployment(id: $id) {\n      ... on HostingDeployment {\n        id\n        ...HostingDeploymentDomainsHostingDeployment\n      }\n    }\n  }\n  ","\n"]);return s0=function(){return e},e}function s1(){var e=(0,T._)(["\n  query DomainsGlowupPrefetchLinkablePurchasedDomains {\n    currentUser {\n      id\n      domains(managed: true, onlyUnlinked: true) {\n        items {\n          id\n          domain\n        }\n      }\n    }\n  }\n"]);return s1=function(){return e},e}var s2={},s3=(0,D.J1)(sq()),s4=(0,D.J1)(sZ()),s5=(0,D.J1)(sK(),s4);sQ();var s7=(0,D.J1)(sX(),s3),s9=(0,D.J1)(s0(),ah),s8=(0,D.J1)(s1()),s6=t(59737),le=t(83252);function ln(){var e=(0,T._)(["\n  fragment DomainsGlowupLinkablePurchasedDomains on CurrentUser {\n    domains(managed: true, onlyUnlinked: true) {\n      items {\n        id\n        domain\n      }\n    }\n  }\n"]);return ln=function(){return e},e}function lt(){var e=(0,T._)(["\n  fragment DomainsGlowupMinimalHostingDeploymentDomains on HostingDeployment {\n    id\n    domains2 {\n      id\n      domain\n    }\n  }\n"]);return lt=function(){return e},e}function lr(){var e=(0,T._)(["\n  query DomainsGlowupDomainManagementLinkablePurchasedDomains {\n    currentUser {\n      id\n      ...DomainsGlowupLinkablePurchasedDomains\n    }\n  }\n  ","\n"]);return lr=function(){return e},e}function la(){var e=(0,T._)(["\n  mutation DomainsGlowupUnlinkDomain(\n    $input: UnlinkHostingDeploymentDomainInput!\n  ) {\n    unlinkHostingDeploymentDomain(input: $input) {\n      ... on HostingDeployment {\n        id\n        ...DomainsGlowupMinimalHostingDeploymentDomains\n        repl {\n          ...PendingDomainsRepl\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return la=function(){return e},e}function li(){var e=(0,T._)(["\n  mutation DomainsGlowupDeleteDnsRecord($input: DeleteDnsRecordInput!) {\n    deleteDnsRecord(input: $input) {\n      ... on Error {\n        message\n      }\n      ... on DeleteDnsRecordOutput {\n        domain {\n          id\n          dnsRecords {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return li=function(){return e},e}function lo(){var e=(0,T._)(["\n  mutation DomainsGlowupSetShouldAutoRenew(\n    $input: SetShouldDomainAutoRenewInput!\n  ) {\n    setShouldDomainAutoRenew(input: $input) {\n      ... on Error {\n        message\n      }\n      ... on SetShouldDomainAutoRenewResult {\n        domain {\n          id\n          autorenew\n        }\n      }\n    }\n  }\n"]);return lo=function(){return e},e}function ls(){var e=(0,T._)(["\n  mutation DomainsGlowupVerifyDomain($input: VerifyDomainInput!) {\n    verifyDomain(input: $input) {\n      ... on Domain {\n        ...DomainsGlowupDomain\n      }\n    }\n  }\n  ","\n"]);return ls=function(){return e},e}function ll(){var e=(0,T._)(["\n  mutation DomainsGlowupCreateDnsRecord($input: CreateDnsRecordInput!) {\n    createDnsRecord(input: $input) {\n      ... on Error {\n        message\n      }\n      ... on CreateDnsRecordOutput {\n        domain {\n          id\n          ...DomainsGlowupDomain\n        }\n      }\n    }\n  }\n  ","\n"]);return ll=function(){return e},e}var lu={},lc=(0,D.J1)(ln()),ld=(0,D.J1)(lt()),lf=(0,D.J1)(lr(),lc),lp=(0,D.J1)(la(),ld,rQ),lh=(0,D.J1)(li()),lm=(0,D.J1)(lo()),lv=(0,D.J1)(ls(),s5),lg=(0,D.J1)(ll(),s5);function lb(){var e=(0,T._)(["\n  query DomainsGlowupConnectDomainLinkablePurchasedDomains {\n    currentUser {\n      id\n      ...DomainsGlowupLinkablePurchasedDomains\n    }\n  }\n  ","\n"]);return lb=function(){return e},e}function ly(){var e=(0,T._)(["\n  mutation DomainsGlowupLinkExternalDomain(\n    $input: LinkHostingDeploymentDomainInput!\n    $isGlowup: Boolean = true\n  ) {\n    linkHostingDeploymentDomain(input: $input) {\n      ... on HostingDeployment {\n        ...HostingDeploymentDomainsHostingDeployment\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return ly=function(){return e},e}function lw(){var e=(0,T._)(["\n  mutation DomainsGlowupLinkPurchasedDomain(\n    $replId: String!\n    $domainName: String!\n    $deploymentId: String!\n    $isGlowup: Boolean = true\n  ) {\n    linkReplDomain2(\n      replId: $replId\n      deploymentId: $deploymentId\n      domain: $domainName\n    ) {\n      __typename\n      ... on Repl {\n        id\n        hostingDeployment {\n          ...HostingDeploymentDomainsHostingDeployment\n        }\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return lw=function(){return e},e}var l_={},lS=(0,D.J1)(lb(),lc),lA=(0,D.J1)(ly(),ah),lk=(0,D.J1)(lw(),ah),lC=t(87968),lY=t.n(lC);function lE(e){var n;return(0,c.Y)(G.S,{clsx:(n={},(0,A._)(n,lY().tableWrapper,!e.noBorder),(0,A._)(n,lY().tableWrapperBorderless,e.noBorder),n),children:(0,c.Y)("table",{className:lY().table,children:e.children})})}function lx(e){var n=e.children;return(0,c.Y)(na.ui,{elevated:!0,tag:"tr",clsx:lY().tableHeader,children:n})}function lT(e){var n=e.children,t=(0,nr._)(e,["children"]);return(0,c.Y)("tr",(0,s._)((0,o._)({},t),{clsx:[lY().tableRow,t.className],children:n}))}function lD(e){var n=e.children,t=(0,nr._)(e,["children"]);return(0,c.Y)("td",(0,s._)((0,o._)({},t),{clsx:[lY().tableCell,t.className],children:n}))}function lI(e){var n=e.children,t=(0,nr._)(e,["children"]);return(0,c.Y)("span",(0,s._)((0,o._)({},t),{clsx:[lY().screenReaderOnly,t.className],children:n}))}function lR(e){var n=(0,l._)((0,d.useState)(!1),2),t=n[0],r=n[1];return(0,d.useEffect)(function(){if(t){var e=setTimeout(function(){r(!1)},1e3);return function(){return clearTimeout(e)}}},[t]),(0,c.FD)(G.S,{row:!0,align:"center",justify:"space-between",gap:8,children:[(0,c.Y)($.EY,{variant:"small",children:e.value}),(0,c.Y)(eY.K0,{alt:"Copy",tooltipBehavior:"hidden",onClick:function(){(0,o5.default)(e.value),r(!0)},children:t?(0,c.Y)(ni.A,{}):(0,c.Y)(o8.A,{})})]})}function lN(e){var n;return(0,c.FD)(lE,{noBorder:null!=(n=e.noBorder)&&n,children:[(0,c.FD)(lx,{children:[(0,c.Y)("th",{children:(0,c.Y)($.EY,{variant:"small",color:"dimmer",children:"Type"})}),(0,c.Y)("th",{children:(0,c.Y)($.EY,{variant:"small",color:"dimmer",children:"Hostname"})}),(0,c.Y)("th",{children:(0,c.Y)($.EY,{variant:"small",color:"dimmer",children:"Record"})}),e.actions?(0,c.Y)("th",{children:(0,c.Y)(lI,{children:"Actions"})}):null]}),e.dnsRecords.map(function(n){return(0,c.FD)(lT,{children:[(0,c.Y)(lD,{children:n.type}),(0,c.Y)(lD,{children:e.showCopyButton?(0,c.Y)(lR,{value:n.hostname}):n.hostname}),(0,c.Y)(lD,{width:"100%",children:e.showCopyButton?(0,c.Y)(lR,{value:n.record}):n.record}),e.actions?(0,c.Y)(lD,{children:e.actions(n)}):null]},n.id)})]})}function lO(e){var n="replit-verify=".concat(e.replId),t=o4(e.hostname);return[{id:"A-".concat(t),type:"A",hostname:t,record:e.apexProxy},{id:"TXT-".concat(t),type:"TXT",hostname:t,record:n}]}var lP=t(67384),lF=t(21701),lU=t(71192),lL=t.n(lU);function lM(e){var n=e.trim().toLowerCase();if(""===n)return n;n.startsWith("http://")||n.startsWith("https://")||(n="https://".concat(n));try{return new URL(n).hostname.toLowerCase()}catch(e){return n}}function lJ(e){var n,t,r=(0,l._)((0,d.useState)(null),2),a=r[0],i=r[1],u=(0,sl.A)().showError,f=(0,l._)((n={onCompleted:function(n){return(0,g._)(function(){var t;return(0,y.YH)(this,function(r){return(null==n?void 0:n.linkHostingDeploymentDomain.__typename)!=="HostingDeployment"?u(null!=(t=null==n?void 0:n.linkHostingDeploymentDomain.message)?t:"Something went wrong when linking your purchased domain"):e.onAdd(),[2]})})()},onError:function(e){u(e.message)}},t=(0,o._)({},l_,n),tm.n(lA,t)),2),p=f[0],h=f[1].loading;function m(){a&&p({variables:{input:{hostingDeploymentId:e.deploymentId,domain:a.domain}}})}return(0,c.FD)(G.S,{gap:8,grow:!0,shrink:!0,px:8,pt:24,children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",children:[(0,c.Y)(eY.K0,{onClick:e.onBack,alt:"Back to domains",disabled:h,children:(0,c.Y)(i1.A,{})}),(0,c.Y)($.Y9,{level:2,variant:"subheadDefault",children:"Connect your own domain"})]}),(0,c.FD)(G.S,{py:12,px:16,gap:24,children:[(0,c.Y)(lH,(0,s._)((0,o._)({},e),{enteredDomainDetails:a,setEnteredDomainDetails:i,linkExternalDomainToDeployment:m,isLinkingExternalDomain:h})),a?(0,c.Y)(lB,(0,s._)((0,o._)({},e),{enteredDomainDetails:a,setEnteredDomainDetails:i,linkExternalDomainToDeployment:m,isLinkingExternalDomain:h})):null]})]})}function lH(e){var n,t,r,a,i,u,f=e.enteredDomainDetails,p=e.setEnteredDomainDetails,h=(0,nr._)(e,["enteredDomainDetails","setEnteredDomainDetails"]),m=(0,d.useId)(),v=(0,l._)((0,d.useState)(void 0),2),b=v[0],w=v[1],_=(0,d.useRef)(null),S=(0,l._)((0,d.useState)(null!=(i=null==f?void 0:f.domain)?i:""),2),A=S[0],k=S[1],C=(0,l._)((n=(0,o._)({},l_,void 0),tm.n(lk,n)),2),Y=C[0],E=C[1].loading,x=(t=(0,o._)({},l_,void 0),I.I(lS,t)).data,T=(0,sl.A)().showError,D=(null!=(u=null==x||null==(a=x.currentUser)||null==(r=a.domains)?void 0:r.items)?u:[]).map(function(e){return e.domain}),R=""===A,N=D.includes(lM(A)),O=R||void 0!==b||E,P=function(){p(null)},F=(0,lP.Z)(f);return(0,d.useEffect)(function(){if(F&&null===f){var e;null==(e=_.current)||e.focus()}},[f,F]),(0,c.FD)(sd.lV,{gap:24,onSubmit:function(e){if(e.preventDefault(),!E){var n,t=A;if("string"!=typeof t||(t=lM(t),!sP()(t)))return void w("Enter a valid domain");(k(t),N)?(n=t,(0,g._)(function(){var e,t,r,a;return(0,y.YH)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Y({variables:{domainName:n,deploymentId:h.deploymentId,replId:h.replId},awaitRefetchQueries:!0,refetchQueries:[{query:lS}]})];case 1:if((null==(e=(t=i.sent()).data)?void 0:e.linkReplDomain2.__typename)!=="Repl")return T(null!=(a=null==(r=t.data)?void 0:r.linkReplDomain2.message)?a:"Something went wrong when linking your purchased domain"),[2];return h.onAdd(),[3,3];case 2:return i.sent(),T("Something went wrong when linking your purchased domain"),[3,3];case 3:return[2]}})})()):p({domain:t})}},children:[(0,c.FD)(G.S,{gap:10,children:[(0,c.Y)(G.S,{htmlFor:m+"domain-input",tag:"label",row:!0,gap:8,align:"center",children:(0,c.Y)($.EY,{color:"dimmer",children:"Enter the domain you want to connect to your project"})}),(0,c.Y)(lF.a,(0,s._)((0,o._)({ref:_,"aria-label":"Select a domain",allowsCustomValue:!0,id:m+"domain-input",placeholder:"example.com",inputValue:A,icon:null===f?(0,c.Y)(ti.A,{}):void 0,menuTrigger:"focus",onInputChange:function(e){k(e),w(void 0)},name:"domain",allowsEmptyCollection:!1},null!==f?{isDisabled:!0,triggerIcon:(0,c.Y)(nh.A,{}),triggerButtonProps:{onClick:function(){P()}}}:0===D.length?{triggerButtonProps:{style:{display:"none"}}}:{}),{children:D.length>0?(0,c.FD)(s6.rd,{children:[(0,c.Y)(le.Y,{clsx:lL().listBoxHeader,children:"Or choose from domains you own on Replit"}),D.map(function(e){return(0,c.Y)(oq.nh,{label:e,id:e},e)})]}):null})),b?(0,c.FD)(G.S,{row:!0,gap:4,align:"center",children:[(0,c.Y)(nR.A,{size:12,color:eC.LU.orangeDefault}),(0,c.Y)($.EY,{variant:"small",children:b})]}):null]}),f?null:(0,c.FD)(G.S,{row:!0,gap:12,clsx:lL().buttonsContainer,children:[(0,c.Y)(eX.$n,{type:"button",text:"Cancel",onClick:h.onBack}),(0,c.Y)(eX.$n,{disabled:O,text:E?"Linking…":N?"Connect Domain":"Link",iconRight:E?void 0:(0,c.Y)(i2.A,{}),loading:E,colorway:"primary",type:"submit"})]})]},f?"entered":"not-entered")}function lB(e){var n=e.enteredDomainDetails,t=e.setEnteredDomainDetails,r=(0,nr._)(e,["enteredDomainDetails","setEnteredDomainDetails"]),a=(0,d.useRef)(null);return(0,d.useEffect)(function(){a.current&&a.current.focus()},[]),(0,c.FD)(G.S,{gap:24,children:[(0,c.FD)(G.S,{gap:12,children:[(0,c.FD)(G.S,{gap:8,py:8,children:[(0,c.Y)($.EY,{variant:"subheadDefault",children:"DNS Records"}),(0,c.FD)($.EY,{children:["Next, add the following records to your domain's DNS settings."," ",(0,c.Y)(oU(),{href:"https://docs.replit.com/cloud-services/deployments/custom-domains",target:"_blank",rel:"noopener",children:"Learn more"})]})]}),(0,c.Y)(lN,{dnsRecords:lO({replId:r.replId,apexProxy:r.apexProxy,hostname:n.domain}),showCopyButton:!0},n.domain)]}),(0,c.FD)(G.S,{row:!0,gap:12,clsx:lL().buttonsContainer,children:[(0,c.Y)(eX.$n,{text:"Cancel",onClick:function(){t(null)},disabled:r.isLinkingExternalDomain}),(0,c.Y)(eX.$n,{text:"Next",iconRight:(0,c.Y)(i2.A,{}),colorway:"primary",ref:a,disabled:r.isLinkingExternalDomain,onClick:r.linkExternalDomainToDeployment,loading:r.isLinkingExternalDomain})]})]})}var lV=t(39068),l$=t.n(lV);function lG(e){return(0,c.Y)(iu.Ay,(0,s._)((0,o._)({},e),{children:(0,c.Y)("path",{fillRule:"evenodd",d:"M11.47 18.53a.75.75 0 0 0 1.06 0l5-5a.75.75 0 1 0-1.06-1.06L12 16.94l-4.47-4.47a.75.75 0 0 0-1.06 1.06l5 5Zm-5-12 5 5a.75.75 0 0 0 1.06 0l5-5a.75.75 0 0 0-1.06-1.06L12 9.94 7.53 5.47a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"})}))}var lz=t(71102),lW=t(12216),lj=t.n(lW),lq=function(e){return e.replace(/^["']|["']$/g,"")};function lZ(e){var n,t,r,a,i=(0,l._)((0,d.useState)(!1),2),o=i[0],s=i[1],u=(0,l._)(lO({replId:e.dns.replId,apexProxy:e.dns.apexProxy,hostname:e.dns.hostname}),2),f=u[0],p=u[1],h=f.record,m=p.record,v="replit-verify=".concat(e.deploymentId),g=o4(e.dns.hostname),b=null!=(r=null==(n=e.dns.currentDnsRecords)?void 0:n.A)?r:[],y=null!=(a=null==(t=e.dns.currentDnsRecords)?void 0:t.TXT)?a:[],w=[];if(b.length>1)return null;var _=b.includes(h);if(!_&&b.length>0?b.forEach(function(e){e!==h&&w.push({type:"A",hostname:g,record:e})}):_||w.push({type:"A",hostname:g,record:"(missing)"}),!y.some(function(e){var n=lq(e);return n===m||n===v})){var S=!1;y.length>0&&y.forEach(function(e){var n=lq(e);(function(e){var n,t=e.toLowerCase(),r="replit-verify";if(t.startsWith("replit-verify="))return!0;var a=t.indexOf("=");if((n=-1!==a?t.substring(0,a):t.substring(0,r.length+5)).length<5||n.length>25)return!1;var i=l$().get(n,r),o=Math.max(n.length,r.length),s=Math.abs(n.length-r.length);return 1-i/o>=.7&&s<=5})(n)&&n!==m&&n!==v&&(w.push({type:"TXT",hostname:g,record:n}),S=!0)}),S||w.push({type:"TXT",hostname:g,record:"(missing)"})}return 0===w.length?null:(0,c.Y)(G.S,{clsx:lj().statusBanner,gap:12,p:8,children:(0,c.FD)(G.S,{gap:8,children:[(0,c.Y)($.EY,{variant:"small",clsx:lj().statusText,children:"The DNS settings for your custom domain do not match the DNS records listed above. Please verify your domain's configuration on the DNS provider website."}),o?(0,c.FD)(G.S,{gap:8,children:[(0,c.Y)($.EY,{variant:"small",clsx:lj().statusText,children:"Below are the incorrect records that need to be updated. Note that DNS records can take up to 48 hours to update."}),(0,c.FD)("table",{clsx:lj().dnsTable,children:[(0,c.Y)("thead",{children:(0,c.FD)("tr",{children:[(0,c.Y)("th",{children:"Type"}),(0,c.Y)("th",{children:"Hostname"}),(0,c.Y)("th",{children:"Record"})]})}),(0,c.Y)("tbody",{children:w.map(function(e,n){return(0,c.FD)("tr",{children:[(0,c.Y)("td",{children:e.type}),(0,c.Y)("td",{children:e.hostname}),(0,c.Y)("td",{clsx:lj().strikeThrough,children:e.record})]},"".concat(e.type,"-").concat(n))})})]})]}):null,(0,c.Y)(G.S,{align:"start",children:(0,c.Y)(eX.$n,{size:"small",shrink:!0,onClick:function(){(0,eQ.u4)(eQ.AZ.DOMAIN_MANAGEMENT,{action:"dns_checker_viewed",domainName:e.dns.hostname,domainId:e.domainId,isInitiative:"glowup"}),s(!o)},"aria-label":o?"Show less":"Show more",iconLeft:o?(0,c.Y)(lz.A,{}):(0,c.Y)(lG,{}),text:o?"Show less":"Show more",colorway:"negative"})})]})})}var lK=t(81551),lQ=t.n(lK);function lX(e){var n=e.state,t=e.customMessage,r={verified:{color:eC.LU.accentPositiveDefault,text:"Verified"},verifying:{color:eC.LU.orangeDefault,text:"Verifying"},temporal_verification:{color:eC.LU.orangeDefault,text:"Verifying"},pushed_to_goval:{color:eC.LU.orangeDefault,text:"Verifying"},failed:{color:eC.LU.accentNegativeDefault,text:"Failed"},expired:{color:eC.LU.accentNegativeDefault,text:"Expired"},purchased:{color:eC.LU.accentPositiveDefault,text:"Purchased"}};return(0,c.FD)(G.S,{justify:"center",align:"center",gap:4,clsx:lQ().domainVerificationStatus,row:!0,children:[(0,c.Y)("span",{clsx:lQ().statusDotWrapper,children:(0,c.Y)(G.S,{clsx:lQ().domainStatusDot,style:{backgroundColor:r[n].color}})}),(0,c.Y)($.EY,{variant:"small",color:"dimmest",children:null!=t?t:r[n].text})]})}var l0=t(21466),l1=t(21276),l2=t(59093),l3=t(95526),l4=t(5453),l5=t.n(l4),l7=(0,c.Y)(c.FK,{children:"—"}),l9=[{label:"A",value:"A"},{label:"TXT",value:"TXT"},{label:"MX",value:"MX"},{label:"CNAME",value:"CNAME"}];function l8(e){var n=(0,l._)((0,d.useState)(!1),2),t=n[0],r=n[1];return(0,c.FD)(G.S,{gap:32,p:24,children:[(0,c.Y)(G.S,{row:!0,gap:8,align:"center",children:(0,c.Y)(eX.$n,{size:"small",variant:"outlined",iconLeft:(0,c.Y)(l2.A,{}),text:"Back",onClick:e.onBack})}),(0,c.FD)(G.S,{gap:16,children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",justify:"space-between",py:8,children:[(0,c.FD)(G.S,{gap:6,grow:!0,children:[(0,c.Y)($.EY,{variant:"headerDefault",children:e.domain.domain}),(0,c.FD)(G.S,{row:!0,gap:12,align:"center",children:[(0,c.Y)(lX,{state:e.domain.state}),(0,c.Y)(l6,(0,o._)({},e))]})]}),(0,c.Y)(eU.in,{"aria-label":"Domain options",trigger:(0,c.Y)(eY.K0,{alt:"More options",children:(0,c.Y)(l3.A,{})}),children:(0,c.Y)(ue,(0,s._)((0,o._)({},e),{onOpen:function(){return r(!0)}}))})]}),(0,c.Y)(iT.a,{}),(0,c.FD)(G.S,{gap:12,children:[(0,c.FD)(G.S,{gap:32,children:[(0,c.Y)(na.ui,{background:"default",gap:16,children:e.domain.managed?(0,c.Y)(ut,(0,o._)({},e)):(0,c.Y)(ur,(0,o._)({},e))}),e.domain.managed?(0,c.Y)(ua,(0,o._)({},e)):(0,c.Y)(uo,(0,o._)({},e))]}),e.dns&&!e.domain.managed&&"verified"!==e.domain.state?(0,c.Y)(lZ,{deploymentId:e.deploymentId,dns:e.dns,domainId:e.domain.id}):null]})]}),(0,c.Y)(un,(0,s._)((0,o._)({},e),{isOpen:t,onRequestClose:function(){return r(!1)}}))]})}function l6(e){var n,t,r=(0,l._)((n={awaitRefetchQueries:!0,refetchQueries:[{query:s9}]},t=(0,o._)({},lu,n),tm.n(lv,t)),2),a=r[0],i=r[1].loading;return(0,c.Y)(eX.$n,{text:"Refresh",iconLeft:i?(0,c.Y)(tY.A,{}):(0,c.Y)(sv.A,{}),size:"small",onClick:function(){a({variables:{input:{hostingDeploymentDomainId:e.domain.id}}})},disabled:i})}function ue(e){return(0,c.Y)(eU.Dr,{label:"Disconnect this domain",isDestructive:!0,icon:(0,c.Y)(sb.A,{}),onAction:e.onOpen})}function un(e){var n,t,r=(0,sl.A)().showError,a=(0,l._)((n={awaitRefetchQueries:!0,refetchQueries:[{query:lf}],onCompleted:function(n){var t,a=n.unlinkHostingDeploymentDomain;if((null==a?void 0:a.__typename)==="UnauthorizedError"||(null==a?void 0:a.__typename)==="NotFoundError"||(null==a?void 0:a.__typename)==="ServiceUnavailable")return void r(a.message);e.onRequestClose(),null==(t=e.onBack)||t.call(e)}},t=(0,o._)({},lu,n),tm.n(lp,t)),2),i=a[0],s=a[1].loading;return(0,c.Y)(e0.a,{isOpen:e.isOpen,onRequestClose:e.onRequestClose,centered:!0,maxWidth:480,children:(0,c.Y)(l0.A,{prompt:"Disconnect this domain?",desc:(0,c.FD)(G.S,{gap:8,children:[(0,c.FD)($.EY,{children:["You are about to disconnect ",(0,c.Y)("b",{children:e.domain.domain})," from this deployment. Your site will no longer be accessible at this domain."]}),e.domain.managed?(0,c.Y)($.EY,{children:"It will still be available to link to your other apps."}):null]}),confirmText:"Disconnect",danger:!0,icon:(0,c.Y)(sb.A,{}),loading:s,onCancel:e.onRequestClose,onConfirm:function(){i({variables:{input:{hostingDeploymentDomainId:e.domain.id}}})}})})}function ut(e){var n,t,r,a,i=(0,sl.A)().showError,s=(0,l._)((n={onCompleted:function(e){"SetShouldDomainAutoRenewResult"!==e.setShouldDomainAutoRenew.__typename&&i(e.setShouldDomainAutoRenew.message)}},t=(0,o._)({},lu,n),tm.n(lm,t)),2),u=s[0],d=s[1].loading;return(0,c.FD)(G.S,{clsx:l5().sectionRow,row:!0,gap:70,py:8,children:[(0,c.FD)(G.S,{gap:8,children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,c.Y)($.EY,{variant:"text",clsx:l5().key,children:"Provider"}),(0,c.Y)($.EY,{children:"Replit"})]}),(0,c.FD)(G.S,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,c.Y)($.EY,{variant:"text",clsx:l5().key,children:"Age"}),(null==(r=e.domain.whois)?void 0:r.creationDate)?(0,c.Y)(l1.Dc,{date:new Date(e.domain.whois.creationDate),dateFormat:"relative"}):(0,c.Y)(c.FK,{children:l7})]})]}),(0,c.FD)(G.S,{gap:8,grow:!0,shrink:!0,children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,c.Y)($.EY,{variant:"text",clsx:l5().key,children:e.domain.autorenew?"Renewal date":"Expiration date"}),(null==(a=e.domain.whois)?void 0:a.expiryDate)?(0,c.Y)(l1.Dc,{date:new Date(e.domain.whois.expiryDate),dateFormat:"absolute",absoluteFormat:{year:"numeric",month:"short",day:"numeric"}}):(0,c.Y)($.EY,{children:l7})]}),(0,c.FD)(G.S,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,c.Y)($.EY,{variant:"text",clsx:l5().key,children:"Renewal price"}),(0,c.Y)($.EY,{children:"number"==typeof e.domain.renewalPriceCents?"$".concat((e.domain.renewalPriceCents/100).toFixed(2)):l7})]}),(0,c.FD)(G.S,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,c.Y)($.EY,{variant:"text",clsx:l5().key,children:"Auto renewal"}),(0,c.Y)(sh.d,{size:"small",isSelected:e.domain.autorenew,onChange:function(n){u({variables:{input:{domainId:e.domain.id,shouldAutoRenew:n}}})},isReadOnly:d,"aria-label":"Toggle auto renewal"})]})]})]})}function ur(e){var n,t,r,a,i,o,s,l=(null==(t=e.domain.whois)||null==(n=t.registrar)?void 0:n.trim())||null;return l&&(null!=(s=null==(i=e.dns)||null==(a=i.currentDnsRecords)||null==(r=a.A)?void 0:r.length)?s:0)>1&&(l+=" (Proxy)"),(0,c.FD)(G.S,{clsx:l5().sectionRow,row:!0,gap:70,py:8,children:[(0,c.Y)(G.S,{gap:8,children:(0,c.FD)(G.S,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,c.Y)($.EY,{variant:"text",clsx:l5().key,children:"Provider"}),(0,c.Y)($.EY,{children:null!=l?l:"Unknown"})]})}),(0,c.Y)(G.S,{gap:8,children:(0,c.FD)(G.S,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,c.Y)($.EY,{variant:"text",clsx:l5().key,children:"Age"}),(null==(o=e.domain.whois)?void 0:o.creationDate)?(0,c.Y)(l1.Dc,{date:new Date(e.domain.whois.creationDate),dateFormat:"relative"}):(0,c.Y)($.EY,{children:l7})]})})]})}function ua(e){var n=(0,l._)((0,d.useState)(null),2),t=n[0],r=n[1];return(0,c.FD)(G.S,{clsx:l5().accordionCard,children:[(0,c.Y)(n0.A,{chevron:"none",round:!1,headerContent:function(e){var n=e.isExpanded;return(0,c.FD)(G.S,{clsx:l5().accordionHeader,grow:!0,children:[(0,c.FD)(G.S,{gap:2,grow:!0,children:[(0,c.Y)($.EY,{children:"DNS Records"}),(0,c.Y)($.EY,{variant:"small",color:"dimmer",children:"Manually configure your domain’s DNS records"})]}),n?(0,c.Y)(eE.A,{}):(0,c.Y)(ex.A,{})]})},defaultExpanded:!1,variant:"compact",children:e.dns?(0,c.FD)(c.FK,{children:[(0,c.Y)(lN,{dnsRecords:e.domain.dnsRecords.map(function(n){var t,r=null!=(t=n.host)?t:"",a=o4(r?"".concat(r,".").concat(e.domain.domain):e.domain.domain);return{id:String(n.id),type:n.type,hostname:a,record:n.answer}}),noBorder:!0,actions:function(e){return(0,c.Y)(eY.K0,{alt:"Delete this record",onClick:function(){return r(e)},children:(0,c.Y)(sg.A,{})})}}),(0,c.Y)(ul,(0,o._)({},e))]}):null}),(0,c.Y)(ui,(0,s._)((0,o._)({},e),{record:t,isOpen:!!t,onRequestClose:function(){return r(null)}}))]})}function ui(e){var n,t=(0,l._)((n=(0,o._)({},lu,void 0),tm.n(lh,n)),2),r=t[0],a=t[1].loading,i=(0,sl.A)().showError;return e.record?(0,c.Y)(e0.a,{isOpen:e.isOpen,onRequestClose:e.onRequestClose,centered:!0,maxWidth:480,children:(0,c.Y)(l0.A,{prompt:"Delete this record?",desc:(0,c.FD)($.EY,{children:["You are about to delete the ",e.record.type," record for"," ",(0,c.Y)("b",{children:e.record.hostname}),". This action cannot be undone."]}),confirmText:"Delete",danger:!0,icon:(0,c.Y)(sg.A,{}),loading:a,onCancel:e.onRequestClose,onConfirm:function(){return(0,g._)(function(){var n;return(0,y.YH)(this,function(t){switch(t.label){case 0:if(!e.record)return[2];t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,r({variables:{input:{domainId:e.domain.id,recordId:Number(e.record.id)}}})];case 2:if((n=t.sent()).errors||!n.data)return i("Something went wrong"),[2];if("DeleteDnsRecordOutput"!==n.data.deleteDnsRecord.__typename)return i(n.data.deleteDnsRecord.message),[2];return[3,5];case 3:return t.sent(),i("Something went wrong"),[2];case 4:return e.onRequestClose(),[7];case 5:return[2]}})})()}})}):null}function uo(e){if(!e.dns)return null;var n=lO(e.dns);return(0,c.Y)(G.S,{clsx:l5().accordionCard,children:(0,c.FD)(G.S,{children:[(0,c.Y)(G.S,{clsx:l5().accordionHeader,grow:!0,children:(0,c.FD)(G.S,{gap:2,grow:!0,children:[(0,c.Y)($.EY,{children:"DNS Records"}),(0,c.FD)($.EY,{variant:"small",color:"dimmer",children:["Add the following records to your domain's DNS settings."," ",(0,c.Y)(oU(),{href:"https://docs.replit.com/cloud-services/deployments/custom-domains",target:"_blank",rel:"noopener",children:"Learn more"})]})]})}),e.dns?(0,c.Y)(lN,{dnsRecords:n,showCopyButton:!0,noBorder:!0}):null]})})}function us(e,n){var t=e.trim();if(t===n)return{error:'Use "@" instead of "'.concat(n,'" for the root domain'),userMessage:'You cannot use "'.concat(n,'" as the hostname. Use "@" instead if you want to configure the root domain.')};if(t.endsWith(".".concat(n))){var r=t.slice(0,-(n.length+1));return{error:'Use just "'.concat(r,'" without "').concat(n,'"'),userMessage:'Do not include "'.concat(n,'" in the hostname. Use just "').concat(r,'" instead of "').concat(t,'".')}}return{error:null}}function ul(e){var n,t=(0,l._)((0,d.useState)(!1),2),r=t[0],a=t[1],i=(0,l._)((0,d.useState)(null),2),s=i[0],u=i[1],f=(0,l._)((0,d.useState)(null),2),p=f[0],h=f[1],m="MX"===s,v=(0,sl.A)().showError,b=(0,l._)((n=(0,o._)({},lu,void 0),tm.n(lg,n)),2),w=b[0],_=b[1].loading;return r?(0,c.FD)(sd.lV,{onSubmit:function(n){return(0,g._)(function(){var t,r,i,o,s,l,c,d,f;return(0,y.YH)(this,function(p){switch(p.label){case 0:if(n.preventDefault(),r=(t=new FormData(n.target)).get("type"),i=t.get("hostname"),o=t.get("priority"),s=t.get("record"),"string"!=typeof r||""===r.trim())return v("Type is required"),[2];if("string"!=typeof i||""===i.trim())return v("Hostname is required"),[2];if((l=us(i,e.domain.domain)).error)return l.userMessage&&v(l.userMessage),h(l.error),[2];if("string"!=typeof s||""===s.trim())return v("Record is required"),[2];if(c=m?Number(o):void 0,m){if(void 0===c||isNaN(c))return v("Priority must be provided as a number"),[2];if(c<0||c>65535)return v("Priority must be between 0 and 65535"),[2]}p.label=1;case 1:return p.trys.push([1,3,,4]),[4,w({variables:{input:{domainId:e.domain.id,host:i,type:r,answer:s,priority:c}}})];case 2:if((d=p.sent()).errors)return v("Something went wrong"),[2];if(!d.data)return[2];if("CreateDnsRecordOutput"!==d.data.createDnsRecord.__typename)return v(d.data.createDnsRecord.message),[2];return a(!1),u(null),h(null),[3,4];case 3:return f=p.sent(),(0,rv.Q)({error:(0,rl._)(f,Error)?f:Error(String(f)),context:"createDnsRecord",extras:{domainId:e.domain.id,hostname:i,type:r,record:s,priority:c}}),v("An unexpected error occurred. Please try again."),[3,4];case 4:return[2]}})})()},p:8,clsx:l5().accordionFooter,gap:12,children:[(0,c.FD)(G.S,{clsx:[l5().addRow,(0,A._)({},l5().addRowHasMx,m)],gap:12,align:"start",children:[(0,c.Y)(G.S,{children:(0,c.Y)(sp.l,{label:"Type",items:l9,placeholder:"Select type",onSelectionChange:function(e){u(e?String(e):null)},name:"type",isInvalid:!1,children:function(e){return(0,c.Y)(oq.nh,{id:e.value,label:e.label},e.value)}})}),(0,c.Y)(G.S,{children:(0,c.FD)(sm.A_,{isInvalid:!!p,children:[(0,c.Y)(a3.J,{children:"Hostname"}),(0,c.Y)(o9.pd,{placeholder:"@",name:"hostname",autoComplete:"off",required:!0,onChange:function(n){h(us(n.target.value,e.domain.domain).error)}}),(0,c.Y)(sc.bg,{children:p})]})}),m?(0,c.Y)(G.S,{children:(0,c.FD)(sm.A_,{children:[(0,c.Y)(a3.J,{children:"Priority"}),(0,c.Y)(o9.pd,{placeholder:"10",type:"number",min:0,max:65535,name:"priority",autoComplete:"off",required:!0})]})}):null,(0,c.Y)(G.S,{grow:!0,children:(0,c.FD)(sm.A_,{children:[(0,c.Y)(a3.J,{children:"Record"}),(0,c.Y)(o9.pd,{name:"record",autoComplete:"off",required:!0})]})})]}),(0,c.FD)(G.S,{row:!0,justify:"end",align:"center",gap:8,children:[(0,c.Y)(eX.$n,{variant:"nofill",text:"Cancel",onClick:function(){a(!1),u(null),h(null)},type:"button",disabled:_}),(0,c.Y)(eX.$n,{text:_?"Adding...":"Add record",type:"submit",loading:_,disabled:_})]})]}):(0,c.Y)(G.S,{p:8,align:"end",clsx:l5().accordionFooter,children:(0,c.Y)(eX.$n,{text:"Add DNS record",variant:"nofill",iconLeft:(0,c.Y)(nI.A,{}),onClick:function(){u(null),a(!0),h(null)}})})}var uu=t(94686);function uc(e){var n=e.name,t=e.registrar,r=e.registrarTruncate,a=e.status,i=e.customMessage,o=e.isPrimaryDomain,s=void 0!==o&&o,l=e.isPendingDomain,u=void 0!==l&&l,d=e.onManage,f=s||u;return(0,c.FD)(lT,{children:[(0,c.Y)(lD,{children:(0,c.FD)(G.S,{gap:4,children:[(0,c.Y)($.EY,{children:n}),a?(0,c.Y)(lX,{state:a,customMessage:i}):null]})}),(0,c.Y)(lD,{children:(0,c.Y)($.EY,{color:"dimmest",variant:"small",multiline:!r,showTooltipOnTruncate:!!r,children:null!=t?t:"N/A"})}),(0,c.Y)(lD,{children:(0,c.Y)(G.S,{align:"center",justify:"center",p:12,children:(0,c.Y)(nF.m_,{tooltip:s?"The primary domain cannot be modified unless you unpublish the app and publish again.":u?"This domain is currently being configured.":void 0,isDisabled:!f,children:(0,c.Y)(eX.$n,{text:"Manage",iconLeft:(0,c.Y)(uu.A,{}),disabled:f,onClick:d,size:"small"})})})})]})}function ud(){var e=(0,T._)(["\n  query DomainsGlowupPendingDomains($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        ...PendingDomainsRepl\n      }\n    }\n  }\n  ","\n"]);return ud=function(){return e},e}function uf(){var e=(0,T._)(["\n  subscription DomainsGlowupPendingDomainsUpdates($replId: String!) {\n    pendingDomainsUpdates(replId: $replId) {\n      id\n      ...PendingDomainsRepl\n    }\n  }\n  ","\n"]);return uf=function(){return e},e}var up={},uh=(0,D.J1)(ud(),rQ),um=(0,D.J1)(uf(),rQ);function uv(e){var n,t,r,a=e.refetchDomainsQuery,i=e.omitDomains,s=(0,l._)((0,d.useState)(new Set),2)[1],u=(0,tR.A)(),f=(n={variables:{replId:u},fetchPolicy:"cache-and-network",ssr:!1},t=(0,o._)({},up,n),I.I(uh,t)).data;r=(0,o._)({},up,{variables:{replId:u},onData:function(e){var n,t,r=e.data;if(r&&(null==(t=r.data)||null==(n=t.pendingDomainsUpdates)?void 0:n.pendingDomains)){var i=r.data.pendingDomainsUpdates.pendingDomains.filter(function(e){return"success"===e.status}).map(function(e){return e.domainName});s(function(e){var n=new Set((0,b._)(e).concat((0,b._)(i)));return n.size>e.size&&a(),n})}}}),rW.R(um,r);var p=(0,d.useMemo)(function(){var e;return(null==f||null==(e=f.getRepl)?void 0:e.__typename)!=="Repl"?null:f.getRepl.pendingDomains.filter(function(e){return!i.has(e.domainName)})},[f,i]);return p&&0!==p.length?(0,c.Y)(c.FK,{children:p.map(function(e){var n;return(0,c.Y)(uc,{name:e.domainName,status:"verifying",customMessage:null!=(n=e.message)?n:"Processing request",isPendingDomain:!0},e.domainName)})}):null}var ug=t(44425),ub=t(72334),uy=t.n(ub);function uw(){return(0,c.FD)(lx,{clsx:uy().tableHeader,children:[(0,c.Y)("th",{children:(0,c.Y)($.EY,{variant:"small",color:"dimmer",children:"Name"})}),(0,c.Y)("th",{children:(0,c.Y)($.EY,{variant:"small",color:"dimmer",children:"Registered With"})}),(0,c.Y)("th",{children:(0,c.Y)(lI,{children:"Actions"})})]})}function u_(e){var n,t,r,a,i,s,u,f,p,m,v,g,y,_=e.deployment,S=e.authorizations,A=(0,tR.A)(),k=(n={variables:{id:A}},t=(0,o._)({},s2,n),I.I(s7,t)),C=k.data,Y=k.loading,E=(null==C||null==(u=C.getRepl)?void 0:u.__typename)==="Repl"&&!!(null==(f=C.getRepl.org)?void 0:f.id),x=(0,l._)((0,d.useState)(!1),2),T=x[0],D=x[1],R=(0,l._)((0,d.useState)(!1),2),N=R[0],O=R[1],P=(0,l._)((0,d.useState)(void 0),2),F=P[0],U=P[1],L=(r={variables:{id:_.id,isGlowup:!0},fetchPolicy:"cache-and-network",ssr:!1,pollInterval:F,onCompleted:function(e){var n,t;U((null==(n=e.hostingDeployment)?void 0:n.__typename)==="HostingDeployment"&&(null==(t=e.hostingDeployment.domains2)?void 0:t.some(function(e){return e.state===w.o2_.Verifying}))?3e4:void 0)}},a=(0,o._)({},s2,r),I.I(s9,a)).refetch,M=(i={fetchPolicy:"cache-and-network",ssr:!1},s=(0,o._)({},s2,i),I.I(s8,s)).data,J=null==M||null==(m=M.currentUser)||null==(p=m.domains)?void 0:p.items,H=(null==_?void 0:_.__typename)==="HostingDeployment"?_.domains2:void 0,B=(0,d.useMemo)(function(){return new Set((0,b._)((null!=H?H:[]).map(function(e){return e.domain})).concat((0,b._)((null!=J?J:[]).map(function(e){return e.domain}))).map(function(e){return e}))},[H,J]),z=(null==_?void 0:_.currentBuild.status)==="success",W=null==_?void 0:_.repl.apexProxy,j=null==H?void 0:H.some(function(e){return e.managed&&5>(0,ok.A)(new Date,new Date(e.timeCreated))}),q=(0,l._)((0,d.useState)(null),2),Z=q[0],K=q[1],Q=Z&&null!=(v=null==H?void 0:H.find(function(e){return e.id===Z}))?v:null,X=(0,h.cF)(),ee=X?function(e){var n=(null==(t=e.repl.hostingDeployment)?void 0:t.__typename)==="HostingDeployment"?null==(r=e.repl.hostingDeployment)?void 0:r.replitAppSubdomain:void 0;if(!n&&(null==(a=e.repl.owner)?void 0:a.username)&&(n="".concat(e.repl.slug,"-").concat(e.repl.owner.username)),n){var t,r,a,i,o,s=(null==(o=window)||null==(i=o.location)?void 0:i.hostname)!=="replit.com";return"".concat(n).concat(s?".staging":"",".").concat(ne.co)}}(X):void 0,en=S.addCustomDomain,et=en.isAuthorized,er=en.message;return((0,ug.M)(eQ.AZ.DOMAIN_MANAGEMENT,{action:"page_landing",deploymentId:_.id,domainCount:null!=(g=null==H?void 0:H.length)?g:0,hasCustomDomains:null!=(y=null==H?void 0:H.some(function(e){return!e.managed}))&&y,isInitiative:"glowup"}),T&&W)?(0,c.Y)(G.S,{clsx:uy().buyWrapper,gap:8,children:(0,c.Y)(o1,{suggestedDomain:null==_?void 0:_.repl.title,deploymentId:_.id,onRequestClose:function(){return D(!1)}})}):Q?(0,c.Y)(G.S,{css:uy().scrollContainer,gap:8,children:(0,c.Y)(l8,{domain:Q,onBack:function(){return K(null)},deploymentId:_.id,dns:W?{replId:A,apexProxy:W,hostname:Q.domain,currentDnsRecords:Q.currentDnsRecords}:void 0})}):N&&W?(0,c.Y)(G.S,{clsx:uy().buyWrapper,gap:8,children:(0,c.Y)(lJ,{apexProxy:W,deploymentId:_.id,replId:A,onAdd:function(){return O(!1)},onBack:function(){return O(!1)}})}):(0,c.FD)(G.S,{gap:8,clsx:uy().scrollContainer,shrink:!0,children:[(0,c.FD)(G.S,{justify:"space-between",py:12,row:!0,align:"center",children:[(0,c.Y)($.EY,{variant:"subheadDefault",children:"Domains"}),(0,c.FD)(G.S,{shrink:!0,gap:8,row:!0,children:[(0,c.Y)(nF.m_,{tooltip:E?"Custom domain purchasing is coming soon to org-owned Apps.":er,isDisabled:et&&!E,children:(0,c.Y)(eX.$n,{text:"Buy a new domain",variant:"outlined",size:"small",onClick:function(){(0,eQ.u4)(eQ.AZ.DOMAIN_MANAGEMENT,{action:"buy_domain_clicked",deploymentId:_.id,suggestedDomain:null==_?void 0:_.repl.title,isInitiative:"glowup"}),D(!0)},disabled:!z||!et||E||Y})}),(0,c.Y)(nF.m_,{tooltip:er,isDisabled:et,children:(0,c.Y)(eX.$n,{disabled:!z||!et,text:"Connect your own domain",variant:"outlined",size:"small",onClick:function(){(0,eQ.u4)(eQ.AZ.DOMAIN_MANAGEMENT,{action:"link_domain_clicked",deploymentId:_.id,suggestedDomain:null==_?void 0:_.repl.title,isInitiative:"glowup"}),O(!0)}})})]})]}),z?null:(0,c.Y)(V.N,{colorway:"warning",icon:(0,c.Y)(nR.A,{}),text:"You must successfully publish your project before linking a domain"}),(0,c.FD)(lE,{children:[(0,c.Y)(uw,{}),ee?(0,c.Y)(uc,{name:ee,isPrimaryDomain:!0}):null,null==H?void 0:H.map(function(e){var n,t,r,a,i,o=null!=(a=null==(n=e.whois)?void 0:n.registrar)?a:null;return o&&(null!=(i=null==(r=e.currentDnsRecords)||null==(t=r.A)?void 0:t.length)?i:0)>1&&(o+=" (Proxy)"),(0,c.Y)(uc,{name:e.domain,registrar:e.managed?"Replit":null!=o?o:"Unknown",status:e.state,onManage:function(){(0,eQ.u4)(eQ.AZ.DOMAIN_MANAGEMENT,{action:"manage_clicked",domainName:e.domain,domainId:e.id,domainState:e.state,managed:!!e.managed,isInitiative:"glowup"}),K(e.id)}},e.id)}),(0,c.Y)(uv,{refetchDomainsQuery:L,omitDomains:B})]}),j?(0,c.Y)(uS,{}):null]})}function uS(){return(0,c.Y)(V.N,{icon:(0,c.Y)(az.A,{}),title:"Congratulations on your new domain!",text:"You may see a temporary error when accessing your domain that usually resolves within a few minutes after purchasing. Contact Replit Support if this persists longer than 48 hours."})}var uA=(0,eF.x)({domains2Container:[M.wp.height("100%"),M.wp.overflowY("hidden")]}),uk={addCustomDomain:{__typename:"ReplAuthorization",isAuthorized:!1,code:w.S4P.InsufficientPermissions,message:"Loading"},deleteCustomDomain:{__typename:"ReplAuthorization",isAuthorized:!1,code:w.S4P.InsufficientPermissions,message:"Loading"}};function uC(e){var n=e.deploymentId;return n?(0,c.Y)(uY,{deploymentId:n}):(0,c.Y)(S.A,{children:(0,c.Y)(V.N,{colorway:"warning",icon:(0,c.Y)(nR.A,{}),text:"Deployment not found"})})}function uY(e){var n,t,r=e.deploymentId;(0,d.useEffect)(function(){(0,eO.Ae)({context:_.P.Domains})},[]);var a=(0,l._)(aE(),2),i=a[0],o=a[1],s=o.data,u=o.error,f=(0,tU._P)({controlName:"flag-domains-glowup",default:!1}),p=aC({variables:{id:r,isGlowup:f},ssr:!1,fetchPolicy:"cache-and-network",onCompleted:function(e){var n;(null==e||null==(n=e.hostingDeployment)?void 0:n.__typename)==="HostingDeployment"&&i({variables:{replId:e.hostingDeployment.repl.id,provider:e.hostingDeployment.currentBuild.provider}})}}),h=p.data,m=p.loading,v=p.error,g=(null==h||null==(n=h.hostingDeployment)?void 0:n.__typename)==="HostingDeployment"?h.hostingDeployment:void 0;if(v)return(0,c.Y)(e8.Wx,{text:v.message});if(m||!g)return(0,c.Y)(S.A,{centered:!0,children:(0,c.Y)(e8.cN,{})});if(g.currentBuild.provider===w.Q0q.Cron)return(0,c.Y)(S.A,{children:(0,c.Y)(V.N,{colorway:"warning",text:"Domains are not supported for scheduled jobs"})});var b=(null==s||null==(t=s.getRepl)?void 0:t.__typename)==="Repl"?s.getRepl.authorizations:uk;return(0,c.FD)(S.A,{maxWidth:!0,clsx:f?void 0:uA.domains2Container,children:[u?(0,c.Y)(V.N,{colorway:"negative",text:u.message}):null,(0,c.Y)(f?u_:sW,{deployment:g,authorizations:b})]})}var uE=t(58271),ux=t(35992);function uT(){var e=(0,T._)(["\n  fragment ReplLogLine2 on ReplLog {\n    __typename\n    timestamp\n    line\n    level\n    isFromReplit\n    deploymentId\n    executionId\n    buildId\n  }\n"]);return uT=function(){return e},e}function uD(){var e=(0,T._)(["\n  query HostingDeploymentLogs2(\n    $replId: String!\n    $deploymentId: String!\n    $executionId: String\n    $start: DateTime\n    $end: DateTime\n    $message: String\n    $level: LogLevel\n    $limit: Int\n  ) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        __typename\n        hostingDeploymentLogs(\n          deploymentId: $deploymentId\n          executionId: $executionId\n          start: $start\n          end: $end\n          message: $message\n          level: $level\n          limit: $limit\n        ) {\n          ... on ReplLogs {\n            result {\n              ...ReplLogLine2\n            }\n          }\n          ... on NotFoundError {\n            message\n          }\n          ... on ServiceUnavailable {\n            message\n          }\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return uD=function(){return e},e}function uI(){var e=(0,T._)(["\n  subscription HostingDeploymentLogUpdates(\n    $input: HostingDeploymentLogUpdatesInput!\n  ) {\n    hostingDeploymentLogUpdates(input: $input) {\n      ...ReplLogLine2\n    }\n  }\n  ","\n"]);return uI=function(){return e},e}var uR={},uN=(0,D.J1)(uT()),uO=(0,D.J1)(uD(),uN),uP=(0,D.J1)(uI(),uN),uF=t(65797),uU=t(21727),uL=(0,d.createContext)(null),uM=function(){var e=(0,d.useContext)(uL);if(!e)throw Error("Expected log context in context");return e},uJ=function(e){var n,t,r,a,i=e.deploymentId,u=e.replId,c=e.executionId,f=e.openFile,p=(0,l._)((0,d.useState)(null),2),h=p[0],m=p[1],v=(0,l._)((0,d.useState)([]),2),w=v[0],_=v[1],S=(0,l._)((0,d.useState)(),2),A=S[0],k=S[1],C=(0,l._)((0,d.useState)({message:"",executionId:c,start:null,end:null,level:null}),2),Y=C[0],E=C[1],x=(0,d.useCallback)(function(){return E({message:"",executionId:c,start:null,end:null,level:null})},[c]),T=(0,l._)((0,d.useState)(!0),2),D=T[0],R=T[1],N=(0,l._)((0,d.useState)(!1),2),O=N[0],P=N[1],F=(0,l._)((0,d.useState)(!1),2),U=F[0],L=F[1],M=(0,l._)((0,d.useState)(!1),2),J=M[0],H=M[1],B=(0,l._)((0,uF.A)("deployments-logs-color",!0),2),V=B[0],$=B[1],G=(0,d.useRef)(!1),z=(0,uU.A)(function(e){var n=e.width;if(void 0!==n){var t=n>500;L(t),G.current||(G.current=!0,P(t))}}),W=(0,uE.Xj)(),j=(n={ssr:!1,fetchPolicy:"network-only",variables:{deploymentId:i,replId:u,executionId:Y.executionId?"d-scheduled-".concat(i,"-").concat(Y.executionId):void 0,limit:Y.start||Y.end?1e3:100,level:Y.level,message:Y.message,start:null==(r=Y.start)?void 0:r.toDate(W).toISOString(),end:null==(a=Y.end)?void 0:a.toDate(W).toISOString()},onError:function(){k("Something went wrong"),_([])},onCompleted:function(e){if("hostingDeploymentLogs"in e.getRepl)if("ReplLogs"===e.getRepl.hostingDeploymentLogs.__typename){k(void 0);var n=e.getRepl.hostingDeploymentLogs.result,t=(0,b._)(n).reverse();if(!h)if(n.length>0){var r=new Date(n[0].timestamp);r.setSeconds(r.getSeconds()+1),m(r.toISOString())}else m(new Date().toISOString());_(t)}else k(e.getRepl.hostingDeploymentLogs.message),_([])}},t=(0,o._)({},uR,n),I.I(uO,t)),q=j.loading,Z=j.fetchMore,K=j.subscribeToMore,Q=j.variables;(0,d.useEffect)(function(){q&&m(null)},[q]),(0,d.useEffect)(function(){m(null),en.current=!1,X.current=null},[Y,i,u,c]),(0,d.useEffect)(function(){var e,n;if(h)return K({document:uP,variables:{input:{deploymentId:i,executionId:c,message:Y.message,start:Y.end?null==(e=Y.start)?void 0:e.toDate(W).toISOString():h,end:null==(n=Y.end)?void 0:n.toDate(W).toISOString(),level:Y.level||void 0}},updateQuery:function(e,n){var t=n.subscriptionData;return(0,ux.jM)(e,function(e){if(!("hostingDeploymentLogs"in e.getRepl))return e;if("ReplLogs"===e.getRepl.hostingDeploymentLogs.__typename){var n=t.data.hostingDeploymentLogUpdates;e.getRepl.hostingDeploymentLogs.result.unshift(n)}return e})}})},[K,i,c,q,Y,h,W]);var X=(0,d.useRef)(null),ee=(0,d.useRef)(!1),en=(0,d.useRef)(!1),et=(0,d.useCallback)(function(){return(0,g._)(function(){var e,n,t,r,a;return(0,y.YH)(this,function(i){switch(i.label){case 0:if(e=X.current?Math.abs(X.current.getTime()-Date.now()):0,Y.start||Y.end||q||X.current&&e<500||en.current||ee.current||0===w.length)return[2];return(n=new Date(w[0].timestamp)).setSeconds(n.getSeconds()-1),t=n.toISOString(),ee.current=!0,[4,Z({variables:(0,s._)((0,o._)({},Q),{end:t})})];case 1:return r=i.sent().data,ee.current=!1,"hostingDeploymentLogs"in r.getRepl&&"ReplLogs"===r.getRepl.hostingDeploymentLogs.__typename&&(X.current=new Date,0===r.getRepl.hostingDeploymentLogs.result.length?en.current=!0:(a=(0,b._)(r.getRepl.hostingDeploymentLogs.result).reverse(),_(function(e){return(0,b._)(a).concat((0,b._)(e))}))),[2]}})})()},[Z,q,w,Q,Y.start,Y.end]);return(0,d.useMemo)(function(){return{logs:w,loading:q,error:A,fetchPage:et,isLive:D,setIsLive:R,isExpanded:O,setIsExpanded:P,filter:Y,setFilter:E,clearFilter:x,deploymentId:i,containerRef:z,isWide:U,isWrapped:J,setIsWrapped:H,openFile:f,isColorful:V,setIsColorful:$}},[x,z,i,A,et,Y,V,O,D,U,J,q,w,f,$])},uH=t(44232),uB=t(93707),uV=t(90629),u$=t(93746),uG=t(46231),uz=t.n(uG),uW=t(83877),uj=(0,eF.x)({root:[M.wp.transition.none,M.wp.reset.button,M.wp.flex.row,M.wp.align.center,M.wp.font.code,M.wp.fontSize(12),M.wp.textAlign.left,M.wp.position.absolute,M.wp.top(0),M.wp.left(0),M.wp.width("100%"),M.wp.color.foregroundDefault,M.wp.border({color:eC.LU.outlineDimmest,direction:"bottom"}),M.wp.highRes({borderWidth:.5}),{outline:"none",userSelect:"auto","--cell-background":"".concat(eC.LU.backgroundDefault),"&:hover":{backgroundColor:eC.LU.interactiveBackground,"--cell-background":"".concat(eC.LU.interactiveBackground),".copy":{display:"block"}},'&[data-error="true"]':[M.wp.colorMixBg(eC.LU.accentNegativeDimmest,"transparent"),{borderBottomColor:eC.LU.accentNegativeDimmest,boxShadow:"0 -1px 0 0 "+eC.LU.accentNegativeDimmest,"&:hover":{"--cell-background":"".concat(eC.LU.accentNegativeDimmest),backgroundColor:"var(--cell-background) !important"},"&:active":{boxShadow:"0 -1px 0 0 "+eC.LU.accentPrimaryDefault}},M.wp.highRes({boxShadow:"0 -0.5px 0 0 "+eC.LU.accentNegativeDimmest,"&:active":{boxShadow:"0 -0.5px 0 0 "+eC.LU.accentPrimaryDefault}})]}],primaryCell:[M.wp.display.block,M.wp.pl(6),M.wp.py(6),M.wp.pr(4),M.wp.flex.growAndShrink(1),M.wp.minHeight(26),{whiteSpace:"nowrap",'&[data-wrapped="true"]':{whiteSpace:"normal"},'&[data-new-flag="false"]':{cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",'&[data-wrapped="true"]':{whiteSpace:"normal"}},a:{color:"inherit","&:hover":{textDecoration:"underline"}}}],secondaryCell:[M.wp.p(6),M.wp.color.foregroundDimmest,M.wp.truncate,{'&[data-error="true"]':M.wp.color.accentNegativeStrongest}],copyColumn:[{display:"none",position:"absolute",top:"50%",zIndex:1,left:"calc(var(--width) + var(--scroll-left-offset))",transform:"translate(-100%, -50%)"}],copyButton:[{backgroundColor:"var(--cell-background) !important",color:"inherit"}]}),uq=(0,d.memo)(function(e){var n=e.log,t=e.y,r=e.height,a=e.resizeRef,i=e.index,o=e.isScrolling,s=e.columns,l=uM(),u=l.isWrapped,f=l.isColorful&&n.level===w.$bb.Error&&["INFO","DEBUG","TRACE"].every(function(e){return!n.line.includes(e)}),p=(0,d.useMemo)(function(){return(0,uW.A)(n.line)},[n.line]);return(0,c.FD)("div",{tabIndex:0,role:"button",title:p,css:uj.root,style:{height:r,transform:"translateY(".concat(t,"px)")},"data-error":f,children:[s.map(function(e,t){var r=t===s.length-1,o=e.renderCell(n);return(0,c.Y)(G.S,{css:r?uj.primaryCell:uj.secondaryCell,style:{width:e.width},innerRef:r?a:void 0,"data-index":i,"data-error":f,"data-wrapped":u,children:o},e.key)}),(0,c.Y)("span",{css:uj.copyColumn,className:"copy",children:!o&&(0,c.Y)(su.r,{textToCopy:p,tooltipDisable:!0,css:uj.copyButton})})]})}),uZ=t(61358),uK=t(42255),uQ=new uZ.tQ,uX=function(e){var n,t,r,a=e.log,i=e.files,o=uM().openFile,s=a.line;s=a.level===w.$bb.Error?(0,uW.A)(a.line):uQ.toHtml(a.line);var u=(0,l._)((0,d.useState)([]),2),f=u[0],p=u[1];(0,d.useEffect)(function(){(0,uK.C)(s,function(){return Promise.resolve(i)}).then(function(e){return p(e)})},[i,s]);var h=(0,d.useCallback)(function(e){e.preventDefault();var n=e.target;n.dataset.file&&o({path:n.dataset.file})},[o]);return(0,c.Y)("div",{dangerouslySetInnerHTML:{__html:(n=s,f.sort(function(e,n){return e.from-n.from}),t="",r=0,f.forEach(function(e){t+=n.slice(r,e.from);var a=n.slice(e.from,e.to);t+='<a href="#" data-file="'.concat(e.file,'">').concat(a,"</a>"),r=e.to}),t+=n.slice(r))},onKeyDown:h,onClick:h})},u0=t(62161),u1=t(55089),u2=function(e){var n=e.scrollRef,t=e.scrollBottomRef,r=(0,d.useRef)(!1);return(0,u0.S)(function(){n.current&&setTimeout(function(){t.current&&((0,u1.A)(t.current),r.current=!0)},0)}),{didInitialScroll:r}},u3=function(e){var n=e.didInitialScroll,t=e.itemHeight,r=e.scrollRef,a=uM(),i=a.fetchPage,o=a.setIsLive,s=(0,l._)((0,d.useState)(!1),2),u=s[0],c=s[1],f=(0,l._)((0,d.useState)(0),2),p=f[0],h=f[1],m=(0,l._)((0,d.useState)(0),2),v=m[0],b=m[1],w=(0,d.useRef)(),_=(0,d.useRef)(!1);(0,d.useEffect)(function(){r.current&&h(r.current.offsetWidth-r.current.clientWidth)},[r]);var S=(0,d.useCallback)(function(e){(w.current||u)&&clearTimeout(w.current),c(!0),w.current=setTimeout(function(){c(!1),b(e.scrollLeft)},100)},[u]);return{scrollHandler:(0,d.useCallback)(function(e){return(0,g._)(function(){var r,a,s,l,u,c,d;return(0,y.YH)(this,function(f){switch(f.label){case 0:if(!(r=e.currentTarget)||_.current)return[2];if(S(r),a=r.scrollHeight,s=r.scrollTop,o(u=a-(l=r.clientHeight)===s),c=20*t,!(!u&&s<c&&a>l&&n.current))return[3,5];_.current=!0,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,i()];case 2:return f.sent(),[3,4];case 3:return d=f.sent(),uV.Cp(d),[3,4];case 4:_.current=!1,f.label=5;case 5:return[2]}})})()},[S,o,t,n,i]),isScrolling:u,scrollLeftOffset:v-p}},u4=function(e){var n=e.scrollRef,t=e.scrollBottomRef,r=uM(),a=r.loading,i=r.logs,o=r.isLive,s=r.isWrapped,l=(0,d.useRef)(0),u=(0,d.useRef)(i[0]),c=(0,d.useCallback)(function(){t.current&&(0,u1.A)(t.current)},[t]);(0,d.useEffect)(function(){var e=n.current;if(e&&!a&&0!==i.length){if(o)e.scrollHeight>e.clientHeight&&c();else if(u.current&&u.current.timestamp>i[0].timestamp){var t=e.scrollHeight;if(t!==l.current){var r=t-l.current,s=e.scrollTop;e.scrollTo({top:s+r,behavior:"instant"})}}u.current=i[0],l.current=e.scrollHeight}},[o,a,i,n,c]);var f=(0,d.useRef)(s);(0,d.useEffect)(function(){o&&f.current!==s&&(c(),f.current=s)},[o,s,c])},u5=(0,eF.x)({root:[{overflow:"auto"},M.wp.flex.growAndShrink(1)],virtualTable:[M.wp.width("100%"),M.wp.position.relative],tableHeader:[M.wp.display.flex,M.wp.flex.row,M.wp.backgroundColor.backgroundDefault,M.wp.position.sticky,M.wp.zIndex(1),M.wp.top(0),M.wp.border({color:eC.LU.outlineDimmest,direction:"bottom"})],columnHeader:[M.wp.color.foregroundDimmer,M.wp.fontSize(12),{lineHeight:"18px"},M.wp.px(6),M.wp.justify.center],infoTooltip:[M.wp.display.flex,M.wp.align.center,M.wp.gap(4),{lineHeight:0}],bottomAnchor:[M.wp.position.absolute,M.wp.bottom(0),M.wp.left(0),M.wp.right(0)]}),u7=function(){var e=uM().isColorful,n=(0,ra.V)();return(0,d.useMemo)(function(){var t={};if(n){var r=!0,a=!1,i=void 0;try{for(var o,s=Object.entries(n)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=(0,l._)(o.value,2),c=u[0],d=u[1];t["--ansi-".concat(uz()(c))]=e?d:"currentColor"}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}}return t},[e,n])};function u9(){var e=uM(),n=e.loading,t=e.error,r=e.logs,a=e.isExpanded,i=e.isWrapped,s=e.isWide,u=!!(n||t),f=(0,d.useRef)(null),p=(0,d.useRef)(null),m=(0,ov.m6)(),v=u7(),g=m?44:26,y=(0,uH.Te)({count:(null==r?void 0:r.length)||0,getScrollElement:function(){return f.current},estimateSize:function(){return g},overscan:10,measureElement:function(e){return e.getBoundingClientRect().height},rangeExtractor:function(e){var n=new Set([0].concat((0,b._)((0,uB.vp)(e))));return(0,b._)(n)}});u4({scrollRef:f,scrollBottomRef:p});var _=u3({didInitialScroll:u2({scrollRef:f,scrollBottomRef:p}).didInitialScroll,itemHeight:g,scrollRef:f}),S=_.scrollHandler,A=_.isScrolling,k=_.scrollLeftOffset,C=(0,h.cF)(),Y=(null==C?void 0:C.provider)===w.Q0q.Cron,E=(0,d.useMemo)(function(){var e;return 8*(e=Math).max.apply(e,(0,b._)((null==r?void 0:r.map(function(e){return e.line.length}))||[]))},[r]),x=(0,h.om)().listFiles,T=(0,l._)((0,d.useState)([]),2),D=T[0],I=T[1];(0,d.useEffect)(function(){x().then(function(e){e.files&&I(e.files)})},[x]);var R=(0,ov.m6)(),N=(0,d.useMemo)(function(){return[{key:"time",title:(0,c.FD)("span",{css:u5.infoTooltip,children:["Time",!R&&(0,c.Y)(nF.m_,{tooltip:"Logs persist for up to 30 days",css:u5.infoTooltip,children:(0,c.Y)(az.A,{size:12})})]}),width:s?173:115,renderCell:function(e){var n=(0,u$.A)(e.timestamp);return(0,et.A)(n,s?"yyyy-MM-dd HH:mm:ss.SS":"MM-dd HH:mm:ss")}},a&&{key:"build",title:"Deployment",width:75,renderCell:function(e){var n=e.buildId.split("-");return n?n[0]:e.buildId}},Y&&{key:"run",title:"Run",width:50,renderCell:function(e){var n,t=null==(n=e.executionId)?void 0:n.split("-");return t?t[t.length-1]:""}},a&&{key:"source",title:"Source",width:57,renderCell:function(e){return e.isFromReplit?"System":"User"}},{width:i?void 0:E,key:"log",title:"Log",renderCell:function(e){return(0,c.Y)(uX,{files:D,log:e})}}].filter(Boolean)},[D,Y,a,R,s,i,E]),O=(0,d.useMemo)(function(){return N.reduce(function(e,n){return e+(n.width||0)},0)},[N]);return(0,c.Y)(G.S,{innerRef:f,css:u5.root,onScroll:S,children:(0,c.FD)(G.S,{style:(0,o._)({height:y.getTotalSize(),minWidth:O,"--scroll-left-offset":"".concat(k,"px")},v),css:u5.virtualTable,children:[(0,c.Y)(G.S,{css:u5.tableHeader,children:N.map(function(e){return(0,c.Y)(G.S,{tag:"div",css:u5.columnHeader,style:{width:e.width,flex:e.width?void 0:1,height:g},children:e.title},e.key)})}),y.getVirtualItems().map(function(e){var n=r[e.index];return n?(0,c.Y)(uq,{log:n,height:e.size,y:e.start,resizeRef:y.measureElement,index:e.index,disabled:u,isScrolling:A,columns:N},e.key.toString()):null}),(0,c.Y)("div",{ref:p,css:u5.bottomAnchor})]})})}var u8=(0,eF.x)({root:[M.wp.flex.grow(1)],noLogsText:[M.wp.textAlign.center],viewError:[M.wp.pt(0)]});function u6(){var e=uM(),n=e.logs,t=e.error;return e.loading?(0,c.Y)(S.A,{css:u8.root,centered:!0,children:(0,c.Y)(e8.cN,{})}):0===n.length?(0,c.FD)(c.FK,{children:[t?(0,c.Y)(e8.Wx,{css:u8.viewError,text:t}):null,(0,c.Y)(S.A,{css:u8.root,children:(0,c.FD)(G.S,{pt:4,gap:8,children:[(0,c.Y)($.EY,{css:u8.noLogsText,children:"No logs are available."}),(0,c.FD)($.EY,{color:"dimmer",css:u8.noLogsText,children:["Having trouble?"," ",(0,c.Y)("a",{href:"https://docs.replit.com/cloud-services/deployments/troubleshooting",onClick:function(){return(0,eO.Ae)({context:"troubleshooting_doc"})},target:"_blank",children:"Troubleshooting tips"})]})]})})]}):(0,c.Y)(u9,{})}var ce=t(19487),cn=t(53558),ct=(0,eF.x)({buttonGroup:[M.wp.flex.row,M.wp.rowWithGap(1),{button:{"&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}}}]});function cr(e){var n=e.onClear,t=e.label,r=e.buttonProps,a=e.children,i=n?"primary":void 0,s=(0,l._)((0,d.useState)(!1),2),u=s[0],f=s[1];return(0,c.FD)(cn.Y,{css:ct.buttonGroup,children:[(0,c.FD)(sf.Wv,{label:t,isOpen:u,onOpenChange:f,background:"higher",children:[(0,c.Y)(eX.$n,(0,o._)({colorway:i},r)),a]}),n?(0,c.Y)(eX.$n,{colorway:i,text:"",iconLeft:(0,c.Y)(e2.A,{}),onClick:n}):null]})}var ca=(0,eF.x)({section:[M.wp.gap(8)],dateRangeInputs:[M.wp.display.grid,M.wp.gap(8),M.wp.align.center,{gridTemplateColumns:"min-content 200px",gridAutoFlow:"row",gridAutoRows:"1fr"}]}),ci=function(){var e=uM(),n=e.filter,t=e.setFilter;return(0,c.FD)(G.S,{css:ca.dateRangeInputs,children:[(0,c.Y)(a3.J,{variant:"text",children:"Start"}),(0,c.Y)(ce.A,{granularity:"minute",hourCycle:24,value:n.start,onChange:function(e){t(function(n){var t=(0,s._)((0,o._)({},n),{start:e});return e&&n.end&&e.compare(n.end)>0&&(t.end=null),t})}}),(0,c.Y)(a3.J,{variant:"text",children:"End"}),(0,c.Y)(ce.A,{granularity:"minute",hourCycle:24,value:n.end,onChange:function(e){t(function(n){var t=(0,s._)((0,o._)({},n),{end:e});return e&&n.start&&0>e.compare(n.start)&&(t.start=null),t})}})]})},co=function(){var e=uM(),n=e.filter,t=e.setFilter,r=(0,uE.Xj)(),a=n.start||n.end,i="Date",l=n.start&&(0,et.A)(n.start.toDate(r),"M/d/yy"),u=n.end&&(0,et.A)(n.end.toDate(r),"M/d/yy");return l&&u?i="".concat(l," to ").concat(u):l?i="Start ".concat(l):u&&(i="End ".concat(u)),(0,c.Y)(cr,{label:"Date range",onClear:a?function(){return t(function(e){return(0,s._)((0,o._)({},e),{start:null,end:null})})}:void 0,buttonProps:{text:i,iconRight:a?void 0:(0,c.Y)(nT.A,{})},children:(0,c.Y)(G.S,{css:ca.section,p:8,children:(0,c.Y)(ci,{})})})},cs=function(){var e=uM(),n=e.filter,t=e.setFilter,r=(0,l._)((0,d.useState)(n.executionId),2),a=r[0],i=r[1];return(0,d.useEffect)(function(){i(n.executionId)},[n.executionId]),(0,c.Y)(o9.pd,{placeholder:"*****",value:a||"",onChange:function(e){var n=e.target.value;i(n),n&&5!==n.length||t(function(e){return(0,s._)((0,o._)({},e),{executionId:n})})},onBlur:function(){return t(function(e){return(0,s._)((0,o._)({},e),{executionId:a})})},onKeyDown:function(e){"Enter"===e.key&&t(function(e){return(0,s._)((0,o._)({},e),{executionId:a})})}})},cl=function(){var e=uM(),n=e.filter,t=e.setFilter;return(0,c.Y)(cr,{onClear:n.executionId?function(){return t(function(e){return(0,s._)((0,o._)({},e),{executionId:null})})}:void 0,label:"Run ID",buttonProps:{text:n.executionId?"Run: ".concat(n.executionId):"Run ID",iconRight:n.executionId?void 0:(0,c.Y)(nT.A,{})},children:(0,c.Y)(G.S,{p:8,children:(0,c.Y)(sm.A_,{children:(0,c.Y)(cs,{})})})})},cu=t(22611);function cc(e){return(0,c.Y)(iu.Ay,(0,s._)((0,o._)({},e),{children:(0,c.Y)("path",{fillRule:"evenodd",d:"M1.25 6A.75.75 0 0 1 2 5.25h20a.75.75 0 0 1 0 1.5H2A.75.75 0 0 1 1.25 6Zm3 6a.75.75 0 0 1 .75-.75h14a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75Zm3 6a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}))}var cd=function(){var e=(0,h.cF)();return(null==e?void 0:e.provider)===w.Q0q.Cron},cf=(0,eF.x)({root:[{"> *:first-child":M.wp.flex.grow(1)}],divider:M.wp.backgroundColor.outlineDimmer,section:[M.wp.p(8),M.wp.gap(8)],clearFilterButton:[M.wp.borderRadius(0),M.wp.width("fit-content")]}),cp=function(){var e=uM(),n=e.filter,t=e.setFilter,r=function(){t(function(e){return(0,s._)((0,o._)({},e),{level:e.level===w.$bb.Error?null:w.$bb.Error})})};return(0,c.Y)(eX.$n,{colorway:n.level===w.$bb.Error?"primary":void 0,text:"Errors only",iconLeft:(0,c.Y)(nJ.S,{onChange:r,checked:n.level===w.$bb.Error}),onClick:r})},ch=function(){var e=cd();return(0,c.FD)(c.FK,{children:[(0,c.Y)(cp,{}),(0,c.Y)(co,{}),e&&(0,c.Y)(cl,{})]})},cm=function(){var e=uM(),n=e.filter,t=e.setFilter,r=e.clearFilter,a=cd(),i=!!(n.message||n.level||n.start||n.end||n.executionId),l=(0,tr.c)();return(0,c.Y)(cr,{label:"Filter",buttonProps:{text:"",iconLeft:(0,c.Y)(cc,{})},onClear:i?r:void 0,children:(0,c.FD)(G.S,{children:[(0,c.FD)(G.S,{p:8,row:!0,gap:8,children:[(0,c.Y)(nJ.S,{name:"Filter by errors only",id:l("errors-only"),checked:n.level===w.$bb.Error,onChange:function(e){return t(function(n){return(0,s._)((0,o._)({},n),{level:e?w.$bb.Error:null})})}}),(0,c.Y)("label",{htmlFor:l("errors-only"),children:"Errors only"})]}),a?(0,c.FD)(c.FK,{children:[(0,c.Y)(iT.a,{css:cf.divider}),(0,c.Y)(G.S,{css:cf.section,children:(0,c.FD)(sm.A_,{children:[(0,c.Y)(a3.J,{color:"dimmer",children:"Run ID"}),(0,c.Y)(cs,{})]})})]}):null,(0,c.Y)(iT.a,{css:cf.divider}),(0,c.FD)(G.S,{css:cf.section,children:[(0,c.Y)(a3.J,{color:"dimmer",children:"Date range"}),(0,c.Y)(ci,{})]}),(0,c.Y)(iT.a,{css:cf.divider}),(0,c.Y)(eX.$n,{variant:"nofill",onClick:function(){return r()},text:"Clear all filters",alignment:"start",css:cf.clearFilterButton})]})})};function cv(){var e=uM(),n=e.filter,t=e.setFilter,r=e.isWide,a=(0,l._)((0,d.useState)(n.message),2),i=a[0],u=a[1];return(0,d.useEffect)(function(){u(n.message)},[n.message]),(0,c.FD)(G.S,{css:cf.root,p:8,row:!0,gap:8,children:[(0,c.Y)(cu.I,{placeholder:"Search",value:i,onChange:function(e){u(e.target.value),""===e.target.value&&t(function(e){return(0,s._)((0,o._)({},e),{message:""})})},onBlur:function(){return t(function(e){return(0,s._)((0,o._)({},e),{message:i})})},onClear:function(){t(function(e){return(0,s._)((0,o._)({},e),{message:""})})},onKeyDown:function(e){"Enter"===e.key&&t(function(e){return(0,s._)((0,o._)({},e),{message:i})})}}),r?(0,c.Y)(ch,{}):(0,c.Y)(cm,{})]})}function cg(e){return(0,c.Y)(iu.Ay,(0,s._)((0,o._)({},e),{viewBox:"0 0 16 16",fill:"none",children:(0,c.Y)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 11.5H10A3.5 3.5 0 0013.5 8v0A3.5 3.5 0 0010 4.5H2.5m2 7L7 9m-2.5 2.5L7 14"})}))}var cb=t(14420),cy=t(45206),cw=(0,eF.x)({root:[M.wp.border({color:eC.LU.outlineDimmest,direction:"top"}),M.wp.height(29)],group:[M.wp.display.flex,M.wp.rowWithGap(8)],button:[M.wp.color.foregroundDefault,M.wp.borderRadius(0),M.wp.height("100%")],liveIndicatorWrapper:[M.wp.width(16),M.wp.height(16),M.wp.display.flex,M.wp.align.center,M.wp.justify.center],liveIndicator:[M.wp.width(6),M.wp.height(6),M.wp.borderRadius("full"),M.wp.backgroundColor.accentPositiveStronger],checkboxWrapper:[M.wp.display.flex,M.wp.align.center,M.wp.rowWithGap(4),M.wp.cursor.pointer],checkbox:[{input:[M.wp.width(16),M.wp.height(16)]}]});function c_(){var e=uM(),n=e.isLive,t=e.setIsLive,r=e.isExpanded,a=e.setIsExpanded,i=e.isWrapped,o=e.setIsWrapped,s=e.isColorful,l=e.setIsColorful,u=(0,tr.c)();return(0,c.FD)(G.S,{css:cw.root,row:!0,gap:8,justify:"space-between",children:[(0,c.FD)(G.S,{css:cw.group,children:[(0,c.Y)(eX.$n,{iconLeft:r?(0,c.Y)(eE.A,{rotate:90}):(0,c.Y)(ex.A,{rotate:90}),onClick:function(){return a(function(e){return!e})},variant:"nofill",text:r?"Collapse":"Expand",css:cw.button}),(0,c.FD)("label",{css:cw.checkboxWrapper,htmlFor:u("wrap"),children:[(0,c.Y)(nJ.S,{id:u("wrap"),checked:i,onChange:function(){return o(function(e){return!e})},css:cw.checkbox}),(0,c.Y)(cg,{}),(0,c.Y)("span",{children:"Wrap"})]}),(0,c.FD)("label",{css:cw.checkboxWrapper,htmlFor:u("colorful"),children:[(0,c.Y)(nJ.S,{id:u("colorful"),checked:s,onChange:function(){return l(function(e){return!e})},css:cw.checkbox}),(0,c.Y)(cy.A,{}),(0,c.Y)("span",{children:"Colors"})]})]}),(0,c.Y)(G.S,{css:cw.group,children:(0,c.Y)(eX.$n,{iconLeft:n?(0,c.Y)(G.S,{css:cw.liveIndicatorWrapper,children:(0,c.Y)(G.S,{css:cw.liveIndicator})}):(0,c.Y)(cb.A,{}),onClick:function(){return t(function(e){return!e})},variant:"nofill",text:"Live",css:cw.button})})]})}var cS=(0,eF.x)({root:[M.wp.overflow("hidden")],header:[{borderBottom:"1px solid ".concat(eC.LU.outlineDimmest)}]}),cA=function(e){var n=e.deploymentId,t=e.replId,r=e.executionId,a=e.onBack,i=e.openFile;return n?(0,c.Y)(ck,{deploymentId:n,replId:t,executionId:r,onBack:a,openFile:i}):(0,c.Y)(S.A,{children:(0,c.Y)(V.N,{colorway:"warning",icon:(0,c.Y)(nR.A,{}),text:"Deployment not found"})})};function ck(e){var n=e.deploymentId,t=e.replId,r=e.executionId,a=e.onBack,i=uJ({deploymentId:n,replId:t,executionId:r,openFile:e.openFile});return(0,u0.S)(function(){(0,eO.Ae)({context:_.P.Logs})}),(0,c.Y)(uL.Provider,{value:i,children:(0,c.FD)(G.S,{css:cS.root,grow:!0,shrink:!0,innerRef:i.containerRef,children:[a?(0,c.Y)(G.S,{css:cS.header,p:6,gap:8,children:(0,c.Y)(G.S,{row:!0,gap:8,align:"center",justify:"space-between",children:(0,c.Y)(eY.K0,{alt:"Back",onClick:a,children:(0,c.Y)(i1.A,{})})})}):null,(0,c.Y)(cv,{}),(0,c.Y)(u6,{}),(0,c.Y)(c_,{})]})})}var cC=[{label:"one hour",key:1},{label:"six hours",key:6},{label:"one day",key:24},{label:"three days",key:72},{label:"one week",key:168}],cY={label:"one hour",key:1},cE=M.kL.min(600),cx=(0,eF.x)({fullWidth:(0,A._)({},cE,{gridColumn:"span 2"})}),cT=(0,eF.x)({container:(0,A._)({display:"grid",gap:32},cE,{gridTemplateColumns:"repeat(2, minmax(0, 1fr))"}),fullWidth:cx.fullWidth}),cD=function(e){var n=e.replId,t=(0,l._)((0,d.useState)(cY),2),r=t[0],a=r.key,i=r.label,o=t[1],s=(0,k.A)(new Date,a),u=(0,L.D)().values,f=cR(s,cI(a));return(0,c.Y)(S.A,{children:(0,c.FD)(G.S,{css:cT.container,children:[(0,c.Y)(G.S,{css:cT.fullWidth,children:(0,c.Y)(eU.in,{items:cC,label:"Past ".concat(i),onAction:function(e){var n,t="string"==typeof e?parseInt(e,10):e;o(null!=(n=cC.find(function(e){return e.key===t}))?n:cY)},children:function(e){return(0,c.Y)(eU.Dr,{label:e.label,id:e.key},e.key)}})}),(0,c.Y)(G.S,{css:cT.fullWidth,children:(0,c.Y)(eg,{replId:n,title:"CPU Utilization",metric:Y.YE.CPU,start:f,hours:a,colorFn:function(){return u.global.redDefault}})}),(0,c.Y)(G.S,{css:cT.fullWidth,children:(0,c.Y)(eg,{replId:n,title:"Memory Utilization",metric:Y.YE.Memory,start:f,hours:a,colorFn:function(){return u.global.redDefault}})})]})})},cI=function(e){return e<=1?6e5:e<=6?18e5:e<=24?72e5:216e5},cR=function(e,n){var t=e.getTime()%n;return new Date(e.getTime()-t)},cN=t(15547);function cO(){var e=(0,T._)(["\n  query ScheduledJobListExecution($deploymentId: String!) {\n    scheduledJobListExecutions(input: { deploymentId: $deploymentId }) {\n      __typename\n      ... on ScheduledJobListExecutionsResults {\n        results {\n          id\n          startedAt\n          endedAt\n          status\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return cO=function(){return e},e}function cP(){var e=(0,T._)(["\n  mutation CancelScheduledJobExecution(\n    $deploymentId: String!\n    $executionId: String!\n  ) {\n    cancelScheduledJobExecution(\n      input: { deploymentId: $deploymentId, executionId: $executionId }\n    ) {\n      __typename\n      ... on CancelScheduledJobExecutionResult {\n        execution {\n          id\n          startedAt\n          endedAt\n          status\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return cP=function(){return e},e}var cF={},cU=(0,D.J1)(cO()),cL=(0,D.J1)(cP()),cM=t(93907),cJ=t(60711),cH=(0,eF.x)({root:[M.wp.overflow("hidden")],executionListHeader:[{borderBottom:"1px solid ".concat(eC.LU.outlineDimmest)}],executionList:[{overflow:"auto"},M.wp.flex.growAndShrink(1)],executionListRows:{width:"100%",position:"relative"},executionItem:[M.wp.rowWithGap(8),M.wp.align.center,M.wp.fontSize(12),M.wp.px(8),{position:"absolute",top:0,left:0,width:"100%",borderBottom:"1px solid ".concat(eC.LU.outlineDimmest),color:eC.LU.foregroundDimmer}],executionItemStatusDot:[M.wp.width("6px"),M.wp.height("6px"),M.wp.borderRadius("full"),M.wp.flex.shrink(0),M.wp.pr(4)],executionItemDistance:[M.wp.minWidth(100)],executionItemTimestamp:[M.wp.minWidth(90)],executionItemRunTime:[M.wp.minWidth(60)],executionItemStatus:[M.wp.minWidth(100),{textTransform:"capitalize"}],executionItemActions:[{marginLeft:"auto"}],noExecutionsText:[M.wp.textAlign.center],maxResultsMessage:[M.wp.fontSize(12),M.wp.color.foregroundDimmest]});function cB(e){var n=e.deploymentId,t=e.replId,r=e.openFile,a=(0,l._)((0,d.useState)(),2),i=a[0],o=a[1];return n?i?(0,c.Y)(cA,{replId:t,deploymentId:n,executionId:i,onBack:function(){return o(void 0)},openFile:r}):(0,c.Y)(cV,{deploymentId:n,onViewExecutionLogs:function(e){var n=e.split("-");o(n[n.length-1])}}):(0,c.Y)(S.A,{children:(0,c.Y)(V.N,{colorway:"warning",icon:(0,c.Y)(nR.A,{}),text:"Deployment not found"})})}function cV(e){var n,t,r,a,i,s=e.deploymentId,u=e.onViewExecutionLogs,f=(0,l._)((0,d.useState)([]),2),p=f[0],h=f[1],m=(0,l._)((0,d.useState)(!1),2),v=m[0],g=m[1],y=(0,l._)((0,d.useState)(),2),w=y[0],S=y[1],A=(n={variables:{deploymentId:s},onError:function(e){S(e)},onCompleted:function(e){(null==e?void 0:e.scheduledJobListExecutions.__typename)==="ScheduledJobListExecutionsResults"&&h(e.scheduledJobListExecutions.results)}},t=(0,o._)({},cF,n),I.I(cU,t)),k=A.loading,C=A.refetch,Y=(0,l._)((r={onError:function(e){S(e)},onCompleted:function(e){var n=e.cancelScheduledJobExecution;"CancelScheduledJobExecutionResult"===n.__typename&&h(function(e){return e.map(function(e){return e.id===n.execution.id?n.execution:e})})}},a=(0,o._)({},cF,r),tm.n(cL,a)),2),E=Y[0],x=Y[1].loading,T=!!(k||x||v||w);return(0,u0.S)(function(){k||C(),(0,eO.Ae)({context:_.P.Schedule})}),(0,c.FD)(G.S,{css:cH.root,grow:!0,shrink:!0,children:[(0,c.FD)(G.S,{css:cH.executionListHeader,p:6,gap:8,children:[w?(0,c.Y)(V.N,{colorway:"warning",icon:(0,c.Y)(nR.A,{}),text:null!=(i=w.message)?i:"Something went wrong"}):null,(0,c.FD)(G.S,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,c.Y)(cM.y,{disabled:T,onSuccessfulExecution:function(e){h(function(n){return[e].concat((0,b._)(n)).slice(0,50)})}}),(0,c.Y)(eY.K0,{alt:"Refresh",disabled:T,onClick:function(){T||(g(!0),C().finally(function(){g(!1)}))},children:v?(0,c.Y)(tY.A,{}):(0,c.Y)(sv.A,{})})]})]}),(0,c.Y)(c$,{executions:p,loading:k,disabled:T,onExecutionItemAction:function(e){switch(e.type){case"cancel":E({variables:{deploymentId:s,executionId:e.payload.id}});break;case"logs":u(e.payload.id)}}})]})}function c$(e){var n=e.executions,t=e.loading,r=e.disabled,a=e.onExecutionItemAction,i=(0,d.useRef)(null),o=(0,ov.m6)()?44:28,s=(0,uH.Te)({count:n.length,getScrollElement:function(){return i.current},estimateSize:function(){return o},overscan:10});return t?(0,c.Y)(S.A,{centered:!0,children:(0,c.Y)(e8.cN,{})}):0===n.length?(0,c.Y)(S.A,{children:(0,c.FD)(G.S,{pt:4,gap:8,children:[(0,c.Y)($.EY,{css:cH.noExecutionsText,children:"No runs yet..."}),(0,c.FD)($.EY,{color:"dimmer",css:cH.noExecutionsText,children:["Having trouble?"," ",(0,c.Y)("a",{href:"https://docs.replit.com/cloud-services/deployments/troubleshooting",onClick:function(){return(0,eO.Ae)({context:"troubleshooting_doc"})},target:"_blank",children:"Troubleshooting tips"})]})]})}):(0,c.Y)(G.S,{innerRef:i,css:cH.executionList,children:(0,c.Y)(G.S,{style:{height:s.getTotalSize()},css:cH.executionListRows,children:s.getVirtualItems().map(function(e){var t=n[e.index];return(0,c.Y)(cj,{execution:t,height:e.size,y:e.start,index:e.index,onAction:a,disabled:r},e.key.toString())})})})}var cG=(i={},(0,A._)(i,w.vJZ.Done,eC.LU.accentPositiveDefault),(0,A._)(i,w.vJZ.Running,eC.LU.orangeStronger),(0,A._)(i,w.vJZ.Failed,eC.LU.accentNegativeDefault),(0,A._)(i,w.vJZ.Cancelled,eC.LU.greyDefault),(0,A._)(i,w.vJZ.Unrecognized,eC.LU.greyDefault),i);function cz(e){var n=e.status,t=n in cG?cG[n]:eC.LU.greyDefault;return(0,c.Y)(G.S,{tag:"span",css:cH.executionItemStatusDot,style:{backgroundColor:t,boxShadow:"0 0 8px ".concat(t)}})}var cW=function(e){return e.Cancel="cancel",e.Logs="logs",e}(cW||{});function cj(e){var n=e.execution,t=e.y,r=e.height,a=e.index,i=e.onAction,o=e.disabled,s=(null==n?void 0:n.endedAt)?(new Date(n.endedAt).valueOf()-new Date(n.startedAt).valueOf())/1e3:null;return(0,c.FD)(c.FK,{children:[(0,c.FD)(G.S,{title:n.id,css:cH.executionItem,style:{height:r,transform:"translateY(".concat(t,"px)")},children:[(0,c.Y)(cz,{status:n.status}),(0,c.Y)(G.S,{css:cH.executionItemDistance,children:(0,cN.A)(new Date(n.startedAt),Date.now(),{addSuffix:!0})}),(0,c.FD)(G.S,{css:cH.executionItemTimestamp,children:[new Date(n.startedAt).toLocaleString("en-US",{month:"short",day:"2-digit"}),", ",new Date(n.startedAt).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",hourCycle:"h23"})]}),(0,c.Y)(G.S,{css:cH.executionItemRunTime,children:s?"".concat(s,"s"):"-"}),(0,c.Y)(G.S,{css:cH.executionItemStatus,children:n.status}),(0,c.FD)(G.S,{css:cH.executionItemActions,row:!0,gap:8,align:"center",children:[n.status===w.vJZ.Running?(0,c.Y)(eY.K0,{alt:"Cancel",size:12,disabled:o,onClick:function(){return i({type:"cancel",payload:{id:n.id}})},children:(0,c.Y)(cJ.A,{})}):null,(0,c.Y)(eY.K0,{alt:"Logs",size:18,disabled:o,onClick:function(){return i({type:"logs",payload:{id:n.id}})},children:(0,c.Y)(rw.A,{})})]})]}),49===a?(0,c.Y)(G.S,{title:n.id,css:cH.executionItem,style:{height:r,transform:"translateY(".concat(t+r,"px)")},children:(0,c.Y)($.EY,{css:cH.maxResultsMessage,children:"Only the most recent 50 runs are displayed currently"})}):null]})}var cq=t(70111);function cZ(e){return(0,c.Y)(iu.Ay,(0,s._)((0,o._)({},e),{children:(0,c.Y)("path",{fillRule:"evenodd",d:"M4 2.25a.75.75 0 0 1 .75.75v7a.75.75 0 0 1-1.5 0V3A.75.75 0 0 1 4 2.25Zm8 0a.75.75 0 0 1 .75.75v4.25H15a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1 0-1.5h2.25V3a.75.75 0 0 1 .75-.75Zm8 0a.75.75 0 0 1 .75.75v9a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75Zm-8 9a.75.75 0 0 1 .75.75v9a.75.75 0 0 1-1.5 0v-9a.75.75 0 0 1 .75-.75ZM.25 14a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5H4.75V21a.75.75 0 0 1-1.5 0v-6.25H1A.75.75 0 0 1 .25 14Zm16 2a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5h-2.25V21a.75.75 0 0 1-1.5 0v-4.25H17a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}))}var cK=(0,eF.x)({container:M.wp.colWithGap(24),pauseAndResumeButtons:M.wp.colWithGap(8),sectionContainer:M.wp.colWithGap(8),sectionButton:[M.wp.color.accentNegativeStrongest,M.wp.transition.snappy,(0,A._)({backgroundColor:eC.LU.interactiveBackground,borderColor:"transparent"},M.Tp.hover,{borderColor:"transparent"})]}),cQ=function(e){var n=e.hideResume,t=e.hideSuspend,r=e.onLifecycleCommand,a=e.authorizations,i=(0,m.uS)(),o=(0,h.cF)(),s=(0,l._)((0,d.useState)(!1),2),u=s[0],f=s[1],p=a.editDeploymentStatus,g=p.isAuthorized,b=p.message,y=(null==o?void 0:o.provider)==="azure_container_app"||(null==o?void 0:o.provider)==="azure_vm",_=(null==o?void 0:o.status)===w.nHS.Resuming,S=(null==o?void 0:o.status)===w.nHS.Suspending,A=(null==o?void 0:o.status)===w.nHS.Suspended,k=_||S||i===v.d.ProcessingLifecycleCommand||i===v.d.Deploying,C=!y&&!(void 0!==n&&n)&&(A||_)&&(null==o?void 0:o.hasImageTag),Y=!y&&!(void 0!==t&&t)&&!A&&!_&&(S||i===v.d.Deploying||i===v.d.Ready)&&(null==o?void 0:o.hasImageTag);return(0,c.Y)(c.FK,{children:(0,c.FD)(G.S,{css:cK.container,children:[C||Y?(0,c.FD)(G.S,{css:cK.pauseAndResumeButtons,children:[C?(0,c.FD)(c.FK,{children:[(0,c.Y)(nF.m_,{tooltip:b,isDisabled:g,children:(0,c.Y)(eX.$n,{text:_?"Resuming":"Resume",onClick:function(){return r({command:w.jPZ.Resume})},loading:_,disabled:k||!g,iconLeft:_?(0,c.Y)(tY.A,{}):(0,c.Y)(cq.A,{})})}),(0,c.Y)($.EY,{color:"dimmer",children:"Your app will become accessible to users again"})]}):null,Y?(0,c.FD)(c.FK,{children:[(0,c.Y)(nF.m_,{tooltip:b,isDisabled:g,children:(0,c.Y)(eX.$n,{text:"Pause",onClick:function(){return r({command:w.jPZ.Suspend})},loading:S,disabled:k||!g,iconLeft:S?(0,c.Y)(tY.A,{}):(0,c.Y)(aT.A,{})})}),(0,c.Y)($.EY,{color:"dimmer",children:"Your billing will continue, but all users will lose access to your app"})]}):null]}):null,(0,c.Y)(cX,{setIsDestroying:f,onLifecycleCommand:r,authorizations:a}),(0,c.Y)(c0,{isDestroying:u,setIsDestroying:f,onLifecycleCommand:r,authorizations:a})]})})};function cX(e){var n=e.setIsDestroying,t=e.onLifecycleCommand,r=e.authorizations,a=(0,l._)((0,d.useState)(!1),2),i=a[0],o=a[1],s=r.deleteDeployment,u=s.isAuthorized,f=s.message;return(0,tK.Y)().isAgentStackRepl?null:(0,c.FD)(c.FK,{children:[(0,c.FD)(G.S,{css:cK.sectionContainer,children:[(0,c.Y)(nF.m_,{tooltip:f,isDisabled:u,children:(0,c.Y)(eX.$n,{text:"Change deployment type",onClick:function(){return o(!0)},disabled:!u,iconLeft:(0,c.Y)(cZ,{})})}),(0,c.Y)($.EY,{color:"dimmer",children:"To change your deployment type, you will need to unpublish and publish again."})]}),(0,c.Y)(e0.a,{isOpen:i,onRequestClose:function(){return o(!1)},children:(0,c.Y)(th.A,{confirmLabel:"Yes, unpublish my app",title:"Change Deployment Type",isDestructive:!0,onConfirm:function(){n(!0),o(!1),t({command:w.jPZ.Destroy})},onCancel:function(){return o(!1)},children:"To change your deployment type, you will need to unpublish and publish again. This will destroy your published app and any associated published app tiers, saved replit.app domain and published app history. You can always come back and republish your App again."})})]})}function c0(e){var n=e.isDestroying,t=e.setIsDestroying,r=e.onLifecycleCommand,a=e.authorizations,i=(0,l._)((0,d.useState)(!1),2),o=i[0],s=i[1],u=a.deleteDeployment,f=u.isAuthorized,p=u.message;return(0,c.FD)(c.FK,{children:[(0,c.FD)(G.S,{css:cK.sectionContainer,children:[(0,c.Y)(nF.m_,{tooltip:p,isDisabled:f,children:(0,c.Y)(eX.$n,{text:"Shut down",colorway:"negative",variant:"outlined",css:cK.sectionButton,onClick:function(){return s(!0)},disabled:n||!f,iconLeft:(0,c.Y)(sg.A,{})})}),(0,c.Y)($.EY,{color:"dimmer",children:"Your published app billing will be canceled, and it will cease to exist"})]}),(0,c.Y)(e0.a,{isOpen:o,onRequestClose:function(){return s(!1)},children:(0,c.Y)(th.A,{confirmLabel:"Yes, unpublish my app",title:"Delete Published App",isDestructive:!0,onConfirm:function(){t(!0),s(!1),r({command:w.jPZ.Destroy})},onCancel:function(){return s(!1)},children:"This will destroy your published app and any associated published app tiers, saved replit.app domain and published app history. You can always come back and republish your repl again."})})]})}function c1(e){var n=e.shouldShowDownloadQR,t=(0,l._)((0,d.useState)(n),2),r=t[0],a=t[1];return(0,c.Y)(G.S,{children:(0,c.FD)(G.S,{gap:8,children:[(0,c.Y)(eX.$n,{iconLeft:(0,c.Y)(e3.A,{}),text:"Install the Replit App",onClick:function(){return a(function(e){var n=!e;return n&&(0,eQ.u4)(eQ.AZ.DEPLOYMENT_MOBILE_DOWNLOAD_QR_VIEWED),n})}}),r?(0,c.Y)(e1.A,{source:"deployment_settings"}):null]})})}function c2(){var e=(0,T._)(["\n  query AutoscaleUsageSectionCurrentUser {\n    currentUser {\n      id\n      usageInterval {\n        ... on UsageInterval {\n          startDate\n          endDate\n          resources {\n            autoscaleComputeUnits {\n              usage\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return c2=function(){return e},e}var c3={},c4=(0,D.J1)(c2()),c5=t(72352),c7=(0,eF.x)({root:[M.wp.borderRadius(8),{outline:"1px solid transparent"}],outerRow:[M.wp.rowWithGap(12),M.wp.align.center]}),c9=function(e){var n,t=e.machineConfiguration,r=(n=(0,o._)({},c3,void 0),I.I(c4,n)).data,a=(0,d.useMemo)(function(){return function(e){var n,t,r=e.data;if((null==r||null==(n=r.currentUser)?void 0:n.__typename)==="CurrentUser"){var a=null==r||null==(t=r.currentUser)?void 0:t.usageInterval;if(a&&"UsageInterval"===a.__typename){var i=a.resources.autoscaleComputeUnits.usage,o=(0,c5.h7)(i,{resourceUsageType:"ComputeUnits"}),s=new Date(a.endDate).toLocaleString("default",{month:"short",day:"numeric"});return{description:"".concat(o," used this billing period"),renewalInfo:"Renews ".concat(s," ")}}}}({data:r})},[r]),i=(0,tK.Y)().isAgentStackRepl,s=(0,d.useMemo)(function(){if(null!=t)return"Autoscale (".concat(t.label,")")},[t]);if(!s||!a)return(0,c.Y)(G.S,{justify:"center",row:!0,children:(0,c.Y)(tY.A,{})});var l=e.authorizations.editDeploymentTier,u=l.isAuthorized,f=l.message;return(0,c.FD)(na.ui,{elevated:!0,css:c7.root,p:8,pt:12,gap:4,children:[(0,c.FD)(G.S,{css:c7.outerRow,children:[(0,c.Y)(G.S,{grow:!0,shrink:!0,gap:4,children:s?(0,c.Y)($.EY,{multiline:!1,children:s}):null}),i?null:(0,c.Y)(eY.K0,{alt:u?"Edit":f,disabled:!u,onClick:e.onEditAutoscaleMachineConfiguration,children:(0,c.Y)(nh.A,{})})]}),a?(0,c.FD)(c.FK,{children:[(0,c.FD)(G.S,{css:c7.outerRow,children:[(0,c.Y)($.EY,{multiline:!1,children:a.description}),(0,c.Y)($.EY,{color:"dimmer",multiline:!1,children:a.renewalInfo})]}),(0,c.Y)(G.S,{css:c7.outerRow,children:(0,c.Y)(oU(),{href:"/usage",prefetch:!1,role:"button",children:"View account resource limits"})})]}):null]})},c8=t(70932);function c6(){var e=(0,T._)(["\n  mutation NotificationsSectionUpdateFailureNotifications(\n    $input: UpdateMachineJobFailureNotificationInput!\n  ) {\n    updateMachineJobFailureNotification(input: $input) {\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on UpdateMachineJobFailureNotificationResult {\n        failureNotifications\n      }\n    }\n  }\n"]);return c6=function(){return e},e}var de={},dn=(0,D.J1)(c6()),dt=t(95182);function dr(e){return(0,c.Y)(iu.Ay,(0,s._)((0,o._)({},e),{children:(0,c.Y)("path",{fillRule:"evenodd",d:"M.47.47a.75.75 0 0 1 1.06 0l5.25 5.249a.745.745 0 0 1 .02.02l10.73 10.73.001.001 6 6a.75.75 0 1 1-1.061 1.06l-5.78-5.78H3a.75.75 0 0 1-.414-1.376l.063-.05c.06-.05.156-.136.275-.262.239-.252.575-.668.918-1.296C4.525 13.514 5.25 11.39 5.25 8a6.61 6.61 0 0 1 .173-1.517L.47 1.53a.75.75 0 0 1 0-1.06Zm6.283 7.344a5.096 5.096 0 0 0-.003.184V8c0 3.61-.775 5.986-1.592 7.484a8.768 8.768 0 0 1-.468.766h10.5L6.752 7.814Zm4.922-6.565A6.75 6.75 0 0 1 18.75 8v.011c-.026 1.617.177 3.23.604 4.79a.75.75 0 0 1-1.447.396 18.642 18.642 0 0 1-.657-5.204 5.25 5.25 0 0 0-8.164-4.37.75.75 0 0 1-.832-1.248 6.75 6.75 0 0 1 3.42-1.127ZM9.894 20.35a.75.75 0 0 1 1.025.273 1.25 1.25 0 0 0 2.162 0 .75.75 0 0 1 1.298.752 2.749 2.749 0 0 1-4.758 0 .75.75 0 0 1 .273-1.025Z",clipRule:"evenodd"})}))}var da=(0,eF.x)({container:[M.wp.colWithGap(8)]});function di(e){var n,t,r=e.replId,a=e.isCurrentBuildSuccess,i=e.areFailureNotificationsEnabled,s=(0,l._)((0,d.useState)(i),2),u=s[0],f=s[1],p=(0,l._)((0,d.useState)(void 0),2),h=p[0],m=p[1],v=(0,l._)((n={onCompleted:function(e){var n=e.updateMachineJobFailureNotification;((null==n?void 0:n.__typename)==="NotFoundError"||(null==n?void 0:n.__typename)==="UnauthorizedError"||(null==n?void 0:n.__typename)==="UserError")&&(m(n.message),f(function(e){return!e}))}},t=(0,o._)({},de,n),tm.n(dn,t)),1)[0],g=function(e){m(void 0),v({variables:{input:{replId:r,failureNotifications:e}}}),f(e)};return(0,c.FD)(G.S,{children:[h?(0,c.Y)(V.N,{text:h,colorway:"warning"}):null,(0,c.FD)(nF.m_,{isDisabled:a,tooltip:"Most recent build failed. Republish successfully before enabling notifications",placement:"top-end",css:da.container,children:[(0,c.FD)(ta.e2,{disabled:!a,tag:"fieldset",name:"notification-switch",value:u?"enabled":"disabled",onChange:function(e){g("enabled"===e)},row:!0,primary:!0,stretch:!0,children:[(0,c.Y)(ta.$O,{id:"failure-notifications-disabled",value:"disabled",text:"Disabled",icon:(0,c.Y)(dr,{})}),(0,c.Y)(ta.$O,{id:"failure-notifications-enabled",value:"enabled",text:"Enabled",icon:(0,c.Y)(dt.A,{})})]}),(0,c.Y)($.EY,{color:"dimmer",children:"Send email and push notifications when a scheduled job fails"})]})]})}var ds=(0,eF.x)({container:[nZ.R1.maxWidth,M.wp.py(8)],usageContainer:M.wp.colWithGap(16),header:M.wp.pb(8),paddedHeader:M.wp.pb(12)}),dl=function(e){var n=e.deploymentId,t=e.onLifecycleCommand,r=e.onError;return n?(0,c.Y)(dc,{deploymentId:n,onLifecycleCommand:t,onError:r}):(0,c.Y)(S.A,{children:(0,c.Y)(V.N,{colorway:"warning",icon:(0,c.Y)(nR.A,{}),text:"Published app not found"})})},du={__typename:"ReplAuthorizations",addCustomDomain:{__typename:"ReplAuthorization",isAuthorized:!1,code:w.S4P.InsufficientPermissions,message:"Loading"},deleteCustomDomain:{__typename:"ReplAuthorization",isAuthorized:!1,code:w.S4P.InsufficientPermissions,message:"Loading"},deleteDeployment:{__typename:"ReplAuthorization",isAuthorized:!1,code:w.S4P.InsufficientPermissions,message:"Loading"},editDeploymentStatus:{__typename:"ReplAuthorization",isAuthorized:!1,code:w.S4P.InsufficientPermissions,message:"Loading"},editDeploymentTier:{__typename:"ReplAuthorization",isAuthorized:!1,code:w.S4P.InsufficientPermissions,message:"Loading"}};function dc(e){var n,t,r,a,i,o=(0,ov.m6)(),s=(0,l._)((0,d.useState)(!1),2),u=s[0],f=s[1];(0,d.useEffect)(function(){(0,eO.Ae)({context:_.P.Settings})},[]);var p=(0,l._)(aE(),2),h=p[0],m=p[1],v=m.data,g=m.error,b=(0,tU._P)({controlName:"flag-domains-glowup",default:!1}),y=aC({variables:{id:e.deploymentId,isGlowup:b},ssr:!1,fetchPolicy:"cache-and-network",onCompleted:function(e){var n;(null==e||null==(n=e.hostingDeployment)?void 0:n.__typename)==="HostingDeployment"&&h({variables:{replId:e.hostingDeployment.repl.id,provider:e.hostingDeployment.currentBuild.provider}})}}),A=y.data,k=y.loading,C=y.error,Y=(null==A||null==(n=A.hostingDeployment)?void 0:n.__typename)==="HostingDeployment"?A.hostingDeployment:void 0;if(u&&(null==Y?void 0:Y.currentBuild.provider)===w.Q0q.CloudRun)return(0,c.Y)(t8.JY,{type:w.Q0q.CloudRun,onError:e.onError,onConfirm:function(n){e.onLifecycleCommand({command:w.jPZ.UpdateMachineConfiguration,machineConfigurationId:n.configurationId,maxMachineInstances:n.maxInstances})},onBack:function(){return f(!1)}});if(C)return(0,c.Y)(e8.Wx,{text:C.message});if(k||!Y)return(0,c.Y)(S.A,{centered:!0,children:(0,c.Y)(e8.cN,{})});var E=Y.currentBuild,x=null!=(a=null==E?void 0:E.machineConfiguration)?a:void 0,T=(null==v||null==(t=v.getRepl)?void 0:t.__typename)==="Repl"?v.getRepl.authorizations:du;return(0,c.Y)(S.A,{children:(0,c.FD)(G.S,{css:ds.container,gap:32,children:[g?(0,c.Y)(V.N,{colorway:"negative",text:g.message}):void 0,E.provider===w.Q0q.CloudRun?(0,c.FD)(G.S,{children:[(0,c.Y)($.EY,{variant:"subheadDefault",css:ds.header,children:"Resource usage"}),(0,c.Y)(G.S,{css:ds.usageContainer,children:(0,c.Y)(c9,{machineConfiguration:x,onEditAutoscaleMachineConfiguration:function(){return f(!0)},authorizations:T})})]}):null,(0,c.FD)(G.S,{children:[(0,c.Y)($.EY,{variant:"subheadDefault",css:ds.paddedHeader,children:"Manage published app"}),(0,c.Y)(c8.v,{}),(0,c.Y)(cQ,{onLifecycleCommand:e.onLifecycleCommand,authorizations:T})]}),E.provider===w.Q0q.Cron?(0,c.FD)(G.S,{children:[(0,c.Y)($.EY,{variant:"subheadDefault",css:ds.paddedHeader,children:"Scheduled Job Notifications"}),(0,c.Y)(di,{replId:Y.repl.id,isCurrentBuildSuccess:Y.currentBuild.status===w.nHS.Success,areFailureNotificationsEnabled:null!=(i=null==(r=Y.currentBuild.machineJob)?void 0:r.failureNotifications)&&i})]}):null,o?null:(0,c.FD)(G.S,{children:[(0,c.Y)($.EY,{variant:"subheadDefault",css:ds.paddedHeader,children:"Publish on the go"}),(0,c.Y)(c1,{shouldShowDownloadQR:!1})]})]})})}function dd(){var e=(0,T._)(["\n  fragment DeploymentsNewDeploymentRepl on Repl {\n    id\n    slug\n    lastUsedSubdomain\n    owner {\n      ... on User {\n        id\n        username\n      }\n      ... on Team {\n        id\n        username\n      }\n    }\n    org {\n      __typename\n      id\n      slug\n      type\n    }\n  }\n"]);return dd=function(){return e},e}function df(){var e=(0,T._)(["\n  query DeploymentsNewDeployment($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        ...DeploymentsNewDeploymentRepl\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return df=function(){return e},e}function dp(){var e=(0,T._)(["\n  query DeploymentsPaneIntro($id: String!) {\n    getRepl(id: $id) {\n      ... on Repl {\n        id\n        owner {\n          __typename\n          ... on Team {\n            id\n          }\n        }\n        ...DeploymentsNewDeploymentRepl\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return dp=function(){return e},e}var dh={},dm=(0,D.J1)(dd()),dv=(0,D.J1)(df(),dm);dp();var dg=t(43239),db=t(41832),dy=function(e){return e.NO_REMOTE="NO_REMOTE",e.UNPUSHED_BRANCH="UNPUSHED_BRANCH",e.UNCOMMITTED_CHANGES="UNCOMMITTED_CHANGES",e.UNPUSHED_COMMITS="UNPUSHED_COMMITS",e}({});function dw(){var e=(0,T._)(["\n  mutation StripeConnectionDeleteStripeConnection(\n    $input: DeleteConnectionInput!\n  ) {\n    deleteConnection(input: $input) {\n      ... on DeleteConnection {\n        success\n      }\n    }\n  }\n"]);return dw=function(){return e},e}function d_(){var e=(0,T._)(["\n  mutation StripeConnectionCreateStripeConnection(\n    $input: CreateConnectionInput!\n  ) {\n    createConnection(input: $input) {\n      ... on CreateConnection {\n        connectionId\n      }\n    }\n  }\n"]);return d_=function(){return e},e}var dS={},dA=(0,D.J1)(dw()),dk=(0,D.J1)(d_());function dC(){var e=(0,tI.W)(),n=e.connections,t=e.loading,r=(0,tR.A)(),a=n.find(function(e){var n;return e.connectorName===e$.jis.StripeAgentSandbox&&(null==(n=e.repls)?void 0:n.some(function(e){return e.id===r}))}),i=n.find(function(e){var n;return e.connectorName===e$.jis.Stripe&&(null==(n=e.repls)?void 0:n.some(function(e){return e.id===r}))});return{hasStripeSandboxConnection:!!a,hasStripeConnection:!!i,stripeConnection:i,stripeSandboxConnection:a,loading:t}}var dY=t(9),dE=t.n(dY),dx=function(e){var n=e.syncSandboxWithLive,t=e.setSyncSandboxWithLive;return(0,c.Y)(nL.wn,{id:"syncSandboxWithLive",title:(0,c.FD)(G.S,{gap:4,children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",children:[(0,c.Y)($.EY,{color:"dimmer",children:"Sync live account with sandbox"}),(0,c.Y)(np.a,{text:"Recommended",colorway:"positive",variant:"muted",compact:!0})]}),(0,c.Y)($.EY,{variant:"small",color:"dimmer",children:"Automatically sync your sandbox products and prices to your live account."})]}),children:(0,c.Y)(sh.d,{isSelected:n,onChange:t,"aria-label":"Sync sandbox with live account"})})};function dT(e){var n,t,r,a,i=e.syncSandboxWithLive,s=e.setSyncSandboxWithLive,u=dC(),f=u.hasStripeConnection,p=u.stripeConnection,h=u.loading,m=(0,tI.W)(),v=m.connectorConfigs,b=m.refetch,w=(0,tR.A)(),_=(0,l._)((0,d.useState)("INPUT"),2),S=_[0],A=_[1],k=(0,l._)((0,d.useState)(""),2),C=k[0],Y=k[1],E=(0,l._)((0,d.useState)(""),2),x=E[0],T=E[1],D=(0,l._)((0,d.useState)(null),2),I=D[0],R=D[1],N=(0,l._)((0,d.useState)(!1),2),O=N[0],P=N[1],F=(0,l._)((n={onCompleted:function(e){return(0,g._)(function(){var n;return(0,y.YH)(this,function(t){switch(t.label){case 0:if((null==e||null==(n=e.createConnection)?void 0:n.__typename)!=="CreateConnection")return[3,2];return[4,b()];case 1:return t.sent(),A("CONNECTED"),[3,3];case 2:R("Failed to create connection"),A("INPUT"),t.label=3;case 3:return[2]}})})()},onError:function(e){R(e.message||"Failed to connect to Stripe"),A("INPUT")}},t=(0,o._)({},dS,n),tm.n(dk,t)),1)[0],U=(0,l._)((r={onCompleted:function(e){return(0,g._)(function(){var n;return(0,y.YH)(this,function(t){switch(t.label){case 0:if((null==e||null==(n=e.deleteConnection)?void 0:n.__typename)!=="DeleteConnection")return[3,2];return[4,b()];case 1:return t.sent(),A("INPUT"),Y(""),T(""),[3,3];case 2:R("Failed to disconnect from Stripe"),A("INPUT"),t.label=3;case 3:return[2]}})})()},onError:function(e){R(e.message||"Failed to disconnect from Stripe"),A("INPUT")}},a=(0,o._)({},dS,r),tm.n(dA,a)),1)[0],L=v.find(function(e){return"STRIPE"===e.connectorName}),M=C.length>0&&x.length>0,J=(0,d.useCallback)(function(){L&&M&&(A("CONNECTING"),R(null),F({variables:{input:{connectorConfigId:L.id,settings:{publishable:C,secret:x,mcp:"test"},replId:w}}}))},[F,L,C,x,w,M]),H=(0,d.useCallback)(function(){(null==p?void 0:p.connectionId)&&(A("DISCONNECTING"),R(null),U({variables:{input:{connectionId:p.connectionId}}}))},[U,p]);return h?(0,c.FD)(G.S,{gap:8,align:"center",p:16,children:[(0,c.Y)(tY.A,{}),(0,c.Y)($.EY,{color:"dimmer",children:"Loading Stripe connection..."})]}):f?(0,c.FD)(G.S,{className:dE().container,children:[(0,c.FD)(G.S,{row:!0,justify:"space-between",align:"center",p:8,className:dE().clickable,onClick:function(){return P(!O)},children:[(0,c.Y)(G.S,{gap:4,style:{flex:1,minWidth:0},children:(0,c.Y)($.EY,{children:"Live Stripe account status"})}),(0,c.FD)(G.S,{row:!0,gap:8,align:"center",children:[(0,c.FD)(G.S,{row:!0,gap:4,align:"center",children:[(0,c.Y)(tC.A,{size:8,color:eC.LU.greenStronger}),(0,c.Y)($.EY,{color:"dimmer",variant:"small",children:"Connected"})]}),(0,c.Y)(eY.K0,{alt:O?"Show connection details":"Hide connection details",onClick:function(){return P(!O)},children:O?(0,c.Y)(ex.A,{color:eC.LU.foregroundDimmer}):(0,c.Y)(eE.A,{color:eC.LU.foregroundDimmer})})]})]}),(0,c.FD)(G.S,{p:8,gap:12,className:O?dE().hiddenContent:dE().contentBorder,children:[(0,c.FD)(G.S,{gap:4,children:[(0,c.Y)($.EY,{variant:"small",children:"Live publishable key"}),(0,c.Y)(o9.pd,{value:"pk_live_123_123",disabled:!0,type:"password"})]}),(0,c.FD)(G.S,{gap:4,children:[(0,c.Y)($.EY,{variant:"small",children:"Live secret key"}),(0,c.Y)(o9.pd,{value:"sk_live_123_123",disabled:!0,type:"password"})]}),(0,c.Y)(G.S,{className:dE().sectionDivider}),(0,c.Y)(dx,{syncSandboxWithLive:i,setSyncSandboxWithLive:s}),(0,c.Y)(eX.$n,{text:"DISCONNECTING"===S?"Disconnecting...":"Disconnect",onClick:H,disabled:"DISCONNECTING"===S,loading:"DISCONNECTING"===S,colorway:"negative",stretch:!0})]})]}):L?(0,c.Y)(G.S,{gap:8,children:(0,c.FD)(G.S,{className:dE().container,children:[(0,c.FD)(G.S,{row:!0,justify:"space-between",align:"center",p:8,className:dE().clickable,onClick:function(){return P(!O)},children:[(0,c.FD)(G.S,{gap:4,style:{flex:1,minWidth:0},children:[(0,c.Y)($.EY,{children:"Connect your live Stripe account"}),(0,c.Y)($.EY,{color:"dimmer",variant:"small",multiline:!0,children:"Add your live Stripe API keys to start processing payments in production."})]}),(0,c.Y)(eY.K0,{alt:O?"Show connection form":"Hide connection form",onClick:function(){return P(!O)},children:O?(0,c.Y)(ex.A,{color:eC.LU.foregroundDimmer}):(0,c.Y)(eE.A,{color:eC.LU.foregroundDimmer})})]}),(0,c.FD)(G.S,{p:8,gap:12,className:O?dE().hiddenContent:dE().contentBorder,children:[I?(0,c.Y)(na.ui,{p:8,children:(0,c.Y)($.EY,{variant:"small",color:"dimmer",children:I})}):null,(0,c.FD)(G.S,{gap:4,children:[(0,c.Y)($.EY,{variant:"small",children:"Live Publishable Key"}),(0,c.Y)(o9.pd,{placeholder:"pk_live_...",type:"password",value:C,onChange:function(e){return Y(e.target.value)},disabled:"CONNECTING"===S})]}),(0,c.FD)(G.S,{gap:4,children:[(0,c.Y)($.EY,{variant:"small",children:"Live Secret Key"}),(0,c.Y)(o9.pd,{placeholder:"sk_live_...",type:"password",value:x,onChange:function(e){return T(e.target.value)},disabled:"CONNECTING"===S})]}),(0,c.Y)(G.S,{className:dE().sectionDivider}),(0,c.Y)(dx,{syncSandboxWithLive:i,setSyncSandboxWithLive:s}),(0,c.Y)(eX.$n,{text:"CONNECTING"===S?"Connecting...":"Connect",onClick:J,disabled:!M||"CONNECTING"===S,loading:"CONNECTING"===S,colorway:"primary",stretch:!0})]})]})}):null}var dD=t(87199),dI=t(37065),dR=t(12780),dN=t(86868),dO=t(21550),dP=t(69685),dF=t(6525),dU=t(63075),dL=t.n(dU);function dM(e){var n,t=e.isOpen,r=e.onToggle,a=e.ports,i=e.openNetworkingPane,u=e.openSecretsPane,f=e.replId,p=e.provider,m=e.setProvider,v=e.onError,g=e.initialSecretsSyncExpanded,b=e.onMachineConfigChange,y=e.onEditAutoscaleConfig,_=e.appType,S=e.onAppTypeChanged,A=e.onViewAction,k=e.recommendedProvider,C=e.runCommandError,Y=e.publicDirError,E=e.crontabError,x=e.timezoneError,T=e.setTimeoutValueError,D=e.buildCommand,I=e.setBuildCommand,R=e.runCommand,N=e.setRunCommand,O=e.publicDir,P=e.setPublicDir,F=e.timezone,U=e.setTimezone,L=e.crontab,M=e.setCrontab,J=e.timeoutValue,H=e.setTimeoutValue,B=e.timeoutUnits,z=e.setTimeoutUnits,W=e.envVars,j=e.ignoredSecrets,q=e.addAnEnvVar,Z=e.updateEnvVarName,K=e.updateEnvVarValue,Q=e.removeEnvVar,X=e.optOut,ee=e.optIn,en=e.syncToWorkspace,et=e.optionsLoading,er=e.queryLoading,ea=e.baseDisableState,ei=e.envVarKeys,eo=e.editReplSecretsAuthorization,es=e.editDeploySecretAuthorization,el=e.devSecrets,eu=e.orgId,ec=(0,l._)((0,d.useState)(void 0),2),ed=ec[0],ef=ec[1],ep=(0,l._)((0,d.useState)(!1),2),eh=ep[0],em=ep[1],ev=(0,l._)((0,d.useState)(!1),2),eg=ev[0],eb=ev[1],ey=(0,l._)((0,d.useState)(!1),2),ew=ey[0],e_=ey[1],eS=(0,l._)((0,d.useState)(!1),2),eA=eS[0],ek=eS[1],eT=(0,h.SJ)().deploymentProviders,eD=[w.Q0q.Gce,w.Q0q.AzureVm,w.Q0q.CloudRun,w.Q0q.AzureContainerApp].includes(p),eI=_!==w.JX5.Static,eR=p===w.Q0q.Gce||p===w.Q0q.AzureVm,eN=_===w.JX5.Static,eO=p===w.Q0q.Cron,eP=_===w.JX5.Server||_===w.JX5.CloudRun;(0,d.useEffect)(function(){var e=!!(C||Y||E||x);eb(eh),e_(e),(eh||e)&&!eA&&!t&&r(),ek(eh||e)},[p,eh,t,r,eA,C,Y,E,x]);var eF=eT.map(function(e){switch(e){case w.Q0q.Gce:return{id:w.Q0q.Gce,title:"Reserved VM",subtitle:"Always On Servers",description:"Ensures high uptime, minimizing disruptions for apps requiring persistent session data.",icon:(0,c.Y)(dO.A,{size:16})};case w.Q0q.AzureVm:return{id:w.Q0q.AzureVm,title:"Reserved VM",subtitle:"Always On Servers (Azure)",description:"Ensures high uptime, minimizing disruptions for apps requiring persistent session data.",icon:(0,c.Y)(dO.A,{size:16})};case w.Q0q.CloudRun:return{id:w.Q0q.CloudRun,title:"Autoscale",subtitle:"Meet demand exactly",description:"Automatically scales from zero to any level of demand.",icon:(0,c.Y)(dN.A,{size:16})};case w.Q0q.AzureContainerApp:return{id:w.Q0q.AzureContainerApp,title:"Autoscale",subtitle:"Meet demand exactly (Azure)",description:"Automatically scales from zero to any level of demand.",icon:(0,c.Y)(dN.A,{size:16})};case w.Q0q.Static:return{id:w.Q0q.Static,title:"Static pages",subtitle:"Simple HTML websites",description:"Basic websites with no backend server.",icon:(0,c.Y)(dF.A,{size:16})};case w.Q0q.Cron:return{id:w.Q0q.Cron,title:"Scheduled",subtitle:"Time-based job scheduler",description:"The easiest way to schedule for your apps to run.",icon:(0,c.Y)(ax.A,{size:16})};default:return null}}).filter(Boolean),eU=eF.find(function(e){return e.id===p})||eF[0],eL=(0,oh.w)({replId:f,isAzureDeployment:p===w.Q0q.AzureVm,onError:v}),eM=eL.defaultMachineConfiguration,eJ=eL.machineConfigurations,eH=eL.loading;(0,d.useEffect)(function(){p!==w.Q0q.Gce&&p!==w.Q0q.AzureVm&&ef(void 0)},[p]),(0,d.useEffect)(function(){if((p===w.Q0q.Gce||p===w.Q0q.AzureVm)&&eJ&&!ed&&!eH){if(!eM)return void v("An error occurred trying to validate default machine configuration");ef(eM),null==b||b(eM)}},[eM,p,eJ,ed,eH,v,b]);var eB=(0,tU._P)({controlName:"flag-security-scanning"}),eV=(0,l._)((0,d.useState)(!1),2),e$=eV[0],eG=eV[1];return(0,c.FD)(G.S,{className:dL().container,children:[(0,c.FD)(G.S,{row:!0,justify:"space-between",align:"center",p:8,className:dL().clickable,onClick:r,children:[(0,c.FD)(G.S,{gap:4,style:{flex:1,minWidth:0},children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",children:[(0,c.Y)($.EY,{children:"Advanced settings"}),ew?(0,c.Y)(dP.A,{size:16,color:eC.ky.negative.default}):null,eg?(0,c.Y)(nR.A,{size:16,color:eC.ky.warning.strongest}):null]}),(0,c.Y)($.EY,{color:"dimmer",variant:"small",multiline:!0,children:"Manually configure machine settings, secrets, build commands, ports, and more."})]}),(0,c.Y)(eY.K0,{alt:t?"Hide settings":"Show settings",onClick:r,children:t?(0,c.Y)(eE.A,{color:eC.LU.foregroundDimmer}):(0,c.Y)(ex.A,{color:eC.LU.foregroundDimmer})})]}),(0,c.FD)(G.S,{p:8,gap:4,className:t?dL().contentBorder:dL().hiddenContent,children:[(0,c.FD)(G.S,{gap:8,children:[(0,c.Y)($.EY,{children:"Deployment type"}),(0,c.Y)(G.S,{style:{maxWidth:"100%"},children:(0,c.FD)($.EY,{color:"dimmer",variant:"small",multiline:!0,children:["Technology used to publish your app."," ",(0,c.Y)("a",{target:"_blank",href:"https://docs.replit.com/category/replit-deployments",children:"Learn more"})," "]})}),(0,c.Y)(sp.l,{"aria-label":"Deployment type selection",items:eF,selectedKey:p,onSelectionChange:function(e){m(e)},children:function(e){var n=k===e.id;return(0,c.Y)(oq.if,{id:e.id,textValue:e.title,children:(0,c.Y)(G.S,{gap:8,row:!0,align:"center",justify:"space-between",width:"100%",children:(0,c.FD)(G.S,{row:!0,align:"center",gap:8,children:[e.icon,(0,c.Y)($.EY,{children:e.title}),n?(0,c.Y)(np.a,{colorway:"primary",text:"Recommended"}):null]})})})}}),(0,c.Y)(G.S,{style:{maxWidth:"100%"},children:(0,c.Y)($.EY,{color:"dimmer",variant:"small",multiline:!0,children:eU.description})})]}),eD?(0,c.FD)(c.FK,{children:[(0,c.Y)(G.S,{className:dL().sectionDivider}),(0,c.FD)(G.S,{gap:4,children:[(0,c.Y)($.EY,{children:"Machine configuration"}),(0,c.Y)(G.S,{style:{maxWidth:"100%"},children:(0,c.Y)($.EY,{color:"dimmer",variant:"small",multiline:!0,children:"The power of the servers running your app"})}),p===w.Q0q.Gce||p===w.Q0q.AzureVm?(0,c.Y)(dR.k,{selectedItem:ed?(0,s._)((0,o._)({},ed),{maxInstances:null!=(n=ed.maxInstances)?n:1}):void 0,machineConfigurations:eJ,disabled:eH,onError:v,onChange:function(e){ef(e),null==b||b(e)},provider:p,loading:eH}):null,p===w.Q0q.CloudRun||p===w.Q0q.AzureContainerApp?(0,c.Y)(dI.j,{provider:p,onEditAutoscaleConfig:y,onError:v}):null]})]}):null,eO?(0,c.FD)(c.FK,{children:[(0,c.Y)(G.S,{className:dL().sectionDivider}),(0,c.Y)(G.S,{gap:4,children:(0,c.Y)(tf.n5,{crontab:L,setCrontab:M,crontabError:E,timezone:F,setTimezone:U,timezoneError:x,timeoutValue:J,setTimeoutValue:H,timeoutUnits:B,setTimeoutUnits:z,setTimeoutValueError:T,loading:et})})]}):null,eN?(0,c.FD)(c.FK,{children:[(0,c.Y)(G.S,{className:dL().sectionDivider}),(0,c.Y)(tc,{value:O,onChange:P,error:Y})]}):null,(0,c.Y)(G.S,{className:dL().sectionDivider}),(0,c.Y)(nk,{value:D,onChange:I}),eI?(0,c.FD)(c.FK,{children:[(0,c.Y)(G.S,{className:dL().sectionDivider}),(0,c.Y)(td,{value:R,onChange:N,error:C})]}):null,(0,c.Y)(function(){return(0,c.FD)(c.FK,{children:[(0,c.Y)(G.S,{className:dL().sectionDivider}),(0,c.Y)(n0.A,{headerContent:(0,c.FD)(G.S,{style:{flex:1,minWidth:0},gap:4,children:[(0,c.Y)($.EY,{children:"Deployment secrets"}),(0,c.FD)($.EY,{color:"dimmer",variant:"small",multiline:!0,children:["Private keys your apps use to access APIs and services."," ",u?(0,c.Y)("a",{href:"#",onClick:function(e){e.preventDefault(),u()},style:{color:"var(--color-primary-default)"},children:"Manage your development secrets"}):null]}),eu?(0,c.Y)(V.N,{icon:(0,c.Y)(t0.A,{}),css:dL().statusBanner,colorway:"primary",text:"Secrets now sync automatically with your team's deployments. "+"Deployment secrets added before ".concat((0,tZ.r)(ne.dz.toISOString())," ")+"remain unchanged to avoid disrupting existing workflows. Manage syncing below."}):null]}),expanded:e$,onClick:function(){eG(!e$)},children:(0,c.Y)(G.S,{pt:8,children:(0,c.Y)(nU,{envVars:W,envVarKeys:ei,updateEnvVarName:Z,updateEnvVarValue:K,removeEnvVar:Q,addAnEnvVar:q,baseDisableState:ea,devSecrets:el,ignoredSecrets:j,editReplSecretsAuthorization:eo,editDeploySecretAuthorization:es,optOut:X,optIn:ee,syncToWorkspace:en,queryLoading:er,replId:f,initialSecretsSyncExpanded:g})})})]})},{}),eP?(0,c.FD)(c.FK,{children:[(0,c.Y)(G.S,{className:dL().sectionDivider}),a&&i?(0,c.Y)(n9,{ports:a,openNetworkingPane:i,onWarningChange:em}):null]}):null,eR?(0,c.FD)(c.FK,{children:[(0,c.Y)(G.S,{className:dL().sectionDivider}),(0,c.FD)(G.S,{gap:8,children:[(0,c.FD)(G.S,{gap:4,children:[(0,c.Y)($.EY,{children:"App type"}),(0,c.Y)($.EY,{variant:"small",color:"dimmer",children:"Configure your app based on whether it needs to serve traffic from the web."})]}),(0,c.Y)(nS.Sr,{appType:_,onChange:S})]})]}):null,eB?(0,c.FD)(c.FK,{children:[(0,c.Y)(G.S,{className:dL().sectionDivider}),(0,c.Y)(nV,{onViewAction:A})]}):null]})]})}var dJ=t(24467),dH=t(63495),dB=t(69056),dV=t(35628),d$=t(38172),dG=t.n(d$);function dz(e){var n=e.isAzureDeployment,t=e.onError,r=e.onConfirm,a=e.onCancel,i=(0,e6.md)(dH.NF),o=(0,e6.md)(dH.No),s=(0,e6.md)(dB.h0),u=(0,e6.Xr)(dH.yh),f=(0,e6.Xr)(dH.gb),p=(0,e6.Xr)(dB.Md),h=(0,l._)((0,d.useState)(dH.xP.indexOf(i)>=0?dH.xP.indexOf(i):0),1)[0],m=(0,l._)((0,d.useState)(dH.T1.indexOf(o)>=0?dH.T1.indexOf(o):0),1)[0],v=(0,l._)((0,d.useState)(dB.hK.indexOf(s)>=0?dB.hK.indexOf(s):0),1)[0],g=(0,t8.g$)({isAzureDeployment:n,onError:t}),b=g.selectedMachineConfiguration,y=g.machineConfigurations,w=g.loading,_=(0,d.useCallback)(function(){return w||!y?void t("Cannot confirm while configurations are loading"):b?void r(b):void t("An error occurred trying to validate selected machine configuration")},[w,r,y,b,t]);return(0,c.Y)(S.A,{className:dG().container,children:(0,c.FD)(G.S,{gap:16,children:[(0,c.Y)(dV.j,{machineConfiguration:null,maxMachineInstances:null,disabled:w,toggleEditable:!1,onError:t}),(0,c.FD)(G.S,{row:!0,justify:"space-between",pt:8,children:[(0,c.Y)(eX.$n,{variant:"outlined",text:"Cancel",iconLeft:(0,c.Y)(i1.A,{}),onClick:function(){u(h),f(m),p(v),a()}}),(0,c.Y)(eX.$n,{colorway:"primary",text:"Confirm",iconLeft:(0,c.Y)(ni.A,{}),onClick:_,loading:w})]})]})})}var dW=t(938),dj=t(69424),dq=t(43162),dZ=t(48125),dK=t(95168),dQ=t(11218),dX=t(38675),d0=(0,eF.x)({cta:[M.wp.width("100%"),M.wp.maxWidth(320),{marginLeft:"auto",marginRight:"auto"}],ctaContainer:[M.wp.colWithGap(8),M.wp.align.center],ctaStatusBanner:[M.wp.textAlign.left],disabledBanner:[M.wp.py(6),{alignSelf:"center"}]});function d1(e){var n=e.provider,t=e.isDeployable,r=e.isDeployableCode,a=e.isDeployableExplanation,i=e.loading,o=e.refetchDeployabilityQueryData,s=e.setShowPaymentMethodForm,l=e.isPaymentMethodFormShown,u=e.setShowSupportForm,d=e.replId,f=e.org,p=e.onViewAction,h=(0,ob.useRouter)(),m=(0,ov.Po)(h),g=(0,dj.r)({isOrg:null!=f}),b=function(){p({type:_.k.OpenPane,payload:{type:"git"}})};if(e.blockDeploymentForMissingGitRemote)if(e.blockDeploymentForMissingGitRemote===dy.NO_REMOTE)return(0,c.Y)(eX.$n,{text:"Git remote required. Add a remote repository to publish your app",colorway:"warning",iconRight:(0,c.Y)(nH.A,{}),css:d0.ctaStatusBanner,onClick:b});else{if(e.blockDeploymentForMissingGitRemote===dy.UNPUSHED_BRANCH)return(0,c.Y)(eX.$n,{text:"Your branch is not pushed. Push your branch to publish your app",colorway:"warning",iconRight:(0,c.Y)(nH.A,{}),css:d0.ctaStatusBanner,onClick:b});if(e.blockDeploymentForMissingGitRemote===dy.UNCOMMITTED_CHANGES)return(0,c.Y)(eX.$n,{colorway:"warning",text:"You have uncommitted changes. Commit and push your changes to publish",iconRight:(0,c.Y)(nH.A,{}),css:d0.ctaStatusBanner,onClick:b});if(e.blockDeploymentForMissingGitRemote===dy.UNPUSHED_COMMITS)return(0,c.Y)(eX.$n,{text:"You have unpushed commits. Push your commits to publish your app",colorway:"warning",iconRight:(0,c.Y)(nH.A,{}),css:d0.ctaStatusBanner,onClick:b});(0,n8.A)(e.blockDeploymentForMissingGitRemote)}if(!t&&m&&g.includes(r))return(0,c.Y)(V.N,{text:a,colorway:"grey",css:d0.disabledBanner});var y=function(){if(f){var e=(0,dq.EG)(f).settings.href.toString()+"/billing";window.open(e,"_blank");return}s()};switch(r){case w.S4P.RequiresActiveSubscription:return(0,c.Y)(G.S,{css:d0.ctaContainer,children:(0,c.Y)(dZ.A,{context:"workspace_hosting_pane",text:"Upgrade your plan to publish",css:d0.cta,colorway:"primary",variant:"default",disabled:l,onPlanCheckoutComplete:o,modalHeadingText:"Upgrade your plan to publish"})});case w.S4P.RequiresPaymentMethodOrSubscription:return(0,c.FD)(G.S,{css:d0.ctaContainer,children:[(0,c.Y)(dZ.A,{context:"workspace_hosting_pane",text:"Upgrade your plan to publish",css:d0.cta,colorway:"primary",variant:"default",disabled:l,onPlanCheckoutComplete:o,modalHeadingText:"Upgrade your plan to publish"}),(0,c.Y)(eX.$n,{variant:"nofill",colorway:"primary",text:"or add a payment method",css:d0.cta,disabled:l,loading:i,iconLeft:(0,c.Y)(dX.A,{}),onClick:y})]});case w.S4P.RequiresSmsVerification:return(0,c.Y)(dW.A,{context:w.SGY.Deployments,onSuccess:o});case w.S4P.RequiresPaymentMethod:return(0,c.Y)(eX.$n,{colorway:"primary",text:"Add a payment method",css:d0.cta,disabled:l,loading:i,iconLeft:(0,c.Y)(dX.A,{}),onClick:y});case w.S4P.PaymentDelinquent:return(0,c.Y)(dK.E,{onClick:y});case w.S4P.RequiresUnbanning:return(0,c.Y)(n$.d,{text:"Your account currently has restrictions on publishing. We're here to help! Please reach out to support@replit.com for assistance.",colorway:"warning",iconLeft:(0,c.Y)(nR.A,{}),css:d0.ctaStatusBanner,onClick:function(){return u()}});case w.S4P.InsufficientBudget:return(0,c.FD)(c.FK,{children:[(0,c.Y)(V.N,{text:"You've reached your monthly usage budget. Increase your budget to continue publishing.",colorway:"warning",icon:(0,c.Y)(nR.A,{}),css:d0.ctaStatusBanner}),(0,c.Y)(dQ.h,{onUpdateSuccess:o,replId:d})]});case w.S4P.FeatureDisabled:case w.S4P.FeatureUnsupportedForReplitTeams:case w.S4P.FeatureUnsupportedForTeamsEdu:case w.S4P.FeatureUnsupportedForTeamsFree:case w.S4P.FeatureUnsupportedForTeamsPro:case w.S4P.InsufficientPermissions:case w.S4P.InsufficientQuota:case w.S4P.RequiresActiveTeamsSubscription:case w.S4P.RequiresEmailVerification:if(r===w.S4P.InsufficientQuota&&"static"===n)return(0,c.FD)(G.S,{css:d0.ctaContainer,children:[(0,c.Y)(V.N,{text:"You have reached the maximum number of Static published apps available on your plan.",colorway:"grey",css:d0.disabledBanner}),(0,c.Y)(dZ.A,{context:"workspace_hosting_pane",text:"Upgrade your plan to publish",css:d0.cta,colorway:"primary",variant:"default",disabled:l,onPlanCheckoutComplete:o,modalHeadingText:"Upgrade your plan to publish"})]});return(0,c.Y)(V.N,{text:a,colorway:"grey",css:d0.disabledBanner});case w.S4P.Authorized:case w.S4P.AuthorizedQuota:return(0,c.Y)(eX.$n,{colorway:"primary",onClick:e.handleDeployClick,iconLeft:e.optionsLoading||e.mode===v.d.Preparing?(0,c.Y)(tY.A,{}):(0,c.Y)(tX.A,{}),text:e.mode===v.d.Preparing&&"Preparing..."||e.optionsLoading&&"Fetching options..."||"Publish",disabled:e.disabled});case w.S4P.RequiresEnterprisePlan:return;default:(0,n8.A)(r)}}var d2=t(93868),d3=t(36837),d4=t(67526),d5=t(50618),d7=t(65035),d9=t(52468),d8=t(39728),d6=t.n(d8);function fe(e){var n=(0,h.Ol)(),t=(0,h.kM)({onError:e.onError,dotReplitService:n}),r=t.recommendedProvider,a=t.loading,i=e.initialSelectedProvider?e.initialSelectedProvider:null!=r?r:w.Q0q.CloudRun;return!e.initialSelectedProvider&&a?(0,c.Y)(S.A,{centered:!0,children:(0,c.Y)(e8.cN,{})}):(0,c.Y)(fn,(0,s._)((0,o._)({},e),{initialSelectedProvider:i,recommendedProvider:r}))}function fn(e){var n,t,r,a,i=e.deploymentId,s=e.replId,u=e.onError,f=e.onDeploy,p=e.onViewAction,m=e.initialSelectedProvider,b=e.recommendedProvider,A=e.hasAgentSession,k=(0,h.om)(),C=(0,h.g$)(),Y=(0,h.Ol)(),E=(0,h.Rh)(),x=(0,tU._P)({controlName:"flag-make-more-money",default:!1}),T=m===w.Q0q.AzureContainerApp||m===w.Q0q.AzureVm,D=(0,l._)((0,d.useState)(m),2),R=D[0],N=D[1],O=(0,t8.g$)({isAzureDeployment:T,onError:u}).defaultMachineConfiguration,P=(0,oh.w)({replId:s,isAzureDeployment:T,onError:u}).defaultMachineConfiguration,F=(0,dD.a)({recommendedProvider:b,defaultAutoscaleConfiguration:O,defaultRvmMachineConfiguration:P}),U=(0,l._)((0,d.useState)(!1),2),L=U[0],M=U[1],J=(0,l._)((0,d.useState)(null),2),H=J[0],B=J[1],V=(0,l._)((0,d.useState)(!1),2),z=V[0],W=V[1],j=(n={variables:{replId:s},fetchPolicy:"no-cache",onError:function(e){return u(e.message)}},t=(0,o._)({},dh,n),I.I(dv,t)),q=j.data,Z=j.loading,K=(null==q?void 0:q.getRepl.__typename)==="Repl"?q.getRepl:null,Q=K?K.lastUsedSubdomain||(0,dg.ER)({replSlug:K.slug,username:null==(r=K.owner)?void 0:r.username}):"",X=(0,tq.Y)({deploymentId:i,replId:s,initialSubdomain:Q,provider:R,machine:H||F,secrets:C,fs:k,dotReplit:Y,onDeploy:f,onError:u,hasAgentSession:A}),ee=X.mode,en=X.deployment,et=X.queryLoading,er=X.optionsLoading,ea=X.isRedeploy,ei=X.editDeploySecretAuthorization,eo=X.editReplSecretsAuthorization,es=X.appType,el=X.subdomain,eu=X.validSubdomain,ec=X.buildCommand,ed=X.runCommand,ef=X.runCommandError,ep=X.timezoneError,eh=X.crontabError,em=X.envVars,ev=X.timezone,eg=X.crontab,eb=X.timeoutValue,ey=X.timeoutUnits,ew=X.devSecrets,e_=X.privatePassword,eS=X.privatePasswordError,eA=X.hasExistingPrivatePassword,ek=X.orgId,eC=X.publicDir,eE=X.publicDirError,ex=X.isPrivate,eT=X.privacyMode,eD=X.syncSandboxWithLive,eI=X.ignoredSecrets,eR=X.isOverwriteSecretsModalOpen,eN=X.timeoutValueError,eO=X.canCreateNeonProductionDatabaseStateLoading,eP=X.setAppType,eF=X.setSubdomain,eU=X.setValidSubdomain,eL=X.setBuildCommand,eM=X.setRunCommand,eJ=X.setRunCommandError,eH=X.setTimezone,eB=X.setTimezoneError,eV=X.setCrontab,eG=X.setCrontabError,ez=X.setEnvVars,eW=X.setPublicDir,ej=X.setPublicDirError,eq=X.setTimeoutValue,eZ=X.setTimeoutUnits,eK=X.setTimeoutValueError,eQ=X.setPrivacyMode,e1=X.setPrivatePassword,e2=X.setSyncSandboxWithLive,e3=X.setIgnoredSecrets,e4=X.setIsOverwriteSecretsModalOpen,e5=X.isOverwritingSecrets,e7=X.createNeonProductionDatabase,e9=X.setCreateNeonProductionDatabase,e6=X.pushDevelopmentDatabaseObjects,ne=X.setPushDevelopmentDatabaseObjects,nn=X.overwriteData,nt=X.setOverwriteData,nr=X.createNeonProductionDatabaseState,ni=X.hasNeonDevelopmentDatabase,no=X.onAppTypeChanged,ns=X.addAnEnvVar,nl=X.updateEnvVarName,nu=X.updateEnvVarValue,nc=X.removeEnvVar,nd=X.handleDeployClick,nf=X.optOut,np=X.optIn,nh=X.syncToWorkspace,nm=X.overwriteSecrets;(0,d.useEffect)(function(){eJ(void 0),ej(void 0),eG(void 0),eB(void 0),eK(!1),B(null),R===w.Q0q.CloudRun||R===w.Q0q.AzureContainerApp?eP(w.JX5.CloudRun):R===w.Q0q.Gce||R===w.Q0q.AzureVm?eP(w.JX5.Server):R===w.Q0q.Static?eP(w.JX5.Static):R===w.Q0q.Cron&&eP(w.JX5.Cron)},[R,eP,eJ,ej,eG,eB,eK]);var nv=(0,l._)((0,d.useState)(!1),2),ng=nv[0],nb=nv[1],n_=(0,l._)((0,d.useState)(!1),2),nA=n_[0],nk=n_[1],nY=(0,h.mj)(),nE=nY.getDeployabilityByProvider,nx=nY.refetch,nI=nE(R,ex),nR=(0,tn.A)(ek),nN=(0,te.ET)().orgRole,nO=(0,db.A)(function(e){return(0,g._)(function(){var n,t,r,a;return(0,y.YH)(this,function(i){switch(i.label){case 0:return[4,e.getRemotes()];case 1:if((t=i.sent()).error)return[2,{error:t.error}];if(!(t.remotes.size>0))return[2,{reason:"NO_REMOTE",error:null}];return[4,e.status()];case 2:if((r=i.sent()).error)return[2,{error:r.error}];if(!r.upstream)return[2,{reason:"UNPUSHED_BRANCH",error:null}];if(r.changes.length>0)return[2,{reason:"UNCOMMITTED_CHANGES",error:null}];if((null!=(a=null==(n=r.upstream)?void 0:n.ahead)?a:0)>0)return[2,{reason:"UNPUSHED_COMMITS",error:null}];return[2,{reason:null,error:null}]}})})()}),nP=(0,d.useMemo)(function(){return ek&&nR.requireGitRemoteBeforeDeployment&&nO&&!nO.error&&(!nR.adminOnlyGitRemoteBeforeDeploymentBypass||nN!==e$.v7i.SystemAdmins)?nO.reason:null},[ek,nR.requireGitRemoteBeforeDeployment,nR.adminOnlyGitRemoteBeforeDeploymentBypass,nN,nO]),nF=ea?nI.redeploy:nI.deploy,nU=nF.isAuthorized,nL=nF.code,nM=nF.message,nJ=(0,tK.Y)().isAgentStackRepl,nH=(0,tQ.C)().agentStackPlatformType,nB=nL!==e$.S4P.RequiresActiveSubscription,nV=(0,l._)((0,d.useState)(!nB),2),n$=nV[0],nG=nV[1],nz=R!==w.Q0q.Cron&&!(null==en?void 0:en.replitAppSubdomain)&&!nJ,nW=R!==w.Q0q.Cron&&!nJ&&nB,nj=!!tN().connection,nq=nJ&&nH===w.J_c.Slack,nZ=nJ&&nH===w.J_c.Telegram,nK=nJ&&nH===w.J_c.TimeBased,nQ=dC(),nX=nQ.hasStripeSandboxConnection,n0=nQ.hasStripeConnection,n1=et||er||ee===v.d.Preparing||eN,n2=n1||!nU||eO,n3=tW(em),n4=(0,tU._P)({controlName:"flag-deploy-without-agent-stack-connection",default:!1}),n5=!!ny(),n7=!!n2||!!nz&&!eu||!!nJ&&nH===w.J_c.Slack&&!nj&&!n4||!!nJ&&nH===w.J_c.TimeBased&&!n3&&!n4||!!nJ&&nH===w.J_c.Telegram&&!n5&&!n4||!!x&&!!nX&&!n0||!1,n9=em.map(function(e){return e.name}),n8=(0,d.useCallback)(function(){return(0,g._)(function(){return(0,y.YH)(this,function(e){switch(e.label){case 0:return[4,nx()];case 1:return e.sent(),[2]}})})()},[nx]),tt=K&&(null==(a=K.owner)?void 0:a.__typename)==="Team"?{id:K.owner.id.toString(),slug:K.owner.username}:void 0,tr=function(){if(!nJ)return"Publish your app";switch(nH){case w.J_c.Slack:return"Publish to Slack";case w.J_c.Telegram:return"Publish to Telegram";case w.J_c.TimeBased:return"Publish Automation";default:return"Publish your app"}}(),ta=function(){if(!nJ)return null;switch(nH){case w.J_c.Slack:return"Ready to put your agent to work? Publish it to your Slack workspace in just a few steps.";case w.J_c.Telegram:return"Ready to put your agent to work? Publish it to your Telegram chat in just a few steps.";case w.J_c.TimeBased:return"Ready to put your agent to work? Set a time-based trigger to automate your agent.";default:return null}}();return Z?(0,c.Y)(e8.cN,{}):L?(0,c.Y)(dz,{isAzureDeployment:T,onError:u,onConfirm:function(e){B(e),M(!1)},onCancel:function(){return M(!1)}}):(0,c.FD)(S.A,{children:[(0,c.Y)(e0.a,{isOpen:nA,onRequestClose:function(){return nk(!1)},children:(0,c.Y)(d3.A,{onRequestClose:function(){return nk(!1)}})}),(0,c.FD)(G.S,{className:d6().container,children:[(0,c.FD)(G.S,{gap:8,children:[(0,c.Y)($.EY,{variant:"headerDefault",children:tr}),ta?(0,c.Y)($.EY,{children:ta}):null]}),nz||nW?(0,c.FD)(G.S,{className:d6().urlContainer,children:[nz?(0,c.FD)(c.FK,{children:[(0,c.Y)($.EY,{children:"Primary URL"}),(0,c.Y)($.EY,{color:"dimmer",variant:"small",children:"You can add your own custom domain after publishing your app."}),(0,c.Y)(nS.zS,{id:"primaryDomain",subdomain:el,provider:R,deploymentId:i||void 0,onChange:eF,updateValidity:eU})]}):null,nW?(0,c.Y)(tu,{privacyMode:eT,setPrivacyMode:eQ,privatePassword:e_,setPrivatePassword:e1,privatePasswordError:eS,hasExistingPrivatePassword:eA,isRedeploy:ea}):null]}):null,nq?(0,c.Y)(tB,{onDeleteDeployment:function(){p({type:_.k.SendDeploymentLifecycleCommand,payload:{command:e$.jPZ.Destroy}})}}):null,nZ?(0,c.Y)(nw,{deployDisabled:n7}):null,nK?(0,c.Y)(tj,{envVars:em,updateEnvVarValue:nu,addAnEnvVar:ns,removeEnvVar:nc,initialized:!er}):null,x&&nX?(0,c.Y)(dT,{syncSandboxWithLive:eD,setSyncSandboxWithLive:e2}):null,(0,c.Y)(d1,{provider:R,isDeployable:nU,isDeployableCode:nL,isDeployableExplanation:nM,loading:Z||er,handleDeployClick:function(){return nd(nz)},refetchDeployabilityQueryData:n8,setShowPaymentMethodForm:function(){return nb(!0)},isPaymentMethodFormShown:ng,setShowSupportForm:function(){return nk(!0)},org:tt,replId:s,optionsLoading:er,mode:ee,disabled:n7,blockDeploymentForMissingGitRemote:nP,onViewAction:p}),!nJ&&nB?(0,c.Y)(nC.Yq,{createDatabase:e7,setCreateDatabase:e9,pushDevelopmentDatabaseObjects:e6,setPushDevelopmentDatabaseObjects:ne,tooltipText:nr.tooltipText,warningText:nr.warningText,disabled:nr.isDisabled,isRedeploy:ea,overwriteData:nn,setOverwriteData:nt,hasNeonDevelopmentDatabase:ni}):null,!nJ&&nB?(0,c.Y)(dM,{isOpen:z,onToggle:function(){return W(!z)},ports:E,openNetworkingPane:function(){p({type:_.k.OpenPane,payload:{type:"developer",data:{tab:["networking"]}}})},openSecretsPane:function(){p({type:_.k.OpenPane,payload:{type:"envEditor"}})},replId:s,provider:R,setProvider:N,onError:u,initialSecretsSyncExpanded:!1,onMachineConfigChange:function(e){B(e)},onEditAutoscaleConfig:function(){return M(!0)},appType:es,onAppTypeChanged:no,onViewAction:p,recommendedProvider:b,runCommandError:ef,publicDirError:eE,crontabError:eh,timezoneError:ep,setTimeoutValueError:eK,buildCommand:ec,setBuildCommand:eL,runCommand:ed,setRunCommand:eM,publicDir:eC,setPublicDir:eW,envVars:em,setEnvVars:ez,ignoredSecrets:eI,setIgnoredSecrets:e3,addAnEnvVar:ns,updateEnvVarName:nl,updateEnvVarValue:nu,removeEnvVar:nc,optOut:nf,optIn:np,syncToWorkspace:nh,optionsLoading:er,queryLoading:et,baseDisableState:n1,envVarKeys:n9,editReplSecretsAuthorization:eo,editDeploySecretAuthorization:ei,timezone:ev,setTimezone:eH,crontab:eg,setCrontab:eV,timeoutValue:eb,setTimeoutValue:eq,timeoutUnits:ey,setTimeoutUnits:eZ,devSecrets:ew,orgId:ek},R):null,nJ?null:(0,c.FD)(na.ui,{elevated:!0,px:8,py:4,className:d6().roundedSurface,children:[(0,c.FD)(G.S,{row:!0,justify:"space-between",align:"center",py:8,className:d6().clickable,onClick:function(){return nG(!n$)},children:[(0,c.FD)(G.S,{row:!0,gap:8,align:"center",children:[(0,c.Y)(d5.A,{}),(0,c.Y)($.EY,{children:"What does publishing do?"})]}),(0,c.Y)(eY.K0,{alt:n$?"Hide info":"Show info",onClick:function(){return nG(!n$)},children:n$?(0,c.Y)(nD.A,{}):(0,c.Y)(nT.A,{})})]}),n$?(0,c.FD)(G.S,{gap:16,p:16,children:[(0,c.FD)(G.S,{row:!0,gap:12,children:[(0,c.Y)(G.S,{pt:2,children:(0,c.Y)(ti.A,{})}),(0,c.FD)(G.S,{style:{flex:1,minWidth:0},children:[(0,c.Y)($.EY,{multiline:!0,children:"Publishing your app makes it available for anyone to use"}),(0,c.Y)($.EY,{color:"dimmer",variant:"small",multiline:!0,children:"Your friends and users around the world can visit your app through your primary URL."})]})]}),(0,c.FD)(G.S,{row:!0,gap:12,children:[(0,c.Y)(G.S,{pt:2,children:(0,c.Y)(d7.A,{})}),(0,c.FD)(G.S,{style:{flex:1,minWidth:0},children:[(0,c.FD)($.EY,{multiline:!0,children:["Costs are included in ",n6.en," subscriptions"]}),(0,c.Y)($.EY,{color:"dimmer",variant:"small",multiline:!0,children:"Costs vary depending on the type of technology used to publish your app."})]})]}),(0,c.FD)(G.S,{gap:8,row:!0,justify:"end",children:[(0,c.Y)(d2.v,{iconLeft:(0,c.Y)(d9.A,{}),text:"Watch video",size:"small",href:"https://www.youtube.com/watch?v=OqSbgBMoTm0",target:"_blank"}),(0,c.Y)(d2.v,{iconLeft:(0,c.Y)(d4.A,{}),text:"Learn more",size:"small",href:"https://docs.replit.com/category/replit-deployments",target:"_blank"})]})]}):null]})]}),ng?(0,c.Y)(na.ui,{elevated:!0,className:d6().payment,p:16,children:(0,c.Y)(dJ.y,{onClose:function(){return(0,g._)(function(){return(0,y.YH)(this,function(e){switch(e.label){case 0:return nb(!1),[4,n8()];case 1:return e.sent(),[2]}})})()},context:"workspace_hosting_pane"})}):null,(0,c.Y)(e0.a,{isOpen:eR,onRequestClose:function(){e5||e4(!1)},children:(0,c.FD)(G.S,{gap:8,children:[(0,c.Y)($.EY,{variant:"subheadBig",children:"Copy secrets from Deployment to Development?"}),(0,c.Y)($.EY,{children:"Are you sure you want to copy all of your secrets from Deployment to Development? Secrets already present in Development will be overwritten and lost permanently."}),(0,c.FD)(G.S,{pt:8,row:!0,gap:8,justify:"end",children:[(0,c.Y)(eX.$n,{text:"Cancel",disabled:e5,onClick:function(){e4(!1)}}),(0,c.Y)(eX.$n,{text:"Yes, copy secrets",colorway:"negative",disabled:e5,loading:e5,onClick:nm})]})]})})]})}var ft=t(36456),fr=t(13927),fa=t(32930),fi=t(80372),fo=t(27040),fs=[w.Q0q.Gce,w.Q0q.CloudRun,w.Q0q.Cron],fl=(0,eF.x)({root:[{height:"100%"},M.wp.overflow("hidden"),M.wp.position.relative],content:[M.wp.overflow("auto"),M.wp.flex.growAndShrink(1),M.wp.position.relative]}),fu=function(e){var n,t,r,a,i,o=e.onViewUpdate,s=e.onError,u=e.refetch,f=e.openFile,p=e.openPane,A=e.initialView,k=e.error,C=function(e){B({type:_.k.SendDeploymentLifecycleCommand,payload:e})},Y=(0,tR.A)(),E=(0,h.i$)(),x=(0,h.tq)(),T=(0,h.cF)(),D=(0,h.om)(),I=(0,m.uS)()===v.d.PreparingDatabase,R="string"==typeof E,N=void 0===x&&!R,O=(null==T?void 0:T.provider)===w.Q0q.AzureContainerApp||(null==T?void 0:T.provider)===w.Q0q.AzureVm,P=(0,ft.Q)(),F=!!P,U=(0,tK.Y)().isAgentStackRepl,L=(0,l._)((0,d.useState)(function(){return x?_.P.DeploymentInProgress:N?_.P.Intro:_.P.Deployment}),2),M=L[0],J=L[1];(0,d.useEffect)(function(){(x||I)&&J(_.P.DeploymentInProgress)},[x,I]);var H=(0,h.e_)(),B=function(e){return(0,g._)(function(){var n;return(0,y.YH)(this,function(t){switch(t.label){case 0:switch(o(),e.type){case _.k.SendDeploymentLifecycleCommand:return[3,1];case _.k.ChangeView:return[3,3];case _.k.OpenPane:return[3,4]}return[3,7];case 1:return[4,H(e.payload)];case 2:if(t.sent(),e.payload.command===w.jPZ.Destroy)return J(_.P.Intro),u(),[2];return e.payload.command===w.jPZ.UpdateMachineConfiguration&&u(),J(_.P.Deployment),[3,8];case 3:return J(e.payload.view),[3,8];case 4:if("codeEditor"!==(n=e.payload).type||".replit"!==n.data.path)return[3,6];return[4,D.stat(".replit")];case 5:if(!t.sent().exists)return s("Could not find .replit configuration file."),[2];t.label=6;case 6:return p(n),[3,8];case 7:return[3,8];case 8:return[2]}})})()},$=(n=null==T?void 0:T.provider,r=(t=(0,eP.g)("deployment-analytics-dot")).isLoading,a=t.isDone,i=n===w.Q0q.AzureContainerApp||n===w.Q0q.AzureVm,(0,d.useMemo)(function(){return[{value:_.P.Deployment,label:"Overview",icon:(0,c.Y)(tX.A,{})}].concat((0,b._)(n&&n===w.Q0q.Cron&&!U?[{value:_.P.Schedule,label:"Schedule",icon:(0,c.Y)(ax.A,{})}]:[]),(0,b._)(n!==w.Q0q.Static?[{value:_.P.Logs,label:"Logs",icon:(0,c.Y)(rw.A,{})}]:[]),(0,b._)(n&&n!==w.Q0q.Cron&&!U?[{value:_.P.Analytics,label:"Analytics",icon:(0,c.Y)(fi.A,{}),showDot:!r&&!a}]:[]),(0,b._)(n&&fs.includes(n)&&!U?[{value:_.P.ResourceMonitoring,label:"Resources",icon:(0,c.Y)(fo.A,{}),beta:!1}]:[]),(0,b._)(!n||n===w.Q0q.Cron||U||i?[]:[{value:_.P.Domains,label:"Domains",icon:(0,c.Y)(ti.A,{})}]),[{value:_.P.Settings,label:"Manage",icon:(0,c.Y)(uu.A,{})}])},[a,r,n,i,U])),z=A===_.P.ReservedVMTierSelection?w.Q0q.Gce:void 0;return M===_.P.Intro?(0,c.FD)(G.S,{css:fl.content,children:[k?(0,c.Y)(S.A,{children:(0,c.Y)(V.N,{colorway:"warning",icon:(0,c.Y)(nR.A,{}),text:k})}):null,(0,c.Y)(fe,{deploymentId:null,initialSelectedProvider:z,onViewAction:B,onError:s,onDeploy:function(){B({type:_.k.ChangeView,payload:{view:_.P.DeploymentInProgress}}),P&&(0,fr.pI)({action:"deploying_app",sessionId:P})},replId:Y,hasAgentSession:F})]}):(0,c.FD)(G.S,{css:fl.root,children:[$?(0,c.Y)(fa.P,{onClick:function(e){B({type:_.k.ChangeView,payload:{view:e.value}})},tabs:$,value:M===_.P.DeploymentInProgress?_.P.Deployment:M}):null,(0,c.FD)(G.S,{css:fl.content,children:[k?(0,c.Y)(S.A,{children:(0,c.Y)(V.N,{colorway:"warning",icon:(0,c.Y)(nR.A,{}),text:k})}):null,M===_.P.Analytics?(0,c.Y)(eV,{replId:Y}):null,M===_.P.Logs?(0,c.Y)(cA,{replId:Y,deploymentId:E,openFile:f}):null,M===_.P.ResourceMonitoring?(0,c.Y)(cD,{replId:Y}):null,M===_.P.Settings?(0,c.Y)(dl,{onError:s,deploymentId:E,onLifecycleCommand:C}):null,M===_.P.Deployment||M===_.P.DeploymentInProgress?(0,c.Y)(oA,{view:M,refetch:u,onViewAction:B,onError:s,openFile:f,openPane:p,onLifecycleCommand:C,hasAgentSession:F}):null,M===_.P.Schedule?(0,c.Y)(cB,{replId:Y,deploymentId:E,openFile:f}):null,M!==_.P.Domains||O?null:(0,c.Y)(uC,{deploymentId:E})]})]})},fc=t(48576);function fd(e){var n=e.initialView,t=e.flow,r=e.onViewUpdate,a=e.openFile,i=e.openPane,o=e.tabsNavRef,s=(0,h.Ki)(),u=(0,m.uS)(),f=(0,h.Jz)(),p=(0,l._)((0,d.useState)(null),2),g=p[0],b=p[1];return u===v.d.Loading?(0,c.Y)(fc.A,{pane:{type:"deployments"},headerText:"Publish to production",loading:!0}):(0,c.Y)(fu,{tabsNavRef:o,initialView:n,onViewUpdate:function(){g&&b(null),r()},onError:b,refetch:s,openFile:a,openPane:i,error:g||f,flow:t})}var ff=t(62246),fp=t(26),fh=t(99708),fm=f.ZU.Object({skipIntro:f.ZU.Optional(f.ZU.Boolean()),isAgentDeployment:f.ZU.Optional(f.ZU.Boolean())}),fv=f.ZU.Object({type:f.ZU.Literal("deployments"),data:f.ZU.Optional(f.ZU.Object({view:f.ZU.Enum(_.P)})),flow:f.ZU.Optional(fm)}),fg={Content:function(e){var n=e.pane,t=n.data,r=n.flow,a=e.options.performPaneOperation,i=(0,d.useRef)(function(e){if(e&&(void 0===e?"undefined":(0,u._)(e))==="object"&&"view"in e&&e.view===_.P.ReservedVMTierSelection)return _.P.ReservedVMTierSelection}(t)),f=(0,d.useCallback)(function(e){return a({operation:"open",secondary:!0,pane:{type:(0,ff.QY)(e),data:e}})},[a]),p=(0,l._)((0,d.useState)(null),2),h=p[0],m=p[1],v=(0,fp.xQ)().getDeploymentCommand;(0,fh.Qt)(function(){var e={type:"deployments",getTabs:h?h.getTabs:function(){return null},setTab:h?h.setTab:function(){}},n=v();return n?(0,s._)((0,o._)({},e),{commands:[{commands:[n]}]}):e},[h,v]);var g=(0,d.useCallback)(function(e){a({operation:"open",pane:e,secondary:!0})},[a]);return(0,c.Y)(fd,{tabsNavRef:m,initialView:i.current,onViewUpdate:function(){i.current&&(i.current=void 0,a({operation:"replace",pane:{type:"deployments"}}))},openFile:f,openPane:g,flow:r})},Icon:function(e){var n=e.size;return(0,c.Y)(iu.Vx.Provider,{value:{color:eC.LU.greenStrongest,size:n},children:(0,c.Y)(tX.A,{})})},getTitle:function(){return"Publishing"},description:"Publish a live, stable, public version of your App, unaffected by the changes you make in the workspace",category:ff.bY.CloudServices,decode:function(e){return p.T(fv,e)}}},64369:(e,n,t)=>{"use strict";t.d(n,{Im:()=>m,hk:()=>v,om:()=>h});var r,a=t(83846),i=t(21462),o=t(49069),s=t(45773),l=t(68488),u=t(68803),c=t(39534),d={layer:"cm-placeholder-layer",dom:"cm-placeholder-dom"},f=s.Lz.theme((r={},(0,a._)(r,".".concat(d.layer),{width:"100%",height:"100%",pointerEvents:"none"}),(0,a._)(r,".".concat(d.dom),{position:"absolute",width:"100%",pointerEvents:"none",fontFamily:c.LU.fontFamilyDefault,color:c.LU.foregroundDimmest}),r)),p=function(e){return 0===e.doc.toString().trim().length},h=o.Pe.define(),m=o.sU.define({create:p,update:function(e,n){return p(n.state)}});function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.text,t=void 0===n?"Type message…":n,r=e.disableAnimation,a=void 0!==r&&r;return(0,i.useMemo)(function(){var e;return[m,f,(0,s.qd)((e=Date.now(),{above:!1,class:d.layer,update:function(n){var t=!1;return(0,u.C)(n,h,function(){t=!0,e=Date.now()}),t||(0,l.$H)(n,m)},markers:function(n){if(!n.state.field(m))return[];var r,i,o,s,l,u,c,f=n.coordsAtPos(0);if(!f)return[];var p=n.dom.getBoundingClientRect(),h=f.left-p.left;return[(i=(r={top:f.top-p.top,left:h,height:f.bottom-f.top,animateTimestamp:e,text:t,disableAnimation:a}).top,o=r.left,s=r.height,l=r.animateTimestamp,u=r.text,c=r.disableAnimation,{draw:function(){var e=document.createElement("div");e.className=d.dom,e.style.width="100%",e.style.paddingTop=i+"px",e.style.paddingLeft=o+"px",e.style.height=s+"px";var n=u.length;return c?e.textContent=u:!function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;requestAnimationFrame(function(){e.textContent=u.slice(0,r),r<n&&t(r+1)})}(),e},animateTimestamp:l,eq:function(e){return this.animateTimestamp===e.animateTimestamp}})]}}))]},[t,a])}},64518:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M16.773 4.045a3.75 3.75 0 0 0-5.303 0L5.636 9.879a6 6 0 0 0 8.485 8.485l5.834-5.834a.75.75 0 0 1 1.06 1.061l-5.833 5.834A7.5 7.5 0 1 1 4.575 8.818l5.834-5.834a5.25 5.25 0 1 1 7.425 7.425L12 16.243A3 3 0 1 1 7.757 12l5.834-5.834a.75.75 0 1 1 1.06 1.061l-5.833 5.834a1.5 1.5 0 1 0 2.121 2.121l5.834-5.834a3.75 3.75 0 0 0 0-5.303Z",clipRule:"evenodd"})}))}},64919:e=>{e.exports={root:"Main_root__uRf4V",content:"Main_content__XPD_I",enter:"Main_enter__3h2eI",enterActive:"Main_enterActive__9h2Q4",exit:"Main_exit___Zl9M",exitActive:"Main_exitActive__onRCl",taskListDrawerContainer:"Main_taskListDrawerContainer__de_EL",isInMobileWorkspace:"Main_isInMobileWorkspace__DCy_s"}},64970:(e,n,t)=>{"use strict";t.d(n,{aI:()=>N,P6:()=>E,SY:()=>T,KZ:()=>I});var r=t(17844),a=t(12584),i=t(41114),o=t(54744),s=t(39590);function l(){var e=(0,a._)(["\n  fragment ForkContextRepl on Repl {\n    id\n    title\n    description\n    org {\n      id\n    }\n  }\n"]);return l=function(){return e},e}var u=(0,i.J1)(l()),c=t(726),d=t(48409),f=t(60480),p=t(22020),h=t(9604),m=t(90960);function v(){var e=(0,a._)(["\n  fragment WorkspaceHeaderComputeAlertCurrentUser on CurrentUser {\n    id\n    userSubscriptionType\n  }\n"]);return v=function(){return e},e}function g(){var e=(0,a._)(["\n  fragment WorkspaceHeaderComputeAlertRepl on Repl {\n    id\n    owner {\n      __typename\n      ... on Team {\n        id\n      }\n      ... on User {\n        id\n      }\n    }\n  }\n"]);return g=function(){return e},e}var b=(0,i.J1)(v());function y(){var e=(0,a._)(["\n  fragment WorkspaceHeaderReplInfoRepl on Repl {\n    id\n    title\n    rawTemplateLabel: templateLabel(disableFallbackToTitle: true)\n    description\n    isPrivate\n    isRenamed\n    url\n    slug\n    imageUrl\n    workspaceCta\n    publishedAs\n    publicForkCount\n    timeUpdated\n    isFeaturedRepl\n    owner {\n      ... on Team {\n        id\n      }\n      ... on User {\n        id\n      }\n    }\n    templateInfo {\n      iconUrl\n      imageUrl\n    }\n    config {\n      isAgentRepl\n    }\n    authorizations {\n      editMetadata {\n        isAuthorized\n        message\n      }\n      editResources {\n        isAuthorized\n      }\n      editTemplateMetadata {\n        isAuthorized\n      }\n      editVisibility {\n        isAuthorized\n        code\n        message\n      }\n      fork {\n        isAuthorized\n      }\n      deleteRepl {\n        isAuthorized\n      }\n      publish {\n        isAuthorized\n      }\n    }\n    hostingDeployment {\n      ... on HostingDeployment {\n        id\n        currentBuild {\n          id\n        }\n      }\n    }\n    authorizations {\n      viewDeploymentConfig {\n        isAuthorized\n      }\n    }\n    user {\n      id\n      image\n      ...UserLinkUser\n    }\n    ...ForkContextRepl\n    ...PublishReleaseFormRepl\n    ...BulkDeleteConfirmationModalRepl\n    ...CreateProjectBeforeForkReplContext\n    ...TransferReplReplInfo\n    org {\n      id\n      slug\n      name\n      type\n      image\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return y=function(){return e},e}function w(){var e=(0,a._)(["\n  query WorkspaceHeaderReplInfo($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        ...WorkspaceHeaderReplInfoRepl\n      }\n    }\n    currentUser {\n      id\n      ...WorkspaceHeaderComputeAlertCurrentUser\n    }\n  }\n  ","\n  ","\n"]);return w=function(){return e},e}function _(){var e=(0,a._)(["\n  mutation WorkspaceHeaderReplInfoUnpublishTemplate(\n    $input: DeleteReplDeploymentInput!\n  ) {\n    deleteReplDeployment(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n    }\n  }\n  ","\n"]);return _=function(){return e},e}function S(){var e=(0,a._)(["\n  mutation WorkspaceHeaderReplInfoUpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        ...WorkspaceHeaderReplInfoRepl\n      }\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function A(){var e=(0,a._)(["\n  mutation WorkspaceHeaderReplInfoDeleteRepl($id: String!) {\n    deleteRepl(id: $id) {\n      id\n    }\n  }\n"]);return A=function(){return e},e}g();var k={},C=(0,i.J1)(y(),h.N,u,f._O,p.l,m.lb,c.oD),Y=(0,i.J1)(w(),C,b);function E(e){var n=(0,r._)({},k,e);return o.I(Y,n)}var x=(0,i.J1)(_(),d.xS);function T(e){var n=(0,r._)({},k,e);return s.n(x,n)}var D=(0,i.J1)(S(),C);function I(e){var n=(0,r._)({},k,e);return s.n(D,n)}var R=(0,i.J1)(A());function N(e){var n=(0,r._)({},k,e);return s.n(R,n)}},64989:(e,n,t)=>{"use strict";t.d(n,{E:()=>x});var r=t(12694),a=t(21462),i=t(96513),o=t(86035),s=t(6132),l=t(80719),u=t(69832),c=t(39938),d=t(60654),f=t(42811),p=t(56451),h=t(7615),m=t(98867),v=t(66186),g=t(29935),b=t(17844),y=t(93629),w=t(82643),_=t(86103),S=t(40115),A=t(2976),k=t(33369),C=t(16103),Y=t(13927),E={direction:"reverse",state:{latestUserResponseEventId:void 0},reducer:function(e,n){if(e.sender.type===o.utd.AI){var t=e.contents.contents;if((0,s.VF)(t,"agentTimelineEventContents")){var r=t.agentTimelineEventContents,a=r.toolData;if("user_response"===r.toolName&&(null==a?void 0:a.$kind)==="messageData")return n.latestUserResponseEventId=e.id,!1}}}};function x(){var e,n,t,s,x,T=(0,l.NC)(),D=(0,u.J2)(T.sessions.agent.current),I=(0,u.J2)(null==D?void 0:D.agent.state),R=(0,l.Jq)(),N=(0,p.AP)().settings,O=(null==N?void 0:N.chatMode)===i.HWZ.Discussion,P=(0,f.Ay)(),F=(0,u.Rj)(function(){return null==D?void 0:D.reduce(E,100)},[D],{default:{latestUserResponseEventId:void 0}}),U=(0,d.m)({sessionId:null==D?void 0:D.id}),L=(0,m.b)(null!=D?D:null).sendMessage,M=(0,u.Rj)(function(){return T.queue.state.select(function(e){return e[0]})},[T]),J=(0,c.A)(M),H=(0,a.useRef)(void 0),B=(0,h.qu)(),V=(null==I?void 0:I.state)===o.g32.AGENT_STATE_PAUSED||(null==I?void 0:I.state)===o.g32.AGENT_STATE_NOT_STARTED||(null==I?void 0:I.state)===o.g32.AGENT_STATE_UNKNOWN,$=(e=(0,l.NC)(),t=null==(n=(0,u.J2)(e.sessions.agent.current))?void 0:n.id,s=(0,S.A)().fs,x=(0,_._P)({controlName:"flag-queue-royal-flush",default:!1}),(0,a.useCallback)(function(n){return(0,g._)(function(){var r,a,i;return(0,w.YH)(this,function(o){switch(o.label){case 0:if(!t)return[2];if((0,Y.WC)({action:"queue_message_sent_automatically",messageText:n.contents.content,sessionId:t}),!x)return[3,2];return[4,e.queue.flush({ids:[n.id],session:t})];case 1:case 4:return o.sent(),[2];case 2:return[4,(0,C.tX)({contents:n.contents,readFile:s.readFile})];case 3:return a=(r=o.sent()).agentConfig?(0,A.NE)(r.agentConfig):void 0,i=(0,k.Uf)(r.webviewTargetedElement),L((0,y._)((0,b._)({},r),{agentConfig:a,webviewTargetedElement:i})),[4,e.queue.flush({ids:[n.id]})]}})})()},[t,s.readFile,L,e,x])),G=(0,v.sz)(),z=(0,r._)((0,a.useState)(!1),2),W=z[0],j=z[1];(0,a.useEffect)(function(){G&&j(!0)},[G]),(0,a.useEffect)(function(){(null==P?void 0:P.status)==="ok"&&!O&&W&&V&&!R&&!B&&F&&void 0!==F.latestUserResponseEventId&&F.latestUserResponseEventId!==H.current&&!U&&J.current&&$(J.current)},[V,R,B,F,U,W,$,J,P,O])}},65242:(e,n,t)=>{"use strict";t.d(n,{G3:()=>ey,Vp:()=>i.Vp,Uf:()=>i.Uf,Zo:()=>a.Z});var r=t(68689),a=t(43290),i=t(33369),o=t(29935),s=t(12694),l=t(82643),u=t(34837),c=t(21462),d=t(79203),f=t(58422),p=t(30365),h=t(34594),m=t(40756),v=t(47306),g=t(25227),b=t(17844),y=t(93629),w=t(25590);function _(e){return(0,u.Y)(w.Ay,(0,y._)((0,b._)({},e),{children:(0,u.Y)("path",{d:"M17 11.25a.75.75 0 0 1 0 1.5H7a.75.75 0 0 1 0-1.5h10ZM19 17.25l.077.004a.75.75 0 0 1 0 1.492L19 18.75H5a.75.75 0 0 1 0-1.5h14ZM21 5.25a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h18Z"})}))}function S(e){return(0,u.Y)(w.Ay,(0,y._)((0,b._)({},e),{children:(0,u.Y)("path",{d:"M21 17.25a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h18Zm0-6a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h18Zm0-6a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h18Z"})}))}function A(e){return(0,u.Y)(w.Ay,(0,y._)((0,b._)({},e),{children:(0,u.Y)("path",{d:"M15 11.25a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h12ZM17 17.25l.077.004a.75.75 0 0 1 0 1.492L17 18.75H3a.75.75 0 0 1 0-1.5h14ZM21 5.25a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h18Z"})}))}function k(e){return(0,u.Y)(w.Ay,(0,y._)((0,b._)({},e),{children:(0,u.Y)("path",{d:"M21 11.25a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1 0-1.5h12ZM21 17.25l.077.004a.75.75 0 0 1 0 1.492L21 18.75H7a.75.75 0 0 1 0-1.5h14ZM21 5.25a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h18Z"})}))}function C(){var e=(0,s._)((0,d.fp)(h.uA),2),n=e[0],t=e[1];return(0,u.FD)(u.FK,{children:[(0,u.Y)(v.J,{color:"dimmer",children:"Alignment"}),(0,u.FD)(g.S,{gap:8,row:!0,children:[(0,u.Y)(m.$n,{iconLeft:(0,u.Y)(A,{}),text:"",variant:"left"===n?"default":"nofill",onClick:function(){return t("left")}}),(0,u.Y)(m.$n,{iconLeft:(0,u.Y)(_,{}),text:"",variant:"center"===n?"default":"nofill",onClick:function(){return t("center")}}),(0,u.Y)(m.$n,{iconLeft:(0,u.Y)(k,{}),text:"",variant:"right"===n?"default":"nofill",onClick:function(){return t("right")}}),(0,u.Y)(m.$n,{iconLeft:(0,u.Y)(S,{}),text:"",variant:"justify"===n?"default":"nofill",onClick:function(){return t("justify")}})]})]})}var Y=t(6857);function E(){var e=(0,s._)((0,d.fp)(h.Rw),2),n=e[0],t=e[1];return(0,u.Y)(Y.n,{label:"Background Color",color:n,setColor:t})}function x(){var e=(0,s._)((0,d.fp)(h.NO),2),n=e[0],t=e[1];return(0,u.Y)(Y.n,{label:"Text Color",color:n,setColor:t})}var T=t(83096);function D(){var e=(0,s._)((0,d.fp)(h.If),2),n=e[0],t=e[1];return(0,u.FD)(g.S,{gap:4,children:[(0,u.Y)(v.J,{color:"dimmer",children:"Content"}),(0,u.Y)(T.pd,{id:"content",value:null!=n?n:"",onChange:function(e){return t(e.target.value)}})]})}var I=t(37379),R=t(43820),N=Array.from({length:85},function(e,n){return{id:n+12,name:"".concat(n+12,"px")}});function O(){var e=(0,s._)((0,d.fp)(h.lz),2),n=e[0],t=e[1];return(0,u.FD)(u.FK,{children:[(0,u.Y)(v.J,{color:"dimmer",children:"Font size"}),(0,u.Y)(R.l,{selectedKey:n,onSelectionChange:function(e){return t(Number(e))},"aria-label":"Font size",children:N.map(function(e){return(0,u.Y)(I.nh,{id:e.id,label:e.name},e.id)})})]})}var P={100:"thin",200:"extralight",300:"light",400:"normal",500:"medium",600:"semibold",700:"bold",800:"extrabold",900:"black",normal:"normal",bold:"bold"},F=[{id:"normal",name:"Normal"},{id:"bold",name:"Bold"},{id:"100",name:"Thin"},{id:"200",name:"Extra Light"},{id:"300",name:"Light"},{id:"400",name:"Regular"},{id:"500",name:"Medium"},{id:"600",name:"Semi Bold"},{id:"700",name:"Bold"},{id:"800",name:"Extra Bold"},{id:"900",name:"Black"}];function U(){var e=(0,s._)((0,d.fp)(h.dc),2),n=e[0],t=e[1];return(0,u.FD)(u.FK,{children:[(0,u.Y)(v.J,{color:"dimmer",children:"Font weight"}),(0,u.Y)(R.l,{selectedKey:n,onSelectionChange:function(e){return t(e)},"aria-label":"Font weight",children:F.map(function(e){return(0,u.Y)(I.nh,{id:e.id,label:e.name},e.id)})})]})}var L=t(14106),M=t.n(L),J=t(35897),H=t(68661),B=t(33868),V=t(40115),$=t(41426),G=t(52914),z=t(13258),W=t.n(z);function j(){var e=(0,s._)((0,d.fp)(h.iO),2),n=e[0],t=e[1],r=(0,J.A)().showError,a=(0,s._)((0,c.useState)(!1),2),i=a[0],f=a[1],p=(0,c.useRef)(null),b=(0,V.A)().fs;return(0,u.FD)(u.FK,{children:[(0,u.Y)(v.J,{color:"dimmer",children:"Source"}),(0,u.FD)(g.S,{className:W().formRow,children:[(0,u.Y)(T.pd,{type:"url",value:n||"",onChange:function(e){t(e.target.value)},placeholder:"Enter image URL or upload..."}),(0,u.Y)(m.$n,{variant:"outlined",stretch:!0,onClick:function(){var e;null==(e=p.current)||e.click()},disabled:i,iconLeft:(0,u.Y)(G.A,{}),text:i?"Uploading...":"Upload Image"})]}),(0,u.Y)("input",{style:{display:"none"},ref:p,accept:H.DA.join(","),type:"file",onChange:function(e){var n=e.target,a=n.validity,i=n.files;return(0,o._)(function(){var e,n;return(0,l.YH)(this,function(o){switch(o.label){case 0:if(!a.valid||!i||0===(e=Array.from(i)).length||0===(n=e.filter(function(e){return H.DA.includes(e.type)})).length)return[2];f(!0),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,new Promise(function(e,r){(0,B.Zn)({files:n,fs:b,overwrite:!0,parentPath:$.Ls,onError:function(e){return r(Error(e.error))},onDone:function(n){var a=n.uploads,i=n.errors;if(i.length>0)return void r(Error("Upload failed: ".concat(i[0].error)));if(a.length>0){var o=a[0].path;t(M().join($.Ls,M().basename(o)))}e(void 0)}})})];case 2:return o.sent(),[3,5];case 3:return o.sent(),r("Failed to upload image"),[3,5];case 4:return f(!1),[7];case 5:return[2]}})})()}})]})}function q(e){return(0,u.Y)(w.Ay,(0,y._)((0,b._)({},e),{children:(0,u.Y)("path",{d:"M12.25 22a.75.75 0 0 1-1.5 0V2a.75.75 0 0 1 1.5 0v20ZM6 17.75c.185 0 .418-.101.632-.395.213-.292.368-.734.368-1.255V8.9c0-.52-.155-.963-.368-1.255C6.418 7.35 6.185 7.25 6 7.25H4.25c-.185 0-.418.101-.632.395-.213.292-.368.734-.368 1.255v7.2c0 .52.155.963.368 1.255.214.294.447.395.632.395H6Zm-1.75 1.5c-.781 0-1.424-.436-1.844-1.01-.42-.576-.656-1.336-.656-2.14V8.9c0-.804.237-1.563.656-2.14.42-.574 1.063-1.01 1.844-1.01H6c.782 0 1.424.436 1.844 1.01.42.577.656 1.336.656 2.14v7.2c0 .804-.236 1.563-.656 2.14-.42.574-1.062 1.01-1.844 1.01H4.25ZM18.75 17.75c.185 0 .418-.101.632-.395.213-.292.368-.734.368-1.255V8.9c0-.52-.154-.963-.368-1.255-.214-.294-.447-.395-.632-.395H17c-.185 0-.418.101-.632.395-.213.292-.368.734-.368 1.255v7.2c0 .52.155.963.368 1.255.214.294.447.395.632.395h1.75ZM17 19.25c-.781 0-1.424-.436-1.844-1.01-.42-.576-.656-1.336-.656-2.14V8.9c0-.804.236-1.563.656-2.14.42-.574 1.063-1.01 1.844-1.01h1.75c.782 0 1.424.436 1.844 1.01.42.577.656 1.336.656 2.14v7.2c0 .804-.236 1.563-.656 2.14-.42.574-1.062 1.01-1.844 1.01H17Z"})}))}function Z(e){return(0,u.Y)(w.Ay,(0,y._)((0,b._)({},e),{children:(0,u.Y)("path",{d:"M21.5 11.25a.75.75 0 0 1 0 1.5h-20a.75.75 0 0 1 0-1.5h20ZM17.25 17.5c0-.185-.101-.418-.395-.632-.292-.213-.734-.368-1.255-.368H8.4c-.52 0-.963.155-1.255.368-.294.214-.395.447-.395.632v1.75c0 .185.101.418.395.632.292.213.734.368 1.255.368h7.2c.52 0 .963-.155 1.255-.368.294-.214.395-.447.395-.632V17.5Zm1.5 1.75c0 .781-.436 1.424-1.01 1.844-.576.42-1.336.656-2.14.656H8.4c-.804 0-1.563-.236-2.14-.656-.574-.42-1.01-1.063-1.01-1.844V17.5c0-.781.436-1.424 1.01-1.844.577-.42 1.336-.656 2.14-.656h7.2c.804 0 1.563.236 2.14.656.574.42 1.01 1.063 1.01 1.844v1.75ZM17.25 4.75c0-.185-.101-.418-.395-.632-.292-.213-.734-.368-1.255-.368H8.4c-.52 0-.963.155-1.255.368-.294.214-.395.447-.395.632V6.5c0 .185.101.418.395.632.292.213.734.368 1.255.368h7.2c.52 0 .963-.155 1.255-.368.294-.214.395-.447.395-.632V4.75Zm1.5 1.75c0 .781-.436 1.424-1.01 1.844-.576.42-1.336.656-2.14.656H8.4c-.804 0-1.563-.236-2.14-.656-.574-.42-1.01-1.063-1.01-1.844V4.75c0-.781.436-1.424 1.01-1.844.577-.42 1.336-.656 2.14-.656h7.2c.804 0 1.563.236 2.14.656.574.42 1.01 1.063 1.01 1.844V6.5Z"})}))}function K(){var e=(0,s._)((0,d.fp)(h.o2),2),n=e[0],t=e[1],r=(0,s._)((0,d.fp)(h.rE),2),a=r[0],i=r[1];return(0,u.FD)(u.FK,{children:[(0,u.Y)(v.J,{color:"dimmer",children:"Margin"}),(0,u.FD)(g.S,{className:W().formRow,children:[(0,u.Y)(T.cQ,{iconLeft:(0,u.Y)(q,{}),type:"number",value:null==n?void 0:n.toString(),onChange:function(e){return t(Number(e.target.value))}}),(0,u.Y)(T.cQ,{iconLeft:(0,u.Y)(Z,{}),type:"number",value:null==a?void 0:a.toString(),onChange:function(e){return i(Number(e.target.value))}})]})]})}function Q(e){return(0,u.Y)(w.Ay,(0,y._)((0,b._)({},e),{children:(0,u.Y)("path",{d:"M14.25 9.001c0-.69-.56-1.25-1.25-1.25h-2c-.69 0-1.25.56-1.25 1.25v6c0 .69.56 1.25 1.25 1.25h2c.69 0 1.25-.56 1.25-1.25v-6Zm1.5 6a2.75 2.75 0 0 1-2.75 2.75h-2a2.75 2.75 0 0 1-2.75-2.75v-6A2.75 2.75 0 0 1 11 6.251h2a2.75 2.75 0 0 1 2.75 2.75v6ZM3.25 22.001v-20a.75.75 0 1 1 1.5 0v20a.75.75 0 0 1-1.5 0ZM19.25 22.001v-20a.75.75 0 0 1 1.5 0v20a.75.75 0 0 1-1.5 0Z"})}))}function X(e){return(0,u.Y)(w.Ay,(0,y._)((0,b._)({},e),{children:(0,u.Y)("path",{d:"M16.25 11c0-.691-.56-1.25-1.25-1.25H9c-.69 0-1.25.559-1.25 1.25v2c0 .69.56 1.25 1.25 1.25h6c.69 0 1.25-.56 1.25-1.25v-2Zm1.5 2A2.75 2.75 0 0 1 15 15.75H9A2.75 2.75 0 0 1 6.25 13v-2A2.75 2.75 0 0 1 9 8.25h6A2.75 2.75 0 0 1 17.75 11v2ZM22 19.249a.75.75 0 1 1 0 1.5H2a.75.75 0 0 1 0-1.5h20ZM22 3.249a.75.75 0 0 1 0 1.5H2a.75.75 0 1 1 0-1.5h20Z"})}))}function ee(){var e=(0,s._)((0,d.fp)(h.v_),2),n=e[0],t=e[1],r=(0,s._)((0,d.fp)(h.QY),2),a=r[0],i=r[1];return(0,u.FD)(g.S,{className:W().formField,children:[(0,u.Y)(v.J,{color:"dimmer",children:"Padding"}),(0,u.FD)(g.S,{className:W().formRow,children:[(0,u.Y)(T.cQ,{iconLeft:(0,u.Y)(Q,{}),type:"number",value:null==n?void 0:n.toString(),onChange:function(e){return t(Number(e.target.value))}}),(0,u.Y)(T.cQ,{iconLeft:(0,u.Y)(X,{}),type:"number",value:null==a?void 0:a.toString(),onChange:function(e){return i(Number(e.target.value))}})]})]})}var en=t(2008),et=t(88879),er=t(30284),ea=t(95793),ei=t(34778),eo=t(86035),es=t(80719),el=t(69832),eu=t(86103);function ec(){var e=(0,es.NC)(),n=(0,J.A)().showError,t=(0,el.J2)(e.sessions.agent.current),r=(0,eu._P)({controlName:"flag-visual-editor-quick-edits",default:!1});return{handlePrompt:(0,c.useCallback)(function(e,a){return(0,o._)(function(){return(0,l.YH)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),!t)throw Error("No agent session found");return[4,t.appendEvent({kind:"message",intent:eo.qRv.AGENT,message:e,webviewTargetedElement:a,quickEdit:r})];case 1:return i.sent(),[3,3];case 2:return i.sent(),n("Failed to send editor message"),[3,3];case 3:return[2]}})})()},[t,n,r])}}var ed=t(41479),ef=t(21466),ep=t(70251),eh=t(3937),em=t(91953),ev=t(90233),eg=t(70399),eb=t(43193);function ey(e){var n,t,v,b,y,w,_,S,A,k,Y,T,I,R,N,F,L=e.openPane,M=(0,f.y)().isEditModeActive,H=(0,a.Z)({context:"agent"}),B=H.isEditingSupported,V=H.element,G=H.setElement,z=(0,d.md)(r.e0),q=(0,s._)((0,c.useState)(!1),2),Z=q[0],Q=q[1],X=ec().handlePrompt,eu=(n=(0,d.md)(r.y0),t=(0,d.Xr)(r.ki),v=(0,d.md)(h.IT),b=(0,d.md)(h.Ch),k=(y=(0,J.A)().showError,w=(0,ed.I)(function(e,n){return function(n,t,r){return(0,o._)(function(){var a;return(0,l.YH)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e.visualEditor.updateClassName.rpc({elementMetadata:n,newClassName:t,originalClassName:r})];case 1:if(!i.sent().ok)return y("Failed to update class name"),[2,!1];return[2,!0];case 2:return a=i.sent(),ea.vF.error("[Visual Editor] Failed to update class name",a),y("Failed to update class name"),[2,!1];case 3:return[2]}})})()}},[y]),_=(0,ed.I)(function(e,n){return function(n,t,r){return(0,o._)(function(){var a;return(0,l.YH)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e.visualEditor.updateTextContent.rpc({elementMetadata:n,newText:t,originalText:r})];case 1:if(!i.sent().ok)return y("Failed to update text content"),[2,!1];return[2,!0];case 2:return a=i.sent(),ea.vF.error("[Visual Editor] Failed to update text content",a),y("Failed to update text content"),[2,!1];case 3:return[2]}})})()}},[y]),S=(0,ed.I)(function(e,n){return function(n,t,r,a){return(0,o._)(function(){var i;return(0,l.YH)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e.visualEditor.updateImageSrc.rpc({elementMetadata:n,newImagePath:t,originalSrc:r,isUrl:a})];case 1:if(!o.sent().ok)return y("Failed to update image source"),[2,!1];return[2,!0];case 2:return i=o.sent(),ea.vF.error("[Visual Editor] Failed to update image source",i),y("Failed to update image source"),[2,!1];case 3:return[2]}})})()}},[y]),A={updateClassName:function(e,n,t){return(0,o._)(function(){return(0,l.YH)(this,function(r){return w?[2,w(e,n,t)]:[2,!1]})})()},updateTextContent:function(e,n,t){return(0,o._)(function(){return(0,l.YH)(this,function(r){return _?[2,_(e,n,t)]:[2,!1]})})()},updateImageSrc:function(e,n,t,r){return(0,o._)(function(){return(0,l.YH)(this,function(a){return S?[2,S(e,n,t,r)]:[2,!1]})})()}}).updateClassName,Y=A.updateTextContent,T=A.updateImageSrc,I=ec().handlePrompt,F=(R=(0,es.NC)(),N=(0,el.J2)(R.sessions.agent.current),{sendCheckpointEvent:(0,c.useCallback)(function(){return(0,o._)(function(){var e;return(0,l.YH)(this,function(n){switch(n.label){case 0:if(!N)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,N.appendEvent({kind:"triggerCheckpoint",description:"Visual edit",onlyIfDiff:!0,author:eo.rEN.COMMIT_AUTHOR_AGENT})];case 2:return n.sent(),[3,4];case 3:return e=n.sent(),ea.vF.warn("Failed to send checkpoint event:",e),[3,4];case 4:return[2]}})})()},[N])}).sendCheckpointEvent,{saveChanges:function(){return(0,o._)(function(){var e,r,a,o,u,c,d,f,p,h,m,g,y,w,_,S,A,C,E,x;return(0,l.YH)(this,function(l){switch(l.label){case 0:e=[],l.label=1;case 1:if(l.trys.push([1,15,16,17]),(null==n||null==(r=n.metadata)?void 0:r.textContent)===v.textContent)return[3,4];if(!((null==n||null==(d=n.metadata)?void 0:d.elementPath)&&v.textContent))return[3,3];return[4,Y(n.metadata.elementPath,v.textContent,n.metadata.textContent)];case 2:return l.sent()?(0,ei.u4)(er.AZ.VISUAL_SELECTOR,{action:"edit",editType:"text",method:"deterministic"}):((0,ei.u4)(er.AZ.VISUAL_SELECTOR,{action:"edit",editType:"text",method:"fallback"}),e.push({type:"text",oldText:n.metadata.textContent,newText:v.textContent})),[3,4];case 3:v.textContent&&((0,ei.u4)(er.AZ.VISUAL_SELECTOR,{action:"edit",editType:"text",method:"fallback",reason:"missing_path"}),e.push({type:"text",oldText:null==n||null==(f=n.metadata)?void 0:f.textContent,newText:v.textContent})),l.label=4;case 4:if((h=Object.entries(b).reduce(function(e,n){var t=(0,s._)(n,2),r=t[0],a=t[1];switch(r){case"font-size":case"color":return(0,et.QP)(e,"text-[".concat(a,"]"));case"font-weight":return(0,et.QP)(e,"font-".concat(P[a]||"normal"));case"text-align":return(0,et.QP)(e,"text-".concat(a));case"background-color":return(0,et.QP)(e,"bg-[".concat(a,"]"));case"margin-left":return(0,et.QP)(e,"ml-[".concat(a,"]"));case"margin-right":return(0,et.QP)(e,"mr-[".concat(a,"]"));case"margin-top":return(0,et.QP)(e,"mt-[".concat(a,"]"));case"margin-bottom":return(0,et.QP)(e,"mb-[".concat(a,"]"));case"padding-left":return(0,et.QP)(e,"pl-[".concat(a,"]"));case"padding-right":return(0,et.QP)(e,"pr-[".concat(a,"]"));case"padding-top":return(0,et.QP)(e,"pt-[".concat(a,"]"));case"padding-bottom":return(0,et.QP)(e,"pb-[".concat(a,"]"));default:return e}},null!=(p=null==n||null==(a=n.metadata)?void 0:a.className)?p:""))===(null==n||null==(o=n.metadata)?void 0:o.className))return[3,7];if(!(null==n||null==(m=n.metadata)?void 0:m.elementPath))return[3,6];return[4,k(n.metadata.elementPath,h,n.metadata.className)];case 5:return l.sent()?(0,ei.u4)(er.AZ.VISUAL_SELECTOR,{action:"edit",editType:"style",method:"deterministic"}):((0,ei.u4)(er.AZ.VISUAL_SELECTOR,{action:"edit",editType:"style",method:"fallback"}),e.push({type:"style",oldClassName:n.metadata.className,newClassName:h})),[3,7];case 6:(0,ei.u4)(er.AZ.VISUAL_SELECTOR,{action:"edit",editType:"style",method:"fallback",reason:"missing_path"}),e.push({type:"style",oldClassName:null!=(y=null==n||null==(g=n.metadata)?void 0:g.className)?y:"Unknown",newClassName:h}),l.label=7;case 7:if(!((null==n||null==(u=n.metadata)?void 0:u.srcAttribute)!==v.imageSrc&&v.imageSrc&&(null==n||null==(c=n.metadata)?void 0:c.elementPath)))return[3,9];return _=!(null==(w=v.imageSrc)?void 0:w.startsWith($.Ls)),[4,T(n.metadata.elementPath,v.imageSrc,n.metadata.srcAttribute,_)];case 8:l.sent()?(0,ei.u4)(er.AZ.VISUAL_SELECTOR,{action:"edit",editType:"image",method:"deterministic"}):((0,ei.u4)(er.AZ.VISUAL_SELECTOR,{action:"edit",editType:"image",method:"fallback"}),e.push({type:"image",newSrc:v.imageSrc})),l.label=9;case 9:if(!(e.length>0&&n))return[3,13];if(S="Please update this element with the following changes:\n\n",(A=e.filter(function(e){return"text"===e.type})).length>0&&(S+="Text Content Changes:\n",A.forEach(function(e){S+='- Change text from "'.concat(e.oldText,'" to "').concat(e.newText,'"\n')}),S+="\n"),(C=e.filter(function(e){return"style"===e.type})).length>0&&(S+="Style Changes:\n",C.forEach(function(e){S+='- Update classes from "'.concat(e.oldClassName,'" to "').concat(e.newClassName,'"\n')}),S+="\n"),(E=e.filter(function(e){return"image"===e.type})).length>0&&(S+="Image Source Changes:\n",E.forEach(function(e){S+='- Update image source to "'.concat(e.newSrc,'"\n')}),S+="\n"),!n.element)return[3,11];return[4,I(S,n.element)];case 10:return l.sent(),[3,12];case 11:throw Error("Selected element is missing");case 12:return[3,14];case 13:(0,i.L4)(),F().catch(function(e){ea.vF.warn("Failed to create checkpoint:",e)}),l.label=14;case 14:return[3,17];case 15:return x=l.sent(),ea.vF.error("[Visual Editor] Failed to apply changes:",x),[3,17];case 16:return t(null),[7];case 17:return[2]}})})()}}).saveChanges,ey=(0,d.md)(h.ed),ew=(0,en.l)(z),e_=(0,c.useMemo)(function(){return Object.values(ew).every(function(e){return!1===e})},[ew]),eS=function(){Q(!1)};return M&&!V?(0,u.Y)(eh.ui,{clsx:W().placeholderContainer,elevated:!0,children:(0,u.Y)(g.S,{clsx:W().placeholder,align:"center",justify:"center",children:(0,u.Y)(em.EY,{color:"dimmer",children:"No element selected"})})}):V&&B&&V.filePath&&M?(0,u.Y)(eh.ui,{clsx:[W().editorContainer,W().bordered],align:"center",elevated:!0,children:(0,u.FD)(g.S,{clsx:W().editor,p:12,children:[(0,u.FD)(g.S,{row:!0,justify:"space-between",children:[(0,u.Y)(g.S,{children:(0,u.Y)(p.l,{targetedElement:V,openPane:L})}),(0,u.Y)(m.$n,{text:"",iconLeft:(0,u.Y)(eg.A,{}),variant:"nofill",onClick:function(){if((0,i.vB)(),M)return void G(null);(0,i.J8)(!1,!1)}})]}),e_?(0,u.Y)(g.S,{p:8,children:(0,u.Y)(em.EY,{color:"dimmer",children:"You can modify this element by describing the change in the chat. No deterministic edits are supported for this element."})}):null,ew.textSectionHeader?(0,u.Y)(em.EY,{className:W().sectionTitle,children:"Text"}):null,ew.content?(0,u.Y)(g.S,{className:W().formRow,children:(0,u.Y)(D,{})}):null,ew.imageSectionHeader?(0,u.Y)(em.EY,{className:W().sectionTitle,children:"Image"}):null,ew.imageSource?(0,u.Y)(g.S,{className:W().formRow,children:(0,u.Y)(g.S,{className:W().formField,children:(0,u.Y)(j,{})})}):null,ew.fontSize||ew.fontStyle?(0,u.FD)(g.S,{className:W().formRow,children:[ew.fontSize?(0,u.Y)(g.S,{className:W().formField,children:(0,u.Y)(O,{})}):null,ew.fontStyle?(0,u.Y)(g.S,{className:W().formField,children:(0,u.Y)(U,{})}):null]}):null,ew.alignment?(0,u.Y)(g.S,{className:W().formRow,children:(0,u.Y)(g.S,{className:W().formField,children:(0,u.Y)(C,{})})}):null,ew.appearanceSectionHeader?(0,u.Y)(em.EY,{className:W().sectionTitle,children:"Appearance"}):null,ew.textColor||ew.backgroundColor?(0,u.FD)(g.S,{className:W().formRow,children:[ew.textColor?(0,u.Y)(g.S,{className:W().formField,children:(0,u.Y)(x,{})}):null,ew.backgroundColor?(0,u.Y)(g.S,{className:W().formField,children:(0,u.Y)(E,{})}):null]}):null,ew.layoutSectionHeader?(0,u.Y)(em.EY,{className:W().sectionTitle,children:"Layout"}):null,ew.margin?(0,u.Y)(g.S,{className:W().formRow,children:(0,u.Y)(g.S,{className:W().formField,children:(0,u.Y)(K,{})})}):null,ew.padding?(0,u.Y)(g.S,{className:W().formRow,children:(0,u.Y)(g.S,{className:W().formField,children:(0,u.Y)(ee,{})})}):null,(0,u.Y)(g.S,{row:!0,justify:"space-between",align:"center",gap:8,pt:8,children:e_?null:(0,u.FD)(u.FK,{children:[(0,u.Y)(m.$n,{text:"Delete",iconLeft:(0,u.Y)(eb.A,{}),variant:"outlined",colorway:"negative",onClick:function(){Q(!0)}}),(0,u.Y)(ev.m_,{tooltip:"No changes to save",isDisabled:ey,placement:"top",children:(0,u.Y)(m.$n,{text:"Save changes",onClick:function(){return(0,o._)(function(){return(0,l.YH)(this,function(e){switch(e.label){case 0:if(!V)return[2];return[4,eu()];case 1:return e.sent(),[2]}})})()},colorway:"primary",isDisabled:!ey})})]})}),(0,u.Y)(ep.a,{isOpen:Z,onRequestClose:eS,children:(0,u.Y)(ef.A,{prompt:"Delete Element",desc:"Are you sure you want to delete this element?",confirmText:"Yes, delete this element",danger:!0,onCancel:eS,onConfirm:function(){return(0,o._)(function(){return(0,l.YH)(this,function(e){switch(e.label){case 0:if(!V)return[2];return(0,i.dT)({style:"display: none;"}),eS(),[4,X("Delete Element",V)];case 1:return e.sent(),(0,i.J8)(!1,!1),[2]}})})()},icon:(0,u.Y)(eb.A,{})})})]})}):null}},65290:(e,n,t)=>{"use strict";t.d(n,{I:()=>ee,N:()=>X});var r=t(17844),a=t(93629),i=t(12694),o=t(86105),s=t(34837),l=t(21462),u=t(74651),c=t(42028),d=t(76957),f=t(44725),p=t(3443),h=t(9849),m=t(6566),v=t(31334),g=t(17795),b=t(85692),y=t(59270),w=t(26737),_=t(860),S=t(47737),A=t(86064),k=t(1224),C=t(80023),Y=t(49555),E=t(40115),x=t(70764),T=t(18712),D=t(9844),I=t(25227),R=t(90843),N=(0,x.x)({root:[T.wp.coverContainer,T.wp.center,T.wp.p(16)]});function O(e){var n=e.message;return(0,s.Y)(I.S,{css:N.root,children:(0,s.Y)(I.S,{children:(0,s.Y)(D.N,{icon:(0,s.Y)(R.A,{}),colorway:"orange",text:n})})})}var P=t(50068),F=t(90402),U=t(62246),L=t(88233),M=t(99708),J=t(843),H=t(32289),B=t(25590);function V(e){return(0,s.Y)(B.Ay,(0,a._)((0,r._)({},e),{children:(0,s.Y)("path",{fillRule:"evenodd",d:"M20.75 12a.75.75 0 0 0-.75-.75H4a.75.75 0 0 0 0 1.5h16a.75.75 0 0 0 .75-.75Zm-6-6a.75.75 0 0 0-.75-.75H4a.75.75 0 0 0 0 1.5h10a.75.75 0 0 0 .75-.75Zm-4 12a.75.75 0 0 0-.75-.75H4a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 .75-.75Z",clipRule:"evenodd"})}))}var $=t(81512),G=t(28380),z=t(88976),W=t(13315),j=t(54154),q=t(59771),Z=t(79035),K=t(67456),Q=u.ZU.Object({type:u.ZU.Literal("codeEditor"),data:u.ZU.Object({path:u.ZU.Union([u.ZU.String({minLength:1}),u.ZU.Null()]),line:u.ZU.Optional(u.ZU.Number()),col:u.ZU.Optional(u.ZU.Number())})}),X={Content:function(e){var n=e.pane,t=e.options;return(0,s.Y)(en,(0,a._)((0,r._)({},n.data),{isActive:t.isActive,isHidden:t.isHidden,performPaneOperation:t.performPaneOperation}))},Icon:function(e){var n=e.pane,t=e.size;return(0,s.Y)(H.A,{path:n.data.path||"",size:t})},getTitle:function(e){return e.data.path?(0,y.WP)(e.data.path):"No file open"},category:U.bY.WorkspaceFeatures,decode:function(e){return c.T(Q,e)}};function ee(e){var n,t,r,a,i,u,c,d,A,Y=e.path,E=e.performPaneOperation,x=(0,F.fZ)(),T=(0,_.A)(function(){return x?{match:k.G2,data:{type:"action",label:"Toggle all folds",icon:(0,s.Y)($.A,{}),run:function(){0===(0,f.hw)(x.state).size?(0,f.hY)(x):(0,f._I)(x)}}}:null},[x]),D=(0,b.Vn)(x,h.T);(0,l.useEffect)(function(){D&&E({operation:"commit"})},[D,E]);var I=(0,C.KA)({path:Y,performPaneOperation:E}),R=(n=(0,F.fZ)(),t=(0,b.Vn)(n,m.hb),(0,_.A)(function(){if(n&&t)return{match:k.G2,data:{label:"Format "+(0,y.WP)(Y),icon:(0,s.Y)(j.A,{}),type:"action",run:function(){(0,m.BD)(n)}}}},[t,Y,n])),N=(r=(0,S.m5)(),i=(a=(0,w.g)("minimapDisplay")).preferences.minimapDisplay,u=a.update,(0,_.A)(function(){return r?null:{match:k.G2,data:{label:"Minimap",icon:(0,s.Y)(V,{}),type:"context"},commands:function(e){var n=e.active,t=e.searchQuery;return n||t?[{value:"none",label:"Hide",icon:(0,s.Y)(W.A,{})},{value:"characters",label:"Characters",icon:(0,s.Y)(K.A,{})},{value:"blocks",label:"Blocks",icon:(0,s.Y)(Z.A,{})}].filter(function(e){return e.value!==i}).map(function(e){return{match:k.G2,data:{type:"action",label:e.label,icon:e.icon,run:function(){u({minimapDisplay:e.value})}}}}):[]}}},[u,i,r])),O=(c=function(){return E({operation:"replace",pane:{type:"history",data:{path:Y}}})},(0,_.A)(function(){return{match:k.G2,data:{label:"History",icon:(0,s.Y)(q.A,{}),type:"action",run:function(){c()}}}},[c])),P=(d=(0,L.vO)(),(0,_.A)(function(){var e=void 0;if((0,y.e$)(Y)&&(e={type:"markdown",data:{path:Y}}),(0,y.Z7)(Y)&&(e={type:"media",data:{path:Y}}),(0,y.Zy)(Y)&&(e={type:"csvPreview",data:{path:Y}}),e)return{match:k.G2,data:{label:"Preview",icon:(0,s.Y)(z.A,{}),type:"action",run:function(){if(e){if("csvPreview"===e.type){var n;e.data.line=null==(n=d())?void 0:n.position.line}E({operation:"replace",pane:e})}}}}},[d,Y,E])),U=(A=(0,J.JZ)(),{match:k.G2,data:{label:"Reveal in file tree",icon:(0,s.Y)(G.A,{}),type:"action",run:function(){A(Y)}}});return(0,M.Qt)(function(){if(x){var e=[],n=[],t=[];return R&&e.push(R),P&&n.push(P),N&&n.push(N),T&&n.push(T),t.push(U),t.push(O),I&&e.push.apply(e,(0,o._)(I)),{type:"codeEditor",commands:[{name:"File Operations",commands:e},{name:"View",commands:n},{name:"Navigation",commands:t}].filter(function(e){return e.commands.length>0}),getEditorView:function(){return x},getCurrentSelectionText:function(){if(!x.state.selection.main.empty)return x.state.sliceDoc(x.state.selection.main.from,x.state.selection.main.to)},insertGhostwriterChatCode:function(e,n){(0,v.fJ)({view:x,insert:e,overwrite:n})},revertGhostwriterChatCode:function(){(0,v.sz)(x)},fetchProblems:function(){return(0,p.H_)(x),(0,g.VS)(x.state)}}}},[x,R,P,O,N,T,U,I]),(0,M.HP)(function(){return x},[x]),null}function en(e){var n,t,r,a,o,u,c,f,p=e.path,h=e.line,m=e.col,v=e.isHidden,g=e.performPaneOperation,b=(0,i._)((0,l.useState)(!v),2),y=b[0],w=b[1];y||v||w(!0);var S=(0,i._)((0,l.useState)(function(){return(0,d.y$)()}),1)[0],k=(0,i._)((0,l.useState)(function(){return(0,d.y$)()}),1)[0],C=(t=(n={path:p,replaceEditorPath:(0,l.useCallback)(function(e){g({operation:"replace",pane:{type:"codeEditor",data:{path:e}}})},[g]),getFileRenameInProgress:(0,L.u6)()}).path,r=n.replaceEditorPath,a=n.getFileRenameInProgress,o=(0,E.A)().fs,c=(u=(0,i._)((0,l.useState)(null),2))[0],f=u[1],(0,l.useEffect)(function(){if(t){if(t.startsWith("/"))return f('Cannot open "'.concat(t,'"')),function(){f(null)};var e=o.watchPathStat(t,{onNewStat:function(e){var n=a();return e.exists?e.type===Y.pt.Directory?void f('"'.concat(t,'" is a directory')):void f(null):(null==n?void 0:n.from)===t?void r(n.to):void f('No file found at "'.concat(t,'", it may have been deleted'))},onError:function(){f('Unknown error occured while read "'.concat(t,'", try re-opening the editor'))}});return function(){e(),f(null)}}},[a,o,t,r]),c),x=(0,_.A)(function(){return{line:h,col:m}},[h,m]),T=(0,_.A)(function(){return function(){g({operation:"replace",pane:{type:"codeEditor",data:{path:p}}})}},[g,p]);return p?C?(0,s.Y)(O,{message:C}):v&&!y?null:(0,s.Y)(F.dz.Provider,{value:S,children:(0,s.FD)(P.GK.Provider,{value:k,children:[(0,s.Y)(A.A,{filePath:p,isHidden:null!=v&&v,deeplink:x,onDeeplinkUpdated:T,hideMobileKeyboardToolbar:!0,performPaneOperation:g},p),(0,s.Y)(ee,{path:p,performPaneOperation:g})]})}):null}},65320:(e,n,t)=>{"use strict";t.d(n,{r:()=>r});var r=t(45773).Lz.contentAttributes.of({autocorrect:"on"})},65586:(e,n,t)=>{"use strict";t.d(n,{f:()=>d});var r=t(17844),a=t(12584),i=t(41114),o=t(54744);function s(){var e=(0,a._)(["\n  query ReplTeamOrgSettings($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        owner {\n          __typename\n          ... on Team {\n            id\n            organization {\n              id\n              isAiEnabled\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return s=function(){return e},e}var l={},u=(0,i.J1)(s()),c=t(61125);function d(){var e,n,t,a,i=(t={variables:{replId:(0,c.A)()}},a=(0,r._)({},l,t),o.I(u,a)).data;return{isTeamWithAiDisabled:(null==i?void 0:i.getRepl.__typename)==="Repl"&&(null==(e=i.getRepl.owner)?void 0:e.__typename)==="Team"&&(null==(n=i.getRepl.owner.organization)?void 0:n.isAiEnabled)===!1}}},65616:e=>{e.exports={divider:"ThemeOverlay_divider__Yv4HT",overlayContainer:"ThemeOverlay_overlayContainer__UABNW",scrollArea:"ThemeOverlay_scrollArea__MDBGt"}},65950:(e,n,t)=>{"use strict";t.d(n,{d:()=>w});var r=t(83846),a=t(34837),i=t(21462),o=t(30284),s=t(34778),l=t(63591),u=t(39534),c=t(70764),d=t(19944),f=t(18712),p=t(91953),h=t(25227),m=t(70111),v=(0,d.v)(["backgroundColor","color","hoverColor","hoverBackgroundColor"]),g=v.cssVars,b=v.styleTokens,y=(0,c.x)({wrapper:[f.wp.display.inlineFlex,{backgroundColor:b.backgroundColor,color:b.color,"&:hover":{color:b.hoverColor,backgroundColor:b.hoverBackgroundColor}},f.wp.align.center,f.wp.borderRadius(),f.wp.py(2),f.wp.px(6),f.wp.cursor.pointer]});function w(e){var n,t=e.trackSource,c=void 0===t?"unknown":t,d=(0,l.lO)(),f=d.isOffline,v=d.isWorkflowsLoading,b=d.isDisabled,w=(0,l.sT)(),_=(0,i.useMemo)(function(){return f||v},[f,v]);return(0,a.FD)(h.S,{tag:"button",onClick:function(){(0,s.u4)(o.AZ.WORKFLOW_RAN,{source:c,runner:"workflows"}),w()},css:y.wrapper,row:!0,gap:6,disabled:_||b,style:(n={},(0,r._)(n,g.backgroundColor,_?u.LU.backgroundHighest:u.LU.accentPositiveDimmer),(0,r._)(n,g.color,_?u.LU.foregroundDimmer:u.LU.accentPositiveStrongest),(0,r._)(n,g.hoverColor,_?u.LU.foregroundDefault:u.LU.white),(0,r._)(n,g.hoverBackgroundColor,_?u.LU.greyDimmest:u.LU.accentPositiveDefault),n),children:[(0,a.Y)(m.A,{size:12}),(0,a.Y)(p.EY,{children:"Run"})]})}},65968:e=>{e.exports={root:"BuildScoreSurveyDialog_root__HzM4F",starButton:"BuildScoreSurveyDialog_starButton__bE99M",starIcon:"BuildScoreSurveyDialog_starIcon___8gXF",responseSubmissionRow:"BuildScoreSurveyDialog_responseSubmissionRow__E8wea",button:"BuildScoreSurveyDialog_button__9TNcO",closeIcon:"BuildScoreSurveyDialog_closeIcon__GdGgW",satisfactionLevelText:"BuildScoreSurveyDialog_satisfactionLevelText__IxOUk",headerRow:"BuildScoreSurveyDialog_headerRow__zRuZN"}},66069:(e,n,t)=>{"use strict";t.d(n,{u:()=>d});var r=t(29935),a=t(82643),i=t(34837),o=t(86035),s=t(86103),l=t(35897),u=t(10922),c=t(93593);function d(e){var n=e.session,t=e.onClose,d=(0,l.A)(),f=d.showConfirm,p=d.showError,h=function(e){return(0,r._)(function(){return(0,a.YH)(this,function(r){switch(r.label){case 0:return[4,n.submitUserFeedback({type:o.O3q.AGENT_FEEDBACK_UNKNOWN,comment:e})];case 1:if(!r.sent().ok)return p("Failed to send feedback. Please try again."),[2];return f("Feedback received."),t(),[2]}})})()};return(0,s._P)({controlName:"flag-top-ai-spenders",type:"boolean"})?(0,i.Y)(c.L,{onSubmit:h}):(0,i.Y)(u.O,{onSubmit:h})}},66246:(e,n,t)=>{"use strict";t.d(n,{_9:()=>f,t:()=>v});var r=t(17844),a=t(12584),i=t(41114),o=t(39590);function s(){var e=(0,a._)(["\n  fragment MultiplayerUser on User {\n    id\n    image\n    username\n    url\n  }\n"]);return s=function(){return e},e}function l(){var e=(0,a._)(["\n  fragment MultiplayerRepl on Repl {\n    id\n    collaborators {\n      user {\n        ...MultiplayerUser\n      }\n    }\n    multiplayerInvites {\n      email\n      type\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function u(){var e=(0,a._)(["\n  fragment MultiplayerReplInvite on MultiplayerInvite {\n    email\n    repl {\n      ...MultiplayerRepl\n    }\n    invitePermissionType: type\n  }\n  ","\n"]);return u=function(){return e},e}function c(){var e=(0,a._)(["\n  mutation AddOrInviteReplMultiplayer(\n    $input: AddOrInviteReplMultiplayerInput!\n  ) {\n    addOrInviteReplMultiplayer(input: $input) {\n      __typename\n      ... on AddOrInviteReplMultiplayerOuput {\n        result {\n          ... on MultiplayerInvite {\n            ...MultiplayerReplInvite\n          }\n          ... on ReplPermission {\n            id\n            repl {\n              ...MultiplayerRepl\n            }\n            user {\n              ...MultiplayerUser\n            }\n            replPermissionType: type\n          }\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return c=function(){return e},e}var d={},f=(0,i.J1)(s()),p=(0,i.J1)(l(),f),h=(0,i.J1)(u(),p),m=(0,i.J1)(c(),h,p,f);function v(e){var n=(0,r._)({},d,e);return o.n(m,n)}},66404:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.FD)(o.Ay,(0,a._)((0,r._)({},e),{children:[(0,i.Y)("path",{fillRule:"evenodd",d:"M5 3.75A1.25 1.25 0 0 0 3.75 5v14.19l2.72-2.72a.75.75 0 0 1 .53-.22h12A1.25 1.25 0 0 0 20.25 15v-3a.75.75 0 0 1 1.5 0v3A2.75 2.75 0 0 1 19 17.75H7.31l-3.78 3.78A.75.75 0 0 1 2.25 21V5A2.75 2.75 0 0 1 5 2.25h7a.75.75 0 0 1 0 1.5H5Z",clipRule:"evenodd"}),(0,i.Y)("path",{d:"M19 1a.8.8 0 0 1 .8.8v2.4h2.4a.8.8 0 0 1 0 1.6h-2.4v2.4a.8.8 0 0 1-1.6 0V5.8h-2.4a.8.8 0 0 1 0-1.6h2.4V1.8A.8.8 0 0 1 19 1Z"})]}))}},66561:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.FD)(o.Ay,(0,a._)((0,r._)({},e),{children:[(0,i.Y)("path",{d:"M11.143 12a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"}),(0,i.Y)("path",{d:"M11.143 3.429a3.429 3.429 0 1 0-3.429 3.428 5.143 5.143 0 0 1 .007 10.286h-.007a3.429 3.429 0 1 0 3.429 3.428v-.026a5.143 5.143 0 0 1 5.143-5.116 3.429 3.429 0 0 0 0-6.858h-.006a5.143 5.143 0 0 1-5.137-5.116V3.43Z"})]}))}},67014:e=>{e.exports={container:"PoweredBySemgrep_container__cptzP",semgrepLogo:"PoweredBySemgrep_semgrepLogo__hTS0C"}},67091:e=>{e.exports={root:"BudgetExceededMessage_root__489h_",text:"BudgetExceededMessage_text__Xvg7H",buttonContainer:"BudgetExceededMessage_buttonContainer__F4IWk",budgetButton:"BudgetExceededMessage_budgetButton__ZL0XK"}},67220:(e,n,t)=>{"use strict";t.d(n,{k:()=>d});var r=t(29935),a=t(12694),i=t(82643),o=t(34837),s=t(21462),l=t(14683),u=t(71973),c=t(45040);function d(e){var n=e.onAuthenticated,t=e.onClose,d=(0,c.sB)(),f=d.openIntClientToken,p=d.isLoadingFigmaAuthentication,h=d.isFigmaAuthModalVisible,m=d.showFigmaAuthModal,v=d.hideFigmaAuthModal,g=d.onFigmaAuthCallback,b=(0,s.useCallback)(function(e,n){e?m():(v(),null==t||t(n))},[m,v,t]),y=(0,a._)((0,l.xP)(),1)[0];if(!p&&h&&f)return(0,o.Y)(u.JB,{isOpen:h,setIsOpen:b,token:f,selectedConnector:"FIGMA",onEvent:function(e){return(0,r._)(function(){return(0,i.YH)(this,function(r){switch(r.label){case 0:if("connect.connection-connected"!==e.name)return[3,2];return[4,y({variables:{input:{connectionId:e.data.connection_id}}})];case 1:r.sent(),g(!0),null==n||n(!0),null==t||t("authenticated"),r.label=2;case 2:return[2]}})})()}})}},67364:(e,n,t)=>{"use strict";t.d(n,{A:()=>r,T:()=>a});var r=function(e){return e.INFO="info",e.LOW="low",e.MODERATE="moderate",e.HIGH="high",e.CRITICAL="critical",e}({});function a(e){var n=e.toLowerCase();switch(n){case"info":case"low":case"moderate":case"high":case"critical":return n;case"medium":return"moderate";default:throw Error("Unknown severity: ".concat(e))}}},67401:e=>{e.exports={dialog:"AddingIntegrationDialog_dialog__zhWLx",grow1:"AddingIntegrationDialog_grow1__MwJqg",grow3:"AddingIntegrationDialog_grow3__f5eDs"}},67456:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M7 2.25a.75.75 0 0 1 .692.462l5 12a.75.75 0 0 1-1.384.577L9.72 11.48H4.28l-1.587 3.808a.75.75 0 0 1-1.384-.578l5-12A.75.75 0 0 1 7 2.25ZM4.904 9.98h4.192L7 4.95 4.904 9.98ZM14.25 8a.75.75 0 0 1 .75-.75h4A3.75 3.75 0 0 1 21.25 14 3.75 3.75 0 0 1 19 20.75h-4a.75.75 0 0 1-.75-.75V8Zm1.5 6.75v4.5H19a2.25 2.25 0 0 0 0-4.5h-3.25Zm3.25-1.5a2.25 2.25 0 0 0 0-4.5h-3.25v4.5H19Z",clipRule:"evenodd"})}))}},67486:(e,n,t)=>{"use strict";t.d(n,{R:()=>f});var r=t(34837),a=t(21462),i=t(35897),o=t(6520),s=t(42793),l=t(18712),u=t(40756),c=t(48114),d=(0,s.AH)([l.wp.mt(8)]);function f(e){var n=e.onOpenEnvEditor,t=(0,o.A)(),s=(0,i.A)(),l=(0,a.useRef)(!1);(0,a.useEffect)(function(){if(t&&!l.current){var e=s.showNotice((0,r.FD)(r.FK,{children:[(0,r.Y)("div",{children:"This App contains secrets that are missing values."}),(0,r.Y)("div",{children:"Add values to ensure the App runs as expected."}),(0,r.Y)("div",{children:(0,r.Y)(u.$n,{size:"small",iconLeft:(0,r.Y)(c.A,{}),css:d,colorway:"primary",onClick:function(){n(),s.hideMessage(e)},text:"Manage secrets"})})]}),1e4);l.current=!0}},[t])}},67571:(e,n,t)=>{"use strict";t.d(n,{A:()=>f});var r=t(21462),a=t(53811),i=t(62325),o=t(53899),s=t(61125),l=t(95793),u=t(2649),c=t(40115),d=new Set;function f(e){var n=e.workspaceType,t=(0,s.A)(),f=(0,c.A)(),p=f.dotReplit,h=f.container;(0,r.useEffect)(function(){if(!d.has(t)){d.add(t);var e=p.watch(function(t){if(!t.error||t.error!==o.DO.Disconnected){try{var r=h.getConnectionMetadata();if(!r||!r.token)throw Error("Expected token in measure call.");!function(e){var n=e.workspaceType,t=e.parsedToken,r=!!window.performance.getEntriesByName(i.pY.pageNavStart,"mark").length,o={ssr:!r,workspaceType:n,tokenCluster:t.cluster},s="time to code";window.performance.measure(s,r?i.pY.pageNavStart:void 0);var u=window.performance.getEntriesByName(s,"measure")[0];if(!u)return l.vF.info("Could not obtain measure for time to code",o);var c="page invisible fetch connection metadata",d=u.duration;window.performance.getEntriesByName(i.pY.fetchConnectionMetadataPageInvisibleStart,"mark").length&&(window.performance.measure(c,i.pY.fetchConnectionMetadataPageInvisibleStart,i.pY.fetchConnectionMetadataPageInvisibleEnd),d-=window.performance.getEntriesByName(c,"measure")[0].duration,window.performance.clearMeasures(c),window.performance.clearMarks(i.pY.fetchConnectionMetadataPageInvisibleStart),window.performance.clearMarks(i.pY.fetchConnectionMetadataPageInvisibleEnd)),l.vF.time("time to code minus page invisible",d,o),l.vF.time("time to code with page invisible",u.duration,o),window.performance.clearMeasures(s),a.L.addTiming("time_to_code_minus_page_invisible",d),a.L.addTiming("time_to_code_with_page_invisible",u.duration)}({workspaceType:n,parsedToken:(0,u.p)(r.token)})}catch(e){l.vF.info("Could not measure time to code",{workspaceType:n,e:e,dotReplitResult:t.error?t.error:"success"})}e()}});return e}},[t,n,p,h])}},68534:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M8.53 5.47a.75.75 0 0 1 0 1.06L3.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06l-6-6a.75.75 0 0 1 0-1.06l6-6a.75.75 0 0 1 1.06 0ZM19.5 9.5a.75.75 0 0 1 1.06 0l1.97 1.97a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 0 1-1.06-1.06L20.94 12l-1.44-1.44a.75.75 0 0 1 0-1.06ZM14.889 3.266c-.13-.355-.648-.355-.778 0l-.893 2.44a.407.407 0 0 1-.264.247l-2.166.663a.396.396 0 0 0 0 .762l2.166.669c.123.038.22.13.264.247l.893 2.44c.13.355.648.355.778 0l.893-2.44a.407.407 0 0 1 .264-.247l2.166-.666a.396.396 0 0 0 0-.762l-2.166-.666a.407.407 0 0 1-.264-.247l-.893-2.44Z",clipRule:"evenodd"})}))}},69010:(e,n,t)=>{"use strict";t.d(n,{SS:()=>S,UI:()=>w,dt:()=>_});var r=t(29935),a=t(82643),i=t(34837),o=t(82315),s=t(59270),l=t(62684),u=t(39534),c=t(70764),d=t(18712),f=t(32289),p=t(91953),h=t(25227),m=t(72643),v=t(88589),g=(0,c.x)({root:[{userSelect:"none"}],header:[{fontSize:u.LU.fontSizeSmall,opacity:.6},d.wp.color.foregroundDimmest,d.wp.truncate],fileName:[d.wp.truncate,d.wp.flex.row]});function b(e){var n=e.height,t=e.active,r=e.match,a=r.directory,o=r.filename,s=e.description;return(0,i.FD)(h.S,{css:g.root,grow:!0,shrink:!0,px:8,row:!0,gap:8,align:"center",style:{height:n},children:[(0,i.Y)(f.A,{path:o.text,size:16}),(0,i.FD)(h.S,{gap:0,children:[a?(0,i.Y)(h.S,{css:g.header,children:(0,i.Y)(v.e,{text:a.text+"/",highlight:a.ranges,dimmed:!t})}):null,(0,i.FD)(h.S,{row:!0,gap:8,align:"center",children:[(0,i.Y)(h.S,{css:g.fileName,children:(0,i.Y)(v.e,{text:o.text,highlight:o.ranges,dimmed:!t})}),(0,i.Y)(p.EY,{variant:"small",color:"dimmest",children:s})]})]})]})}var y={match:o.fq,forward:!1,tiebreakers:[function(e,n,t){var r=t(e.item),a=t(n.item),i=r.lastIndexOf("/"),o=a.lastIndexOf("/"),s=Array.from(e.positions).filter(function(e){return e>i}).length;return Array.from(n.positions).filter(function(e){return e>o}).length-s},function(e,n,t){return t(e.item).trim().length-t(n.item).trim().length}]};function w(e,n){return(0,r._)(function(){var t,r;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,new o.$S(n,y).find(e)];case 1:return t=a.sent().map(function(e){return{path:e.item,score:Math.floor(e.score*m.B.files),ranges:(0,l.WJ)(e.positions)}}),[2,(r=(0,l.hS)({queryLength:e.length}))?t.filter(function(e){return e.score>=r}):t]}})})()}function _(e){var n=e.ranges,t=e.path,r=(0,s.WP)(t),a=(0,s._6)(t);if(!a)return{filename:{text:r,ranges:n.length?n:void 0}};var i=a.length,o=i+1,l=[],u=[],c=!0,d=!1,f=void 0;try{for(var p,h=n[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=p.value;if(m.from<i){l.push({from:m.from,to:Math.min(m.to,i)});var v=m.to-o;if(v<=0)continue;u.push({from:0,to:v});continue}m.from<o||u.push({from:m.from-o,to:m.to-o})}}catch(e){d=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(d)throw f}}return{filename:{text:r,ranges:u.length?u:void 0},directory:{text:a,ranges:l.length?l:void 0}}}function S(e){var n=e.path,t=e.ranges,r=e.description,a=_({path:n,ranges:null!=t?t:[]}),o=a.directory?44:32;return{height:o,content:(0,i.Y)(b,{match:a,height:o,description:r})}}},69086:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});var r=t(37743),a=t(22531),i=function(){function e(){(0,r._)(this,e)}return e.get=function(e,n){var t,r;try{t=sessionStorage.getItem(e)}catch(e){}if(null==t)return null;try{r=JSON.parse(t)}catch(e){}return null==r||"array"===n&&!Array.isArray(r)||n&&(void 0===r?"undefined":(0,a._)(r))!==n?null:r},e.set=function(e,n){try{sessionStorage.setItem(e,JSON.stringify(n))}catch(e){}},e.remove=function(e){try{sessionStorage.removeItem(e)}catch(e){}},e.keys=function(){try{return Object.keys(sessionStorage)}catch(e){return[]}},e}()},69424:(e,n,t)=>{"use strict";t.d(n,{r:()=>s});var r=t(40185),a=t(21462),i=t(96513),o=t(47737);function s(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOrg:!1}).isOrg,n=(0,r.useRouter)(),t=(0,o.ME)(n,"stripePayment");return(0,a.useMemo)(function(){return t&&!e?[i.S4P.RequiresUnbanning]:[i.S4P.RequiresUnbanning,i.S4P.RequiresPaymentMethod,i.S4P.PaymentDelinquent,i.S4P.InsufficientBudget]},[t,e])}},69427:(e,n,t)=>{"use strict";t.d(n,{o:()=>M});var r=t(34837),a=t(56066),i=t(29935),o=t(12694),s=t(82643),l=t(14683),u=t(17844),c=t(12584),d=t(41114),f=t(54744),p=t(39590);function h(){var e=(0,c._)(["\n  query ConnectorByName($connectorName: String!) {\n    getUserConnectorByName(connectorName: $connectorName) {\n      ... on UserConnector {\n        type\n        name\n        connectionSettings\n      }\n    }\n  }\n"]);return h=function(){return e},e}function m(){var e=(0,c._)(["\n  query GetConnectionKeys($input: GetConnectionKeysInput!) {\n    getConnectionKeys(input: $input) {\n      ... on ConnectionKeys {\n        settings\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return m=function(){return e},e}function v(){var e=(0,c._)(["\n  mutation UpdateApiKeyConnection($input: UpdateApiKeyConnectionInput!) {\n    updateApiKeyConnection(input: $input) {\n      ... on UpdateApiKeyConnectionResult {\n        connectionId\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return v=function(){return e},e}var g={},b=(0,d.J1)(h()),y=(0,d.J1)(m()),w=(0,d.J1)(v()),_=t(31980),S=t(35897),A=t(33973),k=t(91953),C=t(25227),Y=t(12263);function E(e){var n,t,a,c,d,h,m,v,E,x=e.connection,T=(0,S.A)(),D=T.showConfirm,I=T.showError,R=(n={variables:{connectorName:null!=(E=x.connectorName)?E:""}},t=(0,u._)({},g,n),f.I(b,t)),N=R.data,O=R.loading,P=R.error,F=(a={variables:{input:{connectionId:x.connectionId,connectorName:x.connectorName}},skip:!x.connectionId||!x.connectorName},c=(0,u._)({},g,a),f.I(y,c)),U=F.data,L=F.loading,M=F.error,J=(0,o._)((d={onCompleted:function(e){"UpdateApiKeyConnectionResult"===e.updateApiKeyConnection.__typename?D("Connector has been successfully updated"):"UserError"===e.updateApiKeyConnection.__typename&&I(e.updateApiKeyConnection.message)},onError:function(){I("Failed to update connection. Please try again.")},refetchQueries:[l.wZ,y]},h=(0,u._)({},g,d),p.n(w,h)),2),H=J[0],B=J[1],V=B.loading,$=B.error,G=null==N||null==(m=N.getUserConnectorByName)?void 0:m.connectionSettings,z=(null==U||null==(v=U.getConnectionKeys)?void 0:v.__typename)==="ConnectionKeys"?U.getConnectionKeys.settings:{};return O||L?(0,r.Y)(Y.A,{}):(0,r.FD)(C.S,{gap:12,children:[(0,r.FD)(C.S,{pt:8,gap:4,children:[(0,r.Y)(k.EY,{variant:"text",children:"Connector Configuration"}),(0,r.FD)(k.EY,{variant:"small",color:"dimmer",children:["Update your ",x.displayName," settings."]})]}),$?(0,r.Y)(_.A,{children:$.message}):null,G?(0,r.Y)(A.Y,{jsonSchema:G,formData:z,formContext:x,hideSubmitButton:!1,hideSensitiveFields:!1,onSubmit:function(e){return(0,i._)(function(){return(0,s.YH)(this,function(n){switch(n.label){case 0:return[4,H({variables:{input:{connectionId:x.connectionId,config:e}}})];case 1:return n.sent(),[2]}})})()},disabled:V,submitButtonText:"Update"}):(0,r.Y)(k.EY,{color:"dimmer",children:"No configuration available"}),P||M?(0,r.Y)(k.EY,{color:"default",variant:"small",children:(null==P?void 0:P.message)||(null==M?void 0:M.message)}):null]})}var x=t(87678),T=t(40756),D=t(16653),I=t(73455),R=t(99933),N=t(3937),O=t(9797),P=t(33759),F=t(95526),U=t(48438),L=t.n(U),M=function(e){var n,t,i,o,s=e.connection,l=e.onBack,u=e.onDelete;return(0,r.FD)(C.S,{align:"start",children:[(0,r.Y)(C.S,{pb:32,pt:16,row:!0,children:(0,r.Y)(T.$n,{size:"small",variant:"outlined",onClick:l,iconLeft:(0,r.Y)(P.A,{}),text:"Back",stretch:!1})}),(0,r.Y)(C.S,{pb:16,align:"start",children:(0,r.Y)(N.ui,{p:4,elevated:!0,clsx:L().imageContainer,children:(0,r.Y)(O.A,{width:36,height:36,src:null!=(n=s.iconPath)?n:"",alt:s.displayName})})}),(0,r.FD)(C.S,{justify:"space-between",row:!0,align:"center",clsx:L().header,children:[(0,r.Y)(k.EY,{variant:"headerDefault",multiline:!1,children:s.displayName}),(0,r.Y)(R.in,{"aria-label":"Manage integration",trigger:(0,r.Y)(I.K0,{alt:"Manage integration",children:(0,r.Y)(F.A,{})}),children:(0,r.Y)(R.Dr,{id:"delete-".concat(s.connectionId),label:"Delete",isDestructive:!0,onAction:u})})]}),(0,r.Y)(D.a,{clsx:L().divider}),(0,r.FD)(C.S,{gap:16,className:L().tabsContainer,children:["api_key"===s.type?(0,r.Y)(E,{connection:s}):(0,r.FD)(C.S,{gap:12,children:[(0,r.FD)(C.S,{pt:8,gap:4,children:[(0,r.Y)(k.EY,{variant:"text",children:"Connector Scopes"}),(0,r.Y)(k.EY,{variant:"small",color:"dimmer",children:"Scopes are permission mechanisms that define what specific resources and actions an API client is authorized to access when making requests."})]}),(0,r.Y)(x.x,{isDisabled:!0,availableScopes:null!=(t=s.scopes)?t:[],selectedScopes:null!=(i=s.scopes)?i:[],onChange:function(){}})]}),(0,r.FD)(C.S,{className:L().replSection,pt:8,gap:12,children:[(0,r.FD)(C.S,{pt:8,gap:4,children:[(0,r.Y)(k.EY,{variant:"text",children:"Connected Apps"}),(0,r.Y)(k.EY,{variant:"small",color:"dimmer",children:"Apps using this connector. Disconnecting may cause Apps to behave unexpectedly."})]}),(0,r.Y)(a.s,{repls:null!=(o=s.repls)?o:[]})]})]})]})}},69522:(e,n,t)=>{"use strict";t.d(n,{A:()=>N});var r=t(34837),a=t(72096),i=t.n(a),o=t(12694),s=t(90629),l=t(17844),u=t(12584),c=t(41114),d=t(39590),f=t(66246);function p(){var e=(0,u._)(["\n  mutation RemoveMultiplayerUser($replId: String!, $username: String!) {\n    removeMultiplayerUser(replId: $replId, username: $username) {\n      id\n      user {\n        id\n        ...MultiplayerUser\n      }\n      repl {\n        id\n        collaborators {\n          user {\n            ...MultiplayerUser\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function h(){var e=(0,u._)(["\n  mutation DeleteMultiplayerInvite($replId: String!, $email: String!) {\n    deleteMultiplayerInvite(replId: $replId, email: $email) {\n      ... on MultiplayerInvite {\n        email\n        type\n        repl {\n          id\n          collaborators {\n            user {\n              ...MultiplayerUser\n            }\n          }\n          multiplayerInvites {\n            email\n            type\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return h=function(){return e},e}var m={},v=(0,c.J1)(p(),f._9),g=(0,c.J1)(h(),f._9),b=t(71125),y=t(35897);let w=function(){var e,n,t,r,a=(0,y.A)(),i=a.showConfirm,u=a.showError,c=(0,b.X)(),f=function(e,n){s.ZQ({message:n}),s.Cp(Error(e.message)),u("Something unexpected happened, please try again.")},p=(0,o._)((e={onError:function(e){return f(e,"useRemoveMultiplayerUser")},onCompleted:function(e){var n,t=null==(n=e.removeMultiplayerUser.user)?void 0:n.username;t?i("@".concat(t," removed")):i("User removed"),"data"===c.type&&c.refetch()}},n=(0,l._)({},m,e),d.n(v,n)),2),h=p[0],w=p[1].loading,_=(0,o._)((t={onError:function(e){return f(e,"useDeleteMultiplayerInviteMutation")},onCompleted:function(e){if("UserError"===e.deleteMultiplayerInvite.__typename)return void u(e.deleteMultiplayerInvite.message);if("MultiplayerInvite"===e.deleteMultiplayerInvite.__typename){var n=e.deleteMultiplayerInvite.email;i("Invite canceled for ".concat(n))}}},r=(0,l._)({},m,t),d.n(g,r)),2);return{removeMultiplayerUser:h,loadingRemoveUser:w,deleteMultiplayerInvite:_[0],loadingDeleteInvite:_[1].loading}};var _=t(81962),S=t(39534),A=t(70764),k=t(18712),C=t(73455),Y=t(91953),E=t(66341),x=t(25227),T=t(62946),D=t(74286),I=t(70399),R=(0,A.x)({root:[k.wp.cursor.default,k.wp.justify.spaceBetween],userContainer:[k.wp.viewStyle,k.wp.color.foregroundDefault],userContainer_pending:[k.wp.flex.grow(1),k.wp.flex.row,k.wp.rowWithGap(8),k.wp.align.center,{fontStyle:"italic"}]});let N=function(e){var n,t=e.isPendingInvitation,a=e.canEditMultiplayers,o=e.replId,s=w(),l=s.removeMultiplayerUser,u=s.loadingRemoveUser,c=s.deleteMultiplayerInvite,d=s.loadingDeleteInvite,f=!t,p=f?(0,r.Y)(T.A,{size:"m",url:e.user.image,username:e.user.username,fullName:e.user.fullName}):(0,r.Y)(D.A,{color:S.LU.outlineDefault,size:32}),h=f?e.user.username:e.email;return(0,r.FD)(x.S,{css:R.root,px:16,py:4,row:!0,gap:8,align:"center",children:[f?(0,r.Y)(_.A,{username:e.user.username,children:(0,r.Y)(i(),{href:"/@".concat(e.user.username),css:R.userContainer,children:(0,r.Y)(E.K,{username:e.user.username,src:null!=(n=e.user.image)?n:null})})}):(0,r.FD)(x.S,{css:[R.userContainer_pending],children:[p,(0,r.Y)(Y.EY,{color:f?"default":"dimmest",multiline:!1,children:h})]}),(0,r.FD)(x.S,{row:!0,gap:8,align:"center",children:[(0,r.Y)(Y.EY,{color:"dimmest",variant:"small",multiline:!1,children:e.isPendingInvitation?"Invited":"Can edit"}),a?(0,r.Y)(C.K0,{alt:f?"Remove member":"Cancel invitation",onClick:function(){a&&(u||d||(f?l({variables:{replId:o,username:e.user.username}}):c({variables:{replId:o,email:e.email}})))},children:(0,r.Y)(I.A,{size:12})}):null]})]})}},69805:(e,n,t)=>{"use strict";t.d(n,{_:()=>s});var r=t(34837),a=t(99933),i=t(16935),o=t(55929);function s(e){var n=e.prefix,t=void 0===n?"Send message":n,s=e.onClick;return(0,r.FD)(a.W1,{children:[(0,r.Y)(a.Dr,{icon:(0,r.Y)(i.A,{}),label:"".concat(t," in current chat"),onAction:function(){return s({createNewSession:!1})}}),(0,r.Y)(a.Dr,{icon:(0,r.Y)(o.A,{}),label:"".concat(t," in new chat"),onAction:function(){return s({createNewSession:!0})}})]})}},69806:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M1.012 18.902h1.784l1.413-3.98H9.89l1.413 3.98h1.783L7.928 4.852H6.172l-5.16 14.05Zm8.343-5.489-2.25-6.339h-.11l-2.25 6.34h4.61ZM16.34 18.772c.544.251 1.15.377 1.818.377.613 0 1.132-.091 1.557-.274.425-.183.766-.405 1.022-.666.257-.26.44-.505.55-.734h.082v1.427h1.619v-6.943c0-.837-.137-1.505-.412-2.004-.274-.498-.62-.87-1.036-1.118a3.733 3.733 0 0 0-1.283-.487 6.416 6.416 0 0 0-1.166-.123c-.53 0-1.07.073-1.62.22a4.114 4.114 0 0 0-1.509.754c-.457.357-.823.855-1.098 1.495l1.537.55c.179-.385.487-.746.927-1.085.439-.338 1.045-.507 1.818-.507.745 0 1.3.187 1.667.562.37.375.556.901.556 1.578v.055c0 .26-.094.444-.282.549-.183.105-.476.18-.878.226-.398.041-.917.103-1.557.186-.49.064-.977.15-1.462.26-.48.105-.919.266-1.317.48a2.518 2.518 0 0 0-.954.892c-.238.376-.356.865-.356 1.469 0 .686.16 1.271.48 1.756.32.48.752.848 1.297 1.105Zm3.684-1.455c-.44.252-.979.378-1.62.378-.644 0-1.177-.142-1.598-.426-.416-.288-.624-.713-.624-1.276 0-.412.11-.736.33-.974.223-.243.516-.423.877-.542.366-.124.76-.213 1.18-.268.174-.023.4-.05.68-.082.283-.037.574-.078.87-.124.303-.05.568-.107.797-.171.233-.069.384-.144.453-.227v1.482a2.569 2.569 0 0 1-1.345 2.23Z",clipRule:"evenodd"})}))}},70217:(e,n,t)=>{"use strict";t.d(n,{k:()=>s});var r=t(34837),a=t(96809),i=t(34778),o=t(70251);function s(e){var n=e.shouldShowUpgradeModal,t=e.isUpgrading,s=e.onUpgradeConfirm,l=e.onUpgradeCancel,u=e.onClose;return(0,r.Y)(o.a,{isOpen:n,onRequestClose:function(){(0,i.u4)(i.AZ.VISUAL_EDITOR_UPGRADE_ACTION,{action:"closed"}),u()},centered:!0,maxWidth:450,children:(0,r.Y)(a.A,{title:"Update Required",confirmLabel:"Update",loading:t,onConfirm:function(){(0,i.u4)(i.AZ.VISUAL_EDITOR_UPGRADE_ACTION,{action:"confirmed"}),s()},onCancel:function(){(0,i.u4)(i.AZ.VISUAL_EDITOR_UPGRADE_ACTION,{action:"cancelled"}),l()},children:"This app needs to be updated to use the latest version of the visual editor tool. This will restart the application. Would you like to update it now?"})})}},70450:(e,n,t)=>{"use strict";t.d(n,{BL:()=>D,D6:()=>C,E2:()=>Y,Ff:()=>F,Gg:()=>$,H_:()=>O,Ou:()=>w,PY:()=>v,Vr:()=>m,bO:()=>I,cW:()=>x,d_:()=>h,h:()=>_,hF:()=>P,hQ:()=>T,hq:()=>B,n5:()=>R,ob:()=>y,ov:()=>k,q3:()=>J,rD:()=>L,tB:()=>g,wy:()=>E,xB:()=>A});var r=t(83846),a=t(17844),i=t(93629),o=t(12694),s=t(56902),l=t(21462),u=t(35992),c=t(76957),d=t(79203),f=t(26325),p=t(45772),h=function(e){return e.Uninitialized="Uninitialized",e.Initializing="Initializing",e.Installing="Installing",e.Uninstalling="Uninstalling",e.Idle="Idle",e}({}),m=function(e){return e.Install="Install",e.Uninstall="Uninstall",e}({});function v(){return(0,o._)((0,l.useState)(function(){return(0,c.y$)()}),1)[0]}var g=(0,l.createContext)(null);function b(){var e=(0,l.useContext)(g);if(!e)throw Error("Expected store in context");return e}var y=function(e){return(0,d.Xr)(e,{store:b()})};function w(e){return(0,f.yF)((0,l.useCallback)(function(n){return n(e)},[e]),{store:b()})}function _(e){return(0,d.md)(e,{store:b()})}var S=(0,c.eU)({});function A(e){var n,t=_(S);return e&&null!=(n=t[e])?n:[]}function k(){var e=y(S);return function(n,t){e(function(e){return(0,u.jM)(e,function(e){var r=e[n];if(!r||0===r.length){e[n]=t;return}var a=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(a=(s=l.next()).done);a=!0)!function(){var e=s.value;r.find(function(n){return n.name===e.name})||r.push(e)}()}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}})})}}function C(){var e=y(S);return function(n,t){e(function(e){return(0,u.jM)(e,function(e){var r=e[n];if(r&&0!==r.length){var a=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(a=(s=l.next()).done);a=!0)!function(){var e=s.value,n=r.findIndex(function(n){return n.name===e.name});-1!==n&&r.splice(n,1)}()}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}}})})}}var Y=(0,c.eU)({});function E(){var e=w(Y);return function(n){var t;return null!=(t=e()[n])?t:null}}function x(){var e=y(Y);return function(n,t){e(function(e){return(0,i._)((0,a._)({},e),(0,r._)({},n,t))})}}var T=(0,c.eU)(null);function D(){return _(T)}var I=(0,c.eU)([]);function R(){return _(I)}var N=(0,c.eU)({});function O(e){var n,t=_(N);return e&&null!=(n=t[e])?n:[]}function P(){var e=w(N);return function(n){var t;return null!=(t=e()[n])?t:[]}}function F(){var e=y(N);return function(n,t){e(function(e){return(0,i._)((0,a._)({},e),(0,r._)({},n,t.map(function(e){return"nix"===n?(0,i._)((0,a._)({},e),{name:(0,p.y)(e.name)}):e})))})}}var U=(0,c.eU)(null,function(e,n,t){var r=t.id,a=t.pkg;if(!a.name)throw Error("Package does not have a name.");n(I,function(e){return(0,u.jM)(e,function(e){if(!e.find(function(e){return e.pkgs.find(function(n){return e.id===r&&n.name===a.name})})){var n=e.find(function(e){return"Install"===e.kind});n?n.pkgs.push(a):e.push({kind:"Install",id:r,pkgs:[a]})}})})});function L(){return y(U)}var M=(0,c.eU)(null,function(e,n,t){var r=t.id,a=t.pkg;if(!a.name)throw Error("Package does not have a name.");n(I,function(e){return(0,u.jM)(e,function(e){if(!e.find(function(e){return e.pkgs.find(function(n){return e.id===r&&n.name===a.name})})){var n=e.find(function(e){return"Uninstall"===e.kind});n?n.pkgs.push(a):e.push({kind:"Uninstall",id:r,pkgs:[a]})}})})});function J(){return y(M)}var H=(0,c.eU)(null,function(e,n,t){var r=(0,s._)(e(I)),a=r[0],i=r.slice(1);t===a&&(n(I,i),n(T,t))});function B(){return y(H)}var V=(0,c.eU)(null,function(e,n,t){n(I,function(e){return(0,u.jM)(e,function(e){var n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value,l=s.pkgs.findIndex(function(e){return e.name===t});-1!==l&&s.pkgs.splice(l,1)}}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}})})});function $(){return y(V)}},70537:(e,n,t)=>{"use strict";t.d(n,{J4:()=>v,X5:()=>w,ZO:()=>b,cn:()=>y,gv:()=>g});var r=t(25687),a=t(80719),i=t(69832),o=t(48373),s=t(40115),l=t(55157),u=t(69893),c=t(8086),d=t(42811),f=t(63591),p=t(90984),h=t(66186);function m(e){return e[e.length-1]}var v=function(e){return e.WORKSPACE_CONNECTING="WORKSPACE_CONNECTING",e.WORKSPACE_RECONNECTING="WORKSPACE_RECONNECTING",e.NIX_IS_BROKEN="NIX_IS_BROKEN",e.SERVICES_LOADING="SERVICES_LOADING",e.GALLERY_PREVIEW="GALLERY_PREVIEW",e.APP_CRASHED_AGENT_WORKING="APP_CRASHED_AGENT_WORKING",e.APP_CRASHED_AGENT_IDLE="APP_CRASHED_AGENT_IDLE",e.APP_NOT_RUNNING_AGENT_WORKING="APP_NOT_RUNNING_AGENT_WORKING",e.APP_NOT_RUNNING_AGENT_IDLE="APP_NOT_RUNNING_AGENT_IDLE",e.APP_STARTING_AGENT_WORKING="APP_STARTING_AGENT_WORKING",e.APP_STARTING_AGENT_IDLE="APP_STARTING_AGENT_IDLE",e.READY="READY",e.LAST_RESORT_RUNNING_NO_PORT="LAST_RESORT_RUNNING_NO_PORT",e.LAST_RESORT_READY="LAST_RESORT_READY",e}({});function g(){return{hasGalleryPreviewPortAvailable:(0,l.L)()}}function b(){return g().hasGalleryPreviewPortAvailable?{type:"GALLERY_PREVIEW"}:{type:"NONE"}}function y(){var e=(0,c.A)(),n=e.didConnectOnce,t=e.didDisconnect,l=(0,d.NT)(),v=(0,f.lO)(),g=(0,f.If)(),b=(0,s.A)().ports,y=(0,o.A)(b.portsState),w=(0,h.sz)(),_=(0,a.NC)(),S=(0,i.Rj)(function(){return _.sessions.agent.current},[_.sessions],{default:void 0}),A=(0,u.P)(S),k=(0,u.W)(null==A?void 0:A.phase),C=null!==y&&!1===v.isWorkflowsLoading,Y=Object.values(null!=g?g:{}).filter(function(e){return"agent"===e.workflow.author&&e.tasks.some(function(e){return"shell.exec"===e.config.task})}).sort(function(e,n){return e.startTime-n.startTime}),E=Y.filter(function(e){return e.step===r.zY.RUNNING}),x=E.length>0?E:Y,T=x.flatMap(function(e){return e.tasks.map(function(n){return{task:n,runId:e.runId}})}).filter(function(e){return"shell.exec"===e.task.config.task}).filter(function(e){var n,t;return null==(t=e.task.metadata)||null==(n=t.openPorts)?void 0:n.some(function(e){return e.forwarded})}),D=T.length>0,I=D?null==g?void 0:g[T[0].runId]:m(x),R=m(Object.values(null!=g?g:{}).filter(function(e){return"agent"!==e.workflow.author&&e.step===r.zY.RUNNING&&e.tasks.some(function(e){var n;return(null==(n=e.metadata)?void 0:n.task)==="shell.exec"})}).sort(function(e,n){return e.startTime-n.startTime})),N=(0,p.w)();return{areNecessaryServicesReady:C,didConnectOnce:n,didDisconnect:t,hasAgentWorkflowOpenedAPort:D,isAgentWorking:w,isInInitialBuild:k,lastResortWorkflowThatRuns:R,latestWorkflowRunStateForAgentTask:I,nixError:l,presentWebsiteResultEvent:(0,i.Rj)(function(){return null==N?void 0:N.scan(function(e,n){var t,r;return(null==(t=n.toPresent)?void 0:t.toolData.$kind)==="presentResultsToolData"&&"website"===n.toPresent.toolData.data.resultType?null==(r=n.toPresent)?void 0:r.toolData.data:e},void 0)},[N])}}function w(){var e=b(),n=y(),t=n.areNecessaryServicesReady,a=n.didConnectOnce,i=n.didDisconnect,o=n.hasAgentWorkflowOpenedAPort,s=n.isAgentWorking,l=n.isInInitialBuild,u=n.lastResortWorkflowThatRuns,c=n.latestWorkflowRunStateForAgentTask,d=n.nixError,f=n.presentWebsiteResultEvent;if(!a)return{state:"WORKSPACE_CONNECTING"};if(i)return{state:"WORKSPACE_RECONNECTING"};if((null==d?void 0:d.status)==="error"||(null==d?void 0:d.status)==="rebuilding-after-error")return{state:"NIX_IS_BROKEN",nixError:d};if(!t)return{state:"SERVICES_LOADING"};if("GALLERY_PREVIEW"===e.type)return{state:"GALLERY_PREVIEW"};if(void 0!==u&&void 0===c){var p,h,m,v=null==(p=u.tasks)?void 0:p.find(function(e){var n,t,r;return!!((null==(n=e.metadata)?void 0:n.task)==="shell.exec"&&(null==(r=e.metadata)||null==(t=r.openPorts)?void 0:t.some(function(e){return e.forwarded})))}),g=null==v||null==(m=v.metadata.openPorts)||null==(h=m.find(function(e){return e.forwarded}))?void 0:h.externalPort;return g?{state:"LAST_RESORT_READY",externalPort:g}:{state:"LAST_RESORT_RUNNING_NO_PORT"}}if((null==c?void 0:c.step)===r.zY.FAILED){var w=c.runId;return s?{state:"APP_CRASHED_AGENT_WORKING",crashedRunId:w}:{state:"APP_CRASHED_AGENT_IDLE",crashedRunId:w}}if((null==c?void 0:c.step)!==r.zY.RUNNING)if(s||l)return{state:"APP_NOT_RUNNING_AGENT_WORKING"};else return{state:"APP_NOT_RUNNING_AGENT_IDLE"};if(c.step===r.zY.RUNNING&&!o)if(s)return{state:"APP_STARTING_AGENT_WORKING"};else return{state:"APP_STARTING_AGENT_IDLE"};return{state:"READY",presentPort:null==f?void 0:f.websitePort,presentRoute:null==f?void 0:f.websiteRoute}}},70609:e=>{e.exports={stageCode:"ValidatingDiffStatementsPaused_stageCode__Kak3H",option:"ValidatingDiffStatementsPaused_option__NIkVr",optionLabel:"ValidatingDiffStatementsPaused_optionLabel__cgWeP"}},70736:e=>{e.exports={selectorBar:"DatabaseSelectorBar_selectorBar__ZO_9G"}},70918:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(21462),a=t(96907),i=t.n(a),o=t(88233);function s(e){!function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;(0,r.useEffect)(function(){if(null!=n)return n.portsState.subscribe(i()(function(n){if(null!=n){var t=!0,r=!1,a=void 0;try{for(var i,o=n[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;if(s.isOpen&&!s.configuration.isVnc)return void e.set(!0)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}e.set(!1)}},t))},[n,e,t])}((0,o.Av)(),e)}},71125:(e,n,t)=>{"use strict";t.d(n,{X:()=>f});var r=t(17844),a=t(93629),i=t(86105),o=t(12584),s=t(41114),l=t(54744);function u(){var e=(0,o._)(['\n  query PersonalCollaboratorGate {\n    currentUser {\n      id\n      isSubscribed\n      username\n      shouldEnforceMultiplayerLimit: gate(feature: "flag-empty-hangar")\n      personalCollaborators {\n        ... on PersonalCollaboratorsInfo {\n          count\n          limit\n          collaborators {\n            repl {\n              id\n              slug\n              url\n              title\n              nextPagePathname\n              iconUrl\n            }\n            user {\n              id\n              username\n            }\n          }\n        }\n      }\n    }\n  }\n']);return u=function(){return e},e}var c={},d=(0,s.J1)(u()),f=function(){var e,n,t,o=(e={ssr:!1,fetchPolicy:"network-only"},n=(0,r._)({},c,e),l.I(d,n)),s=o.data,u=o.loading,f=o.refetch;if(u)return{type:"loading"};if(s&&(null==s||null==(t=s.currentUser)?void 0:t.personalCollaborators.__typename)==="PersonalCollaboratorsInfo"){var p=s.currentUser,h=p.personalCollaborators,m=h.count,v=h.limit,g=h.collaborators,b=p.isSubscribed,y=p.shouldEnforceMultiplayerLimit,w=p.username;return{type:"data",refetch:f,collaboratorCount:m,collaboratorLimit:v,collaboratorsByRepl:g.reduce(function(e,n){var t,o=n.repl,s=n.user,l=null!=(t=e.get(o.id))?t:{id:o.id,slug:o.slug,url:o.url,title:o.title,nextPagePathname:o.nextPagePathname,iconUrl:o.iconUrl,__typename:o.__typename,users:[]};return e.set(o.id,(0,a._)((0,r._)({},l),{users:(0,i._)(l.users).concat([{id:s.id,username:s.username}])})),e},new Map),isStarterUser:!b,username:w,shouldEnforceMultiplayerLimit:y}}return{type:"error"}}},71132:(e,n,t)=>{"use strict";t.d(n,{tz:()=>X,SF:()=>S,EF:()=>z});var r=t(83846),a=t(53847),i=t(17844),o=t(34837),s=t(21462),l=t(73321),u=t(47414),c=t(14229),d=t(35992),f=t(76957),p=t(69737),h=t(12694),m=t(79203),v=t(56813),g=(0,s.createContext)(null);function b(){var e=(0,s.useContext)(g);if(!e)throw Error("Expected store in context");return e}function y(e){return(0,m.md)(e,{store:b()})}function w(e){return(0,v.k)(e,b())}var _=function(e){return(0,m.Xr)(e,{store:b()})};function S(e){var n=(0,h._)((0,s.useState)(function(){return(0,f.y$)()}),1)[0];return(0,o.Y)(g.Provider,{value:n,children:e.children})}var A=(0,t(19944).v)(["display","visibility","transform","maxHeight","width"]),k=A.cssVars,C=A.styleTokens,Y=t(39534),E=t(3937),x=(0,f.eU)(null),T=(0,f.eU)("default"),D=(0,f.eU)({command:null,offset:{x:0,y:0},visible:!1}),I=(0,p.mg)(D,function(e){return e.offset}),R=(0,p.mg)(D,function(e){return e.command}),N=(0,p.mg)(D,function(e){return e.visible}),O=(0,p.mg)(D,function(e){return e.onKeyDownHandler}),P=(0,p.mg)(x,function(e){var n;return null!=(n=null==e?void 0:e.initial)?n:null}),F=(0,f.eU)(function(e){var n=e(I);if(!n)return null;var t=n.y,r=window.innerHeight-t,a=e(P),i=null!==a?a-r:0;return i>0&&(t=Math.max(16,t-Math.min(200,i))),t}),U=(0,f.eU)(function(e){var n=e(I);if(!n)return null;var t=n.x,r=window.innerWidth,a=e(M),i=t+(null!=a?a:J)-r+16;return i>0&&(t=Math.max(16,t-i)),t}),L=(0,f.eU)(function(e){var n=e(U),t=e(F);return null==n||null===t?null:(0,r._)({},k.transform,"translate(".concat(n,"px, ").concat(t,"px)"))}),M=(0,f.eU)(null),J=180,H=(0,f.eU)(function(e){var n=e(M);return(0,r._)({},k.width,(null===n?J:n)+"px")}),B=(0,f.eU)(function(e){var n=e(F);return null===n?null:(0,r._)({},k.maxHeight,"calc(100vh - ".concat(Y.LU.space16," - ").concat(n,"px)"))}),V=(0,f.eU)(null,function(e,n){n(x,null),n(M,null),n($,null),n(D,function(e){return(0,d.jM)(e,function(e){e.visible=!1,e.command=null})})}),$=(0,f.eU)(null),G=(0,f.eU)(null,function(e,n,t){if(n(T,t.background),t.width&&n(M,t.width),t.target){var r=t.target.getBoundingClientRect(),a={x:r.x,y:r.y+r.height+8};n($,r),n(D,function(e){return(0,d.jM)(e,function(e){e.command=t.command,e.offset=a,e.visible=!0,e.onKeyDownHandler=t.onKeyDownHandler})});return}n(D,function(e){return(0,d.jM)(e,function(e){e.command=t.command,e.offset=t.offset,e.visible=!0,e.onKeyDownHandler=t.onKeyDownHandler})})});function z(){var e=_(G),n=_(V),t=w(N),r=(0,E.X$)({elevated:!0});return{openContextMenu:(0,s.useCallback)(function(n){e((0,a._)(n.target,HTMLElement)?{command:n.command,target:n.target,width:n.width,background:r,onKeyDownHandler:n.onKeyDownHandler}:{command:n.command,offset:n.target,target:null,width:n.width,background:r,onKeyDownHandler:n.onKeyDownHandler})},[e,r]),closeContextMenu:n,isVisible:t,onContextMenu:(0,s.useCallback)(function(n,t){var a=t.command,i=t.width,o=t.onKeyDownHandler;n.preventDefault(),e({command:a,offset:{x:n.clientX,y:Math.min(window.innerHeight-64,n.clientY)},target:null,width:i,background:r,onKeyDownHandler:o})},[e,r])}}var W=t(70764),j=t(18712),q=t(36946),Z=t(95391),K=(0,W.x)({surface:[j.wp.shadow(3),j.wp.borderRadius(8),j.wp.position.absolute,{top:0,left:0,border:"1px solid",borderColor:Y.LU.outlineDefault,maxWidth:"min(500px, calc(100vw - ".concat(Y.LU.space16,"))"),minWidth:"min(100px, calc(100vw - ".concat(Y.LU.space16,"))"),maxHeight:C.maxHeight,width:C.width,transform:C.transform,visibility:C.visibility,display:C.display}]});function Q(){var e=y($);return e?(0,o.Y)("div",{style:{position:"fixed",width:e.width,height:e.height,top:e.y,left:e.x}}):null}var X=(0,s.memo)(function(){var e=_(V),n=y(R),t=y(O),d=w(N),f=(0,s.useRef)(function(){});(0,s.useEffect)(function(){var e=function(e){if(e){var n;null==(n=f.current)||n.call(f);return}};return e(d.current),d.subscribe(e)},[d]);var p=_(x),h=(0,s.useRef)(null);(0,s.useEffect)(function(){var n=function(n){var t;(0,a._)(n.target,HTMLElement)&&(null==(t=h.current)?void 0:t.contains(n.target))||e()},t=function(){e()},r=function(e){e?(window.addEventListener("blur",t),document.addEventListener("pointerdown",n)):(window.removeEventListener("blur",t),document.removeEventListener("pointerdown",n))},i=d.subscribe(r);return function(){i(),r(!1)}},[d,e]);var m=w(L);(0,c.d)(h,m),(0,c.d)(h,w(B)),(0,c.d)(h,d,function(e){var n;return n={},(0,r._)(n,k.visibility,e?"visible":"hidden"),(0,r._)(n,k.display,e?"flex":"none"),n});var v=w(H);(0,c.d)(h,v);var g=(0,u.A)(),b=y(N)&&!g,S=y(T),A=(0,i._)({},m.current,v.current);return n?(0,o.FD)(q.Z,{children:[(0,o.Y)(Q,{}),(0,o.Y)(l.n1,{autoFocus:b,restoreFocus:!0,contain:!0,children:(0,o.Y)(E.ui,{onKeyDown:function(n){"Escape"===n.key&&e()},innerRef:h,css:K.surface,style:A,background:S,children:(0,o.Y)(Z.r,{iconBreadcrumbs:!0,command:n,onAction:e,onSelect:e,onTotalHeightChange:p,onKeyDown:t,focusRef:f,compact:!0})})})]}):null})},71192:e=>{e.exports={buttonsContainer:"ConnectDomain_buttonsContainer__SrnIe",listBoxHeader:"ConnectDomain_listBoxHeader__8362X"}},71234:(e,n,t)=>{"use strict";t.d(n,{A:()=>v});var r=t(34837),a=t(65904),i=t(41572),o=t(70764),s=t(18712),l=t(40756),u=t(9844),c=t(3937),d=t(91953),f=t(25227),p=t(73635),h=t(85801),m=(0,o.x)({connectButtonRow:[s.wp.flex.rowReverse]});function v(e){var n=e.onConfirm,t=(0,i.A)(),o="Host *.replit.dev\n  Port 22\n  IdentityFile ".concat(t,"/.ssh/replit");return(0,r.FD)(c.ui,{gap:12,children:[(0,r.FD)(f.S,{gap:4,children:[(0,r.Y)(d.Y9,{level:1,variant:"subheadBig",children:"Update your SSH configuration"}),(0,r.FD)(d.EY,{color:"dimmer",children:["Before connecting over SSH, you need to update your local SSH configuration file, which is usually located at ",t,"/.ssh/config"]})]}),(0,r.Y)(a.A,{code:o,header:".ssh/config",multiline:!0}),(0,r.Y)(u.N,{text:"You can find this information later in the SSH docs",icon:(0,r.Y)(h.A,{})}),(0,r.Y)(f.S,{css:m.connectButtonRow,children:(0,r.Y)(l.$n,{text:"I updated my config",iconLeft:(0,r.Y)(p.A,{}),onClick:n,colorway:"primary",stretch:!1})})]})}},71353:(e,n,t)=>{"use strict";t.d(n,{A:()=>r,b:()=>a});var r=function(e){return e.NOT_READY="NOT_READY",e.READY="READY",e.STALLED="STALLED",e.BROKEN="BROKEN",e}({}),a=function(e){return e.OFFLINE="OFFLINE",e.INITIALIZING="INITIALIZING",e.INITIALIZED="INITIALIZED",e.EXITING="EXITING",e.EXITED="EXITED",e}({})},71843:e=>{e.exports={toolCall:"ToolCall_toolCall__CEP1R",resultWrapper:"ToolCall_resultWrapper__2hyel",errorWrapper:"ToolCall_errorWrapper__VczX1",toolCallError:"ToolCall_toolCallError__Fiyww"}},72253:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M21.75 6A3.75 3.75 0 0 0 18 2.25H6A3.75 3.75 0 0 0 2.25 6v12A3.75 3.75 0 0 0 6 21.75h12A3.75 3.75 0 0 0 21.75 18V6ZM18 3.75A2.25 2.25 0 0 1 20.25 6v2.25H9.75v-4.5H18Zm-9.75 0v4.5h-4.5V6A2.25 2.25 0 0 1 6 3.75h2.25Zm-4.5 6h4.5v4.5h-4.5v-4.5Zm0 6h4.5v4.5H6A2.25 2.25 0 0 1 3.75 18v-2.25Zm6 4.5v-4.5h10.5V18A2.25 2.25 0 0 1 18 20.25H9.75Zm10.5-6H9.75v-4.5h10.5v4.5Z",clipRule:"evenodd"})}))}},72334:e=>{e.exports={scrollContainer:"DomainsGlowup_scrollContainer__8WB27",buyWrapper:"DomainsGlowup_buyWrapper__4nMoO"}},72352:(e,n,t)=>{"use strict";t.d(n,{$p:()=>d,XV:()=>o,h7:()=>s,lX:()=>c});var r=t(49999),a=t(69272),i=t(11901),o=.01,s=function(e,n){var t=n.resourceUsageType,r=n.forceGib,a=n.precision,i=n.skipUnits,o=n.additional,s=n.minimumValue,l=n.truncateToMillions,c=n.gibsDisplayAsBytes,d=u({input:e,resourceUsageType:t,forceGib:void 0!==r&&r,precision:void 0===a?4:a,minimumValue:void 0===s?null:s,truncateToMillions:void 0!==l&&l,gibsDisplayAsBytes:void 0!==c&&c});return void 0!==i&&i?d.formattedValue:void 0!==o&&o?[d.formattedValue,"additional",d.units].join(" "):[d.formattedValue,d.units].join(" ")};function l(e,n){var t=n.precision,r=n.minimumValue,a=n.forceGib,i=r&&0!==e;return e>=0x40000000*(null!=r?r:1)||a?i&&e<0x40000000*r?{formattedValue:"<".concat(r.toLocaleString(void 0,{minimumFractionDigits:t})),units:"GiB"}:{formattedValue:d(e).toFixed(t),units:"GiB"}:i&&e<1048576*r?{formattedValue:"<".concat(r.toLocaleString(void 0,{minimumFractionDigits:t})),units:"MiB"}:{formattedValue:c(e).toFixed(t),units:"MiB"}}var u=function(e){var n=e.input,t=e.resourceUsageType,o=e.forceGib,s=e.precision,u=e.minimumValue,c=e.truncateToMillions,d=e.gibsDisplayAsBytes,f=u&&0!==n&&n<u;switch(t){case"Bytes":return l(n,{precision:s,minimumValue:u,forceGib:o});case"GiB":if(0===n)return{formattedValue:n.toFixed(s),units:"GiB"};if(d)return l(0x40000000*n,{precision:s,minimumValue:u,forceGib:!1});if(f)return{formattedValue:"<".concat(u.toLocaleString(void 0,{minimumFractionDigits:s})),units:"GiB"};return{formattedValue:n.toFixed(s),units:"GiB"};case"GiB-months":if(0===n)return{formattedValue:n.toFixed(s),units:"GiB-months"};if(f)return{formattedValue:"<".concat(u.toLocaleString(void 0,{minimumFractionDigits:s})),units:"GiB-months"};return{formattedValue:n.toFixed(s),units:"GiB-months"};case"ComputeUnits":if(n>=1e6&&c)return{formattedValue:(n/1e6).toLocaleString(void 0,{maximumFractionDigits:n>=1e6&&c?2:0})+" million",units:"compute units"};return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"compute units"};case"ComputeHours":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"compute hours"};case"Requests":if(n>=1e6&&c)return{formattedValue:(n/1e6).toLocaleString(void 0,{maximumFractionDigits:n>=1e6&&c?2:0})+" million",units:"requests"};return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"requests"};case"Site":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"site"};case"Hours":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:2}),units:"hours"};case"Deployments":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:2}),units:"days"};case"Tokens":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"tokens"};case"Minutes":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"minutes"};case"Dollars":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:2,style:"currency",currency:"USD"}),units:"dollars"};case"PlanSteps":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"plan steps"};case"EditRequests":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:(0,i.A)(a.go)};case"None":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:""};default:(0,r.A)(t)}},c=function(e){return e/1048576},d=function(e){return e/0x40000000}},72643:(e,n,t)=>{"use strict";t.d(n,{B:()=>a,q:()=>r});var r={findOrCreateFile:1,searchFileContents:2,fork:.5,createNewRepl:.5,askAssistant:.5,codeSearch:.5,myRepls:.5,settings:.5},a={files:.98,settings:.9,toolDescription:.8,askAssistant:.5,codeSearch:.7,fileContentsSearch:.4}},72837:(e,n,t)=>{"use strict";t.d(n,{Q:()=>p,z:()=>f});var r=t(17844),a=t(93629),i=t(49069),o=t(45773),s=t(90689),l=t(6862),u=t(68803),c=t(34778);function d(e){var n=e.state.field(f);if(n){var t=n.type;return"explainCode"===t?(0,c.u4)(c.AZ.AI_INLINE_EVENT,{action:"inline_textbox_closed",intent_type:"explain",source:n.source}):"generateCode"===t?(0,c.u4)(c.AZ.AI_INLINE_EVENT,{action:"inline_textbox_closed",intent_type:"generate",source:n.source}):"transformCode"===t&&(0,c.u4)(c.AZ.AI_INLINE_EVENT,{action:"inline_textbox_closed",intent_type:"modify",source:n.source}),e.dispatch({effects:s.L.of(null)}),!0}return!1}var f=i.sU.define({create:function(){return null},update:function(e,n){if((0,u.C)(n,s.L,function(n){e=n.value?{id:n.value.id,codeReference:n.value.codeReference,type:n.value.type,source:n.value.source,loading:n.value.loading,data:n.value.data}:null}),!e||n.changes.empty)return e;var t=e.codeReference.range.indexFrom>n.newDoc.length?n.newDoc.length:n.changes.mapPos(e.codeReference.range.indexFrom),i=e.codeReference.range.indexTo>n.newDoc.length?n.newDoc.length:n.changes.mapPos(e.codeReference.range.indexTo);return t>=i?null:e=(0,a._)((0,r._)({},e),{codeReference:(0,a._)((0,r._)({},e.codeReference),{range:{indexFrom:t,indexTo:i,lineFrom:n.newDoc.lineAt(t).number,lineTo:n.newDoc.lineAt(i).number}})})},provide:function(e){return[i.Nb.highest(o.w4.of([{key:"Escape",run:d}])),l.Rh.from(e,function(e){var n;return null!=(n=(null==e?void 0:e.loading)&&e.codeReference.range.indexFrom===e.codeReference.range.indexTo)?n:null})]}}),p=i.sU.define({create:function(){return null},update:function(e,n){if(!n.state.field(f))return null;var t=!0,r=!1,a=void 0;try{for(var i,o=n.effects[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value;l.is(s.L)&&(e=null),l.is(s.M)&&(e=l.value)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return e}})},72905:(e,n,t)=>{"use strict";t.d(n,{K:()=>g});var r=t(29935),a=t(12694),i=t(82643),o=t(21462),s=t(76957),l=t(79203),u=t(34896),c=t(86103),d=t(35897),f=t(95793),p=t(41479),h=t(63591),m=t(68689),v=(0,s.eU)("unchecked");function g(){var e=(0,a._)((0,o.useState)(!1),2),n=e[0],t=e[1],s=(0,a._)((0,o.useState)(!1),2),g=s[0],b=s[1],y=(0,l.md)(v),w=(0,l.Xr)(v),_=(0,l.md)(m.y0).version,S=(0,h.d_)(),A=(0,c._P)({controlName:"flag-visual-editor-upgrade-threshold",type:"string",default:"0.2.5"}),k=(0,d.A)().showError,C=(0,p.I)(function(e){return function(){return(0,r._)(function(){var n;return(0,i.YH)(this,function(r){switch(r.label){case 0:b(!0),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,e.agentToolPackager.installPackages.rpc({pkgs:["@replit/vite-plugin-cartographer@latest"],language:"nodejs-npm"})];case 2:if(r.sent().ok)t(!1),w("ok"),S();else throw Error("Failed to upgrade cartographer package");return[3,5];case 3:return n=r.sent(),f.vF.error("Error Upgrading Cartographer Package",{errorMessage:n.message}),k("Error Upgrading Package"),t(!1),w("refused-upgrade"),[3,5];case 4:return b(!1),[7];case 5:return[2]}})})()}},[S,w,k]);return{shouldShowUpgradeModal:n,isUpgrading:g,checkVersionAndProceed:(0,o.useCallback)(function(){return"ok"===y||"refused-upgrade"===y||("needs-upgrade"===y?(t(!0),!1):_&&!_.includes("standalone")&&0>(0,u.C)(_.replace(/[^0-9.]/g,""),A)?(w("needs-upgrade"),t(!0),!1):(w("ok"),!0))},[w,_,y,A]),handleUpgradeConfirm:(0,o.useCallback)(function(){C&&C()},[C]),handleUpgradeCancel:(0,o.useCallback)(function(){t(!1),w("refused-upgrade")},[w]),handleModalClose:(0,o.useCallback)(function(){t(!1)},[]),versionCheckResult:y}}},73215:(e,n,t)=>{"use strict";t.d(n,{E:()=>k,H:()=>A});var r=t(29935),a=t(12694),i=t(82643),o=t(34837),s=t(21462),l=t(95793),u=t(34778),c=t(40115),d=t(70764),f=t(18712),p=t(83031),h=t(40756),m=t(70251),v=t(9844),g=t(3937),b=t(91953),y=t(25227),w=t(33683),_=t(90843),S=(0,d.x)({brokenNixErrorWrapper:[f.wp.maxHeight("300px"),{overflow:"scroll"},f.wp.p(8)],accordionWrapper:[f.wp.borderRadius(4)],inlineButton:[{display:"inline-flex"}]});function A(e){var n=e.openFile,t=e.nixError,d=e.handleClose,f=(0,c.A)(),m=f.git,A=f.fs,k=(0,a._)((0,s.useState)(null),2),C=k[0],Y=k[1],E=(0,a._)((0,s.useState)(!1),2),x=E[0],T=E[1],D=(0,s.useCallback)(function(){return(0,r._)(function(){var e,n,t,r,a,o,s;return(0,i.YH)(this,function(i){switch(i.label){case 0:return(0,u.u4)(u.AZ.NIX_MODULE,{action:"recovery",state:"Started"}),l.vF.info("Started Nix Broken State Recovery"),T(!0),m.forceRefresh(),[4,m.status()];case 1:if((e=i.sent()).error)return T(!1),Y("git is not accessible"),(0,u.u4)(u.AZ.NIX_MODULE,{action:"recovery",state:"Failed",reason:"Git State Error"}),l.vF.error("Nix Broken State Recovery Failed due to Git",{gitStatusError:e.error}),[2];if(n=e.changes.find(function(e){return".replit"===e.path}),t=e.changes.find(function(e){return"replit.nix"===e.path}),!n)return[3,3];return[4,m.stageFiles({add:[".replit"]})];case 2:i.sent(),i.label=3;case 3:if(!t)return[3,5];return[4,m.stageFiles({add:["replit.nix"]})];case 4:i.sent(),i.label=5;case 5:if(!(n||t))return[3,7];return[4,m.commit({message:"Pre-Recovery checkpoint"})];case 6:i.sent(),i.label=7;case 7:return[4,m.log({path:".replit"})];case 8:var c;if((r=i.sent()).error)return T(!1),Y("git log is not accessible"),(0,u.u4)(u.AZ.NIX_MODULE,{action:"recovery",state:"Failed",reason:"Git Log Error"}),l.vF.error("Nix Broken State Recovery Failed due to Git",{gitLogError:r.error}),[2];return a=(c=r.commits)[c.length-1],[4,m.getFileContents({path:".replit",revision:a.hash,convertToBase64:!1})];case 9:if((o=i.sent()).error)return T(!1),Y("failed recovering file contents"),(0,u.u4)(u.AZ.NIX_MODULE,{action:"recovery",state:"Failed",reason:"Git File Contents Error"}),l.vF.error("Nix Broken State Recovery Failed due to Git",{gitFileContentError:o.error}),[2];return[4,A.writeFile(".replit",null!=(s=o.content)?s:"")];case 10:return i.sent(),[4,A.deleteFile("replit.nix")];case 11:return i.sent(),[4,m.stageFiles({add:[".replit"]})];case 12:return i.sent(),[4,m.stageFiles({add:["replit.nix"]})];case 13:return i.sent(),[4,m.commit({message:"Post-Recovery checkpoint"})];case 14:return i.sent(),m.forceRefresh(),T(!1),null==d||d(),(0,u.u4)(u.AZ.NIX_MODULE,{action:"recovery",state:"Succeeded"}),l.vF.info("Finished Nix Broken State Recovery"),[2]}})})()},[m,A,d]);return(0,o.FD)(y.S,{gap:8,children:[(0,o.FD)(y.S,{gap:8,children:[(0,o.Y)(b.EY,{variant:"subheadDefault",children:"The nix environment failed to build"}),(0,o.FD)(b.EY,{children:["Check if your"," ",(0,o.Y)(h.$n,{css:S.inlineButton,variant:"underlined",onClick:function(){n(".replit"),null==d||d()},text:".replit"})," ","and"," ",(0,o.Y)(h.$n,{css:S.inlineButton,variant:"underlined",onClick:function(){n("replit.nix"),null==d||d()},text:"replit.nix"})," ","files are configured properly:"]})]}),(0,o.Y)(g.ui,{elevated:!0,css:S.accordionWrapper,children:(0,o.Y)(p.A,{headerContent:(0,o.Y)(y.S,{p:4,children:"Error Message"}),children:"error"===t.status?(0,o.Y)(y.S,{css:S.brokenNixErrorWrapper,children:(0,o.Y)(b.EY,{variant:"code",children:t.error})}):null})}),(0,o.Y)(b.EY,{children:"Optionally, we can back up the broken configuration files and recover the original ones:"}),(0,o.Y)(h.$n,{text:"Recover original configuration files",colorway:null!==C?"grey":"warning",onClick:D,isDisabled:x||null!==C,iconLeft:x?(0,o.Y)(w.A,{}):(0,o.Y)(_.A,{})}),C?(0,o.Y)(v.N,{colorway:"warning",text:(0,o.FD)(b.EY,{children:["Recovery failed: ",C]})}):null]})}function k(e){var n=e.isOpen,t=e.setIsOpen,r=e.nixError,a=e.openFile;return(0,o.Y)(m.a,{isOpen:n,onRequestClose:function(){return t(!1)},children:(0,o.Y)(A,{openFile:a,nixError:r,handleClose:function(){return t(!1)}})})}},73491:(e,n,t)=>{"use strict";t.d(n,{Q:()=>nL,E:()=>nF});var r=t(29935),a=t(83846),i=t(53847),o=t(17844),s=t(93629),l=t(12694),u=t(86105),c=t(82643),d=t(34837),f=t(21462),p=t(80719),h=t(16732),m=t(26575),v=t(86103),g=t(39938),b=t(61125),y=t(21727),w=t(42415),_=t(57068),S=t(47737),A=t(41479),k=t(42845),C=t(84383),Y=t(41683),E=t(61101),x=t(54741),T=t(49999),D=t(66186),I=t(70764),R=t(18712),N=t(9844),O=t(85801),P=(0,I.x)({root:[R.wp.zIndex(1),R.wp.flex.grow(0)]});function F(e){var n=e.readonlyBannerVariant,t=(0,D.sz)(),r="";switch(n){case"html-stream":r="This is a visual preview of your app.";break;case"gallery":r="This is a visual preview of your application's building blocks.";break;case"none":return null;default:(0,T.A)(n)}return t?r+=" The agent is currently creating a fully interactive version.":r+=" The agent is currently paused.",(0,d.Y)(N.N,{css:P.root,text:r,icon:(0,d.Y)(O.A,{}),colorway:"blue",variant:"flush"})}var U=t(25189),L=t(17459),M=t(34778);function J(e){var n=e.actionType,t=(0,L._)(e,["actionType"]);(0,M.u4)(M.AZ.WORKSPACE,(0,o._)({action:"webview_used",type:n},t))}function H(){J({actionType:"open_new_window"})}var B=t(99365),V=t(42793),$=t(39534),G=t(93868),z=t(73455),W=t(83096),j=t(3937),q=t(91953),Z=t(90233),K=t(25227),Q=t(33759),X=t(13298),ee=t(64424),en=t(33683),et=t(15930),er=(0,V.AH)([R.wp.borderRadius(6),R.wp.color.foregroundDimmer,R.wp.height(24),{borderColor:$.LU.outlineDimmer}]),ea=(0,I.x)({root:[R.wp.border({color:$.LU.outlineDimmest,direction:"bottom"}),R.wp.p(2),R.wp.container("root"),R.wp.zIndex(1),R.wp.p(4),R.wp.gap(4),R.wp.height(40)],devControls:[R.wp.gap(4)],navControls:[R.wp.flex.growAndShrink(1)],navButton:[R.wp.p(6),R.wp.borderRadius(4),R.wp.flex.shrink(0),{border:"none"}],urlWrapper:[R.wp.position.relative,R.wp.flex.row,R.wp.flex.growAndShrink(1)],urlPath2:[R.wp.py(0),R.wp.fontSize(12),R.wp.flex.grow(1),R.wp.borderRadius(8)],goButton:[R.wp.position.absolute,R.wp.right(4),R.wp.top("50%"),{transform:"translateY(-50%)"}],buttons:[(0,a._)({},R.kL.max(300,"root"),{"svg + span":{display:"none"},svg:{marginRight:0}})],fakeUrl:[R.wp.fontSize(12),R.wp.border(),{boxSizing:"content-box"},R.wp.borderRadius(6),R.wp.px(8),R.wp.py(2),R.wp.flex.grow(1),R.wp.rowWithGap(4),R.wp.align.center]});function ei(e){var n=e.webviewPageState,t=e.navigationState,r=e.isCurrentPortProbablyExpo;return(0,d.FD)(j.ui,{css:ea.root,row:!0,align:"center",justify:"space-between",children:["active"===n.state?(0,d.Y)(eo,{navigationState:t}):(0,d.Y)(es,{}),(0,d.Y)(K.S,{row:!0,children:(0,d.Y)(K.S,{css:ea.buttons,row:!0,align:"center",children:(0,d.Y)(K.S,{css:ea.devControls,row:!0,children:(0,d.Y)(G.v,{size:"small",variant:"outlined",css:er,href:r?t.getExternalUrl().replace(/^https?:\/\//,"exp://"):t.getExternalUrl(),target:"_blank",iconLeft:(0,d.Y)(ee.A,{}),text:r?"Open in Expo Go":"New tab",onClick:function(){H()},noNextLink:!0})})})})]})}function eo(e){var n=e.navigationState,t=n.canNavigateBack,r=n.navigateBack,a=n.canNavigateForward,i=n.navigateForward,o=n.canNavigateToInputRelativeUrl,s=n.navigateToInputRelativeUrl,l=n.inputRelativeUrl,u=n.setInputRelativeUrl,c=n.refresh,f=(0,U.vm)(),p=(0,B.Jn)("webviewpane.reload");return(0,d.FD)(K.S,{css:ea.navControls,row:!0,gap:4,children:[(0,d.Y)(z.K0,{alt:"Back",tooltipDelay:"long",onClick:r,disabled:!t,css:ea.navButton,children:(0,d.Y)(Q.A,{})}),(0,d.Y)(z.K0,{alt:"Forward",tooltipDelay:"long",onClick:i,disabled:!a,css:ea.navButton,children:(0,d.Y)(X.A,{})}),(0,d.Y)(z.K0,{alt:"Refresh".concat(p?" (".concat((0,B.LH)(p,f),")"):""),tooltipDelay:"long",onClick:c,css:ea.navButton,children:n.isRefreshing?(0,d.Y)(en.A,{}):(0,d.Y)(et.A,{})}),(0,d.FD)(K.S,{css:ea.urlWrapper,row:!0,children:[(0,d.Y)(W.pd,{css:ea.urlPath2,value:l,onKeyDown:function(e){"Enter"===e.key&&o&&s()},onChange:function(e){if(""===e.currentTarget.value)return void u("/");u(e.target.value)}}),(0,d.Y)(j.ui,{elevated:!0,css:ea.goButton,children:(0,d.Y)(z.K0,{alt:"Go to URL",disabled:!o,onClick:s,size:18,tooltipContents:(0,d.Y)(B._y,{keyCombo:"Enter"}),children:(0,d.Y)(X.A,{})})})]})]})}function es(){return(0,d.Y)(K.S,{css:ea.navControls,align:"center",row:!0,gap:4,children:(0,d.FD)(j.ui,{elevated:!0,css:ea.fakeUrl,children:[(0,d.Y)(Z.m_,{tooltip:"Page is loading, please wait.",delay:"none",placement:"auto",children:(0,d.Y)(en.A,{})}),(0,d.Y)(q.EY,{variant:"small",color:"dimmer",children:"Loading your page"})]})})}var el=t(70251),eu=(0,I.x)({modalContent:[R.wp.flex.column,R.wp.gap(16)],modalTitle:[R.wp.fontWeight.bold],modalSection:[R.wp.flex.column,R.wp.gap(8)],modalSectionTitle:[R.wp.fontWeight.medium,{fontSize:$.LU.fontSizeSubheadDefault}],modalText:[{fontSize:$.LU.fontSizeDefault,lineHeight:1.5}],bulletList:[R.wp.flex.column,R.wp.gap(8),{paddingLeft:$.LU.space16}],bulletItem:[{position:"relative",paddingLeft:$.LU.space8,"&::before":{content:'"•"',position:"absolute",left:"-12px",color:$.LU.yellowStrongest}}]});function ec(e){var n=e.isOpen,t=e.onRequestClose;return(0,d.Y)(el.a,{isOpen:n,onRequestClose:t,centered:!0,maxWidth:500,children:(0,d.FD)(K.S,{css:eu.modalContent,p:16,children:[(0,d.Y)(q.EY,{variant:"headerDefault",css:eu.modalTitle,children:"Cookie Restrictions in Preview"}),(0,d.FD)(K.S,{css:eu.modalSection,children:[(0,d.Y)(q.EY,{css:eu.modalSectionTitle,children:"Why are cookies restricted?"}),(0,d.Y)(q.EY,{css:eu.modalText,multiline:!0,children:"Browser security policies limit cookie access in iframes like Preview to protect user privacy and prevent cross-site tracking."})]}),(0,d.FD)(K.S,{css:eu.modalSection,children:[(0,d.Y)(q.EY,{css:eu.modalSectionTitle,children:"How does this affect my app?"}),(0,d.Y)(q.EY,{css:eu.modalText,multiline:!0,children:"In Preview, your app may not be able to set or read cookies, affecting authentication, sessions, and user preferences. Your app works normally in a regular browser tab."})]}),(0,d.FD)(K.S,{css:eu.modalSection,children:[(0,d.Y)(q.EY,{css:eu.modalSectionTitle,children:"What can I do?"}),(0,d.FD)(K.S,{css:eu.bulletList,children:[(0,d.Y)(K.S,{css:eu.bulletItem,children:(0,d.Y)(q.EY,{css:eu.modalText,children:'Use "New tab" to test cookie functionality in a regular browser environment.'})}),(0,d.Y)(K.S,{css:eu.bulletItem,children:(0,d.Y)(q.EY,{css:eu.modalText,children:"Try Chrome browser."})}),(0,d.Y)(K.S,{css:eu.bulletItem,children:(0,d.FD)(q.EY,{css:eu.modalText,children:["Try"," ",(0,d.Y)("a",{href:"https://replit.com/desktop",target:"_blank",rel:"noopener noreferrer",style:{color:$.LU.accentPrimaryStronger,textDecoration:"none"},children:"Replit Desktop App"}),"."]})}),(0,d.Y)(K.S,{css:eu.bulletItem,children:(0,d.Y)(q.EY,{css:eu.modalText,children:"Adjust your browser settings to allow cross-site tracking cookies (could be risky)."})})]})]})]})})}var ed=t(70399),ef=t(90843),ep=(0,I.x)({root:[R.wp.border({width:0}),{color:$.LU.orangeStrongest,backgroundColor:$.LU.orangeDimmest,containerType:"inline-size"}],content:[R.wp.width("100%")],closeButton:[{color:$.LU.orangeStrongest},R.wp.hover({backgroundColor:$.LU.orangeDimmer})],tooltipText:[R.wp.flex.shrink(1)],newTabButton:[{color:$.LU.orangeStrongest,backgroundColor:$.LU.orangeDimmest,borderColor:$.LU.orangeStrongest,borderWidth:1,marginLeft:"8px"},R.wp.borderRadius(6),R.wp.height(24),R.wp.hover({backgroundColor:$.LU.orangeDimmer})],learnMoreButton:[{color:$.LU.orangeStrongest,backgroundColor:"transparent",marginLeft:"8px",padding:0,border:"none",textDecoration:"underline"},R.wp.hover({fontWeight:"bolder",backgroundColor:"transparent"})]});function eh(e){var n=e.navigationState,t=e.onDismiss,r=(0,l._)((0,f.useState)(!1),2),a=r[0],i=r[1],o=function(){i(!0)};return(0,d.FD)(d.FK,{children:[(0,d.Y)(K.S,{css:ep.root,grow:0,shrink:0,p:4,pl:8,gap:4,align:"start",children:(0,d.FD)(K.S,{css:ep.content,row:!0,gap:6,align:"center",justify:"space-between",children:[(0,d.Y)(ef.A,{}),(0,d.FD)(K.S,{row:!0,gap:4,align:"center",grow:!0,shrink:!0,children:[(0,d.Y)(q.EY,{css:ep.tooltipText,variant:"small",children:"Open a new tab to test authentication and file uploads."}),(0,d.Y)(G.v,{size:"small",variant:"outlined",css:ep.newTabButton,href:n.getExternalUrl(),target:"_blank",iconLeft:(0,d.Y)(ee.A,{}),text:"New tab",onClick:function(){H()},noNextLink:!0}),(0,d.Y)(G.v,{size:"small",variant:"outlined",css:ep.learnMoreButton,href:"#",onClick:function(e){e.preventDefault(),o()},text:"Learn more"})]}),(0,d.Y)(z.K0,{onClick:t,alt:"Dismiss",css:ep.closeButton,children:(0,d.Y)(ed.A,{})})]})}),(0,d.Y)(ec,{isOpen:a,onRequestClose:function(){return i(!1)}})]})}var em=t(67862),ev=t(77481),eg=(0,I.x)({modalText:[R.wp.pl(8),R.wp.display.block],subHeadingText:[R.wp.display.block,R.wp.mb(8)],bulletList:[R.wp.flex.column,R.wp.gap(8),R.wp.pl(24)],statusItem:[R.wp.flex.row,R.wp.gap(8),R.wp.p(8),R.wp.borderRadius(8),R.wp.align.center,R.wp.backgroundColor.backgroundRoot],statusCircle:[{width:"10px",height:"10px",borderRadius:"50%",flexShrink:0,'&[data-reachable="true"]':{backgroundColor:$.LU.accentPrimaryDefault},'&[data-reachable="false"]':{backgroundColor:$.LU.accentNegativeDefault}}]});function eb(e){var n=e.isOpen,t=e.onRequestClose,r=e.reachability;return(0,d.Y)(el.a,{isOpen:n,onRequestClose:t,centered:!0,maxWidth:500,children:(0,d.FD)(K.S,{gap:16,children:[(0,d.Y)(q.EY,{variant:"headerDefault",children:"App Reachability Status"}),(0,d.FD)("ul",{css:eg.bulletList,children:[(0,d.FD)("li",{css:eg.statusItem,children:[(0,d.Y)(K.S,{css:eg.statusCircle,"data-reachable":r.dotdev}),(0,d.FD)(q.EY,{css:eg.modalText,children:["replit.dev domain:"," ",r.dotdev?"Reachable":"Unreachable"]})]}),(0,d.FD)("li",{css:eg.statusItem,children:[(0,d.Y)(K.S,{css:eg.statusCircle,"data-reachable":r.replCo}),(0,d.FD)(q.EY,{css:eg.modalText,children:["repl.co domain:"," ",r.replCo?"Reachable":"Unreachable"]})]})]}),(0,d.FD)(ev.s,{children:[(0,d.Y)(q.EY,{css:eg.subHeadingText,variant:"subheadDefault",children:"Why might my app be unreachable?"}),(0,d.Y)(q.EY,{css:eg.modalText,multiline:!0,children:"Your browser may be unable to access your app's development domains (replit.dev and repl.co). This can happen due to:"}),(0,d.FD)("ul",{css:eg.bulletList,children:[(0,d.Y)("li",{children:(0,d.Y)(q.EY,{css:eg.modalText,children:"Internet service provider blocking requests"})}),(0,d.Y)("li",{children:(0,d.Y)(q.EY,{css:eg.modalText,children:"Router firewall rules"})}),(0,d.Y)("li",{children:(0,d.Y)(q.EY,{css:eg.modalText,children:"Browser or extension blocking requests"})})]})]}),(0,d.FD)(ev.s,{children:[(0,d.Y)(q.EY,{css:eg.subHeadingText,variant:"subheadDefault",children:"What can I do?"}),(0,d.FD)("ul",{css:eg.bulletList,children:[(0,d.Y)("li",{children:(0,d.Y)(q.EY,{css:eg.modalText,children:"Connect to a different network if possible (e.g. mobile data)"})}),(0,d.Y)("li",{children:(0,d.Y)(q.EY,{css:eg.modalText,children:"Check with your network administrator if you're on a restricted network (e.g. corporate or school WIFI)"})}),(0,d.Y)("li",{children:(0,d.FD)(q.EY,{css:eg.modalText,children:["See our"," ",(0,d.Y)("a",{href:em.ik.TROUBLESHOOTING_REACHABILITY,target:"_blank",rel:"noopener noreferrer",style:{color:$.LU.accentPrimaryStronger,textDecoration:"none"},children:"FAQ"})," ","for more troubleshooting steps"]})})]})]})]})})}var ey=t(40756),ew=(0,I.x)({root:[R.wp.border({width:0}),{color:$.LU.orangeStrongest,backgroundColor:$.LU.orangeDimmest,containerType:"inline-size"}],content:[R.wp.width("100%")],closeButton:[{color:$.LU.orangeStrongest},R.wp.hover({backgroundColor:$.LU.orangeDimmer})],tooltipText:[R.wp.flex.shrink(1)],learnMoreButton:[{color:$.LU.orangeStrongest,backgroundColor:"transparent",marginLeft:"8px",padding:0,border:"none",textDecoration:"underline"},R.wp.hover({fontWeight:"bolder",backgroundColor:"transparent"})]});function e_(e){var n=e.onDismiss,t=e.reachability,r=(0,l._)((0,f.useState)(!1),2),a=r[0],i=r[1];return(0,d.FD)(d.FK,{children:[(0,d.Y)(K.S,{css:ew.root,grow:0,shrink:0,p:4,pl:8,align:"start",children:(0,d.FD)(K.S,{css:ew.content,row:!0,gap:6,align:"center",justify:"space-between",children:[(0,d.Y)(ef.A,{}),(0,d.FD)(K.S,{row:!0,gap:4,align:"center",grow:!0,shrink:!0,children:[(0,d.Y)(q.EY,{css:ew.tooltipText,variant:"small",children:t.dotdev&&t.replCo?"There may be connectivity issues with your app.":"Your app might not be reachable from this network."}),(0,d.Y)(ey.$n,{size:"small",variant:"outlined",css:ew.learnMoreButton,onClick:function(){return i(!0)},text:"Learn more"})]}),(0,d.Y)(z.K0,{onClick:n,alt:"Dismiss",css:ew.closeButton,children:(0,d.Y)(ed.A,{})})]})}),(0,d.Y)(eb,{isOpen:a,onRequestClose:function(){return i(!1)},reachability:t})]})}var eS=t(12584),eA=t(41114),ek=t(54744);function eC(){var e=(0,eS._)(["\n  query StripeSandboxBanner($replId: String!) {\n    stripeClaimableSandbox(replId: $replId) {\n      id\n      claimUrl\n      claimedAt\n    }\n  }\n"]);return eC=function(){return e},e}var eY={},eE=(0,eA.J1)(eC()),ex=(0,I.x)({root:[{color:$.LU.accentPrimaryStrongest,backgroundColor:$.LU.accentPrimaryDimmest,containerType:"inline-size"}],content:[R.wp.width("100%")],closeButton:[{marginLeft:"auto"}],tooltipText:[R.wp.flex.growAndShrink(1)]});function eT(e){var n,t,r=e.replId,a=(n={variables:{replId:r}},t=(0,o._)({},eY,n),ek.I(eE,t)).data,i=(0,l._)((0,f.useState)(!1),2),s=i[0],u=i[1],c=function(){u(!0)},p=null==a?void 0:a.stripeClaimableSandbox,h=null==p?void 0:p.claimUrl,m=null==p?void 0:p.claimedAt;return!h||m||s?null:(0,d.Y)(K.S,{css:ex.root,px:6,py:4,gap:4,align:"start",children:(0,d.FD)(K.S,{css:ex.content,row:!0,gap:6,align:"center",justify:"space-between",children:[(0,d.FD)(K.S,{row:!0,gap:8,align:"center",children:[(0,d.Y)(O.A,{}),(0,d.Y)(q.EY,{variant:"small",css:ex.tooltipText,children:"Complete your Stripe setup by claiming your sandbox account."})]}),(0,d.Y)(G.v,{size:"small",colorway:"primary",iconLeft:(0,d.Y)(ee.A,{}),text:"Claim",href:h||"#",target:"_blank",onClick:function(){(0,M.u4)(M.AZ.STRIPE_SANDBOX_CLAIM_CLICKED,{source:"workspace_webview_stripe_banner",replId:r}),c()}}),(0,d.Y)(K.S,{css:ex.closeButton,children:(0,d.Y)(z.K0,{alt:"Dismiss",onClick:c,children:(0,d.Y)(ed.A,{})})})]})})}var eD=t(91592),eI=t(30375),eR=t(11901),eN=t(19412),eO=t(87733),eP=t(28029),eF=t(22668),eU=t(51292),eL=t(87261),eM=t(83027),eJ=t(99933),eH=t(28611),eB=t(66121),eV=t(73635),e$=t(50957),eG=t(45206),ez=t(94686),eW=t(53526),ej=t(48707),eq=t(25590);function eZ(e){return(0,d.FD)(eq.Ay,(0,s._)((0,o._)({},e),{children:[(0,d.Y)("path",{fillRule:"evenodd",d:"M21 9.875c.898 0 1.625.727 1.625 1.625V20c0 .898-.727 1.625-1.625 1.625h-4.5A1.625 1.625 0 0 1 14.875 20v-8.5c0-.898.727-1.625 1.625-1.625H21Zm-4.5 1.25a.375.375 0 0 0-.375.375V20c0 .207.168.375.375.375H21a.375.375 0 0 0 .375-.375v-8.5a.375.375 0 0 0-.375-.375h-4.5Z",clipRule:"evenodd"}),(0,d.Y)("path",{d:"M3.7 3.7h12.8a1 1 0 0 1 1 1v3.2a.6.6 0 0 0 1.2 0V4.7a2.2 2.2 0 0 0-2.2-2.2H3.7a2.2 2.2 0 0 0-2.2 2.2v8a2.2 2.2 0 0 0 2.2 2.2h5.8v2H6.9a.6.6 0 1 0 0 1.2h6.4a.6.6 0 1 0 0-1.2h-2.6v-2h2.2a.6.6 0 0 0 0-1.2H3.7a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1Z"})]}))}var eK=[R.wp.reset.button,eU.b.nofill,R.wp.color.foregroundDimmest,R.wp.fontSize("small"),{border:"0 none !important","&:hover":[R.wp.color.foregroundDefault,{backgroundColor:"transparent !important"}],"&:active":[R.wp.color.foregroundDimmer,{backgroundColor:"transparent !important"}]},{borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:0},R.wp.align.center,R.wp.pr(0),R.wp.pl(4)],eQ=(0,I.x)({themeButton:[R.wp.height(24),R.wp.p(4)],root:[R.wp.container("root"),R.wp.zIndex(1),{height:36}],devControls:[{"button:not(:hover)":{color:$.LU.foregroundDimmest},"a:not(:hover)":{color:$.LU.foregroundDimmest}}],urlWrapper:[R.wp.position.relative,R.wp.height(24)],urlOptionsRoot:[R.wp.overflow("hidden"),R.wp.borderRadius(4),{":hover":{boxShadow:"0 0 0 1px "+$.LU.outlineDimmer},":focus-within":{outline:"2px solid ".concat($.LU.accentPrimaryDefault)}}],urlOptions:[R.wp.borderRadius(4)],urlOptionsSection:[R.wp.border({direction:"bottom"}),{":last-child":{paddingBottom:0,borderBottom:0}}],portRadioGroup:[R.wp.colWithGap(8)],portOption:[R.wp.rowWithGap(8),R.wp.color.foregroundDimmer],portOptionSelected:[R.wp.rowWithGap(8),R.wp.color.foregroundDefault],portOptionLabel:[{"&:hover":[R.wp.cursor.pointer,R.wp.color.foregroundDefault]}],url:eK,urlPath2:[R.wp.p(0),R.wp.fontSize(12),R.wp.flex.grow(1),{backgroundColor:"transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0,border:"0 none !important",outline:"none !important"}],fakeUrl:[R.wp.borderRadius(4),R.wp.height(24)],screenSizeMenuWrapper:[R.wp.p(4)]}),eX="Dev URLs are only active when someone is in the workspace. The dev URL is also subject to change. For production hosting, use Deployments.";function e0(e){var n=e.isInDesktopApp;return(0,d.FD)(K.S,{grow:!0,shrink:!0,children:[(0,d.Y)(q.EY,{children:n?"Open in web browser":"Open in a new tab"}),(0,d.Y)(q.EY,{variant:"small",color:"dimmer",children:eX})]})}function e1(e){var n=e.isCurrentPortProbablyExpo,t=e.navigationState,r=e.loading,a=e.isInDesktopApp,i=(0,l._)((0,f.useState)(!1),2),o=i[0],s=i[1];return n?(0,d.FD)(eH.Wv,{isOpen:o,onOpenChange:s,label:"Open dev URL",background:"higher",children:[(0,d.Y)(z.K0,{disabled:r,alt:"Open in…",children:(0,d.Y)(ee.A,{})}),(0,d.Y)(K.S,{p:8,children:(0,d.Y)(eP.A,{url:t.getExternalUrl(),isExpoUrl:!0})})]}):(0,d.Y)(eM.A,{disabled:r,tooltipContents:(0,d.Y)(e0,{isInDesktopApp:a}),href:t.getExternalUrl(),target:"_blank",alt:a?"Open in web browser":"New tab",onClick:function(){H()},children:(0,d.Y)(ee.A,{})})}function e2(e){var n=e.url,t=e.webviewPageState,r=e.navigationState,a=e.forwardedPorts,i=e.onToggleWebviewLogs,o=e.onOpenPortSettings,s=e.screenSize,u=e.setScreenSize,c=e.replShield,p=e.openPane,h=e.isCurrentPortProbablyExpo,v=(0,m.A)(),g=(0,l._)((0,f.useState)(!1),2),b=g[0],y=g[1],w=(0,eN.fW)(),_=w.toggleThemeOverlay,S=w.isThemeOverlayVisible,A="active"!==t.state&&"external-page"!==t.state,k=(0,eI.a)(),C=(0,eN.iO)(),Y=(0,eD.lO)().trackAppTheme;return(0,d.FD)(j.ui,{px:4,py:6,gap:4,css:eQ.root,row:!0,align:"center",justify:"space-between",children:["external-page"===t.state?(0,d.Y)(e7,{backToLocal:function(){return r.refresh()}}):(0,d.Y)(e5,{loading:A,url:n,navigationState:r,forwardedPorts:a,onOpenPortSettings:o,replShield:c,isCurrentPortProbablyExpo:h}),(0,d.FD)(K.S,{row:!0,align:"center",gap:2,css:eQ.devControls,children:["external-page"!==t.state?(0,d.FD)(d.FK,{children:[(0,d.Y)(z.K0,{onClick:i,alt:"Webview logs",disabled:A,children:(0,d.Y)(ej.A,{})}),k?null:(0,d.FD)(eH.Wv,{isOpen:b,onOpenChange:function(e){y(e)},label:"Screen size",background:"higher",children:[(0,d.Y)(z.K0,{alt:"Screen size",disabled:A,children:(0,d.Y)(eZ,{})}),(0,d.Y)(e8,{screenSize:s,setScreenSize:u})]}),C?(0,d.Y)(Z.m_,{tooltip:"Themes are currently unavailable",isDisabled:!A,placement:"auto",children:(0,d.Y)(ey.$n,{disabled:A,onClick:function(){Y(M.AZ.APP_THEME,{action:"overlay_toggled"}),S||p({type:"agentChat"}),_()},text:"Theme",iconLeft:(0,d.Y)(eG.A,{size:16}),variant:"nofill",css:eQ.themeButton})}):null]}):null,(0,d.Y)(e1,{isCurrentPortProbablyExpo:h,navigationState:r,loading:A,isInDesktopApp:v})]})]})}var e3=K.D.button;function e4(e){var n=e.url,t=e.navigationState,r=e.forwardedPorts,a=e.onOpenPortSettings,i=e.replShield,o=e.isCurrentPortProbablyExpo,s=t.canNavigateToInputRelativeUrl,u=t.navigateToInputRelativeUrl,c=t.inputRelativeUrl,p=t.setInputRelativeUrl,h=t.selectedPort,m=t.setPort,g=(0,l._)((0,f.useState)(!1),2),b=g[0],y=g[1],w=(0,eL.c)(),_=w("radioGroup"),S=(0,v._P)({controlName:"flag-repl-shield-toggle"});return(0,d.FD)(j.ui,{elevated:!0,css:eQ.urlOptionsRoot,grow:!0,shrink:!0,row:!0,children:[(0,d.FD)(eH.Wv,{isOpen:b,onOpenChange:y,label:"Show URL Options",background:"higher",children:[(0,d.FD)(e3,{row:!0,gap:2,css:eQ.url,children:[(0,d.Y)(Z.m_,{tooltip:eX,children:i?(0,d.Y)(eW.A,{size:12}):(0,d.Y)(e$.A,{size:12})}),".".concat(n.includes("replit.dev")?"replit.dev":"repl.co").concat((0,k.r$)(h)?"":":"+h)]}),(0,d.FD)(j.ui,{css:eQ.urlOptions,p:8,gap:6,children:[S?(0,d.Y)(K.S,{css:eQ.urlOptionsSection,pb:8,gap:4,children:(0,d.Y)(eO.A,{})}):null,(0,d.FD)(K.S,{css:eQ.urlOptionsSection,pb:8,gap:4,children:[(0,d.FD)(K.S,{grow:!0,row:!0,gap:0,justify:"space-between",children:[(0,d.FD)(q.EY,{children:["Listening on ",(0,eR.A)("port",r.length),":"]}),a?(0,d.Y)(z.K0,{alt:"Networking tool",onClick:a,children:(0,d.Y)(ez.A,{})}):null]}),(0,d.Y)(eB.z,{tag:"fieldset",css:eQ.portRadioGroup,name:_,value:h.toString(),onChange:function(e){m(parseInt(e.target.value,10)),y(!1)},children:r.map(function(e,n){return(0,d.FD)(K.S,{css:h===e.configuration.externalPort?eQ.portOptionSelected:eQ.portOption,children:[(0,d.Y)(eB.s,{id:w(e.configuration.externalPort),value:e.configuration.externalPort.toString()}),(0,d.Y)("label",{htmlFor:w(e.configuration.externalPort),css:eQ.portOptionLabel,children:":".concat(e.configuration.localPort," → :").concat(e.configuration.externalPort)})]},"".concat(n,"-").concat(e.configuration.externalPort,":").concat(e.configuration.localPort))})})]}),(0,d.Y)(eP.A,{url:n,isExpoUrl:o})]})]}),(0,d.Y)(W.pd,{css:eQ.urlPath2,value:c,onKeyDown:function(e){"Enter"===e.key&&s&&u()},onChange:function(e){if(""===e.currentTarget.value)return void p("/");p(e.target.value)}})]})}function e5(e){var n=e.url,t=e.navigationState,r=e.forwardedPorts,a=e.onOpenPortSettings,i=e.replShield,o=e.loading,s=e.isCurrentPortProbablyExpo,l=t.canNavigateBack,u=t.navigateBack,c=t.canNavigateForward,f=t.navigateForward,p=t.refresh,h=(0,U.vm)(),m=(0,B.Jn)("webviewpane.reload");return(0,d.FD)(K.S,{row:!0,gap:4,align:"center",grow:!0,shrink:!0,children:[(0,d.Y)(z.K0,{alt:"Back",tooltipDelay:"long",onClick:u,disabled:!l,children:(0,d.Y)(Q.A,{})}),(0,d.Y)(z.K0,{alt:"Forward",tooltipDelay:"long",onClick:f,disabled:!c,children:(0,d.Y)(X.A,{})}),(0,d.Y)(z.K0,{alt:"Refresh".concat(m?" (".concat((0,B.LH)(m,h),")"):""),tooltipDelay:"long",onClick:p,disabled:o,children:t.isRefreshing?(0,d.Y)(en.A,{}):(0,d.Y)(et.A,{})}),(0,d.Y)(K.S,{css:eQ.urlWrapper,grow:!0,shrink:!0,children:o?(0,d.Y)(e9,{}):(0,d.Y)(e4,{url:n,navigationState:t,forwardedPorts:r,onOpenPortSettings:a,replShield:i,isCurrentPortProbablyExpo:s})})]})}function e7(e){var n=e.backToLocal,t=(0,l._)((0,f.useState)(!1),2),r=t[0],a=t[1];return(0,d.FD)(K.S,{row:!0,gap:4,align:"center",grow:!0,shrink:!0,children:[(0,d.Y)(ey.$n,{size:"small",variant:"nofill",onClick:function(){n(),a(!0)},loading:r,text:"Back to my page",iconLeft:r?(0,d.Y)(en.A,{}):(0,d.Y)(Q.A,{})}),(0,d.FD)(j.ui,{row:!0,grow:!0,shrink:!0,elevated:!0,gap:4,align:"center",css:eQ.fakeUrl,children:[(0,d.Y)(Z.m_,{tooltip:"The URL bar is not supported when navigating to external pages. You can open in a new tab to use your browser instead.",delay:"none",placement:"auto",children:(0,d.Y)(ef.A,{size:12})}),(0,d.Y)(q.EY,{variant:"small",color:"dimmer",children:"External page"})]})]})}function e9(){return(0,d.FD)(j.ui,{row:!0,grow:!0,shrink:!0,gap:4,align:"center",elevated:!0,css:eQ.fakeUrl,px:4,children:[(0,d.Y)(Z.m_,{tooltip:"Page is loading, please wait.",delay:"none",placement:"auto",children:(0,d.Y)(en.A,{size:12})}),(0,d.Y)(q.EY,{variant:"small",color:"dimmer",children:"Loading your page…"})]})}function e8(e){var n=e.screenSize,t=e.setScreenSize;return(0,d.FD)(eJ.W1,{"aria-label":"Screen size menu",onAction:function(e){if("Full size"===e)null==t||t(void 0);else{var n=eF.U.find(function(n){return n.title===e});if(!n)return;null==t||t(n)}},css:eQ.screenSizeMenuWrapper,children:[(0,d.Y)(e6,{isSelected:void 0===n,title:"Full size"}),(0,d.Y)(eJ.wv,{}),eF.U.map(function(e){return(0,d.Y)(e6,{isSelected:(null==n?void 0:n.title)===e.title,title:e.title},e.title)})]})}function e6(e){var n=e.isSelected,t=e.title;return(0,d.FD)(eJ.iy,{id:t,textValue:t,children:[(0,d.Y)(q.EY,{children:t}),n?(0,d.Y)(eV.A,{}):null]})}var ne=t(6530),nn=t(22531),nt=t(90629),nr=t(37743),na=t(860),ni=function e(n){var t=this,r=n.initialRelativeUrl,a=n.initialPort,i=n.onChange,o=n.navigateTo;(0,nr._)(this,e),this.history=[],this.historyIndex=-1,this.init=function(e,n){t.history.push({relativeUrl:e,port:n}),t.historyIndex=t.history.length-1,t.notifyChanges()},this.notifyChanges=function(){t.onChange(t.canGoBack(),t.canGoForward(),t.getCurrentRelativeUrl(),t.getCurrentPort(),t.isRefreshing)},this.canGoBack=function(){return t.historyIndex>0},this.canGoForward=function(){return t.historyIndex<t.history.length-1},this.getCurrentRelativeUrl=function(){return t.history[t.historyIndex].relativeUrl},this.getCurrentPort=function(){return t.history[t.historyIndex].port},this.push=function(e,n){(e!==t.getCurrentRelativeUrl()||n!==t.getCurrentPort())&&(t.history=t.history.slice(0,t.historyIndex+1),t.history.push({relativeUrl:e,port:n}),t.historyIndex=t.history.length-1),t.notifyChanges()},this.relativeUrlUpdate=function(e){t.push(e,t.getCurrentPort())},this.back=function(){J({actionType:"history_back"}),t.canGoBack()&&(t.historyIndex-=1,t.navigate(t.getCurrentRelativeUrl(),t.getCurrentPort()))},this.forward=function(){J({actionType:"history_forward"}),t.canGoForward()&&(t.historyIndex+=1,t.navigate(t.getCurrentRelativeUrl(),t.getCurrentPort()))},this.navigate=function(e,n){var r=null!=n?n:t.getCurrentPort();t.navigateTo.current(e,r),t.push(e,r)},this.refresh=function(){var e,n;J({actionType:"refresh"}),t.isRefreshing=!0,t.notifyChanges(),t.navigateTo.current(null!=(e=t.getCurrentRelativeUrl())?e:"/",null!=(n=t.getCurrentPort())?n:80).finally(function(){t.isRefreshing=!1,t.notifyChanges()})},this.setPort=function(e){var n=t.getCurrentRelativeUrl();t.navigate(n,e)},this.onChange=i,this.isRefreshing=!1,this.navigateTo=o,this.init(r,a)};function no(e){var n,t=e.iframeSrc,r=e.port,a=e.path,i=e.navigateThroughWorkspaceDevtools,o=e.mintReplShieldToken,s=(0,L._)(e,["iframeSrc","port","path","navigateThroughWorkspaceDevtools","mintReplShieldToken"]);if(i&&"id"in s){var l=(0,k.jq)(t,r);l.searchParams.set("initialPath",a),l.searchParams.set("id",s.id),o&&l.searchParams.set("replShieldMintedToken",o),n=l.href}else{var u=new URL(a,t);r&&(u=(0,k.jq)(u.toString(),r)),o&&u.searchParams.set("replShieldMintedToken",o),n=u.toString()}return n}var ns=t(22239),nl=t(70552),nu=t(46434),nc=t(65806),nd=t(46735),nf=t(25687),np=t(24270),nh=t(45620),nm=t(40115),nv=t(62246),ng=t(63591),nb=t(92949),ny=t(95134),nw=t(22440),n_=t(90991),nS=t(93445),nA=t.n(nS),nk=(0,$.CK)("WebviewLogs.module.css",["--drawer-height"]),nC=(0,I.x)({tab:[R.wp.borderRadius(0)],tabList:[R.wp.overflow("scroll"),R.wp.mr(4)],tabsContainer:[R.wp.height("100%"),{display:"grid",gridTemplateRows:"32px 1fr"}],tabPanel:[R.wp.height("100%"),R.wp.overflow("hidden")]});function nY(e){return e[e.length-1]}var nE=(0,s._)((0,o._)({},nc.VS),{BASE_FONT_FAMILY:$.LU.fontFamilyCode,BASE_FONT_SIZE:$.LU.fontSizeSmall,BASE_LINE_HEIGHT:$.LU.lineHeightSmall,BASE_BACKGROUND_COLOR:"transparent",BASE_COLOR:$.LU.foregroundDefault,OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES:10,OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES:5,OBJECT_NAME_COLOR:$.LU.purpleStronger,OBJECT_VALUE_NULL_COLOR:$.LU.greyStronger,OBJECT_VALUE_UNDEFINED_COLOR:$.LU.greyStronger,OBJECT_VALUE_REGEXP_COLOR:$.LU.redStronger,OBJECT_VALUE_STRING_COLOR:$.LU.redStronger,OBJECT_VALUE_SYMBOL_COLOR:$.LU.redStronger,OBJECT_VALUE_NUMBER_COLOR:$.LU.blueStronger,OBJECT_VALUE_BOOLEAN_COLOR:$.LU.blueStronger,OBJECT_VALUE_FUNCTION_PREFIX_COLOR:$.LU.blueStronger,ARROW_COLOR:$.LU.foregroundDimmest,ARROW_MARGIN_RIGHT:6,ARROW_FONT_SIZE:$.LU.fontSizeSmall,ARROW_ANIMATION_DURATION:"0",TREENODE_FONT_FAMILY:$.LU.fontFamilyCode,TREENODE_FONT_SIZE:$.LU.fontSizeSmall,TREENODE_LINE_HEIGHT:$.LU.lineHeightSmall,TREENODE_PADDING_LEFT:12});function nx(e){var n=e.logs,t=(0,l._)((0,f.useState)(!0),2),r=t[0],a=t[1],i=(0,f.useRef)(null),o=(0,f.useRef)(0),s=(0,f.useCallback)(function(){if(i.current){var e=i.current,n=e.scrollTop,t=e.scrollHeight,r=e.clientHeight;n<o.current?a(!1):t-n-r<=20&&a(!0),o.current=n}},[]);return(0,f.useEffect)(function(){if(r&&i.current&&n.length>0){var e=i.current;e.scrollTop=e.scrollHeight}},[n,r]),(0,d.FD)(K.S,{clsx:[nA().logsContainer,r&&nA().snapToBottom],innerRef:i,onScroll:s,children:[0===n.length?(0,d.Y)(K.S,{p:8,children:(0,d.Y)(q.EY,{color:"dimmest",children:"No logs received yet"})}):null,n.map(function(e,n){return(0,d.Y)(nT,{log:e},"".concat(e.timestamp,"-").concat(n))}),r?(0,d.Y)(K.S,{clsx:nA().scrollSnap}):null]})}function nT(e){var n=e.log,t=n.method.toLowerCase().includes("error"),r=n.method.toLowerCase().includes("warn"),a=(0,nd.A)(n.timestamp,"yyyy-MM-dd HH:mm:ss.SS");return(0,d.FD)(K.S,{p:4,clsx:[nA().logRow,t&&nA().errorLog,r&&nA().warningLog],row:!0,gap:8,align:"start",children:[(0,d.Y)(q.EY,{color:"dimmest",variant:"codeSmall",children:a}),(0,d.Y)(K.S,{row:!0,align:"start",gap:8,shrink:1,children:n.parsed.map(function(e,n){return"string"==typeof e?(0,d.Y)(K.S,{shrink:1,children:(0,d.Y)(q.EY,{variant:"codeSmall",children:e})},n):(0,d.Y)(nc.a3,{theme:nE,data:e},n)})})]})}function nD(e){var n=e.paneId,t=e.openPane,i=e.onClose,p=e.wrapperRef,h=(0,l._)((0,f.useState)([]),2),m=h[0],v=h[1],b=(0,l._)((0,f.useState)(!1),2),y=b[0],w=b[1],_=(0,l._)((0,f.useState)(200),2),S=_[0],A=_[1],k=(0,g.A)(S);(0,nh.b)(function(e,t){var a=t.signal;return(0,r._)(function(){var t,r,i,l,d,f,p,h,m;return(0,c.YH)(this,function(c){switch(c.label){case 0:t=e.agentToolWebviewLogs.stream.subscribe({paneId:n},{signal:a}).resReadable,r=!1,i=!1,c.label=1;case 1:c.trys.push([1,6,7,12]),d=function(){var e=p.value;if(!e.ok)return{v:void 0};var n=e.payload.map(function(e){var n;try{n=JSON.parse(e.message)}catch(e){return null}return Array.isArray(n)||(n=[n]),(0,s._)((0,o._)({},e),{parsed:n})}).filter(function(e){return null!==e});v(function(e){var t=(0,u._)(e).concat((0,u._)(n));return t.length>100?t.slice(-100):t})},f=(0,nu._)(t),c.label=2;case 2:return[4,f.next()];case 3:if(!(r=!(p=c.sent()).done))return[3,5];if(h=d(),"object"===(0,nn._)(h))return[2,h.v];c.label=4;case 4:return r=!1,[3,2];case 5:return[3,12];case 6:return m=c.sent(),i=!0,l=m,[3,12];case 7:if(c.trys.push([7,,10,11]),!(r&&null!=f.return))return[3,9];return[4,f.return()];case 8:c.sent(),c.label=9;case 9:return[3,11];case 10:if(i)throw l;return[7];case 11:return[7];case 12:return[2]}})})()},[n]);var C=(0,ng.IE)(),Y=(0,f.useMemo)(function(){var e=new Map,n=!0,t=!1,r=void 0;try{for(var a,i=C[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=a.value;if("shell.exec"===o.config.task){var s=e.get(o.workflowId)||new Map,u=s.get(o.taskIdx)||[];u.push(o),s.set(o.taskIdx,u),e.set(o.workflowId,s)}}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}return Array.from(e.values()).flatMap(function(e){var n=Array.from(e.entries()),t=n.filter(function(e){var n=(0,l._)(e,2);return(n[0],n[1]).some(function(e){return"waitForPort"in e.config&&null!=e.config.waitForPort})});return n.map(function(e){var r,a=(0,l._)(e,2),i=a[0],o=a[1];if(o.some(function(e){return"waitForPort"in e.config&&null!=e.config.waitForPort}))if(t.length>1){var s=t.findIndex(function(e){return(0,l._)(e,1)[0]===i});r="Server Logs ".concat(s+1)}else r="Server Logs";else r="".concat(o[0].workflowId," Logs"),n.length>1&&(r="".concat(o[0].workflowId," Logs ").concat(i+1));return{name:r,tasks:o}})})},[C]),E=(0,f.useCallback)(function(e){e.preventDefault(),w(!0);var n=e.clientY,t=k.current,r=function(e){var r;A(Math.min(Math.max(t+(n-e.clientY),200),((null==(r=p.current)?void 0:r.clientHeight)||0)-200))},a=function(){w(!1),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",r),window.addEventListener("mouseup",a)},[k,p]);return(0,d.FD)(K.S,{clsx:nA().wrapper,style:(0,a._)({},nk.drawerHeight,"".concat(S,"px")),children:[(0,d.Y)(K.S,{clsx:[nA().resizeHandle,y&&nA().resizing],onMouseDown:E,children:(0,d.Y)(K.S,{clsx:nA().resizeGrip})}),(0,d.Y)(K.S,{clsx:nA().tabsWrapper,children:(0,d.FD)(ny.tU,{css:nC.tabsContainer,children:[(0,d.FD)(K.S,{row:!0,align:"center",justify:"space-between",pl:2,pr:4,clsx:nA().header,children:[(0,d.FD)(ny.wb,{withUnderline:!1,css:nC.tabList,children:[(0,d.Y)(ny.oz,{id:"webview",css:nC.tab,children:(0,d.FD)(K.S,{row:!0,gap:4,align:"center",children:["Webview Logs",(0,d.Y)(nw.A,{})]})}),Y.map(function(e,n){var t=e.name,r=nY(e.tasks),a=null;switch(r.task.state){case nf.Dr.RUNNING:a=(0,d.Y)(n_.A,{});break;case nf.Dr.FINISHED:a=(0,d.Y)(eV.A,{});break;case nf.Dr.FAILED:case nf.Dr.ERROR:a=(0,d.Y)(ef.A,{})}return(0,d.Y)(ny.oz,{id:t,css:nC.tab,children:(0,d.FD)(K.S,{row:!0,gap:4,align:"center",children:[(0,d.Y)(K.S,{clsx:nA().nowrap,children:t}),a]})},"".concat(t,"-").concat(n))})]}),(0,d.Y)(z.K0,{alt:"Close",onClick:i,children:(0,d.Y)(ed.A,{size:12})})]}),(0,d.FD)(ny.T2,{children:[(0,d.Y)(ny.Kp,{id:"webview",css:nC.tabPanel,children:(0,d.Y)(nx,{logs:m})}),Y.map(function(e){var r=e.name,a=nY(e.tasks);return(0,d.Y)(ny.Kp,{id:r,css:nC.tabPanel,children:(0,d.Y)(nI,{runId:a.runId,taskIdx:a.taskIdx,paneId:n,openPane:t})},r)})]})]})})]})}function nI(e){var n=e.runId,t=e.taskIdx,a=e.paneId,i=e.openPane,o=(0,nm.A)().fs,s=(0,np.T)(),u=(0,f.useCallback)(function(e){i({type:(0,nv.QY)(e),data:e})},[i]),p=(0,f.useCallback)(function(e,n){i({type:"webview",data:{ports:{type:"local",port:n,path:e}}})},[i]),h=(0,l._)((0,nb.A)({listFiles:o.listFiles,openFile:u,openWebview:p,openPane:i}),2),m=h[0],v=h[1],g=(0,f.useRef)(!1);return(0,nh.b)(function(e,i){var o=i.signal;return(0,r._)(function(){var r,i,l,u,d,f,p,h,v,b;return(0,c.YH)(this,function(c){switch(c.label){case 0:if(g.current||!m||!s)return[2];i=(r=e.workflows.connectToTask.stream({runId:n,taskIdx:t,userId:s,processViewId:a},{signal:o})).resReadable,l=r.reqWritable,g.current=!0,l.write({$kind:"resize",size:m.getSize()}),u=!1,d=!1,c.label=1;case 1:c.trys.push([1,6,7,12]),p=(0,nu._)(i),c.label=2;case 2:return[4,p.next()];case 3:if(!(u=!(h=c.sent()).done))return[3,5];if(!(v=h.value).ok){if("UNEXPECTED_DISCONNECT"===v.payload.code||"CANCEL"===v.payload.code||"NO_MATCHING_TASK_STATE"===v.payload.code)return[3,5];throw Error("[".concat(v.payload.code,"] ").concat(v.payload.message))}"output"===v.payload.$kind&&m.write(v.payload.chunk),c.label=4;case 4:return u=!1,[3,2];case 5:return[3,12];case 6:return b=c.sent(),d=!0,f=b,[3,12];case 7:if(c.trys.push([7,,10,11]),!(u&&null!=p.return))return[3,9];return[4,p.return()];case 8:c.sent(),c.label=9;case 9:return[3,11];case 10:if(d)throw f;return[7];case 11:return[7];case 12:return l.close(),[2]}})})()},[n,t,m,s,a]),(0,d.Y)(K.S,{clsx:nA().xtermWrapper,children:(0,d.Y)(K.S,{clsx:nA().xtermInner,innerRef:v})})}var nR=t(73712),nN=(0,t(19944).v)(["width","height","transform","borderRadius","border","colorScheme"]),nO=nN.cssVars,nP=nN.styleTokens;function nF(e,n){var t=function(e,n){var t,r,a,i=void 0;if((null==e||null==(t=e.ports)?void 0:t.type)==="external")i=null==e||null==(a=e.ports)?void 0:a.port;else if((null==e||null==(r=e.ports)?void 0:r.type)==="local"){var o=n.find(function(n){var t;return n.configuration.localPort===(null==(t=e.ports)?void 0:t.port)});i=null==o?void 0:o.configuration.externalPort}return i}(e,n);return t?t:n.length>0?n.find(function(e){return 80===e.configuration.externalPort})?80:n[0].configuration.externalPort:void 0}var nU=(0,I.x)({screenshotWrapper:{width:"100%",height:"100%",backgroundSize:"cover"},iframeWrapper:[R.wp.overflow("hidden"),{'&[data-is-readonly-preview="true"]':[{cursor:"not-allowed"}]}],iframeMiddle:[R.wp.position.relative,{borderRadius:nP.borderRadius,border:nP.border,width:nP.width,height:nP.height}],iframeInner:[R.wp.position.absolute,{top:0,left:0,overflow:"hidden",width:nP.width,height:nP.height,transform:nP.transform,transformOrigin:"top left"}],scalingFactor:[R.wp.color.foregroundDimmest,R.wp.fontSize($.LU.fontSizeSmall),{position:"absolute",top:46,left:0,right:0,textAlign:"center"}],desktopAppWebview:[R.wp.flex.growAndShrink(1),{border:"none",backgroundColor:$.LU.white}],iframe:[R.wp.flex.growAndShrink(1),{border:"none",display:"block",backgroundColor:$.LU.white,colorScheme:nP.colorScheme}],self:[R.wp.height("100%"),{overflow:"hidden"}]}),nL=(0,f.forwardRef)(function(e,n){var t,h,T,D,I,R,N,O,P,U,L,H,B,V,G,z,W,j,q,Z,Q,X,ee,en,et,er,ea,eo,es,el,eu,ec,ed,ef,ep,em,ev,eg,eb,ey,ew,eS,eA,ek,eC,eY,eE,ex,eD,eI,eR,eN,eO,eP,eU,eL,eM,eJ,eH,eB=e.initialPort,eV=e.initialPath,e$=void 0===eV?"/":eV,eG=e.openPane,ez=e.ports,eW=e.container,ej=e.previewScreenSize,eq=e.setPreviewScreenSize,eZ=e.isMobilePIP,eK=e.readonlyBannerVariant,eQ=e.paneId,eX=(0,l._)((0,f.useState)(!0),2),e0=eX[0],e1=eX[1],e3=(0,l._)((0,f.useState)(!1),2),e4=e3[0],e5=e3[1],e7=(0,nl.rN)(),e9=(0,nl.nb)(),e8=(0,f.useId)(),e6=(0,b.A)(),nr=(0,x.Y)().isAgentStackRepl,nu=(0,m.A)(),nc=(0,E.qX)(),nd=(0,C.O)(eB),nf=(0,f.useRef)(null),np=(0,f.useRef)(null),nh=(0,f.useRef)(!1),nm=(0,l._)((0,f.useState)(!1),2),nv=nm[0],ng=nm[1],nb=(0,f.useRef)(!1),ny=(t=({desiredScreenSize:ej}).desiredScreenSize,T=(h=(0,l._)((0,f.useState)(void 0),2))[0],D=h[1],{resizeRef:(0,y.A)(function(e){D(e)}),screenSize:(0,f.useMemo)(function(){if(t&&T){var e=T.width-80,n=T.height-80,r=t.screen,a=r.width,i=r.height,o=a/i,s=n*o,l=e,u=e/o;s<=e&&(l=s,u=n);var c=Math.min(1,l/a,u/i);return l=1===c?a:l,u=1===c?i:u,{width:a,height:i,scaledWidth:l,scaledHeight:u,scale:c}}},[t,T])}),nw=ny.resizeRef,n_=ny.screenSize,nS=(0,ne.nL)().token,nA=(0,f.useMemo)(function(){return!nu&&!nc&&!nd&&!eZ},[nu,nc,nd,eZ]),nk=(0,k.Ik)({ports:ez,container:eW,addDevToolsSuffix:nA}),nC=(0,f.useMemo)(function(){return!(null==nk?void 0:nk.reachability.dotdev)&&!(null==nk?void 0:nk.reachability.replCo)&&!e4},[nk,e4]),nY=null!=nk,nE=(0,Y.w)(ez),nx=(I=eQ,R=(0,f.useRef)([]),N=nM((0,A.I)(function(e){return function(){return(0,r._)(function(){var n;return(0,c.YH)(this,function(t){return(n=(0,u._)(R.current),R.current=[],n&&n.length)?[2,e.agentToolWebviewLogs.store.rpc({logs:n,paneId:I})]:[2]})})()}},[I]),R,100),(0,f.useCallback)(function(e,n){R.current.push({method:e,message:n}),N()},[N])),nT=(O=(0,f.useRef)([]),P=nM((0,A.I)(function(e){return function(){return(0,r._)(function(){var n;return(0,c.YH)(this,function(t){return(n=(0,u._)(O.current),O.current=[],n.length)?[2,e.agentToolWebviewNetworkRequests.store.rpc(n)]:[2]})})()}},[]),O,500),(0,f.useCallback)(function(e){var n=(0,s._)((0,o._)({},e),{requestBody:"string"==typeof e.requestBody?new TextEncoder().encode(e.requestBody):e.requestBody,responseBody:null==e.responseBody||(0,i._)(e.responseBody,Uint8Array)?e.responseBody:new TextEncoder().encode("string"==typeof e.responseBody?e.responseBody:JSON.stringify(e.responseBody))});O.current.push(n),P()},[P]));(0,f.useEffect)(function(){nu&&nY&&np.current.addEventListener("dom-ready",function(){nh.current=!0})},[nu,nY]);var nI=(0,f.useCallback)(function(e,n){return(0,r._)(function(){var t,r;return(0,c.YH)(this,function(a){return np.current&&(null==(t=np.current)?void 0:t.contentWindow)&&(null==nk?void 0:nk.iframeSrc)?(r=no({id:e8,iframeSrc:nk.iframeSrc,port:n,path:e,mintReplShieldToken:nS||void 0,navigateThroughWorkspaceDevtools:nA}),np.current.src=r,[2,new Promise(function(e){var n,t,r=function(){var e,n;clearTimeout(o),null==(e=np.current)||e.removeEventListener("load",a),null==(n=np.current)||n.removeEventListener("error",i)},a=function(){r(),e()},i=function(){r(),e()},o=setTimeout(function(){r(),e()},1e4);null==(n=np.current)||n.addEventListener("load",a),null==(t=np.current)||t.addEventListener("error",i)})]):[2]})})()},[e8,nA,nk,nS]),nN=(0,g.A)(nI),nP=(0,l._)((0,f.useState)(null),2),nF=nP[0],nL=nP[1],nJ=(0,f.useCallback)(function(e){return nL(e)},[nL]),nH=(0,S.m5)(),nB=(0,E.GK)({isSupported:!eZ&&nc,navigateIframeRef:nN,onReceiveWebviewLog:nx,onReceiveWebviewScreenshot:nJ,initialPort:eB,initialPath:e$,baseUrl:null==nk?void 0:nk.baseUrl}),nV=(L=(U={replId:e6,webviewId:e8,iframeOrWebviewRef:np,iframeSrc:null==nk?void 0:nk.iframeSrc,onReceiveWebviewLog:nx,onReceiveNetworkRequest:nT,bonsaiWebviewBridge:nB,onThirdPartyCookieCheck:function(e){e||e1(!1)}}).replId,H=U.webviewId,B=U.iframeOrWebviewRef,V=U.iframeSrc,G=U.onReceiveWebviewLog,z=U.onReceiveNetworkRequest,W=U.bonsaiWebviewBridge,j=U.onThirdPartyCookieCheck,Z=(q=(0,l._)((0,f.useState)({state:"loading",relativeUrl:null}),2))[0],Q=q[1],X=(0,m.A)(),(0,f.useEffect)(function(){if(X&&V){if(!B.current)throw Error("Expected iframe to be defined when iframerc exists");var e=B.current,n=new URL(V);return e.addEventListener("did-navigate",t),e.addEventListener("did-navigate-in-page",t),function(){e.removeEventListener("did-navigate",t),e.removeEventListener("did-navigate-in-page",t)}}function t(e){var t=new URL(e.url),r=t.pathname+t.search+t.hash;if(t.hostname!==n.hostname)return void Q(function(e){return"external-page"===e.state?e:{state:"external-page",relativeUrl:null}});Q(function(e){return"active"===e.state&&e.relativeUrl===r?e:{state:"active",relativeUrl:r}})}},[X,V,B]),(0,f.useEffect)(function(){if(W)return W.path.subscribe(function(e){Q(function(n){return"active"===n.state&&"path"===n.relativeUrl?n:{state:"active",relativeUrl:e}})})},[W]),(0,f.useEffect)(function(){if(!X&&!W&&V){var e=new URL(V);return window.addEventListener("message",n),function(){window.removeEventListener("message",n)}}function n(n){if(n.origin&&"null"!==n.origin){if(new URL(n.origin).hostname===e.hostname&&"object"===(0,nn._)(n.data)&&(null==(t=n.data)?void 0:t.type)){var t,r=n.data;if(null==r||!r.id||r.id===H)switch(r.type){case"event":var a=n.data,i=a.event,l=a.payload;"error"===i?nt.Cp(l):(0,M.u4)(i,(0,s._)((0,o._)({},l),{replId:L}));break;case"forward-log":G(r.method,r.message);break;case"forward-network-request":z(r.message);break;case"third-party-cookie-check":j(r.payload.enabled);break;case"page-navigation":if(r.payload.isExternal)return void Q(function(e){return"external-page"===e.state?e:{state:"external-page",relativeUrl:null}});var u=r.payload.relativeUrl;Q(function(e){return"active"===e.state&&e.relativeUrl===u?e:{state:"active",relativeUrl:u}})}}}}},[L,H,X,V,B,G,z,W,j]),{webviewPageState:Z}).webviewPageState,n$=(0,f.useCallback)(function(e,n){return(0,r._)(function(){var t;return(0,c.YH)(this,function(r){return nk?nu?nh.current?(t=no({id:e8,iframeSrc:nk.iframeSrc,port:n,path:e,mintReplShieldToken:nS||void 0,navigateThroughWorkspaceDevtools:nA}),[2,np.current.loadURL(t)]):[2]:(nB&&nB.handleNavigateTo({port:null!=n?n:80,path:e,base:nk.baseUrl}),[2,nI(e,n)]):[2]})})()},[nk,nu,nB,nI,e8,nA,nS]),nG=(en=(ee={initialPort:eB,initialPath:e$,presentationalUrl:null==nk?void 0:nk.presentationUrl,webviewPageState:nV,navigateTo:function(e,n){return n$(e,n)}}).initialPort,et=ee.initialPath,er=ee.presentationalUrl,ea=ee.webviewPageState,eo=ee.navigateTo,el=(es=(0,l._)((0,f.useState)(!1),2))[0],eu=es[1],ed=(ec=(0,l._)((0,f.useState)(!1),2))[0],ef=ec[1],em=(ep=(0,l._)((0,f.useState)("Loading..."),2))[0],ev=ep[1],eb=(eg=(0,l._)((0,f.useState)(80),2))[0],ey=eg[1],eS=(ew=(0,l._)((0,f.useState)(!1),2))[0],eA=ew[1],ek=(0,f.useCallback)(function(e,n,t,r,a){eu(e),ef(n),ev(t),ey(r),eA(a)},[]),eC=(0,g.A)(eo),eY=(0,g.A)(en),eE=(0,g.A)(et),ex=(0,na.A)(function(){return new ni({initialRelativeUrl:eE.current,initialPort:eY.current,onChange:ek,navigateTo:eC})},[eE,eY,ek,eC]),(0,f.useEffect)(function(){"loading"===ea.state&&eY.current!==eb&&ex.setPort(eY.current)},[en,eY,ex,eb,ea]),(0,f.useEffect)(function(){"active"===ea.state&&ex.relativeUrlUpdate(ea.relativeUrl)},[ea.state,ea.relativeUrl,ex]),(0,f.useEffect)(function(){ex.navigate(eE.current,en)},[en,eE,ex]),eD=(0,f.useCallback)(function(){J({actionType:"navigated_to",path:em}),ex.navigate(em)},[em,ex]),eI=(0,f.useCallback)(function(){var e=(0,k.jq)(er||"",eb);return em&&(e.pathname=em),e.toString()},[em,er,eb]),eR=(0,f.useCallback)(function(){return ex.back()},[ex]),eN=(0,f.useCallback)(function(){return ex.forward()},[ex]),eO=(0,f.useCallback)(function(){return ex.refresh()},[ex]),eP=(0,f.useCallback)(function(e){return ex.setPort(e)},[ex]),{canNavigateBack:el,canNavigateForward:ed,navigateBack:eR,navigateForward:eN,canNavigateToInputRelativeUrl:(0,f.useMemo)(function(){return em!==ea.relativeUrl},[em,ea.relativeUrl]),navigateToInputRelativeUrl:eD,inputRelativeUrl:em,setInputRelativeUrl:ev,refresh:eO,setPort:eP,selectedPort:eb,getExternalUrl:eI,isRefreshing:eS}),nz=(0,g.A)(nG),nW=(0,Y.ff)(nG.selectedPort);(0,f.useEffect)(function(){nW&&nW.configuration.isLocalhost&&"loading"===nV.state&&nz.current.refresh()},[nz,nW,nV.state]);var nj=(0,p.X1)();(0,f.useEffect)(function(){nd&&nH&&(null==nj?void 0:nj.planId)&&nz.current.refresh()},[nH,nd,nz,nj]),(0,f.useImperativeHandle)(n,function(){return{refresh:function(){return nz.current.refresh()},navigateTo:n$,getCurrentPath:function(){return nV.relativeUrl}}},[n$,nz,nV.relativeUrl]);var nq=(0,nR.D)().isDarkColorScheme,nZ=!eZ,nK=(0,v._P)({controlName:"flag-make-more-money"})&&!nB&&nZ;(0,f.useEffect)(function(){nB&&nB.setInsets({top:nd?48:40})},[nB,nd]);var nQ=(0,f.useCallback)(function(){return eG({type:"developer",data:{tab:["networking"]}})},[eG]),nX=(0,f.useMemo)(function(){var e=nE.find(function(e){return e.configuration.externalPort===eB});return!!e&&(0,w.O)(e.processInfo.cmdline)},[nE,eB]);if((0,f.useEffect)(function(){if(nX&&eq&&!nH&&!ej&&!nb.current){var e=eF.U.find(function(e){return"iPhone 17"===e.title});e&&(eq(e),nb.current=!0)}},[nX,ej,eq,nH]),nr)return(0,d.Y)(ns.q,{openPane:eG});if(!nk)return null;var n0="0 0 ".concat($.LU.space4," ").concat($.LU.space4);return(n_?n0=$.LU.space4:nH?n0="0":nv&&(n0="0"),eU=eZ||nd||!nF?(0,d.Y)(K.S,{css:nU.iframeWrapper,grow:!0,shrink:!0,"data-is-readonly-preview":nd,innerRef:nw,align:"center",justify:"center",children:(0,d.Y)(K.S,{style:(eM={overflow:"hidden"},(0,a._)(eM,nO.width,n_?"".concat(n_.scaledWidth,"px"):"100%"),(0,a._)(eM,nO.height,n_?"".concat(n_.scaledHeight,"px"):"100%"),(0,a._)(eM,nO.borderRadius,n0),(0,a._)(eM,nO.border,n_?"1px solid ".concat($.LU.outlineDefault):"none"),eM),css:nU.iframeMiddle,children:(0,d.Y)(K.S,{style:(eJ={},(0,a._)(eJ,nO.width,n_?"".concat(n_.width,"px"):"100%"),(0,a._)(eJ,nO.height,n_?"".concat(n_.height,"px"):"100%"),(0,a._)(eJ,nO.transform,"scale(".concat(null!=(eL=null==n_?void 0:n_.scale)?eL:1,")")),eJ),css:nU.iframeInner,children:nu?(0,d.Y)("webview",(0,o._)({"data-cy":"ws-webview",ref:np,src:no({iframeSrc:nk.iframeSrc,port:eB,path:e$,id:e8,mintReplShieldToken:nS||void 0,navigateThroughWorkspaceDevtools:nA}),style:(0,a._)({},nO.colorScheme,nq?"dark":"light"),css:nU.desktopAppWebview},_.A)):(0,d.Y)("iframe",(0,o._)({title:"webview","data-cy":"ws-webview",ref:np,src:no({iframeSrc:nk.iframeSrc,port:eB,path:e$,id:e8,mintReplShieldToken:nS||void 0,navigateThroughWorkspaceDevtools:nA}),style:(0,a._)({},nO.colorScheme,nq?"dark":"light"),css:nU.iframe},_.A))})})}):(0,d.Y)("div",{css:nU.screenshotWrapper,style:{backgroundImage:"url(".concat(nF,")")}}),nd)?(0,d.FD)(K.S,{css:nU.self,children:[nZ?(0,d.Y)(F,{readonlyBannerVariant:null!=eK?eK:"none"}):null,eU]}):(eH=eZ?null:nc?(0,d.Y)(ei,{webviewPageState:nV,navigationState:nG,bonsaiWebviewBridge:nB,isCurrentPortProbablyExpo:nX}):(0,d.Y)(e2,{replId:e6,url:nk.presentationUrl,webviewPageState:nV,navigationState:nG,forwardedPorts:nE,onToggleWebviewLogs:function(){ng(function(e){return!e})},onOpenPortSettings:nQ,screenSize:ej,setScreenSize:eq,replShield:!!nS,openPane:eG,isCurrentPortProbablyExpo:nX}),(0,d.FD)(K.S,{css:nU.self,innerRef:nf,children:[eH,nK?(0,d.Y)(eT,{replId:e6}):null,nC?(0,d.Y)(e_,{reachability:nk.reachability,navigationState:nG,onDismiss:function(){return e5(!0)}}):null,nC||e0||e7?null:(0,d.Y)(eh,{navigationState:nG,onDismiss:function(){return e9(!0)}}),n_?(0,d.FD)(K.S,{css:nU.scalingFactor,children:[Math.round(100*n_.scale),"%"]}):null,eU,nv&&eQ?(0,d.Y)(nD,{paneId:eQ,openPane:eG,wrapperRef:nf,onClose:function(){return ng(!1)}}):null]}))});function nM(e,n,t){var a=(0,f.useMemo)(function(){return(0,h.A)(function(){return(0,r._)(function(){return(0,c.YH)(this,function(n){return[2,null==e?void 0:e()]})})()},{wait:t})},[e,t]);return(0,f.useEffect)(function(){e&&n.current.length>0&&a()},[e,a,n]),a}},73794:e=>{e.exports={canvasAreaWrapper:"Automations_canvasAreaWrapper__XaCA0",headerWrapper:"Automations_headerWrapper__wzOuW",tabControlsButtonGroup:"Automations_tabControlsButtonGroup__2NUGh",agentTabModalWrapper:"Automations_agentTabModalWrapper__uK1SO",textContainerMaxWidth:"Automations_textContainerMaxWidth__dqqPU",overlayContainer:"Automations_overlayContainer__dAV0k"}},73921:e=>{e.exports={envVarLabel:"DatabaseEnvVariable_envVarLabel__fu61i"}},75228:(e,n,t)=>{"use strict";t.d(n,{j:()=>d,C:()=>h});var r=t(34837),a=t(39534),i=t(70764),o=t(18712),s=t(25227),l=(0,i.x)({root:[o.wp.borderRadius(8),o.wp.backgroundColor.backgroundRoot,o.wp.border({color:a.LU.outlineDimmest})],video:[o.wp.borderRadius(8),o.wp.width("100%")]});function u(e){var n=e.src,t=e.autoPlay,a=e.loop,i=e.width;return(0,r.Y)(s.S,{css:l.root,p:4,style:{width:void 0===i?280:i},children:(0,r.Y)("video",{css:l.video,src:n,autoPlay:void 0===t||t,loop:void 0===a||a,playsInline:!0,muted:!0})})}var c=t(91953),d=function(e){return e.Welcome="Welcome",e.Editor="Editor",e.Examples="Examples",e.Run="Run",e.Output="Output",e.Sidepane="Sidepane",e.Share="Share",e}({}),f=function(e){return"/public/videos/workspace-onboarding/".concat(e,".mp4")},p=(0,i.x)({welcome:[o.wp.maxWidth(400)],tooltipContainer:[o.wp.width("100%"),o.wp.center,o.wp.position.relative],textContainer:[o.wp.colWithGap(8),o.wp.width("100%"),o.wp.py(8)]}),h={id:"workspace-desktop-new-user-tour",steps:[{id:"Welcome",isModal:!0,title:"Welcome to the Workspace",content:function(){return(0,r.Y)(s.S,{"data-cy":"workspace-tour-welcome",css:p.welcome,children:(0,r.FD)(c.EY,{children:["The Workspace is where you create projects on Replit. These are called"," ",(0,r.Y)("strong",{children:"Apps."}),(0,r.Y)("br",{}),"Let's explore around!"]})})}},{id:"Editor",title:"Code Editor",content:function(){return(0,r.FD)(s.S,{css:p.tooltipContainer,children:[(0,r.Y)(u,{src:f("editor"),autoPlay:!0,loop:!0}),(0,r.Y)(s.S,{css:p.textContainer,children:(0,r.Y)(c.EY,{children:"This is where you write code. The editor helps you by giving you suggestions and coloring your code."})})]})}},{id:"Examples",title:"Examples",content:"Click on one of these examples to insert into your editor",autoSkipIfNoTarget:!0},{id:"Run",title:"Run Button",content:function(){return(0,r.FD)(s.S,{css:p.tooltipContainer,children:[(0,r.Y)(u,{src:f("run-button"),autoPlay:!0,loop:!0}),(0,r.Y)(s.S,{css:p.textContainer,children:(0,r.Y)(c.EY,{children:"Tap the Run button to “run” your code and see its output."})})]})},advanceOnTargetClick:!0},{id:"Output",title:"Output",content:function(){return(0,r.FD)(s.S,{css:p.tooltipContainer,children:[(0,r.Y)(u,{src:f("output"),autoPlay:!0,loop:!0}),(0,r.Y)(s.S,{css:p.textContainer,children:(0,r.Y)(c.EY,{children:"This is where your run output appears. This can be text, websites, games, and more depending on the template you’re using."})})]})}},{id:"Sidepane",title:"Sidebar",content:function(){return(0,r.FD)(s.S,{css:p.tooltipContainer,children:[(0,r.Y)(u,{src:f("sidebar"),autoPlay:!0,loop:!0}),(0,r.FD)(s.S,{css:p.textContainer,children:[(0,r.FD)(c.EY,{children:[(0,r.Y)("strong",{children:"Files"})," is where all of your App’s code is."]}),(0,r.FD)(c.EY,{children:[(0,r.Y)("strong",{children:"Tools"})," is where Packages, Debugger, Chat, Git, and more can be found."]}),(0,r.Y)(c.EY,{children:"You can drag and drop any file or tool. All tools open as tabs instead of opening in the sidebar."})]})]})}},{id:"Share",title:"Invite & Collaborate",content:function(){return(0,r.FD)(s.S,{css:p.tooltipContainer,children:[(0,r.Y)(u,{src:f("invite-multiplayer"),autoPlay:!0,loop:!0}),(0,r.Y)(s.S,{css:p.textContainer,children:(0,r.Y)(c.EY,{children:"Invite others to your App to collaborate and work together at the same time."})})]})}}]}},75403:e=>{e.exports={root:"RecoveryModeFooterDialog_root__II5I5"}},75640:(e,n,t)=>{"use strict";t.d(n,{Od:()=>f,QU:()=>g,Ws:()=>h,n8:()=>v});var r=t(34837),a=t(21462),i=t(54988),o=t(26737),s=t(47737),l=t(98207),u=t(99365),c=t(9092),d=t(70764),f=function(e){return e.Prompt="Prompt",e.CommandStart="CommandStart",e.CommandExecuted="CommandExecuted",e.CommandFinished="CommandFinished",e}({}),p={A:"Prompt",B:"CommandStart",C:"CommandExecuted",D:"CommandFinished"},h={id:"shell.generateWithAI",name:"Generate with AI in the shell",default:(0,c.FM)({cmdOrCtrl:!0,key:"i"})},m=(0,d.x)({root:{marginLeft:"auto"}}),v=133;function g(e){var n=e.onFTCSState,t=e.onOpenGeneratePrompt,c=e.onUpdateCurrentPromptLineNumber,d=(0,o.g)("fontSize").preferences.fontSize,f=(0,a.useRef)(null),v=(0,a.useRef)(null),g=(0,s.m5)(),b=(0,u.Jn)(h.id),y=(0,a.useRef)(null);return(0,a.useCallback)(function(e,a){var o=p[a.split(";")[0]];if(o&&n&&n({state:o,data:a.split(";")[1]}),"B"===a){var s,u,h=e.buffer.active,w=h.cursorX,_=h.cursorY;c(_),f.current&&f.current.dispose(),v.current&&v.current.dispose(),y.current&&(y.current.unmount(),y.current=null);var S=Math.round(12.6);f.current=e.registerMarker(0),v.current=null!=(u=e.registerDecoration({marker:f.current,x:Math.max(0,e.cols-S),width:S,layer:"top"}))?u:null,null==(s=v.current)||s.onRender(function(n){for(var a=!1,o=e.buffer.active._buffer.lines._array[_],s=w;s<e.cols;s++)if((null==o?void 0:o.hasContent(s))!==0){a=!0;break}var u=!a;y.current||(y.current=(0,i.createRoot)(n)),y.current.render(u?(0,r.Y)(l.u,{css:m.root,onClick:function(e){e.stopPropagation(),t()},keyCombo:g?void 0:b,text:"Generate",fontSize:Math.round(.9*d)}):null)})}},[t,c,g,b,d,n])}},76135:(e,n,t)=>{"use strict";t.d(n,{fd:()=>T,Ff:()=>S,Wd:()=>w});var r=t(53847),a=t(35992),i=t(86035),o=t(49069),s=t(45773),l=t(86105),u=t(27213),c=t.n(u),d=t(88408),f=["py","md"],p=d.filter(function(e){return!f.includes(e)}).map(function(e){return new RegExp("\\.".concat(e.replace(".",""),"$"))}),h=/(https?:\/\/)?[\w~@#$%&+=\-.]+\.[^\s]+/g,m=new Set(["sh","md"]);function v(e){for(var n,t=[];null!==(n=h.exec(e));){for(var r=n[0];r.length>0&&/[.,!?)]$/.test(r);)r=r.slice(0,-1);if(!/@/.test(r)||/^https?:\/\//.test(r)){var a=/^https?:\/\//.test(r);if(!a){var i=(function(e){var n,t;return null!=(t=(null!=(n=e.replace(/^https?:\/\//,"").split(/[/?#]/)[0])?n:"").split(":")[0])?t:""})(r).toLowerCase(),o=i.lastIndexOf("."),s=o>=0?i.slice(o+1):"";if(m.has(s))continue}(a?c()(r,{host_whitelist:(0,l._)(p).concat((0,l._)(Array.from(m).map(function(e){return new RegExp("\\.".concat(e,"$"))})))}):c()(r,{host_whitelist:p}))&&t.push({url:r,start:n.index,end:n.index+r.length})}}return t}var g=t(39534),b=t(29274),y=t(38848);i.UPK.URL_SCREENSHOT,y.A,i.UPK.URL_CRAWL_CONTENT,b.A;var w=o.sU.define({create:function(e){return[]},update:function(e,n){return(0,a.jM)(e,function(e){var t=!0,r=!1,a=void 0;try{for(var i,o=n.effects[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)!function(){var n=i.value;if(n.is(_)){var t=n.value;0>e.findIndex(function(e){return e===t})&&e.push(t)}n.is(S)&&e.splice(0,e.length)}()}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}})}}),_=o.Pe.define(),S=o.Pe.define(),A=o.sU.define({create:function(){return s.NZ.none},update:function(e,n){var t=[],r=v(n.state.doc.toString()),a=!0,i=!1,o=void 0;try{for(var l,u=r[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value,d=c.start,f=c.end,p=c.url,h=p.startsWith("http://")||p.startsWith("https://")?p:"https://".concat(p),m=s.NZ.mark({class:"cm-url-underline",tagName:"a",attributes:{style:'--favicon-url: url("https://www.google.com/s2/favicons?domain='.concat(function(e){var n=x.get(e);if(n)return n;var t=e;try{t=new URL(e).hostname}catch(n){t=e}return x.set(e,t),t}(h),'&sz=32")'),href:h,target:"_blank",rel:"noreferrer noopener nofollow",title:"".concat(!function(){if(void 0===E){var e;E=null==(e=window)?void 0:e.navigator.userAgent.includes("Macintosh")}return E}()?"CTRL":"CMD"," + Click to open in a new tab")}});t.push(m.range(d,f))}}catch(e){i=!0,o=e}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}return s.NZ.set(t)},provide:function(e){return s.Lz.decorations.from(e)}}),k=s.Lz.baseTheme({".cm-url-underline":{textDecoration:"underline 0.5px ".concat(g.LU.blueDefault),textUnderlineOffset:"2px","--favicon-url":"none","--icon-size":"16px","--gap":"4px","--padding-h":"2px",position:"relative",backgroundColor:"color-mix(in srgb, ".concat(g.LU.accentPrimaryDefault," 10%, ").concat(g.LU.interactiveBackground,")"),padding:"2px var(--padding-h)",borderRadius:"4px",color:"".concat(g.LU.accentPrimaryDefault),paddingLeft:"calc(var(--icon-size) + (var(--padding-h) * 2))",transition:"all 0.2s"},".cm-url-underline:hover":{backgroundColor:"color-mix(in srgb, ".concat(g.LU.accentPrimaryDefault," 20%, ").concat(g.LU.interactiveBackground,")")},".cm-url-underline::after":{content:"''",position:"absolute",top:"4px",left:"var(--padding-h)",width:"var(--icon-size)",height:"var(--icon-size)",backgroundImage:"var(--favicon-url)",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",borderRadius:"2px",pointerEvents:"none"},".cm-url-underline::selection":{color:"".concat(g.LU.foregroundDimmer)}}),C=s.Lz.updateListener.of(function(e){if(e.docChanged){var n=v(e.state.doc.toString()),t=e.view,r=t.state.field(w),a=n.map(function(e){return e.url});if(!function(e,n){if(e.length!==n.length)return!1;var t=new Set(e);return n.every(function(e){return t.has(e)})}(r,a)&&(t.dispatch({effects:S.of(null)}),a.length>0)){var i=!0,o=!1,s=void 0;try{for(var l,u=a[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;t.dispatch({effects:_.of(c)})}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}}}}),Y=s.Lz.domEventHandlers({click:function(e){var n=(0,r._)(e.target,HTMLElement)&&e.target.closest("a.cm-url-underline");if(!n)return!1;if(!(e.metaKey||e.ctrlKey))return e.preventDefault(),!0;e.preventDefault();var t=n.getAttribute("href");return t&&window.open(t,"_blank","noopener,noreferrer"),!0}}),E=void 0,x=new Map,T=[A,k,w,C,Y]},76420:(e,n,t)=>{"use strict";t.d(n,{yN:()=>D});var r=t(12694),a=t(34837),i=t(21462),o=t(49999),s=t(11901),l=t(42845),u=t(84383),c=t(30724),d=t(70764),f=t(18712),p=t(40756),h=t(73455),m=t(91953),v=t(25227),g=t(70399),b=t(22440),y=t(93715),w=t(94686),_=(0,d.x)({wrapper:[f.wp.py(6),f.wp.flex.row,f.wp.align.center,f.wp.backgroundColor.backgroundHigher],wrapperWarning:[f.wp.py(6),f.wp.flex.row,f.wp.align.center,f.wp.backgroundColor.orangeDimmest],firstLine:[f.wp.flex.wrap,f.wp.maxWidth("100%"),f.wp.overflow("hidden")],secondLine:[f.wp.px(6),f.wp.rowWithGap(2),f.wp.align.center,f.wp.flex.wrap,f.wp.maxWidth("100%"),f.wp.overflow("hidden"),f.wp.color.foregroundDimmest],secondLineWarning:[f.wp.px(6),f.wp.rowWithGap(2),f.wp.align.center,f.wp.flex.wrap,f.wp.maxWidth("100%"),f.wp.overflow("hidden"),f.wp.color.orangeStrongest],verticalDivider:[f.wp.ml(6),f.wp.mr(6),f.wp.height("1em"),f.wp.width(1),f.wp.backgroundColor.foregroundDefault]});function S(e){var n=e.openNetworkingTool,t=e.onClose,r=e.onDontExposePort,i=e.onDoExposePort,o=e.firstLine,s=e.secondLine,l=e.renderSecondLine,u=e.renderDontExposeButton,c=e.renderDoExposeButton,d=e.isWarning,f=void 0!==d&&d;return(0,a.FD)(v.S,{css:f?_.wrapperWarning:_.wrapper,children:[(0,a.FD)(v.S,{grow:!0,shrink:!0,children:[(0,a.Y)(v.S,{css:_.firstLine,px:6,row:!0,gap:2,align:"center",children:o}),l?(0,a.Y)(v.S,{css:f?_.secondLineWarning:_.secondLine,children:s}):null]}),(0,a.FD)(v.S,{pr:6,row:!0,children:[(0,a.Y)(h.K0,{alt:"Networking tool",onClick:n,children:(0,a.Y)(w.A,{})}),void 0!==u&&u?(0,a.Y)(h.K0,{alt:"Don't expose this port to the web",onClick:r,children:(0,a.Y)(y.A,{})}):null,void 0!==c&&c?(0,a.Y)(h.K0,{alt:"Expose this port to the web",onClick:i,children:(0,a.Y)(b.A,{})}):null,(0,a.Y)(h.K0,{alt:"Close",onClick:t,children:(0,a.Y)(g.A,{})})]})]})}function A(e){var n=e.configuration,t=e.openWebview,r=e.openNetworkingTool,i=e.onClose,o=e.onDontExposePort,s=e.renderSecondLine,u=(0,l.r$)(n.externalPort)?"{...}.replit.dev":"{...}.replit.dev:".concat(n.externalPort);return(0,a.Y)(S,{openNetworkingTool:r,onClose:i,firstLine:(0,a.FD)(a.FK,{children:[(0,a.FD)(m.EY,{children:["Port :",n.localPort," opened on"]}),(0,a.Y)(p.$n,{variant:"underlined",text:u,onClick:t})]}),secondLine:(0,a.FD)(a.FK,{children:[(0,a.Y)(m.EY,{children:"You can manage this config in the"}),(0,a.Y)(p.$n,{variant:"underlined",text:"Networking tool",onClick:r})]}),renderSecondLine:s,renderDontExposeButton:!0,onDontExposePort:o})}function k(e){var n=e.configuration,t=e.openNetworkingTool,r=e.onClose,i=e.renderSecondLine,o=e.onDoExposePort;return(0,a.Y)(S,{openNetworkingTool:t,onClose:r,firstLine:"Port :".concat(n.localPort," opened, but not exposed to the web."),secondLine:(0,a.Y)(p.$n,{variant:"underlined",text:"Expose this port?",onClick:t}),renderSecondLine:i,renderDoExposeButton:!0,onDoExposePort:o})}function C(e){var n=e.openNetworkingTool,t=e.configuration,r=e.onClose,i=e.renderSecondLine;return(0,a.Y)(S,{isWarning:!0,openNetworkingTool:n,onClose:r,firstLine:"Port :".concat(t.localPort," opened, but all available external ports are reserved."),secondLine:(0,a.FD)(a.FK,{children:[(0,a.Y)(m.EY,{children:"Remove an external port in"}),(0,a.Y)(p.$n,{variant:"underlined",text:"port configuration",onClick:n}),(0,a.Y)(m.EY,{children:"to open a new port."})]}),renderSecondLine:i})}function Y(e){var n=e.openNetworkingTool,t=e.configuration,r=e.onClose,i=e.renderSecondLine;return(0,a.Y)(S,{isWarning:!0,openNetworkingTool:n,onClose:r,firstLine:"Port :".concat(t.localPort," opened, but is not configured properly."),secondLine:(0,a.FD)(a.FK,{children:[(0,a.Y)(m.EY,{children:"You can fix this in the"}),(0,a.Y)(p.$n,{variant:"underlined",text:"Networking tool",onClick:n})]}),renderSecondLine:i})}function E(e){var n=e.openNetworkingTool,t=e.configuration,r=e.onClose,i=e.renderSecondLine;return(0,a.Y)(S,{isWarning:!0,openNetworkingTool:n,onClose:r,firstLine:"Port :".concat(t.localPort," opened, but has missing configuration."),secondLine:(0,a.FD)(a.FK,{children:[(0,a.Y)(m.EY,{children:"You can fix this in the"}),(0,a.Y)(p.$n,{variant:"underlined",text:"Networking tool",onClick:n})]}),renderSecondLine:i})}function x(e){var n=e.configuration,t=e.openWebview,r=e.openNetworkingTool,i=e.onClose,s=e.onDontExposePort,l=e.onDoExposePort,c=e.renderSecondLine,d=n.type;switch(d){case u.gH.FORWARDED:return(0,a.Y)(A,{configuration:n,openWebview:t,openNetworkingTool:r,onClose:i,renderSecondLine:c,onDontExposePort:s});case u.gH.INTERNAL_ONLY:return(0,a.Y)(k,{configuration:n,openNetworkingTool:r,onClose:i,renderSecondLine:c,onDoExposePort:l});case u.gH.NO_MORE_EXTERNAL_PORTS_AVAILABLE:return(0,a.Y)(C,{configuration:n,openNetworkingTool:r,onClose:i,renderSecondLine:c});case u.gH.MISCONFIGURED:return(0,a.Y)(Y,{configuration:n,openNetworkingTool:r,onClose:i,renderSecondLine:c});case u.gH.CONFIG_MISSING:return(0,a.Y)(E,{configuration:n,openNetworkingTool:r,onClose:i,renderSecondLine:c});default:(0,o.A)(d)}}function T(e){var n=e.configurations,t=e.openWebview,r=e.openNetworkingTool,i=e.onClose,o=e.renderSecondLine,l=n.filter(function(e){return e.type===u.gH.FORWARDED}),c=n.filter(function(e){return e.type!==u.gH.FORWARDED});return(0,a.Y)(S,{isWarning:!1,openNetworkingTool:r,onClose:i,firstLine:(0,a.FD)(a.FK,{children:[l.length>0?(0,a.FD)(a.FK,{children:[(0,a.FD)(m.EY,{children:[l.length," ",(0,s.A)("port",l.length)," ","opened on"]}),(0,a.Y)(p.$n,{variant:"underlined",text:"{...}.replit.dev",onClick:t})]}):null,l.length>0&&c.length>0?(0,a.Y)(v.S,{css:_.verticalDivider}):null,c.length>0?(0,a.FD)(m.EY,{children:[c.length," ",(0,s.A)("port",c.length)," ","did not open"]}):null]}),secondLine:(0,a.FD)(a.FK,{children:[(0,a.Y)(m.EY,{children:"You can manage this config in the"}),(0,a.Y)(p.$n,{variant:"underlined",text:"Networking tool",onClick:r})]}),renderSecondLine:o})}function D(e){var n=e.configurations,t=e.openWebview,o=e.openNetworkingTool,s=e.onClose,l=e.onDontExposePort,u=e.onDoExposePort,d=(0,c.Z)("port-nudges"),f=(0,r._)((0,i.useState)(!1),2),p=f[0],h=f[1],m=!d.isDone,v=(0,r._)((0,i.useState)(!0),2),g=v[0],b=v[1];function y(){b(!1),null==s||s()}return((0,i.useEffect)(function(){0===n.length&&b(!0)},[n]),(0,i.useEffect)(function(){if(!d.isDone){if(n.length>0&&!p)return void h(!0);0===n.length&&p&&d.setAsDone()}},[n,d,p]),g&&0!==n.length)?1===n.length?(0,a.Y)(x,{configuration:n[0],openNetworkingTool:o,openWebview:t,renderSecondLine:m,onClose:y,onDontExposePort:l,onDoExposePort:u}):(0,a.Y)(T,{configurations:n,openNetworkingTool:o,openWebview:t,renderSecondLine:m,onClose:y}):null}},76428:(e,n,t)=>{"use strict";t.d(n,{A:()=>eb,x:()=>eg});var r=t(29935),a=t(12694),i=t(82643),o=t(34837),s=t(21462),l=t(17844),u=t(12584),c=t(41114),d=t(54744);function f(){var e=(0,u._)(["\n  query ReplAuth($replID: String!) {\n    getRepl(id: $replID) {\n      ... on Repl {\n        id\n        config {\n          isServer\n        }\n      }\n    }\n    currentUser {\n      id\n      isLoggedIn\n    }\n  }\n"]);return f=function(){return e},e}var p={},h=(0,c.J1)(f()),m=t(67862),v=t(59270),g=t(78725),b=t(21090),y=t(53899),w=t(61125),_=t(34778),S=t(40115),A=t(13672),k=t(48576),C="Import HTML package",Y=[{title:"Get user info",content:[{type:"code",value:'<script type="module">const user = await getUserInfo() <\/script>'}]}],E=[{title:C,content:[{type:"code",value:'<script src="https://replit.com/public/js/repl-auth-v2.js"><\/script>'}]}],x=[{title:"Insert custom button",content:[{type:"code",value:'<button onclick="LoginWithReplit()"> Login </button>'}]}],T=t(86105),D=t(49999),I=t(98565),R=t(19786),N="Import Node package",O=[{title:"Get user info",content:[{type:"code",value:"const user = getUserInfo("},{type:"input",placeholder:"req"},{type:"code",value:")"}]}],P=[{title:N,content:[{type:"code",value:'const { getUserInfo } = require("@replit/repl-auth")'}]}],F=t(87384),U=t(88233),L=t(70764),M=t(18712),J=t(40756),H=t(73455),B=t(83096),V=t(3937),$=t(91953),G=t(25227),z=t(13298),W=t(29274),j=t(85801),q=(0,L.x)({templateContainer:[M.wp.backgroundColor.backgroundRoot,M.wp.borderRadius(4),M.wp.p(4),M.wp.align.center],input:[M.wp.minWidth(64),M.wp.flex.growAndShrink(1)],codeExampleContainer:[M.wp.borderRadius(4),M.wp.flex.shrink(1)],codeExampleText:[M.wp.font.code,M.wp.color.foregroundDimmer,M.wp.py(4),M.wp.flex.growAndShrink(1)]}),Z=function(e){var n=e.title,t=e.content,r=(0,a._)((0,s.useState)(t),2),i=r[0],l=r[1];return(0,o.FD)(G.S,{gap:4,children:[(0,o.FD)(G.S,{row:!0,gap:4,align:"center",children:[(0,o.Y)($.EY,{variant:"subheadDefault",children:n}),"Get user info"===n?(0,o.Y)(H.K0,{disabled:!0,tooltipPlacement:"top",alt:"User object contains 'id', 'name', 'roles', and 'teams'",children:(0,o.Y)(j.A,{})}):null]}),(0,o.FD)(G.S,{gap:4,children:[(0,o.Y)(G.S,{css:q.templateContainer,row:!0,gap:4,justify:"center",children:t.map(function(e,t){var r=e.type;switch(r){case"input":return(0,o.Y)(B.pd,{onChange:function(e){var n=(0,T._)(i);n[t].value=e.target.value,l(n)},placeholder:e.placeholder,value:e.value||"",css:q.input},"".concat(n,"-").concat(t));case"code":return(0,o.Y)(G.S,{css:q.codeExampleContainer,children:(0,o.Y)($.EY,{multiline:!1,css:q.codeExampleText,children:e.value})},"".concat(n,"-").concat(t));default:(0,D.A)(r)}})}),(0,o.Y)(K,{code:i.reduce(function(e,n){return"input"===n.type?e+(n.value||n.placeholder):e+n.value},""),packageImport:n===N||n===C})]})]})},K=function(e){var n=e.code,t=e.packageImport,r=(0,U.rM)(),a=(0,F.A)(r),i=(0,S.A)().fs,s=(0,U.vO)();return a?(0,o.Y)(V.ui,{children:(0,o.Y)(J.$n,{size:"small",variant:"outlined",onClick:function(){var e,o;if(t&&r&&i)return"html"!==(0,v.an)(r)?void a({code:n,insertAt:0}):void i.readFile(r).then(function(e){if(e.error)throw e.error;var t=I.A.from(e.content).toString(),r=t.indexOf("</head>")-1;-1===r&&(r=t.indexOf("<script")),-1===r&&(r=t.indexOf("</body>")),-1===r&&(r=t.length),a({code:n,insertAt:r})});a({code:n,insertAt:null!=(o=null==(e=s())?void 0:e.position.offset)?o:0})},text:t?"Auto add":"Insert",iconRight:(0,o.Y)(z.A,{}),css:{width:"fit-content"}})}):(0,o.Y)(V.ui,{children:(0,o.Y)(J.$n,{size:"small",variant:"outlined",onClick:function(){return(0,R.default)(n)},text:"Copy",iconLeft:(0,o.Y)(W.A,{}),css:{width:"fit-content"}})})},Q=function(e){var n=e.examples;return(0,o.Y)(G.S,{gap:16,children:n.map(function(e,n){return(0,o.Y)(Z,{title:e.title,content:e.content},n)})})};let X=function(e){var n=e.langKey;return(0,o.FD)(G.S,{gap:8,children:[" ","html"!==n&&(0,o.Y)(Q,{examples:E}),(0,o.Y)(Q,{examples:x})]})};var ee=[{title:"Fetch from client",content:[{type:"code",value:"CURL /__replauthuser"}]},{title:"Or access server request headers",content:[{type:"code",value:"X-Replit-User-Id"}]},{title:"",content:[{type:"code",value:"X-Replit-User-Name"}]},{title:"",content:[{type:"code",value:"X-Replit-User-Teams"}]},{title:"",content:[{type:"code",value:"X-Replit-User-Roles"}]}],en=t(42793),et=(0,en.AH)([M.wp.colWithGap(16)]);let er=function(){return(0,o.Y)(G.S,{css:et,children:ee.map(function(e,n){return(0,o.Y)(Z,{title:e.title,content:e.content},n)})})};var ea=(0,en.AH)([M.wp.colWithGap(8)]);let ei=function(e){var n=e.langKey,t=(0,o.Y)(er,{});switch(n){case"html":t=(0,o.Y)(Q,{examples:Y});break;case"nodejs":t=(0,o.Y)(Q,{examples:O})}return(0,o.Y)(G.S,{css:ea,children:t})},eo=function(e){var n=e.langKey,t=null;switch(n){case"html":t=E;break;case"nodejs":t=P}return t?(0,o.Y)(G.S,{gap:8,children:(0,o.Y)(Q,{examples:t})}):null};var es=t(62246),el=t(39534),eu=t(93868),ec=t(16653),ed=t(9844),ef=t(2142),ep=t(99229),eh=t(53432),em=t(90843),ev=(0,L.x)({link:[M.wp.color.accentPrimaryStronger,M.wp.cursor.pointer],errorContainer:[M.wp.textAlign.center,M.wp.colWithGap(4)],usageSectionTitleText:[{color:el.LU.foregroundDimmest,textTransform:"uppercase",fontWeight:el.LU.fontWeightMedium}],divider:[M.wp.backgroundColor.outlineDimmer]}),eg=function(){var e=(0,S.A)(),n=e.dotReplit,t=e.fs,o=(0,a._)((0,s.useState)(),2),l=o[0],u=o[1],c=(0,a._)((0,s.useState)(!1),2),d=c[0],f=c[1],p=(0,a._)((0,s.useState)(!1),2),h=p[0],m=p[1],v=(0,a._)((0,s.useState)(!0),2),b=v[0],w=v[1],_=(0,a._)((0,s.useState)(!0),2),A=_[0],k=_[1],C=(0,s.useCallback)(function(){return(0,r._)(function(){var e,t,r,a,o;return(0,i.YH)(this,function(i){switch(i.label){case 0:u(void 0),w(!0),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,n.getConfig({bypassCache:!0})];case 2:switch((o=i.sent()).error){case y.DO.ParseError:throw Error("An error occurred parsing the .replit file, please ensure the syntax is valid");case y.DO.Disconnected:throw Error("Disconnected, cannot read .replit file.");case y.DO.NotFound:return k(!1),[2]}return f(!!(null==o||null==(t=o.config)||null==(e=t.auth)?void 0:e.buttonEnabled)),m(!!(null==o||null==(a=o.config)||null==(r=a.auth)?void 0:r.pageEnabled)),[3,5];case 3:return u(i.sent().message),[3,5];case 4:return w(!1),[7];case 5:return[2]}})})()},[n,u,w,k,f,m]);return(0,s.useEffect)(function(){(0,r._)(function(){return(0,i.YH)(this,function(e){switch(e.label){case 0:if(!t)return[2];return[4,C()];case 1:return e.sent(),[2]}})})()},[t,C]),(0,s.useEffect)(function(){if(t){var e=t.watchTextFile(g.v,{onChange:function(){return(0,r._)(function(){return(0,i.YH)(this,function(e){switch(e.label){case 0:return[4,C()];case 1:return e.sent(),[2]}})})()}});return function(){e(),m(!1),f(!1),w(!1)}}},[t,m,C]),{error:l,isDotReplitAuthButtonEnabled:d,isDotReplitAuthPageEnabled:h,isDotReplitAuthLoading:b,hasDotReplit:A,setError:u,setIsDotReplitAuthLoading:w,isDotReplitAuthEnabled:d||h}};function eb(){var e,n,t,u,c,f,g=(0,w.A)(),y=(0,S.A)().dotReplit,C=(0,U.rM)(),Y=C?(0,v.an)(C):null,E=(0,A.J)().configs,x=(0,a._)((0,s.useState)(""),2),T=x[0],D=x[1],I=(e={variables:{replID:g}},n=(0,l._)({},p,e),d.I(h,n)),R=I.data,N=I.error,O=I.loading,P=(null==R?void 0:R.getRepl.__typename)==="Repl"&&(null==R||null==(u=R.getRepl)||null==(t=u.config)?void 0:t.isServer),F=null!=(f=null==R||null==(c=R.currentUser)?void 0:c.isLoggedIn)&&f,L=eg(),H=L.error,B=L.isDotReplitAuthButtonEnabled,V=L.isDotReplitAuthPageEnabled,z=L.isDotReplitAuthLoading,W=L.hasDotReplit,j=L.setError,q=L.setIsDotReplitAuthLoading,Z=L.isDotReplitAuthEnabled;(0,s.useEffect)(function(){if(E.find(function(e){return"react"===e.language})||"jsx"===Y||"tsx"===Y)return void D("react");E.length>0&&D(E[0].language)},[Y,T,D,E]);var K=(0,s.useCallback)(function(){return(0,r._)(function(){return(0,i.YH)(this,function(e){switch(e.label){case 0:return q(!0),(0,_.u4)(_.AZ.AUTH_SIDEBAR_USED,{action:"Login Page Enabled"}),[4,y.updateDotReplit([(0,b.qG)(!0),(0,b.D8)(!1)])];case 1:return e.sent().error&&(j("Couldn't enable login page, please try again"),q(!1)),[2]}})})()},[q,y,j]),Q=(0,s.useCallback)(function(){return(0,r._)(function(){return(0,i.YH)(this,function(e){switch(e.label){case 0:return q(!0),(0,_.u4)(_.AZ.AUTH_SIDEBAR_USED,{action:"Login Button Enabled"}),[4,y.updateDotReplit([(0,b.qG)(!1),(0,b.D8)(!0)])];case 1:return e.sent().error&&(j("Couldn't enable login button, please try again"),q(!1)),[2]}})})()},[q,y,j]),ee=(0,s.useCallback)(function(){return(0,r._)(function(){return(0,i.YH)(this,function(e){switch(e.label){case 0:return q(!0),(0,_.u4)(_.AZ.AUTH_SIDEBAR_USED,{action:"Repl auth disabled"}),[4,y.updateDotReplit([(0,b.qG)(!1),(0,b.D8)(!1)])];case 1:return e.sent().error&&(j("Couldn't disable Log in with Replit, please try again"),q(!1)),[2]}})})()},[q,y,j]),en=(0,s.useMemo)(function(){return F?W?N?(0,o.Y)(G.S,{css:ev.errorContainer,children:(0,o.Y)(ed.N,{colorway:"warning",text:"An error ocurred retrieving auth for this App. Please try again later."})}):"html"===T||P?void 0:(0,o.Y)(G.S,{css:ev.errorContainer,children:(0,o.Y)(ed.N,{colorway:"warning",text:"Run your web app to use Log in with Replit"})}):(0,o.FD)(G.S,{css:ev.errorContainer,children:[(0,o.Y)(ed.N,{colorway:"warning",text:"Please create a .replit file to use Log in with Replit"}),(0,o.Y)($.EY,{children:(0,o.Y)("a",{href:"https://docs.replit.com/replit-workspace/configuring-repl",target:"_blank",rel:"noopener",children:"Learn more about the .replit file"})})]}):(0,o.Y)(G.S,{css:ev.errorContainer,children:(0,o.Y)(ey,{})})},[N,W,F,P,T]),et="html"===T||"nodejs"===T,er=(0,o.Y)($.EY,{color:"dimmer",children:"You can use Log in with Replit with all web Apps. We have language clients for Nodejs and HTML - switch to an App that uses that language to see how to use it."}),ea=(0,o.FD)(G.S,{gap:24,children:[(0,o.FD)(G.S,{gap:8,children:[V?(0,o.FD)($.EY,{color:"dimmer",children:["Your App will automatically direct users to a prebuilt login page. Start by importing the package below"," ",(0,o.FD)("span",{onClick:Q,css:ev.link,onKeyDown:Q,role:"button",tabIndex:0,children:[" ","or use your own custom button."]}),(0,o.Y)("br",{}),"Repl Auth is not intended for API authentication."]}):(0,o.FD)($.EY,{color:"dimmer",children:["Your users can log in to your App using a custom button. Start by importing the package below"," ",(0,o.FD)("span",{onClick:K,css:ev.link,onKeyDown:K,role:"button",tabIndex:0,children:[" ","or use a prebuilt login page."]})]}),et?void 0:er]}),(0,o.FD)(G.S,{children:["nodejs"===T&&B?null:(0,o.Y)(eo,{langKey:T}),B?(0,o.Y)(X,{langKey:T}):null]}),(0,o.FD)(G.S,{gap:8,children:[(0,o.FD)(G.S,{gap:2,children:[(0,o.Y)($.EY,{multiline:!1,variant:"small",css:ev.usageSectionTitleText,children:"Usage"}),(0,o.Y)(ec.a,{css:ev.divider})]}),(0,o.Y)(G.S,{children:(0,o.FD)(G.S,{gap:12,children:[" ","nodejs"===T&&B?(0,o.Y)(eo,{langKey:T}):null,(0,o.Y)(ei,{langKey:T})]})})]}),(0,o.Y)(J.$n,{onClick:ee,text:"Disable Auth",colorway:"negative",variant:"outlined",loading:z||O})]}),el=(0,es.Vv)().getDescription({type:"replAuth"}),ep=(0,o.FD)(G.S,{gap:8,children:[(0,o.Y)($.EY,{css:M.wp.textAlign.center,children:el}),(0,o.Y)(J.$n,{colorway:"primary",onClick:K,text:"Enable Login Page",loading:z||O,disabled:!!H,iconLeft:(0,o.Y)(eh.A,{})}),(0,o.FD)($.EY,{color:"dimmer",css:M.wp.textAlign.center,children:["Alternatively,"," ",(0,o.Y)("span",{onClick:Q,css:ev.link,onKeyDown:Q,role:"button",tabIndex:0,children:"use a custom login button"}),".",(0,o.Y)("br",{}),"Repl Auth is not intended for API authentication."]})]}),eb=(0,o.Y)(eu.v,{href:m.ik.REPL_AUTH,variant:"nofill",target:"_blank",rel:"noopener",iconLeft:(0,o.Y)(ef.A,{}),text:"Learn more"});return(0,o.Y)(k.A,{pane:{type:"replAuth"},maxWidth:Z?600:450,headerText:"Login with Replit",body:(0,o.FD)(o.FK,{children:[H?(0,o.Y)(ed.N,{text:H,colorway:Z?void 0:"warning",icon:(0,o.Y)(em.A,{})}):null,null!=en?en:Z?ea:ep]}),action:en?void 0:eb})}var ey=function(){return(0,o.FD)(G.S,{gap:16,children:[(0,o.FD)($.EY,{children:[(0,o.Y)("a",{href:m.ik.REPL_AUTH,target:"_blank",rel:"noopener",css:ev.link,children:"Replit Authentication"})," ","is the fastest and easiest way to set up authentication in your App. Try it out by logging in or signing up."]}),(0,o.Y)(eu.v,{href:"/auth",as:"/signup",colorway:"primary",text:"Sign up",iconLeft:(0,o.Y)(ep.A,{})})]})}},76611:e=>{e.exports={benefitItem:"FreemiumQuotaExceeded_benefitItem__H40sR",longMessage:"FreemiumQuotaExceeded_longMessage___pZK9",shortMessage:"FreemiumQuotaExceeded_shortMessage__wiXrw",root:"FreemiumQuotaExceeded_root__VICrJ",header:"FreemiumQuotaExceeded_header__SA2fi",title:"FreemiumQuotaExceeded_title__0Ujl6",messageContainer:"FreemiumQuotaExceeded_messageContainer__Joml1",textContainer:"FreemiumQuotaExceeded_textContainer__FxkEA",benefitIcon:"FreemiumQuotaExceeded_benefitIcon__6HPdq",upgradeButton:"FreemiumQuotaExceeded_upgradeButton__Bz_QD"}},76920:(e,n,t)=>{"use strict";t.d(n,{D:()=>i});var r=t(49069),a=t(68803);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=r.Pe.define(),i=r.sU.define({create:function(){return n},update:function(n,r){return(0,a.C)(r,t,function(t){n=e(t.value,n)}),n}});return{effect:t,state:i}}},77164:(e,n,t)=>{"use strict";t.d(n,{Y:()=>eh,m:()=>ev});var r=t(29935),a=t(17844),i=t(93629),o=t(17459),s=t(12694),l=t(82643),u=t(34837),c=t(21462),d=t(82315),f=t(7990),p=t.n(f),h=t(12101),m=t.n(h),v=t(30284),g=t(82207),b=t(17997),y=t(44425),w=t(28904),_=t(91242),S=t(46221),A=t(25227),k=/(.+)(?:\S+)?<([^>,]+)[>,]/,C=A.D.span;function Y(e){var n=e.author,t=k.exec(n);if(t){var r=t[1],a=t[2];return(0,u.FD)(u.FK,{children:["By ",r,(0,u.FD)("a",{href:"mailto:".concat(a),children:["<",a,">"]})]})}return(0,u.FD)(C,{children:["By ",n]})}var E=t(30705),x=t(74013),T=t(33683),D=t(43193);function I(e){var n=e.isInstalled,t=e.isInQueue;return e.isCurrentAction?(0,u.Y)(T.A,{}):t?(0,u.Y)(E.A,{}):n?(0,u.Y)(D.A,{}):(0,u.Y)(x.A,{})}var R=t(44925),N=t(70450),O=t(12493),P=t(39534),F=t(70764),U=t(24499),L=t(18712),M=t(40756),J=t(73455),H=t(9844),B=t(3937),V=t(91953),$=t(81512),G=t(49941),z=t(90843),W=A.D.span,j=(0,F.x)({metadataSkeletonVersion:[U.S.foregroundPulse(),L.wp.height(16),L.wp.maxWidth(64),L.wp.borderRadius(4)],metadataSkeletonDescription:[U.S.foregroundPulse(),L.wp.height(16),L.wp.borderRadius(4),L.wp.maxWidth(425)],root:[L.wp.borderRadius(8),L.wp.p(8)],headerTitle:[L.wp.display.flex,L.wp.rowWithGap(8),L.wp.flex.growAndShrink(1)],headerTitleText:[L.wp.display.inline,L.wp.flex.growAndShrink(1),L.wp.overflow("hidden"),L.wp.truncate],headerTitlePills:[L.wp.display.inlineFlex,L.wp.rowWithGap(4),L.wp.flex.shrink(0)],headerButton:[],error:[L.wp.mt(4)],actions:[L.wp.mt(8)],consoleButton:[L.wp.width("calc(50% - ".concat(P.LU.space8,")"))],cancelButton:[L.wp.width("calc(50% - ".concat(P.LU.space8,")"))],actionButton:[L.wp.flex.grow(1),L.wp.flex.shrink(0)]});function q(e){var n=e.title,t=e.content,r=e.isExpanded;return(0,u.FD)(A.S,{gap:2,children:[n?(0,u.Y)(V.EY,{color:"dimmer",children:n}):null,t?(0,u.Y)(V.EY,{maxLines:r?void 0:1,children:t}):null]})}function Z(e){var n=e.title,t=e.content;return(0,u.FD)(A.S,{pt:4,gap:8,children:[void 0===n||n?(0,u.Y)(A.S,{css:j.metadataSkeletonVersion}):null,void 0===t||t?(0,u.Y)(A.S,{css:j.metadataSkeletonDescription}):null]})}function K(e){var n,t=e.name,r=e.pkg,a=e.isMetadataLoading,i=e.openConsole,o=e.pills,l=(0,O.UK)(),d=(0,N.H_)(null==l?void 0:l.id),f=(0,N.xB)(null==l?void 0:l.id),p=(0,N.BL)(),h=(0,N.n5)(),m=(0,N.D6)(),v=(0,R.A)(r.license),g=(0,c.useMemo)(function(){return!!(null!==p&&p.pkgs.find(function(e){return e.name===r.name}))},[p]),b=(0,c.useMemo)(function(){return h.find(function(e){return e.pkgs.find(function(e){return e.name===r.name})})},[h]),y=h.length>1&&!!b,w=(0,c.useMemo)(function(){return!!d.find(function(e){var n,t;return(null==(n=e.name)?void 0:n.toLowerCase())===(null==(t=r.name)?void 0:t.toLowerCase())})},[d]),_=!!(r.homepageURL||r.license||r.author),S=(0,c.useMemo)(function(){return!!f.find(function(e){return e.name===r.name})},[f]),k=(0,s._)((0,c.useState)(!1),2),C=k[0],E=k[1],x=(0,N.rD)(),T=(0,N.q3)(),D=(0,N.Gg)();return(0,u.FD)(B.ui,{css:j.root,elevated:!0,children:[(0,u.FD)(A.S,{row:!0,justify:"space-between",children:[(0,u.FD)(V.Y9,{css:j.headerTitle,level:2,variant:"subheadDefault",multiline:!1,children:[(0,u.FD)(W,{css:j.headerTitleText,children:[null!=t?t:r.name,r.version?(0,u.FD)(V.EY,{color:"dimmer",children:["@",r.version]}):null]}),o?(0,u.Y)(A.S,{css:j.headerTitlePills,children:o}):null]}),_?(0,u.Y)(J.K0,{css:j.headerButton,alt:"Show more info",tooltipBehavior:"hidden",onClick:function(){return E(function(e){return!e})},children:(0,u.Y)($.A,{rotate:90*!!C})}):null]}),(0,u.Y)(A.S,{gap:4,children:void 0!==a&&a?(0,u.Y)(Z,{title:!1}):(0,u.FD)(u.FK,{children:[(0,u.Y)(q,{content:null!=(n=r.description)?n:"This package has no description.",isExpanded:!0}),r.homepageURL&&C?(0,u.Y)(q,{content:(0,u.Y)("a",{href:r.homepageURL,rel:"noreferrer noopener",target:"_blank",children:r.homepageURL}),isExpanded:C}):null,v&&C?(0,u.Y)(q,{content:v,isExpanded:C}):null,r.author&&C?(0,u.Y)(q,{content:(0,u.Y)(Y,{author:r.author}),isExpanded:C}):null]})}),S?(0,u.Y)(H.N,{css:j.error,colorway:"negative",icon:(0,u.Y)(z.A,{}),text:"Couldn't ".concat(w?"uninstall":"install"," package. See Console for details, or try again.")}):null,(0,u.Y)(A.S,{css:j.actions,row:!0,gap:8,children:S?(0,u.FD)(u.FK,{children:[(0,u.Y)(M.$n,{css:j.consoleButton,text:"Console",onClick:function(){i()},disabled:g||y,colorway:"primary",iconLeft:(0,u.Y)(G.A,{})}),(0,u.Y)(M.$n,{css:j.actionButton,text:"Try Again",onClick:function(){(null==l?void 0:l.id)&&(m(l.id,[r]),w?T({id:l.id,pkg:r}):x({id:l.id,pkg:r}))},loading:g||y,colorway:w?"red":void 0,variant:w?"outlined":void 0,iconLeft:(0,u.Y)(I,{isInstalled:w,isInQueue:y,isCurrentAction:g})})]}):(0,u.FD)(u.FK,{children:[(0,u.Y)(M.$n,{css:j.actionButton,text:g?(null==p?void 0:p.kind)===N.Vr.Install?"Installing":"Removing":y?(null==b?void 0:b.kind)===N.Vr.Install?"Waiting to install":"Waiting to remove":w?"Remove":"Install",onClick:function(){(null==l?void 0:l.id)&&(w?T({id:l.id,pkg:r}):x({id:l.id,pkg:r}))},loading:g||y,colorway:w?"red":void 0,variant:w?"outlined":void 0,iconLeft:(0,u.Y)(I,{isInstalled:w,isInQueue:y,isCurrentAction:g})}),y?(0,u.Y)(M.$n,{css:j.cancelButton,text:"Cancel",onClick:function(){r.name&&D(r.name)},disabled:g,loading:g}):null]})})]})}var Q=t(13672),X=t(40115),ee=t(20573),en=t(56006),et=t(37379),er=t(2717),ea=t(22611),ei=t(43820),eo=t(90233),es=t(33759),el=t(81075),eu=(0,F.x)({root:[L.wp.flex.column,L.wp.flex.growAndShrink(1)],headerRoot:[L.wp.border({color:P.LU.outlineDimmest,width:1,direction:"bottom"})],header:[L.wp.width("100%"),L.wp.maxWidth(S.Vq),L.wp.colWithGap(8),L.wp.p(8),{margin:"0 auto"},L.wp.rowWithGap(8),L.wp.p(8),L.wp.align.center],select:[L.wp.minWidth(160)],resultsRoot:[L.wp.overflow("auto")],resultsScroller:[L.wp.width("100%"),L.wp.maxWidth(600),L.wp.flex.growAndShrink(1),L.wp.p(8),{margin:"0 auto"},L.wp.overflow("auto")]});function ec(e){var n,t,i=e.query,o=e.openConsole,d=e.computePills,f=(0,s._)((0,c.useState)([]),2),p=f[0],h=f[1],m=(0,c.useRef)(0),v=(0,s._)((0,c.useState)(!1),2),b=v[0],y=v[1],w=(n=(0,X.A)(),t=(0,O.Ot)(),(0,c.useCallback)(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t();return(null==i?void 0:i.id)?(0,ee.N)(i.id).search((0,a._)({id:i.id,query:e,services:n},r)):[]},[]));return((0,c.useEffect)(function(){if(""===i.trim())return void h([]);y(!0)},[i]),(0,g.A)(function(){var e=++m.current;(0,r._)(function(){var n;return(0,l.YH)(this,function(t){switch(t.label){case 0:return[4,w(i)];case 1:return n=t.sent(),e===m.current&&(h(n),y(!1)),[2]}})})()},[i],500),b)?(0,u.Y)(S.Gu,{}):0===p.length?(0,u.Y)(S.pp,{children:i?"No results were found.":"Start typing above to see results."}):(0,u.Y)(A.S,{gap:8,children:p.map(function(e){var n,t=null!=(n=null==d?void 0:d(e))?n:[];return(0,u.Y)(K,{pkg:e,openConsole:o,pills:t},e.name)})})}function ed(e){return e.length>0&&m()(e)}function ef(e){var n,t,r,a,i,o=e.query,s=(0,w.A)(),l=(0,b.G)().modules,f=(0,c.useMemo)(function(){return new Set(null==l?void 0:l.map(function(e){return e.id}))},[l]),h=(t=(n={modules:null!=(i=null==s?void 0:s.fullModules)?i:[],query:o}).modules,r=n.query,a=(0,c.useMemo)(function(){return new d.Rk(t,{selector:function(e){return e.name},tiebreakers:[function(e,n){var t=2===e.item.displayVersion.split(".").length?"".concat(e.item.displayVersion,".0"):e.item.displayVersion,r=2===n.item.displayVersion.split(".").length?"".concat(n.item.displayVersion,".0"):n.item.displayVersion;return ed(t)||ed(r)?!ed(r)&&ed(t)?1:!ed(t)&&ed(r)||p()(t,r)?-1:+!!p()(r,t):0}]})},[t]),(0,c.useMemo)(function(){return r?a.find(r).map(function(e){return e.item}):t},[a,t,r]));return 0===(h=(0,c.useMemo)(function(){return h.sort(function(e,n){var t=e.internal||e.demoted,r=n.internal||n.demoted;return t&&!r?1:!t&&r?-1:0})},[h])).length?(0,u.Y)(S.pp,{children:o?"No results were found.":"Start typing above to see results."}):(0,u.Y)(A.S,{gap:8,children:h?h.map(function(e){var n="".concat(e.id,"-").concat(e.resolutionPath,"-").concat(e.version),t=f.has(e.id);return(0,u.Y)(A.S,{row:!0,align:"center",justify:"space-between",children:(0,u.Y)(_.A,{module:e,isInstalled:t,defaultExpanded:!1})},n)}):null})}function ep(e){var n=e.onBack,t=e.initialQuery,r=e.setQuery,a=e.categories,i=e.category,o=e.setCategory,l=e.children,d=e.disableCategorySelection,f=e.searchPlaceholder,p=(0,s._)((0,c.useState)(null!=t?t:""),2),h=p[0],m=p[1],v=(0,c.useDeferredValue)(h);return(0,c.useEffect)(function(){r(v)},[v,r]),(0,u.FD)(A.S,{css:eu.root,children:[(0,u.Y)(A.S,{css:eu.headerRoot,children:(0,u.FD)(A.S,{css:eu.header,children:[(0,u.Y)(J.K0,{alt:"Back",onClick:function(){return n()},children:(0,u.Y)(es.A,{})}),!d&&a&&a.length>0?(0,u.Y)(ei.l,{items:a,css:eu.select,"aria-label":"Change search context",selectedKey:i,onSelectionChange:function(e){var n=null==a?void 0:a.find(function(n){return n.value===e});if(!n)throw Error("Expected config");m(""),o(n.value)},children:function(e){return(0,u.Y)(et.nh,{id:e.value,label:e.label})}}):null,(0,u.Y)(A.S,{grow:!0,shrink:!0,children:(0,u.Y)(ea.I,{value:h,onChange:function(e){m(e.target.value)},onClear:function(){return m("")},placeholder:void 0===f?"Search packages...":f,autoFocus:!0})})]})}),(0,u.Y)(A.S,{css:eu.resultsRoot,grow:!0,shrink:!0,children:(0,u.Y)(A.S,{css:eu.resultsScroller,children:l})})]})}function eh(e){var n=e.onBack,t=e.initialCategory,r=e.openConsole,l=(0,o._)(e,["onBack","initialCategory","openConsole"]),d=(0,Q.J)().configs,f=(0,s._)((0,c.useState)(""),2),p=f[0],h=f[1],m=(0,c.useMemo)(function(){return d.filter(function(e){return"nix"!==e.id}).map(function(e){return{value:e.id,label:e.name.replace(/\s*packager\s*.*$/,"")}})},[d]),v=(0,s._)((0,c.useState)(null!=t?t:m[0].value),2),g=v[0],b=v[1],y=(0,c.useMemo)(function(){return d.find(function(e){return e.id===g})},[g,d]);return(0,u.Y)(ep,(0,i._)((0,a._)({categories:m,initialQuery:p,setQuery:h,onBack:n,setCategory:function(e){h(""),b(e)},category:g},l),{children:(0,u.Y)(en.A,{config:y,children:(0,u.Y)(ec,{query:p,openConsole:r})})}))}var em=[{value:"Modules",label:"Modules"},{value:"Packages",label:"Packages"}];function ev(e){var n=e.onBack,t=e.initialCategory,r=void 0===t?em[0].value:t,l=e.openConsole,d=(0,o._)(e,["onBack","initialCategory","openConsole"]),f=(0,Q.J)().configs,p=(0,c.useMemo)(function(){return f.find(function(e){return"nix"===e.id})},[f]),h=(0,s._)((0,c.useState)(""),2),m=h[0],g=h[1],b=(0,s._)((0,c.useState)(r),2),w=b[0],_=b[1];return((0,y.r)(v.AZ.NIX_MODULE,{action:"search_viewed"},function(){return"Modules"===w},[]),(0,y.r)(v.AZ.NIX_MODULE,{action:"search_used",query:m},function(){return!!(m&&"Modules"===w)},[m]),p)?(0,u.Y)(ep,(0,i._)((0,a._)({categories:em,initialQuery:m,setQuery:g,onBack:n,setCategory:function(e){g(""),_(e)},category:w,searchPlaceholder:"Modules"===w?"Search modules...":void 0},d),{children:"Packages"===w?(0,u.Y)(en.A,{config:p,children:(0,u.Y)(ec,{query:m,openConsole:l,computePills:function(e){var n;return null!=(n=e.present)&&n?[(0,u.Y)(eo.m_,{tooltip:"Cached packages are faster to install in your App",children:(0,u.Y)(er.a,{text:"cached",iconLeft:(0,u.Y)(el.A,{}),colorway:"green"})},"cached-".concat(e.name,"-").concat(e.version))]:[]}})}):(0,u.Y)(ef,{query:m})})):null}},77227:(e,n,t)=>{"use strict";t.d(n,{j:()=>lp});var r,a,i,o=t(29935),s=t(83846),l=t(17844),u=t(93629),c=t(12694),d=t(82643),f=t(34837),p=t(21462),h=t(82238),m=t(20946),v=t(45725),g=t(80719),b=t(69832),y=t(86103),w=t(39938),_=t(35897),S=t(61125),A=t(47737),k=t(12584),C=t(41114),Y=t(54744);function E(){var e=(0,k._)(["\n  fragment CurrentUserTipState on UserTipState {\n    id\n    title\n    description\n    content\n    tags\n    priority\n    timeRecommended\n    timeCompleted\n    timeDismissed\n    timeInteracted\n    externalUrl\n    ctaLabel\n    ctaTrigger\n  }\n"]);return E=function(){return e},e}var x=(0,C.J1)(E());function T(){var e=(0,k._)(["\n  query CurrentUserTips {\n    currentUser {\n      id\n      tips {\n        ... on UserTipsList {\n          tips {\n            ...CurrentUserTipState\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return T=function(){return e},e}var D={},I=(0,C.J1)(T(),x);function R(e){var n=(0,l._)({},D,e);return Y.I(I,n)}var N=t(86035),O=t(21727),P=t(77135),F={direction:"forward",state:{sessionCreatedAt:null,numPlansProposed:0},reducer:function(e,n){var t=e.contents.contents;switch(null==t?void 0:t.$kind){case"sessionCreationEventContents":n.sessionCreatedAt=new Date(e.created);return;case"agentPlanEventContents":if(!t.agentPlanEventContents.requiresApproval)return;n.numPlansProposed++}}},U={direction:"forward",state:{sessionCreatedAt:null,numPlansProposed:0},reducer:function(){return!1}},L=t(56451),M=t(97008),J=t(6132),H=t(92663),B=t(18374),V={direction:"reverse",state:{taskListEventId:null,taskListData:null,approvedTaskListEventIds:new Set},map:function(e){return e.taskListData&&e.taskListEventId?{data:e.taskListData,eventId:e.taskListEventId}:void 0},reducer:function(e,n){if((0,M.TW)(e,"agentAskUserForActionResponse")){var t=(0,J.QN)(e.contents.contents).response;if(t&&(0,J.VF)(t,"approveTaskListResponse")&&n.approvedTaskListEventIds.add((0,J.QN)(t).taskListEventId),t&&(0,J.VF)(t,"approveInitialBuildMvpResponse"))return!1}var r=(0,M.HM)(e,"taskListData");if(null!=r)return!n.approvedTaskListEventIds.has(e.id)&&((0,H.z3)(r)&&(n.taskListData=r,n.taskListEventId=e.id),!1)}},$={direction:"reverse",state:{taskListEventId:null,taskListData:null,approvedTaskListEventIds:new Set},map:function(e){var n;return null!=(n=e.taskListData)?n:void 0},reducer:function(e,n){if((0,M.TW)(e,"agentAskUserForActionResponse")){var t=(0,J.QN)(e.contents.contents).response;if(t&&((0,J.VF)(t,"approveInitialBuildVisualPhaseResponse")||(0,J.VF)(t,"approveInitialBuildMvpResponse")))return!1}var r=(0,M.HM)(e,"taskListData");if(null!=r)return r.agentMode===N.xyI.AGENT_MODE_GENERAL&&(n.taskListData=r),!1}},G=t(86210),z=t(68488),W=t(62019),j=t(37743),q=t(1833),Z=t(53847),K=t(23099),Q=t.n(K),X=t(49069),ee=t(45773),en=t(43063),et=t(34778),er=t(39534),ea="cm-active-in-message-secret",ei=ee.Lz.theme((0,s._)({},".".concat(ea),{display:"inline-block",color:er.LU.foregroundDimmer,backgroundColor:er.LU.orangeDimmer,"&::selection":{color:er.LU.foregroundDefault}})),eo=function(e){function n(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;return(0,j._)(this,n),(t=(0,W._)(this,n)).provider=e,t.dismissed=r,t.id=null!=a?a:"secret-".concat(n.counter++),t}(0,q._)(n,e);var t=n.prototype;return t.eq=function(e){return(0,Z._)(e,n)&&this.id===e.id},t.dismiss=function(){return new n(this.provider,!0,this.id)},n.range=function(e,n,t){return new this(e).range(n,t)},n}(X.FB);eo.counter=0,eo.prototype.startSide=1,eo.prototype.endSide=-1;var es=X.Pe.define(),el=X.YH.define(),eu=X.sU.define({create:function(){return X.om.empty},update:function(e,n){var t=null;n.changes.empty||(e.size&&(e=(e=e.map(n.changes)).update({filter:function(e,n){return e!==n}})),n.changes.iterChangedRanges(function(e,r,a,i){var o=n.startState.doc.lineAt(e).from,s=n.startState.doc.lineAt(r).to,l=n.state.doc.lineAt(a).from,u=n.state.doc.lineAt(i).to,c=function(e,n,t,r,a,i){function o(e){return" "===e||"	"===e||"\n"===e||"\r"===e}function s(e){return 0===e.length||0===e.trim().length}var l=e.slice(t,r),u=n.slice(a,i);if(s(l)&&s(u))return null;for(var c=a;c>0&&!o(n[c-1]);)c--;for(var d=i;d<n.length&&!o(n[d]);)d++;if(a===i&&t<r){if(t>0&&!o(e[t-1])){var f=!s(l),p=r<e.length&&!o(e[r]);if(f||!p)return{fromB:c,toB:d}}if(r<e.length&&!o(e[r])){var h=!s(l),m=t>0&&!o(e[t-1]);if(h||!m)return{fromB:c,toB:d}}if(s(l))return null}for(;c<d&&o(n[c]);)c++;for(;d>c&&o(n[d-1]);)d--;return c>=d?null:{fromB:c,toB:d}}(n.startState.sliceDoc(o,s),n.state.sliceDoc(l,u),e-o,r-o,a-l,i-l);c&&(null!=t||(t=[]),t.push({from:c.fromB+l,to:c.toB+l}))}));var r=!0,a=!1,i=void 0;try{for(var o,s=n.effects[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(o.value.is(es)){for(var l=new X.vB,u=e.iter();u.value;)l.add(u.from,u.to,u.value.dismiss()),u.next();e=l.finish();continue}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}if(t){var c=!0,d=!1,f=void 0;try{for(var p,h=t[Symbol.iterator]();!(c=(p=h.next()).done);c=!0)!function(){var t=p.value;e=e.update({filter:function(e,n){return e<t.from||n>t.to}});var r=(0,en.V)(n.state.sliceDoc(t.from,t.to));if(r){var a=r.map(function(e){return eo.range(e.provider,t.from+e.start,t.from+e.end)});e=e.update({add:a,sort:!0})}}()}catch(e){d=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(d)throw f}}}return e}}),ec=X.sU.define({create:function(){return[]},compare:function(e,n){return Q()(e,n)},update:function(e,n){if(!(0,z.$H)(n,eu))return e;for(var t=[],r=n.state.field(eu).iter();r.value;)r.value.dismissed||t.push({id:r.value.id,provider:r.value.provider,key:n.state.sliceDoc(r.from,r.to)}),r.next();return t}}),ed=X.sU.define({create:function(){return!1},update:function(e,n){return(0,z.$H)(n,ec)?n.state.field(ec).length>0:e}}),ef=ee.NZ.mark({class:ea,inclusiveStart:!0,inclusiveEnd:!0}),ep=X.sU.define({create:function(){return ee.NZ.none},update:function(e,n){if(!(0,z.$H)(n,eu))return e;for(var t=new X.vB,r=n.state.field(eu).iter();r.value;)r.value.dismissed||t.add(r.from,r.to,ef),r.next();return t.finish()},provide:function(e){return ee.Lz.decorations.from(e)}}),eh=ee.Lz.updateListener.of(function(e){if((0,z.$H)(e,eu)){var n=null!=(o=e.startState.field(ec,!1))?o:[],t=e.state.field(ec).filter(function(e){return!n.some(function(n){return n.id===e.id})});t.length&&(0,et.u4)(et.AZ.IN_MESSAGE_SCANNER_USED,{action:"secrets_detected",providers:t.map(function(e){return e.provider})});var r=!0,a=!1,i=void 0;try{for(var o,s,l=e.transactions[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=!0,d=!1,f=void 0;try{for(var p,h=u.effects[Symbol.iterator]();!(c=(p=h.next()).done);c=!0)if(p.value.is(es)){var m=u.startState.field(eu,!1);if(m){for(var v=new Set,g=m.iter();g.value;)g.value.dismissed||v.add(g.value.provider),g.next();v.size&&(0,et.u4)(et.AZ.IN_MESSAGE_SCANNER_USED,{action:"secrets_dismissed",providers:Array.from(v)})}}}catch(e){d=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(d)throw f}}var b=u.annotation(el);b&&(0,et.u4)(et.AZ.IN_MESSAGE_SCANNER_USED,{action:"secrets_replaced",providers:b.providers})}}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}}}),em=[eu,ei,X.Nb.highest(ep),ec,ed,eh],ev=t(85692),eg=t(32978),eb=(0,p.createContext)(null);function ey(e){var n=e.children,t=(0,y._P)({type:"boolean",controlName:"flag-scan-in-message-secrets"}),r=(0,p.useMemo)(function(){return{secrets:new eg.N([]),replaceListeners:new eg.do,dismissListeners:new eg.do}},[]);return t?(0,f.Y)(eb.Provider,{value:r,children:n}):(0,f.Y)(f.FK,{children:n})}function ew(){var e=(0,p.useContext)(eb);return{inMessageSecrets:(0,b.J2)(null==e?void 0:e.secrets,[]),replaceInMessageSecrets:(0,p.useCallback)(function(n){null==e||e.replaceListeners.notify(n)},[e]),dismissInMessageSecrets:(0,p.useCallback)(function(){null==e||e.dismissListeners.notify()},[e])}}var e_=t(54450),eS=t(95670);function eA(e){var n=(0,g.NC)();return(0,b.Rj)(function(){return e?n.sessions.agent.all.latest.select(function(n){return(null==n?void 0:n.id)!==e}):null},[n,e],{default:!1})}var ek=t(17459),eC=t(86105),eY=t(15249),eE=t(11901),ex=t(99226),eT=t(7845),eD=t(66186),eI=t(82488),eR=t(88728),eN=t(49999),eO=t(41683),eP=t(10647),eF=t(25227),eU=t(96149),eL=t.n(eU);function eM(e){var n=e.animating,t=e.children;return(0,f.Y)(eF.S,{clsx:n?eL().emptyStateOverlayAnimating:eL().emptyStateOverlay,align:"center",justify:"center",gap:4,children:t})}var eJ=t(68974),eH=t(72104),eB=t(73455),eV=t(70251),e$=t(33683),eG=t(17761),ez=t(25590);function eW(e){return(0,f.Y)(ez.Ay,(0,u._)((0,l._)({},e),{children:(0,f.Y)("path",{fillRule:"evenodd",d:"M21 3.25a.75.75 0 0 1 .75.75v16a.75.75 0 0 1-1.5 0V4a.75.75 0 0 1 .75-.75ZM3.75 5.292v13.416L15.488 12 3.75 5.292Zm-1.5-.43a1.25 1.25 0 0 1 1.87-1.086l12.492 7.139c.84.48.84 1.69 0 2.17L4.12 20.224a1.25 1.25 0 0 1-1.87-1.086V4.862Z",clipRule:"evenodd"})}))}function ej(e){var n=e.children,t=e.left,r=e.title,a=e.isOpen,i=e.disableClose,o=e.onRequestClose,s=e.onSkipTest,l=e.skipping,u=(0,eJ.l)(),c=(0,p.useMemo)(function(){if(!u.height||!u.width)return{modalMaxWidth:"min(1320px, 80vw)",paddingTop:64};var e=Math.min((u.width-32)/1288,(u.height-160)/804,1),n=Math.floor(1288*e),t=Math.floor(804*e),r=Math.max(16,Math.floor((u.height-(t+160))/2));return{modalMaxWidth:"min(".concat(n,"px, 90vw)"),paddingTop:r}},[u.height,u.width]),d=c.modalMaxWidth,h=c.paddingTop;return(0,f.Y)(eV.a,{isOpen:a,maxWidth:d,topPadding:h,hideCloseButton:!0,onRequestClose:function(){i||o()},noPadding:!0,children:(0,f.Y)(eH.N,{left:t,title:r,right:(0,f.FD)(eF.S,{row:!0,gap:4,children:[void 0!==s?(0,f.Y)(eB.K0,{alt:"Skip test",onClick:s,children:l?(0,f.Y)(e$.A,{size:12}):(0,f.Y)(eW,{size:12})}):null,i?null:(0,f.Y)(eB.K0,{alt:"Minimize",onClick:o,children:(0,f.Y)(eG.A,{size:12})})]}),bordered:!1,children:n})})}var eq=t(91953),eZ=t(60696),eK=t.n(eZ);function eQ(e){var n=e.text,t=e.large,r=e.live;return(0,f.Y)(eF.S,{clsx:[t?eK().large:eK().small,r&&eK().fadeIn],children:(0,f.Y)(eq.EY,{clsx:[eK().preserveNewlines],color:r?"dimmest":"default",children:n})},n)}function eX(e){var n=e.instructions,t=e.overview;return n?(0,f.FD)(eF.S,{gap:4,children:[(0,f.Y)(eq.EY,{color:"dimmer",children:void 0!==t&&t?"Agent needs your help doing the following tasks:":"I need your help with the following tasks:"}),(0,f.Y)(eq.EY,{clsx:eK().preserveNewlines,children:n})]}):null}function e0(e){var n=e.notes,t=e.live;return n?(0,f.FD)(eF.S,{clsx:t&&eK().fadeIn,gap:4,children:[(0,f.Y)(eq.EY,{color:"dimmer",children:"The following notes were left:"}),(0,f.Y)(eq.EY,{clsx:eK().preserveNewlines,color:t?"dimmest":"default",children:n})]},n):null}var e1=t(40756),e2=t(93868),e3=t(83096),e4=t(9844),e5=t(73635),e7=t(64424),e9=t(13315),e8=t(53432),e6=t(90843);function ne(e){var n=e.instructions,t=e.deadline,r=e.disabled,a=e.onReject,i=e.onAccept,s=(0,c._)((0,p.useState)(!1),2),l=s[0],u=s[1],h=(0,c._)((0,p.useState)(!1),2),m=h[0],v=h[1],g=(0,c._)((0,p.useState)(!1),2),b=g[0],y=g[1];return(0,f.FD)(f.FK,{children:[(0,f.Y)(na,{isOpen:l,instructions:n,loading:b,disabled:r,onClose:function(){return u(!1)},onAccept:function(){return(0,o._)(function(){return(0,d.YH)(this,function(e){switch(e.label){case 0:return y(!0),[4,i()];case 1:return e.sent(),y(!1),[2]}})})()}}),(0,f.FD)(eF.S,{gap:4,row:!0,children:[(0,f.Y)(no,{deadline:t,loading:m,disabled:r||b,onReject:function(){return(0,o._)(function(){return(0,d.YH)(this,function(e){switch(e.label){case 0:return v(!0),[4,a()];case 1:return e.sent(),v(!1),[2]}})})()}}),(0,f.Y)(eF.S,{grow:!0,children:(0,f.Y)(e1.$n,{colorway:"blurple",text:"Begin take over",iconLeft:(0,f.Y)(e8.A,{}),loading:l,disabled:r||m,onClick:function(){return u(!0)}})})]})]})}function nn(e){var n=e.instructions,t=e.disabled,r=e.onComplete,a=(0,c._)((0,p.useState)(!1),2),i=a[0],s=a[1],l=(0,c._)((0,p.useState)(!1),2),u=l[0],h=l[1];return(0,f.FD)(f.FK,{children:[(0,f.Y)(nr,{isOpen:i,instructions:n,loading:u,onClose:function(){return s(!1)},onComplete:function(e){return(0,o._)(function(){return(0,d.YH)(this,function(n){switch(n.label){case 0:return h(!0),[4,r(e)];case 1:return n.sent(),h(!1),[2]}})})()}}),(0,f.FD)(eF.S,{align:"center",gap:4,children:[(0,f.Y)(e1.$n,{stretch:!0,colorway:"green",text:"Mark take over complete",iconRight:(0,f.Y)(e5.A,{}),disabled:t,onClick:function(){return s(!0)}}),(0,f.Y)(eq.EY,{color:"dimmest",children:"Make sure you’ve completed the above tasks before marking complete"})]})]})}function nt(e){var n=e.instructions,t=e.deadline,r=e.accepted,a=e.disabled,i=e.onReject,s=e.onAccept,l=(0,c._)((0,p.useState)(!1),2),u=l[0],h=l[1],m=(0,c._)((0,p.useState)(!1),2),v=m[0],g=m[1],b=(0,c._)((0,p.useState)(!1),2),y=b[0],w=b[1],_=(0,A.m5)();return(0,f.FD)(f.FK,{children:[(0,f.Y)(na,{isOpen:u,instructions:n,loading:y,disabled:a||r||_,onClose:function(){return h(!1)},onAccept:function(){return(0,o._)(function(){return(0,d.YH)(this,function(e){switch(e.label){case 0:return w(!0),[4,s()];case 1:return e.sent(),w(!1),[2]}})})()}}),(0,f.FD)(eF.S,{gap:8,children:[(0,f.FD)(eF.S,{gap:4,row:!0,children:[r?null:(0,f.Y)(no,{deadline:t,loading:v,disabled:a||y,onReject:function(){return(0,o._)(function(){return(0,d.YH)(this,function(e){switch(e.label){case 0:return g(!0),[4,i()];case 1:return e.sent(),g(!1),[2]}})})()}}),(0,f.Y)(eF.S,{grow:!0,children:(0,f.Y)(e1.$n,{colorway:"blurple",text:r?"Take over in progress...":"Begin take over",iconLeft:r?(0,f.Y)(e$.A,{}):(0,f.Y)(e8.A,{}),loading:y||r,disabled:a||_||v,onClick:function(){return h(!0)}})})]}),_?(0,f.Y)(e4.N,{colorway:"warning",text:"App testing take over is not currently supported on mobile. You can continue on desktop."}):null]})]})}function nr(e){var n=e.isOpen,t=e.instructions,r=e.loading,a=e.onClose,i=e.onComplete,o=(0,c._)((0,p.useState)(""),2),s=o[0],l=o[1];return(0,f.Y)(eV.a,{isOpen:n,onRequestClose:a,hideCloseButton:!0,centered:!0,children:(0,f.FD)(eF.S,{gap:8,children:[(0,f.Y)(eq.EY,{variant:"subheadDefault",children:"Did you complete all the tasks at hand?"}),(0,f.Y)(eX,{instructions:t,overview:!0}),(0,f.FD)(eF.S,{justify:"space-between",row:!0,children:[(0,f.Y)(eq.EY,{color:"dimmer",children:"Add additional context"}),(0,f.Y)(eq.EY,{color:"dimmest",children:"Optional"})]}),(0,f.Y)(e3.ov,{placeholder:"Type here…",rows:4,value:s,onChange:function(e){return l(e.target.value)}}),(0,f.FD)(eF.S,{row:!0,gap:4,children:[(0,f.Y)(e1.$n,{text:"Go back",onClick:a}),(0,f.Y)(eF.S,{grow:!0,children:(0,f.Y)(e1.$n,{text:"Mark take over complete",iconRight:(0,f.Y)(e5.A,{}),colorway:"green",loading:r,onClick:function(){return i(s)}})})]})]})})}function na(e){var n=e.isOpen,t=e.instructions,r=e.loading,a=e.disabled,i=e.onClose,o=e.onAccept;return(0,f.Y)(eV.a,{isOpen:n,onRequestClose:i,hideCloseButton:!0,centered:!0,children:(0,f.FD)(eF.S,{gap:20,children:[(0,f.Y)(eq.EY,{variant:"subheadDefault",children:"You’re about to take over Agent’s browser"}),(0,f.Y)(eX,{instructions:t,overview:!0}),(0,f.FD)(eF.S,{gap:12,children:[(0,f.Y)(eq.EY,{color:"dimmest",children:"Things to acknowledge:"}),(0,f.FD)(eF.S,{gap:8,children:[(0,f.FD)(eF.S,{align:"center",gap:8,row:!0,children:[(0,f.Y)(e9.A,{size:16,color:er.LU.foregroundDimmest}),"Only you can see the info you enter (like passwords) during takeover"]}),(0,f.FD)(eF.S,{align:"center",gap:8,row:!0,children:[(0,f.Y)(e6.A,{size:16,color:er.LU.foregroundDimmest}),"Signing Agent into a website could put your data at risk"]})]})]}),(0,f.FD)(eF.S,{gap:4,justify:"space-between",row:!0,children:[(0,f.Y)(e2.v,{href:"/",variant:"nofill",text:(0,f.Y)(eq.EY,{color:"dimmest",children:"Learn more about Agent Testing"}),iconRight:(0,f.Y)(e7.A,{color:er.LU.foregroundDimmest})}),(0,f.Y)(e1.$n,{colorway:"blurple",text:"Acknowledge & begin",iconRight:(0,f.Y)(e5.A,{}),loading:r,disabled:a,onClick:function(){return o()}})]})]})})}function ni(e){return Math.ceil(Math.max(0,e.getTime()-Date.now())/1e3)}function no(e){var n,t,r=e.deadline,a=e.loading,i=e.disabled,o=e.onReject,s=(0,c._)((0,p.useState)(function(){return ni(r)}),2),l=s[0],u=s[1];return(0,p.useEffect)(function(){u(ni(r));var e=setInterval(function(){u(ni(r))},1e3);return function(){return clearInterval(e)}},[r]),(0,f.Y)(e1.$n,{text:(0,f.FD)(eF.S,{gap:4,align:"center",row:!0,children:[(0,f.Y)(eq.EY,{children:"Skip"}),0===l||a?(0,f.Y)(e$.A,{}):(0,f.Y)(eq.EY,{color:"dimmest",children:" ".concat((n="".concat(Math.floor(l/60),"m"),t="".concat(l%60,"s"),l>=60&&"0s"===t?n:l<60?t:"".concat(n," ").concat(t)))})]}),loading:a,disabled:i||0===l,onClick:function(){return null==o?void 0:o()}})}function ns(e){var n=e.status,t=e.instructions,r=e.deadline,a=e.inline,i=e.disabled,o=e.onAccept,s=e.onComplete,l=e.onReject;return a?(0,f.Y)(nt,{instructions:t,deadline:r,accepted:"accepted"===n,disabled:i,onReject:l,onAccept:o}):"accepted"===n?(0,f.Y)(nn,{instructions:t,disabled:i,onComplete:s}):(0,f.Y)(ne,{instructions:t,deadline:r,disabled:i,onReject:l,onAccept:o})}var nl=t(74286),nu=t(93403),nc=t(16837),nd=t.n(nc);function nf(){return(0,f.Y)(eF.S,{clsx:nd().liveIndicator,children:(0,f.Y)(eF.S,{clsx:nd().liveIndicatorDot})})}function np(e){var n=e.status;switch(n){case eP.n.Connected:return null;case eP.n.Connecting:case eP.n.Disconnected:return(0,f.Y)(eM,{});case eP.n.Errored:return(0,f.Y)(eM,{children:(0,f.Y)(eq.EY,{children:"There was an error connecting to the browser"})});default:(0,eN.A)(n)}}function nh(e){var n=e.isReadWrite,t=void 0!==n&&n,r=(0,c._)((0,p.useState)(void 0),2),a=r[0],i=r[1],o=(0,eP.U)({password:a,setPassword:i,handlePromptForPassword:function(){},vncOptions:{scaleViewport:!0,resizeSession:!1,viewOnly:!t,reconnectOnError:!0,desktopSize:{width:1288,height:804}}}),s=o.vncEl,l=o.status;return(0,f.FD)(eF.S,{clsx:[nd().vncInner,!t&&nd().vncInnerReadOnly],children:[(0,f.Y)(eF.D.div,{ref:s,clsx:[nd().vncNovnc,l!==eP.n.Connected&&nd().vncNovncHidden]}),(0,f.Y)(np,{status:l}),t?null:(0,f.Y)(nf,{})]})}function nm(e){var n=e.takeover,t=e.narration,r=e.inline,a=void 0!==r&&r,i=e.disabled,o=(0,eO.PO)(),s=(0,A.m5)(),l=(0,b.J2)(t),u=(null==l?void 0:l.full)||"I'm starting up a browser to begin testing. My thoughts will show up here.";return(0,f.FD)(eF.S,{p:8,gap:8,children:[(0,f.Y)(eF.S,{clsx:[nd().vncWrapper,o&&nd().pulseBorderAnimation],children:o?(0,f.Y)(nh,{isReadWrite:!a&&!s&&(null==n?void 0:n.request.status)==="accepted"}):(0,f.Y)(eM,{animating:!0})}),n?null:(0,f.Y)(eQ,{text:u,large:!a,live:!0}),n?(0,f.Y)(eX,{instructions:n.request.instructions}):null,n&&(a||!s)?(0,f.Y)(ns,{status:n.request.status,instructions:n.request.instructions,deadline:n.request.deadline,inline:a,disabled:i,onAccept:function(){return n.accept()},onComplete:function(e){return n.complete(e)},onReject:function(){return n.reject()}},n.request.sessionId):null]})}function nv(e){var n=e.title,t=e.takeover,r=e.narration,a=e.onSkipTest,i=e.skipping,o=(0,c._)((0,p.useState)(!1),2),s=o[0],l=o[1],u=(0,A.m5)();(0,p.useEffect)(function(){(null==t?void 0:t.request.status)==="accepted"&&l(!0)},[null==t?void 0:t.request.status]);var d=(0,p.useCallback)(function(){l(!0)},[]),h=(0,p.useCallback)(function(){l(!1)},[]);return(0,f.FD)(eH.N,{left:(null==t?void 0:t.request.status)==="accepted"?(0,f.Y)(e8.A,{size:16}):(0,f.Y)(nl.A,{clsx:nd().rotationAnimation,size:16}),title:(null==t?void 0:t.request.status)==="accepted"?"Take over in progress...":n,right:(0,f.FD)(eF.S,{row:!0,gap:4,children:[(0,f.Y)(eB.K0,{alt:"Skip test",disabled:i,onClick:a,children:i?(0,f.Y)(e$.A,{size:12}):(0,f.Y)(eW,{size:12})}),u?null:(0,f.Y)(eB.K0,{alt:"Maximize",onClick:d,children:(0,f.Y)(nu.A,{size:12})})]}),children:[(0,f.Y)(nm,{narration:r,takeover:t,disabled:i,inline:!0}),(0,f.Y)(ej,{isOpen:!u&&s,onRequestClose:h,disableClose:(null==t?void 0:t.request.status)==="accepted",left:(0,f.Y)(nl.A,{clsx:nd().rotationAnimation,size:16}),title:n,onSkipTest:a,skipping:i,children:(0,f.Y)(nm,{narration:r,takeover:t,disabled:i})})]})}var ng=t(97581),nb=t(78603),ny=t(88018),nw=t.n(ny),n_=function(){function e(){var n=this;(0,j._)(this,e),this.state=new eg.V_(function(e){var t=null;return n.listener=function(){var r,a,i={status:n.status,current:null!=(r=n.timeline[n.index])?r:null,final:null!=(a=n.timeline[n.timeline.length-1])?a:null,length:n.length,index:n.index};Q()(t,i)||(t=i,e.next(i))},n.listener(),function(){n.listener=null}}),this.timeline=[],this.status="stopped",this.index=0,this.length=0,this.video=null,this.listener=null,this.timer=null,this.startTime=null,this.cleanups=[]}var n=e.prototype;return n.getCurrentMinimumEventTime=function(){var e,n=this.timeline[this.index];return n&&(null==(e=n.narration)?void 0:e.full)?Math.max(2e3,(n.narration.full||"").trim().split(/\s+/).filter(function(e){return e.length>0}).length/7*1e3):2e3},n.update=function(e){var n,t,r,a=this.video;this.timeline=null!=(t=e.timeline)?t:this.timeline,this.video=null!=(r=e.video)?r:this.video,e.timeline&&(this.length=e.timeline.length,this.index>=this.length&&(this.index=Math.max(0,this.length-1))),void 0!==e.video&&a!==e.video&&this.cleanupTimers(),"playing"===this.status&&this.startTimers(),null==(n=this.listener)||n.call(this)},n.play=function(){if(0!==this.length){this.status="playing";var e,n=this.timeline[this.index];this.video&&this.video.paused&&(null==n?void 0:n.kind)==="live"&&this.video.src===n.video&&(this.video.currentTime=0,this.video.play().catch(function(){})),this.startTimers(),null==(e=this.listener)||e.call(this)}},n.stop=function(){var e;this.status="stopped",this.index=0,this.cleanupTimers(),this.video&&!this.video.paused&&this.video.pause(),null==(e=this.listener)||e.call(this)},n.toggle=function(){"playing"===this.status?this.stop():this.play()},n.goto=function(e){e<0||e>=this.length?this.stop():(this.index=e,this.play())},n.next=function(){this.index>=this.length-1?this.stop():this.goto(this.index+1)},n.previous=function(){this.index>0&&this.goto(this.index-1)},n.startTimers=function(){this.cleanupTimers();var e=this.timeline[this.index];if(this.startTime=Date.now(),!this.video)return void this.startMinimumTimer();"live"===e.kind?this.setupVideoHandlers():(this.startMinimumTimer(),this.video.src===e.video&&(this.video.currentTime=9999))},n.startMinimumTimer=function(){var e,n=this,t=Date.now(),r=null!=(e=this.startTime)?e:t,a=this.getCurrentMinimumEventTime()-(t-r);a<=0?this.next():this.timer=setTimeout(function(){return n.next()},a)},n.setupVideoHandlers=function(){var e=this;if(this.video){var n=this.video,t=null,r=function(){e.startTime=Date.now(),e.startMinimumTimer()},a=function(){t&&(clearTimeout(t),t=null),e.startTime=Date.now(),n.addEventListener("ended",r),n.addEventListener("error",r),e.cleanups.push(function(){n.removeEventListener("ended",r),n.removeEventListener("error",r)})};if(!n.paused&&n.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA)a();else{n.paused&&n.src===(null==(i=this.timeline[this.index])?void 0:i.video)&&(n.currentTime=0,n.play().catch(function(){}));var i,o=function(){n.removeEventListener("playing",o),n.removeEventListener("error",o),a()};n.addEventListener("playing",o),n.addEventListener("error",o),this.cleanups.push(function(){n.removeEventListener("playing",o),n.removeEventListener("error",o),t&&clearTimeout(t)}),t=setTimeout(function(){n.removeEventListener("playing",o),n.removeEventListener("error",o),e.next()},this.getCurrentMinimumEventTime())}}},n.cleanupTimers=function(){this.timer&&(clearTimeout(this.timer),this.timer=null);var e=[];if(this.cleanups.forEach(function(n){try{n()}catch(n){e.push(n)}}),this.cleanups=[],this.startTime=null,e.length)throw AggregateError(e)},n.destroy=function(){this.cleanupTimers(),this.listener=null},e}();function nS(e){var n=e.innerRef,t=e.url,r=e.paused,a=e.blurred;return(0,f.Y)(eF.S,{clsx:nw().playbackElement,children:(0,f.Y)("video",{ref:n,clsx:[nw().playbackElementInner,a&&nw().isBlurred],src:t,autoPlay:!r,disablePictureInPicture:!0,playsInline:!0,muted:!0})})}function nA(e){var n=e.videoRef,t=e.url,r=(0,p.useRef)({current:t,previous:null,seq:0});r.current.current!==t&&(r.current.previous=r.current.current,r.current.current=t,r.current.seq++);var a=r.current,i=a.current,o=a.previous,s=a.seq;return(0,f.FD)(f.FK,{children:[o?(0,f.Y)(nS,{url:o},"".concat(o,"-").concat(s-1)):null,i?(0,f.Y)(nS,{innerRef:n,url:i},"".concat(i,"-").concat(s)):null]})}function nk(e){var n=e.video,t=(0,p.useCallback)(function(e){e&&(e.currentTime=9999)},[]);return(0,f.FD)(f.FK,{children:[n?(0,f.Y)(nS,{innerRef:t,url:n,paused:!0,blurred:!0}):null,(0,f.FD)(eM,{children:[(0,f.Y)(nb.A,{size:24}),(0,f.Y)(eq.EY,{children:"Watch replay"})]})]})}function nC(){return(0,f.Y)(eM,{children:(0,f.Y)(eq.EY,{children:"The user took over the browser"})})}function nY(e){var n,t,r,a,i,o,s,l,u=e.videoRef,c=e.manager,d=e.state,p=e.finalSummary,h=e.isEnlarged,m="playing"===d.status;return(0,f.FD)(eF.S,{p:8,gap:8,children:[(0,f.Y)(eF.S,{clsx:nw().previewWrapper,onClick:function(){return c.toggle()},children:m?(0,f.FD)(f.FK,{children:[(0,f.Y)(nA,{videoRef:u,url:null!=(s=null==(n=d.current)?void 0:n.video)?s:null}),(null==(t=d.current)?void 0:t.takeover)?(0,f.Y)(nC,{}):null]}):(0,f.Y)(nk,{video:null!=(l=null==(r=d.final)?void 0:r.video)?l:null})}),(0,f.Y)(nE,{manager:c,state:d}),(0,f.Y)(eQ,{text:m?null==(a=d.current)?void 0:a.narration.full:p,large:void 0!==h&&h||(null==(i=d.current)?void 0:i.takeover)!==void 0,live:m}),m&&(null==(o=d.current)?void 0:o.takeover)?(0,f.Y)(e0,{notes:d.current.takeover.notes,live:!0}):null]})}function nE(e){var n=e.manager,t=e.state,r="playing"===t.status?t.index:t.length;return(0,f.Y)(eF.S,{clsx:nw().history,children:Array.from({length:t.length+1}).map(function(e,t){return(0,f.Y)(eF.D.button,{clsx:nw().historyElementButton,onClick:function(){return n.goto(t)},children:(0,f.Y)(eF.S,{clsx:[nw().historyElement,r===t?nw().isActive:null]})},t)})})}function nx(e){var n,t,r,a,i=e.timeline,o=e.title,s=e.finalSummary,l=e.resultType,u=(0,c._)((0,p.useState)(!1),2),d=u[0],h=u[1],m=(0,A.m5)(),v=(t=(n=(0,c._)((0,p.useState)(null),2))[0],r=n[1],a=(0,b.J2)(null==t?void 0:t.state,{status:"stopped",current:null,final:null,length:0,index:0}),(0,p.useEffect)(function(){var e=new n_;r(e);var n=null==i?void 0:i.subscribe(function(n){e.update({timeline:n})});return function(){null==n||n.unsubscribe(),r(function(e){return null==e||e.destroy(),null})}},[i]),{videoRef:(0,p.useCallback)(function(e){null==t||t.update({video:e})},[t]),manager:t,state:a}),g=v.videoRef,y=v.manager,w=v.state,_=(0,p.useCallback)(function(){h(!0)},[]),S=(0,p.useCallback)(function(){h(!1)},[]);if(!y)return null;var k=(0,f.Y)(eF.S,{clsx:nw().playIcon,children:(0,f.Y)(eB.K0,{alt:"playing"===w.status?"Stop":"Play",onClick:function(){return y.toggle()},children:l!==N.dr2.SUCCESS?(0,f.Y)(ng.A,{size:12}):(0,f.Y)(e5.A,{size:12})})});return(0,f.FD)(eH.N,{left:k,title:o,right:m?null:(0,f.Y)(eB.K0,{alt:"Maximize",onClick:_,children:(0,f.Y)(nu.A,{size:12})}),children:[(0,f.Y)(nY,{videoRef:d?void 0:g,manager:y,state:w,finalSummary:s}),(0,f.Y)(ej,{isOpen:d,onRequestClose:S,left:k,title:o,children:(0,f.Y)(nY,{videoRef:g,manager:y,state:w,finalSummary:s,isEnlarged:!0})})]})}var nT={direction:"forward",state:{video:null,narration:{full:"",mini:""}},transformer:function(e,n){var t=(0,M.HM)(e,"uiTestingSubagentTakeOverData");if(t){var r,a=t.userInstructions,i="rejected",o=null;return(null==(r=t.result)?void 0:r.$kind)==="success"&&(i="accepted",o=t.result.success.userNotes),{kind:"static",video:n.video,narration:n.narration,takeover:{status:i,instructions:a,notes:o}}}var s=(0,M.Kv)(e,"uiTestingSubagentExecutionEventContents");if(s){var l="static";return s.mimeType.startsWith("video/")&&(l="live",n.video=s.gcsDownloadUrl),s.narration&&(n.narration.full=s.narration),s.miniNarration&&(n.narration.mini=s.miniNarration),{kind:l,video:n.video,narration:n.narration}}}},nD={direction:"reverse",state:{full:"",mini:""},reducer:function(e,n){var t=(0,M.Kv)(e,"uiTestingSubagentExecutionEventContents");if(t&&t.narration)return n.full=t.narration,n.mini=t.miniNarration,!1}},nI=t(65866),nR=t(88233),nN=t(51292),nO=t(85826),nP=t(59847),nF=t.n(nP);function nU(e){var n=e.timeline,t=e.narration,r=e.takeover,a=e.expandByDefault,i=e.isInProgress,s=e.title,l=e.finalSummary,u=e.resultType,h=e.onSkipTest,m=(0,c._)((0,p.useState)(void 0!==a&&a),2),v=m[0],g=m[1],y=(0,c._)((0,p.useState)(!1),2),w=y[0],_=y[1],S=(0,c._)((0,p.useState)(!1),2),A=S[0],k=S[1],C=(0,b.Rj)(function(){return n.select(function(e){return 0===e.length})},[n],{default:!1}),Y=!A&&i,E=Y||!C,x=(0,p.useCallback)(function(){E&&g(function(e){return!e})},[E]),T=(0,p.useCallback)(function(){return(0,o._)(function(){return(0,d.YH)(this,function(e){switch(e.label){case 0:_(!0),g(!1),k(!0),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,h()];case 2:return e.sent(),[3,4];case 3:return e.sent(),_(!1),k(!1),[3,4];case 4:return[2]}})})()},[h]),D="Testing your app";return Y||(D=u===N.dr2.SUCCESS?"Tested your app successfully":"Tested your app and sent results to Agent"),(0,f.FD)(eF.S,{gap:6,children:[(0,f.FD)(eF.S,{css:nN.b.nofill,px:4,tag:"button",row:!0,gap:6,align:"center",justify:"space-between",onClick:x,disabled:!E,children:[(0,f.FD)(eF.S,{row:!0,align:"center",gap:6,clsx:nF().iconAndSummary,children:[(0,f.Y)(nb.A,{color:er.LU.foregroundDimmer}),(0,f.Y)(nI.B,{summary:D,color:"dimmer"})]}),E?(0,f.Y)(nO.A,{color:er.LU.foregroundDimmer,rotate:180*!!v}):null]}),E&&v&&Y?(0,f.Y)(nv,{title:s,takeover:r,narration:t,onSkipTest:T,skipping:w}):null,E&&v&&!Y?(0,f.Y)(nx,{timeline:n,title:s,finalSummary:l,resultType:u}):null]})}function nL(e){var n=e.subagent,t=(0,b.J2)(n.running,!1),r=(0,b.Rj)(function(){return n.contents("uiTestingSubagentEventContents")},[n]),a=(0,p.useMemo)(function(){return n.session.transform(nT,500).flat},[n]),i=(0,p.useMemo)(function(){return n.session.reduce(nD,"global")},[n]),s=(0,nR.B$)({sessionId:n.session.id}),l=(0,p.useCallback)(function(){return(0,o._)(function(){return(0,d.YH)(this,function(e){switch(e.label){case 0:return[4,null==s?void 0:s.reject()];case 1:return e.sent(),[4,n.abort()];case 2:return e.sent(),[2]}})})()},[n,s]);if(!r||!a||!i)return null;var u=r.title,c=r.finalSummary,h=r.resultType;return(0,f.Y)(nU,{timeline:a,narration:i,takeover:s,title:u,isInProgress:t,finalSummary:c,resultType:h,expandByDefault:!0,onSkipTest:l})}var nM=t(26690),nJ=t(56902),nH=t(50735),nB=new Set(["agentPlanStepBegin","alertData","blueprintsSetup","createFileData","createPostgresqlDatabaseData","deployConfigData","fileEditData","memoryCompressionData","readFileData","readDirData","samplingEvent","setupObjectStorageData","shellExecutionData","toolchainInstallData","packagerInstallData","packagerUninstallData","systemDependencyInstallData","systemDependencyUninstallData","screenshotData","searchFileData","searchFilesystemData","sqlExecutionData","taskListData","webSearchData","webPageVisitData","workflowsStartToolData","workflowsRestartToolData","workflowsStopToolData","workflowsSetRunConfigToolData","workflowsRemoveRunConfigToolData","imageGenerationData","stockImageData","searchIntegrationsData","viewIntegrationData","mcpToolData","thoughts","setupModelfarmData","viewLogsData","viewSpecialFiles","designGuidelinesData"]);function nV(e){var n,t=(null==(n=e.optionType)?void 0:n.$kind)==="secretRequestAction"?e.optionType.secretRequestAction.secrets:void 0;return(null==t?void 0:t.length)?t:void 0}function n$(e){if(e.state===N.qOk.IN_PROGRESS)return!1;var n=e.contents.contents;if(!(0,J.VF)(n,"agentTimelineEventContents"))return!1;var t=n.agentTimelineEventContents,r=t.toolData;return"user_response"===t.toolName&&(null==r?void 0:r.$kind)==="messageData"}var nG={direction:"reverse",state:{revert:null,acknowledged:new Set,approvedPlanId:null,approvedPlanEventId:null,didSeeRenderedEvent:!1,selectedFeatureIds:new Set,latestPlanId:null,secretResponses:new Set,approvedTaskListEventIds:new Set,taskListApprovalRequestEvents:new Map,latestInitialBuildApprovalRequestEventId:null,respondedQueryRequestEventIds:new Set},transformer:function(e,n){var t=n.revert;(null==(h=n.revert)?void 0:h.eventIdBeforeRevert)===e.id&&(n.revert=null);var r=e.contents.contents,a=null;switch(null==r?void 0:r.$kind){case"sessionCreationEventContents":case"contextComplexityEventContents":return;case"requestFeatureAddData":r.requestFeatureAddData.type===N.vqu.REQUEST_FEATURE_ADD_TYPE_NEON_DATABASE&&(a={type:"userMessage",id:e.id,message:"Please help me add a database to my app.",acknowledged:!0,created:e.created,attachedUrls:[],uploadedFiles:[],userId:Number(e.sender.id)});break;case"agentPlanEventContents":var i=r.agentPlanEventContents,o=!1;null==n.latestPlanId&&(o=!0,n.latestPlanId=i.planId);var s=(0,nJ._)(i.step.subSteps),c=s[0],d=s.slice(1),f=c.subSteps.length>1,p=c.subSteps.map(function(e){return{id:e.id,name:e.name}});if(i.requiresApproval&&n.approvedPlanId===i.planId)return;i.requiresApproval||(n.approvedPlanId=i.planId),a={type:"planProposal",id:e.id,features:f?p:d,objective:c.name,stackBlueprint:i.stackBlueprint,blueprints:c.blueprintData,planId:i.planId,sessionId:e.sessionId,eventState:e.state,eventCreated:e.created,eventUpdated:e.updated,isLatestPlan:o,approved:n.approvedPlanEventId===e.id||!i.requiresApproval};break;case"approvePlanEventContents":n.approvedPlanEventId=r.approvePlanEventContents.planEventId,a={type:"planApproval",id:e.id,userId:Number(e.sender.id),created:e.created,planId:r.approvePlanEventContents.planEventId,initialBuildMode:r.approvePlanEventContents.initialBuildMode};break;case"revertEventContents":var h,m,v=r.revertEventContents.eventIdBeforeRevert;if((null==(m=n.revert)?void 0:m.eventIdBeforeRevert)===v){n.revert.reverterId=e.sender.id,n.revert.commitId=r.revertEventContents.commitId;return}n.revert={eventIdBeforeRevert:v,hiddenEvents:0,status:"inflight",reverterId:e.sender.id};return;case"messageEventContents":if(e.sender.type===N.utd.USER)a={type:"userMessage",id:e.id,userId:Number(e.sender.id),message:r.messageEventContents.content,uploadedFiles:r.messageEventContents.uploadedFiles,attachedUrls:r.messageEventContents.attachedUrls,created:null!=(g=e.created)?g:null,acknowledged:n.acknowledged.has(e.id),targetedElement:r.messageEventContents.targetedElement,agentConfig:r.messageEventContents.agentConfig};else{var g,b,y,w=nV(r.messageEventContents.agentAction),_=!n.didSeeRenderedEvent&&(n$(e)||!!w);a={type:"agentMessage",id:e.id,message:null!=(y=null==r||null==(b=r.messageEventContents)?void 0:b.content)?y:"",requestedSecrets:w,sessionId:e.sessionId,state:e.state,waitingOnUser:_}}break;case"agentAskUserForActionRequest":var S=r.agentAskUserForActionRequest.request;if((0,J.VF)(S,"userSecretsRequest")){var A=(0,J.QN)(S),k=A.secrets,C=A.message,Y=!0;n.secretResponses.has(e.id)&&(Y=!1,n.secretResponses.delete(e.id)),a={type:"agentMessage",id:e.id,message:C,requestedSecrets:(null==k?void 0:k.length)?k:void 0,sessionId:e.sessionId,state:e.state,waitingOnUser:Y};break}if((0,J.VF)(S,"approveTaskListRequest")){var E=(0,J.QN)(S).taskListEventId;n.taskListApprovalRequestEvents.set(E,e.id);break}if((0,J.VF)(S,"approveInitialBuildMvpRequest")||(0,J.VF)(S,"approveInitialBuildVisualPhaseRequest")){var x=!1;null==n.latestInitialBuildApprovalRequestEventId&&(n.latestInitialBuildApprovalRequestEventId=e.id,x=!0);var T=(0,J.QN)(S),D=T.userSecretsRequest,I=T.addingIntegrationRequest;D&&D.secrets.length>0&&x&&(a={type:"askUserForAction",id:e.id,sessionId:e.sessionId,message:null==D?void 0:D.message,state:e.state,secretsRequest:D,isSecretsRequestFulfilled:n.secretResponses.has(e.id)}),(null==I?void 0:I.connectionIds.length)>0&&x&&(a={type:"askUserForAction",id:e.id,sessionId:e.sessionId,message:"",state:e.state,addingIntegrationRequest:I});break}if((0,J.VF)(S,"queryRequest")){if(!n.respondedQueryRequestEventIds.has(e.id))break;var R=S.queryRequest.queries;if(0===R.length||R.every(function(e){return null==e.queryType}))break;a={type:"queryRequest",id:e.id,created:e.created,queries:S.queryRequest.queries};break}var O=(0,J.VF)(S,"nextStepRequest")?S.nextStepRequest.newFeatureRequests:void 0;O&&(O=O.map(function(e){return(0,u._)((0,l._)({},e),{isSelected:n.selectedFeatureIds.has(e.id)})})),a={type:"askUserForAction",id:e.id,sessionId:e.sessionId,message:r.agentAskUserForActionRequest.message,state:e.state,newFeatureRequests:O};break;case"agentAskUserForActionResponse":var P,F=r.agentAskUserForActionResponse,U=F.response,L=F.requestEventId,M=Number(e.sender.id),B=(null==U?void 0:U.$kind)==="nextStepResponse"&&(null==(P=U.nextStepResponse.response)?void 0:P.$kind)==="newFeatureResponse"?U.nextStepResponse.response.newFeatureResponse:null;if(B)return n.selectedFeatureIds.add(B.selectedFeatureId),{type:"userMessage",id:e.id,userId:M,message:B.featureName,uploadedFiles:[],attachedUrls:[],created:e.created,acknowledged:!0};if((null==U?void 0:U.$kind)==="userSecretsResponse")n.secretResponses.add(L);else if((null==U?void 0:U.$kind)==="approveTaskListResponse"){if(U.approveTaskListResponse.approved){var V=U.approveTaskListResponse.taskListEventId;return n.approvedTaskListEventIds.add(V),{type:"taskListApproval",id:e.id,state:e.state,userId:M,created:e.created,taskListEventId:V}}}else(null==U?void 0:U.$kind)==="approveInitialBuildMvpResponse"&&U.approveInitialBuildMvpResponse.approved?a={type:"initialBuildPhaseApproval",id:e.id,userId:M,created:e.created,initialBuildPhase:N.ys1.INITIAL_BUILD_PHASE_MVP_COMPLETE_PENDING_REVIEW}:(null==U?void 0:U.$kind)==="approveInitialBuildVisualPhaseResponse"&&U.approveInitialBuildVisualPhaseResponse.approved?(U.approveInitialBuildVisualPhaseResponse.userSecretsResponse.providedSecrets.length>0&&n.secretResponses.add(L),a={type:"initialBuildPhaseApproval",id:e.id,userId:M,created:e.created,initialBuildPhase:N.ys1.INITIAL_BUILD_PHASE_VISUAL_COMPLETE_PENDING_REVIEW}):(null==U?void 0:U.$kind)==="queryResponse"&&(n.respondedQueryRequestEventIds.add(L),a={type:"queryResponse",id:e.id,created:e.created,responses:U.queryResponse.responses,requestEventId:L});break;case"setupImportedProjectEventContents":var $=n.didSeeRenderedEvent;a={type:"setupImport",id:e.id,sessionId:e.sessionId,importSource:r.setupImportedProjectEventContents.importSource,state:$?N.qOk.COMPLETE:N.qOk.IN_PROGRESS};break;case"tipRecommendation":var G=r.tipRecommendation;a={type:"tipRecommendation",id:e.id,sessionId:e.sessionId,created:e.created,tip:{id:G.tipId,title:G.title,recommendedReason:G.recommendedReason}};break;case"subagentRunning":if((null==(ee=e.contents.contents)?void 0:ee.$kind)==="subagentRunning"){var z=e.contents.contents.subagentRunning;a={type:"subagent",id:z.subagentId,eventId:e.id,parentId:e.sessionId,sessionId:z.childSessionId,created:e.created}}break;case"agentTimelineEventContents":if(e.error.message){a={type:"error",id:e.id,message:e.error.message,shortMessage:e.error.shortMessage};break}var W=r.agentTimelineEventContents.toolData;switch(null==W?void 0:W.$kind){case"messageData":var j=nV(W.messageData.agentAction),q=!n.didSeeRenderedEvent&&(n$(e)||!!j);a={type:"agentMessage",id:e.id,message:W.messageData.content,requestedSecrets:j,sessionId:e.sessionId,state:e.state,waitingOnUser:q};break;case"acknowledgeUserMessage":var Z=W.acknowledgeUserMessage.eventIds,K=!0,Q=!1,X=void 0;try{for(var ee,en,et=Z[Symbol.iterator]();!(K=(en=et.next()).done);K=!0){var er=en.value;n.acknowledged.add(er)}}catch(e){Q=!0,X=e}finally{try{K||null==et.return||et.return()}finally{if(Q)throw X}}break;case"commitData":a=(0,u._)((0,l._)({type:"checkpoint"},W.commitData),{id:e.id,title:W.commitData.description.split("\n")[0],isPaid:W.commitData.billingRate===N.pSr.NORMAL,created:e.created,sessionId:e.sessionId,state:e.state,revert:null!=t?t:void 0});break;case"endOfRunSummaryData":if(0===W.endOfRunSummaryData.usageCents)break;return(0,u._)((0,l._)({type:"endOfRunSummary"},W.endOfRunSummaryData),{id:e.id});case"revertData":return n.revert={eventIdBeforeRevert:W.revertData.eventIdBeforeRevert,hiddenEvents:0,revertedAt:e.created,status:W.revertData.status===N.TB3.REVERT_DATA_STAGE_COMPLETE?"completed":"inflight"},a={type:"revert",id:e.id,status:W.revertData.status,revertedAt:e.created,originalSessionId:W.revertData.originalSessionId,checkpointTitle:W.revertData.checkpointTitle};case"deployData":a={type:"suggestDeploy",id:e.id};break;case"suggestRollbackData":a={type:"suggestRollback",id:e.id,suggestRollbackReason:W.suggestRollbackData.suggestRollbackReason};break;case"taskListData":var ea,ei=n.approvedTaskListEventIds.has(e.id),eo=W.taskListData.agentMode===N.xyI.AGENT_MODE_DISCUSSION;if((0,H.O9)(W.taskListData)&&(ei||eo)){a={type:"taskListCreation",id:e.id,sessionId:e.sessionId,eventState:e.state,eventCreated:e.created,tasks:W.taskListData.tasks,agentMode:W.taskListData.agentMode,approved:ei,approvalRequestEventId:null!=(ea=n.taskListApprovalRequestEvents.get(e.id))?ea:null};break}var es=(0,H.q5)(W.taskListData);es.length>0&&(a={type:"taskListItemsCompleted",id:e.id,sessionId:e.sessionId,eventState:e.state,eventCreated:e.created,completedTasks:es,commitData:W.taskListData.commitData,estimatedUsageCents:W.taskListData.estimatedUsageCents});break;default:if(!(null==W?void 0:W.$kind)||!nB.has(null==W?void 0:W.$kind)||e.state===N.qOk.IN_PROGRESS)break;var el=(0,nH.m)(e);if(!el)break;var eu=function(e){if(!e)return null;if(e.error.type!==N.fqQ.EVENT_ERROR_TYPE_UNKNOWN)return{$kind:"error",error:e.error};var n=e.contents.contents;if((null==n?void 0:n.$kind)!=="agentTimelineEventContents")return null;var t=n.agentTimelineEventContents.toolData,r=(0,nH.m)(e),a={$kind:null,summary:r,state:e.state};switch(null==t?void 0:t.$kind){case"fileEditData":var i=null==t?void 0:t.fileEditData,o=null==i?void 0:i.filePath,s=null==i?void 0:i.diff;if(void 0===o||void 0===s)return a;return{$kind:"fileEditData",state:e.state,path:o,diff:s,summary:r};case"createFileData":var l=null==t?void 0:t.createFileData,u=null==l?void 0:l.filePath,c=null==l?void 0:l.content;if(void 0===u||void 0===c)return a;return{$kind:"createFileData",content:c,path:u,summary:r};case"shellExecutionData":return{$kind:"shellExecutionData",data:t.shellExecutionData,summary:r};case"readFileData":return{$kind:"readFileData",data:t.readFileData,summary:r};case"readDirData":return{$kind:"readDirData",data:t.readDirData,summary:r};case"packagerInstallData":var d=t.packagerInstallData,f=d.inputLanguage,p=d.inputPackages,h=d.output,m=d.isExecuting,v=d.processId;if(void 0===f||void 0===p)return a;return{$kind:"packagerInstallData",state:e.state,language:f,installed:p,output:void 0===h?void 0:h,isExecuting:void 0!==m&&m,processId:void 0===v?void 0:v,summary:r};case"packagerUninstallData":var g=t.packagerUninstallData;return{$kind:"packagerUninstallData",language:g.inputLanguage,uninstalled:g.inputPackages,summary:r};case"systemDependencyInstallData":var b=t.systemDependencyInstallData.deps;if(void 0===b)return a;return{$kind:"systemDependencyInstallData",deps:b,summary:r};case"systemDependencyUninstallData":var y=t.systemDependencyUninstallData.deps;if(void 0===y)return a;return{$kind:"systemDependencyUninstallData",deps:y,summary:r};case"toolchainInstallData":return{$kind:"toolchainInstallData",modules:t.toolchainInstallData.modules,summary:r};case"screenshotData":return{$kind:"screenshotData",imageUrl:t.screenshotData.imageUrl,summary:r};case"planProgressData":case"agentPlanStepBegin":case"workflowsStopToolData":case"workflowsGetOutputToolData":case"workflowsRemoveRunConfigToolData":return null;case"workflowsStartToolData":return{$kind:t.$kind,workflowName:t.workflowsStartToolData.name,state:e.state,summary:r};case"workflowsRestartToolData":return{$kind:t.$kind,workflowName:t.workflowsRestartToolData.name,state:e.state,restart:!0,summary:r};case"workflowsSetRunConfigToolData":return{$kind:t.$kind,workflowName:t.workflowsSetRunConfigToolData.name,state:e.state,summary:r};case"deployData":return{$kind:t.$kind,summary:r,result:t.deployData};case"presentResultsToolData":return{$kind:t.$kind,summary:r,result:t.presentResultsToolData};case"createPostgresqlDatabaseData":case"memoryCompressionData":return{$kind:t.$kind,summary:r};case"sqlExecutionData":return{$kind:t.$kind,data:t.sqlExecutionData,summary:r};case"webSearchData":return{$kind:t.$kind,data:t.webSearchData,summary:r};case"webPageVisitData":return{$kind:t.$kind,data:t.webPageVisitData,summary:r};case"imageGenerationData":return{$kind:t.$kind,data:t.imageGenerationData,summary:r};case"stockImageData":return{$kind:t.$kind,data:t.stockImageData,summary:r};case"searchFilesystemData":var w=t.searchFilesystemData.resultFileNames;return w.length?{$kind:t.$kind,resultFileNames:w,summary:r}:null;case"taskListData":return{$kind:t.$kind,data:t.taskListData,summary:r};case"samplingEvent":return{$kind:t.$kind,data:t.samplingEvent,summary:r};case"thoughts":return{$kind:t.$kind,thoughts:t.thoughts.thoughts};case"setupObjectStorageData":return{$kind:t.$kind,summary:r,bucketId:t.setupObjectStorageData.bucketId,bucketName:t.setupObjectStorageData.bucketName};case"blueprintsSetup":return{$kind:t.$kind,summary:r,blueprintData:t.blueprintsSetup.blueprintData};case"setupModelfarmData":return{$kind:t.$kind};case"viewLogsData":return{$kind:t.$kind,data:t.viewLogsData,summary:r};case"viewSpecialFiles":return{$kind:t.$kind,data:t.viewSpecialFiles,summary:r};case"designGuidelinesData":return{$kind:t.$kind,data:t.designGuidelinesData,summary:r};case"searchIntegrationsData":return{$kind:t.$kind,data:t.searchIntegrationsData};case"viewIntegrationData":return{$kind:t.$kind,data:t.viewIntegrationData};case"mcpToolData":return{$kind:t.$kind,data:t.mcpToolData};default:return a}}(e);a={type:"agentToolUse",id:e.id,sessionId:e.sessionId,toolDataKind:W.$kind,summary:el,data:eu}}}if(a)return n.didSeeRenderedEvent=!0,a}},nz=t(99282),nW=t(3937),nj=t(1121),nq=t(91916),nZ=t(22784),nK=t.n(nZ);function nQ(e){var n=e.expanded,t=e.onClick,r=e.title,a=e.children,i=e.icon;return(0,f.FD)(eF.S,{children:[(0,f.FD)(eF.S,{css:nN.b.nofill,clsx:nK().expandableButton,px:4,tag:"button",row:!0,gap:6,align:"center",justify:"space-between",onClick:t,children:[(0,f.FD)(eF.S,{row:!0,align:"center",gap:6,grow:!0,shrink:!0,children:[null!=i?i:(0,f.Y)(nq.A,{color:er.LU.foregroundDimmer}),(0,f.Y)(nI.B,{summary:r,color:"dimmer"})]}),n?(0,f.Y)(nj.A,{color:er.LU.foregroundDimmer,clsx:nK().chevron}):(0,f.Y)(nO.A,{color:er.LU.foregroundDimmer,clsx:nK().chevron})]}),n?(0,f.Y)(nW.ui,{children:(0,f.Y)(eF.S,{py:8,children:a})}):null]})}var nX=(0,p.memo)(function(e){var n=e.data,t=(0,ek._)(e,["data"]);return(0,f.Y)(eR.W,(0,l._)({data:n},t))}),n0=t(79690),n1=t(56064),n2=t(15920),n3=t.n(n2);function n4(e){var n=e.event,t=(0,ek._)(e,["event"]),r=eg.cP.of(n);return(0,f.Y)(nX,(0,l._)({data:r},t))}function n5(e){var n=e.events,t=e.eventProps,r=e.isInProgress,a=e.thoughtSeconds,i=(0,c._)((0,p.useState)(!1),2),o=i[0],u=i[1],d="Show more";d=r?o?"Show less":"Show more":o?"Hide work done":"Show work done";var h=(0,p.useCallback)(function(){u(function(e){return!e})},[]),m=a?(0,nM.o)(a):void 0,v=r?n.length>=3:n.length>0,g=(0,p.useMemo)(function(){var e=n.filter(function(e){return null!=e});return r?e.length<3||o?e:e.slice(-2):o?e:[]},[n,r,o]),b=g.length>0;return(0,f.FD)(nW.ui,{gap:4,clsx:[n3().subSurface,(0,s._)({},n3().expandable,v)],children:[v?(0,f.FD)(nW.ui,{elevated:!0,clsx:[n3().expandableHeader,(0,s._)({},n3().expanded,o)],tag:"button",row:!0,gap:6,px:4,align:"center",justify:"space-between",onClick:h,children:[(0,f.FD)(eF.S,{align:"center",row:!0,gap:4,children:[o?(0,f.Y)(n0.A,{color:er.LU.foregroundDimmer}):(0,f.Y)(n1.A,{color:er.LU.foregroundDimmer}),(0,f.Y)(eq.EY,{color:"dimmer",children:d})]}),m?(0,f.Y)(eq.EY,{color:"dimmer",children:m}):null]}):null,b?(0,f.Y)(eF.S,{children:g.map(function(e){return(0,f.Y)(n4,(0,l._)({event:e},t),e.id)})}):null]})}function n7(e){var n=e.taskText,t=e.events,r=e.eventProps,a=e.isExpanded,i=e.onClickExpandCollapse;return(0,f.FD)(nW.ui,{elevated:!0,clsx:[n3().root,(0,s._)({},n3().isExpanded,a)],children:[(0,f.FD)(eF.S,{row:!0,justify:"space-between",align:"baseline",children:[(0,f.Y)(eq.EY,{variant:"small",color:"dimmer",children:"Task"}),(0,f.Y)(eB.K0,{alt:"Maximize",onClick:i,children:a?(0,f.Y)(eG.A,{size:12}):(0,f.Y)(nu.A,{size:12})})]}),(0,f.Y)(eq.EY,{children:n}),t.length>0?(0,f.Y)(n5,{events:t,eventProps:r,isInProgress:!0}):null]})}function n9(e){var n=e.task,t=e.taskSummary,r=e.events,a=e.eventProps,i=(0,c._)((0,p.useState)(!1),2),o=i[0],s=i[1],l=(0,p.useCallback)(function(){s(function(e){return!e})},[]),u=(0,p.useCallback)(function(){s(!1)},[]);return(0,f.FD)(f.FK,{children:[(0,f.Y)(n7,{taskText:t,events:r,eventProps:a,isExpanded:!1,onClickExpandCollapse:l}),(0,f.Y)(eV.a,{maxWidth:872,isOpen:o,hideCloseButton:!0,onRequestClose:u,noPadding:!0,children:(0,f.Y)(n7,{taskText:n,events:r,eventProps:a,isExpanded:!1,onClickExpandCollapse:l})})]})}function n8(e){var n=e.taskText,t=e.resultText,r=e.thoughtSeconds,a=e.events,i=e.eventProps,o=e.isExpanded,l=e.onClickExpandCollapse;return(0,f.FD)(nW.ui,{elevated:!0,clsx:[n3().root,(0,s._)({},n3().isExpanded,o)],children:[(0,f.FD)(eF.S,{row:!0,justify:"space-between",align:"baseline",children:[(0,f.Y)(eq.EY,{variant:"small",color:"dimmer",children:"Task"}),(0,f.Y)(eB.K0,{alt:"Maximize",onClick:l,children:o?(0,f.Y)(eG.A,{size:12}):(0,f.Y)(nu.A,{size:12})})]}),(0,f.Y)(nz.d2,{text:n}),a.length>0?(0,f.Y)(n5,{events:a,eventProps:i,isInProgress:!1,thoughtSeconds:r}):null,t?(0,f.FD)(f.FK,{children:[(0,f.Y)(eq.EY,{variant:"small",color:"dimmer",children:"Result"}),(0,f.Y)(nz.d2,{text:t})]}):null]})}function n6(e){var n=e.task,t=e.taskSummary,r=e.result,a=e.resultSummary,i=e.thoughtSeconds,o=e.events,s=e.eventProps,l=(0,c._)((0,p.useState)(!1),2),u=l[0],d=l[1],h=(0,p.useCallback)(function(){d(function(e){return!e})},[]),m=(0,p.useCallback)(function(){d(!1)},[]);return(0,f.FD)(f.FK,{children:[(0,f.Y)(n8,{taskText:t,resultText:a,thoughtSeconds:i,events:o,eventProps:s,isExpanded:!1,onClickExpandCollapse:h}),(0,f.Y)(eV.a,{maxWidth:872,isOpen:u,hideCloseButton:!0,onRequestClose:m,noPadding:!0,children:(0,f.Y)(n8,{taskText:n,resultText:r,thoughtSeconds:i,events:o,eventProps:s,isExpanded:!0,onClickExpandCollapse:h})})]})}function te(e){var n=e.expandByDefault,t=e.isInProgress,r=e.title,a=e.task,i=e.taskSummary,o=e.result,s=e.resultSummary,l=e.thoughtSeconds,u=e.subagent,d=(0,ek._)(e,["expandByDefault","isInProgress","title","task","taskSummary","result","resultSummary","thoughtSeconds","subagent"]),h=(0,c._)((0,p.useState)(null!=n?n:!!t),2),m=h[0],v=h[1],g=(0,p.useCallback)(function(){v(function(e){return!e})},[]);(0,p.useEffect)(function(){t||n||v(!1)},[n,t]);var y=(0,p.useMemo)(function(){return u.session.transform(nG,500)},[u]),w=(0,b.J2)(y.flat);return(0,f.Y)(nQ,{expanded:m,onClick:g,title:r,children:t?(0,f.Y)(n9,{task:a,taskSummary:i,events:null!=w?w:[],eventProps:d}):(0,f.Y)(n6,{task:a,taskSummary:i,result:o,resultSummary:s,thoughtSeconds:l,events:null!=w?w:[],eventProps:d})})}function tn(e){var n=e.subagent,t=(0,ek._)(e,["subagent"]),r=(0,b.Rj)(function(){return n.contents("generalSubagentEventContents")},[n]),a=(0,b.J2)(n.running,!1),i=(0,b.J2)(n.totalExecutionTimeSeconds,0);if(!r)return null;var o=r.task,s=r.taskSummary,u=r.result,c=r.resultSummary,d=r.taskTitle;return(0,f.Y)(te,(0,l._)({isInProgress:a,title:d,task:o,taskSummary:s,result:u,resultSummary:c,thoughtSeconds:a?void 0:i,subagent:n},t))}var tt={direction:"reverse",state:{latestThoughtSummary:void 0,allThoughts:void 0},reducer:function(e,n){var t,r,a;if((null==(r=e.contents)||null==(t=r.contents)?void 0:t.$kind)==="agentTimelineEventContents"&&(null==(a=e.contents.contents.agentTimelineEventContents.toolData)?void 0:a.$kind)==="thoughts"){var i,o=e.contents.contents.agentTimelineEventContents.toolData.thoughts;o.thoughts&&(n.allThoughts=[o.thoughts].concat((0,eC._)(null!=(i=n.allThoughts)?i:[]))),o.summary&&!n.latestThoughtSummary&&(n.latestThoughtSummary=o.summary)}}},tr=t(20907),ta=t(1989),ti=t(14229),to=t(43659),ts=t.n(to),tl=(0,er.CK)("AutoscrollMaxHeightContainer.module.css",["--max-height","--top-gradient-visibility"]);function tu(e){var n=e.children,t=e.maxHeight,r=e.onClick,a=(0,ek._)(e,["children","maxHeight","onClick"]),i=(0,p.useRef)(null),o=(0,p.useRef)(null),c=(0,p.useRef)(null),d=(0,b.HJ)(!0);return(0,p.useEffect)(function(){var e=o.current,n=c.current;if(e&&n){var t=0,r=new tr.F3(function(n,r){t+=n;var a=e.scrollTop,i=e.scrollHeight-e.clientHeight,o=(0,ta.L)({current:a,target:i,elapsed:t,delta:n});o===i?(t=0,r()):(e.scrollTop=o,d.set(a<5))}),a=new ResizeObserver(function(){return r.start()});return a.observe(n),function(){r.stop(),a.disconnect()}}},[d]),(0,ti.d)(i,d,function(e){return(0,s._)({},tl.topGradientVisibility,e?"hidden":"visible")}),(0,f.FD)(eF.S,{clsx:ts().root,innerRef:i,children:[(0,f.Y)(nW.ui,(0,u._)((0,l._)({innerRef:o,style:(0,s._)({},tl.maxHeight,(void 0===t?129.92:t)+"px"),onClick:r,clsx:ts().scroll,role:"button"},a),{children:(0,f.Y)(eF.S,{innerRef:c,children:n})})),(0,f.Y)(eF.S,{clsx:ts().topGradient})]})}function tc(e){return(0,f.Y)(ez.Ay,(0,u._)((0,l._)({},e),{children:(0,f.Y)("path",{d:"M1.25 6V4A2.75 2.75 0 0 1 4 1.25h2a.75.75 0 0 1 0 1.5H4A1.25 1.25 0 0 0 2.75 4v2a.75.75 0 0 1-1.5 0ZM21.25 6V4a1.25 1.25 0 0 0-1.126-1.244L20 2.75h-2a.75.75 0 0 1 0-1.5h2A2.75 2.75 0 0 1 22.75 4v2a.75.75 0 0 1-1.5 0ZM21.25 20v-2a.75.75 0 0 1 1.5 0v2A2.75 2.75 0 0 1 20 22.75h-2a.75.75 0 0 1 0-1.5h2A1.25 1.25 0 0 0 21.25 20ZM1.25 20v-2a.75.75 0 0 1 1.5 0v2l.006.124A1.25 1.25 0 0 0 4 21.25h2a.75.75 0 0 1 0 1.5H4A2.75 2.75 0 0 1 1.25 20ZM13 7.25a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1 0-1.5h7ZM18 11.25a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1 0-1.5h12ZM17 15.25a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1 0-1.5h6Z"})}))}var td=t(23807),tf=t(57021),tp=t.n(tf);function th(e){var n=e.taskText,t=e.thoughtSummary,r=e.allThoughts,a=e.isExpanded,i=e.onClickExpandCollapse;return(0,f.FD)(nW.ui,{elevated:!0,clsx:[tp().root,(0,s._)({},tp().isExpanded,a)],children:[(0,f.FD)(eF.S,{row:!0,justify:"space-between",align:"baseline",children:[(0,f.Y)(eq.EY,{variant:"small",color:"dimmer",children:"Task"}),(0,f.Y)(eB.K0,{alt:"Maximize",onClick:i,children:a?(0,f.Y)(eG.A,{size:12}):(0,f.Y)(nu.A,{size:12})})]}),(0,f.Y)(eq.EY,{children:n}),(0,f.FD)(nW.ui,{clsx:tp().subSurface,gap:8,children:[(0,f.FD)(eF.S,{align:"center",row:!0,gap:4,children:[(0,f.Y)(td.A,{color:er.LU.foregroundDimmer}),(0,f.FD)(eq.EY,{color:"dimmest",children:[t||"Thinking","…"]})]}),a?(0,f.Y)(nW.ui,{elevated:!0,px:8,gap:16,py:6,children:null==r?void 0:r.map(function(e,n){return(0,f.Y)(nz.d2,{textColor:"dimmest",text:e},n)})}):(0,f.Y)(tu,{maxHeight:129.92,elevated:!0,px:8,onClick:i,children:(0,f.Y)(eF.S,{gap:16,py:6,children:null==r?void 0:r.map(function(e,n){return(0,f.Y)(nz.d2,{textColor:"dimmest",text:e},n)})})})]})]})}function tm(e){var n=e.taskText,t=e.resultText,r=e.thoughtSeconds,a=e.thoughtSummary,i=e.isExpanded,o=e.onClickExpandCollapse,l=null;return void 0!==r?l=(0,f.FD)(eF.S,{align:"center",row:!0,gap:4,children:[(0,f.Y)(td.A,{color:er.LU.foregroundDimmer}),(0,f.FD)(eq.EY,{color:"dimmer",children:["Thought for ",(0,nM.o)(r)]})]}):a&&(l=(0,f.FD)(eF.S,{align:"center",row:!0,gap:4,children:[(0,f.Y)(td.A,{color:er.LU.foregroundDimmer}),(0,f.Y)(nI.B,{summary:a,color:"dimmer"})]})),(0,f.FD)(nW.ui,{elevated:!0,clsx:[tp().root,(0,s._)({},tp().isExpanded,i)],children:[(0,f.FD)(eF.S,{row:!0,justify:"space-between",align:"baseline",children:[(0,f.Y)(eq.EY,{variant:"small",color:"dimmer",children:"Task"}),(0,f.Y)(eB.K0,{alt:"Maximize",onClick:o,children:i?(0,f.Y)(eG.A,{size:12}):(0,f.Y)(nu.A,{size:12})})]}),(0,f.Y)(nz.d2,{text:n}),l?(0,f.Y)(nW.ui,{elevated:!0,clsx:tp().subSurface,px:8,children:l}):null,t?(0,f.FD)(f.FK,{children:[(0,f.Y)(eq.EY,{variant:"small",color:"dimmer",children:"Result"}),(0,f.Y)(nz.d2,{text:t})]}):null]})}function tv(e){var n=e.task,t=e.taskSummary,r=e.thoughtSummary,a=e.allThoughts,i=(0,c._)((0,p.useState)(!1),2),o=i[0],s=i[1],l=(0,p.useCallback)(function(){s(function(e){return!e})},[]),u=(0,p.useCallback)(function(){s(!1)},[]);return(0,f.FD)(f.FK,{children:[(0,f.Y)(th,{taskText:t,thoughtSummary:r,allThoughts:a,isExpanded:!1,onClickExpandCollapse:l}),(0,f.Y)(eV.a,{maxWidth:872,isOpen:o,hideCloseButton:!0,onRequestClose:u,noPadding:!0,children:(0,f.Y)(th,{taskText:n,thoughtSummary:r,allThoughts:a,isExpanded:!0,onClickExpandCollapse:l})})]})}function tg(e){var n=e.task,t=e.taskSummary,r=e.result,a=e.resultSummary,i=e.thoughtSeconds,o=e.thoughtSummary,s=(0,c._)((0,p.useState)(!1),2),l=s[0],u=s[1],d=(0,p.useCallback)(function(){u(function(e){return!e})},[]),h=(0,p.useCallback)(function(){u(!1)},[]);return(0,f.FD)(f.FK,{children:[(0,f.Y)(tm,{taskText:t,resultText:a,thoughtSeconds:i,thoughtSummary:o,isExpanded:!1,onClickExpandCollapse:d}),(0,f.Y)(eV.a,{maxWidth:872,isOpen:l,hideCloseButton:!0,onRequestClose:h,noPadding:!0,children:(0,f.Y)(tm,{taskText:n,resultText:r,thoughtSeconds:i,thoughtSummary:o,isExpanded:!0,onClickExpandCollapse:d})})]})}function tb(e){var n=e.isInProgress,t=e.title,r=e.task,a=e.taskSummary,i=e.result,o=e.resultSummary,s=e.thoughtSeconds,l=e.thoughtSummary,u=e.allThoughts,d=e.expandByDefault,h=(0,c._)((0,p.useState)(null!=d?d:!!n),2),m=h[0],v=h[1],g=(0,p.useCallback)(function(){v(function(e){return!e})},[]);return(0,p.useEffect)(function(){n||d||v(!1)},[d,n]),(0,f.Y)(nQ,{expanded:m,onClick:g,title:t,icon:(0,f.Y)(tc,{color:er.LU.foregroundDimmer}),children:n?(0,f.Y)(tv,{task:r,taskSummary:a,thoughtSummary:l,allThoughts:u}):(0,f.Y)(tg,{task:r,taskSummary:a,result:i,resultSummary:o,thoughtSeconds:s,thoughtSummary:l})})}function ty(e){var n=e.subagent,t=(0,b.Rj)(function(){return n.contents("generalSubagentEventContents")},[n]),r=(0,b.J2)(n.running,!1),a=(0,b.J2)(n.totalExecutionTimeSeconds,0),i=(0,b.Rj)(function(){return n.session.reduce(tt,"global")},[n],{default:{latestThoughtSummary:void 0,allThoughts:void 0}}),o=i.latestThoughtSummary,s=i.allThoughts;if(!t)return null;var l=t.task,u=t.taskSummary,c=t.result,d=t.resultSummary,p=t.taskTitle;return(0,f.Y)(tb,{isInProgress:r,title:p,task:l,taskSummary:u,result:c,resultSummary:d,thoughtSeconds:r?void 0:a,thoughtSummary:o,allThoughts:s})}var tw=(0,p.memo)(function(e){var n=e.data,t=(0,ek._)(e,["data"]),r=(0,g.NC)(),a=(0,b.Rj)(function(){return r.sessions.get(n.parentId).select(function(e){return null==e?void 0:e.subagent(n.id,n.eventId,n.sessionId,n.created)})},[r,n]),i=(0,b.J2)(null==a?void 0:a.kind),o=(0,b.Rj)(function(){return null==a?void 0:a.contents("generalSubagentEventContents")},[a]);if(!a||!i)return null;switch(i){case"uiTestingSubagentEventContents":return(0,f.Y)(nL,{subagent:a});case"generalSubagentEventContents":if((null==o?void 0:o.eventFilter)===N.kqc.GENERAL_SUBAGENT_EVENT_FILTER_ALL_EVENTS)return(0,f.Y)(tn,(0,l._)({subagent:a},t));return(0,f.Y)(ty,{subagent:a})}}),t_=(0,p.memo)(function(e){var n=e.data,t=(0,ek._)(e,["data"]);return(0,f.Y)(eR.W,(0,l._)({data:n,subagentRenderer:tw},t))}),tS=t(30689),tA=t.n(tS);function tk(e){return(0,f.Y)(e1.$n,{className:tA().expandButton,variant:"nofill",alignment:"start",onClick:e.onClick,iconLeft:e.isExpanded?(0,f.Y)(n0.A,{}):(0,f.Y)(n1.A,{}),text:e.isExpanded?"Show less":"Show ".concat(e.hiddenItemsCount," more")})}function tC(e){var n=[],t=!e.some(function(e){return"planProposal"===e.value.type}),r=null,a=null,i=null,o=-1,s=!0,u=!1,c=void 0;try{for(var d,f=e[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var p=d.value;if("planProposal"!==p.value.type||t||(t=p.value.approved),"agentToolUse"===p.value.type&&(null!=i||(i=[]),i.push(p)),"userMessage"===p.value.type&&r&&(a&&(tT(r,a,i),i=null,a=null),n.push.apply(n,(0,eC._)(r)),r=null),!r){if(r=[],!t||tY(p.value)){"userMessage"===p.value.type&&(o=n.length),r.push({type:"event",id:p.id,observable:p.observable});continue}a=tE(p.id);var h={id:p.id,observable:p.observable};a.items.push("agentToolUse"===p.value.type?{type:"toolUseGroup",events:[h]}:(0,l._)({type:"event"},h)),tx(a,p.value);continue}if(!t||tY(p.value)){a&&(tT(r,a,i),i=null,a=null),r.push({type:"event",id:p.id,observable:p.observable});continue}a||(a=tE(p.id));var m={id:p.id,observable:p.observable};if("agentToolUse"===p.value.type){var v=a.items[a.items.length-1];(null==v?void 0:v.type)==="toolUseGroup"?v.events.push(m):a.items.push({type:"toolUseGroup",events:[m]}),tx(a,p.value);continue}tx(a,p.value),a.items.push((0,l._)({type:"event"},m))}}catch(e){u=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}return r&&(a&&(tT(r,a,i),i=null,a=null),n.push.apply(n,(0,eC._)(r))),{result:n,lastUserMessageIndex:o}}function tY(e){switch(e.type){case"userMessage":case"checkpoint":case"planProposal":case"suggestDeploy":case"tipRecommendation":case"taskListApproval":case"initialBuildPhaseApproval":case"queryRequest":case"queryResponse":return!0;default:return!1}}function tE(e){return{type:"activityGroup",id:e,items:[],count:{message:0,toolUse:0}}}function tx(e,n){var t=e.count;switch(n.type){case"agentMessage":t.message++,e.summary||(e.summary=n.message);break;case"agentToolUse":t.toolUse++}}function tT(e,n,t){var r,a=(r=n.items).some(function(e){return"toolUseGroup"===e.type})?null:r;a?e.push.apply(e,(0,eC._)(a)):(null==t?void 0:t.length)===1&&1===n.items.length?e.push.apply(e,(0,eC._)(t.map(function(e){return{type:"event",id:e.id,observable:e.observable}}))):(!n.summary&&t&&(n.summary=function(e){var n=[],t=new Map,r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;if("agentToolUse"===l.type){var u=t.get(l.toolDataKind);u?u.push(l):t.set(l.toolDataKind,[l])}}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}var d=!0,f=!1,p=void 0;try{for(var h,m=t.entries()[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var v=(0,c._)(h.value,2),g=v[0],b=v[1];switch(g){case"createFileData":n.push("created ".concat((0,eE.A)("file",b.length,!0)));break;case"fileEditData":n.push("edited ".concat((0,eE.A)("file",b.length,!0)));break;case"packagerInstallData":var y=0,w=!0,_=!1,S=void 0;try{for(var A,k=b[Symbol.iterator]();!(w=(A=k.next()).done);w=!0){var C=A.value.data;(null==C?void 0:C.$kind)==="packagerInstallData"&&(y+=C.installed.length)}}catch(e){_=!0,S=e}finally{try{w||null==k.return||k.return()}finally{if(_)throw S}}n.push("installed ".concat((0,eE.A)("package",y,!0)));break;case"createPostgresqlDatabaseData":n.push("created a database");break;case"setupObjectStorageData":n.push("set up Object Storage");break;case"setupModelfarmData":n.push("set up Replit AI Integrations");break;case"screenshotData":n.push("took ".concat((0,eE.A)("screenshot",b.length,!0)))}}}catch(e){f=!0,p=e}finally{try{d||null==m.return||m.return()}finally{if(f)throw p}}return n.length?n.join(", "):void 0}(t.map(function(e){return e.value}))),e.push(n))}var tD=t(26088),tI=t(13927);function tR(e){return(0,p.useCallback)(function(n){if(!e)return Promise.reject(Error("Session is null, cannot send user action response"));var t=null;switch(n.type){case"nextStepResponse":(0,tI.pI)({action:"suggested_feature_selected",sessionId:e.id}),t={$kind:"nextStepResponse",nextStepResponse:{response:{$kind:"newFeatureResponse",newFeatureResponse:{selectedFeatureId:n.data.id,featureName:n.data.featureName}}}};break;case"userSecretsResponse":t={$kind:"userSecretsResponse",userSecretsResponse:{providedSecrets:n.providedSecretKeys.map(function(e){return{key:e,status:N.Jh.SECRET_COMPLETED}})}};break;case"queryResponse":t={$kind:"queryResponse",queryResponse:n.data};break;case"userMarkedTaskComplete":t={$kind:"userMarkedTaskComplete",userMarkedTaskComplete:n.data};break;case"approveTaskListResponse":t={$kind:"approveTaskListResponse",approveTaskListResponse:{taskListEventId:n.taskListEventId,approved:!0}};break;case"addingIntegrationsResponse":t={$kind:"addingIntegrationsResponse",addingIntegrationsResponse:{connectionIds:n.connectionIds,rejectedConnectorIds:n.rejectedConnectorIds}};break;case"approveInitialBuildVisualPhaseResponse":t={$kind:"approveInitialBuildVisualPhaseResponse",approveInitialBuildVisualPhaseResponse:n.data};break;case"approveInitialBuildMvpResponse":t={$kind:"approveInitialBuildMvpResponse",approveInitialBuildMvpResponse:n.data};break;case"approveBlueprintResponse":t={$kind:"approveBlueprintResponse",approveBlueprintResponse:{blueprintEventId:n.blueprintEventId,approved:n.approved,blueprintName:n.blueprintName}};break;default:(0,eN.A)(n)}if(!t)return Promise.reject(Error("Failed to create response for user action"));var r={kind:"agentAskUserForActionResponse",response:t,requestEventId:n.requestEventId};return e.appendEvent(r)},[e])}var tN=t(95969),tO=t(71687),tP=t(50452),tF=t.n(tP),tU=(0,p.memo)(function(e){var n,t,r,a,i,o,u=e.session,c=e.shouldAutoScrollRef,d=e.scrollerTopPadding,h=e.scrollerBottomPadding,m=(0,ek._)(e,["session","shouldAutoScrollRef","scrollerTopPadding","scrollerBottomPadding"]),v=(0,eD.C9)(),g=v.agentState,w=v.updateAgentState,_=(0,b.J2)(g),S=(null==_?void 0:_.state)===N.g32.AGENT_STATE_RUNNING,k=(0,A.m5)(),C=tR(u),Y=(0,B.T)(u.id),E=(n=u,t=(0,y._P)({controlName:"flag-agent-feed-per-page",type:"number",default:200}),r=(0,p.useMemo)(function(){return n.transform(nG,Math.min(t,1e3))},[n,t]),{feed:(0,b.Rj)(function(){return r.map(tC)},[r]),fullyLoaded:(0,b.J2)(r.exhaustive),loadMore:(0,p.useCallback)(function(){return r.size.set(r.size.current+100)},[r])}),x=E.feed,T=E.fullyLoaded,D=E.loadMore,I=(0,eY.s)(),O=I.setElement,F=I.distanceFromBottom,U=(0,p.useMemo)(function(){return F.select(function(e){return e<=ex.jk-8})},[F]),L=(0,b.J2)(U),M=(a=(0,b.HJ)(null),i=(0,p.useMemo)(function(){return new eg.V_(function(e){return a.subscribe(function(n){if(n){var t=!1,r=null,a=function(){var t=n.scrollHeight>n.clientHeight;t!==r&&(r=t,e.next(t))},i=function(){t||(t=!0,requestAnimationFrame(function(){t=!1,a()}))},o=function(){t||(t=!0,requestAnimationFrame(function(){t=!1,a()}))};a(),n.addEventListener("scroll",i,{passive:!0});var s=null;if("undefined"!=typeof ResizeObserver){var l=new ResizeObserver(o);l.observe(n),s=function(){return l.disconnect()}}else window.addEventListener("resize",o,{passive:!0}),s=function(){return window.removeEventListener("resize",o)};return function(){n.removeEventListener("scroll",i),null==s||s()}}})})},[a]),{setElement:(0,p.useCallback)(function(e){return a.set(e)},[a]),hasScrollOverflow:i}),J=M.setElement,H=M.hasScrollOverflow,V=!1===(0,b.J2)(H),$=(0,P.S)([O,J]),G=R({fetchPolicy:"cache-first",ssr:!1}).data,z=(0,p.useMemo)(function(){var e,n,t,r=(null==G||null==(n=G.currentUser)||null==(e=n.tips)?void 0:e.tips)||[],a=new Map(r.map(function(e){return[e.id,e]})),i=r.filter(function(e){return e.timeRecommended}),o=(0,eC._)(i).sort(function(e,n){var t=e.timeRecommended?new Date(e.timeRecommended).getTime():0;return(n.timeRecommended?new Date(n.timeRecommended).getTime():0)-t}),s=(null==(t=o[0])?void 0:t.id)||null;return{recommendedTips:new Set(o.map(function(e){return e.id})),latestTipId:s,allTipsById:a,anyLatestFiveInteracted:o.slice(0,5).some(function(e){return e.timeCompleted||e.timeInteracted||e.timeDismissed}),hasInteractedBefore:o.some(function(e){return e.timeInteracted})}},[G]),W=(0,A.m6)(),j=(0,p.useMemo)(function(){if(!W)return null;var e,n,t=((null==G||null==(n=G.currentUser)||null==(e=n.tips)?void 0:e.tips)||[]).find(function(e){return"bonsai_tour"===e.ctaTrigger});return t?{tip:t,isInBonsaiWebview:W}:null},[W,G]),q=(0,p.useRef)(new Map),Z=(0,l._)({sendAskUserForActionResponse:C,isInitialSession:Y,agentState:g,tipData:z,bonsaiTourTipInfo:j,session:u},m),K=S&&!m.isReadOnly&&(L||V),Q=(0,eT.E)();(0,p.useEffect)(function(){(null==x?void 0:x.result.length)&&(null==Q||Q.remove())},[null==x?void 0:x.result.length,Q]);var X=(0,y._P)({controlName:"flag-electron-orbital-dance-party"});return x?(0,f.FD)(eF.S,{clsx:tF().feed,grow:1,shrink:1,align:"center",children:[(0,f.FD)(tN.ys,{pt:eI.t9+d,pb:h+eI.jq+(K?ex.jk:8),px:k?eI.op:eI.SL,scrollCacheKey:u.id,scrollCache:q.current,shouldAutoScrollRef:c,autoScrollBehavior:"smooth",buttonOffset:h+(K?ex.jk:8),scrollerRef:$,children:[!1===T?(0,f.Y)(e1.$n,{variant:"outlined",iconLeft:(0,f.Y)(tO.A,{}),text:"Show previous events",onClick:function(){D()}}):null,x.result.map(function(e,n){return"activityGroup"===e.type?(0,f.Y)(tM,(0,l._)({isInLastGroup:n>=x.lastUserMessageIndex,activityGroup:e},Z),e.id):(0,f.Y)(t_,(0,l._)({data:e.observable},Z),e.id)})]}),(0,f.Y)(eF.S,{clsx:[tF().statusRowContainer,(o={},(0,s._)(o,tF().visible,K),(0,s._)(o,tF().noTransition,X),o)],style:{bottom:h},children:(0,f.Y)(ex.hO,{session:u,updateAgentState:w})})]}):(0,f.Y)(e_.G,{})});function tL(e){var n,t=e.expanded,r=e.onClick,a=e.activityGroup,i=e.innerRef,o=e.children;return(0,f.Y)(eF.S,{innerRef:i,children:(0,f.FD)(eR.Q,{clsx:tF().expandableGroup,children:[(0,f.FD)(eF.S,{grow:!0,shrink:!0,tag:"button",css:nN.b.nofill,onClick:r,p:8,gap:4,clsx:tF().expandButton,children:[(0,f.FD)(eF.S,{row:!0,grow:!0,shrink:!0,align:"center",justify:"space-between",children:[(0,f.Y)(eq.EY,{multiline:!1,variant:"small",children:t?"Show less":(n=a.count).message>0&&n.toolUse>0?(0,eE.A)("messages",n.message,!0)+" & "+(0,eE.A)("actions",n.toolUse,!0):n.message>0?(0,eE.A)("message",n.message,!0):n.toolUse>0?(0,eE.A)("action",n.toolUse,!0):"Show activity"}),t?(0,f.Y)(nj.A,{}):(0,f.Y)(nO.A,{})]}),t||!a.summary?null:(0,f.Y)(eF.S,{row:!0,children:(0,f.Y)(eq.EY,{multiline:!1,clsx:tF().summary,children:a.summary})})]}),t?(0,f.Y)(eF.S,{pb:8,children:o}):null]})})}var tM=(0,p.memo)(function(e){var n=e.activityGroup,t=e.isInLastGroup,r=void 0!==t&&t,a=(0,ek._)(e,["activityGroup","isInLastGroup"]),i=(0,c._)((0,p.useState)(!1),2),o=i[0],s=i[1],u=(0,p.useRef)(null);if(0===n.items.length)return null;var d=r&&!a.isReadOnly||o?n.items.map(function(e){var n;return"event"===e.type?(0,f.Y)(t_,(0,l._)({data:e.observable},a),e.id):(0,f.Y)(tJ,(0,l._)({events:e.events},a),null==(n=e.events[0])?void 0:n.id)}):null;return(0,f.Y)(f.FK,{children:r&&!a.isReadOnly?d:(0,f.Y)(tL,{innerRef:u,activityGroup:n,expanded:o,onClick:function(){s(!o)},children:d})})}),tJ=(0,p.memo)(function(e){var n=e.events,t=(0,ek._)(e,["events"]),r=(0,tD.g)({items:n,maxVisibleItems:1}),a=r.isExpanded,i=r.setIsExpanded,o=r.maxItemsReached,s=r.visibleItems,u=r.hiddenItemsCount;return(0,f.FD)(f.FK,{children:[o?(0,f.Y)(eR.Q,{py:2,children:(0,f.Y)(tk,{isExpanded:a,onClick:function(){return i(!a)},hiddenItemsCount:u})}):null,s.map(function(e){var n=e.id,r=e.observable;return(0,f.Y)(t_,(0,l._)({data:r},t),n)})]})}),tH=t(96513),tB=t(33747),tV=t(8002),t$=t(7017),tG=t(75869),tz=t(77410),tW=t(75054),tj=t(66121),tq=t(90479),tZ=t(90112),tK=t.n(tZ);function tQ(e){var n=e.queries,t=e.onSendResponse,r=e.onCancel,a=e.isResponseInProgress;return(0,f.FD)(nW.ui,{clsx:tK().root,gap:6,elevated:!0,children:[(0,f.Y)(eq.EY,{children:(0,f.Y)("strong",{children:"Agent has a question for you"})}),n.map(function(e,n){return(0,J.VF)(e.queryType,"booleanQuery")?(0,f.Y)(tX,{query:e.queryType.booleanQuery,sendResponse:t,onCancel:r,isResponseInProgress:a},"".concat(e.queryType.$kind,"-").concat(n)):(0,J.VF)(e.queryType,"choiceQuery")?(0,f.Y)(t0,{query:e.queryType.choiceQuery,sendResponse:t,onCancel:r,isResponseInProgress:a},"".concat(e.queryType.$kind,"-").concat(n)):(0,J.VF)(e.queryType,"textQuery")?(0,f.Y)(t1,{query:e.queryType.textQuery,sendResponse:t,onCancel:r,isResponseInProgress:a},"".concat(e.queryType.$kind,"-").concat(n)):void 0})]})}function tX(e){var n=e.query,t=e.sendResponse,r=e.onCancel,a=e.isResponseInProgress,i=n.question,o=n.confirmText,s=n.rejectText,l=(0,p.useRef)(null),u=(0,p.useId)(),d="boolean-response-".concat(u),h="boolean-reason-".concat(u),m=(0,c._)((0,p.useState)(!1),2),v=m[0],g=m[1],b=(0,c._)((0,p.useState)(""),2),y=b[0],w=b[1];return(0,f.Y)(tW.lV,{ref:l,onSubmit:function(e){if(e.preventDefault(),l.current){var n,r,a=new FormData(l.current),i=a.get(d);("true"===i||"false"===i)&&t({responses:[{responseType:{$kind:"booleanResponse",booleanResponse:{response:"true"===i,reason:null!=(r=null==(n=a.get(h))?void 0:n.toString())?r:""}}}]})}},children:(0,f.FD)(eF.S,{gap:6,children:[(0,f.Y)(tq.Ay,{children:i}),(0,f.Y)(tj.z,{name:d,value:y,onChange:function(e){w(e.target.value),g("true"===e.target.value||"false"===e.target.value)},disabled:a,children:(0,f.FD)(eF.S,{gap:6,children:[(0,f.FD)("label",{className:tK().radioOption,children:[(0,f.Y)(eF.S,{pt:2,children:(0,f.Y)(tj.s,{id:"".concat(d,"-true"),name:d,value:"true"})}),(0,f.Y)(eq.EY,{children:o||"Yes"})]}),(0,f.FD)("label",{className:tK().radioOption,children:[(0,f.Y)(eF.S,{pt:2,children:(0,f.Y)(tj.s,{id:"".concat(d,"-false"),name:d,value:"false"})}),(0,f.Y)(eq.EY,{children:s||"No"})]})]})}),(0,f.Y)(t2,{id:h,disabled:a}),(0,f.Y)(t3,{onCancel:function(){var e;r(),null==(e=l.current)||e.reset(),g(!1),w("")},disabled:!v,isLoading:a})]})})}function t0(e){var n=e.query,t=e.sendResponse,r=e.onCancel,a=e.isResponseInProgress,i=(0,p.useRef)(null),o=(0,c._)((0,p.useState)(!1),2),s=o[0],l=o[1],u=(0,p.useId)(),d="multiple-choice-response-".concat(u),h="multiple-choice-reason-".concat(u),m=(0,c._)((0,p.useState)(""),2),v=m[0],g=m[1];return(0,f.Y)(tW.lV,{ref:i,onSubmit:function(e){if(e.preventDefault(),i.current){var n,r,a=new FormData(i.current),o=a.get(d);o&&"string"==typeof o&&t({responses:[{responseType:{$kind:"choiceResponse",choiceResponse:{response:o,reason:null!=(r=null==(n=a.get(h))?void 0:n.toString())?r:""}}}]})}},children:(0,f.FD)(eF.S,{gap:6,children:[(0,f.Y)(tq.Ay,{children:n.question}),(0,f.Y)(tj.z,{name:d,value:v,onChange:function(e){g(e.target.value),l(!!e.target.value)},disabled:a,children:(0,f.Y)(eF.S,{gap:6,children:n.options.map(function(e,n){return(0,f.FD)("label",{className:tK().radioOption,children:[(0,f.Y)(eF.S,{pt:2,children:(0,f.Y)(tj.s,{id:"".concat(d,"-").concat(n),name:d,value:e})}),(0,f.Y)(eq.EY,{shrink:!0,children:e})]},e)})})}),(0,f.Y)(t2,{id:h,disabled:a}),(0,f.Y)(t3,{onCancel:function(){var e;r(),null==(e=i.current)||e.reset(),l(!1),g("")},disabled:!s,isLoading:a})]})})}function t1(e){var n=e.query,t=e.sendResponse,r=e.onCancel,a=e.isResponseInProgress,i=(0,p.useRef)(null),o=(0,c._)((0,p.useState)(!1),2),s=o[0],l=o[1],u=(0,p.useId)(),d="text-response-".concat(u);return(0,f.Y)(tW.lV,{ref:i,onSubmit:function(e){if(e.preventDefault(),i.current){var n=new FormData(i.current).get(d);n&&"string"==typeof n&&""!==n.trim()&&t({responses:[{responseType:{$kind:"textResponse",textResponse:{response:n}}}]})}},children:(0,f.FD)(eF.S,{gap:8,children:[(0,f.Y)(tq.Ay,{children:n.question}),(0,f.Y)(e3.ov,{clsx:tK().multilineInput,autoSize:!0,name:d,placeholder:n.responsePlaceholderText||"Type here…",disabled:a,onChange:function(e){return l(!!(e.target.value&&e.target.value.trim().length>0))}}),(0,f.Y)(t3,{onCancel:function(){var e;r(),null==(e=i.current)||e.reset(),l(!1)},disabled:!s,isLoading:a})]})})}function t2(e){var n=e.id,t=e.disabled;return(0,f.FD)("label",{clsx:tK().reasonField,htmlFor:n,children:[(0,f.FD)(eF.S,{gap:4,row:!0,align:"center",justify:"space-between",children:[(0,f.Y)(eq.EY,{color:"dimmer",children:"Additional comments"}),(0,f.Y)(eq.EY,{color:"dimmest",children:"Optional"})]}),(0,f.Y)(e3.ov,{clsx:tK().multilineInput,autoSize:!0,name:n,placeholder:"Type here…",rows:1,disabled:t})]})}function t3(e){var n=e.onCancel,t=e.disabled,r=e.isLoading;return(0,f.FD)(eF.S,{clsx:tK().responseSubmissionRow,row:!0,gap:8,justify:"end",children:[(0,f.Y)(e1.$n,{clsx:tK().button,text:"Cancel",onClick:n,disabled:r}),(0,f.Y)(e1.$n,{clsx:tK().button,text:r?"Sending to Agent…":"Send to Agent",type:"submit",colorway:"primary",disabled:t,iconRight:r?void 0:(0,f.Y)(tO.A,{}),loading:r})]})}var t4=t(11218),t5=t(55929),t7=t(67091),t9=t.n(t7);function t8(e){var n=e.runAgent,t=(0,S.A)(),r=(0,c._)((0,p.useState)(!1),2),a=r[0],i=r[1];return(0,f.FD)(f.FK,{children:[(0,f.FD)(nW.ui,{clsx:t9().root,gap:4,p:8,elevated:!0,children:[(0,f.FD)(eq.EY,{clsx:t9().text,children:["You've hit the monthly budget. Increase your usage budget to continue using the Agent."," "]}),(0,f.Y)(eF.S,{clsx:t9().buttonContainer,row:!0,children:(0,f.Y)(e1.$n,{clsx:t9().budgetButton,iconLeft:(0,f.Y)(t5.A,{}),text:"Increase budget",onClick:function(){return i(!0)},variant:void 0})})]}),(0,f.Y)(eV.a,{isOpen:a,onRequestClose:function(){return i(!1)},children:(0,f.Y)(t4.h,{style:"borderless",replId:t,onUpdateSuccess:function(){i(!1),n()}})})]})}function t6(){var e=(0,k._)(["\n  query BuildScoreSurveyDialog {\n    currentUser {\n      id\n      isSubscribed\n    }\n  }\n"]);return t6=function(){return e},e}var re={},rn=(0,C.J1)(t6()),rt=t(44425),rr=t(39590);function ra(){var e=(0,k._)(["\n  mutation BuildScoreSurvey($input: BuildScoreSurveyResponseInput!) {\n    buildScoreSurvey(input: $input) {\n      __typename\n      ... on CurrentUser {\n        id\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return ra=function(){return e},e}function ri(){var e=(0,k._)(["\n  query hasCompletedBuildScoreSurveyForTrigger(\n    $trigger: BuildScoreSurveyTriggerPoint!\n  ) {\n    currentUser {\n      id\n      hasCompletedBuildScoreSurveyForTrigger(trigger: $trigger)\n    }\n  }\n"]);return ri=function(){return e},e}var ro={},rs=(0,C.J1)(ra()),rl=(0,C.J1)(ri()),ru=t(29947),rc=t(95793),rd={direction:"forward",state:{initialPromptText:void 0,latestUserMessageText:void 0,latestPlanContents:void 0,approvedPlanContents:void 0},map:function(e){var n,t;return{initialPromptText:e.initialPromptText,latestUserMessageText:e.latestUserMessageText,stackBlueprintUsed:null==(n=e.latestPlanContents)?void 0:n.stackBlueprint,blueprintsUsed:null==(t=e.latestPlanContents)?void 0:t.step.blueprintData}},reducer:function(e,n){if((0,M.TW)(e,"messageEventContents")&&e.sender.type===N.utd.USER){var t=e.contents.contents,r=(0,J.QN)(t);n.latestUserMessageText=r.content,n.initialPromptText||(n.initialPromptText=r.content)}if((0,M.TW)(e,"agentPlanEventContents")&&(n.latestPlanContents=e.contents.contents.agentPlanEventContents),(0,M.TW)(e,"approvePlanEventContents")&&(n.approvedPlanContents=n.latestPlanContents),(0,M.cL)(e,"commitData"))return!1}},rf=t(70552),rp=t(70399),rh=t(42005),rm=t(60865),rv=t(65968),rg=t.n(rv),rb="How did Agent do?",ry=function(e){return e===tH.NN8.PublishClicked?"How would you rate your experience with Agent?":e===tH.NN8.FirstCheckpoint?"How would you rate the agent's performance on the last task?":""},rw=function(e){return e.VeryDissatisfied="Very Dissatisfied",e.Dissatisfied="Dissatisfied",e.SomewhatSatisfied="Somewhat Satisfied",e.Satisfied="Satisfied",e.VerySatisfied="Very Satisfied",e}(rw||{}),r_={1:"Very Dissatisfied",2:"Dissatisfied",3:"Somewhat Satisfied",4:"Satisfied",5:"Very Satisfied"};function rS(e){var n=e.score,t=e.isFilled,r=e.onClick,a=e.onMouseEnter,i=e.onMouseLeave,o=e.disabled;return(0,f.Y)("button",{type:"button",className:rg().starButton,onClick:function(){return r(n)},onMouseEnter:function(){return a(n)},onMouseLeave:i,disabled:void 0!==o&&o,"aria-label":"Rate ".concat(n," out of 5"),children:t?(0,f.Y)(rm.A,{className:rg().starIcon,size:24}):(0,f.Y)(rh.A,{className:rg().starIcon,size:24})})}function rA(e){var n=e.activeScore,t=e.onClick,r=e.onMouseEnter,a=e.onMouseLeave,i=e.disabled,o=void 0!==i&&i;return(0,f.Y)(eF.S,{row:!0,gap:20,align:"center",justify:"center",children:[1,2,3,4,5].map(function(e){var i=null!==n&&e<=n;return(0,f.Y)(rS,{score:e,isFilled:i,onClick:t,onMouseEnter:r,onMouseLeave:a,disabled:o},e)})})}function rk(e){var n=e.activeScore;return(0,f.Y)(eF.S,{row:!0,justify:"center",clsx:rg().satisfactionLevelText,children:n?(0,f.Y)(eq.EY,{children:r_[n]}):null})}function rC(){var e,n,t,r,a,i,s,h,m,v,y,w,A,k,C,E,x,T,D,I,R,N,O,P,F,U,L=(0,c._)((0,p.useState)(null),2),M=L[0],J=L[1],H=(0,c._)((0,p.useState)(null),2),V=H[0],$=H[1],G=(0,c._)((0,p.useState)(!1),2),z=G[0],W=G[1],j=(0,tI.aO)(),q=j.isMobile,Z=j.isBonsai,K=j.replId,Q=(e=(0,l._)({},re,void 0),Y.I(rn,e)).data,X=null!=(U=null==Q||null==(F=Q.currentUser)?void 0:F.isSubscribed)&&U,ee=(0,rf.jL)(),en=(0,rf.Tr)(),er=void 0;en?er=tH.NN8.PublishClicked:ee&&(er=tH.NN8.FirstCheckpoint);var ea=(n=er,a=(r=(0,_.A)()).showError,i=r.showConfirm,s=(0,g.NC)(),h=(0,b.Rj)(function(){return s.sessions.agent.all.list.select(function(e){return e[e.length-1]})},[s.sessions],{default:void 0}),m=(0,B.Y)(),v=(0,b.Rj)(function(){return m?null==h?void 0:h.reduce(rd,100):void 0},[h,m],{default:void 0}),y=(0,S.A)(),w=(0,ru.W)().connections.filter(function(e){var n;return null==(n=e.repls)?void 0:n.some(function(e){return e.id===y})}).map(function(e){return e.connectorName}),E=(A={skip:void 0===n,variables:{trigger:n}},k=(0,l._)({},ro,A),C=Y.I(rl,k)).data,x=C.loading,R=(I=(0,c._)((T={refetchQueries:[{query:rl,variables:{trigger:n}}]},D=(0,l._)({},ro,T),rr.n(rs,D)),2))[0],N=I[1].loading,O=!!(null==E||null==(t=E.currentUser)?void 0:t.hasCompletedBuildScoreSurveyForTrigger),P=(0,p.useCallback)(function(e){return(0,o._)(function(){var t;return(0,d.YH)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,R({variables:{input:{replId:e.replId||null,responseScore:e.score,trigger:n,headerText:e.headerText,questionText:e.questionText,context:(0,u._)((0,l._)({},null!=v?v:{}),{connectorsUsed:w})}}})];case 1:return r.sent(),null!==e.score&&i("Survey submitted successfully"),[3,3];case 2:throw t=r.sent(),rc.vF.error("Failed to submit build score survey",{error:t}),a("Failed to submit survey."),t;case 3:return[2]}})})()},[R,n,i,a,v,w]),(0,p.useMemo)(function(){return{isLoading:x,isCompleted:O,submitSurvey:P,isSubmitting:N}},[x,O,P,N])),ei=ea.isLoading,eo=ea.isCompleted,es=ea.submitSurvey,el=ea.isSubmitting,eu=!!(er&&!eo&&!ei&&X);if((0,rt.r)(et.AZ.BUILD_SCORE_SURVEY,{action:"viewed",repl_id:K,trigger:er,is_mobile:q,is_bonsai:Z},function(){return eu},[K,q,Z,er,eu]),(0,p.useEffect)(function(){eu||(J(null),$(null),W(!1))},[eu]),!eu)return null;var ec=function(){es({replId:K,score:null,headerText:rb,questionText:ry(er)})},ed=null!=V?V:M;return(0,f.FD)(nW.ui,{clsx:rg().root,gap:18,elevated:!0,children:[(0,f.Y)(eF.S,{row:!0,justify:"space-between",align:"start",children:(0,f.FD)(eF.S,{gap:6,clsx:rg().headerRow,children:[(0,f.FD)(eF.S,{row:!0,justify:"space-between",align:"center",children:[(0,f.Y)(eq.EY,{children:(0,f.Y)("strong",{children:rb})}),(0,f.Y)(rp.A,{onClick:ec,"aria-label":"Close",clsx:rg().closeIcon})]}),(0,f.Y)(eq.EY,{children:ry(er)})]})}),(0,f.FD)(eF.S,{gap:6,children:[(0,f.Y)(rA,{activeScore:ed,onClick:function(e){J(e)},onMouseEnter:function(e){$(e)},onMouseLeave:function(){$(null)},disabled:el||z}),(0,f.Y)(rk,{activeScore:ed})]}),(0,f.Y)(eF.S,{clsx:rg().responseSubmissionRow,row:!0,gap:8,justify:"center",children:z?(0,f.Y)(eF.S,{row:!0,justify:"center",clsx:rg().thankYouMessage,children:(0,f.Y)(eq.EY,{color:"dimmest",children:"Thank you for your feedback!"})}):(0,f.FD)(f.FK,{children:[(0,f.Y)(e1.$n,{clsx:rg().button,text:"Cancel",onClick:ec,disabled:el}),(0,f.Y)(e1.$n,{clsx:rg().button,text:"Confirm",type:"submit",onClick:function(){M&&(W(!0),es({replId:K,score:M,headerText:rb,questionText:ry(er)}))},colorway:"primary",disabled:!M||el})]})})]})}var rY=t(5586),rE=t(54741),rx=t(2717),rT=t(9797),rD=t(53673),rI=t(67401),rR=t.n(rI);let rN=function(e){var n=e.onDismiss,t=e.onConnect,r=e.requestedConnectorIds,a=e.existingConnectorConfigs,i=e.requestedConnections,s=e.existingConnections,l=e.showBetaBadge,u=e.isLoading,c=void 0!==u&&u,h=(0,rE.Y)(),m=i.length>0,v=a.find(function(e){return e.id===r[0]}),g=s.find(function(e){return e.connectionId===i[0]}),b=m?null==g?void 0:g.displayName:null==v?void 0:v.displayName,y=m?null==g?void 0:g.iconPath:null==v?void 0:v.iconPath,w=m?null==g?void 0:g.connectorName:null==v?void 0:v.connectorName;return(0,p.useEffect)(function(){w&&m?(0,et.u4)(et.AZ.CONNECTION_CREATION_SUGGESTED,{connectorName:w}):w&&!m&&(0,et.u4)(et.AZ.CONNECTION_SUGGESTED,{connectorName:w})},[w,m]),(0,f.FD)(nW.ui,{clsx:rR().dialog,gap:8,elevated:!0,children:[(0,f.FD)(eF.S,{row:!0,justify:"space-between",align:"center",children:[(0,f.FD)(eF.S,{row:!0,gap:8,align:"center",children:[y?(0,f.Y)(rT.A,{src:null!=y?y:"",alt:null!=b?b:"",width:24,height:24}):null,(0,f.FD)(eq.EY,{children:["Connect"," ",b?"to ".concat(b):"with integration"]})]}),void 0!==l&&l?(0,f.Y)(rx.a,{text:"Beta",colorway:"primary",compact:!0}):null]}),(0,f.Y)(eF.S,{pb:4,pl:2,children:(0,f.Y)(eq.EY,{children:m?"I see you have the".concat(b?" ".concat(b):""," connection active on your account. Would you like to use this connection?"):"STRIPE_AGENT_SANDBOX"===w?"Get started with a Stripe sandbox to test your payments functionality. Create products and test transactions directly from Replit.":"".concat(b?"Let's connect to ".concat(b,". "):"","Set up the connection now? You can also configure this later by asking Replit Agent or using the integrations pane.")})}),(0,f.FD)(eF.S,{row:!0,gap:8,children:[(0,f.Y)(e1.$n,{className:rR().grow1,text:"Dismiss",disabled:c,onClick:function(){w&&(m?(0,et.u4)(et.AZ.CONNECTION_SUGGESTION_RESPONDED,{connectorName:w,didAccept:!1,isAgentStackRepl:h}):(0,et.u4)(et.AZ.CONNECTION_CREATION_SUGGESTION_RESPONDED,{connectorName:w,didAccept:!1,isAgentStackRepl:h})),n(r)}}),(0,f.Y)(e1.$n,{className:rR().grow3,colorway:"primary",text:m?"Continue with connection":"Connect".concat(b?" ".concat(b):""),iconLeft:m?(0,f.Y)(e5.A,{}):(0,f.Y)(rD.A,{}),loading:c,disabled:c,onClick:function(){return(0,o._)(function(){return(0,d.YH)(this,function(e){switch(e.label){case 0:return[4,t()];case 1:return e.sent(),[2]}})})()}})]})]})};function rO(e){var n=e.session,t=e.addingIntegrationsRequest,r=(0,t$.ET)().orgId,a=tR(n),i=(0,rY.g9)().show,s=(0,ru.W)(),l=s.token,u=s.connectorConfigs,c=s.connections,h=s.createConnection,m=s.createConnectionLoading,v=s.refetch,g=(0,S.A)(),b=(0,rE.Y)(),y=(0,p.useCallback)(function(e,n){(null==t?void 0:t.eventId)&&(a({type:"addingIntegrationsResponse",requestEventId:t.eventId,rejectedConnectorIds:e,connectionIds:[]}),(0,et.u4)(et.AZ.CONNECTION_CREATION_SUGGESTION_RESPONDED,{connectorName:null!=n?n:void 0,didAccept:!1,isAgentStackRepl:b}))},[a,t,b]),w=(null==t?void 0:t.content)||{},_=w.connectorIds,A=void 0===_?[]:_,k=w.connectionIds,C=void 0===k?[]:k,Y=(0,p.useCallback)(function(e){(null==t?void 0:t.eventId)&&(a({type:"addingIntegrationsResponse",requestEventId:t.eventId,connectionIds:[e.connectionId],rejectedConnectorIds:[]}),(0,et.u4)(et.AZ.CONNECTION_SUGGESTION_RESPONDED,{connectorName:e.connectorName,didAccept:!0,isAgentStackRepl:b}))},[t,a,b]),E=(0,p.useCallback)(function(e,n,s,u){return(0,o._)(function(){var c,f,p,m;return(0,d.YH)(this,function(w){switch(w.label){case 0:if(!(null==t?void 0:t.eventId))return[2];if((0,et.u4)(et.AZ.CONNECTION_SETUP_STARTED,{surface:"chat",connectorName:n}),!("api_key"===s&&u))return[3,2];return[4,i("ConnectorApiKeySetupModal",{connector:u,onComplete:function(){return(0,o._)(function(){var e,i,o,s,l;return(0,d.YH)(this,function(c){switch(c.label){case 0:return[4,v()];case 1:if(!(i=c.sent()).data||!(null==t?void 0:t.eventId))return[2];if(o=[],(null==(e=i.data.currentUser)?void 0:e.__typename)==="CurrentUser"){if("connectorContext"in i.data.currentUser&&"CurrentUserConnectorContext"===i.data.currentUser.connectorContext.__typename)o=null!=(s=i.data.currentUser.connectorContext.connections)?s:[];else if("org"in i.data.currentUser&&"Org"===i.data.currentUser.org.__typename)return rc.vF.error("Org connection config suggested in workspace",{connectorConfig:u,orgId:r,connectorName:n}),y([u.id],u.connectorName),[2]}return(l=o.find(function(e){return e.connectorName===u.connectorName}))&&(a({type:"addingIntegrationsResponse",requestEventId:t.eventId,connectionIds:[l.connectionId],rejectedConnectorIds:[]}),u.connectorName&&(0,et.u4)(et.AZ.CONNECTION_CREATION_SUGGESTION_RESPONDED,{connectorName:u.connectorName,didAccept:!0,isAgentStackRepl:b})),[2]}})})()},onCancel:function(){u.connectorName&&y([u.id],u.connectorName)}})];case 1:case 6:return w.sent(),[2];case 2:if("STRIPE_AGENT_SANDBOX"!==n)return[3,5];if(!g)throw Error("replId is required for Stripe Sandbox connection");if(r)throw Error("Stripe Sandbox connection is not supported for organizations");return[4,h({variables:{input:{connectorConfigId:e,settings:{},replId:g}}})];case 3:return f=w.sent(),[4,v()];case 4:return w.sent(),(m=(null==(p=null==(c=f.data)?void 0:c.createConnection)?void 0:p.__typename)==="CreateConnection"?p.connectionId:null)&&(a({type:"addingIntegrationsResponse",requestEventId:t.eventId,connectionIds:[m],rejectedConnectorIds:[]}),(0,et.u4)(et.AZ.CONNECTION_CREATION_SUGGESTION_RESPONDED,{connectorName:n,didAccept:!0,isAgentStackRepl:b})),[2];case 5:return[4,i("ConnectionEmbedModal",{token:l,connectorId:e,connectorName:n,onEvent:function(e){return(0,o._)(function(){return(0,d.YH)(this,function(i){switch(i.label){case 0:if("connect.connection-connected"!==e.name)return[3,3];return[4,h({variables:{input:{connectionId:e.data.connection_id,orgId:null!=r?r:null}}})];case 1:return i.sent(),[4,v()];case 2:i.sent(),e.data.connection_id&&t.eventId&&(a({type:"addingIntegrationsResponse",requestEventId:t.eventId,connectionIds:[e.data.connection_id],rejectedConnectorIds:[]}),n&&(0,et.u4)(et.AZ.CONNECTION_CREATION_SUGGESTION_RESPONDED,{connectorName:n,didAccept:!0,isAgentStackRepl:b})),i.label=3;case 3:return[2]}})})()}})]}})})()},[t,h,r,i,l,v,a,b,g,y]),x=(0,p.useCallback)(function(){return(0,o._)(function(){var e,n,r,a,i,o,s,l,u,c,f,p,h,m,g;return(0,d.YH)(this,function(d){switch(d.label){case 0:if(!(null==t?void 0:t.eventId))return[2];return[4,v()];case 1:if(!(n=d.sent()).data)return[2];if(r=[],a=[],(null==(e=n.data.currentUser)?void 0:e.__typename)==="CurrentUser"&&("connectorContext"in n.data.currentUser&&"CurrentUserConnectorContext"===n.data.currentUser.connectorContext.__typename?(r=null!=(i=n.data.currentUser.connectorContext.connectorConfigs)?i:[],a=null!=(o=n.data.currentUser.connectorContext.connections)?o:[]):"org"in n.data.currentUser&&"Org"===n.data.currentUser.org.__typename&&"OrgConnectorContext"===n.data.currentUser.org.connectorContext.__typename&&(r=null!=(s=n.data.currentUser.org.connectorContext.connectorConfigs)?s:[],a=null!=(l=n.data.currentUser.org.connectorContext.connections)?l:[])),C.length>0){if(f=C[0],p=a.find(function(e){return e.connectionId===f}))return Y(p),[2];if(h=null==(c=f.split("_")[1])?void 0:c.toUpperCase(),!(u=r.find(function(e){return e.connectorName===h})))return y([f],h),[2]}else if(!(A.length>0))return y([]),[2];else if(m=A[0],!(u=r.find(function(e){return e.id===m})))return y([m]),[2];if((null==(g=a.find(function(e){return e.connectorName===u.connectorName}))?void 0:g.connectorName)!=="STRIPE_AGENT_SANDBOX"&&g)return Y(g),[2];return[4,E(u.id,u.connectorName,u.type,u)];case 2:return d.sent(),[2]}})})()},[t,v,A,C,y,Y,E]);return(0,f.Y)(rN,{onDismiss:y,onConnect:x,existingConnections:c,requestedConnectorIds:A,requestedConnections:C,existingConnectorConfigs:u,isLoading:m})}var rP=t(44411),rF=t(11974),rU=t(56783),rL=t(1557),rM=t(26512),rJ=t(33983),rH=t(71102),rB=t(62036),rV=t(65035),r$=t(21769),rG=t(76611),rz=t.n(rG);function rW(){var e=(0,rU.g)().show,n=(0,A.m6)(),t=(0,rM.A)(),r=(0,rJ.o)(),a=(0,rL.A)({planPrefix:"hacker_pro",planPeriod:"monthly"}).costInUsdCents,i=(0,rL.A)({planPrefix:"hacker_pro",planPeriod:"yearly"}).costInUsdCents,s=(null==r?void 0:r.monthlyPrice)!=null&&null!=a?Math.max(0,a-r.monthlyPrice):null,l=(null==r?void 0:r.yearlyPrice)!=null&&null!=i?Math.max(0,i-r.yearlyPrice):null,u=null!=s?s:l,c=u&&!n?"Upgrade now (".concat((0,rF.b0)(u)," off)"):"Upgrade now";return(0,f.FD)(nW.ui,{elevated:!0,clsx:rz().root,children:[(0,f.FD)(eF.S,{clsx:rz().header,row:!0,align:"center",gap:8,pt:8,pb:8,pl:8,children:[(0,f.Y)(rB.A,{size:20}),(0,f.Y)(eq.EY,{clsx:rz().title,children:"Upgrade to continue building"})]}),(0,f.FD)(eF.S,{clsx:rz().textContainer,gap:8,pt:16,pb:24,px:24,children:[(0,f.Y)(eF.S,{clsx:rz().messageContainer,children:(0,f.Y)(eF.S,{clsx:rz().longMessage,children:(0,f.FD)(eq.EY,{children:["You've reached your ",rP.Lm," usage limit. Upgrade to make, launch, and scale your apps."]})})}),(0,f.Y)(eF.S,{clsx:rz().shortMessage,children:(0,f.Y)(eq.EY,{children:"You've reached your usage limit."})}),(0,f.FD)(eF.S,{clsx:rz().benefitItem,row:!0,gap:8,children:[(0,f.Y)(rV.A,{clsx:rz().benefitIcon}),(0,f.Y)(eq.EY,{children:"$25 Monthly credits for Replit Agent"})]}),(0,f.FD)(eF.S,{clsx:rz().benefitItem,row:!0,gap:8,children:[(0,f.Y)(r$.A,{clsx:rz().benefitIcon}),(0,f.Y)(eq.EY,{children:"Publish and host your apps"})]}),(0,f.FD)(eF.S,{clsx:rz().benefitItem,row:!0,gap:8,children:[(0,f.Y)(rH.A,{clsx:rz().benefitIcon}),(0,f.Y)(eq.EY,{children:"Access more powerful models"})]})]}),(0,f.Y)(e1.$n,{text:c,onClick:function(){return(0,o._)(function(){return(0,d.YH)(this,function(n){switch(n.label){case 0:return[4,e("MembershipPurchaseModal",{analyticsContext:{upgrade:{context:"agent_freemium_quota_v2"}},onPurchaseComplete:function(){return t()}})];case 1:return n.sent(),[2]}})})()},colorway:"primary",variant:"default",clsx:rz().upgradeButton})]})}var rj=t(73215),rq=t(75403),rZ=t.n(rq);function rK(e){var n=e.nixError,t=e.openPane,r=(0,p.useCallback)(function(e){t({type:"codeEditor",data:{path:e}})},[t]);return"rebuilding-after-error"===n.status?(0,f.Y)(nW.ui,{elevated:!0,clsx:rZ().root,p:8,gap:6,children:(0,f.Y)(eq.Y9,{variant:"subheadDefault",level:3,children:"The nix environment is rebuilding…"})}):(0,f.Y)(nW.ui,{elevated:!0,clsx:rZ().root,p:8,gap:6,children:(0,f.Y)(rj.H,{openFile:r,nixError:n})})}var rQ={direction:"reverse",state:{eventId:null,content:null},map:function(e){return e.content?{eventId:e.eventId,content:e.content}:null},reducer:function(e,n){if((0,M.TW)(e,"agentAskUserForActionResponse")){var t=(0,J.QN)(e.contents.contents).response;if(t&&(0,J.VF)(t,"addingIntegrationsResponse"))return!1}if((0,M.TW)(e,"agentAskUserForActionRequest")){var r=(0,J.QN)(e.contents.contents).request;if(r&&(0,J.VF)(r,"addingIntegrationRequest")){var a=r.addingIntegrationRequest;return n.eventId=e.id,n.content={connectorIds:a.connectorIds||[],connectionIds:a.connectionIds||[]},!1}}}},rX=t(69893),r0=t(19382);function r1(){var e=(0,k._)(["\n  fragment AgentAuthorizations on OrgAuthorizations {\n    paidAgent: useAiAgent(tier: paid) {\n      __typename\n      isAuthorized\n      message\n      code\n    }\n    freeAgent: useAiAgent(tier: free) {\n      __typename\n      isAuthorized\n      message\n      code\n    }\n  }\n"]);return r1=function(){return e},e}function r2(){var e=(0,k._)(["\n  query GetAgentRepl($replId: String!) {\n    getRepl(id: $replId) {\n      __typename\n      ... on Repl {\n        id\n        org {\n          id\n        }\n        user {\n          id\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return r2=function(){return e},e}function r3(){var e=(0,k._)(["\n  query GetAgentReplAuthorizations(\n    $orgId: String\n    $ownerUserId: Int!\n    $replId: String!\n  ) {\n    currentUser {\n      id\n      personalOrgAuthorizations {\n        ... on OrgAuthorizations {\n          ...AgentAuthorizations\n        }\n        ... on Error {\n          message\n        }\n      }\n      org(orgId: $orgId) {\n        ... on Org {\n          id\n          authorizations {\n            ... on OrgAuthorizations {\n              ...AgentAuthorizations\n            }\n          }\n        }\n        ... on Error {\n          message\n        }\n      }\n    }\n    replOwner: user(id: $ownerUserId) {\n      id\n      paidAgentAuthorization(replId: $replId) {\n        ... on OrgAuthorization {\n          isAuthorized\n          message\n          code\n        }\n        ... on Error {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return r3=function(){return e},e}var r4={},r5=(0,C.J1)(r1()),r7=(0,C.J1)(r2()),r9=(0,C.J1)(r3(),r5),r8={__typename:"OrgAuthorization",isAuthorized:!1,message:"Free agent is not available in personal repls for guests",code:tH.JBK.InsufficientPermissions},r6=t(90233),ae=t(27040),an=t(44154),at=t.n(an);function ar(e){var n=e.cents,t=e.isExpanded,r=e.setIsExpanded,a=(0,p.useCallback)(function(){r(!t),t||(0,tI.pI)({action:"viewed_task_list_usage_cost"})},[t,r]);return(0,f.FD)(eF.S,{row:!0,align:"center",gap:8,children:[(0,f.Y)(eB.K0,{alt:"Agent Usage",onClick:a,clsx:at().button,children:(0,f.Y)(ae.A,{})}),t?null==n?(0,f.Y)(r6.m_,{tooltip:"Loading usage information…",children:(0,f.Y)(eF.S,{clsx:at().loadingPlaceholder})}):(0,f.FD)(eq.EY,{color:"dimmer",variant:"small",children:["$",(n/100).toFixed(2)]}):null]})}var aa={direction:"reverse",state:{event:void 0},reducer:function(e,n){if((0,M.cL)(e,"endOfRunSummaryData")||(0,M.TW)(e,"sessionCreationEventContents"))return n.event=e,!1}},ai=t(82920),ao=t(91808),as=t(95905),al=t(1786),au=t.n(al);function ac(e){var n=e.task,t=e.approvalStatus,r=(0,c._)((0,p.useState)(!1),2),a=r[0],i=r[1];return(0,f.FD)(eF.S,{gap:2,children:[(0,f.FD)(eF.S,{clsx:[au().taskItem,au().expandableTaskItem],row:!0,justify:"space-between",align:"center",gap:8,px:8,py:4,role:"button",children:[(0,f.Y)(eF.S,{grow:!0,shrink:!0,row:!0,align:"center",gap:4,onClick:function(){return i(!a)},children:(0,f.FD)(eq.EY,{clsx:au().taskContent,color:af(n.status,t),shrink:!0,children:[(0,H.Q_)(n)," ",(0,f.Y)(nO.A,{rotate:180*!!a,clsx:au().chevron,color:er.LU.foregroundDimmest})]})}),(0,f.Y)(eF.S,{clsx:au().statusIconContainer,p:4,align:"center",justify:"center",children:(0,f.Y)(ao.h,(0,l._)({},n))})]}),a?(0,f.Y)(eF.S,{clsx:au().expandedContent,pr:16,pt:4,pl:24,pb:8,children:n.extraDetails?(0,f.Y)(tq.Ay,{children:n.extraDetails}):(0,f.Y)(eq.EY,{color:"dimmer",children:n.content})}):null]})}function ad(e){var n=e.task,t=e.approvalStatus;return(0,f.FD)(eF.S,{clsx:au().taskItem,row:!0,justify:"space-between",align:"center",gap:8,px:8,py:4,children:[(0,f.Y)(eF.S,{grow:!0,shrink:!0,children:(0,f.Y)(eq.EY,{clsx:au().taskContent,color:af(n.status,t),children:(0,H.Q_)(n)})}),(0,f.Y)(eF.S,{clsx:au().statusIconContainer,p:4,align:"center",justify:"center",children:(0,f.Y)(ao.h,(0,l._)({},n))})]})}function af(e,n){return"proposed"===n?"default":e===N.e1J.TASK_STATUS_COMPLETED||e===N.e1J.TASK_STATUS_COMPLETED_PENDING_REVIEW?"dimmest":e===N.e1J.TASK_STATUS_PENDING?"dimmer":"default"}function ap(e){var n=e.innerRef,t=e.approvalStatus,r=e.placement,a=e.isCollapsed,i=e.setIsCollapsed,o=e.areTaskDetailsExpandable,s=void 0!==o&&o,u=e.isCostInfoAvailable,d=e.agentUsage,h=e.isCostInfoExpanded,m=e.setIsCostInfoExpanded,v=(0,ek._)(e,["innerRef","approvalStatus","placement","isCollapsed","setIsCollapsed","areTaskDetailsExpandable","isCostInfoAvailable","agentUsage","isCostInfoExpanded","setIsCostInfoExpanded"]),g=v.tasks,b=(0,c._)((0,p.useState)(!1),2),y=b[0],w=b[1],_=(0,p.useRef)(null),S=g.filter(function(e){return e.status===N.e1J.TASK_STATUS_COMPLETED||e.status===N.e1J.TASK_STATUS_COMPLETED_PENDING_REVIEW}).length,A=(0,H.TL)(v),k=(0,p.useMemo)(function(){var e=[],n=[],t=[],r=[];return g.forEach(function(a){switch(a.status){case N.e1J.TASK_STATUS_COMPLETED:e.push(a);break;case N.e1J.TASK_STATUS_COMPLETED_PENDING_REVIEW:r.push(a);break;case N.e1J.TASK_STATUS_IN_PROGRESS:n.push(a);break;case N.e1J.TASK_STATUS_PENDING:default:t.push(a)}}),{completed:e,completedPendingReview:r,inProgress:n,pending:t}},[g]),C=!A&&k.completed.length>3,Y=C&&!y?k.completed.length-3:0,E=C&&!y?k.completed.slice(Y):k.completed,x=(0,p.useMemo)(function(){return k.inProgress[0]},[k.inProgress]),T=(0,p.useMemo)(function(){return"proposed"===t?"Proposed tasks":A?"Completed tasks":a&&x?(0,H.Q_)(x):"In progress tasks"},[t,a,x,A]);return(0,f.FD)(nW.ui,{elevated:!0,clsx:au().drawerSurface,gap:4,grow:1,shrink:1,innerRef:n,children:[(0,f.FD)(eF.S,{clsx:au().titleContainer,row:!0,gap:4,align:"center",justify:"space-between",py:8,pl:4,pr:12,onClick:function(){return i(function(e){return!e})},children:[(0,f.FD)(eF.S,{row:!0,gap:8,align:"center",shrink:!0,children:[(0,f.Y)(r6.m_,{tooltip:a?"Expand":"Collapse",children:(0,f.Y)(eF.S,{clsx:au().chevronIconContainer,align:"center",justify:"center",children:"bottom"===r?a?(0,f.Y)(nj.A,{}):(0,f.Y)(nO.A,{}):a?(0,f.Y)(nO.A,{}):(0,f.Y)(nj.A,{})})}),(0,f.Y)(eq.EY,{color:"dimmer",ref:_,shrink:!0,multiline:!1,showTooltipOnTruncate:!0,children:T})]}),"proposed"!==t?(0,f.FD)(eF.S,{row:!0,gap:8,align:"center",children:[(0,f.FD)(eq.EY,{color:"dimmer",variant:"small",children:[S," / ",g.length]}),x&&a?(0,f.Y)(eF.S,{pr:2,children:(0,f.Y)(ao.h,(0,l._)({},x))}):null,void 0!==u&&u&&!a?(0,f.Y)(ar,{cents:null==d?void 0:d.cents,isExpanded:h,setIsExpanded:m}):null]}):null]}),a?null:(0,f.FD)(eF.S,{clsx:au().drawerItems,shrink:!0,px:2,pb:8,children:[C&&!y?(0,f.Y)(eF.S,{clsx:au().truncatedSection,children:(0,f.Y)(eF.S,{row:!0,justify:"center",align:"center",p:2,children:(0,f.Y)(as.K,{clsx:au().showMoreButton,onClick:function(){return w(!0)},text:"Show ".concat(Y," more completed task").concat(1===Y?"":"s")})})}):null,(0,eC._)(E).concat((0,eC._)(k.completedPendingReview),(0,eC._)(k.inProgress),(0,eC._)(k.pending)).map(function(e){return s&&(0,H.Uv)(e)?(0,f.Y)(ac,{task:e,approvalStatus:t},e.id):(0,f.Y)(ad,{task:e,approvalStatus:t},e.id)}),0===g.length?(0,f.FD)(eF.S,{row:!0,px:2,align:"center",gap:4,children:[(0,f.Y)(eF.S,{clsx:au().emptyIconContainer}),(0,f.Y)(eq.EY,{color:"dimmest",children:"No tasks to show"})]}):null]})]})}function ah(e){var n,t,r,a,i,o,s,d,h,m=e.approvalStatus,v=e.isCostInfoAvailable,y=void 0!==v&&v,w=(0,ek._)(e,["approvalStatus","isCostInfoAvailable"]),_="approved"===m,S=(0,c._)((0,p.useState)(null!=_?_:"approved"===m),2),A=S[0],k=S[1],C=(0,c._)((0,p.useState)(!1),2),Y=C[0],E=C[1],x=(n=y&&Y,r=(0,g.NC)(),a=(0,b.J2)(r.sessions.agent.current),o=null==(i=(0,b.Rj)(function(){return null==a?void 0:a.reduce(aa,"global")},[a],{default:void 0}))||null==(t=i.event)?void 0:t.created,(0,b.Rj)(function(){return n&&o?null==a?void 0:a.agent.usage(o):void 0},[a,o,n])),T=(s=(0,g.NC)(),d=(0,b.J2)(s.sessions.agent.current),!!(null==(h=(0,ai.e)(d))?void 0:h.event)&&(0,M.cL)(h.event,"endOfRunSummaryData"));return(0,f.Y)(ap,(0,u._)((0,l._)({},w),{approvalStatus:m,isCollapsed:A,setIsCollapsed:k,isCostInfoExpanded:Y,setIsCostInfoExpanded:E,agentUsage:x,isCostInfoAvailable:y&&!T}))}var am=t(19042),av=t(36007),ag=t(49696);function ab(){var e=(0,k._)(["\n  fragment AgentSessionErrorUsageInterval on UsageInterval {\n    endDate\n  }\n"]);return ab=function(){return e},e}function ay(){var e=(0,k._)(["\n  query AgentSessionError($orgId: String) {\n    currentUser {\n      id\n      usageInterval {\n        ... on UsageInterval {\n          ...AgentSessionErrorUsageInterval\n        }\n        ... on Error {\n          message\n        }\n      }\n      usageBasedBillingAlerts {\n        ...EditUsageBasedBillingAlertsFormInitialConfig\n      }\n      org(orgId: $orgId) {\n        ... on Org {\n          id\n          name\n          usageInterval {\n            ... on UsageInterval {\n              ...AgentSessionErrorUsageInterval\n            }\n            ... on Error {\n              message\n            }\n          }\n          usageBasedBillingAlerts {\n            ...EditUsageBasedBillingAlertsFormInitialConfig\n          }\n        }\n        ... on Error {\n          message\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return ay=function(){return e},e}var aw={},a_=(0,C.J1)(ab()),aS=(0,C.J1)(ay(),a_,ag.B9),aA=t(882),ak=t(32402),aC=t(88181),aY=t(46735),aE=t(38527),ax=t(70764),aT=t(18712),aD=t(13298),aI=t(84e3),aR=(0,ax.x)({root:[aT.wp.position.relative,aT.wp.p(8),aT.wp.borderRadius(),aT.wp.border({color:er.LU.outlineDimmest}),aT.wp.colWithGap(4),{containerType:"inline-size"}]});function aN(e){return(0,f.FD)(eF.S,{row:!0,gap:6,align:"center",children:[(0,f.Y)(aE.l,{size:16}),(0,f.Y)(eq.EY,{variant:"subheadDefault",children:e.children})]})}function aO(e){return(0,f.FD)(nW.ui,{elevated:!0,css:aR.root,children:[(0,f.Y)(aN,{children:"You’ve hit your usage budget"}),(0,f.FD)(eq.EY,{"data-chromatic":"ignore",children:["Increase your usage budget to continue using Agent now. Otherwise, your usage will reset"," ",e.creditsResetDate?(0,f.FD)(f.FK,{children:["on ",(0,aY.A)(e.creditsResetDate,"MMM do, HH:mm aaa")," "]}):null,"when the next billing period begins."]}),(0,f.Y)(e1.$n,{iconLeft:(0,f.Y)(ae.A,{}),text:"Increase usage budget",colorway:"primary",onClick:e.onIncreaseBudget})]})}function aP(e){return(0,f.FD)(nW.ui,{css:aR.root,elevated:!0,children:[(0,f.Y)(aN,{children:"Add a billing method to continue using Agent"}),(0,f.Y)(eq.EY,{children:"You’ve used all your monthly credits—you’ll need to to add a billing method to pay for additional Agent usage."}),(0,f.Y)(e1.$n,{iconLeft:(0,f.Y)(aI.A,{}),text:"Add billing method",colorway:"primary",onClick:e.onAddBillingMethod})]})}function aF(){return(0,f.FD)(nW.ui,{css:aR.root,elevated:!0,children:[(0,f.Y)(aN,{children:"Your subscription is not active anymore"}),(0,f.Y)(eq.EY,{children:"Your subscription has expired or been canceled. To continue using Agent, make sure your subscription is active."}),(0,f.Y)(e2.v,{href:"/pricing",iconRight:(0,f.Y)(aD.A,{}),text:"See pricing",colorway:"primary"})]})}function aU(e){var n=e.error;return(0,f.FD)(nW.ui,{css:aR.root,elevated:!0,children:[(0,f.Y)(aN,{children:"Dev only error"}),(0,f.FD)(eq.EY,{children:[n.type," - ",n.message]})]})}function aL(e){var n=(0,S.A)(),t=(0,aA.R)(n),r=t.hasError,a=t.orgId,i=(d={variables:{orgId:a},skip:void 0===a||r},h=(0,l._)({},aw,d),Y.I(aS,h)).data;m=a?(null==i||null==(v=i.currentUser)?void 0:v.org.__typename)==="Org"&&"UsageBasedBillingAlertsConfig"===i.currentUser.org.usageBasedBillingAlerts.__typename?i.currentUser.org.usageBasedBillingAlerts:void 0:(null==i||null==(g=i.currentUser)?void 0:g.usageBasedBillingAlerts.__typename)==="UsageBasedBillingAlertsConfig"?i.currentUser.usageBasedBillingAlerts:void 0;var o=(0,c._)((0,p.useState)(null),2),s=o[0],u=o[1];switch(e.error.type){case N.fqQ.AI_QUOTA_INSUFFICIENT_BUDGET:var d,h,m,v,g,b,y,w=null==i?void 0:i.currentUser,_=(null==w?void 0:w.org.__typename)==="Org"?w.org:void 0;return(null==_?void 0:_.usageInterval.__typename)==="UsageInterval"?y=new Date(_.usageInterval.endDate):(null==w||null==(b=w.usageInterval)?void 0:b.__typename)==="UsageInterval"&&(y=new Date(w.usageInterval.endDate)),(0,f.FD)(f.FK,{children:[(0,f.Y)(aO,{creditsResetDate:y,onIncreaseBudget:function(){return u(N.fqQ.AI_QUOTA_INSUFFICIENT_BUDGET)}}),(0,f.Y)(eV.a,{isOpen:s===N.fqQ.AI_QUOTA_INSUFFICIENT_BUDGET,onRequestClose:function(){return u(null)},children:(0,f.Y)(aC.j,{org:_,initialSettings:m,onDone:function(){return window.location.reload()}})})]});case N.fqQ.AI_QUOTA_REQUIRES_PAYMENT_METHOD:return(0,f.FD)(f.FK,{children:[(0,f.Y)(aP,{onAddBillingMethod:function(){u(N.fqQ.AI_QUOTA_REQUIRES_PAYMENT_METHOD)}}),(0,f.Y)(eV.a,{isOpen:s===N.fqQ.AI_QUOTA_REQUIRES_PAYMENT_METHOD,onRequestClose:function(){return u(null)},children:(0,f.FD)(eF.S,{gap:16,children:[(0,f.Y)(eq.Y9,{variant:"headerDefault",level:1,children:"Manage Payment"}),(0,f.Y)(ak.n,{})]})})]});case N.fqQ.AI_QUOTA_REQUIRES_ACTIVE_SUBSCRIPTION:return(0,f.Y)(aF,{});default:return(0,f.Y)(aU,{error:e.error})}}var aM=t(92775),aJ=t(31207),aH=t(33841),aB=t(42811);function aV(e){var n=e.request,t=(e.eventId,e.isResponseInProgress),r=e.onApprove,a=e.onReject,i=(0,p.useCallback)(function(){t||r()},[r,t]),o=(0,p.useCallback)(function(){t||a()},[a,t]),s=tB.oL[n.blueprintName],l=(null==s?void 0:s.displayName)||n.blueprintDisplayName,u=(null==s?void 0:s.description)||"This integration requires confirmation before setup.",c=null==s?void 0:s.iconPath;return(0,f.FD)(nW.ui,{clsx:rR().dialog,gap:8,elevated:!0,children:[(0,f.Y)(eF.S,{row:!0,justify:"space-between",align:"center",children:(0,f.FD)(eF.S,{row:!0,gap:8,align:"center",children:[c?(0,f.Y)(rT.A,{src:c,alt:l,width:24,height:24}):null,(0,f.FD)(eq.EY,{children:["Confirm ",l," Integration"]})]})}),(0,f.Y)(eF.S,{pb:4,pl:2,children:(0,f.Y)(eq.EY,{children:u})}),(0,f.FD)(eF.S,{row:!0,gap:8,children:[(0,f.Y)(e1.$n,{className:rR().grow1,text:"Dismiss",disabled:t,onClick:o}),(0,f.Y)(e1.$n,{className:rR().grow3,colorway:"primary",text:"Approve",iconLeft:(0,f.Y)(e5.A,{}),loading:t,disabled:t,onClick:i})]})]})}var a$=t(86634),aG=t(2976),az=t(40115),aW=t(88976),aj=t(37962),aq=(0,ax.x)({container:[{animation:"slideUp 0.2s ease-out"},{"@keyframes slideUp":{from:{opacity:0,transform:"scale(0.95)"},to:{opacity:1,transform:"scale(1)"}}},aT.wp.p(8),aT.wp.borderRadius(),aT.wp.backgroundColor.orangeDimmest,aT.wp.border({color:er.LU.orangeDimmer})],buttons:[aT.wp.flex.wrap],header:[aT.wp.color.orangeStrongest],column:[aT.wp.width("50%")],warning:[aT.wp.color.redStronger],secretsButton:[aT.wp.display.inlineFlex]});function aZ(e){var n=e.openSecrets,t=(0,c._)((0,p.useState)(!1),2),r=t[0],a=t[1],i=ew(),o=i.inMessageSecrets,s=i.replaceInMessageSecrets,l=i.dismissInMessageSecrets;return(0,f.FD)(f.FK,{children:[(0,f.Y)(nW.ui,{css:aq.container,background:"higher",children:(0,f.FD)(eF.S,{gap:8,children:[(0,f.FD)(eF.S,{row:!0,gap:4,align:"center",children:[(0,f.Y)(e6.A,{css:aq.header,size:16}),(0,f.Y)(eq.EY,{css:aq.header,variant:"small",color:"dimmer",children:"Security Warning"})]}),(0,f.FD)(eq.EY,{variant:"small",children:["The ",(0,eE.A)("values",o.length)," you added look like ",o.length>1?"secrets":"a secret",". Store"," ",o.length>1?"them":"it"," securely using our"," ",(0,f.Y)(e1.$n,{css:aq.secretsButton,text:"Secrets",colorway:"primary",variant:"underlinedOnHover",size:"small",onClick:n})," ","feature."]}),(0,f.FD)(eF.S,{css:aq.buttons,row:!0,gap:8,align:"center",children:[(0,f.Y)(e1.$n,{text:"Add ".concat((0,eE.A)("secret",o.length)),iconLeft:(0,f.Y)(aj.A,{}),loading:r,colorway:"warning",size:"small",onClick:function(){return a(!0)}}),(0,f.Y)(e1.$n,{text:"Dismiss",iconLeft:(0,f.Y)(rp.A,{}),variant:"outlined",colorway:"warning",size:"small",onClick:l})]})]})}),r?(0,f.Y)(aK,{inMessageSecrets:o,onReplace:s,onClose:function(){return a(!1)}}):null]})}function aK(e){var n=e.inMessageSecrets,t=e.onReplace,r=e.onClose,a=(0,az.A)().secrets,i=(0,c._)((0,p.useState)(null),2),h=i[0],m=i[1],v=(0,c._)((0,p.useState)(!1),2),g=v[0],b=v[1],y=(0,c._)((0,p.useState)(!1),2),w=y[0],_=y[1],S=(0,c._)((0,p.useState)({}),2),A=S[0],k=S[1];if((0,p.useEffect)(function(){var e=!1;return a.read().then(function(n){e||m(n)}),function(){e=!0}},[a]),n.some(function(e){return!(e.id in A)})){var C={},Y=!0,E=!1,x=void 0;try{for(var T,D=n[Symbol.iterator]();!(Y=(T=D.next()).done);Y=!0){var I,R=T.value;C[R.id]={key:(I=R.provider,("Generic API Key"===I||"Generic Secret"===I?null:aX(I))||""),value:R.key}}}catch(e){E=!0,x=e}finally{try{Y||null==D.return||D.return()}finally{if(E)throw x}}Object.assign(A,(0,l._)({},C,A))}var N=new Set(Object.values(A).map(function(e){return e.key})),O=[];if(Object.values(A).some(function(e){return 0===e.key.length})&&O.push("Key name cannot be empty."),Object.values(A).some(function(e){return 0===e.value.length})&&O.push("Secret value cannot be empty."),N.size!==Object.values(A).length&&O.push("Some key names are duplicates."),h){var P=!0,F=!1,U=void 0;try{for(var L,M=h.keys()[Symbol.iterator]();!(P=(L=M.next()).done);P=!0){var J=L.value;N.has(J)&&O.push('Key name "'.concat(J,'" already exists. Please choose a different name.'))}}catch(e){F=!0,U=e}finally{try{P||null==M.return||M.return()}finally{if(F)throw U}}}var H=null===h||O.length>0,B=null===h||w;return(0,f.Y)(eV.a,{isOpen:!0,preventClose:!0,onRequestClose:r,children:(0,f.FD)(eF.S,{gap:12,children:[(0,f.FD)(eF.S,{gap:8,children:[(0,f.FD)(eF.S,{row:!0,align:"center",gap:8,children:[(0,f.Y)(aj.A,{}),(0,f.Y)(eq.EY,{children:"Store secret securely"})]}),(0,f.Y)(eq.EY,{color:"dimmer",children:n.length>1?"Add key names for your values.":"Add a key name for your value."})]}),(0,f.FD)(eF.S,{gap:4,children:[(0,f.FD)(eF.S,{row:!0,align:"center",children:[(0,f.Y)(eq.EY,{css:aq.column,variant:"small",color:"dimmer",children:"Key"}),(0,f.FD)(eF.S,{css:aq.column,row:!0,align:"center",gap:4,pl:4,children:[(0,f.Y)(eq.EY,{variant:"small",color:"dimmer",children:"Value"}),(0,f.Y)(eB.K0,{size:18,alt:"Toggle Secret",onClick:function(){return b(function(e){return!e})},tooltipPlacement:"top",children:g?(0,f.Y)(e9.A,{}):(0,f.Y)(aW.A,{})})]})]}),(0,f.Y)(eF.S,{gap:12,children:n.map(function(e){return(0,f.Y)(aQ,{name:A[e.id].key,value:A[e.id].value,showContents:g,onChange:function(n,t){k(function(r){return(0,u._)((0,l._)({},r),(0,s._)({},e.id,{key:n,value:t}))})}},e.id)})})]}),O.length?(0,f.Y)(eF.S,{gap:8,children:O.map(function(e,n){return(0,f.FD)(eF.S,{row:!0,gap:8,align:"center",children:[(0,f.Y)(e6.A,{css:aq.warning,size:16}),(0,f.Y)(eq.EY,{css:aq.warning,variant:"small",children:e})]},n)})}):null,(0,f.FD)(eF.S,{row:!0,gap:8,align:"center",justify:"end",children:[(0,f.Y)(e1.$n,{text:"Cancel",onClick:r}),(0,f.Y)(e1.$n,{text:n.length>1?"Add secrets":"Add secret",disabled:H,loading:B,colorway:"primary",onClick:function(){return(0,o._)(function(){var e;return(0,d.YH)(this,function(n){switch(n.label){case 0:return _(!0),[4,a.addEntries(Array.from(Object.values(A)))];case 1:for(var i in n.sent(),e={},A)e[i]=A[i].key;return _(!1),t(e),r(),[2]}})})()}})]})]})})}function aQ(e){var n=e.name,t=e.value,r=e.showContents,a=e.onChange;return(0,f.FD)(eF.S,{row:!0,align:"center",gap:8,children:[(0,f.Y)(e3.pd,{css:aq.column,value:n,placeholder:"Enter a key name","aria-label":"Secret key name",onChange:function(e){a(aX(e.target.value),t)}}),(0,f.Y)(e3.pd,{css:aq.column,style:!t||r?{}:{fontFamily:"text-security-disc"},value:t,placeholder:"Enter a secret value","aria-label":"Secret value",onChange:function(e){a(n,e.target.value)}})]})}function aX(e){return e.toUpperCase().replaceAll(/[[,()]/g,"").replaceAll(/\s+/g,"_").replaceAll(/[^A-Z0-9_]/g,"")}var a0=t(21199),a1=t(90629),a2=t(9066),a3=t(21484),a4=t(65320),a5=t(51627),a7=t(53556),a9=t(80258),a8=t(74309),a6=t(45040),ie=t(29909),it=t(67220),ir=t(2094),ia=t(17739),ii=t(97678),io=t(72138),is=t(53501),il=t(47993),iu=t(29466),ic=t.n(iu),id=(0,p.memo)(function(){var e=(0,is.V)(function(e){return{item:e.getItem(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}}),n=e.isDragging,t=e.item,r=e.currentOffset;if(!n||!t||!r)return null;var a={"--drag-preview-x":r.x+"px","--drag-preview-y":r.y+"px"};return(0,il.createPortal)((0,f.Y)(eF.S,{clsx:ic().dragPreview,style:a,children:(0,f.Y)(eF.S,{align:"center",clsx:ic().dragPreviewContent,px:8,py:4,children:(0,f.Y)(eq.EY,{clsx:ic().dragPreviewText,color:"default",children:t.content})})}),document.body)}),ip=t(7615),ih=t(6609),im=t(46973),iv=t(99960),ig=t(80325),ib=t(69821),iy=t(85801),iw=t(64518),i_=t(91467),iS=t(98759),iA=t(43193),ik=t(81242),iC=t.n(ik),iY="QueueItem";function iE(e){var n,t,r,a,i=e.isNextInQueue,o=e.item,l=e.index,u=e.onEdit,d=e.onDelete,h=e.onReorder,m=e.onSend,v=e.editingQueueItemId,g=e.isQueueDisabled,b=e.queueHasMultipleItems,y=e.sendIconVariant,w=(0,p.useRef)(null),_=(0,p.useRef)(null),S=(0,p.useRef)(null),A=(0,c._)((0,ir.i)({type:iY,item:{type:iY,id:o.id,index:l,content:null==(n=o.contents)?void 0:n.content},collect:function(e){return{isDragging:e.isDragging()}}}),3),k=A[0].isDragging,C=A[1],Y=A[2],E=(0,c._)((0,ia.H)({accept:iY,drop:function(e){e.index!==l&&h(e.index,l)},collect:function(e){var n=e.getItem(),t=e.isOver();return{isAbove:t&&n&&n.index>l,isBelow:t&&n&&n.index<l}},canDrop:function(){return!0}}),2),x=E[0],T=x.isAbove,D=x.isBelow,I=E[1];if((0,io.P)(Y),C(_),I(S),!o.contents)return null;var R=null!=(r=null==(t=o.contents.uploadedFiles)?void 0:t.length)?r:0,N=o.contents.targetedElement,O=o.contents.agentConfig,P=!g&&null===v,F=v===o.id,U=R>0||N||(null==O?void 0:O.thinkingEnabled)===!0||(null==O?void 0:O.modelProfile)===ii.Fje.ADVANCED||(null==O?void 0:O.enableAutomatedTesting)===!0||(null==O?void 0:O.autonomyLevel)===ii.TAx.MAX;return(0,f.FD)(eF.S,{py:2,pl:8,pr:8,innerRef:w,align:"center",row:!0,gap:8,clsx:[iC().queueItem,(0,s._)({},iC().isDragInteractionDisabled,g||!!v||!b)],children:[(0,f.Y)(eF.S,{innerRef:_,clsx:iC().dragHandle,children:(0,f.Y)(iv.A,{})}),(0,f.FD)(nW.ui,{elevated:!0,px:8,py:6,clsx:[iC().queueItemSurface,(a={},(0,s._)(a,iC().dragging,k),(0,s._)(a,iC().dropIndicatorAbove,T),(0,s._)(a,iC().dropIndicatorBelow,D),(0,s._)(a,iC().nonEditedItemInEditMode,v!==o.id&&null!=v),a)],grow:1,shrink:1,row:!0,justify:"space-between",gap:4,innerRef:S,children:[(0,f.FD)(eF.S,{row:!0,justify:"space-between",align:"start",gap:4,shrink:!0,grow:!0,children:[(0,f.FD)(eF.S,{clsx:iC().queueItemText,gap:4,shrink:!0,children:[(0,f.Y)(eq.EY,{color:"default",clsx:iC().preserveNewlines,children:o.contents.content}),U?(0,f.FD)(eF.S,{clsx:iC().queueItemMetadata,row:!0,gap:8,align:"center",children:[R>0?(0,f.Y)(r6.m_,{tooltip:"".concat(R," file ").concat((0,eE.A)("attachment",R)),placement:"bottom-start",children:(0,f.FD)(eF.S,{row:!0,gap:4,align:"center",children:[(0,f.Y)(iw.A,{color:er.LU.foregroundDimmest}),(0,f.Y)(eq.EY,{color:"dimmest",children:R})]})}):null,N?(0,f.Y)(r6.m_,{tooltip:"Selected element",placement:"bottom-start",children:(0,f.Y)(iS.A,{color:er.LU.foregroundDimmest,size:16})}):null,(null==O?void 0:O.thinkingEnabled)?(0,f.Y)(r6.m_,{tooltip:"Extended thinking",placement:"bottom-start",children:(0,f.Y)(td.A,{color:er.LU.foregroundDimmest,size:16})}):null,(null==O?void 0:O.modelProfile)===ii.Fje.ADVANCED?(0,f.Y)(r6.m_,{tooltip:"High power model",placement:"bottom-start",children:(0,f.Y)(im.A,{color:er.LU.foregroundDimmest,size:16})}):null,(null==O?void 0:O.enableAutomatedTesting)?(0,f.Y)(r6.m_,{tooltip:"App testing enabled",placement:"bottom-start",children:(0,f.Y)(nb.A,{color:er.LU.foregroundDimmest,size:16})}):null,(null==O?void 0:O.autonomyLevel)===ii.TAx.MAX?(0,f.Y)(r6.m_,{tooltip:"Max autonomy enabled",placement:"bottom-start",children:(0,f.Y)(ib.A,{color:er.LU.foregroundDimmest,size:16})}):null]}):null]}),(0,f.FD)(eF.S,{clsx:iC().rightText,justify:"center",children:[i&&!F?(0,f.Y)(eq.EY,{variant:"small",color:"dimmest",children:"Next"}):null,F?(0,f.Y)(eq.EY,{variant:"small",color:"dimmest",children:"Editing…"}):null]})]}),P?(0,f.Y)(eF.S,{clsx:iC().itemActionsOverlay}):null,P?(0,f.FD)(eF.S,{clsx:iC().itemActions,row:!0,gap:4,children:[(0,f.Y)(eB.K0,{alt:"Send message",size:24,onClick:function(){return m(o)},children:"send"===(void 0===y?"send":y)?(0,f.Y)(i_.A,{color:er.LU.foregroundDimmer}):(0,f.Y)(tO.A,{color:er.LU.foregroundDimmer})}),(0,f.Y)(eB.K0,{alt:"Edit message",size:24,onClick:function(){return u(o)},children:(0,f.Y)(ig.A,{color:er.LU.foregroundDimmer})}),(0,f.Y)(eB.K0,{alt:"Delete message",size:24,onClick:function(){return d(o)},children:(0,f.Y)(rp.A,{color:er.LU.foregroundDimmer})})]}):null]})]})}function ix(e){var n,t=e.items,r=e.editingQueueItemId,a=e.isDisabled,i=e.isOpen,o=e.isAgentWorking,l=e.isInMobileWorkspace,u=e.onEditItem,d=e.onDeleteItem,h=e.onReorderItems,m=e.onSendItem,v=e.onClearQueue,g=e.onClose,b=(0,c._)((0,p.useState)(!1),2),y=b[0],w=b[1],_=(0,c._)((0,p.useState)(!1),2),S=_[0],A=_[1],k=(0,p.useCallback)(function(){v(),w(!1)},[v]),C=(0,p.useCallback)(function(){A(!S)},[S]);return((0,p.useEffect)(function(){if(i){var e=function(e){"Escape"===e.key&&g()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}},[i,g]),i)?(0,f.Y)(f.FK,{children:(0,f.FD)(nW.ui,{elevated:!0,clsx:[iC().drawerSurface,(n={},(0,s._)(n,iC().expanded,!S),(0,s._)(n,iC().disabled,a),n)],gap:4,py:8,grow:1,shrink:1,children:[(0,f.FD)(eF.S,{clsx:iC().titleContainer,row:!0,gap:4,align:"center",justify:"space-between",pl:4,pr:8,children:[(0,f.FD)(eF.S,{row:!0,gap:8,align:"center",children:[(0,f.Y)(r6.m_,{tooltip:S?"Expand":"Collapse",children:(0,f.Y)(eB.K0,{alt:S?"Expand":"Collapse",size:24,onClick:C,children:S?(0,f.Y)(nj.A,{}):(0,f.Y)(nO.A,{})})}),(0,f.Y)(eq.EY,{color:"dimmer",children:tB.Gt}),S?(0,f.FD)(eq.EY,{color:"dimmest",children:["(",t.length," messages)"]}):null,l?null:(0,f.Y)(r6.m_,{tooltip:(0,f.FD)("span",{children:["Queued messages will be sent ",(0,f.Y)("br",{}),"when ",(0,tB.Nn)()," ",o?"is done working":"resumes work"]}),maxWidth:300,placement:"right",children:(0,f.Y)(iy.A,{size:16,color:er.LU.foregroundDimmest})})]}),(0,f.FD)(eF.S,{row:!0,gap:4,pr:4,children:[!S&&y?(0,f.FD)(eF.S,{row:!0,gap:4,children:[(0,f.Y)(e1.$n,{size:"small",clsx:iC().compactButton,text:"Cancel",onClick:function(){return w(!1)}}),(0,f.Y)(e1.$n,{size:"small",clsx:iC().compactButton,text:"Clear queue",colorway:"negative",onClick:k})]}):null,!(t.length>0)||S||y?null:(0,f.Y)(eB.K0,{alt:"Clear all",size:24,onClick:function(){return w(!0)},tooltipContents:"Clear all",colorway:y?"negative":void 0,children:(0,f.Y)(iA.A,{color:er.LU.foregroundDimmer})})]})]}),S?null:(0,f.FD)(ih.A,{children:[(0,f.Y)(id,{}),(0,f.Y)(eF.S,{clsx:iC().drawerItems,shrink:!0,gap:4,children:t.map(function(e,n){return(0,f.Y)(iE,{editingQueueItemId:r,isNextInQueue:0===n,item:e,index:n,onEdit:u,onDelete:d,onReorder:h,onSend:m,isQueueDisabled:a,queueHasMultipleItems:t.length>1,sendIconVariant:"arrow-up"},e.id)})})]})]})}):null}function iT(e){var n,t,r,a,i=e.isDisabled,s=e.onEnterEditMode,l=e.sendQueuedMessage,u=(0,g.NC)(),c=(0,b.J2)(u.sessions.agent.current),h=null==c?void 0:c.id,m=(0,b.J2)(u.queue.state,[]),v=(0,ip.Jj)(),y=(0,ip.fk)(),w=(0,A.m5)(),S=(0,eD.jT)(),k=(0,_.A)().showError,C=(0,ip.Xr)();n=(0,eD.C9)().agentState,t=(0,ip.qu)(),r=(0,g.hM)(),a=(0,p.useRef)(null),(0,b.q3)(n,{next:function(e){if(e){var n=e.state;a.current===N.g32.AGENT_STATE_RUNNING&&(n===N.g32.AGENT_STATE_PAUSED||n===N.g32.AGENT_STATE_NOT_STARTED)&&t&&r(!0),a.current=n}}});var Y=(0,p.useCallback)(function(){return(0,o._)(function(){return(0,d.YH)(this,function(e){switch(e.label){case 0:return[4,u.queue.delete({ids:m.map(function(e){return e.id})})];case 1:return e.sent(),[2]}})})()},[m,u.queue]),E=(0,p.useCallback)(function(e){return(0,o._)(function(){return(0,d.YH)(this,function(n){switch(n.label){case 0:if(!e.contents)return[2];return[4,u.queue.delete({ids:[e.id]})];case 1:return n.sent().ok?(0,tI.WC)({action:"queue_message_deleted",sessionId:h}):k("Failed to delete queued message"),[2]}})})()},[u.queue,k,h]),x=(0,p.useCallback)(function(e,n){return(0,o._)(function(){var t,r,a,i,o;return(0,d.YH)(this,function(s){switch(s.label){case 0:if(e===n||!(a=m[e]))return[2];return i=n<e,[4,u.queue.reorder({id:a.id,after:null!=(o=i?null==(t=m[n-1])?void 0:t.id:null==(r=m[n])?void 0:r.id)?o:null})];case 1:return s.sent().ok||k("Failed to reorder queued messages"),[2]}})})()},[m,u.queue,k]);return(0,p.useEffect)(function(){m.length>0?y(!0):v&&y(!1)},[m.length,y,v]),(0,p.useEffect)(function(){return function(){y(!1)}},[y]),(0,f.Y)(ix,{items:m,isDisabled:i,isOpen:v,isAgentWorking:S,isInMobileWorkspace:w,editingQueueItemId:C,onEditItem:s,onDeleteItem:E,onReorderItems:x,onSendItem:l,onClearQueue:Y,onClose:function(){return y(!1)}})}var iD=t(16103),iI=t(46966),iR=t(60654),iN=t(5590),iO=t(89504),iP=t(12856),iF=t(64369),iU=t(65242),iL=t(79203),iM=t(68689),iJ=t(43933),iH=t(13091),iB=t(35395),iV=t(33669),i$=t(98892),iG=t(59737),iz=t(60910),iW=t(70217),ij=t(92437),iq=t(72905),iZ=t(99365),iK=t(9092),iQ=t(32264),iX=t(16935);function i0(e){return(0,f.Y)(ez.Ay,(0,u._)((0,l._)({},e),{children:(0,f.Y)("path",{fillRule:"evenodd",d:"M21.75 12c0 5.385-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12 6.615 2.25 12 2.25s9.75 4.365 9.75 9.75Zm-9-5.25V3.784a8.252 8.252 0 0 1 7.466 7.466H17.25a.75.75 0 0 0 0 1.5h2.966a8.252 8.252 0 0 1-7.466 7.466V17.25a.75.75 0 0 0-1.5 0v2.966a8.252 8.252 0 0 1-7.466-7.466H6.75a.75.75 0 0 0 0-1.5H3.784a8.252 8.252 0 0 1 7.466-7.466V6.75a.75.75 0 0 0 1.5 0Z",clipRule:"evenodd"})}))}var i1=t(91175),i2=t(57003),i3=t.n(i2),i4=(0,ax.x)({base:[{":focus":aT.aZ}]});function i5(e){var n,t,r,a=e.disabled,i=void 0!==a&&a,s=e.selectedModeId,l=e.updateAgentSettings,u=e.isEditModeAvailable,h=e.isEditModeDisabled,m=e.setVisualSelectorEnabled,v=e.setIsEditModeActive,g=e.keyboardShortcutEnabled,b=void 0!==g&&g,y=e.onModeSwitchFocusInput,w=(0,c._)((0,p.useState)(!1),2),_=w[0],S=w[1],A=(0,p.useRef)(null),k=(0,p.useMemo)(function(){var e,n,t,r;return n=(e={isEditModeAvailable:u,isEditModeDisabled:h}).isEditModeAvailable,t=e.isEditModeDisabled,r=void 0,t?r="Unavailable for this app type":n||(r="Waiting for Preview to load…"),[{id:"build",label:iQ.q7,icon:(0,f.Y)(i1.A,{size:16}),description:iQ.gq},{id:"plan",label:iQ.Pz,icon:(0,f.Y)(iX.A,{size:16}),description:iQ.p2},{id:"edit",label:iQ.CM,icon:(0,f.Y)(i0,{size:16}),description:iQ.is,disabledReason:r}]},[u,h]),C=(0,p.useMemo)(function(){return k.filter(function(e){return!e.disabledReason})},[k]),Y=null!=(r=k.find(function(e){return e.id===s}))?r:k[0],E=(0,p.useCallback)(function(){v(!1),"edit"===s&&m(!1,{shouldClearSelection:!0,isEditingEnabled:!1})},[s,v,m]);(0,ij.g)({agentChatModeId:s,onVisualSelectorDisabled:function(){E(),l({chatMode:"general"})}});var x=(0,iq.K)(),T=x.shouldShowUpgradeModal,D=x.isUpgrading,I=x.checkVersionAndProceed,R=x.handleUpgradeConfirm,N=x.handleUpgradeCancel,O=x.handleModalClose,P=(0,p.useCallback)(function(){N(),m(!1)},[N,m]),F=(0,p.useCallback)(function(e){return(0,o._)(function(){var n;return(0,d.YH)(this,function(t){if(n=e,S(!1),n===s)return null==y||y(),[2];switch(n){case"build":E(),l({chatMode:"general"});break;case"plan":E(),l({chatMode:"discussion"});break;case"edit":u&&I()&&(m(!0,{isEditingEnabled:!0,shouldClearSelection:!1}),v(!0),l({chatMode:"general"}))}return null==y||y(),(0,tI.pI)({action:"chat_mode_changed",agentChatMode:n}),[2]})})()},[s,y,E,l,u,I,m,v]);return n=b,t=(0,p.useCallback)(function(){var e=(C.indexOf(Y)+1)%C.length;F(C[e].id)},[C,F,Y]),(0,p.useEffect)(function(){if(n){var e=function(e){"i"===e.key&&(0,iz.T$)(e)&&!e.shiftKey&&(e.preventDefault(),t())};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}},[t,n]),(0,f.FD)(eF.S,{children:[(0,f.FD)(iV.l6,{selectedKey:s,onSelectionChange:F,isDisabled:i,"aria-label":"Modes",children:[(0,f.Y)(e1.$n,{clsx:i3().selectButton,text:null==Y?void 0:Y.label,iconLeft:null==Y?void 0:Y.icon,iconRight:_?(0,f.Y)(nO.A,{size:12}):(0,f.Y)(nj.A,{size:12}),alignment:"start",onClick:function(){return S(!_)},disabled:i,ref:A}),(0,f.Y)(i$.A,{placement:"top start",isOpen:_,onOpenChange:function(e){S(e),e||null==y||y()},children:(0,f.FD)(nW.ui,{clsx:i3().popoverSurface,p:4,children:[b?(0,f.FD)(eF.S,{row:!0,gap:4,px:4,pb:4,align:"center",children:[(0,f.Y)(i9,{}),(0,f.Y)(eq.EY,{variant:"small",color:"dimmest",children:"to switch modes"})]}):null,(0,f.Y)(iG.qF,{"aria-label":"Agent mode",selectionMode:"single",children:k.map(function(e){return(0,f.Y)(iG.nh,{id:e.id,"aria-label":e.label,css:i4.base,isDisabled:!!e.disabledReason,children:(0,f.Y)(i7,{title:e.label,icon:e.icon,description:e.description,isSelected:s===e.id,disabledReason:e.disabledReason})},e.id)})})]})})]}),(0,f.Y)(iW.k,{shouldShowUpgradeModal:T,isUpgrading:D,onUpgradeConfirm:R,onUpgradeCancel:P,onClose:O})]})}function i7(e){var n=e.title,t=e.icon,r=e.description,a=e.isSelected,i=e.disabledReason;return(0,f.Y)(r6.m_,{tooltip:i,isDisabled:!i,children:(0,f.FD)(eF.S,{clsx:[i3().modeItem,i4.base,(0,s._)({},i3().disabled,!!i)],p:6,row:!0,gap:8,align:"center",justify:"space-between",children:[(0,f.FD)(eF.S,{row:!0,gap:8,align:"center",children:[t,(0,f.Y)(eq.EY,{children:n}),(0,f.Y)(eq.EY,{color:"dimmest",children:r})]}),(0,f.Y)(eF.S,{children:a?(0,f.Y)(e5.A,{size:16,color:er.LU.foregroundDimmer}):(0,f.Y)(eF.S,{clsx:i3().emptyIcon})})]})})}function i9(){return(0,f.Y)(iZ._y,{className:i3().toggleComboIcon,keyCombo:(0,iK.FM)({cmdOrCtrl:!0,key:"i"}),small:!0,hideBorder:!0})}var i8=t(28658),i6=t(95560),oe=t(14264),on=t(85627),ot=t(82658),or=t(97679),oa=t(42793),oi=t(85254),oo=t(28944),os=t.n(oo),ol=(0,ax.x)({buttonDisabled:[{'&[data-disabled="true"]':[{backgroundColor:"transparent",color:er.LU.foregroundDimmest,pointerEvents:"none",cursor:"default",":hover":{pointerEvents:"none",backgroundColor:"transparent"}}]}],planModeSubmitButton:[{backgroundColor:er.LU.backgroundHighest,color:er.LU.foregroundDefault,'&:hover:not([data-disabled="true"])':{backgroundColor:"".concat(er.LU.outlineDimmer," !important")},'&[data-disabled="true"]':[{backgroundColor:"transparent"}]}]}),ou=new Map,oc=!0,od=!1,of=void 0;try{for(var op,oh=Object.keys(er.ky)[Symbol.iterator]();!(oc=(op=oh.next()).done);oc=!0){var om=op.value;ou.set(om,(0,oa.AH)([eB.gX,(0,oi.Li)(om)]))}}catch(e){od=!0,of=e}finally{try{oc||null==oh.return||oh.return()}finally{if(od)throw of}}function ov(e){var n=e.primaryAction,t=e.status,r=e.disabled,a=e.disabledReason,i=e.isInMobileWorkspace,o=e.onClick,s=e.isPlanModeEnabled,c="loading"===t,d={submit:{icon:c?(0,f.Y)(e$.A,{}):(0,f.Y)(tO.A,{}),alt:c?"Loading…":"Send",tooltip:a,dataCy:"ai-prompt-submit",colorway:s?void 0:"primary"},queue:{icon:c?(0,f.Y)(e$.A,{}):(0,f.Y)(tO.A,{}),alt:c?"Loading…":"Add to ".concat(tB.Gt),tooltip:a||"Add to ".concat(tB.Gt),dataCy:"ai-prompt-add-to-queue",colorway:"blurple"},save:{icon:c?(0,f.Y)(e$.A,{}):(0,f.Y)(e5.A,{}),alt:c?"Loading…":"Save",tooltip:a,dataCy:"ai-prompt-save",colorway:"primary"}},p=(0,u._)((0,l._)({},d[n]),{disabled:r,loading:c}),h=s&&"submit"===n;if(i)return(0,f.Y)(or.J,{loading:p.loading,variant:"agent",alt:p.alt,disabled:p.disabled,disabledReason:a,onClick:o,dataCy:p.dataCy,iconOverride:p.icon,colorway:p.colorway,planModeStyle:h});var m=(0,f.Y)(eB.K0,{alt:p.alt,tooltipBehavior:"hidden",disabled:p.disabled,onClick:o,dataCy:p.dataCy,css:h?ol.planModeSubmitButton:[p.colorway?ou.get(p.colorway):void 0,ol.buttonDisabled],"data-disabled":p.disabled,"data-action":n,colorway:p.colorway,children:p.icon}),v="save"===n;return v&&(m=(0,f.Y)(e1.$n,{css:ol.buttonDisabled,clsx:os().compactButton,"data-disabled":p.disabled,disabled:p.disabled,onClick:o,dataCy:p.dataCy,text:p.alt,iconRight:p.icon,colorway:p.colorway})),(0,f.Y)(r6.m_,{isDisabled:!p.tooltip||v,tooltip:p.tooltip,placement:"top-end",children:m})}var og=t(26756),ob=t.n(og);function oy(e){var n=e.className,t=e.icon,r=e.onRemove,a=e.tooltip,i=e.pillType,o=void 0===i?"unknown":i,s=e.onIconClick;return(0,f.Y)(nW.ui,{elevated:!0,clsx:[ob().container,n],children:(0,f.FD)(eF.S,{row:!0,align:"center",pl:2,children:[(0,f.Y)(r6.m_,{tooltip:a,children:(0,f.Y)(eB.K0,{alt:"Open agent settings",onClick:s,tooltipBehavior:"hidden",clsx:ob().iconClickable,size:24,children:t})}),r?(0,f.Y)(eB.K0,{alt:"Remove",onClick:function(){(0,et.u4)(et.AZ.AGENT_MODEL_SELECTOR_PILL_REMOVED,{pill_type:o}),null==r||r()},tooltipBehavior:"hidden",clsx:ob().closeButton,children:(0,f.Y)(rp.A,{size:12})}):null]})})}var ow=t(1012);function o_(e){var n,t=e.onClick;return n=t,(0,p.useEffect)(function(){var e=function(e){"u"===e.key&&(0,iz.T$)(e)&&(e.preventDefault(),n())};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}},[n]),(0,f.Y)(eB.K0,{alt:"Select element",size:24,onClick:t,children:(0,f.Y)(iS.A,{})})}var oS=t(76135),oA=[],ok=t(58422),oC=t(7579),oY=t(51345),oE=t(40260),ox=t(90545),oT=t(68803),oD="cm-pill-prefix",oI="cm-placeholder-layer",oR="cm-placeholder-dom",oN=ee.Lz.theme((r={},(0,s._)(r,".".concat(oD),{display:"inline-flex",alignItems:"center",padding:"".concat(er.LU.space4),paddingLeft:er.LU.space8,marginLeft:"calc(".concat(er.LU.space4," * -1)"),borderRadius:er.LU.borderRadiusDefault,backgroundColor:er.LU.accentPrimaryDimmest,color:er.LU.accentPrimaryStronger,fontSize:er.LU.fontSizeSmall,height:"20px",minWidth:"max-content",verticalAlign:"middle"}),(0,s._)(r,".".concat(oI),{width:"100%",height:"100%",pointerEvents:"none"}),(0,s._)(r,".".concat(oR),{position:"absolute",width:"100%",pointerEvents:"none",fontFamily:er.LU.fontFamilyDefault,color:er.LU.foregroundDimmest}),r)),oO=function(e){return 0===e.doc.toString().trim().length},oP=X.sU.define({create:oO,update:function(e,n){return oO(n.state)}}),oF=X.Pe.define(),oU=function(e){function n(e,t,r,a,i){var o;return(0,j._)(this,n),(o=(0,W._)(this,n)).text=e,o.pillTextColor=t,o.hasVisualSelectorElement=r,o.isEditModeActive=a,o.onRemove=i,o}(0,q._)(n,e);var t=n.prototype;return t.toDOM=function(){var e=this,n=document.createElement("span");n.style.display="inline-flex",n.style.alignItems="center";var t=document.createElement("span");t.className=oD,t.style.display="inline-flex",t.style.alignItems="center",t.style.gap=er.LU.space4,t.style.color=this.pillTextColor;var r=document.createElement("span");if(r.textContent=this.text,t.appendChild(r),(this.hasVisualSelectorElement||!this.isEditModeActive)&&this.onRemove){var a=document.createElement("button");a.style.display="inline-flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.background="none",a.style.border="none",a.style.cursor="pointer",a.style.padding="0",a.style.width="16px",a.style.height="16px",a.style.borderRadius="2px",a.style.color=this.pillTextColor,a.addEventListener("mouseenter",function(){a.style.backgroundColor=er.LU.accentPrimaryDimmer}),a.addEventListener("mouseleave",function(){a.style.backgroundColor="transparent"});var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width","12"),i.setAttribute("height","12"),i.setAttribute("viewBox","0 0 24 24"),i.setAttribute("fill","currentColor");var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("fill-rule","evenodd"),o.setAttribute("d","M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z"),o.setAttribute("clip-rule","evenodd"),i.appendChild(o),a.appendChild(i),a.addEventListener("click",function(n){var t;n.preventDefault(),n.stopPropagation(),null==(t=e.onRemove)||t.call(e)}),t.appendChild(a)}var s=document.createElement("span");return s.style.width=er.LU.space8,s.style.display="inline-block",n.appendChild(t),n.appendChild(s),n},t.eq=function(e){return e.text===this.text&&e.hasVisualSelectorElement===this.hasVisualSelectorElement&&e.onRemove===this.onRemove},n}(ee.xO),oL=t(39638),oM=t.n(oL),oJ=ee.Lz.theme((a={"&":{flexGrow:1},"& .cm-content":{fontFamily:er.LU.fontFamilyDefault}},(0,s._)(a,"& .".concat(a9.Fb),{display:"none"}),(0,s._)(a,"& .cm-cursor",{borderLeftColor:er.LU.foregroundDefault,borderLeftWidth:"1px"}),a));function oH(e){var n,t,r,a,i,h,m,v,S,k,C,Y,E,x,T,D,I,R,N,O=(0,g.NC)(),F=(0,eD.sz)(),U=(0,a7.A)(),L=U.ref,M=U.view,J=(0,A.m5)();t=(0,iL.md)(iM.wP),(0,p.useEffect)(function(){t&&M&&M.focus()},[t,M]);var H=(0,c._)((0,p.useState)(!1),2),B=H[0],V=H[1],$=e.agentSettings,G=e.proposedTaskList,W=e.shouldShowChatModeControl,q="discussion"===$.settings.chatMode,Z=q&&F,K=(0,ok.y)(),Q=K.isEditModeActive,X=K.setIsEditModeActive,en=(0,p.useMemo)(function(){return Q?"edit":q?"plan":"build"},[q,Q]),et=(0,ip.Jj)(),ea=(0,ip.Xr)(),ei=(0,ip.rf)(),eo=(0,g.Ik)(),ef=null!=(E=e.status)?E:"composing",ep=(0,_.A)().showError,eh=iP.bZ.use(2e3),eg=(0,oC.j)(e.persistenceKey,M),ey=eg.persistPromptDraftCompartment,ew=eg.clearPersistedPromptDraft,e_=(0,oE.e)(),eS=(0,iN.s)(),eA=eS.attachments,ek=eS.urlAttachments,eY=eS.removeAttachment,eE=eS.addAttachments,ex=eS.addUrlAttachment,eT=eS.removeUrlAttachment,eI=eS.clearAttachments,eR=eS.isLoading,eN=null!=(r=(0,ev.Vn)(M,oS.Wd))?r:oA,eO=(0,a6.gm)({source:"workspace",detectedLinks:eN}),eP=(0,w.A)(eO),eU=(0,p.useCallback)(function(){return eP.current.getFigmaTelemetryData()},[eP]),eL=eO.figmaImportFeatureFlagsEnabled,eM=!!(0,p.useContext)(eb),eJ=null!=(x=(0,ev.Vn)(M,ed))&&x;a=(0,p.useContext)(eb),(0,p.useEffect)(function(){var e=null==M?void 0:M.plugin(ev.Pb);if(a&&M&&e&&!e.destroyed){var n=e.bind({changed:function(e){return(0,z.$H)(e,ec)},callback:function(e){a.secrets.set(e.state.field(ec))},destroy:function(){a.secrets.set([])}}),t=a.replaceListeners.add(function(e){for(var n=[],t=M.state.field(eu).iter(),r=new Set;t.value;){if(!t.value.dismissed&&e[t.value.id]){var a="`".concat(e[t.value.id],"`");n.push({from:t.from,to:t.to,insert:a}),r.add(t.value.provider)}t.next()}n.length&&M.dispatch({changes:n,annotations:el.of({providers:Array.from(r)})})}),r=a.dismissListeners.add(function(){M.dispatch({effects:es.of(!0)})});return function(){n(),t(),r()}}},[M,a]);var eH=(0,p.useCallback)(function(e){M&&M.dispatch(M.state.update({changes:{from:0,to:M.state.doc.length,insert:e}}))},[M]),eB=(0,iO.A)({addAttachments:eE}),eV=eB.isDraggedOver,e$=eB.drop,eG=(0,b.J2)(eR,!1),ez=(0,b.Rj)(function(){return eA.map(function(e){return e.length>0})},[eA]),eW=(0,p.useCallback)(function(){V(!0)},[]),ej=(0,p.useCallback)(function(){V(!1)},[]),eq=(0,p.useCallback)(function(e){if(M){var n=M.state.doc.toString(),t=n?"".concat(n,"\n\n").concat(e):e;M.dispatch(M.state.update({changes:{from:0,to:M.state.doc.length,insert:t}})),V(!1),M.focus()}},[M]),eZ=(0,b.J2)(eA),eK=(0,iU.Zo)({context:"agent"}),eQ=eK.element,eX=eK.setElement,e0=eK.clearSelection,e1=eK.isActive,e2=eK.isEditingSupported,e3=eK.isSelectorScriptLoaded,e4=eK.setVisualSelectorEnabled,e5=e.isVisualSelectorDisabled,e7=(0,ev.Vn)(M,e1?oP:iF.Im),e9=null!=(T=e.placeholderText)?T:"edit"===(n={agentMode:en,isVisualSelectorActive:e1,hasVisualSelectorElement:!!eQ}).agentMode?"Edit element…":n.isVisualSelectorActive?"":"plan"===n.agentMode?"".concat(iQ.p2,"…"):"".concat(iQ.gq,"…"),e8=(0,iF.hk)({text:e9,disableAnimation:e.disablePlaceholderTextAnimation}),e6=!!eQ,ne=(0,p.useCallback)(function(){Q?e6&&eX(null):e4(!1,{shouldClearSelection:!0})},[eX,e6,Q,e4]),nn=(0,p.useRef)(null),nt=(i={pillText:eQ?eQ.componentName:iQ.lK,hasVisualSelectorElement:e6,placeholderText:e9,disableAnimation:e.disablePlaceholderTextAnimation,onPillRemove:ne},h=(0,ok.y)().isEditModeActive,m=i.pillText,v=i.hasVisualSelectorElement,S=i.placeholderText,C=void 0!==(k=i.disableAnimation)&&k,Y=i.onPillRemove,(0,p.useMemo)(function(){var e;return[oP,oN,ee.Z9.fromClass(function(){function e(n){(0,j._)(this,e),this.decorations=this.buildDecorations(n)}var n=e.prototype;return n.update=function(e){(e.docChanged||e.viewportChanged)&&(this.decorations=this.buildDecorations(e.view))},n.buildDecorations=function(e){var n=[],t=v?er.LU.foregroundDefault:er.LU.accentPrimaryStronger,r=ee.NZ.widget({widget:new oU(m,t,v,h,Y),side:-1});return n.push(r.range(0)),ee.NZ.set(n)},e}(),{decorations:function(e){return e.decorations}}),(0,ee.qd)((e=Date.now(),{above:!1,class:oI,update:function(n){var t=!1;return(0,oT.C)(n,oF,function(){t=!0,e=Date.now()}),t||(0,z.$H)(n,oP)},markers:function(n){if(!n.state.field(oP))return[];var t,r,a,i,o,s,l,u=n.coordsAtPos(0);if(!u)return[];var c=n.dom.getBoundingClientRect(),d=u.left-c.left;return[(r=(t={top:u.top-c.top,left:d,height:u.bottom-u.top,placeholderText:S,animateTimestamp:e,disableAnimation:C}).top,a=t.left,i=t.height,o=t.placeholderText,s=t.animateTimestamp,l=t.disableAnimation,{draw:function(){var e=document.createElement("div");if(e.className=oR,e.style.paddingTop=r+"px",e.style.paddingLeft=a+"px",e.style.height=i+"px",l)e.textContent=o;else{var n=o.length,t=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;requestAnimationFrame(function(){e.textContent=o.slice(0,r),r<n&&t(r+1)})};t()}return e},placeholderText:o,animateTimestamp:s,eq:function(e){return this.placeholderText===e.placeholderText&&this.animateTimestamp===e.animateTimestamp}})]}}))]},[m,v,S,C,h,Y])),nr=(0,iH.Q)(),na=(0,iJ.F)(),ni=(0,A.m5)(),no=na&&e3&&!ni,ns=e7&&!ez&&"composing"===ef||"loading"===ef||e.isSubmitDisabled||!!e.disabled||eG||eJ||Z,nl=e.submitDisabledReason;eJ?nl="Please add secret or dismiss the warning":eG?nl="Please wait for files to finish uploading":Z&&(nl="Please wait for the agent to finish working or turn off ".concat(iQ.Pz," mode"));var nu=e.onSubmit,nc=e.ensureSession,nd=e.sessionId,nf=(0,az.A)().fs,np=(0,y._P)({controlName:"flag-queue-royal-flush",default:!1}),nh=(0,p.useCallback)(function(e){return(0,o._)(function(){var n,t;return(0,d.YH)(this,function(r){switch(r.label){case 0:if(!M)return[2];return[4,(0,iD.tX)({contents:e.contents,readFile:nf.readFile})];case 1:return n=r.sent(),M.dispatch({changes:{from:0,to:M.state.doc.length,insert:n.message},selection:{anchor:n.message.length,head:n.message.length}}),eA.set(n.attachments),n.webviewTargetedElement&&eX(null!=(t=(0,iU.Uf)(n.webviewTargetedElement))?t:null),n.agentConfig&&$.updateSettings(n.agentConfig),ei(e.id),M.focus(),[2]}})})()},[M,eA,eX,ei,nf.readFile,$]),nm=(0,p.useCallback)(function(e){return(0,o._)(function(){var n,t,r;return(0,d.YH)(this,function(a){switch(a.label){case 0:return[4,nc()];case 1:if(!(n=a.sent()))return[2];if((0,tI.WC)({action:"queue_message_sent_manually",messageText:e.contents.content,sessionId:n.id}),!np)return[3,3];return[4,O.queue.flush({ids:[e.id],session:n.id})];case 2:case 5:return a.sent(),[2];case 3:return[4,(0,iD.tX)({contents:e.contents,readFile:nf.readFile})];case 4:return t=a.sent(),r=(0,iU.Uf)(t.webviewTargetedElement),nu((0,u._)((0,l._)({},t),{webviewTargetedElement:r,figma:eU()})),[4,O.queue.flush({ids:[e.id]})]}})})()},[O,nf.readFile,eU,nu,nc,np]),nv=(0,p.useCallback)(function(){return(0,o._)(function(){var e;return(0,d.YH)(this,function(n){return ns||!M||(e=M.state.doc.toString(),ew(),nu({message:e,attachments:(0,eC._)(eA.current).concat((0,eC._)(ek.current.map(function(e){return e.file}))),agentSettings:$.settings,figma:eU()}),eI(),M.dispatch({effects:oS.Ff.of(null)}),M.dispatch({changes:{from:0,to:M.state.doc.length}})),[2]})})()},[ns,M,ew,nu,eA,ek,$.settings,eU,eI]),ng=(0,oY.F)({view:M,setPromptEditor:e.inputRef}),nb=ow.U.use({addAttachments:eE,onAutoAttachedLargePaste:function(e){(0,tI.pI)({action:"auto_attached_large_paste",fileSize:e,sessionId:nd})}}),ny=(0,P.S)([e$,ng],{breadcrumb:"client/workspace/components/Agent/Chat/InputBox/index.tsx"}),nw=(0,iR.m)({sessionId:nd}),n_=F||nw,nS=(0,ip.fk)(),nA=(0,p.useCallback)(function(){return(0,o._)(function(){var e,n,t,r;return(0,d.YH)(this,function(a){switch(a.label){case 0:if(n=(null!=(e=null==M?void 0:M.state.doc.toString())?e:"").trim(),t=(0,iD.tF)({text:n,attachedFiles:(0,eC._)(eA.current).concat((0,eC._)(ek.current.map(function(e){return e.file}))),agentConfig:$.settings,targetedElement:eQ}),!n)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,O.queue.enqueue({contents:t})];case 2:return a.sent(),(0,tI.WC)({action:"queue_message_added",messageText:n,sessionId:nd}),[3,4];case 3:return r=a.sent(),ep("Failed to add message to queue"),a1.Cp(r),[2];case 4:return M&&M.dispatch({changes:{from:0,to:M.state.doc.length},effects:oS.Ff.of(null)}),eI(),Q?e0():e4(!1,{shouldClearSelection:!0}),nS(!0),[2]}})})()},[M,eA,ek,$.settings,eQ,eI,e4,e0,nS,O,ep,nd,Q]),nk=(0,p.useCallback)(function(){return(0,o._)(function(){var e,n,t;return(0,d.YH)(this,function(r){switch(r.label){case 0:if(!ea)return[2];return n=(null!=(e=null==M?void 0:M.state.doc.toString())?e:"").trim(),t=(0,iD.tF)({text:n,attachedFiles:(0,eC._)(eA.current).concat((0,eC._)(ek.current.map(function(e){return e.file}))),agentConfig:$.settings,targetedElement:eQ}),[4,O.queue.update({id:ea,contents:t})];case 1:return r.sent().ok?((0,tI.WC)({action:"queue_message_edited",messageText:n,sessionId:nd}),null==M||M.dispatch({changes:{from:0,to:M.state.doc.length,insert:""},effects:oS.Ff.of(null)}),eI(),e0(),ei(null),oS.Ff.of(null)):ep("Failed to save queued message"),[2]}})})()},[ea,M,eA,ek,$,eQ,O,eI,e0,ei,ep,nd]),nC=(0,p.useMemo)(function(){return"approved"!==eo?"submit":ea?"save":n_&&!q?"queue":"submit"},[eo,ea,n_,q]),nY=(0,p.useCallback)(function(){switch(nC){case"submit":nv();break;case"queue":nA();break;case"save":nk()}},[nC,nv,nA,nk]),nE=(0,w.A)(nY),nx=(0,p.useCallback)(function(){ea&&M&&(M.dispatch({changes:{from:0,to:M.state.doc.length},effects:oS.Ff.of(null)}),eI(),e0(),ei(null))},[ea,M,eI,e0,ei]),nT=oV.use({onPrimaryAction:(0,p.useCallback)(function(){nE.current()},[nE]),onCancelEdit:nx,isEditingQueueItem:!!ea,isVisualSelectorActive:e1,onCancelVisualSelector:(0,p.useCallback)(function(){e1&&e4(!1,{shouldClearSelection:!0})},[e1,e4])}),nD=(0,p.useCallback)(function(){M&&e4(!e1,{isEditingEnabled:!1})},[M,e4,e1]),nI=(0,f.Y)(oe.A,{clsx:oM().attachments,detectedUrls:eN.map(function(e){return(0,f.Y)(on.A,{source:"workspace",url:e,addUrlAttachment:ex,removeUrlAttachment:eT,onError:ep},e)}),fileAttachments:eZ.map(function(e){return(0,f.Y)(ot.m1,{attachment:e,removeAttachment:eY,getAttachmentTypeDisclaimer:(0,ox.F)({aiName:(0,tB.Nn)({capitalizeFirstChar:!0})})},e.path)})});return(0,f.Y)(a6.tU.Provider,{value:eO,children:(0,f.FD)(eF.S,{clsx:[oM().outer,(0,s._)({},oM().autoHeight,e.hasInitialPlanningLayout||e.isAwaitingTaskListApproval)],innerRef:nn,children:[(0,f.Y)(iU.G3,{openPane:e.openPane}),G?null:(0,f.Y)(iT,{isDisabled:null!=(D=e.disabled||q)&&D,onEnterEditMode:nh,sendQueuedMessage:nm}),(0,f.Y)(eF.S,{clsx:oM().wrapper,children:(0,f.Y)(eF.S,{gap:4,children:(0,f.FD)(nW.ui,{elevated:!0,p:4,gap:4,grow:!0,shrink:!0,clsx:[oM().surface,(0,s._)({},oM().withDrawer,Q)],innerRef:ny,style:{borderColor:eV?er.LU.accentPrimaryDefault:void 0},"aria-disabled":!!e.disabled||void 0,"data-queue-connected":et,onClick:function(e){e.target===e.currentTarget&&(null==M||M.focus())},children:[null!=(I=e.header)?I:null,B?(0,f.Y)(ie.C,{source:"workspace",onCancel:ej,onSubmit:eq}):null,(0,f.FD)(eF.S,{grow:!0,shrink:!0,gap:4,style:{display:B?"none":"flex"},children:[eL?null:nI,(0,f.Y)(a5.A,{"data-chromatic":"ignore",ref:L,clsx:oM().codemirror,style:{cursor:e.disabled?"default":void 0},fontSize:14,readOnly:e.disabled,extensions:[oJ,nT,nb,e1?nt:e8,iP.tP,eh,ey,a4.r,a3.N,eM?em:[],e_?[]:oS.fd],id:"ai-prompt-input","data-cy":"ai-prompt-input"}),eL?nI:null]}),(0,f.Y)(a0.Jy,{getContainer:function(){return ni?nn.current:document.body},children:B?null:(0,f.FD)(eF.S,{row:!0,gap:4,clsx:oM().primaryButtonGroup,pb:2,justify:"space-between",align:"end",onClick:function(e){e.target===e.currentTarget&&(null==M||M.focus())},children:[(0,f.FD)(eF.S,{row:!0,gap:J?12:4,align:"center",children:[(void 0===W||W)&&!ea&&$?(0,f.Y)(eF.S,{pl:2,children:(0,f.Y)(i5,{disabled:null!=(R=e.disabled)&&R,agentSettings:$.settings,updateAgentSettings:$.updateSettings,selectedModeId:en,isEditModeAvailable:!(void 0!==e5&&e5)&&no&&e2,isEditModeDisabled:!e2||(0,iU.Vp)(nr),setIsEditModeActive:X,setVisualSelectorEnabled:e4,keyboardShortcutEnabled:!ni,onModeSwitchFocusInput:function(){!J&&M&&queueMicrotask(function(){M.focus()})}})}):null,no&&!Q?(0,f.Y)(o_,{onClick:nD}):null,(0,f.Y)(i6.e,{source:"workspace",disabled:e.disabled,status:ef,addAttachments:eE,onFigmaImportClick:eW}),(0,f.Y)(iI.A,{getCurrentText:function(){var e;return null!=(e=null==M?void 0:M.state.doc.toString())?e:""},onUpdateText:eH})]}),(0,f.FD)(eF.S,{pr:2,align:"center",row:!0,gap:8,children:[(0,f.Y)(oB,{agentSettings:$,disabled:null!=(N=e.disabled)&&N}),(0,f.Y)(ov,{primaryAction:nC,status:ef,disabledReason:nl,disabled:ns,isInMobileWorkspace:J,onClick:nY,isPlanModeEnabled:q})]})]})})]})})}),eL?(0,f.Y)(it.k,{}):null]})})}function oB(e){var n=e.agentSettings,t=e.disabled,r=(0,c._)((0,p.useState)(!1),2),a=r[0],i=r[1];if(!n.settings||n.loading)return null;var o=n.settings,s=o.thinkingEnabled,l=o.modelProfile===tH.Fje.ModelProfileAdvanced;return(0,f.FD)(eF.S,{row:!0,gap:4,align:"center",clsx:oM().agentSettingsControls,children:[(0,f.Y)(i8.c,{disabled:t||n.loading,settings:n.settings,update:n.updateSettings,isOpen:a,onOpenChange:i}),n.settings.autonomyLevel===tH.TAx.Max?(0,f.Y)(oy,{className:oM().maxAutonomyPill,icon:(0,f.Y)(ib.A,{size:16}),tooltip:"Max autonomy enabled",pillType:"max_autonomy",onIconClick:function(){return i(!0)}}):null,s?(0,f.Y)(oy,{icon:(0,f.Y)(td.A,{size:16}),onRemove:function(){return n.updateSettings({thinkingEnabled:!1})},tooltip:(0,f.Y)(iB.C,{type:"extendedThinking"}),pillType:"extended_thinking",onIconClick:function(){return i(!0)}}):null,l?(0,f.Y)(oy,{icon:(0,f.Y)(im.A,{size:16}),onRemove:function(){return n.updateSettings({modelProfile:tH.Fje.ModelProfileStandard})},tooltip:(0,f.Y)(iB.C,{type:"highPowerModel"}),pillType:"high_power_model",onIconClick:function(){return i(!0)}}):null]})}var oV=new a8.k(function(e){var n=e.onPrimaryAction,t=e.preventSubmitOnEnter,r=e.onCancelEdit,a=e.isEditingQueueItem,i=e.isVisualSelectorActive,o=e.onCancelVisualSelector;return ee.Lz.domEventHandlers({keydown:function(e,s){if("Escape"===e.key){if(a&&r){e.preventDefault(),r();return}if(i&&o){e.preventDefault(),o();return}}if("Backspace"===e.key&&i&&o){var l=s.state.doc,u=s.state.selection.main;if(0===l.length&&0===u.head){e.preventDefault(),o();return}}(0,a2.lq)(s.state).length>0||!t&&("Enter"===e.key&&e.metaKey&&e.stopPropagation(),"Enter"!==e.key||e.shiftKey||(e.preventDefault(),n()))}})}),o$="Message ".concat(tB.g$,"…"),oG=t(51554),oz=t.n(oG);function oW(e){var n=e.onNewSession,t=e.shouldUseFullWidth;return(0,f.FD)(eF.S,{clsx:[oz().root,(0,s._)({},oz().fullWidth,t)],gap:8,p:8,justify:"center",align:"center",children:[(0,f.Y)(eq.EY,{variant:"small",color:"dimmer",children:"This chat has ended"}),(0,f.Y)(e1.$n,{iconLeft:(0,f.Y)(aE.l,{size:16}),onClick:n,text:"Start a new ".concat(tB.g$," chat")})]})}function oj(e){var n,t,r=e.isLoadingUsageOrAuthorization,a=e.sendMessage,i=e.ensureSession,o=e.session,s=e.inputRef,c=e.onNewSession,d=e.openPane,h=e.shouldInterruptAgentOnSubmit,m=void 0!==h&&h,v=e.onSubmit,g=e.hasInitialPlanningLayout,y=(0,ek._)(e,["isLoadingUsageOrAuthorization","sendMessage","ensureSession","session","inputRef","onNewSession","openPane","shouldInterruptAgentOnSubmit","onSubmit","hasInitialPlanningLayout"]),_=(0,eD.C9)(),S=_.agentState,A=_.updateAgentState,k=(0,b.Rj)(function(){return null==S?void 0:S.map(function(e){return(null==e?void 0:e.state)===N.g32.AGENT_STATE_RUNNING})},[S]),C=ew().inMessageSecrets.length>0,Y=(0,aB.NT)(),E=(0,w.A)(v),x=(0,p.useCallback)(function(e){m&&k&&A(N.g32.AGENT_STATE_PAUSED),null==(n=E.current)||n.call(E);var n,t=e.agentSettings?(0,aG.NE)(e.agentSettings,{agentMode:g?N.xyI.AGENT_MODE_INITIAL_PLANNING:void 0}):void 0;a((0,u._)((0,l._)({},e),{agentConfig:t}))},[a,m,A,k,E,g]);if(eA(null!=(n=null==o?void 0:o.id)?n:null))return(0,f.Y)(oW,{onNewSession:c,shouldUseFullWidth:!0});var T=null;r?T="Loading…":Y&&(t=!0,T="App is in recovery mode");var D=void 0;return C&&(D=(0,f.Y)(aZ,{openSecrets:function(){return d({type:"envEditor"})}})),(0,f.Y)(oH,(0,u._)((0,l._)({},y),{header:D,inputRef:s,sessionId:(null==o?void 0:o.id)||void 0,hasInitialPlanningLayout:g,disabled:null!=t?t:y.disabled,isSubmitDisabled:null!==T,submitDisabledReason:T,onSubmit:x,ensureSession:i,openPane:d}))}var oq=t(33759),oZ=t(30054),oK=t.n(oZ);function oQ(e){var n=e.isRevising,t=e.isAgentRunning,r=e.isNarrowViewport,a=e.handleBackButtonClick,i=e.children;return(0,f.FD)(eF.S,{clsx:[oK().root,(0,s._)({},oK().isRevising,n)],children:[n?(0,f.FD)(eF.S,{row:!0,align:"center",py:8,gap:8,children:[(0,f.Y)(e1.$n,{onClick:a,text:t?"Resume":"Back",colorway:"primary",iconLeft:(0,f.Y)(oq.A,{}),size:"small"}),(0,f.Y)(rx.a,{clsx:oK().revisionFeedbackMessage,text:t?r?"Requesting edits will cancel in-progress work.":"".concat(tB.g$," is working. Requesting edits will cancel in-progress work."):"What would you like to change about the plan?"})]}):null,i]})}function oX(e){var n=e.isRevising,t=e.isNarrowViewport,r=e.handleBackButtonClick,a=e.children;return(0,f.FD)(eF.S,{gap:8,children:[n?(0,f.FD)(eF.S,{row:!0,align:"center",py:8,gap:8,children:[(0,f.Y)(e1.$n,{onClick:r,text:"Back",colorway:"primary",iconLeft:(0,f.Y)(oq.A,{}),size:"small"}),(0,f.Y)(rx.a,{clsx:oK().revisionFeedbackMessage,colorway:"blurple",text:t?"What would you like to change?":"What would you like to change about the task list?"})]}):null,a]})}var o0=t(78415),o1=t(10795);function o2(){var e=(0,k._)(["\n  mutation InitializeAgentStackReplConfig($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        config {\n          isAgentStack\n          agentStackPlatformType\n        }\n      }\n    }\n  }\n"]);return o2=function(){return e},e}var o3={},o4=(0,C.J1)(o2()),o5=t(26299),o7=(i={},(0,s._)(i,N.ezV.SLACK_MESSAGE,o1.J_c.Slack),(0,s._)(i,N.ezV.TELEGRAM_MESSAGE,o1.J_c.Telegram),(0,s._)(i,N.ezV.TIME_BASED,o1.J_c.TimeBased),i),o9={direction:"forward",state:{visualPhaseRequestCount:0},map:function(e){return e.visualPhaseRequestCount},reducer:function(e,n){if((0,M.TW)(e,"agentAskUserForActionRequest")){var t=e.contents.contents,r=(0,J.QN)(t).request;r&&(0,J.VF)(r,"approveInitialBuildVisualPhaseRequest")&&n.visualPhaseRequestCount++}}},o8=t(46987),o6=t.n(o8);function se(e){var n,t,r,a,i,s,h,m,v,y,w,k,C,Y,E,x,T,D,I,R,O,P=e.session,F=(0,ek._)(e,["session"]),U=(0,A.m5)(),J=(I=(0,ai.e)(null!=P?P:null),R=(0,eD.sz)(),(0,p.useMemo)(function(){if(!(null==I?void 0:I.event))return{isAgentAwaitingUserResponse:!1,needsAgentAckForUserMessage:!1,isGeneratingInitialPlanSteps:!1};var e=(0,M.TW)(I.event,"agentPlanEventContents")&&I.event.contents.contents.agentPlanEventContents.requiresApproval;return{isAgentAwaitingUserResponse:!R&&(null==I?void 0:I.senderType)===N.utd.AI&&!e,needsAgentAckForUserMessage:(null==I?void 0:I.senderType)===N.utd.USER&&I.event.state===N.qOk.COMPLETE,isGeneratingInitialPlanSteps:(0,M.TW)(I.event,"agentPlanEventContents")&&I.event.state===N.qOk.IN_PROGRESS&&0===I.event.contents.contents.agentPlanEventContents.step.subSteps.length}},[I,R])),H=J.isAgentAwaitingUserResponse,B=J.needsAgentAckForUserMessage,V=(0,tG.d)("mobileMax"),$=(0,g.Ik)(),G=(n=P,t=F.numPlansProposed,y=(0,g.dI)(),w=(0,b.J2)(y.user),k=(0,g.oo)(),C=(0,g.MG)(),Y=(0,g.X1)(),E=(r=null!=n?n:void 0,a=(0,L.AP)(),(0,p.useCallback)(function(e){var n,t=(0,aG.NE)(a.settings);return null==r?void 0:r.appendEvent({kind:"approvePlan",planEventId:e.planEventId,approver:e.approver,initialBuildMode:e.initialBuildMode,userSecretsResponse:null!=(n=e.userSecretsResponse)?n:{providedSecrets:[]},agentConfig:t})},[r,a.settings])),x=(0,_.A)().showError,T=null==n?void 0:n.id,D=(s=(0,c._)((i=(0,l._)({},o3,void 0),rr.n(o4,i)),1)[0],h=(0,S.A)(),m=(0,rE.Y)().refetch,v=(0,o5.C)().refetch,(0,p.useCallback)(function(e){return(0,o._)(function(){return(0,d.YH)(this,function(n){switch(n.label){case 0:return[4,s({variables:{input:{id:h,isAgentStack:!0,agentStackPlatformType:o7[e||N.ezV.TIME_BASED]}}})];case 1:return n.sent(),[4,m()];case 2:return n.sent(),[4,v()];case 3:return n.sent(),[2]}})})()},[s,h,m,v])),(0,p.useCallback)(function(e){return(0,o._)(function(){var n,r;return(0,d.YH)(this,function(a){switch(a.label){case 0:n=k(),a.label=1;case 1:if(a.trys.push([1,5,,6]),!Y)throw Error("No plan to approve");if("approved"===n)throw Error("Plan already approved");if(Y.stackBlueprint!==N.qf8.STACK_BLUEPRINT_AGENT)return[3,3];return[4,D(Y.agentStackTriggerType)];case 2:a.sent(),a.label=3;case 3:return C("approved"),(0,tI.Yp)({action:"plan_approved",sessionId:T,planBlueprints:Y.step.blueprints,agentStackTriggerType:Y.agentStackTriggerType,numPlansProposed:t,skipRapidBuild:!0,initialBuildMode:e.initialBuildMode,stackBlueprint:Y.stackBlueprint}),[4,E({planEventId:Y.eventId,approver:w,initialBuildMode:e.initialBuildMode})];case 4:return a.sent(),[3,6];case 5:return r=a.sent(),x((0,Z._)(r,Error)?r.message:"Failed to approve plan"),C(n),[3,6];case 6:return[2]}})})()},[E,Y,x,T,t,k,C,D,w])),z=F.numPlansProposed>0,W=(0,g.MG)(),j=(0,eD.C9)().agentState,q=(0,b.Rj)(function(){return null==j?void 0:j.map(function(e){return(null==e?void 0:e.state)===N.g32.AGENT_STATE_RUNNING})},[j]),K=(0,g.X1)();switch($){case null:if(H)break;return null;case"generating":case"approved":return null;case"iterating":if(H&&!z)break;if(B||q)return null;O=(0,f.Y)(a$.aF,{isInMobileWorkspace:U,onStartBuilding:G,stackBlueprint:null==K?void 0:K.stackBlueprint,sessionId:null==P?void 0:P.id});break;case"awaiting-approval":O=(0,f.Y)(a$.aF,{isInMobileWorkspace:U,onStartBuilding:G,stackBlueprint:null==K?void 0:K.stackBlueprint,sessionId:null==P?void 0:P.id})}return O?(0,f.Y)(eF.S,{children:O}):(0,f.Y)(oQ,{isRevising:"revising"===$,isAgentRunning:q,isNarrowViewport:V,handleBackButtonClick:function(){W("awaiting-approval")},children:(0,f.Y)(oj,(0,u._)((0,l._)({},F),{session:P,isVisualSelectorDisabled:"revising"===$,placeholderText:"revising"===$?o$:void 0,shouldInterruptAgentOnSubmit:!1,shouldShowChatModeControl:!1,onSubmit:function(){"revising"===$&&(0,tI.Yp)({action:"plan_revision_message_sent",sessionId:null==P?void 0:P.id,skipRapidBuild:!0,stackBlueprint:null==K?void 0:K.stackBlueprint}),W("iterating")}}))})}function sn(e){var n,t,r,a,i,o,s=e.session,c=e.initialBuildPhase,d=(0,ek._)(e,["session","initialBuildPhase"]),h=(0,A.m5)(),m=(0,y._P)({controlName:"flag-agent-tools-in-planning"}),v=(t=(0,B.T)(null!=(n=null==s?void 0:s.id)?n:null),(0,b.Rj)(function(){return t?null==s?void 0:s.reduce($,100):void 0},[s,t],{default:void 0})),g=(0,r0.P)(s),w=(0,b.Rj)(function(){return null==s?void 0:s.reduce(o9,100)},[s],{default:0}),_=(0,tV.Fj)(),S=(0,tV.QP)(),k=(0,o0.cM)(),C=(0,o0.Hf)(),Y=(r=tR(s),a=(0,L.AP)(),(0,p.useCallback)(function(e){var n=e.phase,t=e.approved,i=e.userSecretsResponse,o=e.addingIntegrationsResponse,s=e.requestEventId,l=(0,aG.NE)(a.settings);return"visual"===n?r({type:"approveInitialBuildVisualPhaseResponse",data:{approved:t,userSecretsResponse:i,addingIntegrationsResponse:o,agentConfig:l},requestEventId:s}):r({type:"approveInitialBuildMvpResponse",data:{approved:t,userSecretsResponse:i,addingIntegrationsResponse:o,agentConfig:l},requestEventId:s})},[r,a.settings])),E=(0,p.useCallback)(function(e,n){if(null==g?void 0:g.eventId){var t,r=null!=(t=k())?t:{providedSecrets:[]};Y({phase:e,approved:n.approved,userSecretsResponse:r,addingIntegrationsResponse:{connectionIds:[],rejectedConnectionIds:[],rejectedConnectorIds:[]},requestEventId:g.eventId}),_(g.eventId),C(),n.approved&&(0,tI.pI)({action:"initial_build_approved",sessionId:null==s?void 0:s.id,initialBuildMode:"visual"===e?"design":"full_build"})}},[Y,g,k,_,C,null==s?void 0:s.id]),x=(0,p.useCallback)(function(e){(null==g?void 0:g.eventId)&&(e?E("visual",{approved:!1}):_(g.eventId))},[E,_,null==g?void 0:g.eventId]),T=(0,p.useCallback)(function(){(null==g?void 0:g.eventId)&&_(g.eventId)},[_,null==g?void 0:g.eventId]),D=S(null==g?void 0:g.eventId);return(c===N.ys1.INITIAL_BUILD_PHASE_VISUAL_COMPLETE_PENDING_REVIEW&&g&&(0,J.VF)(g.content,"approveInitialBuildVisualPhaseRequest")&&!D&&(i=(0,f.Y)(a$.qV,{onStart:function(){return E("visual",{approved:!0})},onDismiss:x,isInMobileWorkspace:h,visualPhaseRequestCount:w,isApprovalResponseInProgress:g.isResponseInProgress,shouldShowToolsDropdown:m})),c===N.ys1.INITIAL_BUILD_PHASE_MVP_COMPLETE_PENDING_REVIEW&&g&&(0,J.VF)(g.content,"approveInitialBuildMvpRequest")&&!D&&(v&&(o=(0,f.Y)(ah,(0,u._)((0,l._)({},v),{approvalStatus:"proposed",placement:"bottom"}))),i=(0,f.Y)(a$.dp,{onStart:function(){return E("mvp",{approved:!0})},onDismiss:T,isInMobileWorkspace:h,hasDrawerAbove:!!o,shouldShowToolsDropdown:m})),i)?(0,f.FD)(eF.S,{children:[o?(0,f.Y)(eF.S,{clsx:o6().drawerContainer,children:o}):null,i]}):(0,f.Y)(oj,(0,u._)((0,l._)({},d),{session:s}))}var st=t(96128),sr=t(19320),sa=t.n(sr);function si(e){var n,t,r,a=(0,t$.ET)(),i=a.orgId,s=a.orgSlug,h=(t=(n=(0,c._)((0,p.useState)(null),2))[0],r=n[1],(0,g.zv)("received-completed-event",function(e){var n=e.event;switch(n.error.type){case N.fqQ.AI_QUOTA_INSUFFICIENT_BUDGET:case N.fqQ.AI_QUOTA_REQUIRES_PAYMENT_METHOD:case N.fqQ.AI_QUOTA_REQUIRES_ACTIVE_SUBSCRIPTION:r(n.error);break;default:n.error.type===N.fqQ.EVENT_ERROR_TYPE_UNKNOWN&&n.error.message}}),t),m=(0,aB.NT)(),v=(0,eD.C9)(),w=v.agentState,_=v.updateAgentState,A=(0,b.Rj)(function(){return null==w?void 0:w.map(function(e){return null==e?void 0:e.reason})},[w],{default:null}),k=function(){var e=(0,S.A)(),n=(y=(v={variables:{replId:(0,S.A)()}},g=(0,l._)({},r4,v),b=Y.I(r7,g)).data,w=b.loading,_=b.error,{orgId:(null==y?void 0:y.getRepl.__typename)==="Repl"?null==(h=y.getRepl.org)?void 0:h.id:void 0,ownerUserId:(null==y?void 0:y.getRepl.__typename)==="Repl"?null==(m=y.getRepl.user)?void 0:m.id:void 0,loading:w,error:_}),t=n.orgId,r=n.ownerUserId,a=n.loading,i=n.error,o=(A={variables:{orgId:t,ownerUserId:null!=r?r:0,replId:e},skip:!r},k=(0,l._)({},r4,A),Y.I(r9,k)),s=o.data,u=o.loading,c=o.error,d=o.refetch,f=null==s||null==(C=s.currentUser)?void 0:C.id,p=!!f&&!!r&&f===r;if(a||u)return{loading:!0,refetch:d};if(i||c)return{loading:!1,refetch:d};if(t)return{authorizations:(null==s||null==(x=s.currentUser)?void 0:x.org.__typename)==="Org"?s.currentUser.org.authorizations:void 0,loading:!1,refetch:d,isOwner:p,isOrgRepl:!0};if(!r)return{authorizations:void 0,loading:!1,refetch:d,isOwner:p,isOrgRepl:!1};if(p){var h,m,v,g,b,y,w,_,A,k,C,E,x,T,D=null==s||null==(T=s.currentUser)?void 0:T.personalOrgAuthorizations;return{authorizations:(null==D?void 0:D.__typename)==="OrgAuthorizations"?D:void 0,loading:!1,refetch:d,isOwner:p,isOrgRepl:!1}}var I=null==s||null==(E=s.replOwner)?void 0:E.paidAgentAuthorization;return(null==I?void 0:I.__typename)==="OrgAuthorization"?{authorizations:{__typename:"OrgAuthorizations",paidAgent:I,freeAgent:r8},loading:!1,refetch:d,isOwner:p,isOrgRepl:!1}:{authorizations:void 0,loading:!1,refetch:d,isOwner:p,isOrgRepl:!1}}(),C=k.authorizations,E=k.loading,x=k.refetch,T=k.isOwner,D=k.isOrgRepl,I=(0,aM.i)(),R=I.agentUsage,O=I.loading,P=I.refetch,F=(0,aH.x)(),U=(0,aJ.F)(),L=U.isFreemiumStarterPlanUsersOwnRepl,M=U.refetch,J=(0,y._P)({controlName:"flag-freemium-ai-load-shedder"});if((0,tz.A)({onChange:function(){return(0,o._)(function(){return(0,d.YH)(this,function(e){switch(e.label){case 0:return[4,Promise.all([P(),x(),M()])];case 1:return e.sent(),[2]}})})()}}),m)return(0,f.Y)(rK,{nixError:m,openPane:e.openPane});if(h)return(0,f.Y)(aL,{error:h});var H=!(null==C?void 0:C.paidAgent.isAuthorized)&&(null==C?void 0:C.paidAgent.code)===tH.JBK.InsufficientBudget,B=(null==A?void 0:A.$kind)==="authorizationFailed"&&A.code===N.HkE.INSUFFICIENT_BUDGET;if(H||B)return(0,f.Y)(t8,{runAgent:function(){return _(N.g32.AGENT_STATE_RUNNING)}});if(!O&&L&&!(null==R?void 0:R.isUnderQuota))return(0,f.Y)(rW,{});if(L&&J)return(0,f.Y)(am.n,{aiName:tB.g$});if(F)return(0,f.Y)(nW.ui,{elevated:!0,children:(0,f.Y)(av.cQ,{aiName:tB.g$})});if(!E&&!(null==C?void 0:C.paidAgent.isAuthorized)&&!(null==C?void 0:C.freeAgent.isAuthorized))if(T)return(0,f.Y)(nW.ui,{elevated:!0,clsx:sa().requiresPaymentContainer,p:8,children:(0,f.Y)(st.A,{owner:i&&s?{type:"org",slug:s}:void 0})});else if(D)return(0,f.Y)(nW.ui,{elevated:!0,css:sa().guestUnauthorizedContainer,children:(0,f.Y)(av.V0,{})});else return(0,f.Y)(nW.ui,{elevated:!0,css:sa().guestUnauthorizedContainer,children:(0,f.Y)(av.oU,{})});return(0,f.Y)(so,(0,u._)((0,l._)({},e),{isLoadingUsageOrAuthorization:E||O}))}function so(e){var n,t=e.numPlansProposed,r=(0,ek._)(e,["numPlansProposed"]),a=(n=r.session,(0,b.Rj)(function(){return null==n?void 0:n.reduce(rQ,50)},[n],{default:null})),i=(0,r0.P)(r.session),o=(0,rX.P)(r.session);return a&&a.eventId?(0,f.Y)(rO,{session:r.session,addingIntegrationsRequest:a}):i&&(0,J.VF)(i.content,"approveBlueprintRequest")?(0,f.Y)(ss,(0,l._)({},r)):r.hasInitialPlanningLayout?(0,f.Y)(se,(0,u._)((0,l._)({},r),{numPlansProposed:t})):(0,rX.W)(null==o?void 0:o.phase)?(0,f.Y)(sn,(0,u._)((0,l._)({},r),{initialBuildPhase:null==o?void 0:o.phase})):(0,f.Y)(ss,(0,l._)({},r))}function ss(e){var n,t,r,a=e.session,i=e.proposedTaskList,o=e.agentSettings,s=(0,ek._)(e,["session","proposedTaskList","agentSettings"]),d=(0,y._P)({controlName:"flag-task-list-details",default:!1}),h=(0,A.m5)(),m=(0,tG.d)("mobileMax"),v=(0,c._)((0,p.useState)(!1),2),g=v[0],b=v[1],w=(0,y._P)({controlName:"flag-build-score-survey"}),_=(0,r0.P)(a),S=tR(a),k=(0,tV.Fj)(),C=(0,tV.QP)(),Y=(0,p.useCallback)(function(){(null==_?void 0:_.eventId)&&k(_.eventId)},[k,null==_?void 0:_.eventId]),E=(0,p.useCallback)(function(e){(null==_?void 0:_.eventId)&&(o.updateSettings({chatMode:tH.HWZ.General}),S({type:"approveTaskListResponse",taskListEventId:e,requestEventId:_.eventId}),(0,tI.pI)({action:"task_list_approved",sessionId:null==a?void 0:a.id}))},[S,_,o,null==a?void 0:a.id]),x=(0,p.useCallback)(function(e){if(null==_?void 0:_.eventId){var n=(0,J.VF)(_.content,"approveBlueprintRequest")?_.content.approveBlueprintRequest.blueprintName:"";S({type:"approveBlueprintResponse",blueprintEventId:_.eventId,approved:e,blueprintName:n,requestEventId:_.eventId}),k(_.eventId),(0,tI.pI)({action:"user_message_sent",sessionId:null==a?void 0:a.id,messageText:e?"Blueprint approved":"Blueprint rejected"})}},[S,_,null==a?void 0:a.id,k]),T=(0,p.useCallback)(function(e){(null==_?void 0:_.eventId)&&S({type:"queryResponse",data:e,requestEventId:null==_?void 0:_.eventId})},[S,null==_?void 0:_.eventId]),D=C(null==_?void 0:_.eventId);return(i&&!D&&(t=(0,f.Y)(ah,(0,u._)((0,l._)({},i.data),{approvalStatus:"proposed",placement:"bottom",areTaskDetailsExpandable:d})),n=(0,f.Y)(a$.jl,{onStart:function(){return E(i.eventId)},onRevise:function(){return b(!0)},onCancel:Y,isInMobileWorkspace:h,hasDrawerAbove:!!t})),(null==_?void 0:_.content)&&(0,J.VF)(_.content,"approveBlueprintRequest")&&!D&&(n=(0,f.Y)(aV,{request:_.content.approveBlueprintRequest,eventId:_.eventId||"",isResponseInProgress:_.isResponseInProgress,onApprove:function(){return x(!0)},onReject:function(){return x(!1)}})),(null==_?void 0:_.content)&&(0,J.VF)(_.content,"queryRequest")&&!D&&(n=(0,f.Y)(tQ,{queries:_.content.queryRequest.queries,onSendResponse:T,onCancel:Y,isResponseInProgress:_.isResponseInProgress})),n&&!g)?(0,f.FD)(eF.S,{children:[t?(0,f.Y)(eF.S,{clsx:sa().drawerContainer,children:t}):null,n]}):(!g&&w&&(r=(0,f.Y)(rC,{})),(0,f.FD)(oX,{isRevising:g,isNarrowViewport:m,handleBackButtonClick:function(){return b(!1)},children:[r,(0,f.Y)(oj,(0,u._)((0,l._)({},s),{session:a,proposedTaskList:i,isAwaitingTaskListApproval:g,shouldShowChatModeControl:!g,agentSettings:o,onSubmit:function(){b(!1)}}))]}))}var sl=t(98867),su=t(73712),sc=t(47012),sd=t.n(sc),sf=(0,p.memo)(function(e){var n,t,r,a=e.session,i=e.readFile,o=e.openPane,l=e.openPip,u=e.inputRef,d=e.secrets,h=e.onPromptSuggestionClick,m=e.onNewSession,v=e.openSession,g=e.showCheckpoints,y=e.hasInitialPlanningLayout,w=e.workspaceTourStepRef,S=e.scrollerTopPadding,k=(0,sl.b)(null!=a?a:null,v),C=k.sendMessage,Y=k.ensureSession,E=k.error,x=(0,_.A)().showError;R(),(0,b.q3)(E,{next:function(e){e&&x("Something went wrong. Please try again.")}});var T=(0,p.useRef)(!0),D=(0,p.useRef)(new Map),I=(0,c._)((0,p.useState)(0),2),M=I[0],J=I[1],H=eA(null!=(n=null==a?void 0:a.id)?n:null),$=(0,B.T)(null!=(t=null==a?void 0:a.id)?t:null),z=(0,A.m5)(),W=(0,p.useRef)("instant");(0,p.useEffect)(function(){W.current="smooth"},[]);var j=y?M:0,q=(0,O.A)(function(e){J(e.height)}),Z=(0,G.z)({type:"agent"}),K=(0,P.S)([q,Z]),Q=(0,b.Rj)(function(){return null==a?void 0:a.reduce($?F:U,"global")},[a,$],{default:{numPlansProposed:0}}).numPlansProposed,X=a?{type:"session",session:a}:{type:void 0===a?"loading":"newSession"},ee=(0,L.AP)(),en=(0,b.Rj)(function(){return null==a?void 0:a.reduce(V,100)},[a],{default:void 0}),et=(0,su.D)().isDarkColorScheme;return(0,f.FD)(eF.S,{clsx:sd().root,children:[X.session?(0,f.Y)(tU,{session:X.session,isReadOnly:H,readFile:i,sendMessage:C,openPane:o,openPip:l,secrets:d,onNewSession:m,shouldAutoScrollRef:T,scrollerTopPadding:void 0===S?0:S,scrollerBottomPadding:j,onSessionChange:v,onShowCheckpoints:g,isAwaitingTaskListApproval:null!=en}):null,"loading"===X.type?(0,f.Y)(e_.G,{}):null,"newSession"===X.type?(0,f.Y)(tN.ys,{clsx:sd().emptyState,py:er.LU.space6,px:er.LU.space4,scrollCacheKey:"new-session",scrollCache:D.current,shouldAutoScrollRef:T,autoScrollBehavior:W.current,buttonOffset:j,children:(0,f.Y)(eS.T,{sessionType:N.dF3.AGENT_SESSION,onPromptSuggestionClick:h})}):null,(0,f.Y)(eF.S,{innerRef:w,row:!0,justify:"center",clsx:[sd().footerRow,(0,s._)({},sd().centeredVisualPlanner,y)],pb:6,children:(0,f.Y)(nW.ui,{background:et?void 0:"root",clsx:[sd().footerContainer,(r={},(0,s._)(r,sd().isMobile,z),(0,s._)(r,sd().isDesktop,!z),r)],innerRef:K,children:"loading"===X.type?null:(0,f.Y)(ey,{children:(0,f.Y)(si,{onNewSession:m,inputRef:u,session:null!=a?a:null,sendMessage:C,ensureSession:Y,openPane:o,hasInitialPlanningLayout:y,proposedTaskList:en,agentSettings:ee,numPlansProposed:Q})})})})]})}),sp={direction:"reverse",state:{data:null,hasUserMessage:!1},map:function(e){return e.data},reducer:function(e,n){if((0,M.TW)(e,"messageEventContents")&&e.sender.type===N.utd.USER){n.hasUserMessage=!0;return}var t=(0,M.HM)(e,"taskListData");if(null!=t)return!((0,H.z3)(t)||(0,H.TL)(t)&&n.hasUserMessage)&&(n.data=t,!1)}},sh=t(30284),sm=t(91592),sv=t(84135),sg=t(49142),sb=t(83857),sy=t(19412),sw=t(86085),s_=t(89381),sS=t(42055),sA=t(48273),sk=t(59093),sC=t(26454),sY=t(84549),sE=t(65616),sx=t.n(sE);function sT(){var e,n=(0,sm.lO)().trackAppTheme,t=(0,sy.tB)(),r=(0,sb.d)(),a=r.theme,i=r.loading,o=r.error,s=r.currentMode,l=r.setCurrentMode,u=r.save,c=r.discard,d=r.applyTheme,h=r.hasUnsavedChanges,m=r.hasUnpublishedChanges,v=r.selectedDatabaseTheme,g=r.setSelectedDatabaseTheme,b=r.publish,w=(0,sg.k)().applyThemePreview,_=(0,y._P)({controlName:"flag-app-themes-dark-mode"});return e=function(e){l(e),a&&w(a,e),n(sh.AZ.APP_THEME,{action:"dark_mode_toggled",mode:e})},(0,p.useEffect)(function(){var n=function(n){var t;if(null==(t=n.data)?void 0:t.type)switch(n.data.type){case"DARK_MODE_USED":e("dark");break;case"LIGHT_MODE_USED":e("light")}};return window.addEventListener("message",n),function(){window.removeEventListener("message",n)}},[e]),(0,f.FD)(eF.S,{p:8,className:sx().overlayContainer,children:[(0,f.FD)(nW.ui,{row:!0,align:"center",justify:"center",p:8,children:[(0,f.Y)(eB.K0,{alt:"Back",onClick:t,style:{position:"absolute",left:8},children:(0,f.Y)(sk.A,{})}),(0,f.FD)(eF.S,{row:!0,align:"center",justify:"space-between",gap:4,children:[(0,f.Y)(eq.EY,{children:"App Theme"}),(0,f.Y)(rx.a,{colorway:"primary",text:"Beta"})]})]}),(0,f.FD)(eF.S,{className:sx().scrollArea,children:[o?(0,f.Y)(sS.q,{text:"Error loading theme",colorway:"negative"}):null,i&&!a?(0,f.Y)(nW.ui,{p:16,style:{borderRadius:"8px"},children:(0,f.Y)(eq.EY,{variant:"text",children:"Loading theme..."})}):null,a?(0,f.FD)(eF.S,{gap:16,px:8,children:[(0,f.Y)(sA.i,{state:{theme:a,loading:i,hasUnsavedChanges:h,hasUnpublishedChanges:m,selectedDatabaseTheme:v,setSelectedDatabaseTheme:g},operations:{applyTheme:d,save:u,discard:c,publish:b,onComplete:function(){}}}),_?(0,f.FD)(eF.S,{gap:8,children:[(0,f.Y)(eq.EY,{variant:"small",color:"dimmest",children:"Your app supports both light and dark mode. Use this toggle to edit the style variables used in each mode."}),(0,f.FD)(s_.e2,{name:"theme-mode",value:s,onChange:function(e){l(e),w(a,e),n(sh.AZ.APP_THEME,{action:"dark_mode_toggled",mode:e})},row:!0,stretch:!0,primary:!0,children:[(0,f.Y)(s_.$O,{id:"light-mode",value:"light",text:"Light mode",icon:(0,f.Y)(sY.A,{})}),(0,f.Y)(s_.$O,{id:"dark-mode",value:"dark",text:"Dark mode",icon:(0,f.Y)(sC.A,{})})]})]}):null,(0,f.Y)(nW.ui,{className:sx().divider}),(0,f.Y)(sw.M,{})]}):null]})]})}function sD(){(0,su.D)();var e=(0,sv.n)(),n=e.theme,t=e.loading,r=e.error,a=e.saveSchema,i=e.setTheme;return(0,f.Y)(sb.V,{theme:n,setTheme:i,loading:t,error:r,saveSchema:a,children:(0,f.Y)(sT,{})})}var sI=t(85201),sR=t(43168),sN=t(72675),sO=t(22198),sP=t(21130),sF=t(13040),sU=t(79350),sL=t(26715),sM=t(46609),sJ=t(21276),sH=t(33624),sB=t(81512),sV=t(84373),s$=t.n(sV);function sG(e){var n=e.session,t=e.openSession,r=e.isActiveSession,a=e.hideTitle,i=(0,b.Rj)(function(){return null==n?void 0:n.data.select(function(e){return{title:e.title,created:e.created,taskId:e.taskId}})},[n]);return n?(0,f.FD)(eF.S,{row:!0,justify:"space-between",px:8,gap:12,children:[(0,f.FD)(eF.S,{grow:!0,shrink:!0,children:[a?null:(0,f.Y)(eq.EY,{color:(null==i?void 0:i.title)?void 0:"dimmest",children:(null==i?void 0:i.title)||"Thinking…"}),(0,f.Y)(eF.S,{children:(0,f.FD)(eF.S,{row:!0,py:4,gap:4,align:"center",children:[(0,f.Y)(eq.EY,{color:"dimmest",variant:"small",children:"Chat started"}),i?(0,f.Y)(sJ.Dc,{date:i.created,textColor:"dimmest",textVariant:"small",live:!0}):null]})})]}),n?(0,f.Y)(e1.$n,{text:r?"Continue chat":"View chat",size:"small",variant:"default",iconRight:(0,f.Y)(sB.A,{}),colorway:r?"blurple":void 0,onClick:function(){return t(n)}}):null]}):(0,f.Y)(eF.S,{row:!0,justify:"space-between",px:8,gap:12,children:(0,f.FD)(eF.S,{grow:!0,shrink:!0,children:[(0,f.Y)(eq.EY,{children:"History from source app"}),(0,f.Y)(eF.S,{row:!0,py:4,gap:4,align:"center",children:(0,f.Y)(eq.EY,{color:"dimmest",variant:"small",children:"Checkpoints inherited from the app you remixed"})})]})})}function sz(e){var n=(0,b.J2)(e.agentState),t="",r=er.LU.foregroundDimmer;switch(null==n?void 0:n.state){case N.g32.AGENT_STATE_RUNNING:r=er.LU.blurpleStronger,t="Agent is running…";break;case N.g32.AGENT_STATE_PAUSING:t="Agent is pausing…";break;default:t="Agent is waiting for your response"}var a=(0,A.m5)();return t?(0,f.Y)(eF.S,{py:6,px:8,row:!0,align:"center",gap:8,justify:"space-between",clsx:[s$().futureCheckpoint,(0,s._)({},s$().isDesktop,!a)],children:(0,f.FD)(eF.S,{row:!0,align:"center",gap:8,children:[(0,f.Y)(sH.A,{color:r}),(0,f.Y)(eF.S,{children:(0,f.Y)(eq.EY,{color:"dimmer",children:t})})]})}):null}var sW=t(89328),sj=t(90067),sq=t(68419),sZ=t(62600),sK=t.n(sZ),sQ=new Set,sX=(0,p.createContext)(null),s0=(0,p.forwardRef)(function(e,n){var t=e.children,r=e.style;return(0,f.Y)(eF.S,{innerRef:n,style:r,children:t})});s0.displayName="NonStickyItem";var s1=(0,p.forwardRef)(function(e,n){var t=e.children,r=e.style,a=e.index,i=(0,p.useContext)(sX);if(!i)throw Error("StickyItem must be used within StickyIndexContext");var o=(0,b.J2)(i.activeIndex),s=(0,b.J2)(i.scrollProgress),c=o===a;return(0,f.Y)(eF.S,{innerRef:n,style:(0,l._)((0,u._)((0,l._)({},r),{zIndex:1}),c&&{position:"sticky",top:0,transform:c?"translateY(".concat(-(100*s),"%)"):void 0}),children:t})});s1.displayName="StickyItemInner";var s2=(0,p.forwardRef)(function(e,n){var t=e.children,r=e.style,a=e.index;return sQ.has(a)?(0,f.Y)(s1,{style:r,index:a,ref:n,children:t}):(0,f.Y)(s0,{style:r,index:a,ref:n,children:t})});s2.displayName="StickyItem";var s3=(0,p.memo)(function(e){var n=e.index,t=e.row,r=e.openSession,a=e.stickyHeaderRef,i=(0,p.useContext)(sX);if(!i)throw Error("SessionItem must be used within StickyIndexContext");var o=n===(0,b.J2)(i.activeIndex);return(0,f.Y)(nW.ui,{py:12,clsx:[sK().session,(0,s._)({},sK().sessionCheckpoint,t.hasCheckpoint)],style:(0,l._)({},!o&&{backgroundColor:er.LU.backgroundDefault}),innerRef:o?a:void 0,children:(0,f.Y)(sG,{session:t.session,openSession:r,isActiveSession:t.isActive,hideTitle:t.hasCheckpoint})})}),s4=(0,p.memo)(function(e){var n,t,r,a,i,s,u,h,m,v,y,w,_,S,A,k,C,Y,E,x,T,D=(0,eD.C9)().agentState,I=e.openPane,R=e.openSession,N=e.navigatingFromSessionId,O=e.scrollPosition,P=e.onScrollPositionChange,F=e.saveScrollPositionRef,U=(0,sN.X8)(),L=U.checkpoints,M=U.loading,J=U.renameCommit,H=(0,b.J2)(L),B=(S=(null==H?void 0:H.ok)?H.value:null,A=(0,g.NC)(),C=null==(k=(0,b.J2)(A.sessions.agent.current))?void 0:k.id,E=(Y=(0,c._)((0,p.useState)(new Set),2))[0],x=Y[1],{list:(0,p.useMemo)(function(){if(!S)return null;var e=[],n=!0,t=!1,r=void 0;try{for(var a,i=S[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=a.value;o.session&&e.push({type:"session",session:o.session,hasCheckpoint:o.commitRanges.length>0,isActive:o.session.id===C});var s=!0,l=!1,u=void 0;try{for(var c,d,f=o.commitRanges[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var p=d.value,h=null==(y=p.commitRange[0])?void 0:y.hash;if(p.collapsed){var m=!E.has(h);if(e.push({type:"collapsed",count:p.commitRange.length,id:h,collapsed:m}),m)continue}var v=!0,g=!1,b=void 0;try{for(var y,w,_=p.commitRange[Symbol.iterator]();!(v=(w=_.next()).done);v=!0){var A,k=w.value;e.push({type:"commit",commit:k,sessionId:null==(A=o.session)?void 0:A.id,isReverted:p.collapsed})}}catch(e){g=!0,b=e}finally{try{v||null==_.return||_.return()}finally{if(g)throw b}}}}catch(e){l=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}o.session&&(null==(c=o.session)?void 0:c.id)===C&&e.push({type:"future",session:o.session})}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}return e},[S,E,C]),toggleCommitRange:(0,p.useCallback)(function(e){x(function(n){return(0,sj.vt)(n,function(n){n.has(e)?n.delete(e):n.add(e)})})},[])}),V=(0,p.useCallback)(function(e){return I({type:"git",data:{mode:{type:sW.C.COMMIT,hash:e}}})},[I]),$=(0,g.NC)(),G=(0,b.J2)($.sessions.agent.current),z=(0,p.useCallback)(function(e,n,t){return(0,o._)(function(){return(0,d.YH)(this,function(r){switch(r.label){case 0:if(!G)return[2];return[4,(0,sL.r)((0,l._)({chatter:$,commitId:e,title:n,onSessionChange:R,currentSession:G},t))];case 1:return r.sent(),[2]}})})()},[$,R,G]),W=!H,j=(null==H?void 0:H.ok)&&0===H.value.length,q=(0,p.useRef)(null),Z=(0,b.HJ)(0),K=(0,b.HJ)(0),Q=(0,p.useRef)(null),X=(0,c._)((0,p.useState)(0),2),ee=X[0],en=X[1],et=B.list,er=(0,p.useMemo)(function(){if(!et)return new Set;var e=new Set;return et.forEach(function(n,t){"session"===n.type&&e.add(t)}),e},[et]);(0,p.useEffect)(function(){sQ.clear(),er.forEach(function(e){return sQ.add(e)})},[er]),(0,p.useEffect)(function(){Q.current&&en(Q.current.getBoundingClientRect().height)},[et]),(0,p.useEffect)(function(){q.current&&void 0!==O?q.current.scrollTo(O):q.current&&et&&et.length>0&&q.current.scrollToIndex(et.length-1,{align:"end"})},[et,O,P]);var ea=(t=(n={list:et,navigatingFromSessionId:N,vListRef:q}).list,r=n.navigatingFromSessionId,a=n.vListRef,i=(0,p.useRef)(new Map),s=(0,p.useRef)(!1),u=(0,p.useRef)(!1),h=(0,p.useMemo)(function(){return(null==t?void 0:t.length)&&r?function(e,n){for(var t=n.findIndex(function(n){return"session"===n.type&&n.session.id===e}),r=-1===t?n.length-1:t,a=n.length-1,i=r+1;i<n.length;i++)if("session"===n[i].type){a=i-1;break}return{start:r,end:a}}(r,t):null},[t,r]),(0,p.useEffect)(function(){var e=a.current;h&&e&&!s.current&&(s.current=!0,a.current.scrollToIndex(h.start,{align:"center",smooth:!1}))},[a,h]),{onScrollEnd:(0,p.useCallback)(function(){if(!u.current&&h){u.current=!0;for(var e,n=h.start;n<=h.end;n++)null==(e=i.current.get(n))||e()}},[h]),setRowRef:(0,p.useCallback)(function(e){null===e.highlight?i.current.delete(e.index):i.current.set(e.index,e.highlight)},[])}),ei=ea.onScrollEnd,eo=ea.setRowRef,es=(m=q,v=null!=(T=null==et?void 0:et.length)?T:0,y=(0,b.HJ)(!1),w=(0,p.useCallback)(function(){var e;null==(e=m.current)||e.scrollToIndex(v,{smooth:!0,align:"end"})},[m,v]),_=(0,p.useCallback)(function(){var e=m.current;if(e){var n=Math.round(e.scrollSize-e.viewportSize-e.scrollOffset);y.set(n>36)}},[y,m]),{show:y,onScroll:_,onClick:w});(0,p.useEffect)(function(){et&&q.current&&setTimeout(function(){es.onScroll()},0)},[et,O,es]);var el=(0,p.useCallback)(function(){if(q.current){var e,n,t=q.current.findStartIndex(),r=null!=(n=(0,eC._)(sQ).reverse().find(function(e){return t>=e}))?n:(e=Math).min.apply(e,(0,eC._)(sQ));if(void 0!==r){Z.set(r);var a=(0,eC._)(sQ).sort(function(e,n){return e-n}),i=a.indexOf(r),o=a[i+1];if(void 0!==o){var s=q.current.getItemOffset(o)-q.current.scrollOffset;if(s<=ee&&s>=0){var l=(ee-s)/ee;K.set(l)}else K.set(0)}else K.set(0)}es.onScroll()}},[es,ee,Z,K]);if((0,p.useEffect)(function(){F&&(F.current=function(){q.current&&P&&P(q.current.scrollOffset)})},[F,P]),M&&(W||j))return(0,f.Y)(e_.G,{});var eu=er.size>0?(0,eC._)(er):void 0;return(0,f.FD)(eF.S,{grow:!0,shrink:!0,children:[(0,f.Y)(sX.Provider,{value:{activeIndex:Z,scrollProgress:K},children:(0,f.Y)(sU.x8,{clsx:sK().scroll,ref:q,item:s2,keepMounted:eu,onScrollEnd:ei,onScroll:el,children:null==et?void 0:et.map(function(n,t){switch(n.type){case"session":return(0,f.Y)(s5,{index:t,highlightRef:eo,children:(0,f.Y)(s3,{index:t,row:n,openSession:e.openSession,stickyHeaderRef:Q})},n.session.id);case"commit":var r,a,i,o=n.commit,s=n.isReverted;switch(null==(r=et[t+1])?void 0:r.type){case"commit":a="solid";break;case"future":a="dashed"}return(0,f.Y)(s5,{index:t,highlightRef:eo,children:(0,f.Y)(s9,{line:a,children:(0,f.Y)(sM.P,{isTimelineListItem:!0,author:o.authoredBy,variant:sM.W.SessionList,title:null!=(i=o.customSubject)?i:o.subject,date:new Date(o.committer.date),commitId:o.hash,onRevert:function(e){var n;return null==z?void 0:z(o.hash,null!=(n=o.customSubject)?n:o.subject,e)},onRenameTitle:function(e){return null==J?void 0:J(o.hash,e||o.subject)},screenshot:o.screenshotUrl,onOpenCommit:function(){return V(o.hash)},isReverted:s},o.hash)},n.commit.hash)},n.commit.hash);case"collapsed":return(0,f.Y)(s5,{index:t,highlightRef:eo,children:(0,f.Y)(s7,{id:n.id,onToggle:B.toggleCommitRange,count:n.count,collapsed:n.collapsed})},"toggle"+n.id);case"future":return D?(0,f.Y)(sz,{agentState:D},n.session.id+"future"):null}})})}),(0,f.Y)(sq._,{show:es.show,onClick:es.onClick})]})});function s5(e){var n=e.children,t=e.index,r=e.highlightRef,a=(0,p.useRef)(null);return(0,p.useEffect)(function(){return r({index:t,highlight:function(){var e;null==(e=a.current)||e.classList.add(sK().highlight)}}),function(){r({index:t,highlight:null})}},[r,t]),(0,f.Y)(eF.S,{innerRef:a,children:n})}function s7(e){var n=e.count,t=e.collapsed,r=e.id,a=e.onToggle;return(0,f.FD)(eF.S,{grow:!0,shrink:!0,row:!0,align:"center",clsx:sK().toggleCollapsedButton,gap:6,justify:"space-between",tag:"button",css:nN.b.nofill,onClick:function(){return a(r)},children:[(0,f.FD)(eq.EY,{color:"dimmest",children:[n," ",(0,eE.A)("checkpoints",n)," that"," ",1===n?"was":"were"," rolled back"]}),(0,f.Y)(nO.A,{rotate:180*!t})]})}function s9(e){return(0,f.FD)(eF.S,{px:8,py:12,clsx:sK().checkpoint,children:[e.line?(0,f.Y)("div",{clsx:[sK().checkpointLine,"dashed"===e.line&&sK().dashed]}):null,e.children]})}var s8=t(51239),s6=t(53011),le=t(66404),ln=t(59771);function lt(e){var n=e.screen,t=e.onAction,r=e.hasInitialPlanningLayout,a=(0,s6.ES)();(0,p.useEffect)(function(){if("checkpoints"===n)return a(function(){return t("goBack")}),function(){a(null)}},[a,n,t]);var i="checkpoints"!==n&&!r;return(0,f.FD)(f.FK,{children:[(0,f.Y)(s6.cR,{side:"left",children:i?(0,f.Y)(eB.K0,{size:36,alt:"Chats",onClick:function(){t("showCheckpoints")},children:(0,f.Y)(ln.A,{})}):null}),(0,f.Y)(s6.cR,{side:"right",children:r?null:(0,f.Y)(eB.K0,{size:36,alt:"New chat",onClick:function(){t("newChat")},children:(0,f.Y)(le.A,{})})})]})}var lr=t(36772),la=t(25159),li=t(12252),lo=t(44907),ls=t(99708),ll=t(24857);function lu(e){var n=e.session,t=e.onNewSession,r=e.onHistory,a=e.hasInitialPlanningLayout,i=(0,lo.y)({sessionId:n.id,type:"agent"}).usageCommandGroup,s=(0,y._P)({controlName:"flag-agent-debug-info-button"}),l=(0,_.A)().showConfirm,u=(0,li.W)(),c=(0,la.u)(n,function(e){(0,tI.pI)({action:"submitted_feedback",sessionId:n.id,feedbackText:e})},"agent_chat"),h=c.FeedbackModal,m=c.feedbackCommandGroup,v=(0,p.useMemo)(function(){return{name:"Chat",commands:[{data:{type:"action",icon:(0,f.Y)(le.A,{}),label:"New chat",run:function(){t()}}},{data:{type:"action",icon:(0,f.Y)(ln.A,{}),label:"History",run:function(){r()}}}]}},[t,r]);return(0,ls.Qt)(function(){return{type:"agentChat",focusInput:function(){},commands:(0,eC._)(a?[]:[v]).concat([{commands:s?[{data:{type:"action",icon:(0,f.Y)(ll.A,{}),label:"Copy debug info",run:function(){return(0,o._)(function(){var e,t,r;return(0,d.YH)(this,function(a){switch(a.label){case 0:return[4,u(n.id,N.dF3.CHAT)];case 1:return t=(e=a.sent()).html,r=e.plainText,[4,(0,lr.A)(t,r)];case 2:return a.sent(),l("Copied debug info to clipboard"),[2]}})})()}}}]:[]},i,m])}},[i,m,s,n.id,u,l,v,a]),(0,f.Y)(h,{})}var lc=t(64919),ld=t.n(lc),lf=(0,er.CK)("index.module.css",["--transition-duration"]),lp=(0,p.memo)(function(e){var n,t=(0,_.A)().showError,r=(0,sR.o)();return(0,f.Y)(iN.S,{sessionId:null==(n=e.session)?void 0:n.id,uploadFiles:r,onError:t,children:(0,f.Y)(sN.M_,{children:(0,f.Y)(lh,(0,l._)({},e))})})});function lh(e){var n,t,r,a,i,_,k,C,Y,E=e.session,x=e.setSession,T=e.onPlanApproval,D=e.inputRef,I=e.openPane,R=e.openPip,N=e.secrets,O=e.readFile,P=e.isDesktopOrTabletAgentPresentationCentered,F=e.isDesktopLayoutAgentPresentationTransitionInProgress,U=e.workspaceTourStepRef,L=(0,c._)((0,p.useState)("session"),2),M=L[0],H=L[1],V=(0,c._)((0,p.useState)(!1),2),$=V[0],G=V[1],z=(0,c._)((0,p.useState)(void 0),2),W=z[0],j=z[1],q=(0,c._)((0,p.useState)(!1),2),Z=q[0],K=q[1],Q=(0,A.m5)(),X=(0,p.useRef)(null),ee=(0,S.A)(),en=(0,v.Jo)({variables:{replId:ee}}).data,et=(null==en||null==(a=en.getRepl)?void 0:a.__typename)==="Repl"&&!!(null==(i=en.getRepl.origin)?void 0:i.id),er=(0,c._)((0,v.VU)(),1)[0];n=function(e){return(0,o._)(function(){return(0,d.YH)(this,function(n){switch(n.label){case 0:return null==T||T(e),[4,er({variables:{input:{id:ee,isInPlanningPhase:!1}}})];case 1:return n.sent(),[2]}})})()},t=(0,p.useRef)(!1),r=(0,g.X1)(),(0,g.zv)("received-completed-event",function(e){if(!t.current){var a=e.event.contents.contents;if((0,J.VF)(a,"agentPlanEventContents")){if(!(null==(i=a.agentPlanEventContents.Approver)?void 0:i.approver.id))return;var i,o=a.agentPlanEventContents.stackBlueprint;t.current=!0,n(o)}(0,J.VF)(a,"approvePlanEventContents")&&(t.current=!0,n(null==r?void 0:r.stackBlueprint))}});var ea=(0,iN.s)().addAttachments,ei=(0,iO.A)({addAttachments:ea}),eo=ei.isDraggedOver,es=ei.drop,el=(0,c._)((0,p.useState)(null),2),eu=el[0],ec=el[1];(0,p.useEffect)(function(){null==D||D(eu)},[eu,D]),(0,p.useEffect)(function(){Q||null==eu||eu.focus()},[eu,Q]);var ed=(0,w.A)(eu),ef=(0,p.useCallback)(function(){setTimeout(function(){var e;null==(e=ed.current)||e.animatePlaceholder()})},[ed]),ep=(0,p.useCallback)(function(){H("session"),G(!0),ef()},[ef]),eh=(0,p.useRef)(null),em=(0,p.useCallback)(function(){"checkpoints"===M&&eh.current&&eh.current()},[M]),ev=(0,p.useCallback)(function(e){"checkpoints"===M&&em(),x(e),H("session"),G(!1),ef()},[x,ef,M,em]),eg=(0,p.useCallback)(function(e){var n;null==eu||null==(n=eu.setValue)||n.call(eu,e.text),null==eu||eu.focus()},[eu]),eb=!!(0,b.J2)((0,sF.S)()),ey=(0,sN.X8)().checkpointMade,ew=(0,sN.vU)(E),e_=function(e){switch("checkpoints"===M&&em(),e){case"goBack":H("session"),G(!1),ef();break;case"showCheckpoints":H("checkpoints");break;case"newChat":H("session"),G(!0),ef()}},eS=(0,g.OI)(),eA=(0,p.useRef)();(0,p.useEffect)(function(){eA.current=$||null==E?void 0:E.id},[$,E]);var ek=(0,sP.x)(),eC=(0,B.T)(null!=(C=null==E?void 0:E.id)?C:null),eY=(0,g.Ik)(),eE=eC&&!ek&&!et&&(Q?"approved"!==eY:P||F),ex=(0,sy.fW)().isThemeOverlayVisible;(0,p.useEffect)(function(){ex&&"theme"!==M?H("theme"):ex||"theme"!==M||H("session")},[ex,M]);var eT=(0,b.Rj)(function(){return null==E?void 0:E.reduce(sp,100)},[E],{default:void 0}),eD=(0,y._P)({controlName:"flag-task-list-details",default:!1}),eI=(0,y._P)({controlName:"flag-task-list-usage-cost",default:!1}),eR=eE||Q||"theme"===M,eN=(0,p.useRef)(null),eO=(0,p.useRef)(null);return(0,f.FD)(f.FK,{children:[(0,f.FD)(eF.S,{innerRef:"session"===M?es:void 0,clsx:ld().root,grow:!0,shrink:!0,style:(0,s._)({},lf.transitionDuration,"".concat(180,"ms")),children:[(0,f.FD)(eF.S,{innerRef:eN,children:[!E||eR?null:(0,f.Y)(s8.Y,{sessionId:E.id,sessionTitle:ew,screen:M,disableNewSessionButton:eb,onAction:e_,checkpointMade:ey}),(0,f.Y)(lt,{screen:M,onAction:e_,hasInitialPlanningLayout:eE})]}),null==eT||"session"!==M||$?null:(0,f.Y)(eF.S,{clsx:[ld().taskListDrawerContainer,(0,s._)({},ld().isInMobileWorkspace,Q)],style:{top:null==(_=eN.current)?void 0:_.offsetHeight},children:(0,f.Y)(ah,(0,u._)((0,l._)({},eT),{approvalStatus:"approved",placement:"top",areTaskDetailsExpandable:eD,isCostInfoAvailable:eI,innerRef:eO}))}),(0,f.Y)(h.A,{children:(0,f.Y)(m.A,{timeout:180,nodeRef:X,classNames:{enter:ld().enter,enterActive:ld().enterActive,exit:ld().exit,exitActive:ld().exitActive},children:(0,f.FD)(eF.S,{innerRef:X,clsx:ld().content,grow:!0,shrink:!0,children:["theme"===M?(0,f.Y)(sD,{}):null,"checkpoints"===M?(0,f.Y)(s4,{openSession:ev,openPane:I,navigatingFromSessionId:eA.current,scrollPosition:W,onScrollPositionChange:j,saveScrollPositionRef:eh}):null,"session"===M?(0,f.Y)(sf,{onNewSession:ep,inputRef:ec,openPane:I,openPip:R,session:$?null:E,openSession:ev,showCheckpoints:function(){return e_("showCheckpoints")},secrets:N,readFile:O,onPromptSuggestionClick:eg,hasInitialPlanningLayout:eE,workspaceTourStepRef:U,scrollerTopPadding:null!=(Y=null==(k=eO.current)?void 0:k.offsetHeight)?Y:0}):null]})},M)}),eo?(0,f.Y)(sI.A,{}):null]}),(0,f.Y)(sO.A,{isOpen:eS&&!Z,text:"We've encountered an issue and can't reconnect to the AI service. Please refresh the page to continue.",onDismiss:function(){return K(!0)}}),Q&&E?(0,f.Y)(lu,{onNewSession:ep,onHistory:function(){return H("checkpoints")},session:E,hasInitialPlanningLayout:eE}):null]})}},77355:(e,n,t)=>{"use strict";t.d(n,{y:()=>d});var r=t(34837),a=t(51274),i=t(96513),o=t(21814),s=t(91953),l=t(90233),u=t(25227),c=t(89364);function d(e){var n=e.deployment,t=e.small,d=n.currentBuild,f=o.v[d.status],p=f.title,h=f.color,m=(0,a.A)(new Date(d.timeCreated),Date.now(),{addSuffix:!0}),v="Published ".concat(m," by ").concat(d.user.displayName),g=d.status===i.nHS.Success?"Published":p;return(0,r.Y)(l.m_,{tooltip:v,children:(0,r.FD)(u.S,{row:!0,gap:4,align:"center",children:[(0,r.Y)(c.A,{size:t?12:16,color:h}),(0,r.Y)(s.EY,{variant:t?"small":void 0,color:"dimmest",multiline:!1,children:g})]})})}},77760:(e,n,t)=>{"use strict";t.d(n,{V:()=>a});var r=t(74651),a=r.ZU.Object({type:r.ZU.Literal("agentChat"),data:r.ZU.Optional(r.ZU.Object({sessionId:r.ZU.Optional(r.ZU.String())}))})},77901:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M3.25 6A2.75 2.75 0 0 1 6 3.25h12A2.75 2.75 0 0 1 20.75 6v12A2.75 2.75 0 0 1 18 20.75H6A2.75 2.75 0 0 1 3.25 18V6Z",clipRule:"evenodd"})}))}},77986:(e,n,t)=>{"use strict";t.d(n,{F:()=>A});var r=t(46434),a=t(29935),i=t(12694),o=t(82643),s=t(34837),l=t(21462),u=t(74651),c=t(97858),d=t(16128),f=t(61125),p=t(88331),h=t(34778),m=t(45620),v=t(25722),g=t(40756),b=t(70251),y=t(91953),w=t(25227),_=t(73635),S=u.ZU.Object({targetReplId:u.ZU.String(),sourceReplId:u.ZU.String(),bucketId:u.ZU.String()});function A(){var e=(0,i._)((0,l.useState)(null),2),n=e[0],t=e[1],u=(0,f.A)(),A=(0,v.i)();return(0,m.b)(function(e,n){var i=n.session,s=n.signal;return(0,a._)(function(){var n,a,l,f,m,v,g,b,y,w;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(!u||!A)return[2];a=(n=e.replspaceApi.init.stream({session:i.from},{signal:s})).resReadable,l=n.reqWritable,f=!1,m=!1,o.label=1;case 1:o.trys.push([1,6,7,12]),g=function(){var e=y.value;if(!e.ok||"requestDefaultBucketAccess"!==e.payload.$kind)return"continue";var n=e.payload.nonce;(0,h.u4)(h.AZ.MODAL_VIEWED,{modalName:"default_bucket_access_modal"}),t(function(){return function(e){if(!e){t(null),l.write({$kind:"allowDefaultBucketAccess",nonce:n,result:{status:"error",message:"user canceled"}});return}(0,p.B2)("/object-storage/replit/allowDefaultBucketAccess/targetRepl/".concat(encodeURIComponent(u),"/sourceRepl/Dotfiles.").concat(encodeURIComponent(A.username)),{}).then(function(e){c.J(S,e)?l.write({$kind:"allowDefaultBucketAccess",nonce:n,result:{status:"ok",targetReplId:e.targetReplId,sourceReplId:e.sourceReplId,bucketId:e.bucketId}}):l.write({$kind:"allowDefaultBucketAccess",nonce:n,result:{status:"error",message:JSON.stringify(d.I(S,e))}})}).catch(function(e){l.write({$kind:"allowDefaultBucketAccess",nonce:n,result:{status:"error",message:"".concat(e)}})}).finally(function(){t(null)})}})},b=(0,r._)(a),o.label=2;case 2:return[4,b.next()];case 3:if(!(f=!(y=o.sent()).done))return[3,5];g(),o.label=4;case 4:return f=!1,[3,2];case 5:return[3,12];case 6:return w=o.sent(),m=!0,v=w,[3,12];case 7:if(o.trys.push([7,,10,11]),!(f&&null!=b.return))return[3,9];return[4,b.return()];case 8:o.sent(),o.label=9;case 9:return[3,11];case 10:if(m)throw v;return[7];case 11:return[7];case 12:return l.close(),[2]}})})()},[u,A]),(0,s.Y)(b.a,{isOpen:"function"==typeof n,onRequestClose:function(){null==n||n(!1),(0,h.u4)(h.AZ.DEFAULT_BUCKET_ACCESS_MODAL_ACCEPTED,{response:"close"}),t(null)},children:(0,s.FD)(w.S,{gap:16,children:[(0,s.Y)(y.Y9,{variant:"headerDefault",level:3,children:"Allow Dotfiles App Storage Bucket access"}),(0,s.Y)(y.EY,{children:"Do you want the App Storage bucket associated with your Dotfiles Repl to be accessible in this Repl? If your Dotfiles Repl has any secrets, they will be accessible to this Repl too."}),(0,s.Y)(y.EY,{children:"If you did not install the Replit dotfiles support, you should deny this."}),(0,s.FD)(w.S,{justify:"end",row:!0,gap:16,children:[(0,s.Y)(g.$n,{onClick:function(){null==n||n(!1),(0,h.u4)(h.AZ.DEFAULT_BUCKET_ACCESS_MODAL_ACCEPTED,{response:"deny"}),t(null)},text:"Deny"}),(0,s.Y)(g.$n,{onClick:function(){null==n||n(!0),(0,h.u4)(h.AZ.DEFAULT_BUCKET_ACCESS_MODAL_ACCEPTED,{response:"confirm"}),t(null)},iconLeft:(0,s.Y)(_.A,{}),text:"Allow for this Repl",colorway:"primary"})]})]})})}},78051:(e,n,t)=>{"use strict";t.d(n,{L:()=>s});var r=t(97008),a=t(80719),i=t(69832),o=t(69272);function s(e){var n=(0,a.NC)(),t=(0,i.Rj)(function(){return e?n.sessions.get(e):null},[n,e]);return(0,i.Rj)(function(){return null==t?void 0:t.reduce(l,"global").result.map(function(e){return e.cents})},[t])}var l={direction:"forward",state:{cents:0},reducer:function(e,n){(0,r.k)(e)&&(n.cents+=o.a7)}}},78087:e=>{e.exports={stageCode:"GeneratingDiffStatementsCompleted_stageCode__9CVg1",stageCodeHeader:"GeneratingDiffStatementsCompleted_stageCodeHeader__RPvV7",warning:"GeneratingDiffStatementsCompleted_warning__DJqSs",learnMoreLink:"GeneratingDiffStatementsCompleted_learnMoreLink__zIOKV",footerMessage:"GeneratingDiffStatementsCompleted_footerMessage__TAP50",footerMessageHeader:"GeneratingDiffStatementsCompleted_footerMessageHeader__BuBiW",isExpanded:"GeneratingDiffStatementsCompleted_isExpanded__13z9j"}},78133:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{d:"M20.34 8.5c-.128.1-2.38 1.37-2.38 4.192 0 3.265 2.866 4.42 2.952 4.449-.013.07-.456 1.582-1.512 3.122-.941 1.355-1.925 2.708-3.42 2.708-1.497 0-1.882-.869-3.61-.869-1.682 0-2.28.898-3.65.898-1.368 0-2.323-1.254-3.42-2.794C4.027 18.397 3 15.588 3 12.92c0-4.277 2.781-6.546 5.518-6.546 1.454 0 2.667.955 3.58.955.869 0 2.224-1.012 3.879-1.012.627 0 2.88.057 4.363 2.183ZM15.19 4.508c.685-.812 1.169-1.938 1.169-3.065 0-.156-.014-.314-.042-.442-1.113.042-2.438.741-3.237 1.668-.627.713-1.212 1.84-1.212 2.981 0 .172.029.343.042.398.07.014.185.029.3.029.998 0 2.254-.669 2.98-1.569Z"})}))}},79113:(e,n,t)=>{"use strict";t.d(n,{G2:()=>g,R7:()=>m,hr:()=>d,jQ:()=>o,jg:()=>u,lY:()=>y,nZ:()=>w,ou:()=>p,x6:()=>_});var r=t(21462),a=t(76957),i=t(79203),o=function(e,n){var t=e.dir,r=e.channel,a=e.stringifiedCmd,i=e.cmd;return(!n.direction||t===n.direction)&&(!n.channels.length||!!n.channels.includes(i.channel))&&(!!(!n.regexp||!n.regexp.test||r.name&&n.regexp.test(r.name)||r.service&&n.regexp.test(r.service))||n.regexp.test(a))},s=(0,a.eU)([]),l=(0,a.eU)([]);function u(){return(0,r.useDeferredValue)((0,i.md)(l))}var c=(0,a.eU)(null,function(e,n,t){o(t,e(h))&&n(l,function(e){return e.concat(t)}),n(s,function(e){return e.concat(t)})});function d(){return(0,i.Xr)(c)}var f=(0,a.eU)(null,function(e,n){n(s,[]),n(l,[])});function p(){return(0,i.Xr)(f)}var h=(0,a.eU)({regexp:null,direction:"",highlightOnly:!1,channels:[]});function m(){return(0,i.md)(h)}var v=(0,a.eU)(null,function(e,n,t){var r;n(h,t),n(l,(r=e(s),(t.regexp||t.direction||t.channels.length)&&!t.highlightOnly?r.filter(function(e){return o(e,t)}):r))});function g(){return(0,i.Xr)(v)}var b=(0,a.eU)(!1);function y(){return(0,i.md)(b)}function w(){return(0,i.Xr)((0,r.useMemo)(function(){return(0,a.eU)(null,function(e,n,t){return n(b,t)})},[]))}function _(){return(0,i.Xr)((0,r.useMemo)(function(){return(0,a.eU)(null,function(e,n){return n(b,function(e){return!e})})},[]))}},79320:(e,n,t)=>{"use strict";t.d(n,{A:()=>u,T:()=>l});var r=t(12694),a=t(21462),i=t(36163),o=t(49555),s=t(40115),l=".tutorial";function u(){var e=(0,s.A)().fs,n=(0,r._)((0,a.useState)({isLoading:!0,isTutorial:!1}),2),t=n[0],u=n[1];return(0,a.useEffect)(function(){e.watchDir(i.Dl,{onChange:function(e){u({isLoading:!1,isTutorial:e.some(function(e){return e.type===o.pt.Directory&&e.filename===l})})},onMoveOrDelete:function(){u({isLoading:!1,isTutorial:!1})},onError:function(){u({isLoading:!1,isTutorial:!1})}})},[e]),t}},80023:(e,n,t)=>{"use strict";t.d(n,{CK:()=>R,Gp:()=>I,QW:()=>N,KA:()=>O});var r=t(29935),a=t(82643),i=t(34837),o=t(40185),s=t.n(o),l=t(48686),u=t(59270),c=t(18454),d=t(86103),f=t(860),p=t(19786),h=t(19557),m=t(67276),v=t(89117),g=t(50916),b=t(47737),y=t(40115),w=t(57282),_=t(1224),S=t(22227),A=t(62246),k=t(88233),C=t(39534),Y=t(64053),E=t(29274),x=t(74013),T=t(50957),D=t(43193);function I(e,n,t){return{match:_.G2,data:{label:"Download",icon:(0,i.Y)(x.A,{}),type:"action",run:function(){return(0,r._)(function(){var r;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,n.readFile(e)];case 1:if((r=a.sent()).error)return[2,{type:"error",message:"Error downloading file"}];return[4,(0,h.A)(e,r.content,t)];case 2:return a.sent(),[2]}})})()}}}}function R(e,n){return{match:_.G2,data:{label:"Download",icon:(0,i.Y)(x.A,{}),type:"action",run:function(){return(0,r._)(function(){var t,r,i;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,n.readFile(e)];case 1:if((t=a.sent()).error||!(r=t.content.toString("base64")))return[2,{type:"error",message:"Error downloading file"}];return i=(0,u.WP)(e),(0,w._z)({messageType:c.tF.DOWNLOAD_FILE,fileName:i,fileContent:r},(0,l.Ak)()),[2]}})})()}}}}function N(e){return{match:_.G2,data:{label:"Download folder",icon:(0,i.Y)(x.A,{}),type:"action",run:function(){return(0,r._)(function(){var n;return(0,a.YH)(this,function(t){switch(t.label){case 0:return[4,(n=s().query.replId,(0,r._)(function(){var t,i,o,l,u,c,d;return(0,a.YH)(this,function(f){switch(f.label){case 0:return i=(t=e.split("/")).length>1?t[t.length-1]:e,(o=document.createElement("a")).download=i+".zip",o.target="_blank",o.style.display="none",l=function(){return(0,r._)(function(){return(0,a.YH)(this,function(e){return[2,{isEmbed:!!(s().query.lite||s().query.embed),hCaptchaSiteKey:v.lh}]})})()},[4,(0,m.KF)({replId:n,getCaptcha:l})];case 1:return c=(u=f.sent()).baseUrl,d=u.token,o.href="".concat(c,"/repl/").concat(n,"?token=").concat(d,"&subdir=").concat(encodeURIComponent(e),"&dir=").concat(i),document.body.appendChild(o),o.click(),setTimeout(function(){document.body.removeChild(o)},1e4),[2]}})})())];case 1:return t.sent(),[2]}})})()}}}}function O(e){var n=e.path,t=e.performPaneOperation,o=(0,y.A)(),s=(0,k.gi)(),l=(0,b.m6)(),u=(0,d._P)({controlName:"flag-direct-file-downloads"});return(0,f.A)(function(){var e,c;return n?[{match:_.G2,data:{label:"Copy file path",icon:(0,i.Y)(Y.A,{}),type:"action",run:function(){(0,p.default)(n)}}},{match:_.G2,data:{label:"Copy link",icon:(0,i.Y)(T.A,{}),type:"action",run:function(){var e=(0,S.Ax)({path:n});(0,p.default)(e)}}},(e=o.fs,c=function(e){t({operation:"replace",pane:{type:(0,A.QY)({path:e}),data:{path:e}}})},{match:_.G2,data:{label:"Duplicate file",icon:(0,i.Y)(E.A,{}),type:"action",run:function(){return(0,r._)(function(){var t;return(0,a.YH)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,g.A)(n,e)];case 1:return t=r.sent(),[3,3];case 2:return r.sent(),[2,{type:"error",message:"Error duplicating file"}];case 3:return c(t),[2]}})})()}}}),l?R(n,o.fs):I(n,o.fs,u),{match:_.G2,data:{label:"Delete",icon:(0,i.Y)(D.A,{color:C.LU.redDefault}),type:"action",run:function(){s(n)}}}]:null},[n,o.fs,l,s,t,u])}},80947:(e,n,t)=>{"use strict";t.d(n,{I:()=>w,i:()=>_});var r=t(17844),a=t(17459),i=t(34837),o=t(21462),s=t(6566),l=t(62290),u=t(85692),c=t(59270),d=t(56141),f=t(6056),p=t(99795),h=t(90402),m=t(88233),v=t(41382),g=t(88976),b=t(54154),y=t(33683),w=(0,o.memo)(function(e){var n=e.path,t=e.performPaneOperation,r=e.isReadOnly,a=(0,h.fZ)(),s=(0,o.useCallback)(function(e){t({operation:"open",pane:(0,v.a)(e)})},[t]);return(0,i.FD)(f.Y9,{children:[(0,i.Y)(f.Bm,{children:(0,i.Y)(d.D,{path:n,onFileClick:s,children:(0,i.Y)(l.z,{view:a})})}),(0,i.Y)(f.Yw,{children:(0,i.Y)(_,{path:n,performPaneOperation:t,isReadOnly:r})})]})});function _(e){return(0,i.FD)(i.FK,{children:[(0,i.Y)(S,(0,r._)({},e)),(0,i.Y)(A,(0,r._)({},e)),(0,i.Y)(k,(0,r._)({},e)),(0,i.Y)(C,(0,r._)({},e))]})}function S(e){var n=e.path,t=(0,a._)(e,["path"]),r=(0,h.fZ)(),o=(0,u.Vn)(r,s.cS),l=(0,u.Vn)(r,s.hb),d=o||t.isReadOnly;return l&&r?(0,i.Y)(p.k,{dataCy:"ws-format-btn",altText:"Format "+(0,c.WP)(n),buttonText:"Format",disabled:d,"aria-disabled":!!d||void 0,icon:o?(0,i.Y)(y.A,{}):(0,i.Y)(b.A,{}),onClick:function(){o||(0,s.BD)(r)}}):null}function A(e){var n=e.path,t=e.performPaneOperation;return(0,c.e$)(n)?(0,i.Y)(p.k,{altText:"Preview "+(0,c.WP)(n),buttonText:"Preview",icon:(0,i.Y)(g.A,{}),onClick:function(){t({operation:"replace",pane:{type:"markdown",data:{path:n}}})}}):null}function k(e){var n=e.path,t=e.performPaneOperation;return(0,c.Z7)(n)?(0,i.Y)(p.k,{altText:"Preview "+(0,c.WP)(n),buttonText:"Preview",icon:(0,i.Y)(g.A,{}),onClick:function(){t({operation:"replace",pane:{type:"media",data:{path:n}}})}}):null}function C(e){var n=e.path,t=e.performPaneOperation,r=(0,m.vO)();return(0,c.Zy)(n)?(0,i.Y)(p.k,{altText:"Toggle Preview",buttonText:"Preview",icon:(0,i.Y)(g.A,{}),onClick:function(){var e=r();t({operation:"replace",pane:{type:"csvPreview",data:{path:n,line:null==e?void 0:e.position.line}}})}}):null}},81069:(e,n,t)=>{"use strict";t.d(n,{j:()=>b,n:()=>g});var r=t(83846),a=t(34837),i=t(49222),o=t(70764),s=t(18712),l=t(40756),u=t(37379),c=t(2717),d=t(43820),f=t(14972),p=t(91953),h=t(25227),m=(0,o.x)({select:[s.wp.minWidth(200),{button:{border:"0 none"}}],wrapper:[s.wp.rowWithGap(8),s.wp.align.center,(0,r._)({},i.cX,[s.wp.flex.rowReverse])],rightComponentWrapper:(0,r._)({},i.cX,[s.wp.ml(8)]),titleHeading:[s.wp.center,s.wp.justify.start],staffOnlyPill:[s.wp.height(18)]});function v(e){var n=e.children,t=e.settingName,r=e.settingDescription,o=e.settingId,s=e.title,l=e.rightComponent,u=e.isStaffOnly,d=s;return s||(d=r?(0,a.FD)(a.FK,{children:[(0,a.FD)(h.S,{css:m.titleHeading,row:!0,gap:8,children:[(0,a.Y)(p.EY,{multiline:!1,children:t}),u?(0,a.Y)(c.a,{css:m.staffOnlyPill,text:"Staff-only",colorway:"warning"}):null]}),(0,a.Y)(p.EY,{variant:"small",color:"dimmest",children:r})]}):(0,a.Y)(p.EY,{multiline:!1,children:t})),(0,a.Y)(i.wn,{id:o,title:d,children:(0,a.FD)(h.S,{css:m.wrapper,children:[l?(0,a.Y)(h.S,{css:m.rightComponentWrapper,children:l}):null,n]})})}function g(e){var n=e.setting,t=e.currentValue,i=e.update,o=e.rightComponent,s=e.filterOptions,l=e.title;if("select"===n.type){var c,p=s?n.options.filter(s):n.options;return(0,a.Y)(v,{settingName:n.name,settingDescription:n.description,settingId:n.id,title:l,rightComponent:o,children:(0,a.Y)(d.l,{"aria-label":n.name,style:{marginRight:0},items:p,defaultSelectedKey:null==(c=p.find(function(e){return t===e.editorPreferencesValue}))?void 0:c.id,onSelectionChange:function(e){var t;if("string"!=typeof n.editorPreferencesKey)throw Error("Setting does not have an editorPreferencesKey");i((0,r._)({},n.editorPreferencesKey,null==(t=p.find(function(n){return n.id===e}))?void 0:t.editorPreferencesValue))},css:m.select,dataCy:n.id,children:function(e){return(0,a.Y)(u.nh,{id:e.id,label:e.title,dataCy:e.id,fixedHeight:32},e.id)}})})}if("boolean"===n.type)return(0,a.Y)(v,{settingName:n.name,settingDescription:n.description,settingId:n.id,title:l,rightComponent:o,children:(0,a.Y)(f.d,{"aria-label":n.name,isSelected:t,onChange:function(e){if("string"!=typeof n.editorPreferencesKey)throw Error("Setting does not have an editorPreferencesKey");i((0,r._)({},n.editorPreferencesKey,e))},dataCy:n.id})});throw Error("Unsupported setting type")}function b(e){var n,t=e.setting,r=e.currentValueOption,o=e.disabledReason,s=(0,a.FD)(a.FK,{children:[(0,a.Y)(p.EY,{multiline:!1,children:t.name}),(0,a.Y)(p.EY,{variant:"small",color:"dimmest",children:o})]});return(0,a.Y)(i.wn,{id:t.id,title:s,children:(0,a.Y)(h.S,{css:m.wrapper,children:r?(0,a.Y)(l.$n,{text:null!=(n=null==r?void 0:r.title)?n:"Disabled",disabled:!0}):null})})}},81075:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.FD)(o.Ay,(0,a._)((0,r._)({},e),{children:[(0,i.Y)("path",{d:"M5.25 16.75a1 1 0 0 1 1-1h4a1 1 0 1 1 0 2h-4a1 1 0 0 1-1-1ZM17.25 15.25a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"}),(0,i.Y)("path",{fillRule:"evenodd",d:"M1.25 11.618c0-.298.048-.594.144-.877L3.62 4.123A2.75 2.75 0 0 1 6.226 2.25h11.548c1.18 0 2.23.754 2.606 1.873l2.227 6.618c.095.283.143.579.143.877V19A2.75 2.75 0 0 1 20 21.75H4A2.75 2.75 0 0 1 1.25 19v-7.382ZM6.226 3.75h11.548a1.25 1.25 0 0 1 1.184.851l2.227 6.619c.043.128.065.263.065.398v.132H2.75v-.132c0-.135.022-.27.065-.398L5.042 4.6a1.25 1.25 0 0 1 1.184-.851Zm-3.476 9.5V19c0 .69.56 1.25 1.25 1.25h16c.69 0 1.25-.56 1.25-1.25v-5.75H2.75Z",clipRule:"evenodd"})]}))}},81076:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.FD)(o.Ay,(0,a._)((0,r._)({},e),{children:[(0,i.Y)("path",{fillRule:"evenodd",d:"M6.196 4.696a1.475 1.475 0 0 1 1.043-.432h2.897a.632.632 0 0 0 0-1.264H7.239A2.74 2.74 0 0 0 4.5 5.74v12.642a2.74 2.74 0 0 0 2.74 2.74h11.378c.35 0 .632-.283.632-.632v-8.534a.738.738 0 0 0-1.475 0v3.687H7.24a2.74 2.74 0 0 0-1.475.431V5.74c0-.39.156-.766.432-1.043ZM7.4 17.12h10.376v2.528H7.399a1.52 1.52 0 0 1-1.007-.37 1.197 1.197 0 0 1-.417-.894c0-.335.15-.657.417-.894a1.52 1.52 0 0 1 1.007-.37Z",clipRule:"evenodd"}),(0,i.Y)("path",{fillRule:"evenodd",d:"M16.389 2.266c-.13-.355-.648-.355-.778 0l-.893 2.44a.407.407 0 0 1-.264.247l-2.166.663a.396.396 0 0 0 0 .762l2.166.669c.123.038.22.13.264.247l.893 2.44c.13.355.648.355.778 0l.893-2.44a.407.407 0 0 1 .264-.247l2.166-.666a.396.396 0 0 0 0-.762l-2.166-.666a.407.407 0 0 1-.264-.247l-.893-2.44Z",clipRule:"evenodd"})]}))}},81160:(e,n,t)=>{"use strict";t.d(n,{$:()=>C});var r=t(46434),a=t(29935),i=t(12694),o=t(82643),s=t(34837),l=t(21462),u=t(17844),c=t(12584),d=t(41114),f=t(54744);function p(){var e=(0,c._)(["\n  query CurrentUserGithubToken {\n    currentUser {\n      id\n      gitHubInfo {\n        accessToken\n      }\n    }\n  }\n"]);return p=function(){return e},e}var h={},m=(0,d.J1)(p()),v=t(34778),g=t(45620),b=t(40115),y=t(88206),w=t(40756),_=t(70251),S=t(91953),A=t(25227),k=t(73635);function C(){var e,n=(0,b.A)().replspaceApi,t=(0,i._)((0,l.useState)(null),2),c=t[0],d=t[1],p=(0,i._)((0,l.useState)(!1),2),C=p[0],Y=p[1],E=(e=(0,u._)({},h,void 0),f.I(m,e)).data,x=(null==E?void 0:E.currentUser)||void 0,T=(0,y.v)();return(0,l.useEffect)(function(){return n.onConfirmSendToken(function(e){e&&(0,v.u4)(v.AZ.MODAL_VIEWED,{modalName:"git_token_modal"}),d(function(){return e})})},[n]),(0,g.b)(function(e,n){var t=n.session,i=n.signal;return(0,a._)(function(){var n,a,s,l,u,c,f,p,h,m;return(0,o.YH)(this,function(o){switch(o.label){case 0:a=(n=e.replspaceApi.init.stream({session:t.from},{signal:i})).reqWritable,s=n.resReadable,l=!1,u=!1,o.label=1;case 1:o.trys.push([1,6,7,12]),f=function(){var e=h.value;if(e.ok&&"getGithubToken"===e.payload.$kind){var n,t,r=e.payload.nonce,i=null!=(t=null==x||null==(n=x.gitHubInfo)?void 0:n.accessToken)?t:void 0;if(!i)return a.write({$kind:"githubToken",nonce:r}),"continue";if(C||T)return a.write({$kind:"githubToken",token:i,nonce:r}),"continue";(0,v.u4)(v.AZ.MODAL_VIEWED,{modalName:"git_token_modal"}),d(function(){return function(e){if(!e){d(null),a.write({$kind:"githubToken",nonce:r});return}a.write({$kind:"githubToken",token:i,nonce:r}),d(null),Y(!0)}})}},p=(0,r._)(s),o.label=2;case 2:return[4,p.next()];case 3:if(!(l=!(h=o.sent()).done))return[3,5];f(),o.label=4;case 4:return l=!1,[3,2];case 5:return[3,12];case 6:return m=o.sent(),u=!0,c=m,[3,12];case 7:if(o.trys.push([7,,10,11]),!(l&&null!=p.return))return[3,9];return[4,p.return()];case 8:o.sent(),o.label=9;case 9:return[3,11];case 10:if(u)throw c;return[7];case 11:return[7];case 12:return[2]}})})()},[x,C,T]),(0,s.Y)(_.a,{isOpen:"function"==typeof c,onRequestClose:function(){null==c||c(!1),(0,v.u4)(v.AZ.GIT_TOKEN_MODAL_ACCEPTED,{response:"close"}),d(null)},children:(0,s.FD)(A.S,{gap:16,children:[(0,s.Y)(S.Y9,{variant:"headerDefault",level:3,children:"Pass GitHub Credentials"}),(0,s.Y)(S.EY,{children:"It looks like you're trying to connect to your GitHub repository through the shell. Pass your token to the shell?"}),(0,s.Y)(S.EY,{children:"If you did not initiate a git command, you should deny this."}),(0,s.FD)(A.S,{justify:"end",row:!0,gap:16,children:[(0,s.Y)(w.$n,{onClick:function(){null==c||c(!1),(0,v.u4)(v.AZ.GIT_TOKEN_MODAL_ACCEPTED,{response:"deny"}),d(null)},text:"Deny"}),(0,s.Y)(w.$n,{onClick:function(){null==c||c(!0),(0,v.u4)(v.AZ.GIT_TOKEN_MODAL_ACCEPTED,{response:"confirm"}),d(null)},iconLeft:(0,s.Y)(k.A,{}),text:"Confirm for this session",colorway:"primary"})]})]})})}},81242:e=>{e.exports={itemActions:"QueueDrawer_itemActions__V23Wg",queueItemSurface:"QueueDrawer_queueItemSurface__plTWE",itemActionsOverlay:"QueueDrawer_itemActionsOverlay__U0ZEK",drawerSurface:"QueueDrawer_drawerSurface__v8o00",expanded:"QueueDrawer_expanded__krXbG",drawerItems:"QueueDrawer_drawerItems__RQOYx",queueItemText:"QueueDrawer_queueItemText__Q9OX6",queueItemMetadata:"QueueDrawer_queueItemMetadata__e0sGI",preserveNewlines:"QueueDrawer_preserveNewlines__5Q2_u",titleContainer:"QueueDrawer_titleContainer__wIsIM",disabled:"QueueDrawer_disabled__MqklC",queueItem:"QueueDrawer_queueItem___JEdb",compactButton:"QueueDrawer_compactButton__JTEJ9",dragHandle:"QueueDrawer_dragHandle__uNVMW",isDragInteractionDisabled:"QueueDrawer_isDragInteractionDisabled__l2RjT",dragging:"QueueDrawer_dragging__xCIsW",dropIndicatorAbove:"QueueDrawer_dropIndicatorAbove__SUDSy",dropIndicatorBelow:"QueueDrawer_dropIndicatorBelow__pQL4J",nonEditedItemInEditMode:"QueueDrawer_nonEditedItemInEditMode__5SGZH",rightText:"QueueDrawer_rightText__gVksu"}},81551:e=>{e.exports={domainVerificationStatus:"DomainVerificationStatus_domainVerificationStatus__tB5sR",statusDotWrapper:"DomainVerificationStatus_statusDotWrapper__il_Nm",domainStatusDot:"DomainVerificationStatus_domainStatusDot__9Ms1C"}},81920:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r=t(34778);function a(e){(0,r.u4)(r.AZ.FILETREE_USED,e)}},82207:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r=t(21462);let a=function(e,n,t){(0,r.useEffect)(function(){var n=setTimeout(e,t);return function(){clearTimeout(n)}},n)}},82514:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>p,By:()=>u,GM:()=>c});var r=t(29935),a=t(12694),i=t(86105),o=t(82643),s=t(91818);function l(e){switch(e){case"A":return s.Os.ADDED;case"C":return s.Os.COPIED;case"D":return s.Os.DELETED;case"M":return s.Os.MODIFIED;case"R":return s.Os.RENAMED;case"T":return s.Os.TYPE_CHANGED;case"X":default:return s.Os.UNKNOWN;case"B":return s.Os.BROKEN}}function u(e){return Array.from(e.matchAll(f)).map(function(e){var n=(0,a._)(e,4),t=n[1],r=n[2];return{path:n[3],originalPath:r,type:l(t)}})}function c(e){return Array.from(e.matchAll(d)).map(function(e){var n=(0,a._)(e,3),t=n[1];return{path:n[2],type:l(t)}})}var d=/([ADMUXBT])\0([^\0]+)/g,f=/([RC])\d*\0([^\0]+)\0([^\0]+)/g;function p(e,n){return(0,r._)(function(){var t,a,l;return(0,o.YH)(this,function(d){switch(d.label){case 0:return[4,(0,r._)(function(){var t;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,e("git log -1 --pretty=%P ".concat(n))];case 1:if((t=r.sent()).error)return[2,!1];return[2,t.output.trim().length>0]}})})()];case 1:if(!d.sent())return[2,(0,r._)(function(){var t,r,a,i,l,u,c,d,f;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,e("git ls-tree --name-only -r ".concat(n),{serviceMethod:"git-get-files-for-commit"})];case 1:if((t=o.sent()).error)return[2,t];r=[],a=t.output.split("\n").filter(Boolean),i=!0,l=!1,u=void 0;try{for(c=a[Symbol.iterator]();!(i=(d=c.next()).done);i=!0)f=d.value,r.push({path:f,type:s.Os.ADDED})}catch(e){l=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(l)throw u}}return[2,{files:r,error:null}]}})})()];return[4,e("git diff-tree --no-commit-id --name-status -z -r -C --find-copies-harder -M ".concat(n),{serviceMethod:"git-get-files-for-commit"})];case 2:if((t=d.sent()).error)return[2,t];return a=u(t.output),l=c(t.output),[2,{files:(0,i._)(a).concat((0,i._)(l)),error:null}]}})})()}},82701:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});var r=t(12694),a=t(21462);function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,r._)((0,a.useState)(e),2),t=n[0],i=n[1];return[t,(0,a.useCallback)(function(){return i(function(e){return!e})},[])]}},82784:(e,n,t)=>{"use strict";t.d(n,{F:()=>i});var r=t(12584);function a(){var e=(0,r._)(["\n  fragment ReplListBoxItemRepl on Repl {\n    id\n    title\n    iconUrl\n    isFeaturedRepl\n    description(plainText: true)\n  }\n"]);return a=function(){return e},e}var i=(0,t(41114).J1)(a())},82920:(e,n,t)=>{"use strict";t.d(n,{e:()=>a});var r=t(69832);function a(e){return(0,r.Rj)(function(){return null==e?void 0:e.reduce(i,1)},[e],{default:null})}var i={direction:"reverse",state:{id:null,event:null,state:null,senderType:null},reducer:function(e,n){return n.id=e.id,n.state=e.state,n.event=e,n.senderType=e.sender.type,!1}}},83068:e=>{e.exports={root:"SendButton_root__TF8bc",disabledWithReason:"SendButton_disabledWithReason__YaQHp"}},83112:e=>{e.exports={divider:"WorkspacePreferencesSection_divider__SZFgc"}},83317:(e,n,t)=>{"use strict";t.d(n,{v:()=>S,A:()=>_});var r=t(17844),a=t(12694),i=t(96907),o=t.n(i),s=t(67201),l=t(47112),u=t(95793),c=t(17459),d=t(90629),f=t(86197),p=t(85011),h="exit status 1",m=t(29935),v=t(86105),g=t(82643),b=t(57221);function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{error:e,data:n}}var w="File Search Used";function _(e){var n=e.container,t=e.onError,a=e.onUpdate,i=e.onLoadingStateChange,m=e.isStreaming,v=e.trackLatency,g=void 0!==v&&v,b=(0,l.A)({container:n}),y=[],_=(0,s.A)(),S=Date.now(),A=function(e){a(y=e)};return o()(function(e){var n=(0,s.A)();_=n,S=Date.now(),t(null),i(!0);var a=!0;if(""===e.query){A([]),i(!1);return}!function(e){var n=e.execer,t=e.onComplete,r=e.onError,a=e.onParse,i=(0,c._)(e,["execer","onComplete","onError","onParse"]);if(0===i.query.length)return t("abort");var o=new TextEncoder,s=(0,f.xo)(),l=0,u=0,m=function(){},v=function(e){r(e),t("error")},g=function(e){if(0===l&&"finished"===e)return void v(p.F.EMPTY_RESULTS);"finished"===e?t(e,{bytes:u}):t(e),m()},b=n.onOutput(function(e){var n=o.encode(e).length;u+=n;var t=s(e);if(t){var r=t.error,i=t.filesMap,c=t.filesMapChanges;r&&v(r),l=i.size,c.forEach(function(e){var n=i.get(e);n&&i.set(e,(0,f.l8)(n))}),a(i,c)}}),y=n.onStderr(function(e){if(e.trim()===h)return v(p.F.EMPTY_RESULTS);v(p.F.INVALID_COMMAND)});m=function(){b(),y()};var w=(0,f.Qq)(i);n.request({args:w,noUserEnv:!0}).then(function(e){if(e.error)return e.error.trim()===h?v(p.F.EMPTY_RESULTS):v(p.F.INVALID_COMMAND);g("finished")}).catch(function(e){return d.Cp(Error("Ripgrep search command failed with error: ".concat(e))),v(p.F.INVALID_COMMAND)})}((0,r._)({execer:b,onComplete:function(r,a){if(_===n){i(!1);var o,s,l,c,d="finished"===r&&a&&a.bytes===f.mj;d&&t(p.F.PARTIAL_RESULTS),g&&u.vF.time("".concat(w," - complete"),Date.now()-S,{query:e.query,isRegex:e.isRegex,isCaseSensitive:e.isCaseSensitive,hasIncludes:(null!=(l=null==e||null==(o=e.includeGlobs)?void 0:o.length)?l:0)>0,hasExcludes:(null!=(c=null==e||null==(s=e.excludeGlobs)?void 0:s.length)?c:0)>0,latency:Date.now()-S,isPartialResults:d})}},onError:function(e){_===n&&t(e)},onParse:function(t,r){if(_===n){if(a){if(g){var o,s,l,c;u.vF.time("".concat(w," - first_chunk"),Date.now()-S,{query:e.query,isRegex:e.isRegex,isCaseSensitive:e.isCaseSensitive,hasIncludes:(null!=(l=null==e||null==(o=e.includeGlobs)?void 0:o.length)?l:0)>0,hasExcludes:(null!=(c=null==e||null==(s=e.excludeGlobs)?void 0:s.length)?c:0)>0})}A((0,f.Nn)([],t,r)),a=!1}else A((0,f.Nn)(y,t,r));m&&i(!1)}},mode:"json",context:0},e))},200)}function S(e){var n=e.container,t=o()(function(e,t,i){var o;(o=(0,r._)({container:n,mode:"json",context:1,isCaseSensitive:!1},e),(0,m._)(function(){var e,n,t,r,a,i,s;return(0,g.YH)(this,function(l){switch(l.label){case 0:if(n=o.container,0===(t=(0,c._)(o,["container"])).query.trim().length)return[2,y(p.F.EMPTY_QUERY)];if(n.getConnectionState()===b.KN.DISCONNECTED)return[2,y(p.F.CONTAINER_DISCONNECTED)];if(n.getConnectionState()===b.KN.CONNECTING)return[2,y(p.F.CONTAINER_CONNECTING)];return[4,(e=n).exec.apply(e,(0,v._)((0,f.Qq)(t)))];case 1:if(a=(r=l.sent()).output,i=r.error)switch(i){case h:return[2,y(p.F.EMPTY_RESULTS)];case"signal: broken pipe":return[2,y(p.F.PARTIAL_RESULTS)];case"Channel closed":return[2,y(p.F.CHANNEL_CLOSED)];default:return d.Cp(Error("Ripgrep search command failed with error: ".concat(i))),[2,{error:i,data:null}]}if(!(null==a?void 0:a.trim())||!(s=(0,f.xo)()(a))||0===s.filesMap.size)return[2,y(p.F.EMPTY_RESULTS)];return[2,y(s.error,s.filesMap)]}})})()).then(function(e){var n=e.data?function(e){var n={},t=!0,r=!1,i=void 0;try{for(var o,s=e.entries()[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var l=(0,a._)(o.value,2),u=l[0],c=l[1];n[u]=c.lines.map(function(e){return{content:e.content,lineNumber:e.lineNumber,matches:e.matches.map(function(e){return{column:e.start,length:e.length}})}}).filter(function(e){return e.matches.length>0})}}catch(e){r=!0,i=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw i}}return n}(e.data):{},r=e.error===p.F.PARTIAL_RESULTS;if(r);else if(e.error)return t({error:e.error,results:null,isPartialResult:r});return t({error:null,results:n,isPartialResult:r})}).catch(i)},200);return function(e){return new Promise(function(n,r){return t(e,n,r)})}}},83807:(e,n,t)=>{"use strict";t.d(n,{H:()=>a,J:()=>r});var r=function(e){return e.FS_CHANGE="FS_CHANGE",e.FORCED_REFRESH="FORCED_REFRESH",e.NEW_PROFILE="NEW_PROFILE",e.CHANGED_PROFILE="CHANGED_PROFILE",e}({}),a=function(e){return e.REPLIT_DEFAULT="REPLIT_DEFAULT",e.GITHUB="GITHUB",e}({})},84118:(e,n,t)=>{"use strict";t.d(n,{A:()=>p});var r=t(17844),a=t(93629),i=t(34837),o=t(39534),s=t(70764),l=t(18712),u=t(31051),c=t(90233),d=t(25227),f=(0,s.x)({default:[],withOnClick:[l.wp.cursor.pointer,{transition:"all 0.2s ease","&:hover":{filter:"brightness(95%)",boxShadow:o.LU.shadow1}}]});function p(e){var n=e.user,t=e.onClick,o=e.size,s=void 0===o?24:o;return(0,i.Y)(c.m_,{placement:"bottom",tooltip:t?"Observe ".concat(n.username):n.username,children:function(e,o){return(0,i.Y)(d.S,(0,a._)((0,r._)({},e),{innerRef:o,onClick:t,children:(0,i.Y)(u.e,{size:s,src:n.image||null,username:n.username,ringColor:n.color,css:t?f.withOnClick:f.default})}))}})}},84149:(e,n,t)=>{"use strict";t.d(n,{z:()=>i});var r=t(34837),a=t(42793);function i(){return(0,r.Y)(a.mL,{styles:[{body:{overflow:"hidden"}}]})}},84184:(e,n,t)=>{"use strict";t.d(n,{A:()=>g});var r=t(12694),a=t(21462),i=t(64706),o=t(61125),s=t(17844),l=t(93629),u=t(64678),c=t.n(u),d=t(95793),f=t(71353);function p(e){return Math.floor(performance.now()-e.startTime)}var h=new WeakSet,m=t(40115),v=t(41285);function g(e){var n=(0,o.A)(),t=(0,m.A)().lspnix,u=(0,r._)((0,a.useState)([]),2),g=u[0],b=u[1],y=(0,v.i)();return(0,a.useEffect)(function(){if(e){var n=t.onClient(e,b);return function(){n(),b([])}}},[t,e]),(0,a.useEffect)(function(){return(0,i.xW)(g.map(function(t){return function(e){var n=e.client,t=e.replId,r=e.language,a=e.debug;if(!h.has(n)){h.add(n);var o=new Map,u=function(e){var a,i=n.getServerState(),o=null!=(a=n.getServerInfo())?a:{name:"unknown",version:"none"},s=i===f.b.INITIALIZED?"".concat(null==o?void 0:o.name,"@").concat(null==o?void 0:o.version):"not_ready: server is ".concat(i);return{method:e.method,replid:t,language:r,startTime:Math.floor(e.startTime),languageServerInfo:s,lspId:n.clientId}},m=c()(function(e,n){var t=p(n);t>1e4&&d.vF.time("LSP unresponsive request",t,u(n))}),v=setInterval(function(){o.forEach(function(e){m(e.id,e)})},2e3);return(0,i.xW)([n.onRequest(function(e){var n=e.id,t=e.data;(a||.01>Math.random())&&o.set(n,{id:n,method:t.method,startTime:performance.now()})}),n.onResponse(function(e){var n=e.id,t=e.error,r=o.get(n);null!=r&&(o.delete(n),d.vF.time("LSP request",p(r),(0,l._)((0,s._)({},u(r)),{result:null==t?"ok":"error"})))}),n.onCancelRequest(function(e){var n=o.get(e);null!=n&&(o.delete(e),d.vF.time("LSP request",p(n),(0,l._)((0,s._)({},u(n)),{result:"cancelled"})))}),function(){return clearInterval(v)},function(){return h.delete(n)}])}}({client:t,replId:n,language:t.getLanguageId(e),debug:y})}))},[g,n,e,y]),g}},84194:(e,n,t)=>{"use strict";t.d(n,{A:()=>l});var r=t(12694),a=t(21462),i=t(49555),o=t(40115),s=t(8086);function l(){var e=(0,o.A)().fs,n=(0,r._)((0,a.useState)(!1),2),t=n[0],l=n[1],u=(0,s.A)(),c=u.didConnectOnce,d=u.didDisconnect;return((0,a.useEffect)(function(){return l(e.getStatus()===i.sn.Syncing),e.onStatusChange(function(e){l(e===i.sn.Syncing)})},[e]),c)?{isSaving:t,isOffline:d}:{isSaving:!1,isOffline:!1}}},84373:e=>{e.exports={futureCheckpoint:"Session_futureCheckpoint__xkvj3",isDesktop:"Session_isDesktop__qHeuk"}},84383:(e,n,t)=>{"use strict";t.d(n,{O:()=>k,ZA:()=>g,Zd:()=>w,gH:()=>y,kg:()=>T,s$:()=>_});var r=t(29935),a=t(17844),i=t(93629),o=t(86105),s=t(82643),l=t(90629),u=t(23099),c=t.n(u),d=t(35992),f=t(96907),p=t.n(f),h=t(49999),m=t(41409),v=t(57221),g=new Set([3e3,3001,3002,3003,4200,5e3,5173,6e3,6800,80,8e3,8008,8080,8081,8099,9e3]);function b(e,n){return new Set(Array.from(e).filter(function(e){return!n.has(e)}))}var y=function(e){return e.FORWARDED="FORWARDED",e.INTERNAL_ONLY="INTERNAL_ONLY",e.NO_MORE_EXTERNAL_PORTS_AVAILABLE="NO_MORE_EXTERNAL_PORTS_AVAILABLE",e.MISCONFIGURED="MISCONFIGURED",e.CONFIG_MISSING="CONFIG_MISSING",e}({});function w(e){var n=e.type;switch(n){case"FORWARDED":case"MISCONFIGURED":return e.externalPort;case"INTERNAL_ONLY":case"NO_MORE_EXTERNAL_PORTS_AVAILABLE":case"CONFIG_MISSING":return;default:(0,h.A)(n)}}function _(e){var n;return null!=(n=e.isLocalhost)&&n}function S(e){return e===v.wF}function A(e){return e===v.XQ}function k(e){return e===v.Kw}function C(e){return S(e.localPort)}function Y(e){return A(e.localPort)}function E(e){return e?b(g,new Set(e.map(function(e){return w(e.configuration)}))):g}function x(e){var n=e.localPort,t=E(e.portsState.current);if(0!==t.size){var r=t.has(80),a=t.has(n);return r?80:a?n:Array.from(t).sort()[0]}}function T(e){var n=e.container,t=e.dotReplit,u=(0,m.F)(null),f=(0,m.F)(!1),g=(0,m.F)("only-global"),y=p()(function(){return(0,r._)(function(){var e;return(0,s.YH)(this,function(n){switch(n.label){case 0:if(!u.current)return[2];return e=u.current.filter(function(e){return!e.isTemporary}).map(function(e){var n=e.configuration.type;switch(n){case"FORWARDED":case"MISCONFIGURED":return(0,a._)({localPort:e.configuration.localPort,externalPort:e.configuration.externalPort},_(e.configuration)?{exposeLocalhost:!0}:void 0);case"INTERNAL_ONLY":return{localPort:e.configuration.localPort};case"NO_MORE_EXTERNAL_PORTS_AVAILABLE":case"CONFIG_MISSING":return!1;default:(0,h.A)(n)}}).filter(Boolean).sort(function(e,n){return e.localPort-n.localPort}),[4,t.updateDotReplit([{op:"add",path:"ports",value:JSON.stringify(e)}])];case 1:return n.sent(),[2]}})})()},1e3,{leading:!1,trailing:!0});function T(){f.set(!0),y()}return!function(e){var n=e.container,t=e.dotReplit,r=e.portsState,s=e.writeDotReplitPortsConfig,u=e.isThisServiceUpdatingDotReplit,f=e.forwardPortsAutomatically;function p(e){return e.sort(function(e,n){var t,r;return(null!=(t=e.configuration.localPort)?t:0)-(null!=(r=n.configuration.localPort)?r:0)})}var h=[];function m(e){try{var n=function(e){var n=e.portsState,t=e.portInfo,r=e.forwardPortsAutomatically;if(null===n.current)throw Error("processOpenedPort can only assign ports if dotReplit config was read");var o={pid:t.pid,cgroup:t.cgroup,address:t.address,cmdline:t.cmdline},s="127.0.0.1"===o.address,l=S(t.port),u=A(t.port),c=k(t.port),d=n.current.find(function(e){return e.configuration.localPort===t.port});if(void 0!==d)return{isOpen:!0,isTemporary:!!l||d.isTemporary,processInfo:o,configuration:(0,i._)((0,a._)({},d.configuration),{isLocalhost:s})};if(c)return{isOpen:!0,isTemporary:!0,processInfo:o,configuration:{type:"FORWARDED",localPort:t.port,externalPort:t.port,isLocalhost:s,isVscode:u,isVnc:l}};if("none"===r.current||"only-global"===r.current&&s||l||u)return{isOpen:!0,isTemporary:!0,processInfo:o,configuration:{type:"INTERNAL_ONLY",localPort:t.port,isLocalhost:s,isVscode:u,isVnc:l}};var f=x({localPort:t.port,portsState:n});return void 0===f?{isOpen:!0,isTemporary:!1,processInfo:o,configuration:{type:"NO_MORE_EXTERNAL_PORTS_AVAILABLE",localPort:t.port,isLocalhost:s,isVscode:u,isVnc:l}}:{isOpen:!0,isTemporary:!1,processInfo:o,configuration:{type:"FORWARDED",localPort:t.port,externalPort:f,isLocalhost:s,isVscode:u,isVnc:l}}}({portsState:r,portInfo:e,forwardPortsAutomatically:f}),t=!1;r.update(function(r){if(!r)throw Error("processOpenedPort can only execute if we red .replit first");return(0,d.jM)(r,function(a){var i=a.findIndex(function(n){return n.configuration.localPort===e.port});return -1===i?(i=r.length,t=!0):c()(r[i].configuration,n.configuration)||(t=!0),a[i]=n,p(a)})}),t&&s()}catch(e){throw l.v4(function(n){n.setTag("service","ports"),l.Cp(e)}),e}}function g(e){try{var n=!1;r.update(function(t){if(!t)throw Error("onPortClosed can only execute if we red .replit first");return(0,d.jM)(t,function(t){var r=t.findIndex(function(n){return n.configuration.localPort===e.port});if(-1!==r){var a,i=t[r];i.isTemporary||(a=i.configuration.localPort,32768<=a&&a<=60999)?(t.splice(r,1),n=!0):i.isOpen=!1}})}),n&&s()}catch(e){throw l.v4(function(n){n.setTag("service","ports"),l.Cp(e)}),e}}n.onPortOpened(function(e){null===r.current?h.push({type:"portOpen",portInfo:e}):m(e)}),n.onPortClosed(function(e){null===r.current?h.push({type:"portClose",portInfo:e}):g(e)}),n.onConnectionStateChanged(function(e){e!==v.KN.CONNECTED&&null!==r.current&&r.set(r.current.filter(function(e){return!e.isTemporary}).map(function(e){return{isOpen:!1,isTemporary:e.isTemporary,configuration:e.configuration}}))}),t.watch(function(e){var n,t=e.config,s=null!=(n=null==t?void 0:t.ports)?n:[];if(!0===u.current){var l=r.current;if(!l||s.length!==l.length)return;s.every(function(e,n){var t,r=l[n];return e.localPort===r.configuration.localPort&&e.externalPort===(null!=(t=w(r.configuration))?t:0)})&&u.set(!1);return}r.update(function(e){e||(e=[]);var n=new Set(s.map(function(e){return e.localPort}).filter(function(e){return null!=e})),t=new Set(e.map(function(e){return e.configuration.localPort})),r=new Set(e.filter(function(e){return e.isOpen}).map(function(e){return e.configuration.localPort})),l=b(n,t),u=(m=new Set((0,o._)(Array.from(n)).concat((0,o._)(Array.from(r)))),new Set(Array.from(t).filter(function(e){return m.has(e)}))),c=[],d=!0,f=!1,h=void 0;try{for(var m,v,g=u[Symbol.iterator]();!(d=(v=g.next()).done);d=!0)!function(){var n=v.value,t=e.find(function(e){return e.configuration.localPort===n}),r=s.find(function(e){return e.localPort===n});if(!t)throw Error("couldn't find match for local port: ".concat(n));if(!r)return c.push((0,i._)((0,a._)({},t),{configuration:{type:"CONFIG_MISSING",localPort:t.configuration.localPort,isLocalhost:_(t.configuration),isVscode:Y(t.configuration),isVnc:C(t.configuration)}}));var o=t.configuration;o=null!=r.externalPort&&0!==r.externalPort?{type:E(c).has(r.externalPort)?"FORWARDED":"MISCONFIGURED",localPort:t.configuration.localPort,externalPort:r.externalPort,isLocalhost:_(t.configuration),isVscode:Y(t.configuration),isVnc:C(t.configuration)}:{type:"INTERNAL_ONLY",localPort:t.configuration.localPort,isLocalhost:_(t.configuration),isVscode:Y(t.configuration),isVnc:C(t.configuration)},c.push((0,i._)((0,a._)({},t),{configuration:o}))}()}catch(e){f=!0,h=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw h}}var y=!0,w=!1,k=void 0;try{for(var x,T=l[Symbol.iterator]();!(y=(x=T.next()).done);y=!0)!function(){var e,n=x.value,t=s.find(function(e){return e.localPort===n});if(!t)throw Error("couldn't find match for local port: ".concat(n));var r=null!=t.externalPort&&0!==t.externalPort?t.externalPort:void 0;if(void 0!==r){var a,i=E(c).has(r);c.push({isOpen:!1,isTemporary:!1,configuration:{type:i?"FORWARDED":"MISCONFIGURED",localPort:n,externalPort:r,isLocalhost:null!=(a=t.exposeLocalhost)&&a,isVscode:A(n),isVnc:S(n)}})}else c.push({isOpen:!1,isTemporary:!1,configuration:{type:"INTERNAL_ONLY",localPort:n,isLocalhost:null!=(e=t.exposeLocalhost)&&e,isVscode:A(n),isVnc:S(n)}})}()}catch(e){w=!0,k=e}finally{try{y||null==T.return||T.return()}finally{if(w)throw k}}return p(c)}),h.length>0&&(h.forEach(function(e){var n=e.type,t=e.portInfo;"portOpen"===n?m(t):"portClose"===n&&g(t)}),h=[])})}({container:n,dotReplit:t,portsState:u,writeDotReplitPortsConfig:T,isThisServiceUpdatingDotReplit:f,forwardPortsAutomatically:g}),{tryExposingPortAutomatically:function(e){var n=x({localPort:e,portsState:u});void 0!==n&&(u.update((0,d.jM)(function(t){if(t){var r=t.find(function(n){return n.configuration.localPort===e});r&&(r.isTemporary=!1,r.configuration={type:"FORWARDED",localPort:e,externalPort:n,isLocalhost:r.configuration.isLocalhost,isVscode:A(e),isVnc:S(e)})}})),T())},updateDotReplitPortsMapping:function(e,n,t){u.update((0,d.jM)(function(r){var a,i=null==r?void 0:r.find(function(n){return n.configuration.localPort===e}),o=t;void 0===o&&(o=null!=(a=null==i?void 0:i.configuration.isLocalhost)&&a);var s=void 0!==n?{type:"FORWARDED",localPort:e,externalPort:n,isLocalhost:o,isVscode:A(e),isVnc:S(e)}:{type:"INTERNAL_ONLY",localPort:e,isLocalhost:o,isVscode:A(e),isVnc:S(e)};i?(i.isTemporary=!1,i.configuration=s):(r||(r=[]),r.push({isOpen:!1,isTemporary:!1,configuration:s}))})),T()},removeDotReplitPortsMapping:function(e,n){u.update((0,d.jM)(function(t){var r;void 0!==(r=void 0!==n?null==t?void 0:t.findIndex(function(t){return t.configuration.localPort===e&&("FORWARDED"===t.configuration.type||"MISCONFIGURED"===t.configuration.type)&&t.configuration.externalPort===n}):null==t?void 0:t.findIndex(function(n){return n.configuration.localPort===e}))&&(null==t||t.splice(r,1))})),T()},portsState:u,setForwardPortsAutomatically:function(e){g.set(e)}}}},85011:(e,n,t)=>{"use strict";t.d(n,{F:()=>r});var r=function(e){return e.PARTIAL_RESULTS="Displaying partial results, try being more specific with your search.",e.EMPTY_RESULTS="Nothing came up searching your App's content.",e.EMPTY_QUERY="No search query was provided.",e.INVALID_LINE="We encountered an invalid line while parsing your search results.",e.INVALID_COMMAND="Ripgrep returned an invalid response.",e.CONTAINER_DISCONNECTED="Disconnected from the container.",e.CONTAINER_CONNECTING="Connecting to the container.",e.CHANNEL_CLOSED="Channel was closed.",e}({})},85201:(e,n,t)=>{"use strict";t.d(n,{A:()=>p});var r=t(34837),a=t(39534),i=t(70764),o=t(18712),s=t(91953),l=t(25227),u=t(55247),c=t(38848),d=t(72253),f=(0,i.x)({wrapper:[o.wp.position.absolute,{top:0,right:0,bottom:0,left:0,zIndex:999,display:"flex",alignItems:"center",justifyContent:"center",borderBottomLeftRadius:8,borderBottomRightRadius:8,overflow:"hidden"}],overlay:[o.wp.position.absolute,{top:0,right:0,bottom:0,left:0,backgroundColor:a.LU.blueDimmer,opacity:.8}],content:[o.wp.center,{position:"relative",zIndex:1}]});function p(){return(0,r.FD)(l.S,{css:f.wrapper,children:[(0,r.Y)(l.S,{css:f.overlay}),(0,r.FD)(l.S,{css:f.content,gap:12,children:[(0,r.FD)(l.S,{row:!0,gap:8,align:"center",children:[(0,r.Y)(c.A,{size:32}),(0,r.Y)(u.A,{size:32}),(0,r.Y)(d.A,{size:32})]}),(0,r.Y)(s.EY,{variant:"subheadDefault",children:"Drop files here to add to conversation"})]})]})}},85271:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});var r=t(21462),a=t(40872);function i(){var e=(0,a.yB)();(0,r.useEffect)(function(){},[e])}},85433:(e,n,t)=>{"use strict";t.d(n,{Ry:()=>i,vF:()=>r,z$:()=>a});var r=100,a=3,i=250},85627:(e,n,t)=>{"use strict";t.d(n,{A:()=>J});var r=t(29935),a=t(12694),i=t(86105),o=t(82643),s=t(34837),l=t(21462),u=t(49088),c=t(80719),d=t(33747),f=t(44082),p=t(45040),h=t(82658),m=t(90545),v=t(41426),g=t(39534),b=t(70764),y=t(24499),w=t(18712),_=t(40756),S=t(2717),A=t(3937),k=t(91953),C=t(90233),Y=t(25227),E=t(73635),x=t(29274),T=t(17844),D=t(93629),I=t(25590);function R(e){return(0,s.Y)(I.Ay,(0,D._)((0,T._)({},e),{children:(0,s.Y)("path",{fillRule:"evenodd",d:"M15.838.027A4.491 4.491 0 0 1 18.32 8.26a4.49 4.49 0 0 1-2.483 8.231h-.097a4.473 4.473 0 0 1-2.991-1.141v4.085c0 2.513-2.064 4.539-4.564 4.539-2.474 0-4.515-2.005-4.515-4.49 0-1.562.797-2.938 2.007-3.743a4.487 4.487 0 0 1 0-7.481A4.492 4.492 0 0 1 8.162.028h7.676ZM8.162 16.491a2.992 2.992 0 0 0-2.991 2.991c0 1.646 1.357 2.99 3.015 2.99 1.684 0 3.064-1.366 3.064-3.038V16.49H8.162Zm0-7.482a2.991 2.991 0 1 0 0 5.981h3.088V9.01H8.162Zm7.58 0a2.992 2.992 0 0 0 0 5.981h.096a2.99 2.99 0 1 0 0-5.981h-.097Zm-7.58-7.482a2.992 2.992 0 0 0 0 5.982h3.088V1.527H8.162ZM12.75 7.51h3.088a2.99 2.99 0 1 0 0-5.982H12.75V7.51Z",clipRule:"evenodd"})}))}var N=t(22440),O=t(38848),P=t(85801),F=t(26796),U=t(53673),L=[w.wp.border({color:g.LU.outlineDimmer}),w.wp.borderRadius("container"),w.wp.overflow("hidden"),{cursor:"default",userSelect:"none"}],M=(0,b.x)({container:L,containerDisabled:(0,i._)(L).concat([{cursor:"default",userSelect:"none",pointerEvents:"none",opacity:.5}]),header:[w.wp.width("100%"),{height:24}],faviconContainer:[{width:16,height:16,borderRadius:4,backgroundColor:g.LU.interactiveBackground}],favicon:[{width:12,height:12}],urlText:[w.wp.truncate,w.wp.maxWidth(2*h.cU-20),{fontSize:g.LU.fontSizeSmall}],option:[w.wp.reset.button,w.wp.align.center,w.wp.justify.center,w.wp.colWithGap(4),w.wp.p(4),w.wp.borderRadius("container"),w.wp.border({color:g.LU.outlineDefault}),w.wp.width(h.cU),w.wp.height(h.Mw),w.wp.cursor.pointer,{transition:"background-color 0.2s ease, color 0.2s ease",":not(:disabled):hover":{backgroundColor:g.LU.interactiveBackgroundActive},":not(:disabled):hover .option-text":{color:g.LU.foregroundDefault},":not(:disabled):hover .option-icon":{color:g.LU.foregroundDefault},":disabled":{cursor:"default"}}],loadingOption:[w.wp.align.center,w.wp.justify.center,w.wp.p(8),w.wp.borderRadius("container"),w.wp.width(h.cU),w.wp.height(h.Mw),y.S.backgroundPulse(g.LU.backgroundHighest,g.LU.backgroundHigher)],icon:[{color:g.LU.foregroundDimmer,transition:"color 0.2s ease"}],errorIcon:[{color:g.LU.accentNegativeDefault,transition:"color 0.2s ease"}],successIcon:[{color:g.LU.accentPositiveDefault,transition:"color 0.2s ease"}],optionText:[w.wp.textAlign.center,{lineHeight:"1.3"}]});function J(e){var n=e.source,t=e.url,i=e.addUrlAttachment,u=e.removeUrlAttachment,b=e.onError,y=e.isDisabled,w=t.replace(/^https?:\/\//,""),E=(0,c.dI)(),T=(0,a._)((0,l.useState)(!1),2),D=T[0],I=T[1],R=(0,a._)((0,l.useState)(!1),2),U=R[0],L=R[1],J=(0,a._)((0,l.useState)(null),2),H=J[0],$=J[1],G=(0,a._)((0,l.useState)(null),2),z=G[0],W=G[1],j=(0,a._)((0,l.useState)(null),2),q=j[0],Z=j[1],K=(0,a._)((0,l.useState)(null),2),Q=K[0],X=K[1],ee=(0,a._)((0,l.useState)(!1),2),en=ee[0],et=ee[1],er=(0,l.useRef)(null),ea=(0,l.useMemo)(function(){try{var e=t.trim();return/^[a-zA-Z][a-zA-Z\d+\-.]*:\/\//.test(e)||(e="http://"+e),new URL(e).origin+"/"}catch(e){return null}},[t]),ei=(0,p.BU)(),eo=(0,l.useMemo)(function(){return(0,f.uQ)(t)[0]},[t]),es=function(e){Z(e),b(e)},el=function(e){X(e),b(e)};return(0,l.useEffect)(function(){if(er.current){var e=er.current,n=e.offsetWidth;et(e.scrollWidth>n)}},[w]),(0,s.FD)(A.ui,{elevated:!0,css:y?M.containerDisabled:M.container,children:[(0,s.FD)(A.ui,{row:!0,gap:8,align:"center",css:M.header,px:8,py:0,elevated:!0,children:[ea?(0,s.Y)(Y.S,{css:M.faviconContainer,align:"center",justify:"center",children:(0,s.Y)("img",{css:M.favicon,src:"https://www.google.com/s2/favicons?domain=".concat(ea,"&sz=32"),alt:w})}):(0,s.Y)(N.A,{color:g.LU.foregroundDimmest,size:16}),ei&&eo?(0,s.Y)(Y.S,{children:(0,s.FD)(Y.S,{gap:4,row:!0,align:"center",children:[(0,s.Y)(k.EY,{multiline:!1,ref:er,children:"Figma design"}),ei&&eo&&"workspace"===n?(0,s.Y)(S.a,{text:"Beta",colorway:"primary",compact:!0}):null]})}):(0,s.Y)(C.m_,{tooltip:t,isDisabled:!en,placement:"top",children:(0,s.Y)(k.EY,{multiline:!1,css:M.urlText,ref:er,children:w})})]}),(0,s.FD)(Y.S,{row:!0,gap:8,px:8,py:6,justify:"space-between",children:[ei&&eo?null:(0,s.FD)(s.FK,{children:[H?(0,s.Y)(h.m1,{attachment:H,getAttachmentTypeDisclaimer:(0,m.F)({aiName:(0,d.Nn)({capitalizeFirstChar:!0})}),removeAttachment:function(){u(H.path),$(null)},size:"small"},H.path):D?(0,s.Y)(Y.S,{css:M.loadingOption,children:(0,s.FD)(k.EY,{color:"dimmer",variant:"small",css:M.optionText,children:["Taking ",(0,s.Y)("br",{})," screenshot..."]})}):(0,s.Y)(C.m_,{tooltip:q,isDisabled:!q,placement:"top",children:(0,s.FD)(_.SC,{css:M.option,onPress:function(){return(0,r._)(function(){var e,n,r,a,s,l;return(0,o.YH)(this,function(o){switch(o.label){case 0:I(!0),Z(null),e="screenshot-".concat(Date.now(),".png"),n=(0,v.Vg)(e),o.label=1;case 1:return o.trys.push([1,7,8,9]),i({url:t,file:{path:n,mimeType:"image/png",file:new File([],e,{type:"image/png"}),isLoading:!0}}),[4,E.getUrlScreenshot(t)];case 2:if(!(r=o.sent()).ok)return[3,5];return[4,fetch(r.payload)];case 3:if(!(a=o.sent()).ok)throw Error("Failed to fetch image: ".concat(a.status," ").concat(a.statusText));return[4,a.blob()];case 4:return s=new File([o.sent()],e,{type:"image/png"}),i({url:t,file:l={path:n,mimeType:"image/png",file:s,isLoading:!1}}),$(l),[3,6];case 5:es("Failed to take screenshot. Check the URL or try again later."),o.label=6;case 6:return[3,9];case 7:return o.sent(),es("Error taking screenshot. Please try again later."),[3,9];case 8:return I(!1),[7];case 9:return[2]}})})()},isDisabled:y,children:[q?(0,s.Y)(F.A,{css:M.errorIcon,className:"option-icon",size:16}):(0,s.Y)(O.A,{css:M.icon,className:"option-icon",size:16}),(0,s.Y)(k.EY,{color:"dimmer",variant:"small",css:M.optionText,className:"option-text",children:"Take screenshot"})]})}),z?(0,s.Y)(h.m1,{attachment:z,getAttachmentTypeDisclaimer:(0,m.F)({aiName:(0,d.Nn)({capitalizeFirstChar:!0})}),removeAttachment:function(){u(z.path),W(null)},size:"small"},z.path):U?(0,s.Y)(Y.S,{css:M.loadingOption,children:(0,s.FD)(k.EY,{color:"dimmer",variant:"small",css:M.optionText,children:["Getting ",(0,s.Y)("br",{})," content..."]})}):(0,s.Y)(C.m_,{tooltip:Q,isDisabled:!Q,placement:"top",children:(0,s.FD)(_.SC,{css:M.option,onPress:function(){return(0,r._)(function(){var e,n,r,a,s;return(0,o.YH)(this,function(o){switch(o.label){case 0:L(!0),X(null),e="content-".concat(Date.now(),".md"),n=(0,v.Vg)(e),o.label=1;case 1:return o.trys.push([1,3,4,5]),i({url:t,file:{path:n,mimeType:"text/markdown",file:new File([],e,{type:"text/markdown"}),isLoading:!0}}),[4,E.getUrlScrapedContent(t)];case 2:return(r=o.sent()).ok?(a=new File([new Blob([r.payload],{type:"text/markdown"})],e,{type:"text/markdown"}),i({url:t,file:s={path:n,mimeType:"text/markdown",file:a,isLoading:!1}}),W(s)):el("Failed to get content. Check the URL or try again later."),[3,5];case 3:return o.sent(),el("Error getting text content. Please try again later."),[3,5];case 4:return L(!1),[7];case 5:return[2]}})})()},isDisabled:y,children:[Q?(0,s.Y)(F.A,{css:M.errorIcon,className:"option-icon",size:16}):(0,s.Y)(x.A,{css:M.icon,className:"option-icon",size:16}),(0,s.Y)(k.EY,{color:"dimmer",variant:"small",css:M.optionText,className:"option-text",children:"Get text content"})]})})]}),ei?(0,s.Y)(V,{url:t}):(0,s.Y)(B,{url:t})]}),ei&&eo&&"workspace"===n?(0,s.FD)(Y.S,{row:!0,gap:2,px:8,align:"center",style:{marginTop:-4,marginBottom:2,opacity:.5},children:[(0,s.Y)(P.A,{size:12,color:g.LU.foregroundDimmer}),(0,s.Y)(k.EY,{multiline:!1,style:{fontSize:10},children:"Available for Dev/Full Figma seats"})]}):null]})}var H=[w.wp.viewStyle,M.option];function B(e){var n=e.url;if(!(0,a._)((0,f.uQ)(n),1)[0])return null;var t=encodeURIComponent(n);return(0,s.FD)(u.N,{css:H,href:"/import/figma?figmaUrl=".concat(t),target:"_blank",children:[(0,s.Y)(R,{css:M.icon,className:"option-icon",size:16}),(0,s.Y)(k.EY,{color:"dimmer",variant:"small",css:M.optionText,className:"option-text",children:"Figma import"})]})}function V(e){var n=e.url,t=(0,p.sB)(),r=t.showFigmaAuthModal,i=t.isFigmaAuthenticated,o=t.isLoadingFigmaAuthentication;if(!(0,a._)((0,f.uQ)(n),1)[0])return null;var l={state:"unauthenticated",title:"Login with Figma",tooltip:"Login with Figma to import",icon:(0,s.Y)(U.A,{css:M.icon,className:"option-icon",size:16}),isDisabled:!1,onPress:function(){r({surface:"figma_attachment_card",trigger:"login_button_clicked"})}};return i&&(l={state:"authenticated",title:"Connected",tooltip:"You are connected to Figma",icon:(0,s.Y)(E.A,{css:M.successIcon,className:"option-icon",size:16}),isDisabled:!0}),(0,s.FD)(s.FK,{children:[(0,s.Y)(C.m_,{tooltip:o?"Checking if you are authenticated with Figma":l.tooltip,placement:"top",children:o?(0,s.Y)(Y.S,{css:M.loadingOption,children:(0,s.FD)(k.EY,{color:"dimmer",variant:"small",css:M.optionText,children:["Checking ",(0,s.Y)("br",{})," connection..."]})}):(0,s.FD)(_.SC,{css:H,onPress:l.onPress,isDisabled:l.isDisabled,children:[l.icon,(0,s.Y)(k.EY,{color:"dimmer",variant:"small",css:M.optionText,className:"option-text",children:l.title})]})}),(0,s.FD)(u.N,{css:H,href:n,target:"_blank",rel:"noopener noreferrer",children:[(0,s.Y)(R,{css:M.icon,className:"option-icon",size:16}),(0,s.Y)(k.EY,{color:"dimmer",variant:"small",css:M.optionText,className:"option-text",children:"View in Figma"})]})]})}},85916:(e,n,t)=>{"use strict";t.d(n,{A:()=>p});var r=t(34837),a=t(40185),i=t(21462),o=t(63949),s=t(32659),l=t(86103),u=t(26279),c=t(95043),d=t(14385);function f(e,n){return!!e&&("ReplRedirect"===e.__typename||"ReplSubscriptionExpired"===e.__typename||!e.authorizations.editFileContents.isAuthorized||!(0,u.Rq)(n.query.skipNixMigration,"boolean")&&(0,s.A)(e))}function p(e){var n=(0,a.useRouter)(),t=(0,l._P)({controlName:"flag-migrate-html"}),s=(0,o.F)({variables:{replId:e.replId},fetchPolicy:"no-cache",ssr:!1}).data,u=(null==s?void 0:s.getRepl)&&("Repl"===s.getRepl.__typename||"ReplRedirect"===s.getRepl.__typename||"ReplSubscriptionExpired"===s.getRepl.__typename)?s.getRepl:null;if((0,i.useEffect)(function(){if(u&&f(u,n)){if("ReplSubscriptionExpired"===u.__typename){var e,t,r=u.replId,a=u.isOwner,i=null==(e=n.query.replUrl)?void 0:e.toString(),o=null!=(t=null==i?void 0:i.split("/")[1].slice(1))?t:"",s=n.asPath.indexOf("#"),l=s<0?n.asPath:n.asPath.slice(0,s);n.replace({pathname:"/expiredPrivateRepl",query:{isOwner:a,ownerUsername:o,replId:r}},l);return}if("ReplRedirect"===u.__typename){window.location.href=u.replUrl;return}if(!u.authorizations.editFileContents.isAuthorized){var c=(0,d.z9)(u),p=c.href,h=c.as;n.replace(p,h);return}window.location.reload()}},[u,n,t]),f(u,n)){var p="";return"ReplRedirect"===u.__typename?p="Repl moved, redirecting":"ReplSubscriptionExpired"===u.__typename?p="Subscription expired, redirecting":u.authorizations.editFileContents.isAuthorized&&(p="Your Repl requires an upgrade, please wait"),(0,r.Y)(c.A,{reason:p})}return null}},86057:(e,n,t)=>{"use strict";t.d(n,{P:()=>x,H:()=>T});var r=t(29935),a=t(82643),i=t(21462),o=t(86035),s=t(80719),l=t(17459),u=t(12694),c=t(86105),d=t(47888),f=["package-lock.json","yarn.lock","poetry.lock","replit.nix",".breakpoints"],p=[".out",".pkl",".bin",".csv",".log",".zip",".tar",".gz"],h=["node_modules",".config","venv",".next",".git"],m=t(63806),v=t(59270),g=t(36163),b=t(95793),y=t(10788),w=d.X(o.z91);function _(e){return!(!(0,v.m6)(e)||function(e){if("Dockerfile"===e.split("/").pop())return!1;var n=(0,v.an)(e),t=f.some(function(n){return e.endsWith(n)}),r=p.some(function(n){return e.endsWith(n)}),a=h.some(function(n){return e.split("/").some(function(e){return e===n})});return!n||t||r||a}(e))}var S=t(41897),A=t(20907),k=t(41390),C=t(40115),Y=t(65242),E=t(843);function x(e,n){var t,d,f,p,h=(d=(t=(0,s.so)()).basicModel,f=t.advancedModel,p=t.overrideModel,(0,i.useCallback)(function(e){var n=e.modelType,t=d;return p?t=p:n===o.e3q.ADVANCED&&(t=f),t},[f,d,p])),S=(0,Y.Zo)({context:"agent"}).element,C=null==S?void 0:S.filePath;return(0,i.useCallback)(function(t){var i=t.modelType,s=t.filePreferences,d=t.recentFiles;return(0,r._)(function(){var t,f;return(0,a.YH)(this,function(p){switch(p.label){case 0:return[4,n.getConfig()];case 1:var S;return f=((null==(t=p.sent().config)?void 0:t.hidden)||[]).map(function(e){return(0,A.tL)(e)}).filter(Boolean),[2,(S={model:h({modelType:i}),filePreferences:s,filter:function(e){return!(0,k.Mo)(e,f)},recentFiles:d,targetedElementFile:C,entrypoint:(null==t?void 0:t.entrypoint)||void 0,fs:e},(0,r._)(function(){var e,n,t,i,s,d,f,p,h,A,k,C,Y,E,x,T,D,I,R,N,O,P,F,U,L,M,J,H,B,V,$,G,z,W,j,q,Z,K,Q,X,ee,en,et,er,ea,ei,eo,es,el,eu,ec,ed,ef,ep,eh,em;return(0,a.YH)(this,function(ev){switch(ev.label){case 0:e=S.filter,n=S.filePreferences,t=S.entrypoint,i=S.model,s=S.fs,d=S.targetedElementFile,f=(0,l._)(S,["filter","filePreferences","entrypoint","model","fs","targetedElementFile"]),p=i.limits.fileContextCharacters,h=[],A=[],k=new Set,C=!0,Y=!1,E=void 0;try{for(x=n[Symbol.iterator]();!(C=(T=x.next()).done);C=!0){if(I=(D=(0,u._)(T.value,2))[0],R=D[1],"exclude"===R){h.push(I);continue}if(!_(I)){k.add(I);continue}A.push(I)}}catch(e){Y=!0,E=e}finally{try{C||null==x.return||x.return()}finally{if(Y)throw E}}N=[],O=!0,P=!1,F=void 0;try{for(U=f.recentFiles[Symbol.iterator]();!(O=(L=U.next()).done)&&((M=L.value,!(!h.includes(M)&&_(M)&&e(M)))||A.includes(M)||(N.push(M),3!==N.length));O=!0);}catch(e){P=!0,F=e}finally{try{O||null==U.return||U.return()}finally{if(P)throw F}}if(J=(0,c._)(A).concat((0,c._)(N)),d&&_(d)&&J.unshift(d),!(t&&J.length<10))return[3,2];return B=""===(H=(0,v._6)(t))?g.Dl:H,[4,s.readDir(B)];case 1:if(!(V=ev.sent()).error){$=0,G=!0,z=!1,W=void 0;try{for(j=V.children[Symbol.iterator]();!(G=(q=j.next()).done)&&((Z=q.value,K=B===g.Dl?Z.filename:B+Z.filename,!(!h.includes(K)&&_(K)&&e(K)))||J.includes(K)||(J.push(K),1!=++$));G=!0);}catch(e){z=!0,W=e}finally{try{G||null==j.return||j.return()}finally{if(z)throw W}}}ev.label=2;case 2:return b.vF.info("AI got file context",{numRecentFiles:N.length,numPreferredFiles:A.length,maxFiles:10}),Q=J.slice(0,10),X=J.slice(10),[4,Promise.all(Q.map(function(e){return(0,r._)(function(){var n;return(0,a.YH)(this,function(t){return n=new Promise(function(e){return setTimeout(e,5e3)}),[2,Promise.race([Promise.all([s.readFile(e),function(){try{return s.getOTVersion(e)}catch(e){}return 0}()]),n])]})})()}))];case 3:for(ea=0,ee=ev.sent(),en=p,et=[],er=[];ea<Q.length;ea++){if(ei=Q[ea],!(eo=ee[ea])){b.vF.info("AI file read timeout",{filePath:ei});continue}if(el=(es=(0,u._)(eo,2))[0],eu=es[1],el.error){b.vF.info("AI failed to read file",{filePath:ei});continue}if((0,y.A)(el.content.toBuffer())){b.vF.info("GhostwriterChat filtered out binary file",{filePath:ei});continue}if(en<=0){X.push(ei);continue}if(ed=(ec=el.content.toString()).slice(0,en),ef=ec.length>ed.length,em=null!=(eh=null==(ep=m.Jh.from(ei))?void 0:ep.id)?eh:(0,v.an)(ei),ef){et.push(ei);continue}en-=ed.length,er.push({filePath:ei,fileContent:ed,fileVersion:eu,language:em,referenceType:o.fDX.FILE,code:"",range:w})}return[2,{fileContext:er,preferredFiles:A,mostRecentFile:N.length?N[0]:void 0,truncatedFiles:et,overflowingFiles:X,unsupportedPreferredFiles:k}]}})})())]}})})()},[e,n,h,C])}function T(){var e=(0,C.A)(),n=e.fs,t=e.dotReplit,r="advanced"===(0,s.k)().assistantInlineMode?o.e3q.ADVANCED:o.e3q.BASIC,a=(0,S.Vg)(),l=x(n,t),u=(0,E.Sx)();return(0,i.useCallback)(function(){return l({modelType:r,filePreferences:a(),recentFiles:u()})},[a,u,l,r])}},86064:(e,n,t)=>{"use strict";t.d(n,{A:()=>dI});var r,a,i,o,s,l,u,c,d,f,p=t(34837),h=t(21462),m=t(86035),v=t(80719),g=t(12694),b=t(86105),y=t(96907),w=t.n(y),_=t(6268),S=t(30375),A=t(51979),k=t(25189),C=t(90402),Y=t(70764),E=t(18712),x=t(25227),T=t(17844),D=t(93629),I=t(25590);function R(e){return(0,p.Y)(I.Ay,(0,D._)((0,T._)({},e),{children:(0,p.Y)("path",{fillRule:"evenodd",d:"M9.53 3.47a.75.75 0 0 0-1.06 0l-5 5a.75.75 0 0 0 0 1.06l5 5a.75.75 0 0 0 1.06-1.06L5.81 9.75H16A3.25 3.25 0 0 1 19.25 13v7a.75.75 0 0 0 1.5 0v-7A4.75 4.75 0 0 0 16 8.25H5.81l3.72-3.72a.75.75 0 0 0 0-1.06Z",clipRule:"evenodd"})}))}function N(e){return(0,p.Y)(I.Ay,(0,D._)((0,T._)({},e),{children:(0,p.Y)("path",{fillRule:"evenodd",d:"M14.47 3.47a.75.75 0 0 1 1.06 0l5 5a.75.75 0 0 1 0 1.06l-5 5a.75.75 0 1 1-1.06-1.06l3.72-3.72H8A3.25 3.25 0 0 0 4.75 13v7a.75.75 0 0 1-1.5 0v-7A4.75 4.75 0 0 1 8 8.25h10.19l-3.72-3.72a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}))}var O=(0,Y.x)({root:[E.wp.height(48),E.wp.backgroundColor.backgroundRoot,E.wp.display.flex,E.wp.justify.spaceBetween,E.wp.align.stretch,{fontFamily:"Monaco, Menlo, 'Ubuntu Mono', Consolas, source-code-pro, monospace",button:[E.wp.color.foregroundDefault,E.wp.fontSize(16),E.wp.flex.growAndShrink(1),{padding:"10px",fontFamily:"inherit",backgroundColor:"transparent",border:"0 none",flexBasis:"auto"}]}],fixedContainer:[E.wp.position.fixed,E.wp.width("100%"),E.wp.zIndex(100),E.wp.left(0)]}),P=function(e){var n=e.buttons,t=e.onClick,r=e.onUndo,a=e.onRedo;return(0,p.FD)("nav",{css:O.root,children:[n.map(function(e){return(0,p.Y)("button",{onClick:function(n){n.stopPropagation(),n.preventDefault(),t(e)},children:void 0!==e.label?e.label:e.value},e.value)}),(0,p.Y)("button",{onClick:function(e){e.stopPropagation(),e.preventDefault(),r()},children:(0,p.Y)(R,{})}),(0,p.Y)("button",{onClick:function(e){e.stopPropagation(),e.preventDefault(),a()},children:(0,p.Y)(N,{})})]})},F=[{value:"{}",cursorOffset:1},{value:"()",cursorOffset:1},{value:'""',cursorOffset:1}],U=function(e){var n=e.path,t=(0,b._)(F).concat([{value:"= ",cursorOffset:2}]);return n.endsWith(".html")&&(t.unshift({value:"<>",cursorOffset:1}),t.unshift({label:"div",value:"<div></div>",cursorOffset:5})),t},L="visualViewport"in window;function M(e){var n=e.filePath,t=e.isLoading,r=(0,C.fZ)(),a=(0,S.a)({tablet:!1}),i=(0,k.jl)(),o=(0,A.A)();(0,h.useEffect)(function(){o&&r&&r.requestMeasure({read:function(){return{cursor:r.coordsAtPos(r.state.selection.main.head),scroller:r.scrollDOM.getBoundingClientRect()}},write:function(e){var n=e.cursor,t=e.scroller;if(n){var a=(n.top+n.bottom)/2,o=(t.top+t.bottom)/2;Math.abs(a-o)>5&&(r.scrollDOM.scrollTop+=a-o+50*!!i)}}})},[o,r,i]);var s=(0,g._)((0,h.useState)(0),2),l=s[0],u=s[1];if((0,h.useEffect)(function(){if(i){var e=window.visualViewport;if(L&&e){var n=w()(function(){u(window.innerHeight-e.height-e.offsetTop)},100);return e.addEventListener("scroll",n),e.addEventListener("resize",n),function(){e.removeEventListener("scroll",n),e.removeEventListener("resize",n)}}}},[i]),!o||t||!a)return null;var c=(0,p.Y)(P,{onUndo:function(){r&&((0,_.tN)(r),r.focus())},onRedo:function(){r&&((0,_.ZS)(r),r.focus())},onClick:function(e){if(r){var n,t=null!=(n=r.state.selection.ranges[0].from)?n:0;r.dispatch({changes:{from:t,insert:e.value},selection:{anchor:t+e.cursorOffset}}),r.focus()}},buttons:U({path:n})});return!i||L?(0,p.Y)(x.S,{css:O.fixedContainer,style:{bottom:l},children:c}):c}var J=t(80947),H=t(29935),B=t(82643),V=t(45773),$=t(59911),G=t(74309),z=new G.k(function(e){return e?V.Lz.domEventObservers({keydown:function(e,n){(0,$.A)(n,{message:"Editing is disabled while the agent is working",offset:n.state.selection.main.from,ignoreKeydown:!0})}}):null}),W=t(37606),j=t(37743),q=t(64678),Z=t.n(q),K=t(49069),Q=t(68488),X=t(39534),ee="".concat('url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"><circle cx="10" cy="10" r="10" fill="black" /></svg>\')',", linear-gradient(transparent, transparent)"),en="".concat('url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" d="M2.5 10H15.5M15.5 10L9.5 5M15.5 10L9.5 15M18 4V16"/></svg>\')',", linear-gradient(transparent, transparent)"),et=V.Lz.theme({".cm-vws-space":{backgroundColor:X.LU.foregroundDimmest,maskImage:ee,maskSize:"0.375ch",maskPosition:"center",maskRepeat:"no-repeat","-webkit-mask-image":ee,"-webkit-mask-size":"0.375ch","-webkit-mask-position":"center","-webkit-mask-repeat":"no-repeat","&.cm-vws-leading":{opacity:.325},"&.cm-vws-enclosed":{opacity:.5},"&.cm-vws-trailing":{opacity:.5},"&.cm-vws-selected":{opacity:.75}},".cm-vws-tab":{backgroundColor:X.LU.foregroundDimmest,maskImage:en,maskSize:"1.75ch 1.75ch",maskPosition:"center",maskRepeat:"no-repeat","-webkit-mask-image":en,"-webkit-mask-size":"1.75ch 1.75ch","-webkit-mask-position":"center","-webkit-mask-repeat":"no-repeat","&.cm-vws-leading":{opacity:.325,maskPosition:"left min(95%, 0.25ch) top 50%","-webkit-mask-position":"left min(95%, 0.25ch) top 50%"},"&.cm-vws-enclosed, &.cm-vws-trailing":{opacity:.5,maskPosition:"calc(50% - 0.25ch) 50%","-webkit-mask-position":"calc(50% - 0.25ch) 50%"},"&.cm-vws-selected":{opacity:.75}}}),er=Z()(function(e,n,t){var r="cm-vws-".concat(" "===e?"space":"tab"," cm-vws-").concat(n).concat(t?" cm-vws-selected":"");return V.NZ.mark({class:r})},function(e,n,t){return"".concat(e,"-").concat(n,"-").concat(t)});function ea(e,n,t){var r=e.facet(es);if(!r.leading&&!r.enclosed&&!r.trailing&&!r.selected)return[];for(var a=[],i=e.doc.lineAt(n),o=e.doc.lineAt(t),s=i.number;s<=o.number;s++)!function(i){var o=e.doc.line(i),s=o.text.length;if(0===s)return;var l=0===o.text.trim().length,u=!!r.selected&&e.selection.ranges.some(function(e){return!e.empty&&e.from<o.to&&e.to>=o.from});if(r.leading||r.enclosed||r.trailing||u){if(l){if(r.leading||r.trailing||u)for(var c=0;c<s;c++)!function(i){var s=o.text[i],l=o.from+i;if(!(l<n)&&!(l>=t)&&(" "===s||"	"===s)){var c=u&&e.selection.ranges.some(function(e){return e.from<=l&&e.to>l});(r.leading||r.trailing||c)&&a.push(er(s,"trailing",c).range(l,l+1))}}(c);return}for(var d=s-o.text.trimStart().length,f=o.text.trim().length,p=0;p<s;p++)!function(i){var s=o.text[i],l=o.from+i;if(!(l<n)&&!(l>=t)&&(" "===s||"	"===s)){var c=void 0;c=i>=d+f?"trailing":i>d?"enclosed":"leading";var p=u&&e.selection.ranges.some(function(e){return e.from<=l&&e.to>l});(r[c]||p)&&a.push(er(s,c,p).range(l,l+1))}}(p)}}(s);return a}var ei=function(){function e(n){(0,j._)(this,e),this.decorations=V.NZ.set(ea(n.state,0,n.state.doc.length))}return e.prototype.update=function(e){if((0,Q.$H)(e,es)){this.decorations=V.NZ.set(ea(e.state,0,e.state.doc.length));return}var n=e.state.facet(es);if(e.docChanged||e.selectionSet&&n.selected){var t=this.decorations,r=null,a=null;if(e.selectionSet&&n.selected){var i=e.startState.selection.ranges.filter(function(e){return!e.empty}),o=(0,b._)(e.state.selection.ranges).concat((0,b._)(e.startState.selection.map(e.changes).ranges)).filter(function(e){return!e.empty});i.length&&(r=K.OF.create(i)),o.length&&(a=K.OF.create(o))}if(e.docChanged&&e.changes.iterChangedRanges(function(n,t,i,o){var s=K.OF.range(e.startState.doc.lineAt(n).from,e.startState.doc.lineAt(t).to);r=r?r.addRange(s):K.OF.create([s]);var l=K.OF.range(e.state.doc.lineAt(i).from,e.state.doc.lineAt(o).to);a=a?a.addRange(l):K.OF.create([l])}),r){var s=r.ranges;t=t.update({filter:function(e,n){return!s.some(function(t){return t.from<=e&&t.to>=n})},filterFrom:s[0].from,filterTo:s[s.length-1].to})}e.docChanged&&(t=t.map(e.changes)),a&&(t=t.update({add:a.ranges.map(function(n){return ea(e.state,n.from,n.to)}).flat()})),this.decorations=t}},e}(),eo=V.Z9.fromClass(ei,{decorations:function(e){return e.decorations}}),es=K.sj.define({combine:function(e){var n;return null!=(n=e[0])?n:{}},enables:[et,K.Nb.highest(eo)]}),el=new G.k(function(e,n,t,r){return e||n||t||r?es.of({leading:e,enclosed:n,trailing:t,selected:r}):null}),eu=t(6566),ec=t(4888),ed=t(14603),ef=t(63806),ep=t(73920),eh=t(47112),em=t(26737),ev=t(12403),eg=t(41118),eb=t(33795),ey=t(84184),ew=t(64706);function e_(e){var n=(0,g._)((0,h.useState)(null),2),t=n[0],r=n[1];return(0,h.useEffect)(function(){var n=function(){r((0,eg.z)(e.map(function(e){return(0,eg.A)(e)})))};return n(),(0,ew.xW)(e.map(function(e){return e.onServerCapabilitiesChange(function(){return n()})}))},[e]),t}var eS=t(40115),eA=new G.k(function(e,n,t,r,a,i){return e?e.formatters.map(function(e){var o;if(2===(o=e.id.split("/")).length&&o[1].includes("languageServer")){var s,l,u,c,d=t.find(function(n){return n.clientId===e.id});return d?(s=i,l=d,u=r,c=a,l&&l.isSupportedFile(s)&&u&&u.isFormatSupported&&(0,eg.A)(l).isFormatSupported&&c?ec.fC.of({format:function(e,n,t){return(0,H._)(function(){return(0,B.YH)(this,function(r){return[2,(n?l.request.formatRange(s,(0,ed.fj)(e,n),t):l.request.format(s,t)).then(function(n){return"error"in n||n.cancelled?{error:!0}:n.result?{result:(0,eb.A)(n.result,e.toString())}:{result:K.VR.empty(e.length)}})]})})()},supportsRangeFormatting:(0,eg.A)(l).isFormatRangeSupported,identifier:l.clientId,name:l.clientName}):[]):[]}return(0,ef.fu)(i,e)?ec.fC.of({format:function(t,r,a){return(0,H._)(function(){var o,s,l,u,c;return(0,B.YH)(this,function(d){switch(d.label){case 0:if(!e.startCommand)throw Error("Expected formatter command");return o=(0,eh.A)({container:n}),(s=(0,b._)(e.startCommand.args)).push("-f",i),r&&(s.push("--range-start",String(r.main.from)),s.push("--range-end",String(r.main.to))),s.push("--tab-size",String(a.tabSize)),a.insertSpaces&&s.push("--insert-spaces"),a.trimFinalNewlines&&s.push("--trim-final-newlines"),a.trimTrailingWhitespace&&s.push("--trim-trailing-whitespace"),a.insertFinalNewline&&s.push("--insert-final-newline"),e.startCommand.lifecycle===ep.api.Exec.Lifecycle.STDIN&&s.push("--stdin"),l="",u="",c=[o.onOutput(function(e){return l+=e}),o.onStderr(function(e){return u+=e}),o.dispose],[4,o.request((0,D._)((0,T._)({},e.startCommand),{args:s,lifecycle:ep.api.Exec.Lifecycle.STDIN,stdin:t.toString()})).then(function(e){var n=e.error;return c.forEach(function(e){return e()}),n?{error:!0,message:u}:{result:l}})];case 1:return[2,d.sent()]}})})()},supportsRangeFormatting:e.supportsRangeFormatting,identifier:e.id,name:e.name}):null}).filter(Boolean):null}),ek=t(31334),eC=t(90629);function eY(e){return JSON.stringify({text:e})+"\n"}var eE=function(){function e(){(0,j._)(this,e),this.list=[]}var n=e.prototype;return n.add=function(e,n,t){this.list.push({prefix:e,suggestion:n,tokens:t}),this.list.length>25&&this.list.pop(),this.list.sort(function(e,n){return n.suggestion.length-e.suggestion.length})},n.retrieve=function(e,n){for(var t=0;t<this.list.length;t++){var r=this.list[t],a=r.prefix,i=r.suggestion,o=r.tokens;if(2*o<n)continue;if(e===a)return eY(i);if(a.length>e.length||a.length+i.length<=e.length||2*Math.floor((a.length+i.length-e.length)/(i.length/o))<n)continue;var s=i.lastIndexOf("\n");if(-1===s||!(s<=e.length-a.length)){var l=a+i;if(l.startsWith(e)){var u=l.slice(e.length);if(u.trim().length)return eY(u)}}}return null},e}(),ex=t(40247),eT=t(53847),eD=t(9066),eI=K.sj.define({combine:function(e){var n=e.filter(Boolean);return{onDismiss:function(e){return n.forEach(function(n){var t;return null==(t=n.onDismiss)?void 0:t.call(n,e)})},onRequestIgnoredBackendOnly:function(e){return n.forEach(function(n){var t;return null==(t=n.onRequestIgnoredBackendOnly)?void 0:t.call(n,e)})},onRequestFirstEmit:function(e){return n.forEach(function(n){var t;return null==(t=n.onRequestFirstEmit)?void 0:t.call(n,e)})},onRequestEndedWithNoSuggestion:function(e){return n.forEach(function(n){var t;return null==(t=n.onRequestEndedWithNoSuggestion)?void 0:t.call(n,e)})},onRequestCompletelyPresented:function(e){return n.forEach(function(n){var t;return null==(t=n.onRequestCompletelyPresented)?void 0:t.call(n,e)})},onSuggestionExplicitlyDismissed:function(e,t){return n.forEach(function(n){var r;return null==(r=n.onSuggestionExplicitlyDismissed)?void 0:r.call(n,e,t)})},onSuggestionAccepted:function(e,t){return n.forEach(function(n){var r;return null==(r=n.onSuggestionAccepted)?void 0:r.call(n,e,t)})}}}}),eR=t(71466),eN=t(87777),eO=t(85361),eP=t(69379),eF=function(e){var n=e.state.field(eR.RJ,!1),t=e.state.facet(eI);if(!(null==n?void 0:n.presented)||Date.now()-n.timestamp<150)return!1;var r=e.state.selection.main.head,a=e.state.doc.lineAt(r);if(r<=a.from+a.length-a.text.trimStart().length){var i=n.changes.closestRange(r);if((0,eT._)(i.value,eO.kp)){var o=i.value.unfulfilled.toString(),s=(0,eP.t)(o,e.state.tabSize);if(s>0&&s>=e.state.tabSize)return!1}}var l=n.changes.asChangeSpec(),u=e.state.changes(l),c=n.changes.extendSelection(e.state.selection);return(0,eD.N)(e),e.dispatch({changes:u,selection:c,scrollIntoView:!0,effects:eR.xq.of(n.dismiss(eR.UW.ACCEPTED_BY_USER)),annotations:[eN.A.of(!0),_._B.of("full")]}),t.onSuggestionAccepted(e,n),!0},eU=function(e){var n=e.state.field(eR.RJ,!1),t=e.state.facet(eI);return!!(null==n?void 0:n.presented)&&(e.dispatch({effects:eR.xq.of(n.dismiss(eR.UW.DISMISSED_BY_USER))}),t.onSuggestionExplicitlyDismissed(e,n),!0)},eL=K.sj.define({combine:function(e){var n;return null!=(n=e.filter(Boolean)[0])?n:null}}),eM=t(79301),eJ=t(75028),eH=K.sU.define({create:function(){return null},update:function(e,n){if(n.annotation(eN.A)||!n.state.field(eR.RJ).stopped)return null;if(!n.docChanged&&!n.selection)return e;var t=n.newDoc,r=n.newSelection.main.head;return n.annotation(K.ZX.remote)?null!==e&&(0,eM.Ph)(t,r)&&(0,eM.$s)(t,r)?e:null:n.selection&&n.isUserEvent("select")?(0,eM.Ph)(t,r)&&(0,eM.$s)(t,r)?Date.now():null:n.docChanged&&null!==e?(0,eM.Ph)(t,r)&&(0,eM.$s)(t,r)?e:null:e}}),eB=function(){function e(n){(0,j._)(this,e),this.view=n,this.timeout=null}var n=e.prototype;return n.update=function(e){var n=this,t=e.startState.field(eH),r=e.state.field(eH);t!==r&&(null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null),null!==r&&(this.timeout=setTimeout(function(){n.timeout=null,n.view.dispatch({effects:[eJ.hB.of(eJ.l9.NOW)]})},2500)))},n.destroy=function(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},e}(),eV=V.Z9.fromClass(eB,{provide:function(){return eH}}),e$=t(48122),eG=t(44725),ez=function(e){return e[e.SUFFIX=2]="SUFFIX",e[e.HIGH=1]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-1]="LOW",e}({}),eW=K.sj.define({combine:function(e){var n=e.filter(Boolean);return function(e){return n.map(function(n){return"function"==typeof n?n(e):n}).filter(Boolean).flat()}}}),ej=function(){function e(n){if((0,j._)(this,e),this.priority=null!=(t=n.priority)?t:ez.NORMAL,this.header=null!=(r=n.header)?r:"",this.segments=n.segments,this.accepted=0,this.curLength=0,this.segments.length){var t,r,a=this.header?this.header.length+1:0;this.maxLength=a+this.segments.reduce(function(e,n){return e+n.length},0),this.minLength=this.isSuffix?a+this.segments[0].length:a+this.segments[this.segments.length-1].length}else this.maxLength=0,this.minLength=0}var n=e.prototype;return n.acceptSegment=function(e){if(this.accepted===this.segments.length)return 0;var n=this.isSuffix?this.segments[this.accepted]:this.segments[this.segments.length-this.accepted-1],t=0===this.accepted&&this.header?this.header.length+n.length+1:n.length;return t>e?0:(this.accepted++,this.curLength+=t,t)},n.acceptAll=function(){this.accepted=this.segments.length,this.curLength=this.maxLength},n.finalize=function(){return 0===this.accepted?null:(this.header?this.header+"\n":"")+(this.isSuffix?this.segments.slice(0,this.accepted).join("").trimEnd():this.segments.slice(this.segments.length-this.accepted).join("").trimEnd())},e.acceptSegments=function(e,n){for(var t=n;n>0;){var r=!1,a=!0,i=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value.acceptSegment(n);u&&(n-=u,r=!0)}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}if(!r)break}return t-n},(0,e$._)(e,[{key:"isSuffix",get:function(){return this.priority===ez.SUFFIX}}]),e}(),eq=function(){function e(n){(0,j._)(this,e),this.priority=n,this.chunks=[],this.size=0}var n=e.prototype;return n.add=function(e){this.chunks.push(e),this.size+=e.maxLength},n.resize=function(e){if(e<this.accepted)throw Error("Cannot resize below already accepted");this.size=e},n.accept=function(){ej.acceptSegments(this.chunks,this.size-this.accepted)},e.fromChunkViews=function(n){var t=[],r=new Map,a=!0,i=!1,o=void 0;try{for(var s,l=n[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value,c=r.get(u.priority);c||(c=new e(u.priority),t.push(c),r.set(u.priority,c)),c.add(u)}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return t},(0,e$._)(e,[{key:"accepted",get:function(){return this.chunks.reduce(function(e,n){return e+n.curLength},0)}},{key:"empty",get:function(){return 0===this.size}}]),e}(),eZ=function(){function e(n,t){(0,j._)(this,e),this.cooldown=n,this.ignored=t}var n=e.prototype;return n.delay=function(n){return new e(Date.now()+n,this.ignored)},n.ignore=function(n){return this.ignored!==n?new e(this.cooldown,n):this},n.vent=function(){return null!==this.cooldown?new e(null,this.ignored):this},n.clear=function(){return null!==this.cooldown||null!==this.ignored?new e(null,null):this},n.tick=function(){return null!==this.cooldown&&Date.now()>this.cooldown?this.vent():this},n.handle=function(e,n){switch(n.reason){case eR.UW.FULLY_TYPED_INTO:case eR.UW.ACCEPTED_BY_USER:return this.clear();case eR.UW.DISMISSED_BY_USER:return this.delay(5e3).ignore(e.suggestion.content);case eR.UW.INCOMPATIBLE_DOCUMENT_CHANGE:case eR.UW.INCOMPATIBLE_CURSOR_CHANGE:return e.suggestion.ctx.onEmptyLine?this.delay(5e3):this.delay(1e3)}return this},n.isIgnored=function(e){return null!==this.ignored&&function(e,n){for(var t=Math.max(e.length,n.length),r=0,a=0;a<t;a++)e[a]!==n[a]&&r++;return 1-r/t}(this.ignored,e)>=.8},(0,e$._)(e,[{key:"cooling",get:function(){return null!==this.cooldown&&Date.now()<this.cooldown}},{key:"remaining",get:function(){return null!==this.cooldown?Math.max(0,this.cooldown-Date.now()):0}}]),e}(),eK=K.sj.define({combine:function(e){return!e.length||e[0]}}),eQ=K.sU.define({create:function(){return new eZ(null,null)},update:function(e,n){if(!n.state.facet(eK)||(e=e.tick()).cooling)return e;var t=n.startState.field(eR.RJ,!1),r=n.state.field(eR.RJ,!1);return t&&r&&t.presented&&r.stopped?e.handle(t,r):e}}),eX=t(46434),e0=t(35602),e1=t.n(e0),e2=["o17pu","o1gpu","ovgpu","ovgpure","ovgpuref","ovgpurf","ovgpuva","ovgpuvat","o!gpu","pnzfyhg","pnzjuber","puvap","puvax","pbba","pbbaf","phaavr","phag","phagsnpr","phagubyr","phagyvpx","phagyvpx","phagyvpxre","phagyvpxre","phagyvpxvat","phagyvpxvat","phagent","phagf","qnexvr","qngr encr","qngrencr","snt","sntont","sntt","snttvat","snttvg","snttvgg","snttbg","snttf","sntbg","sntbgf","sntf","sntgneq","sngnff","shpxgneq","shpxgneqf","tnat onat","tnatonat","tnatonatrq","tnatonatrq","tnatonatf","tnlgneq","tnljnq","tbngpk","tbngfr","tevatb","ubne","ubner","ubre","ubbxre","wnvy onvg","wnvyonvg","wnc","wvtnobb","wvttnobb","wvttreobb","xhag","y3v+pu","y3vgpu","yrzba cnegl","ybyvgn","a1ttn","a1ttre","anzoyn","arteb","avtt3e","avtt4u","avttn","avttnu","avttnf","avttnm","avttre","avttref","avtyrg","avt abt","dhrreonvg","dhrreubyr","encr","encvat","encvfg","ergneq","ehfxv","furznyr","fubgn","fxnax","fyhg","fyhgont","fyhgf","jrgonpx","juvgr cbjre","juber"],e3=e2.reduce(function(e,n){return Math.max(e,n.length)},0),e4=new RegExp("(?:\\w+[^\\S\\n]*)?\\w*[^]{".concat(e3,"}$")),e5=null,e7=function(){function e(n){var t=this;(0,j._)(this,e),this.config=n,this.finished=!1,this.abortController=new AbortController,this.suggestion="",this.promise=this.start(),this.abortController.signal.addEventListener("abort",function(){if(!t.finished){var e,n;t.finished=!0,null==(e=(n=t.config).onFinished)||e.call(n,null)}})}var n=e.prototype;return n.start=function(){return(0,H._)(function(){var e,n,t,r,a,i,o,s,l,u,c,d,f,p,h,m,v,g,b;return(0,B.YH)(this,function(y){switch(y.label){case 0:y.trys.push([0,13,,14]),t=this.config.prefix.toString(),i=this.config.request({prefix:t,suffix:null!=(r=this.config.suffix)?r:void 0,header:null!=(a=this.config.header)?a:void 0,language:this.config.language,maxTokens:this.config.maxTokens,signal:this.abortController.signal}),o=!0,s=!1,l=!1,y.label=1;case 1:y.trys.push([1,6,7,12]),c=(0,eX._)(i),y.label=2;case 2:return[4,c.next()];case 3:if(!(s=!(d=y.sent()).done))return[3,5];if(function(e,n){if(n){var t,r;"string"!=typeof n&&(n=n.sliceString(Math.max(0,n.length-2*e3))),e=(null!=(r=null==(t=n.match(e4))?void 0:t[0])?r:n)+e}if(null===e5){var a=e2.map(function(e){return e.replace(/[a-zA-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)+("n">e.toLowerCase()?13:-13))})}).map(function(e){return e1()(e.toLowerCase().trim())}).sort(function(e,n){return n.length-e.length}).join("|"),i="\\b|\\d|_";e5=RegExp("(?:".concat(i,")(?:").concat(a,")(?:").concat(i,")"),"i")}return e5.test(e)}(f=d.value,o?t:this.suggestion))return this.abort(),null==(p=(h=this.config).onError)||p.call(h,Error("Slur detected in output")),[3,5];if(this.suggestion+=f,this.config.onTextReceived&&!1===this.config.onTextReceived(this.suggestion,o))return this.abort(),[3,5];o=!1,y.label=4;case 4:return s=!1,[3,2];case 5:return[3,12];case 6:return m=y.sent(),l=!0,u=m,[3,12];case 7:if(y.trys.push([7,,10,11]),!(s&&null!=c.return))return[3,9];return[4,c.return()];case 8:y.sent(),y.label=9;case 9:return[3,11];case 10:if(l)throw u;return[7];case 11:return[7];case 12:return[3,14];case 13:return v=y.sent(),this.aborted||this.abort(),(0,eT._)(v,DOMException)&&"AbortError"===v.name||null==(g=(b=this.config).onError)||g.call(b,v),[3,14];case 14:if(this.aborted)return[2,null];return this.finished=!0,null==(e=(n=this.config).onFinished)||e.call(n,this.suggestion),[2,this.suggestion]}})}).call(this)},n.abort=function(){this.aborted||this.abortController.abort()},n.then=function(e,n){return this.promise.then(e,n)},(0,e$._)(e,[{key:"aborted",get:function(){return this.abortController.signal.aborted}}]),e}(),e9=t(82824),e8=t(95272),e6=t(89943),ne=function(){function e(n,t,r,a,i){(0,j._)(this,e),this.text=n,this.pos=t,this.docA=r,this.treeA=a,this.parser=i}var n=e.prototype;return n.hasTree=function(){return null!==this.parser&&null!==this.treeA},n.update=function(n){var t=this,r=new e(n,this.pos,this.docA,this.treeA,this.parser);if(r._line=this._line,r._onEmptyLine=this._onEmptyLine,r._inEmptyBlock=this._inEmptyBlock,r._blockA=this._blockA,this.parser&&this.treeA&&(this.reuseData||this._treeB)){var a=(0,e6.s)(this.text,n),i=[];a.iterChanges(function(e,n,r,a,o){i.push({from:t.pos+e,to:t.pos+n,insert:o})});var o=K.VR.of(i,this.docB.length);this.reuseData&&!this._treeB?r.reuseData={diff:this.reuseData.diff.compose(o),docB:this.reuseData.docB,treeB:this.reuseData.treeB}:this._treeB&&(r.reuseData={diff:o,docB:this.docB,treeB:this._treeB})}return r},(0,e$._)(e,[{key:"line",get:function(){return void 0===this._line&&(this._line=this.docA.lineAt(this.pos)),this._line}},{key:"onEmptyLine",get:function(){return void 0===this._onEmptyLine&&(this._onEmptyLine=(0,eM.Im)(this.line)),this._onEmptyLine}},{key:"changesAtoB",get:function(){return void 0===this._changesAtoB&&(this._changesAtoB=K.VR.of({from:this.pos,to:this.docA.length,insert:this.text},this.docA.length)),this._changesAtoB}},{key:"docB",get:function(){return void 0===this._docB&&(this._docB=this.reuseData?this.reuseData.diff.apply(this.reuseData.docB):this.changesAtoB.apply(this.docA)),this._docB}},{key:"treeB",get:function(){return void 0===this._treeB&&(this.treeA&&this.parser?this.reuseData?this._treeB=(0,e8.B)({parser:this.parser,changes:this.reuseData.diff,text:this.docB,base:this.reuseData.treeB}):this._treeB=(0,e8.B)({parser:this.parser,changes:this.changesAtoB,text:this.docB,base:this.treeA}):this._treeB=null),this._treeB}},{key:"inEmptyBlock",get:function(){return void 0===this._inEmptyBlock&&(this._inEmptyBlock=!!this.treeA&&(0,e9.G2)(this.docA,this.treeA,this.pos)),this._inEmptyBlock}},{key:"blockA",get:function(){return void 0===this._blockA&&(this._blockA=this.treeA?(0,e9.gJ)(this.treeA,this.pos):null),this._blockA}},{key:"blockB",get:function(){return void 0===this._blockB&&(this._blockB=this.treeB?(0,e9.gJ)(this.treeB,this.pos):null),this._blockB}}]),e}(),nn=t(18254);function nt(e,n,t){var r,a=null!=(r=e.prop(n<0?nn.uY.openedBy:nn.uY.closedBy))?r:null;if(null===a||t&&!a.includes(t.name))if(!t)return null;else a=a?(0,b._)(a).concat([t.name]):[t.name];return a}function nr(e,n,t){var r=nt(e.type,n,t);if(null===r)return null;for(var a=e.cursor(),i=0;n<0?a.prevSibling():a.nextSibling();){if(0===i&&a.from!==a.to&&r.includes(a.name))return a.node;if(null!==nt(a.type,n)){i++;continue}if(null!==nt(a.type,-n)){if(0===i)return null;i--}}return null}var na=/[([{]+(?=\s*$)/,ni=function(){function e(n,t,r,a,i){(0,j._)(this,e),this.source=n,this.pos=t,this.newlines=r,this.content=a,this.ctx=i,this.empty=(0,eM.Im)(a),this.text=this.empty?"":r+a,this.lines=(0,eM.uz)(a)}var n=e.prototype;return n.with=function(n){var t=this.source,r=this.content,a=this.newlines;if("source"in n&&void 0!==n.source){t=n.source;var i=(0,eM.BA)(t);r=i.indentation+i.content,a=i.newlines}if("text"in n&&void 0!==n.text){var o=(0,eM.BA)(n.text);r=o.indentation+o.content,a=o.newlines}"content"in n&&void 0!==n.content&&(r=n.content),"newlines"in n&&void 0!==n.newlines&&(a=n.newlines);var s=this;if(t!==this.source||r!==this.content||a!==this.newlines){var l=this.ctx.update((0,eM.Im)(r)?"":a+r);s=new e(t,this.pos,a,r,l)}return!s.empty&&n.process&&(s="boolean"==typeof n.process?s.process():s.process(n.process)),s},n.slice=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t?this.with({text:this.text.slice(e,n)}):this.with({content:this.content.slice(e,n)})},n.splice=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=r?this.text:this.content,i=a.slice(0,e),o=a.slice(e+n);return r?this.with({text:i+t+o}):this.with({content:i+t+o})},n.clip=function(e){var n=!0,t=!1,r=void 0;try{for(var a,i=this.segments[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=a.value;if(o.pos>=e)return this.slice(0,o.index+o.offset,!0)}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}return this},n.stopAtLine=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=n?this.newlines.length:0;if(e<0||e>this.lines.length+t)throw Error("Index out of range: "+e);if(n&&e<t)return this.with({text:this.newlines.slice(0,e)});for(var r=e-t;r<this.lines.length&&(0,eM.zb)(this.lines[r]);)r++;var a=this.lines.slice(0,r).join("\n");return this.with({content:a})},n.trimEnd=function(){return this.with({content:this.content.trimEnd()})},n.removeNewlinesIfOnEmptyLine=function(){return this.newlines&&this.ctx.onEmptyLine?this.with({newlines:""}):this},n.cutSuggestion=function(){if(this.empty)return this;if((0,eM.zb)(this.lines[0])||!this.ctx.hasTree())return this.stopAtLine(1);var e=(0,e9.gu)(this.ctx.treeB,this.pos);if(!e.length)return this.stopAtLine(1);var n=this.pos+this.lines[0].length,t=this.ctx.inEmptyBlock?e:e.filter(function(e){return e.from<=n}),r=t.length?t[t.length-1].to-this.pos:null;return(null!==r&&r<0&&(r=null),this.ctx.blockB&&this.ctx.blockB.node.from<this.pos&&(null===r||r>this.ctx.blockB.node.to-this.pos)&&(this.ctx.inEmptyBlock||!this.ctx.blockA||this.ctx.blockA.node.from<this.ctx.blockB.node.from)&&(r=this.ctx.blockB.node.to-this.pos),null===r)?this.ctx.inEmptyBlock?this.ctx.blockA?this.clip(this.ctx.blockA.node.to):this:this.ctx.blockA?this.stopAtLine(1).clip(this.ctx.blockA.node.to):this.stopAtLine(1):this.ctx.blockA&&(this.ctx.inEmptyBlock||!this.ctx.onEmptyLine)?this.slice(0,r,!0).clip(this.ctx.blockA.node.to):this.slice(0,r,!0)},n.clearIfContentIsIsolated=function(){if(!this.ctx.onEmptyLine)return this;if(this.newlines)return this.with({content:""});if(1===this.segments.length&&0===this.segments[0].offset)return this;var e=this.segments.find(function(e){return!(0,eM.Im)(e.text.slice(e.offset))});return e&&this.ctx.docA.lineAt(e.pos).number!==this.ctx.line.number?this.with({content:""}):this},n.removeDuplicateLastLine=function(){if(!this.newlines&&1===this.lines.length&&!this.ctx.onEmptyLine)return this;var e=this.segments[this.segments.length-1];if(e.offset===e.text.length-1)return this;var n=this.ctx.docA.lineAt(e.pos);if(n.number===this.ctx.docA.lines)return this;var t=e.text.slice(e.offset),r=t.lastIndexOf("\n"),a=-1!==r,i=a?e.index+e.offset+r:e.index+e.offset,o=a?t.slice(r+1):t;return(0,eM.Im)(o)?this:(!a&&(0,eM.Im)(n)&&(o=n.text+o),o===this.ctx.docA.line(n.number+1).text)?this.slice(0,i,!0):this},n.removeTrailingOpenBrackets=function(){var e=na.exec(this.content);return e?this.splice(e.index,e.length):this},n.process=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.skipComplexProcessing?this.trimEnd().removeNewlinesIfOnEmptyLine():this.removeNewlinesIfOnEmptyLine().cutSuggestion().trimEnd().removeDuplicateLastLine().removeTrailingOpenBrackets().trimEnd().clearIfContentIsIsolated()},e.create=function(n,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=(0,eM.BA)(n),s=o.indentation+o.content,l=o.newlines,u=new ne((0,eM.Im)(s)?"":l+s,t,r,a,i);return new e(n,t,l,s,u)},(0,e$._)(e,[{key:"segments",get:function(){if(void 0===this._segments){if(this.ctx.hasTree()){var e=function(e){var n=function(e){var n,t,r,a,i=e.insertion,o=e.pos;if("doc"in e){var s=e.parser;n=e.doc,t=e.tree;var l=K.VR.of({from:o,to:n.length,insert:i},n.length);r=l.apply(n),a=(0,e8.B)({parser:s,changes:l,text:r,base:t})}else n=e.docA,t=e.treeA,r=e.docB,a=e.treeB;return{insertion:i,pos:o,docA:n,treeA:t,docB:r,treeB:a}}(e),t=n.insertion,r=n.pos,a=n.docA,i=n.treeA,o=n.docB,s=n.treeB,l=[],u=[],c=s.cursor();do{if(null===nt(c.type,-1))continue;var d=c.node,f=nr(d,-1);if(f&&f.to<=r){var p=function(e,n){for(var t=n.resolveInner(e.from,1).node;t&&t.from===e.from;){if(t.type===e.type)return t;t=t.parent}return null}(f,i);if(p){l.push({openA:p,closeB:d});var h=nr(p,1,d.type);h&&h.from>=r&&u.push(h)}}}while(c.prev()&&c.to>r);if(0===l.length||0===u.length)return null;var m=[],v=!0,g=!1,b=void 0;try{for(var y,w=l[Symbol.iterator]();!(v=(y=w.next()).done);v=!0){var _=y.value,S=_.openA,A=_.closeB,k=o.sliceString(A.from,A.to),C=nt(S.type,1,A.type);if(null===C)throw Error("Unexpected null matching types");for(var Y=0;Y<u.length;Y++){var E=u[Y];if(C.includes(E.name)&&a.sliceString(E.from,E.to)===k){u.splice(0,Y+1),m.unshift({closeA:E,closeB:A});break}}}}catch(e){g=!0,b=e}finally{try{v||null==w.return||w.return()}finally{if(g)throw b}}if(0===m.length)return null;var x=[{text:t,pos:r,index:0,offset:0}],T=0,D=!0,I=!1,R=void 0;try{for(var N,O=m[Symbol.iterator]();!(D=(N=O.next()).done);D=!0){var P=N.value,F=P.closeA,U=P.closeB,L=x.pop();if(!L)throw Error("Unexpected empty split");var M=U.from-r,J=0;if(L.pos<F.from){for(var H=1;function(e,n,t,r){var a=e.sliceString(t,t+1);return a===n.sliceString(r,r+1)&&""===a.trim()}(a,o,F.from-H,U.from-H)&&F.from-H>=L.pos&&U.from-H>=r;)H++;J=H-1}M-=J;var B={text:t.slice(T,M),pos:L.pos,index:L.index,offset:L.offset},V={text:t.slice(M),pos:F.to,index:M,offset:F.to-F.from+J};T=M,x.push(B,V)}}catch(e){I=!0,R=e}finally{try{D||null==O.return||O.return()}finally{if(I)throw R}}return""===x[x.length-1].text&&x.pop(),x}({insertion:this.text,pos:this.pos,docA:this.ctx.docA,treeA:this.ctx.treeA,docB:this.ctx.docB,treeB:this.ctx.treeB});e&&(this._segments=e)}null!=this._segments||(this._segments=[{text:this.text,index:0,pos:this.pos,offset:0}])}return this._segments}},{key:"insertions",get:function(){if(void 0===this._insertions){var e=new K.vB,n=!0,t=!1,r=void 0;try{for(var a,i=this.segments[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=a.value,s=K.EY.of((0,eM.uz)(o.text)),l=new eO.kp(s,o.offset);e.add(o.pos,o.pos,l)}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}this._insertions=e.finish()}return this._insertions}}]),e}(),no=t(60490),ns=function(){function e(n){(0,j._)(this,e),this.view=n,this.destroyed=!1,this.stream=null,this.debounceTimeout=null,this.queued=!1,this.lastPrefixLength=0}var n=e.prototype;return n.dispatchSuggestion=function(e){this.view.dispatch({effects:eR.xq.of(e)})},n.dismiss=function(e){this.queued=!1,null!==this.debounceTimeout&&(clearTimeout(this.debounceTimeout),this.debounceTimeout=null),!this.stream||this.stream.finished||this.stream.aborted||this.stream.abort(),this.destroyed||this.suggestion.stopped||this.dispatchSuggestion(this.suggestion.dismiss(e)),this.listeners.onDismiss(this.view)},n.requestSuggestion=function(e){var n,t,r=this;if(null!==this.config&&null!==this.fileTypeConfig){if(null!==this.debounceTimeout&&(clearTimeout(this.debounceTimeout),this.debounceTimeout=null),!this.config.debounceAlways&&!this.regulator.cooling&&e===eJ.l9.NOW)return void this.requestSuggestionImmediately();var a=this.view.state.selection.main.head,i=this.view.state.wordAt(a),o=i&&i.from!==a?null!=(t=this.config.debounceTimeInsideWord)?t:0:null!=(n=this.config.debounceTimeOutsideWord)?n:0;this.regulator.cooling&&(o=Math.max(o,this.regulator.remaining)),0===o?this.requestSuggestionImmediately():this.debounceTimeout=setTimeout(function(){r.debounceTimeout=null,r.requestSuggestionImmediately()},o)}},n.requestSuggestionImmediately=function(){var e,n,t,r=this;if(this.dismiss(),!this.suggestion.stopped)throw Error("dismiss should have stopped the suggestion");if(null!==this.config&&null!==this.fileTypeConfig&&!this.destroyed&&this.view.hasFocus&&(0,eM.Ph)(this.view.state.doc,this.view.state.selection.main.head)){var a=this.config,i=this.view.state,o=i.selection.main.head,s=i.doc,l=(0,eG.mv)(i),u=null!=(n=null==(e=i.facet(eG.BH))?void 0:e.parser)?n:null,c=this.fileTypeConfig,d={skipComplexProcessing:null!=(t=c.skipComplexProcessing)&&t},f=i.facet(eW),p=function(e){var n=e.doc,t=e.pos,r=e.path,a=e.context,i=e.limit,o=void 0===i?ex.HB:i,s=e.reserved,l=void 0===s?ex.CB:s,u="-- ".concat(r,"\n");if(u.length>o)throw Error("Cannot fit required header parts in prompt");var c="";if(null==a?void 0:a.length){var d=function(e,n){if((n-=2*e.length)<=0)return null;var t=e.map(function(e){return new ej(e)}).filter(function(e){return e.maxLength>0&&e.minLength<=n}).sort(function(e,n){return e.priority===n.priority?e.minLength-n.minLength:n.priority-e.priority});if(!t.length)return null;var r=eq.fromChunkViews(t),a=r.reduce(function(e,n){return e+n.size},0);if(a>n){var i=!0,o=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;c.size>n&&(a-=c.size-n,c.resize(n))}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}for(var d=r.find(function(e){return e.priority===ez.SUFFIX}),f=d?n-d.size:0;a>n;){var p=1,h=!0,m=!1,v=void 0;try{for(var g,b=r[Symbol.iterator]();!(h=(g=b.next()).done);h=!0){var y=g.value;if(f&&y.priority===ez.SUFFIX){f--;continue}if(!y.empty){var w=Math.max(0,y.size-p);a-=y.size-w,y.resize(w),p++}}}catch(e){m=!0,v=e}finally{try{h||null==b.return||b.return()}finally{if(m)throw v}}}var _=!0,S=!1,A=void 0;try{for(var k,C=r[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){var Y=k.value;Y.empty||Y.accept()}}catch(e){S=!0,A=e}finally{try{_||null==C.return||C.return()}finally{if(S)throw A}}var E=r.reduce(function(e,n){return e+n.accepted},0);E<n&&ej.acceptSegments(t,n-E)}else t.forEach(function(e){return e.acceptAll()});var x=t.filter(function(e){return e.priority===ez.SUFFIX}).map(function(e){return e.finalize()}).filter(Boolean).join("")||null,T=t.filter(function(e){return e.priority!==ez.SUFFIX}).map(function(e){return e.finalize()}).filter(Boolean).reverse().join("\n\n")||null;return T||x?{context:T,suffix:x}:null}(a,Math.max(l-u.length-2,o-t-u.length-2));(null==d?void 0:d.context)&&(u=(null==d?void 0:d.context)+"\n\n"+u),(null==d?void 0:d.suffix)&&(c=null==d?void 0:d.suffix)}var f=function(e,n,t){for(var r=e.slice(0,n);r.length>t;)r=r.lines>1?r.slice(r.line(1).to+1):r.slice(r.length-t);return r}(n,t,o-u.length-c.length);if(u.length+f.length+c.length>o)throw Error("Prompt is over the maximum length");return{prefix:f,suffix:c,header:u}}({doc:s,pos:o,path:c.path,context:f(this.view)}),h=p.prefix,m=p.suffix,v=p.header,g=(0,e9.G2)(s,l,o)?ex.nm.EMPTY_BLOCK:ex.nm.DEFAULT;this.lastPrefixLength=h.length,a.backendOnly||this.dispatchSuggestion(this.suggestion.start()),this.stream=new e7({request:a.request,language:c.id,maxTokens:g,prefix:h,suffix:m,header:v,onTextReceived:function(e,n){if(n&&r.listeners.onRequestFirstEmit(r.view),a.backendOnly)return void r.listeners.onRequestIgnoredBackendOnly(r.view);if(r.suggestion.stopped||!n&&r.suggestion.slotted)return!1;var t=r.suggestion.slotted?r.suggestion.upgrade(ni.create(e,o,s,l,u).process(d)):r.suggestion.with({source:e,process:d});if(t.stopped||t.suggestion.empty)return!1;r.dispatchSuggestion(t)},onFinished:function(e){var n=r.queued;if(r.queued=!1,!a.backendOnly){if(e&&r.suggestion.active){var t=r.suggestion.suggestion.source!==e?r.suggestion.with({source:e,process:d}):r.suggestion;if(!t.stopped&&!t.suggestion.empty&&!r.regulator.isIgnored(t.suggestion.content)){r.dispatchSuggestion(t.presented?t:t.present()),r.listeners.onRequestCompletelyPresented(r.view);return}}r.dismiss(eR.UW.INCOMPATIBLE_SUGGESTION),n&&r.requestSuggestion(eJ.l9.ENQUEUE),""===e&&r.listeners.onRequestEndedWithNoSuggestion(r.view)}},onError:function(e){eC.v4(function(n){n.setExtra("prefix",h.toString()),n.setExtra("suffix",null==m?void 0:m.toString()),n.setExtra("header",v),n.setExtra("maxTokens",g),n.setExtra("filePath",c.path),n.setExtra("language",c.id),n.setExtra("selection-head",o),n.setExtra("previous-character",s.sliceString(o-1,o)),n.setTag("ghostwriter",!0),eC.Cp(e)})}})}},n.postUpdate=function(e){var n=e.startState.field(eR.RJ,!1),t=e.state.field(eR.RJ,!1);n&&t&&n.presented&&t.stopped&&t.reason===eR.UW.FULLY_TYPED_INTO&&this.listeners.onSuggestionAccepted(this.view,n),(0,Q.$H)(e,eL,no.Md,no.O7)&&this.dismiss(),(0,Q.$H)(e,eR.RJ)&&this.suggestion.stopped&&this.streaming&&this.dismiss();var r=(0,eJ.SQ)(e.transactions);switch(r){case eJ.l9.STOP:this.active&&this.dismiss();break;case eJ.l9.ENQUEUE:case eJ.l9.NOW:this.active?this.queued=!0:this.requestSuggestion(r)}},n.destroy=function(){this.destroyed=!0,this.dismiss()},(0,e$._)(e,[{key:"config",get:function(){return this.view.state.facet(eL)}},{key:"listeners",get:function(){return this.view.state.facet(eI)}},{key:"suggestion",get:function(){return this.view.state.field(eR.RJ)}},{key:"regulator",get:function(){return this.view.state.field(eQ)}},{key:"fileTypeConfig",get:function(){var e,n=this.view.state.facet(no.Md),t=this.view.state.facet(no.O7),r=null==t||null==(e=t.getFeature("ai"))?void 0:e.complete;return n&&t&&(null==r?void 0:r.enabled)?(0,D._)((0,T._)({},r),{id:t.id,path:n}):null}},{key:"streaming",get:function(){return null!==this.debounceTimeout||null!==this.stream&&!this.stream.finished}},{key:"active",get:function(){return this.streaming||!this.suggestion.stopped}}]),e}(),nl=V.Z9.fromClass(ns,{provide:function(e){return V.Lz.updateListener.of(function(n){var t;null==(t=n.view.plugin(e))||t.postUpdate(n)})}}),nu=function(){function e(n){(0,j._)(this,e),this.view=n,this.gesture=null,this.touchstart=this.touchstart.bind(this),this.touchmove=this.touchmove.bind(this),this.touchend=this.touchend.bind(this),this.touchcancel=this.touchcancel.bind(this),n.dom.addEventListener("touchstart",this.touchstart)}var n=e.prototype;return n.shouldAllowSwiping=function(){if(!this.view.hasFocus)return!1;var e=this.view.state.selection.main.head,n=this.view.viewport;if(n.from>e||n.to<e)return!1;var t=this.view.state.field(eR.RJ,!1);return!!(null==t?void 0:t.presented)},n.stop=function(){this.gesture&&(this.gesture=null,document.removeEventListener("touchmove",this.touchmove),document.removeEventListener("touchend",this.touchend),document.removeEventListener("touchcancel",this.touchcancel))},n.touchFor=function(e){if(!this.gesture)return null;var n=!0,t=!1,r=void 0;try{for(var a,i=e.changedTouches[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=a.value;if(o.identifier===this.gesture.id)return o}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}return null},n.touchstart=function(e){if(this.gesture&&!this.gesture.time)return this.stop();if(!this.gesture&&this.shouldAllowSwiping()&&1===e.changedTouches.length){var n=e.changedTouches[0];this.gesture={id:n.identifier,start:{x:n.clientX,y:n.clientY},end:{x:n.clientX,y:n.clientY},time:null},document.addEventListener("touchmove",this.touchmove,{passive:!1}),document.addEventListener("touchend",this.touchend,{passive:!1}),document.addEventListener("touchcancel",this.touchcancel)}},n.touchmove=function(e){var n=this.touchFor(e);if(this.gesture&&n){if(this.gesture.end.x=n.clientX,this.gesture.end.y=n.clientY,this.gesture.time&&Date.now()-this.gesture.time>500)return this.stop();var t=Math.abs(this.gesture.start.y-this.gesture.end.y),r=Math.abs(this.gesture.start.x-this.gesture.end.x);if(t>20)return this.stop();if(r>10){if(this.gesture.start.x>this.gesture.end.x)return this.stop();this.gesture.time||(this.gesture.time=Date.now()),e.preventDefault()}}},n.touchend=function(e){var n=this.touchFor(e);if(this.gesture&&n){this.gesture.end.x=n.clientX,this.gesture.end.y=n.clientY;var t=Math.abs(this.gesture.start.y-this.gesture.end.y),r=Math.abs(this.gesture.start.x-this.gesture.end.x);t<=20&&r>75&&this.gesture.start.x<this.gesture.end.x&&(!this.gesture.time||Date.now()-this.gesture.time<500)&&(eF(this.view),e.preventDefault()),this.stop()}},n.touchcancel=function(e){this.touchFor(e)&&this.stop()},n.update=function(){this.gesture&&!this.shouldAllowSwiping()&&this.stop()},n.destroy=function(){this.view.dom.removeEventListener("touchstart",this.touchstart),document.removeEventListener("touchmove",this.touchmove),document.removeEventListener("touchend",this.touchend),document.removeEventListener("touchcancel",this.touchcancel)},e}(),nc=V.Z9.fromClass(nu),nd=t(9092),nf=K.sj.define({combine:function(e){var n;return null!=(n=e.filter(Boolean)[0])?n:null},enables:function(e){return[eL.compute([e],function(n){return n.facet(e)}),eR.RJ,eJ.Lf,nl,nc,eV,eQ,K.Nb.high(V.w4.compute([e],function(n){var t=n.facet(e),r=[];return(null==t?void 0:t.keyAcceptSuggestion)&&r.push({key:(0,nd.bK)(t.keyAcceptSuggestion),run:eF}),(null==t?void 0:t.keyDismissSuggestion)&&r.push({key:(0,nd.bK)(t.keyDismissSuggestion),run:eU}),r}))]}}),np=t(56902);function nh(e){var n=[],t=[],r=!1,a=!0,i=!1,o=void 0;try{for(var s,l=e.selection.ranges[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;u.empty||(n.push(e.sliceDoc(u.from,u.to)),t.push(u))}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}if(!n.length){var c=-1,d=!0,f=!1,p=void 0;try{for(var h,m=e.selection.ranges[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var v=h.value.from,g=e.doc.lineAt(v);g.number>c&&(n.push(g.text),t.push({from:g.from,to:Math.min(e.doc.length,g.to+1)})),c=g.number}}catch(e){f=!0,p=e}finally{try{d||null==m.return||m.return()}finally{if(f)throw p}}r=!0}return{text:n.join(e.lineBreak),ranges:t,linewise:r}}var nm=[];function nv(e){if(!(e.length>800)){var n=nm.indexOf(e);-1!==n&&nm.splice(n,1),nm.unshift(e),nm.length>10&&nm.pop()}}var ng=!1;function nb(e,n){var t=nh(n.state),r=t.text,a=t.linewise;if(r&&r.trim())if(a){var i=r.split(n.state.lineBreak).filter(function(e){return e.trim()}),o=!0,s=!1,l=void 0;try{for(var u,c=i[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;nv(d)}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}}else nv(r)}var ny=[V.Z9.define(function(){if(!ng){ng=!0;var e=function(e){var n,t=null==(n=document.getSelection())?void 0:n.toString();t&&t.trim()&&Promise.resolve().then(function(){e.defaultPrevented||nv(t)})};document.addEventListener("copy",e),document.addEventListener("cut",e)}return{}}),K.Nb.highest(V.Lz.domEventObservers({copy:function(e,n){return nb(e,n)},cut:function(e,n){return nb(e,n)}})),eW.of(function(e){if(!nm.length||!e.state.facet(no.O7))return null;var n=(0,np._)(nm),t=n[0],r=n.slice(1),a=[];if(t&&t.trim()){var i=t.trimEnd();a.push({header:"-- Current Clipboard",segments:[i],priority:ez.HIGH})}var o=r.filter(function(e){return e&&e.trim()});if(o.length){var s=o.map(function(e){return e.trimEnd().split("\n").map(function(e,n){return 0===n?"- ".concat(e):"  ".concat(e)}).join("\n")}).reverse();a.push({header:"-- Clipboard History",segments:s})}return a.length?a:null})],nw=t(4722),n_=t(59270),nS=/\n\n(?![^\S\n])/g,nA=new(function(){function e(){(0,j._)(this,e),this.map=new Map}var n=e.prototype;return n.removeExpired=function(){if(this.map.size){var e=Date.now(),n=!0,t=!1,r=void 0;try{for(var a,i=this.map.entries()[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=(0,g._)(a.value,2),s=o[0],l=o[1];e-l.timestamp>6e4&&this.map.delete(s)}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}}},n.get=function(e){return this.removeExpired(),this.map.get(e)},n.add=function(e,n,t){if(this.removeExpired(),!this.map.has(e)&&10===this.map.size){var r=null,a=!0,i=!1,o=void 0;try{for(var s,l=this.map.values()[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;(!r||u.timestamp<r.timestamp)&&(r=u)}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}if(!r)throw Error("Expected to find entry to remove from file cache");this.map.delete(r.path)}this.map.set(e,{path:e,type:n,content:t,timestamp:Date.now()})},n.clear=function(){this.map.clear()},e}()),nk=function(){function e(n,t,r){var a=this;(0,j._)(this,e),this.view=n,this.readFile=t,this.recentFiles=r,this.destroyed=!1,this.chunks=[],this.dispose=r.subscribe(function(){return a.updateChunks()}),r.current.length&&this.updateChunks()}var n=e.prototype;return n.updateChunks=function(){return(0,H._)(function(){var e,n,t,r,a,i,o,s,l,u,c,d,f,p,h,m,v,g,b,y,w,_,S,A,k,C,Y,E;return(0,B.YH)(this,function(x){switch(x.label){case 0:if(t=[],this.chunks=t,r=this.view.state.facet(no.Md),a=this.view.state.facet(no.O7),!r||!a)return[2];"all"===(o=null!=(i=null==(n=a.features.ai)||null==(e=n.complete)?void 0:e.groups)?i:[])&&(o=[]),s=this.recentFiles.current.filter(function(e){return e!==r&&(0,n_.m6)(e)}),l=!0,u=!1,c=void 0,x.label=1;case 1:x.trys.push([1,7,8,9]),d=s[Symbol.iterator](),x.label=2;case 2:if(l=(f=d.next()).done)return[3,6];if(p=f.value,y=null==(b=null!=(g=null==(v=nA.get(p))?void 0:v.type)?g:ef.Jh.from(p))||null==(h=b.features.ai)?void 0:h.complete,!b||!(null==y?void 0:y.enabled)||!(b.id===a.id||"all"===y.groups||(null==(m=y.groups)?void 0:m.some(function(e){return o.includes(e)}))))return[3,5];if(void 0!==(w=null==v?void 0:v.content))return[3,4];return[4,this.readFile(p)];case 3:if(_=x.sent(),this.destroyed||this.chunks!==t)return[2];if(null===_)return[3,5];w=_,nA.add(p,b,w),x.label=4;case 4:var T;if(!(S=!(T=(T=w).trim())?[]:T.split(nS).map(function(e){return e.trim()}).filter(Boolean)).length)return[3,5];if(A="-- ".concat((0,nw.Aj)(p,r)),k=S.map(function(e){return(0,eM.uz)(e).join("\n")+"\n\n"}),C=t.length,Y=ez.NORMAL,C<2?Y=ez.HIGH:C>=5&&(Y=ez.LOW),t.push({header:A,segments:k,priority:Y}),t.length>=10)return[3,6];x.label=5;case 5:return l=!0,[3,2];case 6:return[3,9];case 7:return E=x.sent(),u=!0,c=E,[3,9];case 8:try{l||null==d.return||d.return()}finally{if(u)throw c}return[7];case 9:return[2]}})}).call(this)},n.update=function(e){(0,Q.$H)(e,no.Md,no.O7)&&this.updateChunks()},n.destroy=function(){this.destroyed=!0,this.dispose()},e}(),nC=new G.k(function(e,n){return e&&n?V.Z9.define(function(t){return new nk(t,e,n)},{provide:function(e){return eW.of(function(n){var t,r;return null!=(r=null==(t=n.plugin(e))?void 0:t.chunks)?r:null})}}):null}),nY=eW.of(function(e){var n=e.state.selection.main.head,t=e.state.doc.slice(n);if(0===t.length)return null;if(1===t.lines){var r=t.toString();return""===r.trim()?null:{segments:[r],priority:ez.SUFFIX}}for(var a=[],i=1;i<=t.lines;i++)a.push(t.line(i).text+"\n");for(;a.length&&""===a[a.length-1].trim();)a.pop();return 0===a.length?null:{segments:a,priority:ez.SUFFIX}}),nE=t(26608),nx=t(41989),nT={production:"https://production-ai-modelservice.replit.com",staging:"https://staging-ai-modelservice.replit.com"},nD=t(12584),nI=t(41114),nR=t(54744);function nN(){var e=(0,nD._)(["\n  fragment CompleteCodeAuthorization on OrgAuthorizations {\n    useAdvancedModel: useAiModel(model: advanced) {\n      isAuthorized\n      code\n      message\n    }\n  }\n"]);return nN=function(){return e},e}function nO(){var e=(0,nD._)(['\n  query CompleteCode($orgId: String) {\n    currentUser {\n      id\n      hasKillswitch: gate(feature: "flag-killswitch-ghostwriter")\n      personalOrgAuthorizations {\n        ... on OrgAuthorizations {\n          ...CompleteCodeAuthorization\n        }\n      }\n      org(orgId: $orgId) {\n        ... on Org {\n          id\n          authorizations {\n            ...CompleteCodeAuthorization\n          }\n        }\n        ... on Error {\n          message\n        }\n      }\n    }\n  }\n  ',"\n"]);return nO=function(){return e},e}var nP={},nF=(0,nI.J1)(nN()),nU=(0,nI.J1)(nO(),nF),nL=t(65586),nM=t(882),nJ=t(61125),nH=function(e){return e.None="None",e.Basic="Basic",e.Pro="Pro",e.BackendOnly="BackendOnly",e}({});function nB(){var e,n,t,r,a,i,o=(0,nJ.A)(),s=(0,nM.R)(o),l=s.orgId,u=s.loading,c=(e={variables:{orgId:l},skip:u},n=(0,T._)({},nP,e),nR.I(nU,n)),d=c.data,f=c.loading,p=(0,nL.f)().isTeamWithAiDisabled,h=null==d?void 0:d.currentUser;return!h||h.hasKillswitch||p||f||u?"None":l?(null==(t=d.currentUser)?void 0:t.org.__typename)==="Org"&&(null==(r=d.currentUser)?void 0:r.org.authorizations.useAdvancedModel.isAuthorized)?"Pro":"Basic":(null==(a=d.currentUser)?void 0:a.personalOrgAuthorizations.__typename)==="OrgAuthorizations"&&(null==(i=d.currentUser)?void 0:i.personalOrgAuthorizations.useAdvancedModel.isAuthorized)?"Pro":"Basic"}var nV=t(95793),n$=t(20060),nG=new Map,nz={beforeCompletion:function(e){eC.ZQ({category:"ghostwriter",message:"Called completeCode",level:"debug"});var n=n$.gv.add(e),t=nV.vF.timeStart({replid:e.replId,codeLength:e.header?e.header.length+e.prefix.length:e.prefix.length});return nG.set(n,t),n},afterCompletion:function(e,n,t,r){switch(e){case"aborted":n$.gv.abort(r),nG.delete(r);break;case"success":eC.ZQ({category:"ghostwriter",message:"Suggestion emitted: "+t.partialSuggestion,level:"debug"});var a,i=nG.get(r);if(!i)throw Error("No latency logger found for handle: "+JSON.stringify(r));i("code suggestion",{type:"success",fromCache:t.fromCache,length:null==(a=t.partialSuggestion)?void 0:a.length}),nG.delete(r);break;case"finished":n$.gv.complete(r,{__typename:"CompleteCodeResult",id:Date.now().toString(),code:t.completeSuggestion});break;default:throw Error("Unknown completion kind: "+e)}},erroredCompletion:function(e,n){n&&(n$.gv.abort(n),nG.delete(n)),nV.vF.error("CompleteCode: error in completion provider",{err:String(e)})}},nW=t(76957),nj=t(79203),nq=t(86103),nZ=t(58631),nK="ai.codecomplete.lastTooltipHintTimestamp",nQ=(0,nW.eU)({tooltipOpen:!1,consecutiveRejections:0}),nX=t(34778),n0=t(33052),n1=t(860),n2=t(51940),n3=t(843),n4=new G.k(function(e,n,t,r,a,i,o,s){var l,u;return e?(n===nH.Pro?(l=ex.M,u=ex.M):(l=i,u=i),[nf.of({request:a,backendOnly:n===nH.BackendOnly,debounceTimeOutsideWord:l,debounceTimeInsideWord:u,debounceAlways:n!==nH.Pro,keyAcceptSuggestion:t,keyDismissSuggestion:r}),o?ny:[],s?[]:eK.of(!1),nY]):null}),n5=new G.k(function(e,n,t){if(!e)return null;var r,a,i=(r=null,a=function(){},{queue:function(e){if(!(Math.random()>.1)){r&&clearTimeout(r);var n=function(){(0,nX.u4)(nX.AZ.CODE_SUGGESTION_USED,(0,T._)({type:"suggestionPresented"},e))};r=setTimeout(n,500),a=n}},flush:function(){r&&clearTimeout(r),a()},cancel:function(){r&&clearTimeout(r)}});return eI.of({onDismiss:function(){i.cancel()},onRequestIgnoredBackendOnly:function(){eC.ZQ({category:"ghostwriter",message:"called completeCode for free user but did not show the ghost text.",level:"info"}),(0,nX.u4)(nX.AZ.CODE_SUGGESTION_USED,{type:"suggestionNotPresented",filePath:n,reason:"ghostTextNotEnabledForFreeUser"})},onRequestFirstEmit:function(e){var t=e.plugin(nl);t&&(eC.ZQ({category:"ghostwriter",message:"Suggestion presented",level:"debug"}),i.queue({filePath:n,prefixLength:t.lastPrefixLength}))},onRequestEndedWithNoSuggestion:function(){eC.ZQ({category:"ghostwriter",message:"Exited completeCode iteration with no suggestion.",level:"info"}),(0,nX.u4)(nX.AZ.CODE_SUGGESTION_USED,{type:"suggestionNotPresented",filePath:n,reason:"noSuggestion"})},onSuggestionAccepted:function(e,r){var a=e.plugin(nl);a&&(i.flush(),(0,nX.u4)(nX.AZ.CODE_SUGGESTION_USED,{type:"suggestionAccepted",filePath:n,prefixLength:a.lastPrefixLength,suggestionLength:r.suggestion.content.length}),eC.ZQ({category:"ghostwriter",message:"Suggestion accepted",level:"info"}),null==t||t.recordAccept())},onSuggestionExplicitlyDismissed:function(e){var r=e.plugin(nl);r&&(i.flush(),(0,nX.u4)(nX.AZ.CODE_SUGGESTION_USED,{type:"suggestionDismissed",filePath:n,prefixLength:r.lastPrefixLength}),eC.ZQ({category:"ghostwriter",message:"Suggestion explicitly dismissed",level:"info"}),null==t||t.recordReject())}})}),n7=t(55778),n9=t(62019),n8=t(1833),n6=t(23099),te=t.n(n6),tn=t(13357),tt=K.sj.define({combine:function(e){var n;return null!=(n=e.filter(Boolean)[0])?n:null}}),tr=K.sU.define({create:function(){return{diff:null,tree:nn.PH.empty}},update:function(e,n){var t,r,a=n.state.facet(tt),i=null==(t=n.state.facet(eG.BH))?void 0:t.parser;if(!a)return null===e.diff&&e.tree===nn.PH.empty?e:{diff:null,tree:nn.PH.empty};var o=e.diff,s=e.tree;return(o&&o.b.eq(a)?n.docChanged&&(o=o.updateA(n.newDoc,n.changes)):(o=tn.o.create(n.newDoc,a),s=nn.PH.empty),(null==(r=n.startState.facet(eG.BH))?void 0:r.parser)!==i&&(s=nn.PH.empty),i&&s.length!==o.b.length)?(s=(0,e8.B)({parser:i,text:o.b,maxTime:16,base:s}),{diff:o,tree:s}):e.diff===o&&e.tree===s?e:{diff:o,tree:s}}}),ta=t(83846),ti="cm-transform-diff-line-deletion-base",to="cm-transform-diff-line-deletion",ts="cm-transform-diff-text-deletion",tl="cm-transform-diff-line-insertion-base",tu="cm-transform-diff-line-insertion",tc="cm-transform-diff-text-insertion",td="cm-transform-diff-number-marker",tf="rgba(180, 0, 0, 0.1)",tp="rgba(180, 0, 0, 0.125)",th="rgba(0, 180, 0, 0.1)",tm="rgba(0, 180, 0, 0.125)";function tv(e,n){var t="linear-gradient(to right, ".concat(e,", ").concat(e,")");return n&&(t+=", linear-gradient(to right, ".concat(n,", ").concat(n,")")),t}var tg=V.Lz.theme((r={},(0,ta._)(r,".".concat(tl,", .").concat(tu),{cursor:"text","&.cm-line ::selection":{backgroundColor:"".concat(X.LU.accentPrimaryDimmest," !important")}}),(0,ta._)(r,".".concat(ti),{background:tv(tf),backgroundClip:"content-box"}),(0,ta._)(r,".".concat(to),{background:tv(tf,tp),backgroundClip:"content-box"}),(0,ta._)(r,".".concat(tl),{background:tv(th),backgroundClip:"content-box"}),(0,ta._)(r,".".concat(tu),{background:tv(th,tm),backgroundClip:"content-box"}),(0,ta._)(r,".".concat(tc),{display:"inline-block",background:tm}),(0,ta._)(r,".".concat(ts),{display:"inline-block",background:tp}),(0,ta._)(r,".".concat(td),{opacity:.5}),r)),tb=t(62511),ty=t(69963),tw=function(e){function n(e,t,r){var a;return(0,j._)(this,n),(a=(0,n9._)(this,n)).line=e,a.index=t,a.changed=r,a}(0,n8._)(n,e);var t=n.prototype;return t.toDOM=function(){var e=this,n=document.createElement("div");if(n.className=this.changed?"cm-line ".concat(tl):"cm-line ".concat(tu),!this.changed||!this.changed.length){var t=!0,r=!1,a=void 0;try{for(var i,o=this.line[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value,l=s.text,u=s.tags,c=document.createElement("span");c.textContent=l||"\xa0",c.className=null!=u?u:"",n.appendChild(c)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n}for(var d=0,f=0,p=null,h=null,m=function(n,t){if(!p)throw Error("range is null");var r=e.line[f],a=r.text,i=r.tags,o=a.slice(d-p.from,t-p.from),s=document.createElement("span");s.textContent=o||"\xa0",s.className=null!=i?i:"",n.appendChild(s),d+=o.length};f<this.line.length;){if(!p){var v=this.line[f].text;p={from:d,to:d+v.length}}if(!h){var g=!0,b=!1,y=void 0;try{for(var w,_=this.changed[Symbol.iterator]();!(g=(w=_.next()).done);g=!0){var S=w.value;if(!(S.from>=p.to)&&!(S.to<=d)){var A=document.createElement("span");A.className=tc,h={from:S.from,to:S.to,dom:A},d<h.from&&m(n,h.from),n.appendChild(A);break}}}catch(e){b=!0,y=e}finally{try{g||null==_.return||_.return()}finally{if(b)throw y}}}h?(d<h.to&&m(h.dom,h.to),d>=h.to&&(h=null)):m(n,p.to),d>=p.to&&(p=null,f++)}return n},t.eq=function(e){var t,r;return(0,eT._)(e,n)&&this.index===e.index&&this.line.length===e.line.length&&(null==(t=this.changed)?void 0:t.length)===(null==(r=e.changed)?void 0:r.length)&&te()(this.line,e.line)&&te()(this.changed,e.changed)},t.ignoreEvent=function(e){return e.stopImmediatePropagation(),!0},(0,e$._)(n,[{key:"estimatedHeight",get:function(){return 21}}]),n}(V.xO),t_=V.NZ.line({class:ti}),tS=V.NZ.line({class:to}),tA=V.NZ.mark({class:ts}),tk=V.Lz.decorations.compute([tr],function(e){var n=function(e,n){if(r.getLineChangeType(e.number,tb.mn.A)===tb.DE.COVERED)i.push(tS.range(e.from));else{i.push(t_.range(e.from));var t=!0,a=!1,o=void 0;try{for(var s,l=(0,tb.QG)(e,n,tb.mn.A,!1)[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var u=s.value;i.push(tA.range(u.from,u.to))}}catch(e){a=!0,o=e}finally{try{t||null==l.return||l.return()}finally{if(a)throw o}}}},t=e.field(tr,!1);if(!t||!t.diff)return V.NZ.none;var r=t.diff,a=t.tree,i=[],o=!0,s=!1,l=void 0;try{for(var u,c=r.chunks[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;if(d.fromA!==d.endA)for(var f=r.a.lineAt(d.fromA),p=r.a.lineAt(d.endA),h=f.number;h<=p.number;h++)n(r.a.line(h),d);else d.fromB===d.endB&&n(r.a.lineAt(d.fromA),d);if(d.fromB!==d.toB)for(var m=r.b.lineAt(d.fromB),v=(0,ty.A7)(a,r.b,e,d.fromB,d.endB),g=0;g<v.length;g++){var b=v[g],y=r.b.line(m.number+g),w=r.getLineChangeType(y.number,tb.mn.B)===tb.DE.COVERED?null:(0,tb.QG)(y,d,tb.mn.B,!0),_=V.NZ.widget({widget:new tw(b,y.number,w),block:!0,side:g+1}),S=Math.min(d.endA,r.a.length);i.push(_.range(S))}}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}return V.NZ.set(i,!0)}),tC=t(28410),tY=function(e){function n(e){var t;return(0,j._)(this,n),(t=(0,n9._)(this,n)).index=e,t}(0,n8._)(n,e);var t=n.prototype;return t.toDOM=function(){var e=document.createElement("span");return e.className=td,e.textContent=String(this.index),e},t.eq=function(e){return this.index===e.index},n}(V.wJ),tE=tC.DY.of(function(e,n){if((0,eT._)(n,tw))return new tY(n.index)}),tx=K.sj.define({enables:function(e){return[tt.computeN([e],function(n){return n.facet(e)}),tr,tg,tk,tE]}}),tT=t(63881),tD=t(90689);function tI(e,n){e.dispatch({effects:tD.L.of(null),selection:{anchor:n.range.indexTo,head:n.range.indexTo}}),e.hasFocus||e.focus()}function tR(e,n,t){(0,ek.fJ)({view:e,insert:n,scrollIntoView:!0,insertAt:t}),e.dispatch({effects:tD.L.of(null)}),e.hasFocus||e.focus()}function tN(e,n){e.dispatch({effects:tD.M.of(n)})}function tO(e,n,t){e.dispatch({changes:{from:t.range.indexFrom,to:t.range.indexTo,insert:n},scrollIntoView:!0,effects:tD.L.of(null),annotations:[eN.A.of(!0),_._B.of("full")]}),e.hasFocus||e.focus()}function tP(e,n){return e.range.indexFrom===n.range.indexFrom&&e.range.indexTo===n.range.indexTo&&e.filePath===n.filePath&&e.fileVersion===n.fileVersion&&e.referenceType===n.referenceType}var tF=t(89832),tU=t(73455),tL=t(91953),tM=t(70399),tJ=(0,Y.x)({root:[E.wp.border({color:X.LU.outlineDimmest}),E.wp.p(8),E.wp.borderRadius(4)]}),tH=new tF.E(function(e){var n=e.onClose,t=e.requestMeasure;return(0,p.Y)(tT.N2,{requestMeasure:t,type:"ghostwriterKillswitch",children:(0,p.FD)(x.S,{css:tJ.root,row:!0,gap:8,children:[(0,p.Y)(x.S,{grow:!0,shrink:!0,children:(0,p.Y)(tL.EY,{children:"Code length exceeded. Please select a smaller code block."})}),(0,p.Y)(tU.K0,{alt:"Close",onClick:n,type:"button",children:(0,p.Y)(tM.A,{})})]})})}),tB=function(e){function n(e){var t,r=e.codeReference;return(0,j._)(this,n),(t=(0,n9._)(this,n)).codeReference=r,t}return(0,n8._)(n,e),n.prototype.toDOM=function(e){var n=this;return tH.create({onClose:function(){return tI(e,n.codeReference)},requestMeasure:function(){return e.requestMeasure()}})},n}(V.xO),tV=t(72837),t$=function(e){return e[e.Compare=0]="Compare",e[e.Original=1]="Original",e[e.Suggestion=2]="Suggestion",e}({}),tG=K.Pe.define(),tz=K.sU.define({create:function(){return t$.Suggestion},update:function(e,n){var t=!0,r=!1,a=void 0;try{for(var i,o=n.effects[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;if(s.is(tG))e=s.value;else if(s.is(tD.L))e=null;else if(s.is(tD.M)){var l=n.state.field(tV.z);if((null==l?void 0:l.type)==="transformCode"&&s.value){var u=n.startState.field(tV.Q),c=s.value;!u&&c&&(e=t$.Suggestion)}}}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return e}}),tW=K.sU.define({create:function(){return null},update:function(e,n){if(!(0,Q.$H)(n,"doc",tV.z,no.Md,tz,tV.Q))return e;var t,r=n.state.field(tV.z),a=n.state.facet(no.Md),i=n.state.field(tz);if(!r||!a||r.codeReference.filePath!==a||i!==t$.Suggestion)return null;var o=r.codeReference.range.indexFrom,s=r.codeReference.range.indexTo,l=n.state.doc.slice(o,s),u=null!=(t=n.state.field(tV.Q))?t:"",c=l.lines,d=u.split(n.state.lineBreak).length-c;return e&&e.after===o&&e.offset===d?e:{after:o,offset:d}}}),tj=tC.RG.of(function(e,n){var t=e.state.doc.lineAt(n.from),r=e.state.field(tW);if(r&&!(t.from<=r.after))return new tC.ib(t.number+r.offset)}),tq=tC.DY.of(function(e,n){if((0,eT._)(n,tZ))return new tC.ib(n.index)}),tZ=function(e){function n(e,t,r){var a;return(0,j._)(this,n),(a=(0,n9._)(this,n)).line=e,a.block=t,a.index=r,a}(0,n8._)(n,e);var t=n.prototype;return t.toDOM=function(){var e=document.createElement(this.block?"div":"span");e.className=this.block?"cm-line":"";var n=!0,t=!1,r=void 0;try{for(var a,i=this.line[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=a.value,s=o.text,l=o.tags,u=document.createElement("span");u.textContent=s||"\xa0",l&&(u.className=l),e.appendChild(u)}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}return e},t.eq=function(e){return this.index===e.index&&(0,ty.ne)(this.line,e.line)},t.ignoreEvent=function(){return!1},(0,e$._)(n,[{key:"estimatedHeight",get:function(){return 21}}]),n}(V.xO),tK=[tW,tj,tq,V.Lz.decorations.compute([eG.BH,tV.z,tV.Q,tz,tr,no.Md,K.$t.lineSeparator],function(e){var n=e.field(tV.z),t=e.facet(no.Md),r=e.field(tz);if(!n||"transformCode"!==n.type||!t||n.codeReference.filePath!==t||r!==t$.Suggestion)return V.NZ.none;var a=n.codeReference.range.indexFrom,i=n.codeReference.range.indexTo,o=e.doc.lineAt(a),s=e.doc.lineAt(i),l=e.toText(null!=(b=e.field(tV.Q))?b:""),u=e.changes({from:a,to:i,insert:l}),c=u.apply(e.doc),d=a+l.length,f=null==(g=e.facet(eG.BH))?void 0:g.parser,p=null;if(f)p=(0,e8.B)({parser:f,text:c,changes:u,base:e,upTo:d}),y=(0,ty.A7)(p,c,e,a,d);else{y=[];var h=!0,m=!1,v=void 0;try{for(var g,b,y,w,_=l.iterLines()[Symbol.iterator]();!(h=(w=_.next()).done);h=!0){var S=w.value;y.push([{text:S}])}}catch(e){m=!0,v=e}finally{try{h||null==_.return||_.return()}finally{if(m)throw v}}}var A=[];y.length>1&&a!==i&&0!==s.length&&i===s.to&&i<e.doc.length?A.push(V.NZ.replace({inclusive:!1,block:!0}).range(a,i)):A.push(V.NZ.replace({inclusiveStart:!1,block:!0}).range(a,i));for(var k=0;k<y.length;k++){var C=y[k],Y=o.number+k,E=V.NZ.widget({widget:new tZ(C,k>0,Y),inlineOrder:!0,side:k+1,block:k>0});A.push(E.range(a))}return V.NZ.set(A,!0)})],tQ=t(35992),tX=t(69832),t0=t(39938),t1=t(54634),t2=t(99282),t3=t(63289),t4=t(86057),t5=t(40756),t7=t(43585),t9=t(16935),t8=t(33683),t6=t(96617),re=K.sj.define({combine:function(e){var n;return null!=(n=e[0])?n:function(){}}});new G.k(function(e){return re.of(e)});var rn=(0,Y.x)({root:[E.wp.border({color:X.LU.outlineDimmest}),E.wp.p(8),E.wp.borderRadius(4)],header:[E.wp.minHeight(28)]}),rt={direction:"reverse",state:{message:"",completed:!1},reducer:function(e,n){var t;(null==(t=e.contents.contents)?void 0:t.$kind)==="inlineActionEventContents"&&e.contents.contents.inlineActionEventContents.content&&(n.message=e.contents.contents.inlineActionEventContents.content,n.completed=e.state===m.qOk.COMPLETE)}},rr=new tF.E(function(e){var n,t,r,a,i,o,s,l,u,c,d,f,b,y,w=e.requestMeasure,_=e.codeReference,S=e.onClose,A=e.openAiChatPane,k=e.source,C=(n=({getFileContext:(0,t4.H)()}).getFileContext,t=(0,v.NC)(),a=(r=(0,g._)((0,h.useState)(null),2))[0],i=r[1],s=(o=(0,g._)((0,h.useState)(!1),2))[0],l=o[1],u=(0,v.k)().assistantInlineMode,c=(0,h.useCallback)(function(e){var r=e.codeReference;return(0,H._)(function(){var e,a,o,s,c;return(0,B.YH)(this,function(d){switch(d.label){case 0:return l(!0),[4,t.sessions.create({sessionType:m.dF3.CHAT})];case 1:if(!(e=d.sent()).ok)return l(!1),[2];return i(a=e.payload),[4,n()];case 2:return s=(o=d.sent()).fileContext,c=o.mostRecentFile,[4,a.appendEvent({kind:"inlineAction",message:"",messageType:m.Z1T.EXPLAIN_CODE,modelType:"advanced"===u?m.e3q.ADVANCED:m.e3q.BASIC,codeReference:r,fileContext:s,mostRecentFile:c,useRag:!0})];case 3:return d.sent(),[2]}})})()},[t.sessions,n,u]),d=(0,h.useCallback)(function(){return(0,H._)(function(){return(0,B.YH)(this,function(e){switch(e.label){case 0:if(!a)return[3,2];return[4,a.abortLastEvent()];case 1:e.sent(),l(!1),e.label=2;case 2:return[2]}})})()},[a]),b=(f=(0,tX.Rj)(function(){return null==a?void 0:a.reduce(rt,1)},[a],{default:{message:"",completed:!1}})).message,y=f.completed,{sessionId:null==a?void 0:a.id,sendMessage:c,stopMessage:d,loading:s,message:b,completed:y}),Y=C.sessionId,E=C.sendMessage,T=C.stopMessage,D=C.loading,I=C.completed,R=C.message,N=(0,h.useCallback)(function(){var e,n;(0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"message_sent",intent_type:"explain",source:k,message_content:_.code}),E({codeReference:{code:_.code,range:_.range,filePath:_.filePath,fileContent:null!=(e=_.fileContent)?e:"",fileVersion:_.fileVersion,language:null!=(n=_.language)?n:"",referenceType:m.fDX.INLINE}})},[E,_,k]),O=(0,t0.A)(N),P=(0,t0.A)(T);(0,h.useEffect)(function(){O.current();var e=P.current;return function(){e()}},[O,P]);var F=(0,v.Gk)();return(0,v.q4)()?(0,p.Y)(tT.Rc,{inlineActionType:"Explain",closeAction:S}):(0,p.Y)(tT.N2,{requestMeasure:w,type:"explainCode",children:(0,p.FD)(x.S,{css:rn.root,gap:8,dataCy:"ghostwriter-inline-explain-content",children:[R||D?(0,p.FD)(x.S,{css:rn.header,row:!0,gap:8,align:"center",justify:"space-between",children:[(0,p.FD)(x.S,{grow:!0,shrink:!0,row:!0,gap:8,align:"center",children:[(0,p.Y)(t7.A,{}),(0,p.Y)(t1.m2,{intent:m.qRv.EXPLAIN,text:{color:"dimmest",variant:"small"},icon:{color:X.LU.foregroundDimmest}})]}),I?(0,p.Y)(tU.K0,{alt:"Close",dataCy:"ghostwriter-inline-close",children:(0,p.Y)(tM.A,{onClick:function(){S(),(0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"inline_textbox_closed",intent_type:"explain",source:k})}})}):(0,p.Y)(t5.$n,{iconLeft:(0,p.Y)(t6.A,{}),size:"small",text:"Stop",onClick:function(){T(),(0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"generation_stopped",intent_type:"explain",source:k,message_content:_.code})}})]}):null,D&&!R?(0,p.Y)(t8.A,{}):null,R?(0,p.Y)(t2.d2,{text:R,codeComponent:t2.vz,messageState:I?m.qOk.COMPLETE:void 0}):null,I?(0,p.FD)(x.S,{row:!0,gap:8,align:"center",justify:"end",children:[(0,p.Y)(tL.EY,{variant:"small",color:"dimmer",children:"Esc to close"}),Y?(0,p.Y)(t5.$n,{dataCy:"ghostwriter-inline-reply-in-chat",iconLeft:F?(0,p.Y)(t9.A,{}):(0,p.Y)(t8.A,{}),disabled:!F,size:"small",text:"Reply in Chat",colorway:F?"blurple":void 0,onClick:function(){(0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"reply_in_chat",intent_type:"explain",source:k,message_content:_.code}),A(Y),S()}}):null]}):null]})})}),ra=function(e){function n(e){var t,r=e.codeReference,a=e.source;return(0,j._)(this,n),(t=(0,n9._)(this,n)).codeReference=r,t.source=a,t}(0,n8._)(n,e);var t=n.prototype;return t.toDOM=function(e){var n=this.codeReference,t=this.source;return rr.create({requestMeasure:function(){return e.requestMeasure()},codeReference:n,onClose:function(){return tI(e,n)},openAiChatPane:function(n){return(0,t3.zw)(e.state,{pane:{type:"ghostwriterChat",data:{sessionId:n}}})},source:t})},t.updateDOM=function(e,n){var t=this.codeReference;return rr.update(e,function(e){return(0,tQ.jM)(e,function(e){e.requestMeasure=function(){return n.requestMeasure()},e.codeReference=t,e.onClose=function(){return tI(n,t)}})}),!0},t.eq=function(e){return tP(this.codeReference,e.codeReference)},n}(V.xO),ri={direction:"reverse",state:{code:void 0,completed:!1,error:null},reducer:function(e,n){var t;if((null==(t=e.contents.contents)?void 0:t.$kind)==="inlineActionEventContents"&&e.contents.contents.inlineActionEventContents){var r=e.contents.contents.inlineActionEventContents;if(r.content&&r.content.includes("```")){var a=r.content.match(/```(?:\w+)?\n([\s\S]+?)\n```/);a&&a[1]&&(n.code=a[1])}n.completed=e.state===m.qOk.COMPLETE&&!!n.code,e.state!==m.qOk.COMPLETE&&e.state!==m.qOk.IN_PROGRESS&&(n.error="Failed to generate code")}}};function ro(e){var n,t=e.onCode,r=e.getFileContext,a=e.assistantMode,i=(0,v.NC)(),o=(0,g._)((0,h.useState)(null),2),s=o[0],l=o[1],u=(0,g._)((0,h.useState)(!1),2),c=u[0],d=u[1],f=(0,g._)((0,h.useState)(null),2),p=f[0],b=f[1],y=(0,h.useCallback)(function(e){return(0,H._)(function(){var n,t,o,u;return(0,B.YH)(this,function(c){switch(c.label){case 0:if(d(!0),b(null),n=s)return[3,2];return[4,i.sessions.create({sessionType:m.dF3.INLINE_CHAT})];case 1:if(!(t=c.sent()).ok)return d(!1),b("Failed to create session"),[2];l(n=t.payload),c.label=2;case 2:if(!r)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,r()];case 4:return o=c.sent(),[3,6];case 5:return c.sent(),d(!1),b("Failed to get file context"),[2];case 6:u="advanced"===a?m.e3q.ADVANCED:m.e3q.BASIC,c.label=7;case 7:return c.trys.push([7,9,,10]),[4,n.appendEvent({kind:"inlineAction",message:e.message,messageType:e.type,modelType:u,codeReference:e.codeReference,fileContext:null==o?void 0:o.fileContext,mostRecentFile:null==o?void 0:o.mostRecentFile,useRag:!0})];case 8:return c.sent(),[3,10];case 9:return c.sent(),d(!1),b("Failed to send message"),[3,10];case 10:return[2]}})})()},[i.sessions,s,r,a]),w=(0,h.useCallback)(function(){return(0,H._)(function(){return(0,B.YH)(this,function(e){switch(e.label){case 0:if(!s)return[3,2];return[4,s.abortLastEvent()];case 1:e.sent(),d(!1),e.label=2;case 2:return[2]}})})()},[s]),_=(0,h.useCallback)(function(){return b(null)},[]),S=(0,h.useMemo)(function(){return null==s?void 0:s.reduce(ri,1).result},[s]),A=(0,tX.G9)(S);return(0,tX.q3)(S,{next:function(e){(null==e?void 0:e.completed)&&c&&d(!1),(null==e?void 0:e.error)&&!p&&b(e.error),(null==e?void 0:e.code)&&t(e.code)}}),{sendMessage:y,stopMessage:w,getCode:function(){return A.current},loading:c,completed:null==(n=A.current)?void 0:n.completed,error:p,clearError:_}}var rs=t(21727),rl=t(35275),ru=t(66186),rc=t(26796),rd=(0,nW.eU)(0),rf=(0,nW.eU)(function(e){return e(rd)<=tT.bX?"compact":"normal"}),rp=new tF.E(function(e){var n=e.id,t=e.requestMeasure,r=e.codeReference,a=e.updateCodeBlock,i=e.acceptSuggestion,o=e.onClose,s=e.autoFocus,l=e.source,u=function(){var e=S();(null==e?void 0:e.code)?(i(e.code),(0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"suggestion_accepted",intent_type:"generate",message_content:e.code,source:l})):E()},c=function(){var e,n;T.current=R,(0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"message_sent",intent_type:"generate",message_content:R,source:l}),w({message:R,type:m.Z1T.GENERATE_CODE,codeReference:{code:r.code,range:r.range,filePath:r.filePath,fileContent:null!=(e=r.fileContent)?e:"",fileVersion:r.fileVersion,language:null!=(n=r.language)?n:"",referenceType:m.fDX.INLINE}})},d=(0,v.k)().assistantInlineMode,f=(0,v.UK)().hasAccessToAdvancedModel,b=(0,v.lW)(),y=ro({onCode:a,getFileContext:(0,t4.H)(),assistantMode:d}),w=y.sendMessage,_=y.stopMessage,S=y.getCode,A=y.loading,k=y.completed,C=y.error,Y=y.clearError,E=(0,h.useCallback)(function(){_(),o()},[_,o]),x=(0,h.useCallback)(function(){(0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"inline_textbox_closed",intent_type:"generate",source:l}),E()},[E,l]),T=(0,h.useRef)(null),D=(0,h.useRef)(null),I=(0,tT.D3)({id:n,inputRef:D,loading:A,onSubmit:function(){M?u():c()},onClose:x}),R=I.value,N=I.setValue,O=I.onKeyDown,P=I.escPressed,F=function(){(0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"generation_stopped",intent_type:"generate",message_content:R,source:l}),_()},U=(0,v.Gk)(),L=(0,v.q4)(),M=U&&k&&T.current===R,J=(0,g._)((0,h.useState)(function(){return(0,nW.y$)()}),1)[0],H=(0,nj.Xr)(rd,{store:J}),B=(0,nj.md)(rf,{store:J}),V=(0,rs.A)(function(e){return H(e.width)}),$=(0,ru.hT)(),G=$===m.g32.AGENT_STATE_RUNNING||$===m.g32.AGENT_STATE_PAUSING;return L?(0,p.Y)(tT.Rc,{inlineActionType:"Generate",closeAction:E}):G?(0,p.Y)(tT.ce,{inlineActionType:"Generate",closeAction:E}):(0,p.Y)(p.FK,{children:(0,p.FD)(tT.y1,{requestMeasure:t,type:"generateCode",error:C,clearError:Y,innerRef:V,children:[(0,p.Y)(tT.pd,{value:R,inputRef:D,onChange:function(e){return N(e.currentTarget.value)},placeholder:"Enter a prompt to generate new code",onKeyDown:O,autoFocus:s}),(0,p.FD)(tT.wi,{children:[(0,p.FD)(p.FK,{children:[(0,p.Y)(tT.sb,{type:"generateCode",readableModelName:f?b.advancedModel.name.readable:b.basicModel.name.readable}),k?(0,p.Y)(tU.K0,{disabled:!U,alt:"Rerun the same prompt",onClick:function(){return c()},size:12,colorway:"grey",children:(0,p.Y)(rc.A,{})}):null]}),M?(0,p.FD)(p.FK,{children:[(0,p.Y)(t5.$n,{variant:"outlined",size:"small",text:"Reject",onClick:function(){var e=S();(0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"suggestion_rejected",intent_type:"generate",message_content:(null==e?void 0:e.code)?e.code:"",source:l}),x()}}),(0,p.Y)(t5.$n,{size:"small",text:"Accept",colorway:"blurple",onClick:u,dataCy:"ghostwriter-inline-accept-suggestion"})]}):(0,p.Y)(tT.XT,{escPressed:P,connecting:!U,loading:A,disabled:!R||!R.trim(),promptPresentation:"normal"===B,onClick:function(){A?F():c()}})]})]})})}),rh=function(e){function n(e){var t,r=e.id,a=e.codeReference,i=e.source;return(0,j._)(this,n),(t=(0,n9._)(this,n)).id=r,t.codeReference=a,t.source=i,t}(0,n8._)(n,e);var t=n.prototype;return t.toDOM=function(e){var n=this.id,t=this.codeReference,r=this.source,a=rp.create({id:n,requestMeasure:function(){return e.requestMeasure()},codeReference:t,onClose:function(){return tI(e,t)},acceptSuggestion:function(n){return tR(e,n,t.range.indexFrom)},updateCodeBlock:function(n){return tN(e,n)},autoFocus:!0,source:r});return a.style.position="sticky",a.style.top="0px",a.style.zIndex=String(rl.W.floatingHeaderActive),a},t.updateDOM=function(e,n){var t=this.codeReference;return rp.update(e,function(e){return(0,tQ.jM)(e,function(e){e.requestMeasure=function(){return n.requestMeasure()},e.codeReference=t,e.onClose=function(){return tI(n,t)},e.acceptSuggestion=function(e){return tR(n,e,t.range.indexFrom)},e.updateCodeBlock=function(e){return tN(n,e)},e.autoFocus=!1})}),!0},t.eq=function(e){return tP(this.codeReference,e.codeReference)},n}(V.xO),rm=t(74177),rv=t(30284),rg=t(47737),rb=t(23585),ry=t(98207),rw=t(99365),r_=(0,Y.x)({container:[{marginRight:16},E.wp.height("100%")],hintButton:[E.wp.height("100%")]}),rS=new tF.E(function(e){var n=e.onGenerateCode,t=e.height,r=(0,rg.m5)(),a=(0,rw.Jn)(rb.G.id),i=Math.round(.6*t);return(0,p.Y)(x.S,{css:r_.container,children:(0,p.Y)(ry.u,{keyCombo:r?void 0:a,text:"Generate",fontSize:i,css:r_.hintButton,onClick:function(){(0,nX.u4)(rv.AZ.GHOSTWRITER_CHAT_INLINE_HINT_CLICKED,{action:"generate"}),n()}})})}),rA=V.Lz.theme({".cm-ghostwriter-hint-layer":{width:"100%"}}),rk=function(e){var n=e.selection.main.head;return e.doc.lineAt(n)},rC=new G.k(function(e){return K.sU.define({create:function(e){return rk(e)},compare:te(),update:function(e,n){return rk(n.state)},provide:function(n){return[rA,K.Nb.high((0,V.qd)({above:!0,class:"cm-ghostwriter-hint-layer",update:function(e){return(0,Q.$H)(e,n,tV.z,eR.RJ)},markers:function(t){var r=t.state.field(n,!1);if(!r||!t.state.selection.main.empty)return[];var a=t.state.field(tV.z,!1),i=0===t.state.doc.length,o=(0,rm.R)(t.state);if(r.length>0||a||o||i)return[];var s=t.dom.querySelector(".cm-minimap-gutter"),l=(null==s?void 0:s.clientWidth)||0,u=r.to,c=t.lineBlockAt(u),d=c.top,f=c.height;return[new rY({top:d+t.documentPadding.top,height:f,right:l,pocketOpen:null!==a,activeEditor:t.hasFocus,onGenerateCode:e})]}}))]}})}),rY=function(){function e(n){(0,j._)(this,e),this.options=n}var n=e.prototype;return n.position=function(e){e.style.top=this.options.top+"px",e.style.height=this.options.height+"px",e.style.right=this.options.right+"px",e.style.paddingRight=Math.round(.2*this.options.height)+"px"},n.draw=function(){var e=rS.create({onGenerateCode:this.options.onGenerateCode,height:this.options.height});return e.className="cm-ghostwriter-hint-marker",this.options.activeEditor||(e.style.visibility="hidden"),this.position(e),e},n.eq=function(e){return this.options.top===e.options.top&&this.options.pocketOpen===e.options.pocketOpen&&this.options.activeEditor===e.options.activeEditor},e}(),rE=t(29218),rx=(0,Y.x)({root:[E.wp.border({color:X.LU.outlineDimmest}),E.wp.p(8),E.wp.borderRadius(4)]}),rT=new tF.E(function(e){var n=e.onClose,t=e.requestMeasure;return(0,p.Y)(tT.N2,{requestMeasure:t,type:"ghostwriterKillswitch",children:(0,p.FD)(x.S,{css:rx.root,row:!0,gap:8,children:[(0,p.Y)(x.S,{grow:!0,shrink:!0,children:(0,p.Y)(rE.E,{textVariant:"text"})}),(0,p.Y)(tU.K0,{alt:"Close",onClick:n,type:"button",children:(0,p.Y)(tM.A,{})})]})})}),rD=function(e){function n(e){var t,r=e.codeReference;return(0,j._)(this,n),(t=(0,n9._)(this,n)).codeReference=r,t}return(0,n8._)(n,e),n.prototype.toDOM=function(e){var n=this;return rT.create({onClose:function(){return tI(e,n.codeReference)},requestMeasure:function(){return e.requestMeasure()}})},n}(V.xO),rI=t(33747),rR=t(69086),rN=(0,nW.eU)(0),rO=(0,nW.eU)(function(e){return e(rN)<=tT.bX?"compact":"normal"}),rP=new tF.E(function(e){var n=e.id,t=e.requestMeasure,r=e.codeReference,a=e.updateCodeBlock,i=e.acceptSuggestion,o=e.onClose,s=e.autoFocus,l=e.updateDiffSelection,u=e.source,c=function(){var e=k();(null==e?void 0:e.completed)===void 0&&(null==N?void 0:N.completed)&&(e=N),(null==e?void 0:e.code)?((0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"suggestion_accepted",intent_type:"modify",message_content:e.code,source:u}),i(e.code)):F()},d=function(){var e,n;L.current=B,(0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"message_sent",intent_type:"modify",message_content:B,source:u}),S({message:B,type:m.Z1T.TRANSFORM_CODE,codeReference:{code:r.code,range:r.range,filePath:r.filePath,fileContent:null!=(e=r.fileContent)?e:"",fileVersion:r.fileVersion,language:null!=(n=r.language)?n:"",referenceType:m.fDX.INLINE}})},f=(0,v.k)().assistantInlineMode,b=(0,v.UK)().hasAccessToAdvancedModel,y=(0,v.lW)(),w=(0,v.q4)(),_=ro({onCode:a,getFileContext:(0,t4.H)(),assistantMode:f}),S=_.sendMessage,A=_.stopMessage,k=_.getCode,C=_.loading,Y=_.completed,E=_.error,x=_.clearError,T=(0,g._)((0,h.useState)(!1),2),D=T[0],I=T[1],R=(0,g._)((0,h.useState)(null),2),N=R[0],O=R[1],P=(0,t0.A)(l);(0,h.useEffect)(function(){if(C)return void P.current(t$.Suggestion);(Y||D)&&P.current(E?t$.Original:t$.Compare)},[P,Y,D,E,C]);var F=(0,h.useCallback)(function(){A(),o()},[A,o]),U=(0,h.useCallback)(function(){(0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"inline_textbox_closed",intent_type:"modify",source:u}),F()},[F,u]),L=(0,h.useRef)(null),M=function(){(0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"generation_stopped",intent_type:"modify",message_content:B,source:u}),A()},J=(0,h.useRef)(null),H=(0,tT.D3)({id:n,inputRef:J,loading:C,onSubmit:function(){W?c():d()},onClose:U}),B=H.value,V=H.setValue,$=H.onKeyDown,G=H.escPressed,z=(0,v.Gk)(),W=z&&!E&&(Y||D)&&L.current===B,j=(0,g._)((0,h.useState)(function(){return(0,nW.y$)()}),1)[0],q=(0,nj.Xr)(rN,{store:j}),Z=(0,nj.md)(rO,{store:j}),K=(0,rs.A)(function(e){return q(e.width)});(0,h.useEffect)(function(){var e="inline-ai/last-sent-value/".concat(n),t="inline-ai/last-completed/".concat(n),r="inline-ai/last-code-res/".concat(n),a=rR.A.get(e,"string"),i=rR.A.get(t,"boolean"),o=rR.A.get(r,"object");return a&&(L.current=a),I(!!i&&i),o&&O({code:o.code,completed:o.completed,error:o.error}),function(){rR.A.set(t,Y||i);var n=k();if((null==n?void 0:n.completed)!==void 0&&rR.A.set(r,n),L.current){var a=L.current;if(0===a.length)return void rR.A.remove(e);rR.A.set(e,a)}}},[Y,k,n]);var Q="basic"===f?rI.a:rI.K6,X=r.code.length>Q,ee=(0,ru.hT)(),en=ee===m.g32.AGENT_STATE_RUNNING||ee===m.g32.AGENT_STATE_PAUSING;return w?(0,p.Y)(tT.Rc,{inlineActionType:"Modify",closeAction:F}):en?(0,p.Y)(tT.ce,{inlineActionType:"Modify",closeAction:F}):(0,p.Y)(p.FK,{children:(0,p.FD)(tT.y1,{requestMeasure:t,type:"generateCode",error:E,clearError:x,innerRef:K,children:[(0,p.Y)(tT.pd,{value:B,inputRef:J,onChange:function(e){return V(e.currentTarget.value)},placeholder:"Enter a prompt to modify selected lines",onKeyDown:$,autoFocus:s}),(0,p.FD)(tT.wi,{children:[(0,p.FD)(p.FK,{children:[(0,p.Y)(tT.sb,{type:"transformCode",readableModelName:b?y.advancedModel.name.readable:y.basicModel.name.readable}),Y||D?(0,p.Y)(tU.K0,{alt:"Rerun the same prompt",onClick:function(){return d()},size:12,colorway:"grey",disabled:!z,children:(0,p.Y)(rc.A,{})}):null]}),W?(0,p.FD)(p.FK,{children:[(0,p.Y)(t5.$n,{variant:"outlined",size:"small",text:"Reject",onClick:function(){var e=k();(null==e?void 0:e.completed)===void 0&&(null==N?void 0:N.completed)&&(e=N),(0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"suggestion_rejected",intent_type:"modify",message_content:(null==e?void 0:e.code)?e.code:"",source:u}),U()}}),(0,p.Y)(t5.$n,{size:"small",text:"Accept",colorway:"blurple",onClick:c,dataCy:"ghostwriter-inline-accept-suggestion"})]}):(0,p.Y)(tT.XT,{escPressed:G,connecting:!z,loading:C,disabled:!B||!B.trim()||X,promptPresentation:"normal"===Z,onClick:function(){C?M():d()},codeLengthExceeded:X})]})]})})}),rF=function(e){function n(e){var t,r=e.id,a=e.codeReference,i=e.source;return(0,j._)(this,n),(t=(0,n9._)(this,n)).id=r,t.codeReference=a,t.source=i,t}(0,n8._)(n,e);var t=n.prototype;return t.toDOM=function(e){var n=this.id,t=this.codeReference,r=this.source,a=rP.create({id:n,requestMeasure:function(){return e.requestMeasure()},codeReference:t,onClose:function(){return tI(e,t)},acceptSuggestion:function(n){return tO(e,n,t)},updateCodeBlock:function(n){tN(e,n)},updateDiffSelection:function(n){e.dispatch({effects:tG.of(n)})},autoFocus:!0,source:r});return a.style.position="sticky",a.style.top="0px",a.style.zIndex="10",a},t.updateDOM=function(e,n){var t=this.codeReference;return rP.update(e,function(e){return(0,tQ.jM)(e,function(e){e.requestMeasure=function(){return n.requestMeasure()},e.codeReference=t,e.onClose=function(){return tI(n,t)},e.acceptSuggestion=function(e){return tO(n,e,t)},e.updateCodeBlock=function(e){return tN(n,e)},e.updateDiffSelection=function(e){n.dispatch({effects:tG.of(e)})},e.autoFocus=!1})}),!0},t.eq=function(e){return tP(this.codeReference,e.codeReference)},n}(V.xO),rU=X.LU.blurpleDimmest,rL=X.LU.accentPrimaryDimmest,rM=V.Lz.theme({".cm-pocket-highlight":{backgroundColor:X.LU.blurpleDimmest,opacity:.2},"@keyframes moveGradient":{"0%":{backgroundPositionX:"100%"},"100%":{backgroundPositionX:"0%"}},".cm-pocket-highlight-loading":{background:"linear-gradient(90deg, ".concat(X.LU.blurpleDimmest,", ").concat(rL,", ").concat(rU,", ").concat(rL,")"),backgroundSize:"300% 100%",backgroundPositionX:"0%",animation:"moveGradient 2s linear infinite"}}),rJ=V.Lz.decorations.compute([tV.z,tz,no.Md],function(e){var n=e.field(tV.z),t=e.facet(no.Md);if(!n||!t||n.codeReference.filePath!==t)return V.NZ.none;var r=e.doc.lineAt(n.codeReference.range.indexFrom).from,a={generateCode:rh,transformCode:rF,explainCode:ra,ghostwriterKillswitch:rD,codeLengthExceeded:tB}[n.type],i=V.NZ.widget({widget:new a({id:n.id,codeReference:n.codeReference,source:n.source}),block:!0,side:0}).range(r);return V.NZ.set(i)}),rH=(0,V.qd)({above:!1,update:function(e){return(0,Q.$H)(e,tV.z)},markers:function(e){var n=e.state.field(tV.z),t=e.state.facet(no.Md);if(!n||!t||n.codeReference.filePath!==t)return[];var r=n.codeReference.range.indexFrom,a=n.codeReference.range.indexTo,i=e.state.doc.lineAt(a);i.from>=r&&i.to===a&&a<e.state.doc.length&&(a+=1);var o=K.OF.range(r,a),s=n.loading&&n.codeReference.range.indexFrom<n.codeReference.range.indexTo?"cm-pocket-highlight-loading":"cm-pocket-highlight";return V.Ip.forRange(e,s,o)}}),rB=tx.compute([tV.z,tV.Q,no.Md,tz],function(e){var n=e.field(tV.z),t=e.field(tV.Q),r=e.facet(no.Md),a=e.field(tz);return n&&t&&r&&n.codeReference.filePath===r&&"transformCode"===n.type&&a===t$.Compare?K.VR.of({from:n.codeReference.range.indexFrom,to:n.codeReference.range.indexTo,insert:t},e.doc.length).apply(e.doc):null}),rV=n7.x.compute([tV.z,tV.Q,no.Md],function(e){var n=e.field(tV.z),t=e.field(tV.Q),r=e.facet(no.Md);return n&&t&&r&&n.codeReference.filePath===r&&"generateCode"===n.type?K.VR.of({from:n.codeReference.range.indexTo,to:n.codeReference.range.indexTo,insert:t},e.doc.length):null}),r$=function(e){function n(e){var t;return(0,j._)(this,n),(t=(0,n9._)(this,n)).type=e,t}return(0,n8._)(n,e),n.from=function(e){switch(e){case"yours":return this.yours;case"base":return this.base;case"middle":return this.middle;case"theirs":return this.theirs}},n.range=function(e,n,t){return this.from(e).range(n,t)},n}(K.FB);function rG(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,a=[],i=t;i<=r;){var o=e.lineAt(i),s=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;if(e.text.length<n)return null;var t=e.text[0],r=function(e){switch(e){case"<":return"yours";case"|":return"base";case"=":return"middle";case">":return"theirs";default:return null}}(t);if(!r)return null;var a=t.repeat(n);return e.text.slice(0,n)!==a||e.text.length>n&&" "!==e.text[n]?null:r}(o,n);s&&a.push(r$.range(s,o.from,o.to)),i=o.to+1}return a}r$.yours=new r$("yours"),r$.base=new r$("base"),r$.middle=new r$("middle"),r$.theirs=new r$("theirs");var rz=["yours","base","middle","theirs"];function rW(e){Array.isArray(e)&&(e=K.om.of(e));var n=[],t=[];if(0===e.size)return{hunks:n,hanging:t};for(var r=e.iter();null!==r.value;){var a,i={},o={},s=[],l=!0,u=!1,c=void 0;try{for(var d,f=rz[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var p=d.value,h=r.value,m=r.from,v=r.to;if("base"!==p||h.type===p){if(h.type===p)i[p]={from:m,to:v},s.push({from:m,to:v,type:h.type});else if("yours"!==h.type)s.push({from:m,to:v,type:h.type});else break;if(r.next(),null===r.value)break}}}catch(e){u=!0,c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}if(!i.yours||!i.middle||!i.theirs){t.push.apply(t,(0,b._)(s));continue}null!=i.base||(i.base=null),null!=o.base||(o.base=null);var g=null!=(a=i.base)?a:i.middle,y=i.yours.to+1,w=g.from-1;if(o.yours=y<w?{from:y,to:w}:null,i.base){var _=i.base.to+1,S=i.middle.from-1;o.base=_<S?{from:_,to:S}:null}var A=i.middle.to+1,k=i.theirs.from-1;o.theirs=A<k?{from:A,to:k}:null;var C={from:i.yours.from,to:i.theirs.to,markers:i,content:o};n.push(C)}return{hunks:n,hanging:t}}var rj=K.sj.define({combine:function(e){return e.length?e[0]:7}}),rq=K.sU.define({create:function(e){var n=e.doc,t=e.facet(rj),r=K.om.of(rG(n,t)),a=rW(r);return{markers:r,hunks:a.hunks,hanging:a.hanging}},update:function(e,n){var t=n.newDoc,r=n.startState.facet(rj),a=n.state.facet(rj);if(r!==a){var i=K.om.of(rG(t,a)),o=rW(i);return{markers:i,hunks:o.hunks,hanging:o.hanging}}if(!n.docChanged)return e;var s=null,l=null,u=null,c=null;n.changes.iterChangedRanges(function(e,n,t,r){s=null===s?e:Math.min(s,e),l=null===l?n:Math.max(l,n),u=null===u?t:Math.min(u,t),c=null===c?r:Math.max(c,r)});var d=e.markers;if(null!==s&&null!==l){var f=n.startState.doc.lineAt(s).from,p=n.startState.doc.lineAt(l).to;d=d.update({filter:function(){return!1},filterFrom:f,filterTo:p})}d=d.map(n.changes),null!==u&&null!==c&&(d=d.update({add:rG(t,a,u,c)}));var h=rW(d);return{markers:d,hunks:h.hunks,hanging:h.hanging}}}),rZ=V.Lz.atomicRanges.from(rq,function(e){return function(){return e.markers}}),rK=K.$t.changeFilter.of(function(e){var n=e.startState.field(rq);if(!e.docChanged||0===n.markers.size)return!0;var t=e.startState.doc,r=[];return e.changes.iterChanges(function(e,a,i,o,s){var l=s.length,u=Math.max(t.lineAt(e).from-1,0),c=Math.min(t.lineAt(a).to+1,t.length);n.markers.between(u,c,function(n,u){if((!(e<=n)||!(a>=u))&&(0===l||(e!==u||"\n"!==s.sliceString(0,1))&&(a!==n||"\n"!==s.sliceString(l-1,l)))){if(i!==o||(a!==u+1||0!==t.lineAt(a).length)&&(e!==n-1||0!==t.lineAt(e).length))r.push(n-1,u+1)}})}),!(r.length>0)||r}),rQ=K.$t.transactionFilter.of(function(e){var n=e.docChanged?e.state.field(rq):e.startState.field(rq);if(0===n.markers.size)return e;var t=e.newSelection,r=!1,a=!1;do{a=!1;for(var i=0;i<t.ranges.length&&"break"!==function(e){var i=t.ranges[e],o=i.from,s=i.to,l=o,u=s;if(n.markers.between(o,s,function(e,n){var t=(e+n)/2;o>e&&o<n&&(l=o<t?e:n),s>e&&s<n&&(u=s<t?e:n)}),l!==o||u!==s){var c,d=i.anchor<i.head?l:u,f=i.anchor<i.head?u:l,p=i.goalColumn,h=null!=(c=i.bidiLevel)?c:void 0,m=K.OF.range(d,f,p,h);return t=t.replaceRange(m,e),a=!0,r=!0,"break"}}(i);i++);}while(a);return r?[e,{selection:t,sequential:!0}]:e}),rX="cm-git-conflict-marker-yours",r0="cm-git-conflict-marker-base",r1="cm-git-conflict-marker-middle",r2="cm-git-conflict-marker-theirs",r3="cm-git-conflict-marker-hanging",r4="cm-git-conflict-content-yours",r5="cm-git-conflict-content-base",r7="cm-git-conflict-content-theirs";function r9(e){var n=e.background,t=e.color,r=e.noBorder,a={color:t,backgroundColor:n,backgroundClip:"padding-box",paddingTop:X.LU.space4,paddingBottom:X.LU.space4,fontWeight:X.LU.fontWeightBold};return void 0!==r&&r||(a.borderLeft="4px solid rgba(0, 150, 255, 0.1)",a.paddingLeft="2px"),a}function r8(e){return{backgroundColor:e.background,backgroundClip:"padding-box",borderLeft:"4px solid rgba(0, 150, 255, 0.1)",paddingLeft:"2px"}}var r6=V.Lz.theme((a={},(0,ta._)(a,".".concat(rX),r9({background:"rgba(0, 150, 255, 0.1)",color:X.LU.blueStrongest,noBorder:!0})),(0,ta._)(a,".".concat(r1),r9({background:"rgba(255, 0, 0, 0.1)",color:X.LU.redStrongest})),(0,ta._)(a,".".concat(r0),r9({background:"rgba(255, 165, 0, 0.1)",color:X.LU.orangeStrongest})),(0,ta._)(a,".".concat(r2),r9({background:"rgba(0, 150, 255, 0.1)",color:X.LU.blueStrongest,noBorder:!0})),(0,ta._)(a,".".concat(r3),r9({background:"rgba(100, 150, 255, 0.1)",color:X.LU.blueStrongest,noBorder:!0})),(0,ta._)(a,".".concat(r4),r8({background:"rgba(0, 255, 0, 0.1)"})),(0,ta._)(a,".".concat(r7),r8({background:"rgba(255, 0, 0, 0.1)"})),(0,ta._)(a,".".concat(r5),r8({background:"rgba(255, 165, 0, 0.1)"})),a)),ae={yours:{marker:V.NZ.line({class:rX}),content:V.NZ.line({class:r4})},base:{marker:V.NZ.line({class:r0}),content:V.NZ.line({class:r5})},middle:{marker:V.NZ.line({class:r1})},theirs:{marker:V.NZ.line({class:r2}),content:V.NZ.line({class:r7})},hanging:{marker:V.NZ.line({class:r3})}},an=function(){function e(n){(0,j._)(this,e),this.builder=new K.vB,this.doc=n}var n=e.prototype;return n.add=function(e,n){var t=this.doc.lineAt(e.from);if(t.to>=e.to)return void this.builder.add(t.from,t.from,n);for(var r=t.from;r<=e.to;)this.builder.add(r,r,n),r=this.doc.lineAt(r).to+1},n.finish=function(){return this.builder.finish()},e}(),at=V.Lz.decorations.from(rq,function(e){return function(n){var t=new an(n.state.doc),r=!0,a=!1,i=void 0;try{for(var o,s=e.hunks[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;n.viewport.from>l.to||n.viewport.to<l.from||(t.add(l.markers.yours,ae.yours.marker),l.content.yours&&t.add(l.content.yours,ae.yours.content),l.markers.base&&t.add(l.markers.base,ae.base.marker),l.content.base&&t.add(l.content.base,ae.base.content),t.add(l.markers.middle,ae.middle.marker),l.content.theirs&&t.add(l.content.theirs,ae.theirs.content),t.add(l.markers.theirs,ae.theirs.marker))}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return t.finish()}}),ar=V.Lz.decorations.from(rq,function(e){return function(){var n=new K.vB,t=!0,r=!1,a=void 0;try{for(var i,o=e.hanging[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.add(s.from,s.from,ae.hanging.marker)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n.finish()}}),aa=[rq,[rZ,rK,rQ],[K.Nb.lowest(r6),at,ar]],ai=function(){function e(n,t,r,a,i,o){(0,j._)(this,e),this.original=n,this.current=t,this.chunks=r,this.desc=a,this.pending=i,this.ranges=o}var n=e.prototype;return n.hasChanges=function(){return this.ranges.length>0},n.update=function(n,t){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,o=this.original,s=this.chunks,l=this.desc,u=this.pending,c=this.ranges;if(Math.abs((this.pending?this.pending.length:this.current.length)-n.length)>=250||a){var d=(0,tb._c)(l,u,t).pending;s=(0,tb.Pt)(o,n,{chunks:s,changesB:d},i),l=(0,tb.fc)(s,o.length),u=null,c=(0,tb.Zl)(l)}else u=(r=(0,tb._c)(l,u,t)).pending,l=r.desc,c=(0,tb.Zl)(l);return u&&n.eq(o)&&(s=[],l=K.VR.empty(o.length),u=null,c=[]),new e(o,n,s,l,u,c)},n.isAccurate=function(){return null===this.pending},n.getLineChangeType=function(e){var n=this.current.line(e);return 0===this.original.length&&this.current.length>0?tb.DE.COVERED:(0,tb.$F)(this.original,this.current,n,tb.mn.B,this.ranges)},n.iterRanges=function(){return(0,B.YH)(this,function(e){switch(e.label){case 0:return[5,(0,B.Ju)(this.ranges)];case 1:return e.sent(),[2]}})},e.create=function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tb.r6,a=(0,tb.Pt)(n,t,void 0,r),i=(0,tb.fc)(a,n.length),o=(0,tb.Zl)(i);return new e(n,t,a,i,null,o)},e}(),ao=K.sj.define({combine:function(e){var n;return null!=(n=e.filter(Boolean)[0])?n:null}}),as=K.sU.define({create:function(){return null},update:function(e,n){var t=n.state.facet(ao);if(!t||Math.max(t.lines,n.newDoc.lines)>5e3||Math.max(t.length,n.newDoc.length)>4e5)return null;var r=performance.now(),a=tb.r6,i="unknown";e&&e.original.eq(t)?n.docChanged&&(e=e.update(n.newDoc,n.changes,!(n.isUserEvent("input.type")||n.isUserEvent("delete.forward")||n.isUserEvent("delete.backward")),a),i="update"):(e=ai.create(t,n.newDoc,a),i="create");var o=performance.now()-r;return o>1e3&&nV.vF.time("slow SloppyDiff.create recorded",o,{start:t.toString(),end:n.newDoc.toString(),scanLimit:a.scanLimit,type:i}),e}}),al=t(10021),au=(0,V.cU)({class:al.n1,renderEmptyElements:!0,lineMarker:function(e,n){var t=e.state.field(as,!1);if(!t||!t.hasChanges())return al.jn;if(0===t.original.length)return al.Ww;var r=e.state.doc.lineAt(n.from);switch(t.getLineChangeType(r.number)){case tb.DE.COVERED:return al.CI;case tb.DE.MODIFIED:return al.tH;default:return al.jn}},initialSpacer:function(e){return e.state.field(as,!1)?al.Ww:al.jn},updateSpacer:function(e,n){var t=n.state.field(as,!1)?al.Ww:al.jn;return e===t?e:t}}),ac=K.sj.define({enables:function(e){return[ao.computeN([e],function(n){return n.facet(e)}),al.s,as,K.Nb.highest(au)]}}),ad=t(28623),af=function(e){return e.GUTTER_DIFF="GUTTER_DIFF",e.INLINE_DIFF="INLINE_DIFF",e}({}),ap=K.Pe.define(),ah=K.Pe.define(),am=K.sU.define({create:function(){return{head:null,mode:"GUTTER_DIFF"}},update:function(e,n){var t=e.head,r=e.mode,a=!0,i=!1,o=void 0;try{for(var s,l=n.effects[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;u.is(ap)?t=u.value:u.is(ah)&&(r=u.value)}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return t!==e.head||r!==e.mode?{head:t,mode:r}:e},provide:function(e){return[ac.from(e,function(e){return"GUTTER_DIFF"===e.mode?e.head:null}),ad.X.from(e,function(e){return"INLINE_DIFF"===e.mode?e.head:null})]}}),av=function(){function e(n,t,r){var a=this;(0,j._)(this,e),this.view=n,this.git=t,this.path=r,this.disposed=!1,this.dispose=t.onRefresh(function(){return a.fetchThenUpdateState()}),this.fetchThenUpdateState()}var n=e.prototype;return n.fetchThenUpdateState=function(){return(0,H._)(function(){var e,n,t,r,a;return(0,B.YH)(this,function(i){switch(i.label){case 0:return[4,this.git.getFileContents({path:this.path,revision:"HEAD",convertToBase64:(0,n_.FN)(this.path)})];case 1:if(e=i.sent(),this.disposed||!(n=this.view.state.field(am,!1)))return[2];return(!(a=null===(r=e.error?null:null!=(t=e.content)?t:"")?null:this.view.state.toText(r))!=!n.head||a&&n.head&&!a.eq(n.head))&&this.view.dispatch({effects:ap.of(a)}),[2]}})}).call(this)},n.destroy=function(){this.dispose(),this.disposed=!0},e}(),ag=new G.k(function(e,n,t){var r=[n?[am,V.Z9.define(function(t){return new av(t,e,n)})]:[]];return t||r.push(aa),r}),ab=t(65620),ay=t(81176),aw=t(52422),a_=t(16246),aS=t(81943),aA=t(14779),ak=t(86846),aC=K.sj.define({combine:function(e){return e.some(Boolean)}}),aY=t(17459),aE=t(14106),ax=t(51175),aT=t(86466),aD=function(){function e(){(0,j._)(this,e),this.value="",this.pos=0}var n=e.prototype;return n.text=function(e){this.value=e,this.pos=0},n.tokenText=function(e){return this.value.substr(e.pos,e.len)},n.next=function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var n,t=this.pos,r=0,a=this.value.charCodeAt(t);if("number"==typeof(n=e._table[a]))return this.pos+=1,{type:n,pos:t,len:1};if(e.isDigitCharacter(a)){n=8;do r+=1,a=this.value.charCodeAt(t+r);while(e.isDigitCharacter(a));return this.pos+=r,{type:n,pos:t,len:r}}if(e.isVariableCharacter(a)){n=9;do a=this.value.charCodeAt(t+ ++r);while(e.isVariableCharacter(a)||e.isDigitCharacter(a));return this.pos+=r,{type:n,pos:t,len:r}}n=10;do r+=1,a=this.value.charCodeAt(t+r);while(!isNaN(a)&&void 0===e._table[a]&&!e.isDigitCharacter(a)&&!e.isVariableCharacter(a));return this.pos+=r,{type:n,pos:t,len:r}},e.isDigitCharacter=function(e){return e>=48&&e<=57},e.isVariableCharacter=function(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90},e}();i={},(0,ta._)(i,36,0),(0,ta._)(i,58,1),(0,ta._)(i,44,2),(0,ta._)(i,123,3),(0,ta._)(i,125,4),(0,ta._)(i,92,5),(0,ta._)(i,47,6),(0,ta._)(i,124,7),(0,ta._)(i,43,11),(0,ta._)(i,45,12),(0,ta._)(i,63,13),aD._table=i;var aI=function(){function e(){var n;(0,j._)(this,e),this._children=[],n=this,["parent"].forEach(function(e){Object.defineProperty(n,e,{enumerable:!1,writable:!0})})}var n=e.prototype;return n.appendChild=function(e){return(0,eT._)(e,aR)&&(0,eT._)(this._children[this._children.length-1],aR)?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this},n.replace=function(e,n){var t=e.parent,r=t.children.indexOf(e),a=t.children.slice(0);a.splice.apply(a,[r,1].concat((0,b._)(n))),t._children=a,function e(n,t){var r=!0,a=!1,i=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;l.parent=t,e(l.children,l)}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}}(n,t)},n.toString=function(){return this.children.reduce(function(e,n){return e+n.toString()},"")},n.len=function(){return 0},n.match=function(e){var n=!0,t=!1,r=void 0;try{for(var a,i=Object.entries(aB)[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=(0,g._)(a.value,2),s=o[0],l=o[1];if((0,eT._)(this,l)&&s in e)return e[s](this)}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}},(0,e$._)(e,[{key:"children",get:function(){return this._children}},{key:"rightMostDescendant",get:function(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}},{key:"snippet",get:function(){for(var e=this;;){if(!e)return;if((0,eT._)(e,aJ))return e;e=e.parent}}}]),e}(),aR=function(e){function n(e){var t;return(0,j._)(this,n),(t=(0,n9._)(this,n)).value=e,t}(0,n8._)(n,e);var t=n.prototype;return t.toString=function(){return this.value},t.toTextmateString=function(){return n.escape(this.value)},t.len=function(){return this.value.length},t.clone=function(){return new n(this.value)},n.escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")},n}(aI),aN=function(e){function n(){return(0,j._)(this,n),(0,n9._)(this,n,arguments)}return(0,n8._)(n,e),n}(aI),aO=function(e){function n(e){var t;return(0,j._)(this,n),(t=(0,n9._)(this,n)).index=e,t}(0,n8._)(n,e);var t=n.prototype;return t.toTextmateString=function(){var e="";return(this.transform&&(e=this.transform.toTextmateString()),0!==this.children.length||this.transform)?0===this.children.length?"${".concat(this.index).concat(e,"}"):this.choice?"${".concat(this.index,"|").concat(this.choice.toTextmateString(),"|").concat(e,"}"):"${".concat(this.index,":").concat(this.children.map(function(e){return e.toTextmateString()}).join("")).concat(e,"}"):"$".concat(this.index)},t.clone=function(){var e=new n(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(function(e){return e.clone()}),e},n.compareByIndex=function(e,n){if(e.index===n.index)return 0;if(e.isFinalTabstop)return 1;if(n.isFinalTabstop)return -1;if(e.index<n.index)return -1;if(e.index>n.index)return 1;else return 0},(0,e$._)(n,[{key:"isFinalTabstop",get:function(){return 0===this.index}},{key:"choice",get:function(){return 1===this._children.length&&(0,eT._)(this._children[0],aP)?this._children[0]:void 0}}]),n}(aN),aP=function(e){function n(){var e;return(0,j._)(this,n),e=(0,n9._)(this,n,arguments),e.options=[],e}(0,n8._)(n,e);var t=n.prototype;return t.appendChild=function(e){return(0,eT._)(e,aR)&&(e.parent=this,this.options.push(e)),this},t.toString=function(){return this.options[0].value},t.toTextmateString=function(){return this.options.map(function(e){return e.value.replace(/\||,|\\/g,"\\$&")}).join(",")},t.len=function(){return this.options[0].len()},t.clone=function(){var e=new n;return this.options.forEach(e.appendChild,e),e},n}(aI),aF=function(e){function n(){var e;return(0,j._)(this,n),e=(0,n9._)(this,n,arguments),e.regexp=RegExp(""),e}(0,n8._)(n,e);var t=n.prototype;return t.resolve=function(e){var n=this,t=!1,r=e.replace(this.regexp,function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=!0,n._replace(r.slice(0,-2))});return!t&&this._children.some(function(e){return(0,eT._)(e,aU)&&!!e.elseValue})&&(r=this._replace([])),r},t._replace=function(e){var n="",t=!0,r=!1,a=void 0;try{for(var i,o=this._children[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;if((0,eT._)(s,aU)){var l=e[s.index]||"";l=s.resolve(l),n+=l}else n+=s.toString()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},t.toString=function(){return""},t.toTextmateString=function(){return"/".concat(this.regexp.source,"/").concat(this.children.map(function(e){return e.toTextmateString()}),"/").concat((this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":""))},t.clone=function(){var e=new n;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(function(e){return e.clone()}),e},n}(aI),aU=function(e){function n(e,t,r,a){var i;return(0,j._)(this,n),(i=(0,n9._)(this,n)).index=e,i.shorthandName=t,i.ifValue=r,i.elseValue=a,i}(0,n8._)(n,e);var t=n.prototype;return t.resolve=function(e){if("upcase"===this.shorthandName)return e?e.toLocaleUpperCase():"";if("downcase"===this.shorthandName)return e?e.toLocaleLowerCase():"";if("capitalize"===this.shorthandName)return e?e[0].toLocaleUpperCase()+e.substr(1):"";if("pascalcase"===this.shorthandName)return e?this._toPascalCase(e):"";if("camelcase"===this.shorthandName)return e?this._toCamelCase(e):"";else if(e&&"string"==typeof this.ifValue)return this.ifValue;else if(!e&&"string"==typeof this.elseValue)return this.elseValue;else return e||""},t._toPascalCase=function(e){var n=e.match(/[a-z0-9]+/gi);return n?n.map(function(e){return e.charAt(0).toUpperCase()+e.substr(1)}).join(""):e},t._toCamelCase=function(e){var n=e.match(/[a-z0-9]+/gi);return n?n.map(function(e,n){return 0===n?e.charAt(0).toLowerCase()+e.substr(1):e.charAt(0).toUpperCase()+e.substr(1)}).join(""):e},t.toTextmateString=function(){var e="${";return e+=this.index,this.shorthandName?e+=":/".concat(this.shorthandName):this.ifValue&&this.elseValue?e+=":?".concat(this.ifValue,":").concat(this.elseValue):this.ifValue?e+=":+".concat(this.ifValue):this.elseValue&&(e+=":-".concat(this.elseValue)),e+="}"},t.clone=function(){return new n(this.index,this.shorthandName,this.ifValue,this.elseValue)},n}(aI),aL=function(e){function n(e){var t;return(0,j._)(this,n),(t=(0,n9._)(this,n)).name=e,t}(0,n8._)(n,e);var t=n.prototype;return t.resolve=function(e){var n=e.resolve(this);return this.transform&&(n=this.transform.resolve(n||"")),void 0!==n&&(this._children=[new aR(n)],!0)},t.toTextmateString=function(){var e="";return(this.transform&&(e=this.transform.toTextmateString()),0===this.children.length)?"${".concat(this.name).concat(e,"}"):"${".concat(this.name,":").concat(this.children.map(function(e){return e.toTextmateString()}).join("")).concat(e,"}")},t.clone=function(){var e=new n(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(function(e){return e.clone()}),e},n}(aN);function aM(e,n){for(var t=(0,b._)(e);t.length>0;){var r=t.shift();if(!n(r))break;t.unshift.apply(t,(0,b._)(r.children))}}var aJ=function(e){function n(){return(0,j._)(this,n),(0,n9._)(this,n,arguments)}(0,n8._)(n,e);var t=n.prototype;return t.offset=function(e){var n=0,t=!1;return(this.walk(function(r){return r===e?(t=!0,!1):(n+=r.len(),!0)}),t)?n:-1},t.fullLen=function(e){var n=0;return aM([e],function(e){return n+=e.len(),!0}),n},t.enclosingPlaceholders=function(e){for(var n=[],t=e.parent;t;)(0,eT._)(t,aO)&&n.push(t),t=t.parent;return n},t.resolveVariables=function(e){var n=this;return this.walk(function(t){return(0,eT._)(t,aL)&&t.resolve(e)&&delete n._placeholders,!0}),this},t.appendChild=function(e){return delete this._placeholders,(0,ax._)((0,aT._)(n.prototype),"appendChild",this).call(this,e)},t.replace=function(e,t){return delete this._placeholders,(0,ax._)((0,aT._)(n.prototype),"replace",this).call(this,e,t)},t.toTextmateString=function(){return this.children.reduce(function(e,n){return e+n.toTextmateString()},"")},t.clone=function(){var e=new n;return this._children=this.children.map(function(e){return e.clone()}),e},t.walk=function(e){aM(this.children,e)},(0,e$._)(n,[{key:"placeholderInfo",get:function(){if(!this._placeholders){var e,n=[];this.walk(function(t){return(0,eT._)(t,aO)&&(n.push(t),e=!e||e.index<t.index?t:e),!0}),this._placeholders={all:n,last:e}}return this._placeholders}},{key:"placeholders",get:function(){return this.placeholderInfo.all}}]),n}(aI),aH=function(){function e(){(0,j._)(this,e),this._scanner=new aD,this._token={type:14,pos:0,len:0}}var n=e.prototype;return n.text=function(e){return this.parse(e).toString()},n.parse=function(e,n,t){var r=new aJ;return this.parseFragment(e,r),this.ensureFinalTabstop(r,null!=t&&t,null!=n&&n),r},n.parseFragment=function(e,n){var t=n.children.length;for(this._scanner.text(e),this._token=this._scanner.next();this._parse(n););var r=new Map,a=[];n.walk(function(e){return(0,eT._)(e,aO)&&(e.isFinalTabstop?r.set(0,void 0):!r.has(e.index)&&e.children.length>0?r.set(e.index,e.children):a.push(e)),!0});var i=function(e,t){var a=r.get(e.index);if(a){var o=new aO(e.index);o.transform=e.transform;var s=!0,l=!1,u=void 0;try{for(var c,d=a[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=c.value.clone();o.appendChild(f),(0,eT._)(f,aO)&&r.has(f.index)&&!t.has(f.index)&&(t.add(f.index),i(f,t),t.delete(f.index))}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}n.replace(e,[o])}},o=new Set,s=!0,l=!1,u=void 0;try{for(var c,d=a[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=c.value;i(f,o)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}return n.children.slice(t)},n.ensureFinalTabstop=function(e,n,t){(n||t&&e.placeholders.length>0)&&(e.placeholders.find(function(e){return 0===e.index})||e.appendChild(new aO(0)))},n._accept=function(e,n){if(void 0===e||this._token.type===e){var t=!n||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),t}return!1},n._backTo=function(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1},n._until=function(e){for(var n=this._token;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){var t=this._scanner.next();if(0!==t.type&&4!==t.type&&5!==t.type)return!1}this._token=this._scanner.next()}var r=this._scanner.value.substring(n.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),r},n._parse=function(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)},n._parseEscaped=function(e){var n;return!!(n=this._accept(5,!0))&&(n=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||n,e.appendChild(new aR(n)),!0)},n._parseTabstopOrVariableName=function(e){var n,t=this._token;return this._accept(0)&&(n=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(n)?new aO(Number(n)):new aL(n)),!0):this._backTo(t)},n._parseComplexPlaceholder=function(e){var n,t=this._token;if(!(this._accept(0)&&this._accept(3)&&(n=this._accept(8,!0))))return this._backTo(t);var r=new aO(Number(n));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new aR("${"+n+":")),r.children.forEach(e.appendChild,e),!0}else if(r.index>0&&this._accept(7))for(var a=new aP;;){if(this._parseChoiceElement(a)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(a),this._accept(4)))return e.appendChild(r),!0}return this._backTo(t),!1}else if(this._accept(6))return this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(t),!1);else if(this._accept(4))return e.appendChild(r),!0;else return this._backTo(t)},n._parseChoiceElement=function(e){for(var n=this._token,t=[];2!==this._token.type&&7!==this._token.type;){var r=void 0;if(!(r=(r=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:this._accept(void 0,!0)))return this._backTo(n),!1;t.push(r)}return 0===t.length?(this._backTo(n),!1):(e.appendChild(new aR(t.join(""))),!0)},n._parseComplexVariable=function(e){var n,t=this._token;if(!(this._accept(0)&&this._accept(3)&&(n=this._accept(9,!0))))return this._backTo(t);var r=new aL(n);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new aR("${"+n+":")),r.children.forEach(e.appendChild,e),!0}else if(this._accept(6))return this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(t),!1);else if(this._accept(4))return e.appendChild(r),!0;else return this._backTo(t)},n._parseTransform=function(e){for(var n=new aF,t="",r="";!this._accept(6);){var a=void 0;if(a=this._accept(5,!0)){t+=a=this._accept(6,!0)||a;continue}if(14!==this._token.type){t+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){var i=void 0;if(i=this._accept(5,!0)){i=this._accept(5,!0)||this._accept(6,!0)||i,n.appendChild(new aR(i));continue}if(!(this._parseFormatString(n)||this._parseAnything(n)))return!1}for(;!this._accept(4);){if(14!==this._token.type){r+=this._accept(void 0,!0);continue}return!1}try{n.regexp=new RegExp(t,r)}catch(e){return!1}return e.transform=n,!0},n._parseFormatString=function(e){var n=this._token;if(!this._accept(0))return!1;var t=!1;this._accept(3)&&(t=!0);var r=this._accept(8,!0);if(!r)return this._backTo(n),!1;if(!t)return e.appendChild(new aU(Number(r))),!0;if(this._accept(4))return e.appendChild(new aU(Number(r))),!0;if(!this._accept(1))return this._backTo(n),!1;if(this._accept(6)){var a=this._accept(9,!0);return a&&this._accept(4)?(e.appendChild(new aU(Number(r),a)),!0):(this._backTo(n),!1)}if(this._accept(11)){var i=this._until(4);if(i)return e.appendChild(new aU(Number(r),void 0,i,void 0)),!0}else if(this._accept(12)){var o=this._until(4);if(o)return e.appendChild(new aU(Number(r),void 0,void 0,o)),!0}else if(this._accept(13)){var s=this._until(1);if(s){var l=this._until(4);if(l)return e.appendChild(new aU(Number(r),void 0,s,l)),!0}}else{var u=this._until(4);if(u)return e.appendChild(new aU(Number(r),void 0,void 0,u)),!0}return this._backTo(n),!1},n._parseAnything=function(e){return 14!==this._token.type&&(e.appendChild(new aR(this._scanner.tokenText(this._token))),this._accept(void 0),!0)},e.escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")},e.asInsertText=function(n){return new e().parse(n).toString()},e.guessNeedsClipboard=function(e){return/\${?CLIPBOARD/.test(e)},e}(),aB={Text:aR,Placeholder:aO,Variable:aL,FormatString:aU,Choice:aP},aV=function(){function e(n){(0,j._)(this,e),this.lines=n.split(/\r\n?|\n/).map(function(e){return new aH().parse(e).children})}return e.prototype.apply=function(n){var t=n.view,r=n.from,a=n.to,i=e.instantiate(this.lines,n),o=i.text,s=i.ranges,l={from:r,to:a,insert:K.EY.of(o)},u={changes:l,scrollIntoView:!0,annotations:eD.rK.of(n.completion)};if(s.length&&(u.selection=aZ(s,0)),s.length>1){var c=new az(s,0),d=u.effects=[aW.of(c)];void 0===t.state.field(aq,!1)&&d.push(K.Pe.appendConfig.of([aq,aQ,aX]))}if(r===a&&!s.length){var f=K.VR.of(l,t.state.doc.length),p=t.state.selection.ranges.map(function(e){return e.map(f,0)});u.selection=K.OF.create(p,t.state.selection.mainIndex)}return u},e.resolveVariable=function(e,n){var t=n.view,r=n.from,a=n.path;switch(e){case"TM_FILENAME":return(0,aE.basename)(a);case"TM_FILENAME_BASE":return(0,aE.basename)(a,(0,aE.extname)(a));case"TM_DIRECTORY":return(0,aE.dirname)(a);case"TM_FILEPATH":return a;case"TM_LINE_INDEX":return(t.state.doc.lineAt(r).number-1).toString();case"TM_LINE_NUMBER":return t.state.doc.lineAt(r).number.toString();default:return e}},e.instantiate=function(n,t){var r=t.view,a=t.from,i=r.state,o=[],s=[],l=i.doc.lineAt(a),u=/^\s*/.exec(l.text)[0],c=i.facet(eG.Xt),d=!0,f=!1,p=void 0;try{for(var h,m,v=n[Symbol.iterator]();!(d=(m=v.next()).done);d=!0)!function(){var n=m.value,r=0,i="",l=function(e){var n=0,t=r;if(0===r&&(n=/^\t*/.exec(e)[0].length)){var a=u+c.repeat(n);e=a+e.slice(n),t+=a.length}return i+=e,r+=e.length,{line:o.length,from:t,to:r}},d=function(n){var i=!0,u=!1,c=void 0;try{for(var f,p=n[Symbol.iterator]();!(i=(f=p.next()).done);i=!0)f.value.match({Text:function(e){l(e.value)},Variable:function(n){var r=n.name,a=n.transform,i=e.resolveVariable(r,t);a&&(i=i.replace(a.regexp,function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return a.children.map(function(e){return e.match({Text:function(e){return e.value},FormatString:function(e){return e.resolve(n[e.index])}})}).filter(Boolean).join("")})),l(i)},Choice:function(e){l(e.options[0].value)},Placeholder:function(e){var n,t=o.length?a+o.map(function(e){return e.length}).reduce(function(e,n){return e+n}):a;if(null==(n=e.children)?void 0:n.length){var i={field:e.index,from:t+r,to:null};s.push(i),d(e.children),i.to=t+r}else{l("");var u=t+r;s.push({field:e.index,from:u,to:u})}}})}catch(e){u=!0,c=e}finally{try{i||null==p.return||p.return()}finally{if(u)throw c}}};d(n),o.push(i)}()}catch(e){f=!0,p=e}finally{try{d||null==v.return||v.return()}finally{if(f)throw p}}var g=(h=Math).max.apply(h,(0,b._)(s.map(function(e){return e.field})));return{text:o,ranges:s.map(function(e){var n=e.field,t=(0,aY._)(e,["field"]);return(0,D._)((0,T._)({},t),{field:0===n?g:n-1})})}},e}(),a$=V.NZ.widget({widget:new(function(e){function n(){return(0,j._)(this,n),(0,n9._)(this,n,arguments)}(0,n8._)(n,e);var t=n.prototype;return t.toDOM=function(){var e=document.createElement("span");return e.className="cm-snippetFieldPosition",e},t.ignoreEvent=function(){return!1},n}(V.xO))}),aG=V.NZ.mark({class:"cm-snippetField"}),az=function(){function e(n,t){(0,j._)(this,e),this.ranges=n,this.active=t,this.deco=V.NZ.set(n.map(function(e){return(e.from===e.to?a$:aG).range(e.from,e.to)}))}var n=e.prototype;return n.map=function(n){var t=[],r=!0,a=!1,i=void 0;try{for(var o,s=this.ranges[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=function(e,n){var t=n.mapPos(e.from,-1,K.iR.TrackDel),r=n.mapPos(e.to,1,K.iR.TrackDel);return null==t||null==r?null:{field:e.field,from:t,to:r}}(l,n);if(!u)return null;t.push(u)}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return new e(t,this.active)},n.isSelectionInsideField=function(e){var n=this;return e.ranges.every(function(e){return n.ranges.some(function(t){return t.field===n.active&&t.from<=e.from&&t.to>=e.to})})},e}(),aW=K.Pe.define({map:function(e,n){return null==e?void 0:e.map(n)}}),aj=K.Pe.define(),aq=K.sU.define({create:function(){return null},update:function(e,n){var t=!0,r=!1,a=void 0;try{for(var i,o=n.effects[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;if(s.is(aW))return s.value;if(s.is(aj)&&e)return new az(e.ranges,s.value)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return e&&n.docChanged&&(e=e.map(n.changes)),e&&n.selection&&!e.isSelectionInsideField(n.selection)&&(e=null),e},provide:function(e){return V.Lz.decorations.from(e,function(e){return e?e.deco:V.NZ.none})}});function aZ(e,n){var t=e.filter(function(e){return e.field===n}).map(function(e){return K.OF.range(e.from,e.to)});if(0!==t.length)return K.OF.create(t)}function aK(e){return function(n){var t,r=n.state,a=n.dispatch,i=r.field(aq,!1);if(!i||e<0&&0===i.active)return!1;var o=i.active+e,s=(t=Math).max.apply(t,(0,b._)(i.ranges.map(function(e){return e.field}))),l=e>0&&i.active>=s;return a(r.update({selection:aZ(i.ranges,o),effects:aW.of(l?null:new az(i.ranges,o))})),!0}}var aQ=K.Nb.highest(V.w4.of([{key:"Tab",run:aK(1),shift:aK(-1)},{key:"Escape",run:function(e){var n=e.state,t=e.dispatch;return!!n.field(aq,!1)&&(t(n.update({effects:aW.of(null)})),!0)}}])),aX=V.Lz.domEventHandlers({mousedown:function(e,n){var t,r=n.state.field(aq,!1);if(!r||null==(t=n.posAtCoords({x:e.clientX,y:e.clientY})))return!1;var a=r.ranges.find(function(e){return e.from<=t&&e.to>=t});return!!a&&a.field!==r.active&&(n.dispatch({selection:aZ(r.ranges,a.field),effects:aW.of(r.ranges.some(function(e){return e.field>a.field})?new az(r.ranges,a.field):null)}),!0)}}),a0=t(31345),a1=t(90479),a2=(0,Y.x)({styles0:[{p:{whiteSpace:"pre-wrap"}}]}),a3={p:{padding:"".concat(X.LU.space2," ").concat(X.LU.space8),lineHeight:1.4,marginBottom:"".concat(X.LU.space8," !important")},"p:first-of-type":{marginTop:"".concat(X.LU.space4," !important")},"p:last-of-type":{marginBottom:"".concat(X.LU.space4," !important")},pre:{margin:"".concat(X.LU.space2," ").concat(X.LU.space8)},"pre + p":{borderTop:"1px solid ".concat(X.LU.outlineDimmest),paddingTop:X.LU.space4},"h1, h2, h3":{margin:"".concat(X.LU.space8," !important"),marginTop:"".concat(X.LU.space12," !important"),padding:"0 !important",paddingBottom:"".concat(X.LU.space4," !important"),fontSize:"100% !important",borderBottom:"1px solid ".concat(X.LU.backgroundHighest," !important"),lineHeight:1},"h1:first-of-type, h2:first-of-type, h3:first-of-type":{marginTop:"".concat(X.LU.space4," !important")},hr:{margin:"".concat(X.LU.space8," !important"),borderTop:"2px solid ".concat(X.LU.backgroundHighest," !important")},li:{margin:"".concat(X.LU.space2," ").concat(X.LU.space8)},".lsp-completion-detail":{borderBottom:"1px solid ".concat(X.LU.backgroundHighest),marginBottom:X.LU.space4},".cm-line":{paddingLeft:X.LU.space4,paddingRight:X.LU.space4},".cm-content":{paddingLeft:X.LU.space4,paddingRight:X.LU.space4}},a4=(0,h.memo)(function(e){var n=e.content,t=e.className;return(0,p.Y)(x.S,{css:a3,children:(0,p.Y)(a1.Ay,{className:t,components:{code:function(e){return(0,p.Y)(a0.A,(0,T._)({minimal:!0,disableCopy:!0},e))}},children:n})})});function a5(e){var n=e.content,t=e.className;return"string"==typeof n?(0,p.Y)(a4,{css:a2.styles0,className:t,content:n}):n.kind===ak.MarkupKind.PlainText?(0,p.Y)(x.S,{children:(0,p.Y)(tL.EY,{className:t,children:n.value})}):(0,p.Y)(a4,{className:t,content:n.value})}var a7=new WeakMap,a9=t(73009),a8=t(17767),a6=t(63427),ie="cm-ghostwriter-hint-tooltip",it=V.Lz.theme((0,ta._)({".cm-ghostwriter-hint":{display:"none",width:"100%",backgroundColor:X.LU.backgroundHigher,borderTop:"solid 1px ".concat(X.LU.outlineDefault)}},".cm-tooltip-autocomplete.".concat(ie," .cm-ghostwriter-hint"),{display:"block"})),ir=(0,Y.x)({hint:[E.wp.font.default,{opacity:.6}]});function ia(){return(0,p.FD)(x.S,{css:ir.hint,p:4,row:!0,gap:8,align:"center",children:[(0,p.Y)(a6.A,{width:8,height:8}),(0,p.FD)(x.S,{row:!0,gap:4,align:"center",children:[(0,p.Y)(a8.A,{size:"small",dimmed:!1,shortcut:{key:"tab"}}),(0,p.Y)(tL.EY,{variant:"small",multiline:!1,children:"to use AI suggestion."})]})]})}var ii=V.Z9.define(function(e){var n=function(){var n,t,r;return(0,b._)(e.dom.children).concat((0,b._)(null!=(r=null==(t=a9.vR.get(e))||null==(n=t.children[0])?void 0:n.children)?r:[])).filter(function(e){return e.classList.contains("cm-tooltip-autocomplete")})},t=function(e){return Array.from(e.children).filter(function(e){return e.classList.contains("cm-ghostwriter-hint")})},r=!1;return{update:function(){null!==(0,eD.DH)(e.state)&&Promise.resolve().then(function(){if(!r){var e=!0,a=!1,i=void 0;try{for(var o,s=n()[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var l=o.value,u=t(l);if(0===u.length){var c=(0,tF.J)((0,p.Y)(ia,{}));c.className="cm-ghostwriter-hint",l.appendChild(c)}}}catch(e){a=!0,i=e}finally{try{e||null==s.return||s.return()}finally{if(a)throw i}}}})},destroy:function(){var e=!0,a=!1,i=void 0;try{for(var o,s=n()[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var l=o.value,u=!0,c=!1,d=void 0;try{for(var f,p=t(l)[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value;l.removeChild(h)}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}}catch(e){a=!0,i=e}finally{try{e||null==s.return||s.return()}finally{if(a)throw i}}r=!0}}});function io(e){var n=Object.keys(e).join(""),t=/\w/.test(n);return t&&(n=n.replace(/\w/g,"")),"[".concat(t?"\\w":"").concat(n.replace(".","").replace(/[^\w\s]/g,"\\$&"),"]")}var is="lsp-completion-keyboard-shortcuts",il=V.Lz.theme((o={"& .cm-tooltip-autocomplete":{"& > *":{marginRight:4},"& > *:last-child":{marginRight:0},"& .cm-completionLabel":{flexGrow:1,flexShrink:1,overflowX:"auto",textOverflow:"ellipsis"},"& .cm-completionDetail":{color:X.LU.foregroundDimmer,fontSize:"85%",marginLeft:"unset"}}},(0,ta._)(o,"& .".concat(is),{display:"none"}),(0,ta._)(o,'& [aria-selected="true"] .'.concat(is),{float:"right",display:"inline-block"}),o)),iu=t(37569),ic=t(17795),id=t(6862),ip=t(25386),ih=t(11901),im=new(function(e){function n(){var e;return(0,j._)(this,n),(e=(0,n9._)(this,n)).elementClass="cm-gutterElement-hidden",e}return(0,n8._)(n,e),n.prototype.toDOM=function(){var e=document.createElement("span");e.classList.add("cm-hidden-lines-gutter");var n=document.createElement("span");return n.classList.add("cm-dot"),e.appendChild(n),e},n}(V.wJ)),iv=function(e){function n(e){var t;return(0,j._)(this,n),(t=(0,n9._)(this,n)).numLines=e,t}(0,n8._)(n,e);var t=n.prototype;return t.eq=function(e){return e.numLines===this.numLines},t.toDOM=function(){var e=document.createElement("span");return e.textContent="".concat(this.numLines," hidden ").concat((0,ih.A)("line",this.numLines)),e.className="cm-hidden-lines",e},n}(V.xO),ig=V.NZ.mark({class:"cm-searchResultMatch"}),ib=V.Lz.baseTheme({".cm-hidden-lines":{color:X.LU.foregroundDimmer,backgroundColor:X.LU.backgroundHighest,display:"inline-block",width:"100%"},".cm-gutterElement-hidden":{backgroundColor:X.LU.backgroundHighest},".cm-hidden-lines-gutter":{backgroundColor:X.LU.backgroundHighest,display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},".cm-dot":{height:"5px",width:"5px",backgroundColor:X.LU.foregroundDimmest,borderRadius:"50%",display:"inline-block"},".cm-tooltip .cm-scroller":{border:"2px solid ".concat(X.LU.backgroundHighest),borderRadius:X.LU.borderRadius4},".cm-tooltip .cm-scroller:hover":{border:"2px solid ".concat(X.LU.accentPrimaryDimmest),boxShadow:X.LU.shadow1,cursor:"pointer"},".cm-searchResultMatch":{color:X.LU.foregroundDefault,backgroundColor:X.LU.accentPrimaryDimmest,outline:X.LU.accentPrimaryDimmer+" solid 1px"},".cm-searchResultMatch span":{color:X.LU.foregroundDefault},".cm-tooltip .cm-searchResultMatch:hover":{opacity:.8},".cm-tooltip .cm-gutterElement":{display:"flex",marginTop:0,textAlign:"center",alignItems:"center",justifyContent:"center",lineHeight:"21px"},".cm-tooltip .cm-line":{padding:0},".cm-tooltip .cm-gutters":{padding:0},".cm-tooltip .cm-content":{paddingTop:0},".cm-tooltip .cm-lineWrapping":{whiteSpace:"pre"},".cm-tooltip .cm-cursor":{display:"none"},".cm-tooltip .cm-selectionBackground":{display:"none"}}),iy=t(8761),iw=t(53556),i_=t(42793),iS=(0,i_.AH)({scrollbarWidth:"thin",outline:"none",overflow:"auto",".cm-content":{paddingBottom:0},"::-webkit-scrollbar":{width:4},".cm-gutters":{minWidth:"unset"}}),iA=(0,i_.AH)({overflow:"hidden",".cm-scroller":{overflow:"hidden"}}),ik={root:E.wp.backgroundColor.backgroundRoot,higher:E.wp.backgroundColor.backgroundHigher,highest:E.wp.backgroundColor.backgroundHighest,default:E.wp.backgroundColor.backgroundDefault},iC=new G.k(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(0,V.$K)({formatNumber:function(n,t){for(var r=String(t.doc.lines).length,a=String(n+e-1);r>a.length;)a="\xa0"+a;return a}})});function iY(e){var n=e.path,t=e.initialDoc,r=e.maxHeight,a=e.minHeight,i=e.extensions,o=e.allowScroll,s=e.fontSize,l=e.hideGutter,u=e.startLineNumber,c=e.style,d=e.elevation,f=e.onNavigateToCode,m=(0,iw.A)(),v=m.ref,g=m.view,b=(0,h.useMemo)(function(){var e;return e=ik[null!=d?d:"default"],(0,i_.AH)({".cm-editor":e,".cm-gutters":e})},[d]),y=iC.use(u);return(0,p.Y)("div",{style:c,children:(0,p.Y)(iy.Ay,{ref:v,initialDoc:t,css:[iS,b,void 0===o||o?null:iA],extensions:[y,void 0===i?[]:i],style:{minHeight:a,maxHeight:null!=r?r:"10em"},hideGutter:l,filePath:n,fontSize:s,readOnly:!0,onClick:function(e){if(f&&g){var n=e.clientX,t=e.clientY,r=g.posAtCoords({x:n,y:t});f(null!==r?(0,ed.Z3)(g.state.doc,r):null)}}})})}var iE=t(18558),ix=t(32289),iT=t(85826),iD=(0,Y.x)({snippetGroupText:[E.wp.pl(8),E.wp.py(8)],loadingContainer:[E.wp.width(128),E.wp.height(128),E.wp.display.flex,E.wp.align.center,E.wp.justify.center],container:[E.wp.minWidth("375px"),E.wp.maxWidth("500px"),E.wp.pt(4),E.wp.overflowY("scroll")],firstReferenceDivider:[E.wp.border({direction:"bottom",color:X.LU.backgroundHighest})],header:[E.wp.p(4),E.wp.pl(8)],referencesHeader:[E.wp.p(4),E.wp.pl(8)]}),iI=function(e){return e.DEFINITION="DEFINITION",e.REFERENCES="REFERENCES",e}(iI||{});function iR(e){var n=e.matchesMap,t=e.fileToContents,r=e.type,a=e.onClose,i=e.jumpToPosition,o=Object.keys(n);return 0===o.length?(0,p.Y)(tL.EY,{color:"dimmer",css:iD.snippetGroupText,multiline:!1,children:"REFERENCES"===r?"No references found":"No definitions found"}):(0,p.Y)(x.S,{children:o.map(function(e){var r,s,l,u,c,d,f,h,m,v,b,y=n[e],w=t[e],_=(b=(v=y.sort(function(e,n){return e.from-n.from})).map(function(e){var n=e.from,t=e.to;return ig.range(n,t)}),[V.Z9.define(function(){return{}},{decorations:function(){return V.NZ.set(b)}}),(r=v,s=w,l=[],u=1,r.forEach(function(e,n){var t=s.lineAt(e.from),a=s.lineAt(e.to);u<t.number-2&&l.push({startLine:u,endLine:t.number-2}),u=a.number+2,n===r.length-1&&u<s.lines&&l.push({startLine:u,endLine:s.lines})}),c=l.map(function(e){var n=s.line(e.startLine),t=s.line(e.endLine);return V.NZ.replace({widget:new iv(e.endLine-e.startLine+1)}).range(n.from,t.to)}),d=l.map(function(e){var n=s.line(e.startLine);return V.NZ.line({class:"cm-line-hidden"}).range(n.from)}),f=K.sU.define({create:function(){return V.NZ.set(c)},update:function(e){return e},provide:function(e){return V.Lz.decorations.from(e)}}),h=K.sU.define({create:function(){return V.NZ.set(d)},update:function(e){return e},provide:function(e){return V.Lz.decorations.from(e)}}),m=l.map(function(e){var n=s.line(e.startLine);return im.range(n.from)}),[f,h,ib,V.pK.of(K.om.of(m))])]);return(0,p.Y)(x.S,{p:4,children:(0,p.Y)(iP,{path:e,extensions:[_],doc:w,numMatches:y.length,initiallyExpanded:1===o.length,onNavigateToCode:function(n){if(null!==n)i({path:e,line:n.line+1,col:n.character});else{var t=(0,g._)(y,1)[0],r=w.lineAt(t.from),o=t.from-r.from;i({path:e,line:r.number,col:o})}a()}})},e)})})}function iN(e){var n=e.onClose,t=e.references,r=e.definitions,a=e.jumpToPosition,i=(0,eS.A)().fs,o=(0,iE.A)(n,[]),s=(0,g._)((0,h.useState)({}),2),l=s[0],u=s[1],c=(0,g._)((0,h.useState)(!0),2),d=c[0],f=c[1];if((0,h.useEffect)(function(){var e=new Set((0,b._)(t).concat((0,b._)(r)).map(function(e){return e.path}));if(!e.size)return void f(!1);var n=!1;return(0,H._)(function(){var t;return(0,B.YH)(this,function(r){switch(r.label){case 0:return f(!0),t={},[4,Promise.all(Array.from(e).map(function(e){return(0,H._)(function(){var n;return(0,B.YH)(this,function(r){switch(r.label){case 0:return[4,i.readFile(e)];case 1:if((n=r.sent()).error)throw Error("Something went wrong reading file with path ".concat(e,". Received error: ").concat(n.error));return t[e]=K.EY.of(n.content.toString().split("\n")),[2]}})})()}))];case 1:if(r.sent(),f(!1),n)return[2];return u(function(e){return(0,T._)({},e,t)}),[2]}})})(),function(){n=!0}},[i,t,r]),d)return(0,p.Y)(x.S,{css:iD.loadingContainer,children:(0,p.Y)(t8.A,{size:32})});var m={},v={};function y(e,n){var t=e.range,r=t.start,a=t.end;e.path in n||(n[e.path]=[]);var i=l[e.path],o=i.line(r.line+1),s=i.line(a.line+1);n[e.path].push({from:o.from+r.character,to:s.from+a.character})}return t.forEach(function(e){y(e,m)}),r.forEach(function(e){y(e,v)}),(0,p.FD)(x.S,{innerRef:o,css:iD.container,children:[(0,p.Y)(x.S,{css:iD.firstReferenceDivider,children:(0,p.FD)(x.S,{p:4,children:[(0,p.FD)(x.S,{pr:4,row:!0,justify:"space-between",align:"center",children:[(0,p.Y)(tL.Y9,{level:2,variant:"subheadDefault",css:iD.header,children:"Definitions"}),(0,p.Y)(tU.K0,{alt:"Close",onClick:n,children:(0,p.Y)(tM.A,{})})]}),(0,p.Y)(iR,{matchesMap:v,fileToContents:l,type:"DEFINITION",onClose:n,jumpToPosition:a})]})}),(0,p.Y)(x.S,{children:(0,p.FD)(x.S,{p:4,children:[(0,p.Y)(tL.Y9,{level:2,variant:"subheadDefault",css:iD.referencesHeader,children:"References"}),(0,p.Y)(iR,{matchesMap:m,fileToContents:l,type:"REFERENCES",onClose:n,jumpToPosition:a})]})})]})}var iO=(0,Y.x)({container:[E.wp.width("100%"),E.wp.p(4),E.wp.rowWithGap(4),E.wp.justify.spaceBetween,E.wp.align.center],text:[E.wp.flex.shrink(1),{textOverflow:"ellipsis"}]});function iP(e){var n=e.path,t=e.doc,r=e.extensions,a=e.numMatches,i=e.onNavigateToCode,o=e.initiallyExpanded,s=(0,g._)((0,h.useState)(o),2),l=s[0],u=s[1];return(0,p.FD)(x.S,{children:[(0,p.FD)(x.S,{css:iO.container,children:[(0,p.FD)(x.S,{grow:!0,row:!0,gap:8,align:"center",children:[(0,p.Y)(ix.A,{path:n}),(0,p.Y)(tL.EY,{multiline:!1,title:n,css:iO.text,children:n}),(0,p.Y)(tL.EY,{color:"dimmest",multiline:!1,children:(0,ih.A)("match",a,!0)})]}),(0,p.Y)(tU.K0,{alt:l?"Collapse snippet":"Expand snippet",tooltipBehavior:"hidden",onClick:function(){return u(function(e){return!e})},children:(0,p.Y)(iT.A,{rotate:180*!!l,style:{transition:"200ms ease"}})})]}),(0,p.Y)(x.S,{p:4,style:{display:l?"block":"none"},children:(0,p.Y)(iY,{path:n,initialDoc:t,extensions:void 0===r?[]:r,maxHeight:"max-content",allowScroll:!0,hideGutter:!0,onNavigateToCode:i})})]})}var iF=t(25803);function iU(e){var n=e.content,t=e.className,r=(0,em.g)("fontSize").preferences;if("string"!=typeof n&&"kind"in n)return(0,p.Y)(a5,{content:n});var a=(Array.isArray(n)?n:[n]).map(function(e){return"string"==typeof e?e:"```"+e.language+"\n"+e.value+"\n```"}).join("\n");return(0,p.Y)(a1.Ay,{css:[{p:{fontSize:r.fontSize},hr:{display:"none"}}],className:t,components:{code:function(e){return(0,p.Y)(a0.A,(0,T._)({minimal:!0,disableCopy:!0},e))}},children:a})}function iL(e){var n=e.className,t=e.content;return(0,p.Y)(x.S,{css:[a3,E.wp.maxHeight(190),E.wp.minHeight(30),E.wp.overflowY("auto"),E.wp.borderRadius(4),E.wp.backgroundColor.backgroundHigher],children:(0,p.Y)(iU,{content:t,className:n})})}var iM=t(72764),iJ=t(446),iH=t(49078),iB=t(68803),iV=(0,t(76920).D)(),i$=K.Pe.define(),iG=K.sU.define({create:function(){return null},update:function(e,n){if(n.isUserEvent("select")||n.isUserEvent("undo")||n.isUserEvent("redo"))return null;if(!n.isUserEvent("input.type")||n.changes.empty)return e;var t="";return n.changes.iterChanges(function(e,n,r,a,i){t=i.sliceString(0,1)}),t||null}}),iz=new tF.E(function(e){var n,t,r=e.help,a=e.index,i="1px solid ".concat(X.LU.outlineDimmer),o="min(425px, 80vw)",s=r.signatures[a],l=r.signatures.length>1;if(!s)return null;var u=s.documentation,c=null!=r.activeParameter&&(null==(t=s.parameters)||null==(n=t[r.activeParameter])?void 0:n.documentation);return(0,p.FD)(x.S,{css:[E.wp.backgroundColor.backgroundHigher,{width:"max-content"}],row:!0,children:[l?(0,p.Y)(x.S,{css:[{borderRight:i,paddingBottom:5}],pl:4,row:!0,children:(0,p.FD)("span",{css:[{alignSelf:"flex-end"},E.wp.p(4)],children:[a+1,"/",r.signatures.length]})}):null,(0,p.FD)(x.S,{children:[(0,p.Y)(x.S,{css:[E.wp.pl(l?4:8),E.wp.pr(8),E.wp.maxHeight(100),E.wp.overflowY("scroll"),E.wp.font.code,{lineHeight:X.LU.lineHeightSmall,maxWidth:o}],py:4,children:(0,p.Y)(iW,{signature:s,activeParameter:r.activeParameter})}),!!(u||c)&&(0,p.FD)(x.S,{css:[E.wp.px(l?4:8),E.wp.py(2),E.wp.maxHeight(200),E.wp.overflow("scroll"),{borderTop:i,maxWidth:o}],children:[c?(0,p.Y)(a5,{content:c}):null,u?(0,p.Y)(a5,{content:u}):null]})]})]})});function iW(e){var n,t=e.signature,r=t.label,a=t.parameters,i=e.activeParameter;if(null==i||!a)return(0,p.Y)("span",{children:r});var o=null==(n=a[i])?void 0:n.label;if(!o)return(0,p.Y)("span",{children:r});var s=(0,g._)("string"==typeof o?[r.indexOf(o),r.indexOf(o)+o.length]:o,2),l=s[0],u=s[1];return(0,p.FD)("div",{children:[(0,p.Y)("span",{children:r.slice(0,l)}),(0,p.Y)("strong",{children:o}),(0,p.Y)("span",{children:r.slice(u)})]})}var ij=t(67201),iq=t(71353),iZ=new Map,iK=t(69420),iQ=t(36215),iX=t(95866),i0=t(41768),i1={namespace:iX._A.namespace,type:iX._A.typeName,class:iX._A.className,enum:iX._A.typeName,interface:iX._A.typeName,struct:iX._A.typeName,typeParameter:iX._A.typeName,parameter:iX._A.variableName,variable:iX._A.variableName,property:iX._A.propertyName,enumMember:iX._A.propertyName,event:iX._A.typeName,function:iX._A.function(iX._A.variableName),method:iX._A.function(iX._A.propertyName),macro:iX._A.macroName,keyword:iX._A.keyword,modifier:iX._A.modifier,comment:iX._A.comment,string:iX._A.string,number:iX._A.number,regexp:iX._A.regexp,operator:iX._A.operator,decorator:iX._A.function(iX._A.annotation),angle:null,arithmetic:iX._A.arithmeticOperator,attribute:iX._A.attributeName,attributeBracket:iX._A.bracket,bitwise:iX._A.bitwiseOperator,boolean:iX._A.bool,brace:iX._A.brace,bracket:iX._A.bracket,builtinAttribute:iX._A.standard(iX._A.attributeName),builtinType:iX._A.standard(iX._A.typeName),character:iX._A.character,colon:iX._A.punctuation,comma:iX._A.separator,comparison:iX._A.compareOperator,constParameter:iX._A.constant(iX._A.variableName),derive:iX._A.function(iX._A.annotation),deriveHelper:iX._A.function(iX._A.annotation),dot:iX._A.derefOperator,escapeSequence:iX._A.escape,invalidEscapeSequence:iX._A.invalid,formatSpecifier:iX._A.processingInstruction,generic:iX._A.typeName,label:iX._A.labelName,lifetime:iX._A.special(iX._A.variableName),logical:iX._A.logicOperator,macroBang:iX._A.macroName,parenthesis:iX._A.paren,punctuation:iX._A.punctuation,selfKeyword:iX._A.self,selfTypeKeyword:iX._A.self,semicolon:iX._A.separator,typeAlias:iX._A.typeName,toolModule:iX._A.namespace,union:null,unresolvedReference:null,tomlArrayKey:iX._A.propertyName,tomlTableKey:iX._A.className},i2={declaration:iX._A.definition,definition:iX._A.definition,readonly:iX._A.constant,static:iX._A.constant,deprecated:null,abstract:null,async:iX._A.special,modification:function(e){return e===iX._A.keyword?iX._A.modifier:null},documentation:function(e){return e===iX._A.comment?iX._A.docComment:e===iX._A.string?iX._A.docString:null},defaultLibrary:iX._A.standard,attribute:null,callable:iX._A.function,constant:iX._A.constant,consuming:null,controlFlow:function(e){return e===iX._A.keyword?iX._A.controlKeyword:e===iX._A.operator?iX._A.controlOperator:null},crateRoot:null,injected:null,intraDocLink:function(){return iX._A.url},library:null,macro:null,mutable:null,public:null,reference:null,trait:null,unsafe:null},i3=new Set([iX._A.comment,iX._A.string,iX._A.number,iX._A.keyword,iX._A.operator]),i4=new Map,i5=function(){function e(n,t){(0,j._)(this,e),this.data=n,this.id=t}var n=e.prototype;return n.reset=function(){this.data=[],this.id=null},n.update=function(e){if(!e)return void this.reset();if("edits"in e&&this.id){var n,t,r=e.edits.slice().sort(function(e,n){return n.start-e.start}),a=!0,i=!1,o=void 0;try{for(var s,l=r[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u,c,d=s.value;(null==(u=d.data)?void 0:u.length)?(c=this.data).splice.apply(c,[d.start,d.deleteCount].concat((0,b._)(d.data))):this.data.splice(d.start,d.deleteCount)}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}this.id=null!=(t=e.resultId)?t:null}else if("data"in e)this.data=e.data,this.id=null!=(n=e.resultId)?n:null;else throw Error("Invalid semantic tokens response")},n.decorations=function(e,n){for(var t=n.doc,r=new K.vB,a=0,i=0,o=0;o<this.data.length;o+=5){var s=this.data[o],l=this.data[o+1],u=this.data[o+2],c=this.data[o+3],d=this.data[o+4];a+=s,i=s>0?l:i+l;var f=function(e,n,t){var r=(0,i0.mW)(e,n);if(null===r)return null;var a=i1[r];if(!a)return null;var i=(0,i0.sc)(e,t),o="".concat(r,":").concat(i.join(",")),s=i4.get(o);if(void 0!==s)return s;var l=i.map(function(e){if(void 0===i2[e])return null;var n=i2[e];return null===n?null:n}).filter(Boolean),u=!0,c=!1,d=void 0;try{for(var f,p=l[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=(0,f.value)(a);h&&(a=h)}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}return a&&i3.has(a)&&(a=null),i4.set(o,a),a}(e,c,d);if(f){var p=(0,eG.GY)(n,[f]);if(p){var h=(0,ed.TU)(t,{line:a,character:i}),m=(0,ed.TU)(t,{line:a,character:i+u}),v=V.NZ.mark({class:p});r.add(h,m,v)}}}return r.finish()},e}(),i7=["typescript"],i9=function(){function e(n,t){var r=this;(0,j._)(this,e),this.view=n,this.client=t,this.data=new i5([],null),this.controller=null,this.disposables=[],this.pending=!1,this.running=!1,this.changes=null,this.decorations=V.NZ.none,this.proneToDesync=i7.some(function(e){return t.clientId.includes(e)}),this.disposables.push(t.onSemanticTokensRefresh(function(){return r.refresh()}),t.onServerCapabilitiesChange(function(){return r.refresh()}));var a=n.state.facet(no.Md);if(a)if(t.isOpen(a))this.run();else{var i=setTimeout(function(){t.isOpen(a)&&r.run()},500);this.disposables.push(function(){return clearTimeout(i)})}}var n=e.prototype;return n.abort=function(){var e;this.pending=!1,null==(e=this.controller)||e.abort()},n.refresh=function(){this.abort(),this.data.reset(),this.run()},n.run=function(){this.pending=!0,this.running||(this.running=!0,(0,H._)(function(){var e,n;return(0,B.YH)(this,function(t){switch(t.label){case 0:n=function(){var n,t,r,a,i,o,s,l,u,c,d;return(0,B.YH)(this,function(f){switch(f.label){case 0:n=Date.now(),f.label=1;case 1:if(f.trys.push([1,3,,4]),e.pending=!1,e.changes=null,i=(a=e.view.state).facet(no.Md),o=null==(r=e.client.getServerCapabilities())||null==(t=r.semanticTokensProvider)?void 0:t.legend,l=(s=(0,eg.A)(e.client)).isSemanticTokensFullSupported||s.isSemanticTokensRangeSupported,!i||!o||!l||!e.client.isOpen(i))return e.data.reset(),e.decorations.size>0&&(e.decorations=V.NZ.none,e.view.dispatch()),[2,"continue"];return e.controller=new AbortController,[4,function(e){return(0,H._)(function(e){var n,t,r,a,i,o,s,l,u,c,d;return(0,B.YH)(this,function(f){switch(f.label){case 0:if(n=e.client,t=e.path,r=e.previous,a=e.doc,i=e.signal,o=(0,eg.A)(n),r&&o.isSemanticTokensDeltaSupported)s=n.semanticTokensDelta(t,r,{signal:i});else if(o.isSemanticTokensFullSupported)s=n.semanticTokensFull(t,{signal:i});else{if(!a||!o.isSemanticTokensRangeSupported)return[2,null];l=(0,ed.Z3)(a,0),u=(0,ed.Z3)(a,a.length),s=n.semanticTokensRange(t,{start:l,end:u},{signal:i})}return[4,s];case 1:if((c=f.sent())&&"error"in c&&-32802===c.error.code)return[2,!1];if(!c||c.cancelled||!(d="result"in c&&!c.cancelled?c.result:null))return[2,null];return[2,d]}})}).apply(this,arguments)}({client:e.client,path:i,previous:e.data.id,doc:a.doc,signal:e.controller.signal})];case 2:return!1===(u=f.sent())?e.pending=!0:e.controller.signal.aborted||(e.data.update(u),e.decorations=e.changes?e.data.decorations(o,a).map(e.changes):e.data.decorations(o,a),e.view.dispatch()),[3,4];case 3:return c=f.sent(),(0,V.c_)(e.view.state,c),e.data.reset(),e.decorations=V.NZ.none,e.changes=null,[3,4];case 4:if(e.controller=null,d=Date.now()-n,!(e.pending&&d<150))return[3,6];return[4,new Promise(function(e){return setTimeout(e,150-d)})];case 5:f.sent(),f.label=6;case 6:return[2]}})},t.label=1;case 1:if(!this.pending)return[3,3];return e=this,[5,(0,B.Ju)(n())];case 2:return t.sent(),[3,1];case 3:return this.running=!1,this.changes=null,[2]}})}).call(this))},n.update=function(e){e.docChanged&&this.decorations.size&&(this.decorations=this.decorations.map(e.changes))},n.postUpdate=function(e){(0,Q.$H)(e,no.Md)?this.refresh():e.docChanged&&(this.running&&(this.changes=this.changes?this.changes.composeDesc(e.changes):e.changes),this.proneToDesync&&this.abort(),this.run())},n.destroy=function(){this.abort(),this.data.reset();var e=!0,n=!1,t=void 0;try{for(var r,a=this.disposables[Symbol.iterator]();!(e=(r=a.next()).done);e=!0)(0,r.value)()}catch(e){n=!0,t=e}finally{try{e||null==a.return||a.return()}finally{if(n)throw t}}this.disposables=[]},e}(),i8=new G.k(function(e){if(!e||!e.length)return null;var n=e.map(function(e){return V.Z9.define(function(n){return new i9(n,e)},{decorations:function(e){return e.decorations},provide:function(e){return V.Lz.updateListener.of(function(n){var t;return null==(t=n.view.plugin(e))?void 0:t.postUpdate(n)})}})});return K.Nb.highest(n)}),i6=new G.k(function(e){return aC.of(e)}),oe=new G.k(function(e){return iu.aM.of(e)}),on=new G.k(function(e){return iQ.G.of(e)}),ot=t(17021),or=V.Lz.theme({"& .cm-gutters.cm-minimap-gutter":{backgroundColor:X.LU.backgroundDefault,borderLeft:"1px solid ".concat(X.LU.backgroundHigher)},"& .cm-minimap-box-shadow":{boxShadow:"unset"}}),oa=K.sU.define({create:function(e){return 0===e.doc.length||e.doc.lines>1e3},update:function(e,n){return n.docChanged?0===n.state.doc.length||n.state.doc.lines>1e3:e}}),oi=new G.k(function(e,n,t){var r=function(){return{dom:document.createElement("div")}};return e?null:[or,oa,ot.F.compute([as,oa],function(e){if(e.field(oa,!1)||"blocks"!==n&&"characters"!==n)return null;var a=e.field(as,!1),i={};if(a)for(var o=1;o<=e.doc.lines;o++)switch(a.getLineChangeType(o)){case tb.DE.COVERED:i[o]=t.values.global.greenDefault;break;case tb.DE.MODIFIED:i[o]=t.values.global.blueDefault}return{create:r,displayText:n,gutters:[i]}})]}),oo=t(21605),os=K.sj.define({combine:function(e){var n;return null!=(n=e.find(function(e){return null!==e}))?n:null}}),ol=K.sj.define({combine:function(e){return oc(e)}}),ou=K.sj.define({combine:function(e){return oc(e)}});function oc(e){var n=[];return e.forEach(function(e){return e?n.push(e):void 0}),n}var od=t(3443),of=function(e){function n(e){var t;return(0,j._)(this,n),(t=(0,n9._)(this,n)).diagnostic=e,t}return(0,n8._)(n,e),n.prototype.eq=function(e){return(0,eT._)(e,n)&&this.severityValue===e.severityValue},(0,e$._)(n,[{key:"severityValue",get:function(){switch(this.diagnostic.severity){case"error":return 3;case"warning":return 2;case"info":return 1;default:return 0}}},{key:"severityColor",get:function(){switch(this.diagnostic.severity){case"error":return"#d11";case"warning":return"orange";case"info":return"#999";default:return"#66d"}}}]),n}(K.FB);function op(e){var n=new K.vB;return(0,od.i5)(e,function(e,t,r){n.add(t,r,new of(e))}),n.finish()}var oh=K.sU.define({create:function(e){return op(e)},update:function(e,n){return(0,Q.$H)(n,od._k)?op(n.state):e.map(n.changes)},provide:function(e){return ol.compute([e],function(n){for(var t=new Map,r=n.field(e).iter();r.value;){for(var a=n.doc.lineAt(r.from),i=n.doc.lineAt(r.to),o=a.number;o<=i.number;){var s,l=null==(s=t.get(o))?void 0:s.severityValue;(!l||l<r.value.severityValue)&&t.set(o,r.value),o++}r.next()}return Array.from(t.entries()).map(function(e){var n=(0,g._)(e,2),t=n[0],r=n[1];return{color:r.severityColor,number:t,zIndex:r.severityValue}})})}}),om="cm-with-scrollbar",ov="cm-scrollbar-gutter",og="cm-scrollbar-inner",ob="cm-scrollbar-overlay-container",oy="cm-scrollbar-overlay",ow="cm-scrollbar-overlay-invisible",o_="cm-scrollbar-overlay-active",oS="--cm-scrollbar-overlay-height",oA=V.Lz.theme((u={"&":{height:"100%",overflowY:"auto"}},(0,ta._)(u,"& .".concat(ov),{borderRight:0,boxSizing:"border-box",display:"flex",flexShrink:0,height:"100%",insetInlineStart:0,left:"unset",position:"sticky",right:0,top:0,width:"".concat(15,"px"),zIndex:200}),(0,ta._)(u,"& .".concat(og),{height:"100%",position:"absolute",right:0,top:0,overflowY:"hidden",borderLeft:"1px solid",borderLeftColor:"inherit"}),(0,ta._)(u,"& .".concat(og," > canvas"),{display:"block",height:"100%",width:"".concat(14,"px"),opacity:.6}),(0,ta._)(u,".".concat(ob),(l={position:"absolute",top:0,height:"100%",width:"100%"},(0,ta._)(l,"& .".concat(oy),(s={background:"rgb(121, 121, 121)",opacity:"0.2",position:"absolute",right:0,top:0,height:"max(".concat(20,"px, var(").concat(oS,"))"),width:"100%",transition:"top 0s ease-in 0ms"},(0,ta._)(s,"&:hover",{opacity:"0.3"}),(0,ta._)(s,"&.".concat(ow),{pointerEvents:"none",opacity:0}),s)),(0,ta._)(l,"& .".concat(o_),(0,ta._)({opacity:1,visibility:"visible",transition:"visibility 0s linear 0ms, opacity 300ms"},"& .".concat(oy),{opacity:"0.4"})),l)),(0,ta._)(u,"&.".concat(om," .cm-scroller::-webkit-scrollbar"),{width:0}),(0,ta._)(u,"&.".concat(om," .cm-scroller"),{scrollbarWidth:"none"}),u)),ok=function(){function e(n){(0,j._)(this,e),this.dragInfo=null,this.view=n,this.container=document.createElement("div"),this.container.classList.add(ob),this.container.role="presentation",this.container.ariaHidden="true",this.handle=document.createElement("div"),this.handle.classList.add(oy),this.container.appendChild(this.handle);var t=n.dom.querySelector(".".concat(og));t&&t.appendChild(this.container),this.observer=new ResizeObserver(this.resizeHandle.bind(this)),this.observer.observe(n.dom),this.container.addEventListener("mousedown",this.onMouseDown.bind(this)),window.addEventListener("mouseup",this.onMouseUp.bind(this)),window.addEventListener("mousemove",this.onMouseMove.bind(this))}var n=e.prototype;return n.resizeHandle=function(){var e=this;this.view.requestMeasure({key:"".concat(this,".resizeHandle"),read:function(){return{ratio:Math.min(1,e.view.scrollDOM.clientHeight/e.view.contentHeight)}},write:function(n){var t=n.ratio;e.handle.style.setProperty(oS,"".concat(100*t,"%")),1===t?e.handle.classList.add(ow):e.handle.classList.remove(ow)}})},n.updateHandlePosition=function(){var e=this;this.view.requestMeasure({key:"".concat(this,".onScroll"),read:function(){var n=e.view.contentHeight,t=e.view.scrollDOM.clientHeight,r=e.handle.getBoundingClientRect().height;return{scrollTop:Math.round(e.view.scrollDOM.scrollTop*((t-r)/(n-t)))}},write:function(n){var t=n.scrollTop;e.handle.style.top="".concat(t,"px")}})},n.onMouseDown=function(e){var n=this;if(2!==e.button){if(e.preventDefault(),e.target===this.handle){this.dragInfo={dragStartY:e.clientY},this.container.classList.add(o_);return}this.view.requestMeasure({key:"".concat(this,".onMouseDown"),read:function(){var t=n.view.scrollDOM.clientHeight,r=n.view.contentHeight;return{scrollTop:Math.max(0,e.clientY-e.target.getBoundingClientRect().top-t/r*t/2)/t*r}},write:function(e){var t=e.scrollTop;n.view.scrollDOM.scrollTop=t}})}},n.onMouseUp=function(){this.dragInfo&&(this.dragInfo=null,this.container.classList.remove(o_))},n.onMouseMove=function(e){if(this.dragInfo){e.preventDefault();var n=e.clientY-this.dragInfo.dragStartY;this.view.scrollDOM.scrollTop=this.view.scrollDOM.scrollTop+n/this.view.dom.clientHeight*this.view.contentHeight,this.view.scrollDOM.scrollTop>0&&Math.round(this.view.scrollDOM.scrollTop)<Math.round(this.view.contentHeight-this.view.dom.clientHeight)&&(this.dragInfo={dragStartY:e.clientY}),this.updateHandlePosition()}},n.update=function(e){(e.docChanged||e.geometryChanged)&&(this.resizeHandle(),this.updateHandlePosition())},n.destroy=function(){this.container.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),this.container.remove(),this.observer.disconnect()},e}(),oC=function(){function e(n){(0,j._)(this,e),this.view=n;var t=n.state.facet(os);if(!t)throw Error("expected config");this.dom=t.create(n).dom,this.dom.classList.add(ov);var r=document.createElement("div");r.classList.add(og);var a=document.createElement("canvas");a.ariaHidden="true",this.context=a.getContext("2d"),r.appendChild(a),this.dom.appendChild(r),n.scrollDOM.insertBefore(this.dom,n.contentDOM.nextSibling),this.update()}var n=e.prototype;return n.shouldRedraw=function(e,n){return!!(!e||!n||(0,Q.$H)(e,"doc","selection","focus",ou,ol,eG.R3,eG.c1))||this.view.contentHeight!==this.previousContentHeight||2*n.scrollClientHeight!==this.previousCanvasHeight},n.update=function(e){var n=this;this.view.requestMeasure({key:this,read:function(){return{scrollClientHeight:n.view.scrollDOM.clientHeight}},write:function(t){var r=t.scrollClientHeight;if(n.context&&n.shouldRedraw(e,{scrollClientHeight:r})){n.previousContentHeight=n.view.contentHeight,n.context.canvas.width=28,n.context.canvas.height=2*r,n.previousCanvasHeight=n.context.canvas.height,n.context&&n.context.clearRect(0,0,n.context.canvas.width,n.context.canvas.height);var a=n.view.state.facet(ou),i=n.view.state.facet(ol),o=new Map,s=!0,l=!1,u=void 0;try{for(var c,d=i.entries()[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f,p=(0,g._)(c.value,2),h=p[0],m=p[1],v=h%3,b=void 0,y=void 0,w=!0,_=!1,S=void 0;try{for(var A,k=m[Symbol.iterator]();!(w=(A=k.next()).done);w=!0){var C,Y=A.value;if(void 0===b||void 0===y){b=Y,y=Y;continue}if(y.number+1===Y.number&&y.color===Y.color&&y.zIndex===Y.zIndex){y=Y;continue}o.set(v,(null!=(C=o.get(v))?C:[]).concat([[b,y]])),b=Y,y=Y}}catch(e){_=!0,S=e}finally{try{w||null==k.return||k.return()}finally{if(_)throw S}}b&&y&&o.set(v,(null!=(f=o.get(v))?f:[]).concat([[b,y]]))}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}var E=!0,x=!1,T=void 0;try{for(var D,I=o.entries()[Symbol.iterator]();!(E=(D=I.next()).done);E=!0){var R=(0,g._)(D.value,2),N=R[0],O=R[1].sort(function(e,n){var t,r,a=(0,g._)(e,1)[0],i=(0,g._)(n,1)[0];return(null!=(t=a.zIndex)?t:0)-(null!=(r=i.zIndex)?r:0)}),P=!0,F=!1,U=void 0;try{for(var L,M=O[Symbol.iterator]();!(P=(L=M.next()).done);P=!0)!function(){var e=(0,g._)(L.value,2),t=e[0],a=t.color,i=t.number,o=e[1].number,s=n.view.state.doc.line(i),l=n.view.state.doc.line(o),u=1/0,c=-1/0;if((0,eG.hw)(n.view.state).between(s.from,l.to,function(e,n){u>e&&(u=e),c<n&&(c=n)}),u<c){var d=n.view.state.doc.lineAt(u);d.number<=s.number&&(s=d),n.view.state.doc.lineAt(c).number>=l.number&&(l=d)}var f=s.number,p=l.number,h=!0,m=!1,v=void 0;try{for(var b,y=n.view.state.field(ox)[Symbol.iterator]();!(h=(b=y.next()).done);h=!0){var w=(0,g._)(b.value,2),_=w[0],S=w[1];_[0].number<s.number&&(f-=S),_[1].number<l.number&&(p-=S)}}catch(e){m=!0,v=e}finally{try{h||null==y.return||y.return()}finally{if(m)throw v}}n.drawRange({scrollClientHeight:r,color:a,from:f,to:p,lane:N})}()}catch(e){F=!0,U=e}finally{try{P||null==M.return||M.return()}finally{if(F)throw U}}}}catch(e){x=!0,T=e}finally{try{E||null==I.return||I.return()}finally{if(x)throw T}}var J=!0,H=!1,B=void 0;try{for(var V,$=a[Symbol.iterator]();!(J=(V=$.next()).done);J=!0){var G=V.value,z=!0,W=!1,j=void 0;try{for(var q,Z=G[Symbol.iterator]();!(z=(q=Z.next()).done);z=!0){var K=q.value,Q=K.color,X=K.number,ee=X,en=!0,et=!1,er=void 0;try{for(var ea,ei=n.view.state.field(ox)[Symbol.iterator]();!(en=(ea=ei.next()).done);en=!0){var eo=(0,g._)(ea.value,2),es=(0,g._)(eo[0],1)[0],el=eo[1];es.number<X&&(ee-=el)}}catch(e){et=!0,er=e}finally{try{en||null==ei.return||ei.return()}finally{if(et)throw er}}n.drawRange({scrollClientHeight:r,color:Q,from:ee})}}catch(e){W=!0,j=e}finally{try{z||null==Z.return||Z.return()}finally{if(W)throw j}}}}catch(e){H=!0,B=e}finally{try{J||null==$.return||$.return()}finally{if(H)throw B}}}}})},n.destroy=function(){this.dom.remove()},n.drawRange=function(e){if(this.context){var n,t=(this.view.documentPadding.top+this.view.defaultLineHeight*(e.from-1))/this.view.contentHeight*e.scrollClientHeight,r=2;e.to&&(r=(this.view.documentPadding.top+this.view.defaultLineHeight*e.to)/this.view.contentHeight*e.scrollClientHeight-t)<4&&(t-=(4-r)/2,r=4),this.context.fillStyle=e.color,this.context.beginPath(),this.context.fillRect(9.333333333333334*(null!=(n=e.lane)?n:0),2*t,28/(void 0===e.lane?1:3),2*r)}},e}();function oY(e){for(var n=[],t=(0,eG.hw)(e).iter();t.value;){var r=n[n.length-1];if(!r||r[0][1].to<t.to){var a=e.doc.lineAt(t.from),i=e.doc.lineAt(t.to);n.push([[a,i],i.number-a.number])}t.next()}return n}function oE(e){return null!==e.facet(os)}var ox=K.sU.define({create:function(e){return oE(e)?oY(e):[]},update:function(e,n){return oE(n.state)&&(0,Q.$H)(n,"doc",eG.rI,oE)?oY(n.state):e}}),oT=K.sj.define({combine:function(e){var n;return null!=(n=e.find(function(e){return null!==e}))?n:null},enables:function(e){return[os.compute([e],function(n){return n.facet(e)}),oA,[ox,(0,Q.P$)(function(e){return new oC(e)},{isEnabled:function(e){return null!==e.facet(os)},provide:function(){return V.Lz.editorAttributes.of(function(e){return null!==e.state.facet(os)?{class:om}:null})}})],(0,Q.P$)(function(e){return new ok(e)},{isEnabled:function(e){return null!==e.facet(os)},eventObservers:{scroll:function(){var e;null==(e=this.plugin())||e.updateHandlePosition()}}})]}}),oD=t(27250),oI="cm-multiplayer-selection-green",oR="cm-multiplayer-selection-red",oN="cm-multiplayer-selection-blue",oO="cm-multiplayer-selection-gold",oP="cm-multiplayer-selection-purple",oF="cm-multiplayer-selection-teal",oU="cm-multiplayer-selection-pink",oL=V.Lz.theme((c={},(0,ta._)(c,".".concat(oI),{background:"rgba(27, 196, 125, 0.2)"}),(0,ta._)(c,".".concat(oR),{background:"rgba(239, 85, 51, 0.2)"}),(0,ta._)(c,".".concat(oN),{background:"rgba(24, 160, 251, 0.2)"}),(0,ta._)(c,".".concat(oO),{background:"rgba(255, 199, 0, 1)"}),(0,ta._)(c,".".concat(oP),{background:"rgba(144, 124, 255, 0.2)"}),(0,ta._)(c,".".concat(oF),{background:"rgba(0, 181, 206, 0.2)"}),(0,ta._)(c,".".concat(oU),{background:"rgba(238, 70, 211, 0.2)"}),c)),oM={"#1BC47D":oI,"#EF5533":oR,"#18A0FB":oN,"#FFC700":oO,"#907CFF":oP,"#00B5CE":oF,"#EE46D3":oU},oJ=K.Pe.define(),oH=K.Pe.define(),oB=K.Pe.define(),oV=K.sU.define({create:function(){return{}},update:function(e,n){if(!n.changes.empty){var t=function(e){return n.changes.mapPos(Math.min(n.changes.length,e))},r={},a=!0,i=!1,o=void 0;try{for(var s,l=Object.values(e)[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;r[u.id]=(0,D._)((0,T._)({},u),{position:t(u.position),selectionStart:t(u.selectionStart),selectionEnd:t(u.selectionEnd)})}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}e=r}var c=!0,d=!1,f=void 0;try{for(var p,h=n.effects[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=p.value;if(m.is(oD.k)&&(e=(0,T._)({},e)),m.is(oJ)&&m.value.position<=n.newDoc.length&&((e=(0,T._)({},e))[m.value.id]=(0,T._)({},m.value)),m.is(oH)&&(e=(0,T._)({},e),m.is(oH)&&delete e[m.value]),m.is(oB)){e=(0,T._)({},e);var v=!0,b=!1,y=void 0;try{for(var w,_=Object.entries(e)[Symbol.iterator]();!(v=(w=_.next()).done);v=!0){var S=(0,g._)(w.value,2),A=S[0];S[1].username===m.value&&delete e[A]}}catch(e){b=!0,y=e}finally{try{v||null==_.return||_.return()}finally{if(b)throw y}}}}}catch(e){d=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(d)throw f}}return e},provide:function(e){return[oL,K.Nb.high((0,V.qd)({above:!1,class:"cm-multiplayer-cursor-layer",update:function(n){return(0,Q.$H)(n,e)},markers:function(n){var t=n.state.field(e,!1);if(!t)return[];var r=[],a=!0,i=!1,o=void 0;try{for(var s,l=Object.values(t)[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value,c=u.selectionStart,d=u.selectionEnd,f=u.color.selection;if(c!==d){var p=K.OF.range(c,d);r.push.apply(r,(0,b._)(V.Ip.forRange(n,f,p)))}}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return r}})),ou.compute([e],function(n){var t=n.field(e,!1);return t?Object.entries(t).map(function(e){var t=(0,g._)(e,2),r=(t[0],t[1]);return{color:r.color.cursor,number:n.doc.lineAt(r.selectionStart).number}}):[]})]}}),o$=function(){function e(n,t){var r=this;(0,j._)(this,e),this.view=n,this.presence=t,this.destroyed=!1,this.followed=null,this.dispose=t.onFollowedUserChanged(function(e){return r.onFollowedUserChanged(e)}),Promise.resolve().then(function(){r.onFollowedUserChanged(t.getFollowedUser())})}var n=e.prototype;return n.onFollowedUserChanged=function(e){var n=this;if(!this.destroyed&&(this.followed=e,this.followed)){var t=this.view.state.field(oV,!1);if(t){var r=Object.values(t).find(function(e){var t;return e.username===(null==(t=n.followed)?void 0:t.username)});r&&this.jumpToPosition(r.position)}}},n.jumpToPosition=function(e){this.view.dispatch({effects:[V.Lz.scrollIntoView(K.OF.cursor(e),{x:"center",y:"center"})]})},n.unfollow=function(){this.presence.getFollowedUser()&&this.presence.unfollowUser()},n.postUpdate=function(e){if(this.followed){var n=void 0,t=!0,r=!1,a=void 0;try{for(var i,o=e.transactions[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value,l=!0,u=!1,c=void 0;try{for(var d,f=s.effects[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var p=d.value;p.is(oJ)&&p.value.username===this.followed.username&&(n=p)}}catch(e){u=!0,c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}n&&this.jumpToPosition(n.value.position)}},n.destroy=function(){this.destroyed=!0,this.dispose()},e}(),oG=new G.k(function(e){return V.Z9.define(function(n){return new o$(n,e)},{provide:function(e){return V.Lz.updateListener.of(function(n){var t;return null==(t=n.view.plugin(e))?void 0:t.postUpdate(n)})},eventHandlers:{click:function(){this.unfollow()},wheel:function(){this.unfollow()},keydown:function(e){"Control"!==e.key&&"Meta"!==e.key&&this.unfollow()}}})}),oz=t(49555),oW=t(35897),oj=V.Z9.define(function(e){var n=e.state.facet(oq),t=[];return{update:function(e){n=e.state.facet(oq);var t=!0,r=!1,a=void 0;try{for(var i,o=e.transactions[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;s.changes.empty||this.pushTransaction(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}},flush:function(){t=[]},logs:function(){return t},pushEvent:function(n){var t={anchor:e.state.selection.main.anchor,head:e.state.selection.main.head,docLength:e.state.doc.length,time:Date.now(),type:n.type};(0,eT._)(n,KeyboardEvent)&&(t.key=n.key,t.metaKey=n.metaKey,t.shiftKey=n.shiftKey,t.altKey=n.altKey,t.ctrlKey=n.ctrlKey),(0,eT._)(n,InputEvent)&&(t.data=n.data,t.inputType=n.inputType,t.isComposing=n.isComposing),(0,eT._)(n,CompositionEvent)&&(t.data=n.data),this.pushLog(t)},pushTransaction:function(e){this.pushLog({userEvent:e.annotation(K.ZX.userEvent),changes:JSON.stringify(e.changes),time:Date.now(),type:"transaction"})},pushLog:function(e){n&&(t.push(e),t=t.slice(Math.max(0,t.length-100)))}}},{provide:function(e){var n=function(n,t){var r;return null==(r=t.plugin(e))?void 0:r.pushEvent(n)};return K.Nb.highest(V.Lz.domEventHandlers({keypress:n,keydown:n,keyup:n,beforeinput:n,input:n,compositionstart:n,compositionupdate:n,compositionend:n}))}}),oq=K.sj.define({combine:function(e){return!!e.length&&e[0]}}),oZ=new G.k(function(e){return oq.of(e)}),oK=t(91539),oQ=t(43120),oX=K.YH.define(),o0=K.Pe.define(),o1=K.sU.define({create:function(){return!0},update:function(e,n){return!(0,Q.$H)(n,o0)&&e},provide:function(e){return oo.u.from(e)}}),o2=(0,Y.x)({buttonLink:[E.wp.reset.button,E.wp.linkStyle]}),o3="hide-editor-file-size-warning",o4=nZ.A.get(o3,"boolean"),o5=function(){function e(n,t,r,a){var i=this;(0,j._)(this,e),this.view=n,this.path=t,this.fs=r,this.writeChange=null,this.destroyed=!1,this.debug=(0,D._)((0,T._)({},a),{latestReceivedVersion:0,openVersion:0,initiatedChanges:0,previousInitiatedChanges:null}),this.dispose=r.watchTextFile(t,{onReady:function(e){var t=e.initialContent,r=e.writeChange,o=e.version;!i.destroyed&&(i.debug.latestReceivedVersion=o,i.debug.openVersion=o,i.debug.setBsodFilePathVersion({filePath:i.path,version:o}),i.debug.trackTimeToLoadFileEnd(i.path),i.writeChange=r,n.dispatch({changes:{from:0,to:n.state.doc.length,insert:t},effects:o0.of(null),annotations:[K.ZX.addToHistory.of(!1),K.ZX.remote.of(!0),oX.of(!0)]}),t.length>=0xa00000&&!0!==o4&&(o4=!0,nZ.A.set(o3,!0),a.showWarning((0,p.FD)(p.FK,{children:["Large files may be slow to edit. Consider using",(0,p.Y)("br",{}),"Cloud Services like"," ",(0,p.Y)("button",{onClick:function(){a.performPaneOperation({operation:"open",secondary:!0,pane:{type:"objectStorage"}})},css:o2.buttonLink,children:"App Storage"})," ","and"," ",(0,p.Y)("button",{onClick:function(){a.performPaneOperation({operation:"open",secondary:!0,pane:{type:"neon"}})},css:o2.buttonLink,children:"PostgreSQL"}),"."]}),5e3)))},onChange:function(e){var t=e.changes,r=e.changeSource,a=e.version,o=e.userId;if(!i.destroyed){i.debug.latestReceivedVersion=a,i.debug.setBsodFilePathVersion({filePath:i.path,version:a});try{n.dispatch({changes:t,annotations:[K.ZX.remote.of(r===oz.iC.Container),K.ZX.addToHistory.of(r===oz.iC.Local||0===o),oX.of(!0)]})}catch(e){i.debugThrowSyncRemoteOpError(t,r,e)}}},onError:function(){i.destroyed||(i.dispose=null,i.writeChange=null)},onMoveOrDelete:function(){i.destroyed||(i.dispose=null,i.writeChange=null)}})}var n=e.prototype;return n.postUpdate=function(e){if(e.docChanged&&this.writeChange){var n=!0,t=!1,r=void 0;try{for(var a,i=e.transactions[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=a.value;if(!(o.annotation(K.ZX.remote)||o.annotation(oX))){this.debug.initiatedChanges++;var s=o.annotation(eN.A)?{author:"ghostwriter"}:{};try{this.writeChange(o.changes,s),this.debug.previousInitiatedChanges=o.changes}catch(n){this.debugThrowWriteChangeError(e,o,n);break}}}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}}},n.destroy=function(){var e;this.destroyed=!0,null==(e=this.dispose)||e.call(this),this.dispose=null,this.writeChange=null,this.debug.deleteBsodFilePathVersion({filePath:this.path})},n.debugThrowSyncRemoteOpError=function(e,n,t){var r=this;this.fs.readFile(this.path,{fromDisk:!1}).then(function(a){var i="replitReadError: "+a.error;a.error||(i=a.content.toString());var o=r.view.contentDOM.innerText;r.debug.throwBsod({origin:"Codemirror: ot/syncRemoteOp",error:t,tags:{ot:!0},extras:{filePath:r.path,previousChanges:JSON.stringify(r.debug.previousInitiatedChanges),changes:JSON.stringify(e),changeSource:n,otClientDoc:i,domText:o,cmDoc:r.view.state.doc.sliceString(0),openVersion:r.debug.openVersion,version:r.debug.latestReceivedVersion,initiatedChanges:r.debug.initiatedChanges}}),(0,V.c_)(r.view.state,t)})},n.debugThrowWriteChangeError=function(e,n,t){var r=this;this.fs.readFile(this.path,{fromDisk:!1}).then(function(a){var i="replitReadError: "+a.error;a.error||(i=a.content.toString());var o=e.view.contentDOM.innerText,s=e.view.plugin(oj),l=null==s?void 0:s.logs();null==s||s.flush(),r.debug.throwBsod({origin:"Codemirror: ot/writeChange",error:t,tags:{ot:!0},extras:{filePath:r.path,previousChanges:JSON.stringify(r.debug.previousInitiatedChanges),transactionChanges:JSON.stringify(n.changes),otherTransactionChanges:JSON.stringify(e.transactions.filter(function(e){return e!==n}).map(function(e){return e.changes})),transactionDoc:n.newDoc.sliceString(0),updateDoc:e.state.doc.sliceString(0),otClientDoc:i,domText:o,openVersion:r.debug.openVersion,latestReceivedVersion:r.debug.latestReceivedVersion,keystrokes:JSON.stringify(l)}})}),(0,V.c_)(e.state,t)},e}(),o7=new G.k(function(e,n,t){return V.Z9.define(function(r){return new o5(r,e,n,t)},{provide:function(e){return[o1,V.Lz.updateListener.of(function(n){var t;return null==(t=n.view.plugin(e))?void 0:t.postUpdate(n)})]}})}),o9=V.Lz.theme({".multiplayer-cursor":{width:"2px",left:"0",top:"0"},".multiplayer-cursor .multiplayer-label":{boxShadow:X.LU.shadow1,borderRadius:X.LU.borderRadius4,padding:"1px",position:"absolute",left:"0px",animation:"fadeOut 2s ease-in forwards",color:"white",display:"inline-block",whiteSpace:"nowrap"},".multiplayer-cursor:hover .multiplayer-label":{animation:"auto"}});function o8(e){e.style.transform="translate(-10000px, -10000px)"}var o6=/iPhone|iPad|iPod/i;function se(){return!!window.navigator.userAgent.match(o6)||"ontouchstart"in window&&window.navigator.userAgent.includes("Macintosh")}function sn(e){var n=document.createElement("div");n.textContent=e.username,n.style.backgroundColor=e.color.cursor,n.classList.add("multiplayer-label");var t=document.createElement("div");return t.classList.add("multiplayer-cursor"),t.style.backgroundColor=e.color.cursor,t.style.position=se()?"absolute":"fixed",t.appendChild(n),{dom:t,label:n}}var st=new Map,sr=[o9,V.Z9.define(function(e){var n=e.state.field(oV,!1),t=new Map((n?Object.values(n):[]).map(function(e){return[e.id,{view:sn(e),cursor:e}]})),r=!0,a=0,i="function"==typeof IntersectionObserver?new IntersectionObserver(function(e){Date.now()>a-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&u()},{threshold:[1]}):null;function o(){i&&(i.disconnect(),t.forEach(function(e){i.observe(e.view.dom)}))}function s(){!(!n||0===Object.values(n).length)&&(e.inView&&e.requestMeasure(c),r!==e.inView)&&((r=e.inView)||t.forEach(function(e){o8(e.view.dom)}))}o();var l=null;function u(){null===l&&(l=setTimeout(function(){l=null,s()},50))}window.addEventListener("resize",u);var c={read:function(){return{editorRect:e.scrollDOM.getBoundingClientRect(),dimensions:new Map((n?Object.values(n):[]).map(function(n){var r=t.get(n.id),a=r?function(e,n){var t=st.get(e);if(t)return t;var r=n.getBoundingClientRect().width;return st.set(e,r),r}(n.username,r.view.label):null;return[n.id,{position:e.coordsAtPos(n.position),labelWidth:a}]}))}},write:function(e){t.forEach(function(n,t){var r=e.dimensions.get(t);!function(e){var n=e.cursorView,t=e.position,r=e.labelWidth,a=e.editorRect,i=n.dom,o=n.label;if(!t||!r)return o8(i);var s=t.bottom-t.top;if(t.bottom<=a.top+s||t.top+s>=a.bottom||t.right<a.left-.1||t.left>a.right+.1)return o8(i);var l=t.left+r-a.right,u="0px";l>0?(u="-".concat(l,"px"),o.style.borderBottomLeftRadius="4px"):o.style.borderBottomLeftRadius="0px",o.style.pointerEvents="none",o.style.transform="translate(".concat(u,", -100%)");var c=se()?{x:t.left-a.left+"px",y:t.top-a.top+"px"}:{x:"calc(".concat(t.left,"px + var(--fixed-position-offset-x))"),y:"calc(".concat(t.top,"px + var(--fixed-position-offset-y))")},d=c.x,f=c.y;i.style.transform="translate(".concat(d,", ").concat(f,")"),i.style.height=s+"px"}({cursorView:n.view,position:(null==r?void 0:r.position)||null,labelWidth:(null==r?void 0:r.labelWidth)||null,editorRect:e.editorRect})})},key:"multiplayer-cursors-plugin-".concat((0,ij.A)())};return{update:function(r){r.transactions.length&&(a=Date.now());var i=r.state.field(oV,!1);if(i===r.startState.field(oV,!1)){r.geometryChanged&&s();return}var l=new Map,u=new Set;if(i){var c=new Map((0,b._)(t.values()).map(function(e){return[e.cursor.id,e.view]}));Object.values(i).forEach(function(n){var t=c.get(n.id);if(t)u.add(t),l.set(n.id,{view:t,cursor:n});else{var r=sn(n);l.set(n.id,{view:r,cursor:n}),e.dom.appendChild(r.dom)}})}t.forEach(function(e){u.has(e.view)||e.view.dom.remove()}),t=l,n=i,o(),s()},destroy:function(){window.removeEventListener("resize",u),t.forEach(function(e){e.view.dom.remove()}),n=void 0,t=new Map,null==i||i.disconnect(),l&&clearTimeout(l)},maybeMeasure:s}},{eventHandlers:{scroll:function(){this.maybeMeasure()}}})],sa=function(){function e(n,t,r,a){var i=this;(0,j._)(this,e),this.view=n,this.destroyed=!1,this.colors=this.getColorMapFromUsers(a.getActiveUsers()),this.disposes=[],this.updateSelections=null,this.disposes.push(a.onUserLeave(function(e){i.destroyed||i.view.dispatch({effects:oB.of(e.username)})}),a.onActiveUsersChange(function(e){i.destroyed||(i.colors=i.getColorMapFromUsers(e))}),r.watchTextFile(t,{onReady:function(e){var n=e.updateSelections;i.destroyed||(i.updateSelections=n)},onCursor:function(e){if(!i.destroyed){var n=function(e){var n,t=e.cursor,r=e.usernameColorsMap,a=null==(n=t.user)?void 0:n.name;if(a){var i=t.id,o=t.position,s=t.selectionStart,l=t.selectionEnd,u=r[a];if(u&&i&&"number"==typeof o&&"number"==typeof s&&"number"==typeof l)return oJ.of({id:i,username:a,position:o,color:{cursor:u,selection:oM[u]||""},selectionStart:s,selectionEnd:l})}}({cursor:e,usernameColorsMap:i.colors});n&&i.view.dispatch({effects:n})}},onRemoveCursor:function(e){i.destroyed||i.view.dispatch({effects:oH.of(e)})},onError:function(){i.updateSelections=null},onMoveOrDelete:function(){i.updateSelections=null}}))}var n=e.prototype;return n.getColorMapFromUsers=function(e){return e.reduce(function(e,n){return n.username&&n.color?(0,D._)((0,T._)({},e),(0,ta._)({},n.username,n.color)):e},{})},n.postUpdate=function(e){if(!(!e.selectionSet||e.transactions.every(function(e){return e.annotation(K.ZX.remote)}))&&this.updateSelections){var n=e.state.selection.ranges.map(function(e){return{position:e.head,selectionStart:e.from,selectionEnd:e.to}});this.updateSelections(n)}},n.destroy=function(){this.destroyed=!0,this.disposes.forEach(function(e){return e()})},e}(),si=new G.k(function(e,n,t){return[sr,oV,V.Z9.define(function(r){return new sa(r,e,n,t)},{provide:function(e){return V.Lz.updateListener.of(function(n){var t;return null==(t=n.view.plugin(e))?void 0:t.postUpdate(n)})}})]}),so=t(85692),ss=t(27213),sl=t.n(ss),su=t(98565),sc=t(11045),sd=t(36163),sf=RegExp("_(?<num>\\d+)$"),sp=function(e,n,t){return(0,H._)(function(){var r,a,i,o,s,l;return(0,B.YH)(this,function(u){switch(u.label){case 0:var c;return r=encodeURI(e.name),[4,(c=(a=(0,n_._6)(t))?a+"/"+r:r,(0,H._)(function(){var e,t,r,a;return(0,B.YH)(this,function(i){switch(i.label){case 0:return e=(0,n_._6)(c),[4,n.readDir(e||sd.Dl)];case 1:if((t=i.sent()).error)return[2,c];return a=(r=function(e){if(t.children.find(function(n){return"FILE"===n.type&&n.filename===e})){var n,a=(0,n_.J)(e),i=(0,n_.an)(e),o=a.match(sf);if(null==o||null==(n=o.groups)?void 0:n.num){var s=Number(o.groups.num);return r("".concat(a.replace(sf,""),"_").concat(s+1,".").concat(i))}return r("".concat(a,"_2.").concat(i))}return e})((0,n_.WP)(c)),[2,e?e+"/"+a:a]}})})())];case 1:return i=u.sent(),[4,(0,sc.g6)(e)];case 2:return o=u.sent(),[4,n.writeFile(i,su.A.from(o))];case 3:return u.sent(),s=(0,n_.J)(e.name),l=(0,n_.WP)(i),[2,"![".concat(s,"](").concat(l,")")]}})})()};function sh(e){var n=e.view,t=e.event,r=e.clipboardText,a=e.filePath,i=n.state.selection;if(!a||!(0,n_.e$)(a)||i.ranges.length>1||i.main.from===i.main.to||!r||!sl()(r))return void function(){if(!t){var e=r||"";if(i.main.empty){var a=i.main.from+e.length;n.dispatch({changes:[{from:i.main.from,insert:e}],selection:K.OF.range(a,a)})}else n.dispatch(n.state.replaceSelection(e))}}();t&&t.preventDefault();var o=n.state.sliceDoc(i.main.from,i.main.to),s="[".concat(o,"](").concat(r,")"),l=i.main.from+s.length;n.dispatch({changes:{from:i.main.from,to:i.main.to,insert:s},selection:K.OF.range(l,l)})}var sm=V.Lz.domEventHandlers({paste:function(e,n){var t;sh({filePath:n.state.facet(no.Md),view:n,event:e,clipboardText:null==(t=e.clipboardData)?void 0:t.getData("Text")})}}),sv=new G.k(function(e){return V.Lz.domEventHandlers({paste:function(n,t){var r=t.state.facet(no.Md),a=null==n||null==(u=n.clipboardData)?void 0:u.files,i=function(e){var n=t.state.selection.main.head;t.dispatch({changes:{from:n,insert:e},selection:{anchor:n,head:n+e.length}})};if(a){var o=!0,s=!1,l=void 0;try{for(var u,c,d=a[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var f=c.value;r&&(0,n_.e$)(r)&&sp(f,e,r).then(i)}}catch(e){s=!0,l=e}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}}}})}),sg=t(43063),sb=function(e){function n(e,t){var r;return(0,j._)(this,n),(r=(0,n9._)(this,n)).id=e,r.result=t,r}return(0,n8._)(n,e),n.range=function(e,n,t){return new this(e,t).range(n.from,n.to)},n.generateId=function(){return this.secretId++},n}(K.FB);sb.secretId=0;var sy=function(e){function n(e){var t;return(0,j._)(this,n),(t=(0,n9._)(this,n)).key=e,t}return(0,n8._)(n,e),n.from=function(e){return new this(e)},n}(K.FB),sw=K.Pe.define({map:function(e,n){var t=K.om.of(e).map(n).iter(),r=t.from,a=t.to;return sb.range(e.value.id,K.OF.cursor(r,a),e.value.result)}}),s_=K.Pe.define(),sS=K.Pe.define(),sA=K.Pe.define(),sk=K.Pe.define(),sC=K.Pe.define(),sY=function(e){var n=e.state.field(sN);if(!n.size)return!1;for(var t=n.iter(),r=[];t.value;){var a=t.from,i=t.to,o=t.value;r.push({from:a,to:i,value:o}),t.next()}var s=e.state.doc.length,l=K.VR.empty(s),u=[],c=[],d=!0,f=!1,p=void 0;try{for(var h,m=r[Symbol.iterator]();!(d=(h=m.next()).done);d=!0)!function(){var e=h.value,n=e.from,t=e.to,r=e.value,a=r.result.secret,i=K.VR.of({from:n,to:t,insert:a},s).map(l,!0);u=u.map(function(e){return e.map(i)});var o=(l=l.compose(i)).mapPos(n)+a.length;u.push(K.OF.cursor(o)),c.push(s_.of(r.id)),(0,nX.u4)(nX.AZ.PASTE_SCANNER_USED,{action:"original_accepted",provider:r.result.provider})}()}catch(e){f=!0,p=e}finally{try{d||null==m.return||m.return()}finally{if(f)throw p}}return e.dispatch({changes:l,effects:c,selection:K.OF.create(u)}),!0},sE=function(e){return!!e.state.field(sN).size&&(e.dispatch({effects:e.state.selection.ranges.map(function(e){return sS.of(e)})}),!0)},sx=function(){return!1},sT=function(e){return!!e.state.field(sN).size&&(e.dispatch({effects:e.state.selection.ranges.map(function(e){return s_.of(e)})}),!0)};function sD(e,n){var t,r=null==(t=e.clipboardData)?void 0:t.getData("text/plain");if(!r)return!1;var a=(0,sg.S)(r);if(!a)return!1;e.preventDefault(),e.stopPropagation();var i=r.slice(0,a.start)+r.slice(a.end),o=sb.generateId();return n.dispatch((0,D._)((0,T._)({},n.state.changeByRange(function(e){var n=e.from,t=e.to,r=K.OF.cursor(n+a.start);return{range:r,changes:{from:n,to:t,insert:i},effects:sw.of(sb.range(o,r,a))}})),{scrollIntoView:!0})),(0,nX.u4)(nX.AZ.PASTE_SCANNER_USED,{action:"secret_detected",provider:a.provider}),!0}var sI=K.sU.define({create:function(){return K.om.empty},update:function(e,n){e=e.map(n.changes);var t=!0,r=!1,a=void 0;try{for(var i,o=n.effects[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;if(s.is(sk)){var l=s.value,u=l.from,c=l.to,d=l.secret;e=e.update({add:[sy.from(d).range(u,c)],filter:function(){return!1}})}s.is(sC)&&(e=K.om.empty)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return e}}),sR=K.sU.define({create:function(){return null},update:function(e,n){var t=n.state.field(sN,!1),r=!0,a=!1,i=void 0;try{for(var o,s=n.effects[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;t&&l.is(sS)&&((0,eT._)(l.value,K.yn)?t.between(l.value.from,l.value.to,function(n,t,r){e=r}):e=l.value),l.is(sA)&&(e=null)}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return e}}),sN=K.sU.define({create:function(){return K.om.empty},update:function(e,n){e=e.map(n.changes);var t=!0,r=!1,a=void 0;try{for(var i,o=n.effects[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)!function(){var n=i.value;n.is(sw)&&(e=e.update({add:[n.value],sort:!0})),n.is(s_)&&(e=(0,eT._)(n.value,K.yn)?e.update({filter:function(){return!1},filterFrom:n.value.from,filterTo:n.value.to}):e.update({filter:function(e,t,r){return r.id!==n.value}}))}()}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return e},provide:function(){return[V.Lz.domEventHandlers({paste:sD}),K.Nb.highest(V.w4.of([{key:"Mod-z",run:sT},{key:"Enter",run:sY},{key:"Tab",run:sE,stopPropagation:!0},{key:"Escape",run:sx}]))]}}),sO=eJ.Ly.of(function(e){var n=e.state.field(sN,!1);if(!n||!n.size)return!1;var t=!1;return n.between(e.newSelection.main.from,e.newSelection.main.to,function(){return t=!0,!1}),t}),sP=t(22531),sF=t(99335),sU=t(73321),sL=t(83096),sM=t(70251),sJ=t(88976),sH=t(13315),sB=(0,Y.x)({buttons:[E.wp.display.flex,E.wp.rowWithGap(4),E.wp.justify.end],input:[E.wp.colWithGap(4),E.wp.flex.grow(1)],label:[E.wp.color.foregroundDimmer,E.wp.fontSize(12),E.wp.height(24),E.wp.justify.center],flexRow:[E.wp.display.flex,E.wp.rowWithGap(8),E.wp.align.center]}),sV={fontFamily:"text-security-disc"},s$=x.D.label;function sG(e){var n=(0,eS.A)().secrets,t=(0,h.useId)(),r=(0,h.useId)(),a=(0,g._)((0,h.useState)(""),2),i=a[0],o=a[1],s=(0,g._)((0,h.useState)(e.initialValue),2),l=s[0],u=s[1],c=(0,g._)((0,h.useState)(!1),2),d=c[0],f=c[1],m=(0,h.useRef)(null);return(0,h.useEffect)(function(){if(e.isOpen){var n;null==(n=m.current)||n.focus(),(0,nX.u4)(nX.AZ.PASTE_SCANNER_USED,{action:"modal_opened",provider:null==e?void 0:e.provider})}},[e.isOpen,null==e?void 0:e.provider]),(0,p.Y)(sU.n1,{contain:!0,children:(0,p.Y)(sM.a,{isOpen:e.isOpen,onRequestClose:e.onCancel,children:(0,p.FD)(x.S,{gap:16,children:[(0,p.Y)(tL.EY,{variant:"subheadBig",multiline:!1,children:"Add a key name for your secret value"}),(0,p.FD)(x.S,{css:sB.flexRow,children:[(0,p.FD)(x.S,{css:sB.input,children:[(0,p.Y)(s$,{css:sB.label,htmlFor:t,children:"Key"}),(0,p.Y)(sL.pd,{id:t,ref:m,value:i,onChange:function(e){return o(e.target.value)}})]}),(0,p.FD)(x.S,{css:sB.input,children:[(0,p.FD)(x.S,{css:sB.flexRow,children:[(0,p.Y)(s$,{css:sB.label,htmlFor:r,children:"Value"}),(0,p.Y)(tU.K0,{alt:"Toggle Secret",onClick:function(){return f(function(e){return!e})},tooltipPlacement:"top",children:d?(0,p.Y)(sH.A,{}):(0,p.Y)(sJ.A,{})})]}),(0,p.Y)(sL.pd,{id:r,value:l,onChange:function(e){return u(e.target.value)},style:d?void 0:sV})]})]}),(0,p.FD)(x.S,{css:sB.buttons,children:[(0,p.Y)(t5.$n,{text:"Cancel",onClick:e.onCancel}),(0,p.Y)(t5.$n,{colorway:"primary",text:"Save Secret",disabled:0===i.length||0===l.length,onClick:function(){return(0,H._)(function(){return(0,B.YH)(this,function(t){switch(t.label){case 0:return[4,n.addEntries([{key:i,value:l}])];case 1:return t.sent(),e.onSaveSecret(i,l),(0,nX.u4)(nX.AZ.PASTE_SCANNER_USED,{action:"secret_created",provider:null==e?void 0:e.provider}),[2]}})})()}})]})]})})})}var sz=t(37962),sW=t(90843),sj=(0,Y.x)({hint:[E.wp.align.center,E.wp.border({color:X.LU.outlineDimmer,direction:"top"}),E.wp.color.foregroundDimmest,E.wp.display.flex,E.wp.flex.row,E.wp.px(8),E.wp.py(4),E.wp.rowWithGap(8)],key:[E.wp.px(4)],wrapper:[E.wp.backgroundColor.backgroundHigher,E.wp.borderRadius(4),E.wp.cursor.default,E.wp.font.default],mobileButtons:[E.wp.flex.grow(1)],mobileHint:[E.wp.justify.center]}),sq={borderTop:"1px solid ".concat(X.LU.outlineDimmer),borderBottom:"1px solid ".concat(X.LU.outlineDimmer),borderRadius:0};function sZ(e){return(0,p.FD)(x.S,{css:sj.wrapper,style:e.onMobile?sq:void 0,children:[(0,p.FD)(x.S,{p:8,style:{textAlign:e.onMobile?"center":"inherit"},children:[(0,p.Y)(x.S,{children:"The value you pasted looks like a secret."}),(0,p.Y)(x.S,{children:"Store it securely using our Secrets feature."})]}),e.onMobile?(0,p.Y)(sQ,(0,T._)({},e)):(0,p.Y)(sK,(0,T._)({},e))]})}function sK(e){return(0,p.FD)(p.FK,{children:[(0,p.FD)(x.S,{css:sj.hint,onClick:e.onClickUseSecrets,children:[(0,p.Y)(sz.A,{}),"Press",(0,p.Y)(x.S,{css:sj.key,children:(0,p.Y)(rw._y,{keyCombo:"Tab",small:!0})}),"to use Secrets"]}),(0,p.FD)(x.S,{css:sj.hint,onClick:e.onClickPasteAnyway,children:[(0,p.Y)(sW.A,{}),"Press",(0,p.Y)(x.S,{css:sj.key,children:(0,p.Y)(rw._y,{keyCombo:"Enter",small:!0})}),"to paste anyway"]})]})}function sQ(e){return(0,p.FD)(x.S,{css:[sj.hint,sj.mobileHint],children:[(0,p.Y)(t5.$n,{css:sj.mobileButtons,iconLeft:(0,p.Y)(sz.A,{}),text:"Use Secrets",onClick:e.onClickUseSecrets,colorway:"primary"}),(0,p.Y)(t5.$n,{css:sj.mobileButtons,iconLeft:(0,p.Y)(sW.A,{}),text:"Paste Anyway",onClick:e.onClickPasteAnyway})]})}var sX=t(21105),s0=t(76903),s1=t(3937),s2=(0,Y.x)({border:[E.wp.border({color:X.LU.accentPrimaryDefault,direction:"y",width:1})],title:[E.wp.display.flex,E.wp.rowWithGap(8),E.wp.align.center,E.wp.justify.spaceBetween,E.wp.px(8),E.wp.pt(4),E.wp.font.default],wrapper:[E.wp.backgroundColor.backgroundRoot,E.wp.py(0),E.wp.position.relative,E.wp.zIndex(200)]});function s3(e){return(0,sX.A)(e.onClose),(0,p.Y)(sU.n1,{autoFocus:!0,children:(0,p.Y)(x.S,{css:s2.wrapper,children:(0,p.FD)(x.S,{css:s2.border,children:[(0,p.FD)(x.S,{css:s2.title,children:[(0,p.FD)(tL.EY,{multiline:!1,children:["Access the secret ",(0,p.Y)("strong",{children:e.keyName}),":"]}),(0,p.Y)(tU.K0,{alt:"Close",onClick:e.onClose,children:(0,p.Y)(tM.A,{})})]}),(0,p.Y)(s1.ui,{background:"root",children:(0,p.Y)(s0.A,{keyName:e.keyName,filePath:e.filePath,onInsert:e.onInsert})})]})})})}var s4=t(13349),s5=n7.x.compute([sN],function(e){var n=e.field(sN).iter();if(null===n.value)return null;for(var t=[];null!==n.value;){var r=n.from,a=n.to,i=n.value;t.push({from:r,to:a,insert:i.result.secret}),n.next()}return t}),s7=function(e){function n(e,t){var r;return(0,j._)(this,n),(r=(0,n9._)(this,n)).secret=e,r.as=t,r}(0,n8._)(n,e);var t=n.prototype;return t.toDOM=function(e){var n=this,t=(0,tF.J)((0,p.Y)(sZ,{onMobile:"pocket"===this.as,onClickUseSecrets:function(){e.dispatch({effects:sS.of(n.secret)})},onClickPasteAnyway:function(){sY(e),e.focus()},onClickUndo:function(){e.dispatch({effects:s_.of(n.secret.id)}),e.focus()}}));return"pocket"===this.as&&(t.style.zIndex="200",t.style.position="relative",this.adjustForGutter(t,e)),t},t.updateDOM=function(e,n){return this.adjustForGutter(e,n),!0},t.adjustForGutter=function(e,n){var t=n.dom.querySelector(".cm-gutters");e.style.marginLeft=t?"-".concat(t.clientWidth,"px"):"inherit"},n}(V.xO),s9=s4.X.compute([sR],function(e){var n=e.facet(no.Md),t=e.field(sR);return t&&n?{key:"pasteScannerModal",node:function(e){return(0,p.Y)(sG,{isOpen:!0,initialValue:t.result.secret,provider:t.result.provider,onSaveSecret:function(n){return(0,H._)(function(){var r,a,i,o,s;return(0,B.YH)(this,function(l){for(r=e.state.field(sN).iter(),a=[];r.value;)i=r.from,o=r.to,(s=r.value).id===t.id&&(a.push(s_.of(s.id)),a.push(sk.of({secret:n,from:i,to:o}))),r.next();return e.dispatch({effects:(0,b._)(a).concat([sA.of(null)])}),[2]})})()},onCancel:function(){return e.dispatch({effects:sA.of(null)})}})}}:null}),s8=V.Lz.decorations.compute([sI],function(e){var n=e.field(sI).iter(),t=n.from,r=n.to,a=n.value,i=e.facet(no.Md);return a&&i?V.NZ.set(V.NZ.widget({widget:new s6(a.key,i),side:1,block:!0}).range(t,r)):V.NZ.none}),s6=function(e){function n(e,t){var r;return(0,j._)(this,n),(r=(0,n9._)(this,n)).key=e,r.filePath=t,r}(0,n8._)(n,e);var t=n.prototype;return t.toDOM=function(e){var n=(0,tF.J)((0,p.Y)(s3,{keyName:this.key,filePath:this.filePath,onClose:function(){return e.dispatch({effects:sC.of(null)})},onInsert:function(n){e.dispatch(e.state.changeByRange(function(e){return{range:K.OF.cursor(e.from+n.length),changes:{from:e.from,to:e.to,insert:n}}})),e.focus(),(0,nX.u4)(nX.AZ.PASTE_SCANNER_USED,{action:"secret_key_inserted"})}}));return this.adjustForGutter(n,e),n},t.updateDOM=function(e,n){return this.adjustForGutter(e,n),!0},t.adjustForGutter=function(e,n){var t=n.dom.querySelector(".cm-gutters");e.style.marginLeft=t?"-".concat(t.clientWidth,"px"):"inherit"},n}(V.xO),le=[s5,function(){var e=[sR,sN],n=function(e){if(null!=e.field(sR,!1))return null;var n=e.field(sN,!1);return n||null};return[V.DK.compute(e,function(e){var t=n(e);if(!t||e.facet(sF.n))return null;for(var r=t.iter();r.value;){var a=function(){var e=new s7(r.value,"tooltip");return{v:{arrow:!0,pos:r.to,create:function(n){return{dom:e.toDOM(n)}}}}}();if("object"===(0,sP._)(a))return a.v}return null}),V.Lz.decorations.compute(e,function(e){var t=n(e);if(!t||!e.facet(sF.n))return V.NZ.none;var r=t.iter();if(!r.value)return V.NZ.none;for(;r.value;){var a=new s7(r.value,"pocket");return V.NZ.set(V.NZ.widget({widget:a,side:1,block:!0}).range(r.to,r.to))}return V.NZ.none})]}(),s9,s8],ln=[sI,sN,sR,le,sO];function lt(e,n){var t=performance.now();nV.vF.time(e,t-n)}var lr=new G.k(function(e){var n=e?.01:.001;return K.Nb.highest(V.Lz.domEventHandlers({keydown:function(e){if(Math.random()<n){var t=e.timeStamp;requestAnimationFrame(function(){lt("editor input latency",t),"undefined"!=typeof requestIdleCallback?requestIdleCallback(function(){lt("editor input latency after layout",t)}):setTimeout(function(){lt("editor input latency after layout",t)})})}}}))}),la=t(48200),li=[{regexp:/https?:\/\/[^\s)"']+/g,cursor:"pointer",onClick:function(e){sl()(e)&&window.open(e,"_blank")}}],lo=new G.k(function(e){return e?null:(0,la.Ay)({key:"mod",rules:li})}),ls=t(69945),ll=t.n(ls),lu=new Set,lc=ll()(function(){var e=!0,n=!1,t=void 0;try{for(var r,a=lu[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var i=r.value;(0,nX.u4)(nX.AZ.WS_TYPED,{fileExt:i})}}catch(e){n=!0,t=e}finally{try{e||null==a.return||a.return()}finally{if(n)throw t}}lu.clear()},18e4),ld=V.Lz.updateListener.of(function(e){if(e.docChanged){var n=e.state.facet(no.Md);if(n){var t=(0,n_.an)(n)||(0,n_.WP)(n);!e.transactions.some(function(e){return e.annotation(K.ZX.remote)})&&(lu.has(t)||(lu.add(t),lc()))}}}),lf=V.Lz.theme({".cm-ruler-element":{backgroundColor:X.LU.backgroundHigher}}),lp=K.sU.define({create:function(e){return 0===e.doc.length},update:function(e,n){return n.docChanged?0===n.state.doc.length:e}}),lh=(0,V.qd)({above:!1,class:"cm-ruler-layer",update:function(e){return(0,Q.$H)(e,lm,lp,oD.k)},markers:function(e){if(e.state.field(lp,!1))return[];var n=e.state.facet(lm);if(0===n.length)return[];var t=[],r=e.dom.getBoundingClientRect(),a=e.contentDOM.getBoundingClientRect().left-r.left+6,i=r.width-2,o=Math.max(r.height,e.contentHeight),s=!0,l=!1,u=void 0;try{for(var c,d=n[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=c.value,p=a+e.defaultCharacterWidth*f;p<i&&t.push(new V.Ip("cm-ruler-element",p,0,2,o))}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}return t}}),lm=K.sj.define({enables:[lp,lh,lf]}),lv=new G.k(function(e){return e.map(function(e){return lm.of(e)})}),lg=V.Lz.theme({"& .cm-scrollbar-gutter":{backgroundColor:X.LU.backgroundDefault},"& .cm-scrollbar-inner":{borderColor:X.LU.backgroundHigher}}),lb=new G.k(function(e,n){var t;return e?null:[lg,oT.of({create:function(){return{dom:document.createElement("div")}}}),ol.compute(["doc",as],function(e){var t=e.field(as,!1);if(!t)return null;for(var r=[],a=1;a<=e.doc.lines;a++)switch(t.getLineChangeType(a)){case tb.DE.COVERED:r.push({number:a,color:n.values.global.greenDefault,zIndex:1});break;case tb.DE.MODIFIED:r.push({number:a,color:n.values.global.blueDefault,zIndex:0})}return r}),oh,(t=({color:n.values.global.foregroundDefault}).color,ou.compute(["doc","selection"],function(e){return e.selection.ranges.map(function(n){var r=n.head;return{color:t,number:e.doc.lineAt(r).number,zIndex:1/0}})}))]}),ly=t(83265);function lw(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;if(!e.valid)return[];for(var r=[],a=e.getCursor(n),i=a.next();!i.done&&r.length<t;)r.push(i.value),i=a.next();return r}var l_=t(60910),lS=t(21733),lA=t(53736),lk=t(69806),lC=t(81512),lY=t(97902),lE=t(97041);function lx(e){return e>420?"large":"small"}var lT=x.D.div,lD=(0,Y.x)({root:[{borderBottom:"1px solid",borderColor:X.LU.outlineDimmest}],panelButtonWrapper:[E.wp.center,E.wp.height(32)],content:[E.wp.display.grid,E.wp.flex.growAndShrink(1),{gridTemplateAreas:'"search search-controls"',gridTemplateRows:"1fr",gridTemplateColumns:"1fr max-content",gap:X.LU.space8}],contentExpanded:[{gridTemplateAreas:'"search search-controls" "replace replace-controls"',gridTemplateRows:"1fr 1fr",gridTemplateColumns:"1fr max-content"}],contentExpandedSmall:[{gridTemplateAreas:'"search" "search-controls" "replace" "replace-controls"',gridTemplateRows:"1fr max-content 1fr max-content",gridTemplateColumns:"1fr"}],contentSmall:[{gridTemplateAreas:'"search" "search-controls"',gridTemplateRows:"1fr max-content",gridTemplateColumns:"1fr"}],matchLabel:[E.wp.position.absolute,E.wp.top(0),E.wp.right(0),E.wp.height("100%"),E.wp.center,E.wp.pr(4)],searchInputWrapper:[E.wp.position.relative,{gridArea:"search"}],searchControls:[E.wp.display.flex,E.wp.align.center,E.wp.rowWithGap(8),E.wp.flex.wrap,{gridArea:"search-controls"}],replaceInputWrapper:[{gridArea:"replace"}],replaceControls:[E.wp.display.flex,E.wp.align.center,E.wp.rowWithGap(8),E.wp.flex.wrap,{gridArea:"replace-controls"}],searchSettings:E.wp.flex.row});function lI(e){var n=(0,h.useRef)(null);return(0,h.useEffect)(function(){if(n.current){var t;e!==(null==(t=n.current)?void 0:t.value)&&(n.current.value=e)}},[e]),n}var lR=new tF.E((0,h.forwardRef)(function(e,n){var t=e.view,r=e.query,a=e.updateQuery,i=(0,g._)((0,h.useState)(!1),2),o=i[0],s=i[1],l=(0,g._)((0,h.useState)([]),2),u=l[0],c=l[1],d=(0,g._)((0,h.useState)(null),2),f=d[0],m=d[1],v=u.length,b=(0,t0.A)(r),y=(0,t0.A)(u),w=lI(r.search),_=lI(r.replace);function S(){(0,ly.Hg)(t);var e=t.state.selection.main;t.dispatch({effects:V.Lz.scrollIntoView(e.from,{y:"center",x:"center"})}),v<=1||m(function(n){if(null===n){var t=u.findIndex(function(n){return n.from===e.from&&n.to===e.to});return -1===t?1:t+1}return n>=v?1:n+1})}function A(){(0,ly.ve)(t);var e=t.state.selection.main;t.dispatch({effects:V.Lz.scrollIntoView(e.from,{y:"center",x:"center"})}),v<=1||m(function(n){if(null===n){var t=u.findIndex(function(n){return n.from===e.from&&n.to===e.to});return -1===t?1:t+1}return n<=1?v||1:n-1})}(0,h.useImperativeHandle)(n,function(){return{onSelectionSet:function(){var e=t.state.selection.main,n=y.current.findIndex(function(n){return n.from<=e.anchor&&n.to>=e.anchor});m(-1!==n?n+1:null)},onDocChanged:function(){c(lw(b.current,t.state.doc)),m(null)},onExpandRequested:function(){s(!0)}}},[t,b,y]),(0,h.useEffect)(function(){var e=lw(r,t.state.doc);c(e);var n=t.state.selection.main,a=e.findIndex(function(e){return e.from<=n.anchor&&e.to>=n.anchor});m(-1!==a?a+1:null)},[t,r]);var k=(0,g._)((0,h.useState)(function(){return lx(t.dom.clientWidth)}),2),C=k[0],Y=k[1],E=(0,rs.A)(function(e){e.width&&Y(lx(e.width))});function T(e){return(0,V.TS)(t,e,"search-panel")}var D=v>0,I=r.search.length>0?"0 / 0":null,R=D?"".concat(f||1," / ").concat(v):I,N=R?8*R.length:null,O=(0,p.FD)(x.S,{css:lD.searchSettings,children:[(0,p.Y)(lA.A,{alt:"case sensitive",icon:(0,p.Y)(lk.A,{}),checked:r.caseSensitive,onClick:function(){a({caseSensitive:!r.caseSensitive})}}),(0,p.Y)(lA.A,{alt:"regular expressions",icon:(0,p.Y)(lY.A,{}),checked:r.regexp,onClick:function(){a({regexp:!r.regexp})}}),(0,p.Y)(lA.A,{alt:"whole words",icon:(0,p.Y)(lE.A,{}),checked:r.wholeWord,onClick:function(){a({wholeWord:!r.wholeWord})}})]}),P=[lD.content];return"small"!==C&&o?P.push(lD.contentExpanded):"small"===C&&o?P.push(lD.contentExpandedSmall):"small"!==C||o||P.push(lD.contentSmall),(0,p.Y)(lT,{ref:E,onKeyDown:function(e){T(e)&&e.preventDefault()},children:(0,p.FD)(s1.ui,{elevated:!0,css:lD.root,px:4,py:6,row:!0,gap:4,children:[(0,p.Y)(x.S,{css:lD.panelButtonWrapper,children:(0,p.Y)(tU.K0,{alt:o?"Close replace panel":"Show replace panel",size:32,onClick:function(){s(function(e){return!e})},children:(0,p.Y)(lC.A,{rotate:90*!!o,style:{transition:"200ms ease"}})})}),(0,p.FD)(x.S,{css:P,children:[(0,p.FD)(x.S,{css:lD.searchInputWrapper,children:[(0,p.Y)(lS.T,{ref:w,style:{padding:4,paddingRight:null!=N?N:void 0},placeholder:"Search",defaultValue:r.search,name:"search","main-field":"true",onKeyDown:function(e){if((0,l_.T$)(e)&&"f"===e.key)return void e.currentTarget.select();if("enter"===e.key.toLowerCase()&&!T(e)){if(e.preventDefault(),e.shiftKey)return void A();S()}},onChange:function(e){a({search:e})}}),R?(0,p.Y)(x.S,{css:lD.matchLabel,children:(0,p.Y)(tL.EY,{variant:"small",color:"dimmest",multiline:!1,children:R})}):null]}),(0,p.FD)(x.S,{css:lD.searchControls,children:[(0,p.FD)(x.S,{row:!0,children:[(0,p.Y)(tU.K0,{size:32,alt:"Previous",onClick:function(){A()},children:(0,p.Y)(lC.A,{rotate:-90})}),(0,p.Y)(tU.K0,{size:32,alt:"Next",onClick:function(){S()},children:(0,p.Y)(lC.A,{rotate:90})})]}),(0,p.Y)(t5.$n,{text:"Select all",onClick:function(){(0,ly.Cj)(t),t.focus()}}),O]}),o?(0,p.FD)(p.FK,{children:[(0,p.Y)(x.S,{css:lD.replaceInputWrapper,children:(0,p.Y)(sL.pd,{ref:_,style:{padding:4},placeholder:"Replacement",name:"replace",defaultValue:r.replace,onKeyDown:function(e){"enter"===e.key.toLowerCase()&&(T(e)||(e.preventDefault(),(0,ly.Aw)(t)))},onChange:function(e){a({replace:e.target.value})}})}),(0,p.FD)(x.S,{css:lD.replaceControls,children:[(0,p.Y)(t5.$n,{text:"Replace",onClick:function(){(0,ly.Aw)(t)}}),(0,p.Y)(t5.$n,{text:"Replace all",onClick:function(){(0,ly.yh)(t)}})]})]}):null]}),(0,p.Y)(x.S,{css:lD.panelButtonWrapper,children:(0,p.Y)(tU.K0,{alt:"Close Search Panel",tooltipBehavior:"hidden",onClick:function(){(0,ly.jO)(t)},children:(0,p.Y)(tM.A,{})})})]})})})),lN=K.Pe.define(),lO=[(0,ly.$P)({createPanel:function(e){var n=!1,t=!1,r=!1,a=!1,i=!1,o=w()(function(n){var t,r,a,i,o,s,l=(0,ly.V8)(e.state),u=new ly.L0({search:null!=(t=n.search)?t:l.search,caseSensitive:null!=(r=n.caseSensitive)?r:l.caseSensitive,literal:null!=(a=n.literal)?a:l.literal,regexp:null!=(i=n.regexp)?i:l.regexp,replace:null!=(o=n.replace)?o:l.replace,wholeWord:null!=(s=n.wholeWord)?s:l.wholeWord});u.eq(l)||e.dispatch({effects:ly.Ri.of(u)})},300),s=lR.create({view:e,query:(0,ly.V8)(e.state),updateQuery:o});return{dom:s,top:!0,update:function(n){(0,Q.$H)(n,ly.Ri)&&lR.set(s,{view:e,query:(0,ly.V8)(n.state),updateQuery:o}),n.selectionSet&&!a&&(a=!0,requestAnimationFrame(function(){if(!t){var e;a=!1,null==(e=lR.ref(s))||e.onSelectionSet()}})),n.docChanged&&!r&&(r=!0,requestAnimationFrame(function(){if(!t){var e;r=!1,null==(e=lR.ref(s))||e.onDocChanged()}})),(0,Q.$H)(n,lN)&&!i&&(i=!0,requestAnimationFrame(function(){if(!t){var e;i=!1,null==(e=lR.ref(s))||e.onExpandRequested()}}))},mount:function(){n||(n=!0,requestAnimationFrame(function(){if(!t){n=!1;var e=s.querySelector("[main-field]");e&&(e.focus(),e.select())}}))},destroy:function(){return t=!0}}}}),V.w4.of([{win:"Ctrl-h",linux:"Ctrl-h",preventDefault:!0,run:function(e){return!!((0,ly.NK)(e.state)||(0,ly.pi)(e))&&(e.dispatch({effects:lN.of(null)}),!0)}}])],lP=t(62760),lF=null!=(d=globalThis.requestIdleCallback)?d:globalThis.requestAnimationFrame;function lU(e,n,t){var r=e.field(n,!1);if(void 0===r){if(void 0===t)throw Error("Field is not mounted on state");return t}return n.spec.toJSON(r,e)}function lL(e){for(var n=e.sliceString(0,200)+e.length,t=0,r=0;r<n.length;r++)t=(t<<5)-t+n.charCodeAt(r)|0;return(t>>>0).toString(36)}var lM=function(){function e(n,t,r,a){var i=this;(0,j._)(this,e),this.view=n,this.replId=t,this.cache=r,this.compartment=a,this.historyIsMounted=!1,this.destroyed=!1,this.pending=!1,this.scheduleCacheUpdate=this.scheduleCacheUpdate.bind(this),this.view.scrollDOM.addEventListener("scroll",this.scheduleCacheUpdate),this.view.state.field(o1,!1)||Promise.resolve().then(function(){i.destroyed||i.apply()})}var n=e.prototype;return n.apply=function(){if(!this.historyIsMounted&&this.view.state.field(_.jN,!1))return void(0,V.c_)(this.view.state,Error("History was preconfigured on this view, if you want to use state cache, please make sure history is not already configured for this view"));if(!this.key||this.view.state.field(o1,!1)){if(this.historyIsMounted){var e,n,t=this.key?oo.u.of(!0):[];this.view.dispatch({effects:this.compartment.reconfigure(t)}),this.historyIsMounted=!1}return}var r=this.cache.get(this.key);if(!r||r.hash!==lL(this.view.state.doc)){this.view.dispatch({effects:this.compartment.reconfigure((0,_.b6)())}),this.historyIsMounted=!0;return}var a=K.OF.fromJSON(r.selection),i=[(e=r.scroll,(n=V.Lz.scrollIntoView(e.pos,{y:"start",x:"start",yMargin:e.yDiff,xMargin:e.scrollLeft})).value.isSnapshot=!0,n),this.compartment.reconfigure([_.jN.init(function(e){var n,t;return n=_.jN,t=r.history,n.spec.fromJSON(t,e)}),(0,_.b6)()])];if(this.view.state.field(eG.rI,!1))for(var o=0;o<r.folds.length;o+=2){var s=r.folds[o],l=r.folds[o+1];i.push(eG.R3.of({from:s,to:l}))}this.view.dispatch({selection:a,effects:i}),this.historyIsMounted=!0},n.scheduleCacheUpdate=function(){var e=this;this.pending||(this.pending=!0,lF(function(){e.pending&&!e.destroyed&&(e.pending=!1,e.historyIsMounted&&e.key&&e.cache.set(e.key,{hash:lL(e.view.state.doc),scroll:function(e){var n=e.scrollDOM.scrollTop,t=e.scrollDOM.scrollLeft;if(0===n&&0===t)return{pos:0,yDiff:0,scrollLeft:0};var r=e.lineBlockAtHeight(n+8),a=r.from>=e.viewport.from||e.viewportLineBlocks[0].top-n>200?r:e.viewportLineBlocks[0];return{pos:a.from,yDiff:a.top-n,scrollLeft:t}}(e.view),selection:e.view.state.selection.toJSON(),history:lU(e.view.state,_.jN),folds:lU(e.view.state,eG.rI,[])}))}))},n.postUpdate=function(e){if((0,Q.$H)(e,no.Md,o1))return void this.apply();!this.pending&&this.historyIsMounted&&(0,Q.$H)(e,"doc","selection",_.jN,eG.rI)&&this.scheduleCacheUpdate()},n.destroy=function(){this.destroyed=!0,this.view.scrollDOM.removeEventListener("scroll",this.scheduleCacheUpdate)},(0,e$._)(e,[{key:"key",get:function(){var e=this.view.state.facet(no.Md);return e?"".concat(this.replId,":").concat(e):null}}]),e}(),lJ=new G.k(function(e,n){var t=new K.xx,r=V.Z9.define(function(r){return new lM(r,e,n,t)},{provide:function(e){return V.Lz.updateListener.of(function(n){var t;null==(t=n.view.plugin(e))||t.postUpdate(n)})}});return[t.of(oo.u.of(!0)),r]}),lH=V.Lz.theme({"&":{contain:"size"},"& > .cm-scroller":{contain:"strict"}}),lB=t(58226),lV=t(41832),l$=t(40185),lG=t(49999),lz=t(18454),lW=t(57282);function lj(e){return{filePath:e,text:"",selections:[],hasFocus:!1}}function lq(e,n){var t;return null==n?lj(e):{filePath:e,text:null!=(t=n.state.doc.toString())?t:"",selections:n.state.selection.ranges.map(function(e){var n=e.from;return{location:n,length:e.to-n}}),hasFocus:n.hasFocus}}function lZ(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,ij.A)(),t={messageType:lz.tF.TEXT_EDITOR_STATE,filePath:e.textEditorState.filePath,text:e.textEditorState.text,selections:e.textEditorState.selections,hasFocus:e.textEditorState.hasFocus,hasGhostwriterSuggestion:e.hasGhostwriterSuggestion,revisionId:e.revisionId};(0,lW._z)(t,n)}function lK(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,ij.A)(),t={messageType:lz.tF.TEXT_EDITOR_CLOSED,filePath:e};(0,lW._z)(t,n)}function lQ(e,n,t,r,a){return r===e&&r===t.textEditorState.filePath&&n===t.textEditorState.filePath&&a===t.revisionId}function lX(e){var n=e.map(function(e){return K.OF.range(e.location,e.location+e.length)});return K.OF.create(n)}function l0(e,n,t,r,a){var i,o,s,l,u,c,d,f,p,h,m=a.payload;if((0,lz.$H)(m)){if(!lQ(e,n,r,m.filePath,m.revisionId))return!1;var v=lX(m.selections);return t.dispatch({selection:v,scrollIntoView:!0}),!0}if((0,lz.m3)(m)){if(!lQ(e,n,r,m.filePath,m.revisionId))return!1;var g=lX(m.selections);return t.dispatch({changes:{from:0,to:t.state.doc.length,insert:m.text},selection:g,scrollIntoView:!0}),!0}if((0,lz.XN)(m)){if(!lQ(e,n,r,m.filePath,m.revisionId))return!1;var b=m.insertionRange,y=lX(m.selections);return t.dispatch({changes:{from:b.location,to:b.location+b.length,insert:m.text},selection:y,scrollIntoView:!0}),!0}if((0,lz.bb)(m))return!!lQ(e,n,r,m.filePath,m.revisionId)&&(t.dispatch(t.state.replaceSelection(m.text)),!0);if((0,lz.bj)(m))lQ(e,n,r,m.filePath,m.revisionId)&&sh({filePath:e,view:t,clipboardText:m.text});else if((0,lz.Ho)(m))switch(m.action){case lz.wZ.REQUEST_BLUR:if(!lQ(e,n,r,m.filePath,m.revisionId))return!1;t.contentDOM.blur();return;case lz.wZ.REQUEST_UNDO:return i=e,o=n,s=t,l=r,u=m.filePath,!!lQ(i,o,l,u,m.revisionId)&&((0,_.tN)(s),!0);case lz.wZ.REQUEST_REDO:return c=e,d=n,f=t,p=r,h=m.filePath,!!lQ(c,d,p,h,m.revisionId)&&((0,_.ZS)(f),!0);case lz.wZ.REQUEST_INDENT_SELECTION:return!!lQ(e,n,r,m.filePath,m.revisionId)&&(_.UY(t),!0);case lz.wZ.REQUEST_DEDENT_SELECTION:return!!lQ(e,n,r,m.filePath,m.revisionId)&&(_.Mg(t),!0);case lz.wZ.REQUEST_TOGGLE_COMMENT:return!!lQ(e,n,r,m.filePath,m.revisionId)&&(_.qh(t),!0);case lz.wZ.REQUEST_ACCEPT_GHOSTWRITER_SUGGESTION:return!!lQ(e,n,r,m.filePath,m.revisionId)&&eF(t);case lz.wZ.REQUEST_FOCUS:return t.focus(),!0;default:throw Error("Unknown BridgeTextEditorAction.")}else throw Error("Invalid payload.")}var l1=t(81269),l2=t(35846);function l3(e){var n=e.selection,t=e.doc,r=n.ranges.map(function(e){return e.extend(t.lineAt(e.from).from,t.lineAt(e.to).to)});return K.OF.create(r)}var l4=t(19786),l5=t(51107);function l7(e,n,t){var r=e.selection.main,a=e.sliceDoc(r.from,r.to),i=(0,n_.an)(n);return{code:a,filePath:n,fileVersion:t,fileContent:e.doc.toString(),range:{indexFrom:r.from,indexTo:r.to,lineFrom:e.doc.lineAt(r.from).number,lineTo:e.doc.lineAt(r.to).number},language:i,referenceType:m.fDX.INLINE}}var l9=t(1224),l8=t(13421),l6=t(29705),ue=t(43517),un=t(22227),ut=t(66561);function ur(e){return(0,p.Y)(I.Ay,(0,D._)((0,T._)({},e),{children:(0,p.Y)("path",{fillRule:"evenodd",d:"M7 3.75A1.25 1.25 0 0 0 5.75 5v14.543l5.814-4.153a.75.75 0 0 1 .872 0l5.814 4.153V5A1.25 1.25 0 0 0 17 3.75H7Zm-1.945-.695A2.75 2.75 0 0 1 7 2.25h10A2.75 2.75 0 0 1 19.75 5v16a.75.75 0 0 1-1.186.61L12 16.922 5.436 21.61A.75.75 0 0 1 4.25 21V5c0-.73.29-1.429.805-1.945Z",clipRule:"evenodd"})}))}var ua=t(67526),ui=t(64053);function uo(e){return(0,p.Y)(I.Ay,(0,D._)((0,T._)({},e),{children:(0,p.Y)("path",{fillRule:"evenodd",d:"M2.25 5A2.75 2.75 0 0 1 5 2.25h8A2.75 2.75 0 0 1 15.75 5v.293A.749.749 0 0 1 16 5.25c.822 0 1.56.361 2.062.93.428.485.688 1.123.688 1.82v.293A.749.749 0 0 1 19 8.25c.822 0 1.56.361 2.062.93.428.485.688 1.123.688 1.82v8A2.75 2.75 0 0 1 19 21.75h-8A2.75 2.75 0 0 1 8.25 19c0-.088.015-.172.043-.25H8A2.75 2.75 0 0 1 5.25 16c0-.088.015-.172.043-.25H5A2.75 2.75 0 0 1 2.25 13V5Zm4.457 10.75a.749.749 0 0 1 .043.25c0 .69.56 1.25 1.25 1.25h8c.69 0 1.25-.56 1.25-1.25V8A1.245 1.245 0 0 0 16 6.75a.749.749 0 0 1-.25-.043V13A2.75 2.75 0 0 1 13 15.75H6.707Zm3 3a.749.749 0 0 1 .043.25c0 .69.56 1.25 1.25 1.25h8c.69 0 1.25-.56 1.25-1.25v-8A1.245 1.245 0 0 0 19 9.75a.749.749 0 0 1-.25-.043V16A2.75 2.75 0 0 1 16 18.75H9.707ZM5 3.75c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h8c.69 0 1.25-.56 1.25-1.25V5c0-.69-.56-1.25-1.25-1.25H5Z",clipRule:"evenodd"})}))}var us=t(29274);function ul(e){return(0,p.Y)(I.Ay,(0,D._)((0,T._)({},e),{children:(0,p.Y)("path",{fillRule:"evenodd",d:"M5.614 1.357a.75.75 0 0 1 1.03.257l8.872 14.788a3.25 3.25 0 1 1-1.286.772L5.357 2.386a.75.75 0 0 1 .257-1.03Zm12.772 0a.75.75 0 0 1 .257 1.029l-4.2 7a.75.75 0 1 1-1.286-.772l4.2-7a.75.75 0 0 1 1.029-.257Zm-7.5 12.5a.75.75 0 0 1 .257 1.029L9.77 17.174a3.25 3.25 0 1 1-1.286-.772l1.373-2.288a.75.75 0 0 1 1.029-.257ZM7.5 17.75a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5Zm9 0a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5Z",clipRule:"evenodd"})}))}var uu=t(80325),uc=t(64424),ud=t(55247),uf=t(54154);function up(e){return(0,p.FD)(I.Ay,(0,D._)((0,T._)({},e),{children:[(0,p.Y)("path",{d:"M7 4.25c-.69 0-1.25.56-1.25 1.25v13.333c0 .69.56 1.25 1.25 1.25h10c.69 0 1.25-.56 1.25-1.25v-7.292a.625.625 0 1 1 1.25 0v7.292a2.5 2.5 0 0 1-2.5 2.5H7a2.5 2.5 0 0 1-2.5-2.5V5.5A2.5 2.5 0 0 1 7 3h4.375a.625.625 0 1 1 0 1.25H7Z"}),(0,p.Y)("path",{fillRule:"evenodd",d:"M15.333 16.541c0 .345-.263.625-.588.625h-5.49c-.325 0-.588-.28-.588-.625s.263-.625.588-.625h5.49c.325 0 .588.28.588.625ZM15.333 10.083c0 .345-.263.625-.588.625h-5.49c-.325 0-.588-.28-.588-.625s.263-.625.588-.625h5.49c.325 0 .588.28.588.625Z",clipRule:"evenodd"}),(0,p.Y)("path",{fillRule:"evenodd",d:"M12 13.416c-.345 0-.625-.263-.625-.588v-5.49c0-.325.28-.588.625-.588s.625.263.625.588v5.49c0 .325-.28.588-.625.588ZM17.889 1.266c-.13-.355-.648-.355-.778 0l-.893 2.44a.407.407 0 0 1-.264.247l-2.166.663a.396.396 0 0 0 0 .762l2.166.669c.123.038.22.13.264.247l.893 2.44c.13.355.648.355.778 0l.893-2.44a.407.407 0 0 1 .264-.247l2.166-.666a.396.396 0 0 0 0-.762l-2.166-.666a.407.407 0 0 1-.264-.247l-.893-2.44Z",clipRule:"evenodd"})]}))}var uh=t(81076),um=t(68534),uv=t(50618),ug=t(50957),ub=t(12785),uy=t(90173),uw=t(79351);function u_(e){var n=e.label,t=e.icon,r=e.run,a=e.keyboardShortcut,i=e.dataCy;return{match:l9.G2,data:{type:"action",label:n,icon:t,run:r,keyboardShortcut:a,dataCy:i}}}function uS(e){var n=e.view,t=e.mainSelection,r=e.codeReference;n.dispatch({selection:{anchor:t.to},effects:[tD.L.of({id:(0,ij.A)(),codeReference:r,type:"ghostwriterKillswitch"}),V.Lz.scrollIntoView(t.to,{y:"center"})]})}function uA(e){var n=e.path,t=(0,eS.A)().fs,r=(0,nq._P)({controlName:"flag-killswitch-ghostwriter-chat",logFlagToAnalytics:!1});return(0,h.useCallback)(function(e,a){var i=e.state,o=i.doc,s=i.selection,l=i.lineBreak,u=o.lineAt(s.main.head);u.length&&e.dispatch({changes:{from:u.to,insert:l},selection:K.OF.cursor(u.to+1)});var c=t.getOTVersion(n),d=l7(e.state,n,c);if((0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"inline_textbox_opened",intent_type:"generate",source:a}),r)return void uS({view:e,mainSelection:e.state.selection.main,codeReference:d});var f=e.state.selection.main.to;e.dispatch({selection:{anchor:f},effects:[tD.L.of({id:(0,ij.A)(),codeReference:d,type:"generateCode",source:a}),V.Lz.scrollIntoView(f,{y:"center"})]})},[n,t,r])}function uk(e){var n=e.path,t=(0,eS.A)().fs,r=(0,nq._P)({controlName:"flag-killswitch-ghostwriter-chat",logFlagToAnalytics:!1});return(0,h.useCallback)(function(e,a){e.dispatch({selection:l3(e.state)});var i=t.getOTVersion(n),o=l7(e.state,n,i);if(r)return void uS({view:e,mainSelection:e.state.selection.main,codeReference:o});(0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"inline_textbox_opened",intent_type:"modify",source:a});var s=e.state.selection.main.to;e.dispatch({selection:{anchor:s},effects:[tD.L.of({id:(0,ij.A)(),type:"transformCode",codeReference:o,source:a}),V.Lz.scrollIntoView(s,{y:"center"})]})},[n,t,r])}function uC(e){var n=e.path,t=(0,eS.A)().fs,r=(0,nq._P)({controlName:"flag-killswitch-ghostwriter-chat",logFlagToAnalytics:!1});return(0,h.useCallback)(function(e,a){e.dispatch({selection:l3(e.state)});var i,o,s,l,u=t.getOTVersion(n),c=l7(e.state,n,u);(0,nX.u4)(nX.AZ.AI_INLINE_EVENT,{action:"inline_textbox_opened",intent_type:"explain",source:a});var d=e.state.selection.main.to-e.state.selection.main.from>rI.a;if(d)return void(o=(i={view:e,mainSelection:e.state.selection.main,codeReference:c}).view,s=i.mainSelection,l=i.codeReference,o.dispatch({selection:{anchor:s.to},effects:[tD.L.of({id:(0,ij.A)(),codeReference:l,type:"codeLengthExceeded"}),V.Lz.scrollIntoView(s.to,{y:"center"})]}));if(r||d)return void uS({view:e,mainSelection:e.state.selection.main,codeReference:c});var f=e.state.selection.main.to;e.dispatch({selection:{anchor:f},effects:[tD.L.of({id:(0,ij.A)(),codeReference:c,type:"explainCode",source:a}),V.Lz.scrollIntoView(f,{y:"center"})]})},[t,n,r])}var uY=new G.k(function(e,n,t){return e?null:[(0,iM.M)(n),V.Lz.domEventHandlers({contextmenu:function(e,n){var r=e.clientX,a=e.clientY,i=n.state.selection.main,o=n.posAtCoords({x:r,y:a}),s=n.state.doc.length,l=null===o?s:o;if(l<i.from||l>i.to){var u=K.OF.cursor(l);n.dispatch({selection:u})}return t(e),!0}})]}),uE=t(77537);function ux(){var e=(0,nD._)(["\n  query ReplCodeExamples($language: String!) {\n    languageExamples(language: $language) {\n      ... on LanguageExamples {\n        examples {\n          ... on LanguageExample {\n            mainFile\n            name\n            code\n          }\n        }\n      }\n    }\n  }\n"]);return ux=function(){return e},e}var uT={},uD=(0,nI.J1)(ux());function uI(e){var n=(0,T._)({},uT,e);return nR.I(uD,n)}var uR=t(75228),uN=t(7503),uO=t(89914),uP=t(38592),uF=t(51292),uU=x.D.button;function uL(e){var n=e.name,t=e.children,r=e.onClick;return(0,p.FD)(uU,{onClick:function(){return r()},css:[uF.b.nofill,E.wp.p(8),E.wp.focusRing,E.wp.textAlign.left],children:[(0,p.Y)(tL.EY,{variant:"subheadDefault",css:E.wp.pb(16),multiline:!1,children:n}),(0,p.Y)(x.S,{css:[E.wp.backgroundColor.backgroundDefault,E.wp.p(8),E.wp.borderRadius(8)],children:t})]})}var uM="@media (min-width: ".concat(uP.LO.tabletMax,"px)"),uJ=(0,i_.AH)([E.wp.colWithGap(16),(0,ta._)({},uM,{width:"calc(50%  - 8px)",flex:"0 0 auto",gap:"16px"})]);function uH(e){var n=e.children;return(0,p.Y)(x.S,{css:[(0,ta._)({},uM,[E.wp.rowWithGap(16)])],children:n})}function uB(e){var n=e.mainFile,t=e.examples,r=e.onSelect;return(0,p.FD)(x.S,{gap:24,children:[(0,p.Y)(tL.Y9,{level:1,variant:"headerDefault",children:"Code examples"}),(0,p.Y)(tL.EY,{children:"Get started with some program examples."}),(0,p.FD)(uH,{css:[E.wp.colWithGap(16)],children:[(0,p.Y)(x.S,{css:uJ,children:t.slice(0,(t.length+1)/2).map(function(e){return(0,p.Y)(uL,{name:e.name,onClick:function(){return r(e)},children:(0,p.Y)(uO.A,{code:e.code,filePath:n,fontSize:12,disableCursorStyling:!0})},e.name)})}),(0,p.Y)(x.S,{css:uJ,children:t.slice((t.length+1)/2).map(function(e){return(0,p.Y)(uL,{name:e.name,onClick:function(){return r(e)},children:(0,p.Y)(uO.A,{code:e.code,filePath:n,fontSize:12,disableCursorStyling:!0})},e.name)})})]})]})}function uV(e){var n=e.filePath,t=e.language,r=e.onSelect,a=uI({variables:{language:t}}),i=a.data,o=a.loading,s=a.error;if(o)return(0,p.Y)(x.S,{pt:32,pb:32,gap:0,justify:"center",align:"center",children:(0,p.Y)(t8.A,{})});if(s)return(0,p.Y)(x.S,{pt:32,pb:32,gap:0,justify:"center",align:"center",children:s.message});var l=(null==i?void 0:i.languageExamples.__typename)==="LanguageExamples"?i.languageExamples.examples:null;return(null==l?void 0:l.length)?(null==l?void 0:l.length)?(0,p.Y)(uB,{mainFile:n,examples:l,onSelect:r}):(0,p.Y)(x.S,{pt:32,pb:32,gap:0,justify:"center",align:"center",children:(0,p.FD)(tL.EY,{children:["Sorry, this language doesn’t have any examples. Want to add some? Contact us at ",(0,p.Y)("a",{href:"mailto:support@replit.com",children:"support@replit.com"}),"!"]})}):null}var u$=(0,Y.x)({root:[{marginTop:"10%",pointerEvents:"none","*":{pointerEvents:"all"}}],button:[E.wp.reset.button,E.wp.rowWithGap(6),E.wp.align.center,E.wp.color.foregroundDimmest,E.wp.cursor.pointer,{fontFamily:X.LU.fontFamilyDefault,"*":{borderColor:X.LU.foregroundDimmest,color:X.LU.foregroundDimmest},":hover *":{borderColor:X.LU.foregroundDefault,color:X.LU.foregroundDefault}}]}),uG={layer:"cm-empty-state-layer",dom:"cm-empty-state-dom"},uz=V.Lz.theme((f={},(0,ta._)(f,".".concat(uG.layer),{width:"100%",height:"100%",pointerEvents:"none",zIndex:"201 !important"}),(0,ta._)(f,".".concat(uG.dom),{position:"absolute",width:"100%",pointerEvents:"none",display:"flex",justifyContent:"center"}),f)),uW=function(){function e(n){(0,j._)(this,e),this.options=n}var n=e.prototype;return n.draw=function(){var e=this.options,n=e.ctas,t=e.view,r=e.width,a=(0,tF.J)((0,p.Y)(x.S,{css:u$.root,p:16,align:"center",gap:8,children:n.map(function(e){return(0,p.FD)(x.S,{css:u$.button,onClick:function(){return e.onClick(t)},children:[(0,p.FD)(x.S,{row:!0,gap:4,children:[e.icon,(0,p.Y)(tL.EY,{variant:"small",children:e.text})]}),e.shortcut?(0,p.Y)(rw._y,{keyCombo:e.shortcut,fontSize:12}):null]},e.text)})}));return a.className=uG.dom,a.style.width=r+"px",a.style.visibility=r>240?"visibile":"hidden",a.style.left="0px",a},n.eq=function(e){return te()(e.options,this.options)},e}(),uj=new G.k(function(e){var n=function(e){var n;return!(e.doc.length>0||e.field(tV.z))&&(null==(n=e.field(sN,!1))||!n.size)},t=K.sU.define({create:n,update:function(e,t){return n(t.state)}}),r=(0,V.qd)({above:!0,class:uG.layer,update:function(e){return(0,Q.$H)(e,t)},markers:function(n){if(!n.state.field(t,!1))return[];var r=n.dom.getBoundingClientRect();return[new uW({ctas:e,width:Math.round(n.contentDOM.getBoundingClientRect().right-r.left),view:n})]}});return[uz,t,r]}),uq=t(87384),uZ=t(6571);function uK(e){var n=e.cta,t=e.version;(0,nX.u4)(nX.AZ.EDITOR_EMPTY_STATE_CLICKED,{cta:n,version:t})}var uQ=K.Pe.define(),uX=K.sU.define({create:function(){return null},update:function(e,n){var t=e;return(0,iB.C)(n,uQ,function(e){t=e.value}),t}}),u0=s4.X.from(uX,function(e){if(!e)return null;var n=e.language,t=e.filePath;return{key:"examplesModal",node:function(e){var r=function(){e.dispatch({effects:uQ.of(null)})};return(0,p.Y)(sM.a,{maxWidth:872,isOpen:!0,onRequestClose:r,children:(0,p.Y)(u2,{onRequestClose:r,language:n,filePath:t})})}}}),u1=[uX,u0];function u2(e){var n=e.onRequestClose,t=e.language,r=e.filePath,a=(0,uN.Os)(uR.C.id,uR.j.Examples),i=(0,uN.Os)(uR.C.id,uR.j.Editor),o=(0,g._)((0,h.useState)(!1),2),s=o[0],l=o[1],u=(0,uq.A)(r),c=(0,h.useRef)(null==a?void 0:a.isActive),d=(0,h.useRef)();d.current=null==a?void 0:a.isActive;var f=(0,h.useRef)(null==a?void 0:a.goto);return(f.current=null==a?void 0:a.goto,(0,h.useEffect)(function(){return function(){var e;d.current&&(null==(e=f.current)||e.call(f,uR.j.Editor))}},[]),(0,h.useEffect)(function(){if((null==i?void 0:i.isActive)&&!c.current){if(!s)return void l(!0);i.goto(uR.j.Examples)}},[i,n,s]),(0,h.useEffect)(function(){if(null==a?void 0:a.isActive){c.current=!0;return}c.current&&n(null)},[n,null==a?void 0:a.isActive]),u)?(0,p.Y)("div",{ref:null==a?void 0:a.tourRef,children:(0,p.Y)(uV,{filePath:r,language:t,onSelect:function(e){u({code:e.code,insertAt:0}),n({exampleName:e.name})}})}):(0,p.Y)("div",{children:"Please make sure you have a file open"})}var u3=t(17739),u4=t(98444),u5=t(31804),u7=t(45440),u9=t(71132),u8=t(6506);function u6(e){var n=e.selection.main.head,t=e.doc.lineAt(n);return{offset:n,line:t.number,column:n-t.from+1}}var ce=new G.k(function(e){return V.Lz.focusChangeEffect.of(function(n,t){var r=n.facet(no.Md);return r&&e(r,t?{type:"focus",position:u6(n)}:{type:"blur"}),null})}),cn=new G.k(function(e){return V.Lz.updateListener.of(function(n){if(n.selectionSet){var t=n.state.facet(no.Md);t&&e(t,{type:"update",hasFocus:n.view.hasFocus,position:u6(n.state)})}})}),ct=t(88233),cr=t(49313),ca=t(73712),ci=new G.k(function(){return(0,V.BE)()}),co=function(e){var n=(0,lV.A)(function(n){return(0,H._)(function(){var t;return(0,B.YH)(this,function(r){switch(r.label){case 0:return[4,n.status()];case 1:if((t=r.sent()).error)return[2,{error:t.error,isUnmerged:null}];if(t.changes.find(function(n){return n.path===e&&(n.type.index===lB.PX.UNMERGED||n.type.worktree===lB.PX.UNMERGED)}))return[2,{error:null,isUnmerged:!0}];return[2,{error:null,isUnmerged:!1}]}})})()},[e]);return n||{error:null,isUnmerged:null}};function cs(e){var n,t,r,a,i,o,s,l,u,c,d,f,m,y,_,S,A,Y,E,x,I,R,N,O,P,F,U,L,M,J,G,q,Z,ee,en,et,er,ea,ei,eo,es,ec,ep,eh,eb,eC,eY,eI,eR,eN,eO,eP,eF,eU,eL,eM,eJ,eH,eB,eV,e$,eG,ez,eW,ej,eq,eZ,eK,eQ,e0,e1,e2,e3,e4,e5,e7,e9,e8,e6,ne,nn,nt,nr,na,ni,ns,nl,nu,nc,nf,np,nm,nv,ng,nb,ny,nw,nS,nA,nk,nY,nD,nI,nR,nN,nO=e.filePath,nP=e.isHidden,nF=e.isReadOnly,nU=e.isReadOnlyWhileAgentWorking,nM=e.deeplink,nG=e.onDeeplinkUpdated,nW=e.performPaneOperation,n7=(0,eS.A)(),n9=n7.fs,n8=n7.presence,n6=(0,em.g)("formatOnSave","rulers","minimapDisplay","showLeadingWhitespace","showEnclosedWhitespace","showTrailingWhitespace","showSelectedWhitespace").preferences,te=(0,iw.A)(),tn=te.ref,tt=te.view,tr=(0,h.useCallback)(function(e){return nW({operation:"open",pane:e,secondary:!0})},[nW]);(0,C.Hn)(tt);var ta=(0,k.eG)(),ti=oZ.use(!!(null==ta?void 0:ta.match(/Chrome/i))&&!!(null==ta?void 0:ta.match(/Android/i))),to=(0,h.useContext)(cr.IC),ts=(0,oK.gR)(),tl=(t=(n={path:nO,isHidden:nP}).path,r=n.isHidden,a=(0,u8.EZ)(),i=ce.use(a),o=cn.use(a),(0,h.useEffect)(function(){a(t,{type:r?"hidden":"unhidden"})},[r,a,t]),(0,h.useEffect)(function(){return function(){a(t,{type:"unmount"})}},[a,t]),(0,h.useMemo)(function(){return[i,o]},[i,o])),tu=(u=(s={view:tt,presence:n8,fs:n9,filePath:nO,performPaneOperation:nW}).view,c=s.presence,d=s.fs,f=s.filePath,m=s.performPaneOperation,y=si.use(f,d,c),_=oG.use(c),A=(S={filePath:f,fs:d,performPaneOperation:m}).filePath,Y=S.fs,E=S.performPaneOperation,x=(0,oQ.A)().trackTimeToLoadFileEnd,I=(0,oK.iO)(),R=(0,oK.jk)(),N=(0,oK.Qq)(),O=(0,oW.A)().showWarning,P=(0,h.useMemo)(function(){return{trackTimeToLoadFileEnd:x,throwBsod:I,setBsodFilePathVersion:R,deleteBsodFilePathVersion:N,showWarning:O,performPaneOperation:E}},[N,R,I,x,O,E]),F=o7.use(A,Y,P),U=null==(l=(0,so.Vn)(u,oo.u))||l,L=(0,h.useMemo)(function(){return[F,y,_]},[F,y,_]),(0,h.useMemo)(function(){return{isLoading:U,extensions:L}},[U,L])),tc=tu.isLoading,td=tu.extensions,tf=function(){var e=(0,nJ.A)(),n=(0,h.useContext)(lP.H);if(!n)throw Error("Expected codemirror state to be in codemirror state context");return lJ.use(e,n)}(),tp=(J=(M={filePath:nO,isLoading:tc}).filePath,G=M.isLoading,q=(0,eS.A)().fs,Z=(0,ey.A)(J),ee=(0,em.g)("acceptSuggestionOnCommitCharacter","codeIntelligence","codeActionsOnSave","semanticTokens").preferences,en=(0,nq._P)({controlName:"flag-lsp-semantic-tokens",logFlagToAnalytics:!1}),et=G||!ee.codeIntelligence||!Z.find(function(e){return e.isSupportedFile(J)}),er=(0,h.useMemo)(function(){return new Q.L(et?[]:function(e,n,t){if(!n.length)return[];var r,a,i,o,s,l,u=[(a=(r={lspClients:n,path:t}).lspClients,i=r.path,V.Z9.define(function(e){var n,t,r,o,s,l;return t=(n={lspClients:a,path:i,view:e}).lspClients,r=n.path,o=n.view,s=(0,ij.A)(),l=function(e){var n,t=iZ.get(e.clientId);return(null!=(n=null==t?void 0:t.get(r))?n:[])[0]===s},!function(){var e=!0,n=!1,a=void 0;try{for(var i,l=t[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){var u,c=i.value,d=iZ.get(c.clientId),f=null!=(u=null==d?void 0:d.get(r))?u:[];d?d.set(r,(0,b._)(f).concat([s])):iZ.set(c.clientId,new Map([[r,[s]]])),c.notify.didOpen(r,o.state.doc.toString())}}catch(e){n=!0,a=e}finally{try{e||null==l.return||l.return()}finally{if(n)throw a}}}(),{id:s,destroy:function(){var e=!0,n=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var l,u=i.value,c=iZ.get(u.clientId),d=(null!=(l=null==c?void 0:c.get(r))?l:[]).filter(function(e){return e!==s});u.getServerState()===iq.b.INITIALIZED&&u.isOpen(r)&&u.notify.didClose(r),0===d.length?null==c||c.delete(r):null==c||c.set(r,d)}}catch(e){n=!0,a=e}finally{try{e||null==o.return||o.return()}finally{if(n)throw a}}},update:function(e){if(e.docChanged){var n=!0,a=!1,i=void 0;try{for(var o,s,u=t[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c,d=s.value;if(l(d)){var f=null==(c=d.getServerCapabilities())?void 0:c.textDocumentSync;if(f!==aS.TextDocumentSyncKind.None&&d.isOpen(r)){if(f===aS.TextDocumentSyncKind.Full){d.notify.didChange(r,[{text:e.view.state.doc.toString()}]);continue}o||(o=function(e,n){var t=[],r=n;return e.iterChanges(function(e,n,a,i,o){var s=o.sliceString(0),l=n-e,u=l+a;t.push({range:{start:(0,ed.Z3)(r,a),end:(0,ed.Z3)(r,u)},rangeLength:l,text:s}),r=r.replace(a,u,o)}),t}(e.changes,e.startState.doc)),d.notify.didChange(r,o)}}}}catch(e){a=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}}}}})),(0,ic.E9)({lspClients:n,path:t}),function(e,n){function t(e){return(0,eg.A)(e).isTextDocumentSyncSupported}return V.Z9.fromClass(function(){function r(e){(0,j._)(this,r),this.dispose=this.listen(e.state.facet(no.Md))}var a=r.prototype;return a.update=function(e){(0,Q.$H)(e,no.Md)&&(this.dispose=this.listen(e.state.facet(no.Md)))},a.destroy=function(){this.dispose&&this.dispose()},a.listen=function(r){if((this.dispose&&this.dispose(),r)&&n.find(function(e){return t(e)}))return e.watchTextFile(r,{onFlush:function(){var e=!0,a=!1,i=void 0;try{for(var o,s=n[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var l=o.value;if(t(l))(0,eg.A)(l).isTextDocumentSyncSaveSupported&&l.isOpen(r)&&l.notify.didSave(r)}}catch(e){a=!0,i=e}finally{try{e||null==s.return||s.return()}finally{if(a)throw i}}}})},r}())}(e,n),(0,a_.yf)(n)];return(0,aw.isMobile)()?u:(u.push([il,it,ii,(0,eD.yU)({defaultKeymap:!1,closeOnBlur:!1,tooltipClass:function(e){return(0,rm.R)(e)?ie:""},addToOptions:[{render:function(e,n){if(!(0,rm.R)(n))return null;var t=(0,tF.J)((0,p.Y)("div",{className:is,children:(0,p.Y)(a8.A,{size:"inherit",shortcut:{key:"⏎"}})}));return t.style.display="inline-flex",t},position:200}],override:n.map(function(e){var n,t,r;return(0,eD.Ar)(["LineComment","BlockComment"],(n=.01>Math.random(),t=0,r=function(t,r,a){if(n&&r){var i=e.getLanguageId(r);return nV.vF.info("lsp:autocomplete:".concat(t),(0,T._)({languageId:i},a)),(0,nX.u4)(nX.AZ.LSP_COMPLETION_USED,(0,T._)({type:t,sampleRate:.01},a))}},function(n){return(0,H._)(function(){var a,i,o,s,l,u,c,d,f,h;return(0,B.YH)(this,function(m){switch(m.label){case 0:if(!(i=e.getServerCapabilities())||!(null==i?void 0:i.completionProvider)||!(o=function(e,n){var t=e.state,r=e.pos;if(e.explicit)return{triggerKind:aS.CompletionTriggerKind.Invoked};var a=t.doc.lineAt(r),i=a.text[r-a.from-1],o=a.text.substring(0,r-a.from);return(null==n?void 0:n.includes(i))?{triggerKind:aS.CompletionTriggerKind.TriggerCharacter,triggerCharacter:i}:o.match(/\w$/)?{triggerKind:aS.CompletionTriggerKind.Invoked}:null}(n,(null==i||null==(a=i.completionProvider)?void 0:a.triggerCharacters)||[])))return[2,null];if(t&&e.notify.cancelRequest(t),!(s=n.state.facet(no.Md)))throw Error("path not found");return t=e.generateId(),l=n.state.doc,[4,e.request.completion(s,(0,ed.Z3)(l,n.pos),o,{id:t})];case 1:if("error"in(u=m.sent())||(c=u.result,n.aborted||!c))return[2,null];return d=Array.isArray(c)?c:c.items,h=Array.isArray(c)?{}:null!=(f=c.itemDefaults)?f:{},[2,function(e){for(var n,t=e.context,r=e.items,a=e.itemDefaults,i=e.client,o=e.trackCompletion,s=e.startingDoc,l=null,u=function(){return l},c=(x=r.filter(function(e){return!!e.label}),I=["label","kind"],R=new Set,x.filter(function(e){var n=I.map(function(n){return e[n]}).join("␞");return!R.has(n)&&(R.add(n),!0)})).map(function(e){return{item:e,label:e.label,filterText:(e.filterText||e.label).toLowerCase(),sortText:(e.sortText||e.label).toLowerCase()}}),d=((c=c.sort(function(e,n){return e.sortText<n.sortText?-1:+(e.sortText>n.sortText)})).length%2?c.length-1:c.length)/2,f=0;f<=d;f++){if(0===f&&c[d]){c[d].boost=0;continue}var h=c[d-f];if(h){var m=c[d-f+1],v=m.sortText,y=m.boost,w=void 0===y?0:y;h.boost=h.sortText===v?w:w+1}var _=c[d+f];if(_){var S=c[d+f-1],A=S.sortText,k=S.boost,C=void 0===k?0:k;_.boost=_.sortText===A?C:C-1}}var Y=null!=(P=null==(N=c[0])?void 0:N.boost)?P:0,E=null!=(F=null==(O=c[c.length-1])?void 0:O.boost)?F:0;if(Y>99||E<-99)for(var x,I,R,N,O,P,F,U,L=99/Math.max(Math.abs(Y),Math.abs(E)),M=0;M<c.length;M++)c[M].boost=(null!=(U=c[M].boost)?U:0)*L;var J=(0,g._)(function(e){var n=Object.create(null),t=Object.create(null),r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value.filterText;n[l[0]]=!0;for(var u=1;u<l.length;u++)t[l[u]]=!0}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}var c=io(n)+io(t)+"*$";return[RegExp("^"+c),new RegExp(c)]}(c),2),V=J[0],$=J[1],G=t.matchBefore($),z=t.pos;function W(e,n){var t,r,l,c,d,f,h,m,v,y,w,_,S,A;return v=n.state.facet(no.Md),y=null!=(d=(0,aA.A)(n.state))?d:"unknown",w=(0,eg.A)(i),_=e.item,S=e.boost,A={label:_.label,detail:w.isCompletionLabelDetailsSupported?null==(t=_.labelDetails)?void 0:t.description:_.detail,type:null==(r=Object.entries(ak.CompletionItemKind).find(function(e){var n=(0,g._)(e,2),t=(n[0],n[1]);return _.kind===t}))?void 0:r[0].toLowerCase(),commitCharacters:n.state.facet(aC)?null!=(m=null!=(h=null!=(f=_.commitCharacters)?f:a.commitCharacters)?h:null==(c=i.getServerCapabilities())||null==(l=c.completionProvider)?void 0:l.allCommitCharacters)?m:[]:void 0,boost:S},a7.set(A,e),A.apply=function(n,t,r,a){var l=function(e){var t=c?s:n.state.doc,r={from:(0,ed.TU)(t,e.start),to:(0,ed.TU)(t,e.end)};return c&&(r.from=c.mapPos(r.from),r.to=c.mapPos(r.to)),r};if(v){var c=u(),d=null!=(p=null==(f=e.resolved)?void 0:f.additionalTextEdits)?p:_.additionalTextEdits;if(_.insertTextFormat===ak.InsertTextFormat.Snippet){var f,p,h,m,w,S=null;d&&(S={changes:d.map(function(e){return(0,D._)((0,T._)({},l(e.range)),{insert:e.newText})})});var A=new aV(null!=(w=null!=(m=null==(h=_.textEdit)?void 0:h.newText)?m:_.insertText)?w:_.label);if(_.textEdit&&"range"in _.textEdit){var k=a,C=l(_.textEdit.range);r=C.from,a=Math.max(a=C.to,k)}var Y=S?[S,A.apply({view:n,from:r,to:a,path:v,completion:t})]:[A.apply({view:n,from:r,to:a,path:v,completion:t})];n.dispatch.apply(n,(0,b._)(Y)),o("completion-accepted",v,{language:y,completionKind:_.kind,insertTextFormat:_.insertTextFormat});return}var E=[];if(_.textEdit){if(!("range"in _.textEdit))return;var x=l(_.textEdit.range);E.push((0,D._)((0,T._)({},x),{to:Math.max(x.to,n.state.selection.main.to),insert:_.textEdit.newText}))}else{var I=_.insertText||_.label,R=n.state.wordAt(a);R&&R.to>a&&I.includes(n.state.doc.sliceString(a,R.to))&&(a=R.to),E.push({from:r,to:a,insert:I})}var N=(0,g._)(E,1)[0],O="";null==d||d.forEach(function(e){var n=l(e.range);"from"in N&&n.from===N.from&&(O=e.newText),E.push((0,D._)((0,T._)({},n),{insert:e.newText}))});var P=a-r;n.state.selection.ranges.forEach(function(e){if(e!==n.state.selection.main){if(!("insert"in N)||!N.insert)throw Error("Expected insert in mainChange");var t=e.from-P,r=O+N.insert;E.push({from:t,to:e.to,insert:r})}});var F=K.VR.of(E.map(function(e){return"from"in e&&void 0!==e.to?(0,D._)((0,T._)({},e),{from:Math.min(e.from,e.to),to:Math.max(e.from,e.to)}):e}),n.state.doc.length);o("completion-accepted",v,{language:y,completionKind:_.kind,insertTextFormat:_.insertTextFormat}),n.dispatch({annotations:eD.rK.of(t),changes:F,selection:K.OF.create(n.state.selection.ranges.map(function(e){return e.map(F,0)}),n.state.selection.mainIndex)}),_.command&&i.request.executeCommand(_.command.command,_.command.arguments)}},w.isCompletionItemResolveSupported&&(A.info=function(){return(0,H._)(function(){var n,t,r,a,s,l,u;return(0,B.YH)(this,function(c){switch(c.label){case 0:if(t=null!=(n=e.resolved)?n:null)return[3,2];return[4,i.request.resolveCompletionItem(_)];case 1:if(t="result"in(r=c.sent())?r.result:null,r.cancelled||null===t)return[2,null];e.resolved=t,c.label=2;case 2:if(a=Math.floor(0x7fffffff*Math.random()),s=[],v&&t.detail&&t.detail!==_.detail&&t.detail!==_.label&&(u=["```"+((l=v.lastIndexOf("."))>=0?v.slice(l+1):"md"),t.detail,"```"].join("\n"),s.push((0,p.Y)(a5,{className:t.documentation?"lsp-completion-detail":void 0,content:{value:u,kind:"markdown"}},"".concat(a,"-detail")))),t.documentation&&s.push((0,p.Y)(a5,{content:t.documentation},"".concat(a,"-documentation"))),0===s.length)return[2,null];return o("resolution-presented",v,{language:y,resolutionSource:"request",completionKind:_.kind}),[2,{dom:(0,tF.J)((0,p.Y)("div",{children:s}))}]}})})()}),A}return G&&(z=G.from),c.length&&o("completion-options-presented",t.state.facet(no.Md),{language:null!=(n=(0,aA.A)(t.state))?n:"unknown"}),{from:z,options:c.map(function(e){return W(e,t)}),validFor:V,update:function(e,n,t,r){return(0,D._)((0,T._)({},e),{options:e.options.map(function(e){var n,t=null!=(n=a7.get(e))?n:null;return t?W(t,r):e})})},map:function(e,n){return l=l?l.composeDesc(n):n,e}}}({context:n,startingDoc:l,items:d,itemDefaults:h,client:e,trackCompletion:r})]}})})()}))})})],function(e){var n={current:new Map},t=K.sU.define({create:function(){return null},update:function(e,n){return n.isUserEvent("select.pointer")?null:(e&&n.newSelection.main.from!==e.pos&&(e=(0,D._)((0,T._)({},e),{pos:n.newSelection.main.from})),(0,iB.C)(n,iV.effect,function(t){var r=t.value;e=r?{pos:n.newSelection.main.from,help:r,index:0}:null}),(0,iB.C)(n,i$,function(n){var t=n.value;if(e){var r=e.help.signatures.length,a=(r+e.index+t)%r;e=a>=e.help.signatures.length||a<0?null:(0,D._)((0,T._)({},e),{index:a})}}),e)},provide:function(e){var n=function(n){var t=n.state.field(e);if(!t)throw Error("expected nonnull field");var r=iz.create({help:t.help,index:t.index});return{dom:r,update:function(n){iz.update(r,function(r){var a=n.state.field(e);return a&&a!==t?{help:a.help,index:a.index}:r})}}};return V.DK.compute([e],function(t){var r=t.field(e);return r?{pos:r.pos,create:n,above:!0}:null})}}),r=V.Z9.define(function(){var r=w()(function(r){return(0,H._)(function(){var a,i,o;return(0,B.YH)(this,function(s){switch(s.label){case 0:var l,u;if(!(a=r.state.selection.main).empty)return[3,2];return i=r.state.field(iV.state,!1),[4,(l=r.state,u=a.from,(0,H._)(function(){var r,a,i,o,s,c;return(0,B.YH)(this,function(d){switch(d.label){case 0:var f,p,h,m,v;if(!(a=l.facet(no.Md))||(i=l.field(t,!1),o=l.field(iG,!1),!(s=e.filter(function(e){var n,t,r,a=null!=(r=null==(t=e.getServerCapabilities())||null==(n=t.signatureHelpProvider)?void 0:n.triggerCharacters)?r:[];return!!a.length&&(!!i||!!o&&!!a.includes(o))&&!0})).length))return[2,null];return[4,(f=l,p=u,h=s,m=a,v=n,(0,H._)(function(){return(0,B.YH)(this,function(e){switch(e.label){case 0:return[4,Promise.all(h.map(function(e){return(0,H._)(function(){var n,t;return(0,B.YH)(this,function(r){return(n=v.current.get(e.clientId))&&e.notify.cancelRequest(n),t=e.generateId(),v.current.set(e.clientId,t),[2,e.request.signatureHelp(m,(0,ed.Z3)(f.doc,p),{id:t}).then(function(n){return(v.current.get(e.clientId)===t&&v.current.set(e.clientId,null),"error"in n)?null:n.result})]})})()}))];case 1:return[2,e.sent().find(function(e){return null!==e&&e.signatures.length})]}})})())];case 1:if(!(null==(c=d.sent())||null==(r=c.signatures)?void 0:r.length))return[2,null];return[2,c]}})})())];case 1:(o=s.sent())&&!i&&(0,eD.N)(r),r.dispatch({effects:iV.effect.of(o)}),s.label=2;case 2:return[2]}})})()},0);return{update:function(n){e.some(function(e){return(0,eg.A)(e).isSignatureHelpSupported})&&n.selectionSet&&n.state.selection.main.empty&&r(n.view)}}});function a(e,n){var t=e.state.field(iV.state,!1);return"active"!==(0,eD.DH)(e.state)&&null!=t&&("navigate"!==n||t.signatures.length>1)}var i=function(e){return function(n){return!!a(n,"navigate")&&(n.dispatch({effects:i$.of(e)}),!0)}},o=[{key:"ArrowDown",run:i(1)},{key:"ArrowUp",run:i(-1)},{key:"Escape",run:function(e){return!!a(e,"dismiss")&&(e.dispatch({effects:iV.effect.of(null)}),!0)}}];return[t,iV.state,iG,r,K.Nb.high(V.w4.of(o))]}(n),(o=function(e){var n=null;return(0,V.Ux)(function(t,r){return(0,H._)(function(){var a,i,o,s,l,u;return(0,B.YH)(this,function(c){switch(c.label){case 0:if(t.state.facet(iM.f)||!(0,eg.A)(e).isHoverSupported||!(a=t.state.facet(no.Md)))return[2,null];i=(0,ed.Z3)(t.state.doc,r);try{o=t.state.wordAt(r)}catch(e){return[2,null]}if(n){if(n.from===(null==o?void 0:o.from)&&n.to===(null==o?void 0:o.to))return[2,null];e.notify.cancelRequest(n.id)}return n={id:s=e.generateId(),from:null==o?void 0:o.from,to:null==o?void 0:o.to},[4,e.request.hover(a,i,{id:s})];case 1:if(l=c.sent(),n=null,"error"in l||null===(u=l.result))return[2,null];return[2,function(e){var n,t,r=e.hover,a=e.state,i=e.offset;if((Array.isArray(r.contents)||"string"==typeof r.contents)&&0===r.contents.length)return null;var o="",s=a.doc;if(r.range)n=(0,ed.TU)(s,r.range.start),t=(0,ed.TU)(s,r.range.end),o=s.sliceString(n,t);else if(t=void 0,(n=i)<=a.doc.length){var l=a.wordAt(n);l?(o=s.sliceString(l.from,l.to),n=Math.min(n,l.from),t=l.to):o=s.sliceString(n,n+1)}return{pos:n,end:t,create:function(e){var n=(0,tF.J)((0,p.Y)(iL,{content:r.contents,textHovered:o}));return n.classList.add("hover-tooltip"),n.style.padding="0",{dom:n,mount:function(){var n;n=function(){(0,V.Pq)(e)},[0,50,200,1e3].forEach(function(e){return setTimeout(n,e)})}}},above:!0}}({hover:u,offset:r,state:t.state})]}})})()},{hideOn:function(e){return!e.annotation(K.ZX.remote)&&!!(e.isUserEvent("input")||e.isUserEvent("delete")||e.isUserEvent("select")||e.state.facet(iM.f))},hoverTime:0})},[K.Nb.highest(n.map(function(e){return o(e)})),V.Lz.domEventObservers({mousedown:function(e,n){!((0,eT._)(e.target,HTMLElement)&&e.target.matches(".cm-tooltip *"))&&(0,V.n6)(n.state)&&n.dispatch({effects:V.vo})},keydown:function(e,n){"Escape"===e.key&&(0,V.n6)(n.state)&&n.dispatch({effects:V.vo})},scroll:function(e,n){(0,V.n6)(n.state)&&n.dispatch({effects:V.vo})}})]),(0,iu.Qb)(n,e),(0,iJ.Of)({lspClients:n}),(s=K.Pe.define(),l=K.Pe.define(),[V.Lz.updateListener.of(function(e){return(0,H._)(function(){var t,r,a,i,o,u,c,d,f,p,h,m,v,g,y,w,_,S,A,k,C,Y,E,x,I,R,N,O,P,F,U,L,M;return(0,B.YH)(this,function(J){switch(J.label){case 0:if(!n.some(function(e){var n=(0,eg.A)(e);return n.isFindReferencesSupported||n.isFindDefinitionSupported}))return[2];t=null,r=!0,a=!1,i=void 0;try{for(o=e.transactions[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){c=u.value,d=!0,f=!1,p=void 0;try{for(h=c.effects[Symbol.iterator]();!(d=(m=h.next()).done);d=!0)(v=m.value).is(ip.x)&&(t=v.value)}catch(e){f=!0,p=e}finally{try{d||null==h.return||h.return()}finally{if(f)throw p}}}}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}if(!t||!(g=e.view.state.facet(no.Md)))return[2];y=e.state.doc,w=(0,ed.Z3)(y,t),_=[],S=!0,A=!1,k=void 0;try{for(C=function(){var e=E.value,n=(0,eg.A)(e);n.isFindDefinitionSupported&&_.push(e.request.findDefinitions(g,w).then(function(n){return{client:e,response:n,type:"definition"}})),n.isFindReferencesSupported&&_.push(e.request.findReferences(g,w,{includeDeclaration:!1}).then(function(n){return{client:e,response:n,type:"references"}}))},Y=n[Symbol.iterator]();!(S=(E=Y.next()).done);S=!0)C()}catch(e){A=!0,k=e}finally{try{S||null==Y.return||Y.return()}finally{if(A)throw k}}return x=Promise.all(_),(0,id.o8)(e.view,x),[4,x];case 1:I=J.sent(),R=[],N=[],O=!0,P=!1,F=void 0;try{for(U=function(){var e=M.value,n=e.client,t=e.response,r=e.type;if("error"in t)throw Error("Something went wrong fetching references: ".concat(t.error.message));var a=(0,iF.U)(t.result);if(!a)return"continue";"definition"===r&&R.push.apply(R,(0,b._)(a.map(function(e){return(0,D._)((0,T._)({},e),{path:n.documentUriToPath(e.uri)})}))),"references"===r&&N.push.apply(N,(0,b._)(a.map(function(e){return(0,D._)((0,T._)({},e),{path:n.documentUriToPath(e.uri)})})))},L=I[Symbol.iterator]();!(O=(M=L.next()).done);O=!0)U()}catch(e){P=!0,F=e}finally{try{O||null==L.return||L.return()}finally{if(P)throw F}}if(!R.length&&!N.length)return(0,$.A)(e.view,{message:"No references found",offset:t}),e.view.dispatch({effects:l.of(null)}),[2];return e.view.dispatch({effects:s.of({references:N,definitions:R})}),[2]}})})()}),K.sU.define({create:function(){return null},update:function(e,n){var t=e,r=!0,a=!1,i=void 0;try{for(var o,u=n.effects[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;c.is(s)&&(t=c.value),c.is(l)&&(t=null)}}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return t},provide:function(e){return[V.w4.of([{key:"Escape",run:function(n){return!!n.state.field(e)&&(n.dispatch({effects:l.of(null)}),!0)}}]),V.DK.compute([e],function(n){var t=n.field(e),r=n.facet(no.Md);if(!t)return null;var a=n.selection.asSingle().main;return{pos:a.from,end:a.to,create:function(e){var n=(0,tF.J)((0,p.Y)("div",{children:(0,p.Y)(iN,(0,D._)((0,T._)({},t),{onClose:function(){e.dispatch({effects:l.of(null)})},jumpToPosition:function(n){if(n.path!==r)return void(0,t3.Tq)(e.state,{path:n,secondary:!1});var t=n.line,a=n.col;(0,ab.$)({view:e,line:t,col:a}),e.focus()}}))}));return n.classList.add("replit-tooltip"),n.style.padding="0",n.style.overflow="scroll",{dom:n}}}})]}})]),(0,iH.q)(e,n)),u)}(q,Z,J))},[Z,J,q,et]),ea=(0,h.useMemo)(function(){return new Q.L(function(){return iK.X.of(Z.map(function(e){return(0,eg.A)(e)}))})},[Z]),(0,h.useEffect)(function(){return!Z.length||et?er.set(null):(0,ew.xW)(Z.map(function(e){return e.onServerCapabilitiesChange(function(){ea.set(iK.X.of(Z.map(function(e){return(0,eg.A)(e)})))})}))},[ea,Z,er,et]),[ea.extension,er.extension,i6.use(ee.acceptSuggestionOnCommitCharacter),oe.use(ee.codeActionsOnSave),on.use(ee.codeIntelligence),i8.use(ee.semanticTokens&&en?Z:null)]);(0,ab.A)({filePath:nO,view:tt,isLoading:tc,deeplink:nM,onDeeplinkUpdated:nG});var th=(eo=(ei={view:tt,filePath:nO}).view,es=ei.filePath,ec=(0,eS.A)().fs,(0,g._)((0,u3.H)({accept:[u5.N.Code,u4.FILE],drop:function(e,n){if(eo){var t=n.getClientOffset(),r=t?eo.posAtCoords(t):null;if(null!==r){var a=function(e){eo.focus(),eo.dispatch({changes:{from:r,insert:e},selection:{anchor:r,head:r+e.length}})};if(e.type===u5.N.Code)a(e.code);else{var i=!0,o=!1,s=void 0;try{for(var l,u=e.files[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;es&&(0,n_.e$)(es)&&sp(c,ec,es).then(a)}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}}}}}}),2)[1]),tm=(ep=(0,eS.A)().fs,eh=(0,nJ.A)(),eb=(0,em.g)("codeSuggestion").preferences,eC=nB(),eY=eb.codeSuggestion&&eC!==nH.None,(0,h.useEffect)(function(){n$.gv.toggle(eY)},[eY]),eI=(0,n2.Jn)(n0.Pi.acceptPrimaryCompletion.id),eR=(0,n2.Jn)(n0.Pi.cancelCompletion.id),eN=(0,n1.A)(function(){return new eE},[nO,eh]),eP=(eO={replId:eh,provider:(0,n1.A)(function(){return function(e,n){return(0,H._)(function(){var t,r,a,i,o,s,l,u,c;return(0,B.YH)(this,function(d){switch(d.label){case 0:return t=(0,v.lJ)()?nT.production:nT.staging,[4,(0,v.j2)(e.replId,"completions-1")];case 1:return r=d.sent(),a={model:"codestral-2501",context:e.header?e.header+e.prefix:e.prefix,suffix:e.suffix,max_tokens:e.maxTokens,stop_words:e.stop},[4,fetch("".concat(t,"/completions"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},signal:n,body:JSON.stringify(a)})];case 2:if(o=(i=d.sent()).body,200===(s=i.status))return[3,4];return l=Error.bind,c=(u="Error (".concat(s,") response from /ai/complete: ")).concat,[4,i.text()];case 3:throw new(l.apply(Error,[void 0,c.apply(u,[d.sent()])]));case 4:if(!o)throw Error("No body in response");return[2,function(){var e;return e=o,(0,nx._)(function(){var n,t,r,a,i,o,s,l,u,c,d,f,p,h;return(0,B.YH)(this,function(m){switch(m.label){case 0:n=new TextDecoder("utf-8"),t="",r=!1,a=!1,m.label=1;case 1:m.trys.push([1,11,12,17]),o=(0,eX._)((0,nx._)(function(){var n,t,r,a;return(0,B.YH)(this,function(i){switch(i.label){case 0:n=e.getReader(),i.label=1;case 1:return[4,(0,nE._)(n.read())];case 2:if(r=(t=i.sent()).done,a=t.value,r)return[3,4];return[4,a];case 3:return i.sent(),[3,1];case 4:return n.releaseLock(),[2]}})})()),m.label=2;case 2:return[4,(0,nE._)(o.next())];case 3:if(!(r=!(s=m.sent()).done))return[3,10];l=s.value,u=n.decode(l,{stream:!0}),t+=u,c=void 0,m.label=4;case 4:if(-1===(c=t.indexOf("\n\n")))return[3,9];if(!t.startsWith("data: ")||!("text"in(d=JSON.parse(t.slice(6,c)))))return[3,8];f=d.text.split("\n"),p=0,m.label=5;case 5:if(!(p<f.length))return[3,8];return[4,JSON.stringify({text:f[p]+"\n"})+"\n"];case 6:m.sent(),m.label=7;case 7:return p++,[3,5];case 8:return t=t.substring(c+1),[3,4];case 9:return r=!1,[3,2];case 10:return[3,17];case 11:return h=m.sent(),a=!0,i=h,[3,17];case 12:if(m.trys.push([12,,15,16]),!(r&&null!=o.return))return[3,14];return[4,(0,nE._)(o.return())];case 13:m.sent(),m.label=14;case 14:return[3,16];case 15:if(a)throw i;return[7];case 16:return[7];case 17:return[2]}})})()}]}})})()}},[]),cache:eN,hooks:nz}).replId,eF=eO.provider,eU=eO.cache,eL=eO.hooks,eM=(0,h.useCallback)(function(e){return(0,nx._)(function(){var n,t,r,a,i,o,s,l,u,c,d,f,p,h,m,v,g,b,y,w,_,S,A,k;return(0,B.YH)(this,function(C){switch(C.label){case 0:if(n=e.prefix,t=e.suffix,r=e.header,a=e.language,i=e.maxTokens,o=e.signal,!n)return[2];if(s={prefix:n,suffix:t,header:r,maxTokens:i,replId:eP,stop:["\n\n","```"]},"markdown"===a&&(s.maxTokens=75,s.stop=[]),l=null==eL?void 0:eL.beforeCompletion(s),null===(c=eU.retrieve(n,i)))return[3,1];return u=function(){return(0,nx._)(function(){return(0,B.YH)(this,function(e){switch(e.label){case 0:return[4,c];case 1:return e.sent(),[2]}})})()},[3,4];case 1:return C.trys.push([1,3,,4]),[4,(0,nE._)(eF(s,o))];case 2:return u=C.sent(),[3,4];case 3:if((null==(d=C.sent())?void 0:d.name)==="AbortError")return[2];return null==eL||eL.erroredCompletion((0,eT._)(d,Error)?d:Error("Unknown error"),l),[2];case 4:f="",p="",h=!0,m=!1,o.addEventListener("abort",function(){l&&(null==eL||eL.afterCompletion("aborted",s,{},l)),m=!0}),v=!1,g=!1,C.label=5;case 5:C.trys.push([5,13,14,19]),y=(0,eX._)(u()),C.label=6;case 6:return[4,(0,nE._)(y.next())];case 7:if(!(v=!(w=C.sent()).done))return[3,12];_=w.value,p+=_,S=void 0,C.label=8;case 8:if(-1===(S=p.indexOf("\n")))return[3,11];if(A=JSON.parse(p.substring(0,S)).text,p=p.substring(S+1),f+=A,m)return[3,10];return[4,A];case 9:C.sent(),C.label=10;case 10:return!m&&h&&l&&(null==eL||eL.afterCompletion("success",s,{fromCache:!!c,partialSuggestion:A},l)),h=!1,[3,8];case 11:return v=!1,[3,6];case 12:return[3,19];case 13:return k=C.sent(),g=!0,b=k,[3,19];case 14:if(C.trys.push([14,,17,18]),!(v&&null!=y.return))return[3,16];return[4,(0,nE._)(y.return())];case 15:C.sent(),C.label=16;case 16:return[3,18];case 17:if(g)throw b;return[7];case 18:return[7];case 19:if(null===c&&f.trim().length&&eU.add(n,f,i),!(!m&&p))return[3,21];return[4,p];case 20:C.sent(),C.label=21;case 21:return l&&(null==eL||eL.afterCompletion("finished",s,{completeSuggestion:f,fromCache:!!c},l)),[2]}})})()},[eP,eU,eL,eF]),eH=(eJ=(0,g._)((0,nj.fp)(nQ),2))[0],eB=eJ[1],eV=(0,nq._P)({controlName:"flag-killswitch-pichu",logFlagToAnalytics:!1}),(0,h.useEffect)(function(){if(eV&&eH.tooltipOpen){var e=setTimeout(function(){return eB(function(e){return(0,D._)((0,T._)({},e),{tooltipOpen:!1})})},2500);return function(){return clearTimeout(e)}}},[eV,eH.tooltipOpen,eB]),e$=(0,h.useMemo)(function(){return eV?{recordAccept:function(){eB(function(e){return(0,D._)((0,T._)({},e),{consecutiveRejections:0})})},recordReject:function(){eB(function(e){var n=e.consecutiveRejections+1;if(n>=5){var t=nZ.A.get(nK,"number");if(!t||Date.now()-t>=432e6)return nZ.A.set(nK,Date.now()),(0,D._)((0,T._)({},e),{consecutiveRejections:n,tooltipOpen:!0})}return(0,D._)((0,T._)({},e),{consecutiveRejections:n})})}}:null},[eV,eB]),eG=(0,h.useCallback)(function(e){return(0,H._)(function(){var n;return(0,B.YH)(this,function(t){switch(t.label){case 0:return[4,ep.readFile(e)];case 1:if(null!==(n=t.sent()).error)return[2,null];return[2,n.content.toString()]}})})()},[ep]),ez=(0,n3.rE)(),eW=(0,nq._P)({controlName:"flag-gw-magikarp-bounce-time",logFlagToAnalytics:!1,default:ex.Hl,type:"number"}),ej=(0,nq._P)({controlName:"flag-completely-different-clipboard",logFlagToAnalytics:!0}),eq=(0,nq._P)({controlName:"flag-completely-different-regulator"}),eZ=[n4.use(eY,eC,eI,eR,eM,eW,ej,eq),n5.use(eY,nO,e$),nC.use(eG,ez)],(0,h.useMemo)(function(){return eZ},eZ));e0=(eK={view:tt,filePath:nO}).view,e1=eK.filePath,e2=(0,l$.useRouter)(),e3=(0,rg.Po)(e2),e4=(0,h.useRef)({revisionId:(0,ij.A)(),textEditorState:lj(e1),hasGhostwriterSuggestion:!1}),e5=(0,h.useRef)(e1),e7=null!=(eQ=null==e0?void 0:e0.plugin(so.Pb))?eQ:null,(0,h.useEffect)(function(){if(e3&&e0&&e7&&!e7.destroyed){var e=function(e){lZ(e4.current,e.messageId)},n=function(n){l0(e1,e5.current,e0,e4.current,n)?e(n):(0,lW.Cf)(n.messageId)},t=function(n){l0(e1,e5.current,e0,e4.current,n)?e(n):(0,lW.Cf)(n.messageId)},r=function(r){try{var a=r.data;if(!(0,lz.F5)(a)||a.protocolVersion!==lz.V2)return;var i=a.payload;a.messageDirection===lz.SU.TO_NATIVE&&(0,lz.Yf)(i)&&(e5.current=i.activePaneFilePath),(0,lW.Vd)(r,function(r){var i=r.type;switch(i){case lz.tF.TEXT_EDITOR_STATE_REQUEST:e(a);break;case lz.tF.REQUEST_SET_SELECTION:case lz.tF.REQUEST_REPLACE_SELECTION:case lz.tF.REQUEST_SET_TEXT:case lz.tF.REQUEST_INSERT_TEXT:case lz.tF.REQUEST_PASTE_TEXT:n(a);break;case lz.tF.TEXT_EDITOR_REQUEST_ACTION:t(a);break;default:(0,lG.A)(i)}})}catch(e){throw Error("Invalid message: ".concat(e))}};window.addEventListener("message",r),e4.current={revisionId:(0,ij.A)(),textEditorState:lq(e1,e0),hasGhostwriterSuggestion:(0,rm.R)(e0.state)},lZ(e4.current);var a=!1,i=!1,o=e7.bind({changed:function(e){var n;return e.docChanged?(a=!0,!0):!!e.selectionSet||!!e.focusChanged||(null==(n=e4.current)?void 0:n.hasGhostwriterSuggestion)!==(0,rm.R)(e.state)},callback:function(){var e=a?(0,ij.A)():e4.current.revisionId;a=!1,e4.current={revisionId:e,textEditorState:lq(e1,e0),hasGhostwriterSuggestion:(0,rm.R)(e0.state)},lZ(e4.current)},destroy:function(){window.removeEventListener("message",r),i||(lK(e1),i=!0)}});return function(){window.removeEventListener("message",r),o(),i||(lK(e1),i=!0)}}},[e0,e1,e3,e7]);var tv=co(nO).isUnmerged,tg=(e8=(e9={filePath:nO,enableConflicts:!0===tv}).filePath,e6=e9.enableConflicts,ne=(0,nq._P)({controlName:"flag-editor-git-conflict-markers",logFlagToAnalytics:!1}),nn=(0,eS.A)().git,ag.use(nn,void 0===e8?null:e8,!(void 0!==e6&&e6)||!ne)),tb=(0,rg.m5)(),ty=lo.use(tb),tw=sv.use(n9),t_=lr.use(tb),tS=lv.use(n6.rulers),tA=(0,ca.D)(),tk=oi.use(tb,n6.minimapDisplay,tA),tC=lb.use(tb,tA),tY=eu.EI.use(),tE=(nt={filePath:nO},nr=(0,eS.A)().container,na=(0,ev.I)(),ni=(0,em.g)("codeIntelligence").preferences,nl=e_(ns=(0,ey.A)(nt.filePath)),eA.use(na,nr,ns,nl,ni.codeIntelligence,nt.filePath)),tx=el.use(n6.showLeadingWhitespace,n6.showEnclosedWhitespace,n6.showTrailingWhitespace,n6.showSelectedWhitespace),tT=(0,W.T)({analyticsSurface:"workspace_editor"}),tD=uA({path:nO}),tI=uC({path:nO}),tR=uk({path:nO}),tN=(0,h.useCallback)(function(){tt&&tD(tt,"shortcut")},[tt,tD]),tO=(ng=(nu={isMobile:tb,generateCode:tD,filePath:nO}).isMobile,nb=nu.filePath,ny=nu.generateCode,nw=(0,rw.Jn)(rb.G.id),nS=null!=(nm=null==(nc=ef.Jh.from(nb))?void 0:nc.id)?nm:null,nA=(0,nL.f)().isTeamWithAiDisabled,nY=(null!=(nv=null==(nk=uI({variables:{language:nS},skip:!nS}).data)||null==(np=nk.languageExamples)||null==(nf=np.examples)?void 0:nf.length)?nv:0)>=1,nD=(0,h.useMemo)(function(){var e=[];return(0,n_.e$)(nb)||nA||e.push({icon:(0,p.Y)(um.A,{}),text:"Generate Code with AI",shortcut:ng?void 0:nw,onClick:function(e){uK({cta:"generate",version:"new"}),ny(e,"shortcut")}}),nS&&nY&&e.push({icon:(0,p.Y)(uw.A,{}),text:"Start with a code example",onClick:function(e){uK({cta:"examples",version:"new"}),e.dispatch({effects:uQ.of({language:nS,filePath:nb})})}}),e.push({icon:(0,p.Y)(uZ.A,{}),text:"Add powerful Integrations",onClick:function(e){(0,t3.zw)(e.state,{pane:{type:"integrations"},secondary:!0}),uK({cta:"integrations",version:"new"}),(0,nX.u4)(nX.AZ.TOOL_OPENED,{source:"fileEditorEmptyState",tool:"integrations"})}}),e},[nb,nA,nS,nY,ng,nw,ny]),[uj.use(nD),u1]),tP=(nI=({onGenerateCode:tN,onReplyInChat:(0,h.useCallback)(function(){tr({type:"ghostwriterChat"})},[tr])}).onGenerateCode,nR=(0,nL.f)().isTeamWithAiDisabled,nN=rC.use(nI),(0,h.useMemo)(function(){var e=[rM,tV.z,tV.Q,rJ,rH,tz,rB,tK,rV,nN];return nR||e.push(nN),e},[nN,nR])),tU=(0,u9.EF)(),tL=tU.onContextMenu,tM=tU.closeContextMenu,tJ=tU.openContextMenu,tH=tU.isVisible,tB=(0,h.useCallback)(function(e){tt&&(0,V.TS)(tt,e,"context-menu")&&(tM(),e.stopPropagation(),e.preventDefault())},[tM,tt]),t$=function(e){var n,t,r,a,i,o,s,l,u,c,d,f,m,v,g,b,y=e.path,w=e.view,_=(n=uA({path:y}),t=uk({path:y}),r=uC({path:y}),a=(0,rw.Jn)(rb.G.id),(0,h.useCallback)(function(e){var i=[],o=!e.state.selection.main.empty;return n&&!o&&i.push(u_({label:"Generate with "+rI.BP,icon:(0,p.Y)(um.A,{color:X.LU.tealStronger}),keyboardShortcut:a,run:function(){n(e,"action_menu")},dataCy:"context-menu-GenerateCode"})),o&&(i.push(u_({label:"Explain with "+rI.BP,icon:(0,p.Y)(uh.A,{color:X.LU.tealStronger}),dataCy:"context-menu-ExplainCode",run:function(){r(e,"action_menu")}})),i.push(u_({label:"Modify with "+rI.BP,icon:(0,p.Y)(up,{color:X.LU.tealStronger}),keyboardShortcut:a,dataCy:"context-menu-TransformCode",run:function(){t(e,"action_menu")}}))),i},[n,t,r,a])),S=(0,h.useCallback)(function(e){var n=[u_({label:"Copy link to position",icon:(0,p.Y)(ug.A,{}),run:function(){var n=(0,ed.Z3)(e.state.doc,e.state.selection.main.head),t=n.line,r=n.character,a=(0,un.Ax)({path:y,line:t+1,col:r});(0,l4.default)(a)}}),u_({label:"Copy",icon:(0,p.Y)(us.A,{}),keyboardShortcut:(0,nd.FM)({cmdOrCtrl:!0,key:"c"}),run:function(){var n=nh(e.state).text;(0,l4.default)(n)}}),u_({label:"Cut",icon:(0,p.Y)(ul,{}),keyboardShortcut:(0,nd.FM)({cmdOrCtrl:!0,key:"x"}),run:function(){var n=nh(e.state),t=n.text,r=n.ranges;(0,l4.default)(t),e.state.readOnly||e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})}})];return window.navigator.clipboard&&"readText"in window.navigator.clipboard&&n.push(u_({label:"Paste",icon:(0,p.Y)(ui.A,{}),keyboardShortcut:(0,nd.FM)({cmdOrCtrl:!0,key:"v"}),run:function(){return(0,H._)(function(){var n,t;return(0,B.YH)(this,function(r){switch(r.label){case 0:n="",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,window.navigator.clipboard.readText()];case 2:return n=r.sent(),[3,4];case 3:return t=r.sent(),nV.vF.error("CodeMirror context menu paste failed",{message:t.message}),[2];case 4:return sh({filePath:y,view:e,clipboardText:n}),[2]}})})()}})),n},[y]),A=(o=e_(i=(0,ey.A)(y)),s=(0,rw.Jn)("editor.action.goToDefinition"),l=(0,rw.Jn)("editor.action.goToTypeDefinition"),u=(0,rw.Jn)("editor.action.goToImplementation"),c=(0,rw.Jn)("editor.action.goToReferences"),d=(0,rw.Jn)("editor.selection.allOccurrences"),f=(0,rw.Jn)("editor.action.sourceActions"),m=(0,rw.Jn)("editor.action.formatDocument"),v=(0,rw.Jn)("editor.action.codeActions"),g=(0,rw.Jn)("editor.action.renameSymbol"),(0,h.useCallback)(function(e){var n=[],t=o&&i.length;return t&&o.isFindDefinitionSupported&&n.push(u_({label:"Go to definition",icon:(0,p.Y)(uc.A,{}),dataCy:"context-menu-JumpToDefinition",run:function(n){(0,iJ.Fn)(e,n)},keyboardShortcut:s})),t&&o.isFindTypeDefinitionSupported&&n.push(u_({label:"Go to type definition",icon:(0,p.Y)(ua.A,{}),run:function(){(0,iJ.fS)(e)},keyboardShortcut:l})),t&&o.isFindImplementationSupported&&n.push(u_({label:"Go to implementation",icon:(0,p.Y)(uw.A,{}),run:function(){(0,iJ.M9)(e)},keyboardShortcut:u})),t&&(o.isFindDefinitionSupported||o.isFindReferencesSupported)&&n.push(u_({label:"Show references",icon:(0,p.Y)(ur,{}),keyboardShortcut:c,run:function(){(0,ip.y)(e)}})),n.push(u_({label:"Find in Repl",icon:(0,p.Y)(uy.A,{}),run:function(){var n=nh(e.state).text;(0,t3.zw)(e.state,{pane:{type:"searchReplace",data:{initialQuery:n}}})}})),t&&o.isRenameSupported&&n.push(u_({label:"Rename all occurrences",icon:(0,p.Y)(uu.A,{}),keyboardShortcut:g,run:function(){(0,iH.C)(e)}})),e.state.facet(eu.hb)&&n.push(u_({label:"Format document",icon:(0,p.Y)(uf.A,{}),keyboardShortcut:m,run:function(){(0,eu.BD)(e)}})),!e.state.selection.main.empty&&e.state.facet(l2.Aq)&&n.push(u_({label:"Format selection",icon:(0,p.Y)(uf.A,{}),run:function(){(0,eu.vl)(e)}})),n.push(u_({label:"Select all occurrences",icon:(0,p.Y)(uo,{}),keyboardShortcut:d,run:function(){(0,l5.G)(e)}})),t&&o.isCodeActionsSupported&&(o.isSourceActionsSupported&&n.push(u_({label:"Source actions",icon:(0,p.Y)(ud.A,{}),keyboardShortcut:f,run:function(){(0,iu._H)(e)}})),n.push(u_({label:"More actions",icon:(0,p.Y)(uv.A,{}),keyboardShortcut:v,run:function(){(0,iu.w1)(e,{force:!0})}}))),n},[o,i,d,f,s,l,u,c,g,m,v])),k=(b=(0,l6.Zp)(ue.P.EditorContextMenu),(0,h.useCallback)(function(e){var n=[];return n.push({data:{type:"group",key:"extensions"},commands:function(){return(0,H._)(function(){var n;return(0,B.YH)(this,function(t){switch(t.label){case 0:return n=[{data:{filePath:e.filePath,selection:e.view.state.selection.toJSON()}}],[4,Promise.all(b.map(function(e){return(0,H._)(function(){var t;return(0,B.YH)(this,function(r){switch(r.label){case 0:return[4,e.create({path:n})];case 1:if(!(t=r.sent()))return[2,null];return[2,(0,l8.l)(t,{path:n})]}})})()}))];case 1:return[2,t.sent().filter(Boolean)]}})})()}}),n},[b]));return(0,h.useCallback)(function(){var e=w?[{data:{type:"context",label:rI.BP,icon:(0,p.Y)(ut.A,{})},commands:function(){return _(w)}},{data:{type:"context",label:"Code actions",icon:(0,p.Y)(uv.A,{})},commands:function(){return A(w)}},{data:{type:"context",label:"Clipboard",icon:(0,p.Y)(ui.A,{})},commands:function(){return S(w)}},{data:{type:"context",label:"Extensions",icon:(0,p.Y)(ub.A,{})},commands:function(){return k({view:w,filePath:y})}}]:[];return{data:{type:"context",label:"Search actions",icon:(0,p.Y)(uy.A,{})},commands:function(){return e}}},[w,_,A,S,y,k])}({path:nO,view:tt}),tG=(0,h.useCallback)(function(e){tL(e,{command:t$(),width:275,onKeyDownHandler:tB})},[t$,tL,tB]),tW=(0,h.useCallback)(function(e,n){tJ({target:e,command:[t$(),n],width:275,onKeyDownHandler:tB})},[t$,tB,tJ]),tj=uY.use(tb,tH,tG),tq=uE.a.use(tW),tZ=(0,h.useCallback)(function(e){tJ({target:{x:e.right-275,y:e.top},width:275,command:t$(),onKeyDownHandler:tB})},[t$,tB,tJ]),tQ=(0,rb.C)({editCode:tR,explainCode:tI,generateCode:tD,onMoreClick:tZ}),tX=ci.use(),t0=(0,t3.tT)(nW),t1=z.use(nU);return(0,p.Y)("div",{css:u7.mV,"data-cy":tc?"loading-workspace-cm-editor":"workspace-cm-editor-".concat(nO),children:(0,p.Y)(iy.Ay,{ref:tn,elementRef:th,css:u7.$1,filePath:nO,hideTooltips:nP,readOnly:nF,extensions:[tj,tq,td,tf,tp,tO,tX,ty,ti,t_,tg,tC,tk,sm,tw,oj,tP,ln,lH,tS,tx,tY,tE,ek.OR,tm,lO,ld,tb?[]:tQ,tl,ay.f,t0,tT,t1],onException:function(e){var n,t={filePath:nO,cursorPosition:JSON.stringify(null==to||null==(n=to.get(ct.J0))?void 0:n.position),fileVersion:ts({filePath:nO})};if(tt){var r=tt.plugin(oj),a=null==r?void 0:r.logs();null==r||r.flush(),t.domText=tt.contentDOM.innerText,t.keystrokes=JSON.stringify(a),t.selection=JSON.stringify(tt.state.selection.main.toJSON()),t.updateDoc=tt.state.doc.sliceString(0)}(0,l1.Q)(e,{tags:{origin:"CodemirrorEditor: useEditor/onException",codemirror:!0},extras:t})},noHistory:!0})})}var cl=t(9965),cu=t(48109),cc=t(83625),cd=t(72915),cf=t(28611),cp=t(71936),ch=(0,nW.eU)(0),cm=(0,nW.eU)(new Map([["normal",[]],["compact",[]]])),cv=(0,nW.eU)(null,function(e,n,t){var r=e(cw);n(cm,function(e){return(0,tQ.jM)(e,function(e){var n=e.get(r);if(!n)throw Error("Expect width for: "+r);n[t.index]=t.width})})}),cg=(0,nW.eU)(null,function(e,n,t){n(cm,function(e){return(0,tQ.jM)(e,function(e){var n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)(0,g._)(i.value,2)[1].slice(0,t)}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}})})}),cb=(0,nW.eU)(function(e){var n=new Map([["normal",0],["compact",0]]),t=!0,r=!1,a=void 0;try{for(var i,o=e(cm)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=(0,g._)(i.value,2),l=s[0],u=s[1],c=0,d=!0,f=!1,p=void 0;try{for(var h,m=u[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var v=h.value;void 0!==v&&(c+=v)}}catch(e){f=!0,p=e}finally{try{d||null==m.return||m.return()}finally{if(f)throw p}}n.set(l,c)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n}),cy=(0,nW.eU)(function(e){if("normal"===e(cw))return null;var n=e(cm).get("compact");if(!n)return null;var t=e(ch)-24,r=0,a=!0,i=!1,o=void 0;try{for(var s,l=n[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;if(void 0!==u){if((t-=u)>0){r++;continue}return r}}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return null}),cw=(0,nW.eU)(function(e){var n,t=e(ch);return(null!=(n=e(cb).get("normal"))?n:0)>t?"compact":"normal"}),c_=(0,Y.x)({item:[E.wp.viewStyle,uF.b.listItem,E.wp.p(6),E.wp.rowWithGap(4),E.wp.align.center,{fontSize:X.LU.fontSizeSmall}]});function cS(e){var n=(0,g._)((0,h.useState)(null),2),t=n[0],r=n[1],a=null!==t&&(null==(u=e.items[t])?void 0:u.popover);if(a)return(0,p.Y)(p.FK,{children:a});var i=[],o=!0,s=!1,l=void 0;try{for(var u,c,d=e.items[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var f=c.value;f.onClick||f.popover||i.push(f.key)}}catch(e){s=!0,l=e}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}return(0,p.Y)(cl.W1,{disabledKeys:i,onAction:function(n){var t=!0,a=!1,i=void 0;try{for(var o,s=e.items[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var l=o.value;if(l.key===n){if(l.onClick){l.onClick();break}l.popover&&r(e.items.indexOf(l));break}}}catch(e){a=!0,i=e}finally{try{t||null==s.return||s.return()}finally{if(a)throw i}}},children:e.items.map(function(e){return(0,p.Y)(cl.Dr,{id:e.key,css:c_.item,children:(0,p.Y)(cA.Provider,{value:function(){},children:(0,h.cloneElement)(e.item,{presentation:"overflowMenu"})})},e.key)})})}var cA=(0,h.createContext)(function(e){});function ck(){return(0,h.useContext)(cA)}var cC=(0,Y.x)({button:[E.wp.viewStyle,E.wp.reset.button,E.wp.rowWithGap(4),E.wp.center,E.wp.color.foregroundDimmest,E.wp.hover([E.wp.color.foregroundDefault]),E.wp.height("100%"),{fontSize:12,"&:has(*)":[E.wp.px(4),uF.b.nofill,E.wp.borderRadius(0)]}],tooltip:[E.wp.backgroundColor.backgroundHighest,E.wp.borderRadius(4),E.wp.color.foregroundDimmer,E.wp.p(4),E.wp.border({color:X.LU.outlineDefault}),{fontSize:12}]});function cY(e){var n=(0,rs.A)(function(n){return e.onWidth(n.width)}),t=(0,g._)((0,h.useState)(null),2),r=t[0],a=t[1];return(0,p.Y)(x.S,{innerRef:n,children:(0,p.FD)(cu.k$,{isDisabled:null==r||e.hidden,children:[(0,p.Y)(cc.$,{isDisabled:e.isDisabled||e.hidden,css:cC.button,style:e.hidden?{opacity:0,pointerEvents:"none"}:void 0,onPress:function(){var n;return null==(n=e.onClick)?void 0:n.call(e)},children:(0,p.Y)(cA.Provider,{value:a,children:e.children})}),(0,p.Y)(cu.m_,{placement:"top",offset:8,css:cC.tooltip,children:r})]})})}var cE=(0,Y.x)({root:[E.wp.position.relative,{"& > div:first-of-type > button":{borderBottomLeftRadius:4},"& > div:button:last-of-type > button":{borderBottomRightRadius:4}}],middle:[E.wp.flex.growAndShrink(1)],moreButton:[{width:24},E.wp.reset.button,E.wp.center,uF.b.nofill,E.wp.height("100%"),E.wp.position.absolute,E.wp.right(0),E.wp.top(0)]});function cx(e){var n=e.left.filter(Boolean),t=e.right.filter(Boolean),r=(0,g._)((0,h.useState)(function(){return(0,nW.y$)()}),1)[0],a=(0,nj.md)(cw,{store:r}),i=(0,nj.md)(cy,{store:r}),o=(0,nj.Xr)(cv,{store:r}),s=(0,nj.Xr)(ch,{store:r}),l=(0,rs.A)(function(e){return s(e.width)}),u=n.length-1,c=(0,b._)(n).concat((0,b._)(t)),d=(0,nj.Xr)(cg,{store:r}),f=c.length;return(0,h.useEffect)(function(){d(f)},[d,f]),(0,p.Y)(p.FK,{children:(0,p.FD)(x.S,{className:e.className,css:cE.root,grow:!0,shrink:!0,row:!0,innerRef:l,children:[c.map(function(e,n){return e.popover?(0,p.FD)(h.Fragment,{children:[(0,p.FD)(cd.zM,{children:[(0,p.Y)(cY,{onWidth:function(e){return o({index:n,width:e})},hidden:null!==i&&n>=i,isDisabled:!e.popover&&!e.onClick,children:(0,h.cloneElement)(e.item,{presentation:a})}),(0,p.Y)(cf.g_,{placement:n<=u?"top left":"top right",children:e.popover})]}),n===u?(0,p.Y)(x.S,{css:cE.middle}):null]},e.key):(0,p.FD)(h.Fragment,{children:[(0,p.Y)(cY,{onWidth:function(e){return o({index:n,width:e})},onClick:e.onClick,hidden:null!==i&&n>=i,isDisabled:!e.popover&&!e.onClick,children:(0,h.cloneElement)(e.item,{presentation:a})}),n===u?(0,p.Y)(x.S,{css:cE.middle}):null]},e.key+n)}),null===i?null:(0,p.FD)(cd.zM,{children:[(0,p.Y)(cc.$,{css:cE.moreButton,children:(0,p.Y)(cp.A,{size:12})}),(0,p.Y)(cf.g_,{placement:"top right",children:(0,p.Y)(cS,{items:c.slice(i)})})]})]})})}var cT=t(85319);function cD(e){var n=e.presentation,t=(0,em.g)("codeSuggestion").preferences.codeSuggestion,r=ck();return(0,h.useEffect)(function(){r("compact"===n?"AI":null)},[r,n]),(0,p.FD)(p.FK,{children:[(0,p.Y)(a6.A,{size:12,color:t?X.LU.blurpleDefault:void 0}),"compact"===n?null:(0,p.Y)(x.S,{children:"AI"})]})}var cI=(0,Y.x)({root:[E.wp.maxWidth(260)],featureTitle:[E.wp.fontWeight.medium]});function cR(){var e=(0,h.useId)(),n=(0,em.g)("codeSuggestion"),t=n.preferences.codeSuggestion,r=n.update;return(0,p.FD)(x.S,{css:cI.root,p:8,children:[(0,p.FD)(x.S,{row:!0,gap:8,align:"center",children:[(0,p.FD)(x.S,{css:cI.featureTitle,grow:!0,shrink:!0,row:!0,gap:4,align:"center",children:[(0,p.Y)(up,{color:X.LU.blurpleDefault}),(0,p.Y)(tL.EY,{children:"AI Autocomplete"})]}),(0,p.FD)(x.S,{row:!0,gap:4,align:"center",children:[(0,p.Y)(x.S,{tag:"label",htmlFor:e,children:(0,p.Y)(tL.EY,{color:"dimmer",variant:"small",children:"Enable"})}),(0,p.Y)(cT.S,{id:e,checked:t,name:"Code Complete",onChange:function(){return r({codeSuggestion:!t})}})]})]}),(0,p.FD)(x.S,{gap:8,children:[(0,p.Y)(tL.EY,{color:"dimmer",variant:"small",children:"Suggest lines of code as you type based on existing context."}),(0,p.FD)(x.S,{row:!0,gap:4,align:"center",children:[(0,p.Y)(tL.EY,{color:"dimmer",variant:"small",children:"Press"}),(0,p.Y)(rw._y,{small:!0,keyCombo:"Tab"}),(0,p.Y)(tL.EY,{color:"dimmer",variant:"small",children:"to accept result"})]})]})]})}var cN=t(81515),cO=function(e){return e[e.Loading=0]="Loading",e[e.Ready=1]="Ready",e[e.Exited=2]="Exited",e[e.Stalled=3]="Stalled",e[e.Partial=4]="Partial",e[e.Missing=5]="Missing",e[e.Disabled=6]="Disabled",e}(cO||{}),cP=(0,nW.eU)(new Map),cF=(0,nW.eU)(null,function(e,n,t,r){n(cP,function(e){return(0,tQ.jM)(e,function(e){var n=e.get(t);n&&e.set(t,(0,D._)((0,T._)({},n),{state:r}))})})}),cU=(0,nW.eU)(null,function(e,n,t,r){n(cP,function(e){return(0,tQ.jM)(e,function(e){var n=e.get(t);n&&e.set(t,(0,D._)((0,T._)({},n),{health:r}))})})}),cL=(0,nW.eU)(null,function(e,n,t,r){n(cP,function(e){return(0,tQ.jM)(e,function(e){var a=new Set,i=!0,o=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(i=(l=u.next()).done);i=!0)!function(){var t,i=l.value;a.add(i.clientId),null==(t=e.get(i.clientId))||t.dispose(),e.set(i.clientId,{client:i,health:i.getServerHealth(),state:i.getServerState(),restart:function(){return r.restart(i.clientId)},dispose:(0,ew.xW)([i.onServerStateChange(function(e){return n(cF,i.clientId,e)}),i.onServerHealthChange(function(e){return n(cU,i.clientId,e)})])})}()}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}var c=!0,d=!1,f=void 0;try{for(var p,h=e.entries()[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=(0,g._)(p.value,2),v=m[0],b=m[1].dispose;a.has(v)||(b(),e.delete(v))}}catch(e){d=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(d)throw f}}})})});function cM(e){switch(e){case 3:return 4;case 0:return 3;case 1:return 2;case 2:return 1;default:return 0}}function cJ(e){return e.health===iq.A.STALLED?3:e.state===iq.b.INITIALIZING||e.state===iq.b.INITIALIZED&&e.health!==iq.A.READY?0:e.health===iq.A.READY?1:e.state===iq.b.EXITED?2:5}function cH(e){return(0,nj.md)(e,{store:function(){var e=(0,h.useContext)(cB);if(!e)throw Error("Expected store in context");return e}()})}var cB=(0,h.createContext)(null);function cV(e){var n,t,r,a=(n=e.filePath,t=e.lspnix,r=(0,g._)((0,h.useState)(function(){return(0,nW.y$)()}),1)[0],(0,h.useEffect)(function(){return t.onClient(n,function(e){return r.set(cL,e,t)})},[n,t,r]),r);return(0,p.Y)(cB.Provider,{value:a,children:e.children})}var c$=t(16653),cG=t(78574);function cz(e){return(0,p.Y)(I.Ay,(0,D._)((0,T._)({},e),{children:(0,p.Y)("path",{fill:X.LU.foregroundDefault,d:"M8.25 4c-.764 0-1.407.125-1.932.394-.538.276-.905.68-1.143 1.15-.426.842-.425 1.904-.425 2.74v.09c0 .963-.017 1.666-.263 2.153a1.069 1.069 0 0 1-.49.492c-.248.127-.637.229-1.247.229a.75.75 0 0 0 0 1.5c.61 0 .999.101 1.248.229.235.12.383.283.49.492.245.486.262 1.19.262 2.153v.09c0 .835-.001 1.898.425 2.74.238.47.605.874 1.143 1.15.525.268 1.168.393 1.932.393a.75.75 0 0 0 0-1.5c-.61 0-.999-.1-1.248-.228a1.07 1.07 0 0 1-.489-.493c-.246-.486-.263-1.19-.263-2.152v-.09c0-.836.001-1.899-.424-2.74a2.587 2.587 0 0 0-.614-.794c.263-.228.464-.498.614-.794.425-.842.425-1.904.424-2.74v-.09c0-.963.017-1.666.263-2.153.106-.209.254-.371.49-.492C7.25 5.6 7.64 5.5 8.25 5.5a.75.75 0 0 0 0-1.5ZM15.75 4a.75.75 0 0 0 0 1.5c.61 0 1 .101 1.248.229.236.12.384.283.49.492.246.487.263 1.19.263 2.153v.09c-.001.836-.002 1.898.424 2.74.15.296.351.566.614.794a2.586 2.586 0 0 0-.614.794c-.426.841-.425 1.904-.424 2.74v.09c0 .963-.017 1.666-.263 2.152a1.07 1.07 0 0 1-.49.493c-.249.127-.637.229-1.248.229a.75.75 0 1 0 0 1.5c.765 0 1.408-.126 1.932-.394.539-.276.906-.68 1.144-1.15.426-.842.425-1.905.425-2.74v-.09c0-.964.016-1.667.263-2.153a1.07 1.07 0 0 1 .489-.492c.249-.128.637-.23 1.248-.23a.75.75 0 0 0 0-1.5c-.61 0-1-.1-1.248-.228a1.069 1.069 0 0 1-.49-.492c-.246-.487-.262-1.19-.262-2.153v-.09c0-.836.001-1.898-.425-2.74a2.567 2.567 0 0 0-1.144-1.15C17.158 4.125 16.515 4 15.751 4Z"})}))}function cW(e){return(0,p.FD)(I.Ay,(0,D._)((0,T._)({},e),{children:[(0,p.Y)("path",{fill:X.LU.foregroundDimmer,fillRule:"evenodd",d:"M6.25 4.5c-.764 0-1.407.117-1.932.37a2.49 2.49 0 0 0-1.143 1.078c-.426.79-.425 1.785-.425 2.57v.084c0 .903-.017 1.562-.263 2.018a1.037 1.037 0 0 1-.49.462c-.248.12-.637.215-1.247.215-.414 0-.75.315-.75.703 0 .388.336.703.75.703.61 0 .999.095 1.248.215.235.113.383.266.49.462.245.456.262 1.115.262 2.018v.085c0 .784-.001 1.78.425 2.57.238.44.605.819 1.143 1.078.525.252 1.168.369 1.932.369.414 0 .75-.315.75-.703 0-.389-.336-.704-.75-.704-.61 0-.999-.095-1.248-.214a1.037 1.037 0 0 1-.489-.462c-.246-.456-.263-1.115-.263-2.019v-.084c0-.784.001-1.78-.424-2.57A2.452 2.452 0 0 0 3.212 12c.263-.214.464-.467.614-.745.425-.789.425-1.785.424-2.569v-.084c0-.904.017-1.563.263-2.02.106-.195.254-.348.49-.46.248-.12.637-.215 1.247-.215.414 0 .75-.315.75-.704 0-.388-.336-.703-.75-.703Zm11.5 0c-.415 0-.75.315-.75.703 0 .389.335.704.75.704.61 0 .999.095 1.248.214.235.113.383.266.489.462.246.456.263 1.115.263 2.019v.084c0 .784-.002 1.78.424 2.57.15.277.351.53.614.744a2.452 2.452 0 0 0-.614.745c-.425.789-.425 1.785-.424 2.569v.084c0 .904-.017 1.563-.263 2.02a1.037 1.037 0 0 1-.49.46c-.248.12-.637.215-1.247.215-.415 0-.75.315-.75.704 0 .388.335.703.75.703.764 0 1.407-.117 1.932-.37a2.49 2.49 0 0 0 1.143-1.078c.426-.79.425-1.785.425-2.57v-.084c0-.903.017-1.562.263-2.018.105-.196.254-.349.49-.462.248-.12.637-.215 1.247-.215.414 0 .75-.315.75-.703 0-.388-.336-.703-.75-.703-.61 0-.999-.095-1.248-.215a1.036 1.036 0 0 1-.49-.462c-.245-.456-.262-1.115-.262-2.018v-.085c0-.784.001-1.78-.425-2.57a2.49 2.49 0 0 0-1.143-1.078c-.525-.252-1.168-.369-1.932-.369Z",clipRule:"evenodd"}),(0,p.Y)("path",{fill:X.LU.accentPositiveStronger,d:"M16.09 9.227a.692.692 0 0 1-.047.978l-5.077 4.615a.692.692 0 0 1-.932 0l-2.307-2.098a.692.692 0 0 1 .931-1.024l1.842 1.674 4.611-4.192a.692.692 0 0 1 .978.047Z"})]}))}function cj(e){return(0,p.FD)(I.Ay,(0,D._)((0,T._)({},e),{children:[(0,p.Y)("path",{fill:"#F66",fillRule:"evenodd",d:"M8.47 8.47a.75.75 0 0 1 1.06 0L12 10.94l2.47-2.47a.75.75 0 1 1 1.06 1.06L13.06 12l2.47 2.47a.75.75 0 1 1-1.06 1.06L12 13.06l-2.47 2.47a.75.75 0 0 1-1.06-1.06L10.94 12 8.47 9.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}),(0,p.Y)("path",{fill:X.LU.foregroundDimmer,fillRule:"evenodd",d:"M6.25 4.5c-.764 0-1.407.117-1.932.37a2.49 2.49 0 0 0-1.143 1.078c-.426.79-.425 1.785-.425 2.57v.084c0 .903-.017 1.562-.263 2.018a1.037 1.037 0 0 1-.49.462c-.248.12-.637.215-1.247.215-.414 0-.75.315-.75.703 0 .388.336.703.75.703.61 0 .999.095 1.248.215.235.113.383.266.49.462.245.456.262 1.115.262 2.018v.085c0 .784-.001 1.78.425 2.57.238.44.605.819 1.143 1.078.525.252 1.168.369 1.932.369.414 0 .75-.315.75-.703 0-.389-.336-.704-.75-.704-.61 0-.999-.095-1.248-.214a1.037 1.037 0 0 1-.489-.462c-.246-.456-.263-1.115-.263-2.019v-.084c0-.784.001-1.78-.424-2.57A2.452 2.452 0 0 0 3.212 12c.263-.214.464-.467.614-.745.425-.789.425-1.785.424-2.569v-.084c0-.904.017-1.563.263-2.02.106-.195.254-.348.49-.46.248-.12.637-.215 1.247-.215.414 0 .75-.315.75-.704 0-.388-.336-.703-.75-.703Zm11.5 0c-.415 0-.75.315-.75.703 0 .389.335.704.75.704.61 0 .999.095 1.248.214.235.113.383.266.489.462.246.456.263 1.115.263 2.019v.084c0 .784-.002 1.78.424 2.57.15.277.351.53.614.744a2.452 2.452 0 0 0-.614.745c-.425.789-.425 1.785-.424 2.569v.084c0 .904-.017 1.563-.263 2.02a1.037 1.037 0 0 1-.49.46c-.248.12-.637.215-1.247.215-.415 0-.75.315-.75.704 0 .388.335.703.75.703.764 0 1.407-.117 1.932-.37a2.49 2.49 0 0 0 1.143-1.078c.426-.79.425-1.785.425-2.57v-.084c0-.903.017-1.562.263-2.018.105-.196.254-.349.49-.462.248-.12.637-.215 1.247-.215.414 0 .75-.315.75-.703 0-.388-.336-.703-.75-.703-.61 0-.999-.095-1.248-.215a1.036 1.036 0 0 1-.49-.462c-.245-.456-.262-1.115-.262-2.018v-.085c0-.784.001-1.78-.425-2.57a2.49 2.49 0 0 0-1.143-1.078c-.525-.252-1.168-.369-1.932-.369Z",clipRule:"evenodd"})]}))}function cq(e){return(0,p.FD)(I.Ay,(0,D._)((0,T._)({},e),{children:[(0,p.Y)("path",{fill:X.LU.yellowStronger,fillRule:"evenodd",d:"M12 7.33c.368 0 .667.298.667.667v2.822l2.323-1.394a.667.667 0 1 1 .686 1.143l-2.38 1.429 2.38 1.428a.667.667 0 1 1-.686 1.143l-2.323-1.394v2.823a.667.667 0 0 1-1.334 0v-2.823L9.01 14.568a.667.667 0 0 1-.686-1.143l2.38-1.428-2.38-1.429a.667.667 0 0 1 .686-1.143l2.323 1.394V7.997c0-.369.299-.667.667-.667Z",clipRule:"evenodd"}),(0,p.Y)("path",{fill:X.LU.foregroundDimmer,fillRule:"evenodd",d:"M6.25 4.5c-.764 0-1.407.117-1.932.37a2.49 2.49 0 0 0-1.143 1.078c-.426.79-.425 1.785-.425 2.57v.084c0 .903-.017 1.562-.263 2.018a1.037 1.037 0 0 1-.49.462c-.248.12-.637.215-1.247.215-.414 0-.75.315-.75.703 0 .388.336.703.75.703.61 0 .999.095 1.248.215.235.113.383.266.49.462.245.456.262 1.115.262 2.018v.085c0 .784-.001 1.78.425 2.57.238.44.605.819 1.143 1.078.525.252 1.168.369 1.932.369.414 0 .75-.315.75-.703 0-.389-.336-.704-.75-.704-.61 0-.999-.095-1.248-.214a1.037 1.037 0 0 1-.489-.462c-.246-.456-.263-1.115-.263-2.019v-.084c0-.784.001-1.78-.424-2.57A2.452 2.452 0 0 0 3.212 12c.263-.214.464-.467.614-.745.425-.789.425-1.785.424-2.569v-.084c0-.904.017-1.563.263-2.02.106-.195.254-.348.49-.46.248-.12.637-.215 1.247-.215.414 0 .75-.315.75-.704 0-.388-.336-.703-.75-.703Zm11.5 0c-.415 0-.75.315-.75.703 0 .389.335.704.75.704.61 0 .999.095 1.248.214.235.113.383.266.489.462.246.456.263 1.115.263 2.019v.084c0 .784-.002 1.78.424 2.57.15.277.351.53.614.744a2.452 2.452 0 0 0-.614.745c-.425.789-.425 1.785-.424 2.569v.084c0 .904-.017 1.563-.263 2.02a1.037 1.037 0 0 1-.49.46c-.248.12-.637.215-1.247.215-.415 0-.75.315-.75.704 0 .388.335.703.75.703.764 0 1.407-.117 1.932-.37a2.49 2.49 0 0 0 1.143-1.078c.426-.79.425-1.785.425-2.57v-.084c0-.903.017-1.562.263-2.018.105-.196.254-.349.49-.462.248-.12.637-.215 1.247-.215.414 0 .75-.315.75-.703 0-.388-.336-.703-.75-.703-.61 0-.999-.095-1.248-.215a1.036 1.036 0 0 1-.49-.462c-.245-.456-.262-1.115-.262-2.018v-.085c0-.784.001-1.78-.425-2.57a2.49 2.49 0 0 0-1.143-1.078c-.525-.252-1.168-.369-1.932-.369Z",clipRule:"evenodd"})]}))}function cZ(e){var n=e.filePath,t=e.presentation,r=(0,C.fZ)(),a=(0,so.Vn)(r,no.ql),i=(0,h.useMemo)(function(){var e,t,r,i;return(r=null==(e=ef.Jh.from(n))?void 0:e.name)?r:(r=null==a||null==(t=a.language)?void 0:t.name)&&r.length>0?(i=r).slice(0,1).toUpperCase()+i.slice(1).toLowerCase():(r=(0,n_.an)(n),a)?r:"Plain Text"},[n,a]),o=(0,so.Vn)(r,ec.lu),s=(0,g._)((0,h.useState)(o?{title:o.name,value:o.id}:void 0),2),l=s[0],u=s[1],c=(0,h.useRef)(!1);(0,h.useEffect)(function(){c.current||(null==l?void 0:l.value)!==(null==o?void 0:o.id)&&u(o?{title:o.name,value:o.id}:void 0)},[l,o]);var d=ck();(0,h.useEffect)(function(){d("Language support"+("compact"===t?" (".concat(i,")"):""))},[d,t,i]);var f=cH((0,h.useMemo)(function(){return(0,nW.eU)(function(e){var n;return null!=(n=Array.from(e(cP).values()).map(function(e){return cJ(e)}).sort(function(e,n){return cM(n)-cM(e)})[0])?n:5})},[]));return(0,p.FD)(p.FK,{children:[(0,p.Y)(c4,{state:f}),"compact"===t?null:(0,p.Y)(x.S,{children:i})]})}var cK=(0,Y.x)({menu:[E.wp.maxWidth(390),E.wp.minWidth(390)],file:[E.wp.pl(4),E.wp.display.inlineFlex,E.wp.rowWithGap(4),E.wp.align.center,{verticalAlign:"top"}],section:[E.wp.rowWithGap(8),E.wp.align.center,E.wp.justify.spaceBetween],header:[E.wp.colWithGap(2),E.wp.flex.shrink(1)],staticWidth:[E.wp.flex.grow(0),E.wp.flex.shrink(1)],variableWidth:[E.wp.flex.grow(1),E.wp.flex.shrink(0),{flexBasis:0}],flexEnd:[E.wp.align.end],red:[E.wp.color.redDefault],row:[E.wp.rowWithGap(8),E.wp.align.center]});function cQ(e){var n=e.filePath,t=e.openSettings,r=(0,C.fZ)(),a=(0,eS.A)().dotReplit,i=(0,so.Vn)(r,ec.lu),o=(0,so.Vn)(r,ec.et),s=(0,g._)((0,h.useState)(i?{title:i.name,value:i.id}:void 0),2),l=s[0],u=s[1],c=(0,h.useRef)(!1),d=(0,h.useMemo)(function(){var e;return null!=(e=null==o?void 0:o.map(function(e){return{title:e.name,value:e.id,icon:void 0}}))?e:[]},[o]);return(0,p.FD)(x.S,{css:cK.menu,p:8,gap:8,children:[(0,p.FD)(tL.Y9,{level:1,children:["Language support for ",(0,p.FD)("span",{css:cK.file,children:[(0,p.Y)(ix.A,{path:n,size:16})," ",(0,p.Y)("span",{children:(0,n_.WP)(n)})]})]}),(0,p.Y)(c$.a,{}),(0,p.Y)(cX,{openSettings:t}),o&&l?(0,p.FD)(p.FK,{children:[(0,p.Y)(c$.a,{}),(0,p.FD)(x.S,{css:cK.section,children:[(0,p.Y)(x.S,{css:[cK.header,cK.staticWidth],children:(0,p.Y)(tL.EY,{multiline:!1,children:"Code Formatter"})}),1===o.length?(0,p.Y)(x.S,{css:[cK.header,cK.variableWidth,cK.flexEnd],children:(0,p.Y)(tL.EY,{multiline:!1,children:l.title})}):(0,p.Y)(x.S,{row:!0,gap:4,children:(0,p.Y)(cG.l,{placement:"top",items:d,selectedItem:(0,D._)((0,T._)({},l),{icon:c.current?(0,p.Y)(t8.A,{size:12}):void 0}),disabled:c.current,onChange:function(e){var t,r;e.value!==l.value&&(c.current=!0,u(e),(t=a,r={path:n,formatterId:e.value},(0,H._)(function(){var e,n;return(0,B.YH)(this,function(a){return(e=".".concat((0,cN.QC)(r.path)),n="rules/formatter/fileExtensions/".concat(e,"/id"),r.formatterId)?[2,t.updateDotReplit([{path:"rules/formatter/fileExtensions",op:"add",value:JSON.stringify((0,ta._)({},"".concat(e),{id:r.formatterId}))}])]:[2,t.updateDotReplit([{path:n,op:"remove"}])]})})()).finally(function(){return c.current=!1}))}})})]})]}):null]})}function cX(e){var n=e.openSettings,t=cH((0,h.useMemo)(function(){return(0,nW.eU)(function(e){return Array.from(e(cP).values()).map(function(e){return{clientId:e.client.clientId,clientName:e.client.clientName,restart:function(){return e.restart()}}})})},[]));return(0,p.FD)(p.FK,{children:[t.map(function(e){return(0,p.Y)(x.S,{css:cK.section,children:(0,p.Y)(c1,{languageServerId:e.clientId,name:e.clientName,restart:function(){return e.restart()},openSettings:n})},e.clientId)}),0===t.length?(0,p.Y)(x.S,{css:cK.section,children:(0,p.Y)(c2,{openSettings:n})}):null]})}function c0(e){var n=(0,p.Y)("a",{tabIndex:0,role:"button",onClick:e.restart,onKeyDown:function(n){"Enter"===n.key&&e.restart()},children:"Restart"});switch(e.state){case 0:return(0,p.Y)(tL.EY,{multiline:!1,color:"dimmer",children:"Loading"});case 1:return(0,p.Y)(tL.EY,{multiline:!1,color:"dimmer",children:"Active"});case 3:return(0,p.FD)(x.S,{css:cK.row,children:[(0,p.Y)(tL.EY,{css:cK.red,multiline:!1,children:"Stalled"})," ",n]});case 2:return(0,p.FD)(x.S,{css:cK.row,children:[(0,p.Y)(tL.EY,{css:cK.red,multiline:!1,children:"Stopped"})," ",n]});default:return null}}function c1(e){var n,t=cH((n=e.languageServerId,(0,h.useMemo)(function(){return(0,nW.eU)(function(e){var t=e(cP).get(n);return t?cJ(t):5})},[n])));switch(t){case 0:case 1:case 2:case 3:return(0,p.FD)(p.FK,{children:[(0,p.Y)(x.S,{css:[cK.header,cK.variableWidth],children:(0,p.Y)(tL.EY,{multiline:!1,children:e.name})}),(0,p.Y)(x.S,{css:[cK.header,cK.staticWidth],children:(0,p.Y)(c0,{restart:e.restart,state:t})})]});default:return null}}function c2(e){return(0,em.g)("codeIntelligence").preferences.codeIntelligence?(0,p.Y)(x.S,{css:cK.header,children:(0,p.Y)(tL.EY,{color:"dimmer",children:"Limited language support because the language server is not available."})}):(0,p.Y)(x.S,{css:cK.header,children:(0,p.FD)(tL.EY,{multiline:!0,color:"dimmer",children:["Code intelligence is disabled. Enable it in settings.",(0,p.Y)("br",{}),(0,p.Y)("a",{tabIndex:0,role:"button",onClick:e.openSettings,onKeyDown:function(n){"Enter"===n.key&&e.openSettings()},children:"Open settings"})]})})}var c3=function(e){return e[e.Loading=0]="Loading",e[e.Ready=1]="Ready",e[e.Exited=2]="Exited",e[e.Stalled=3]="Stalled",e[e.Partial=4]="Partial",e[e.Missing=5]="Missing",e[e.Disabled=6]="Disabled",e}(c3||{});function c4(e){switch(e.state){case 3:case 6:case 4:return(0,p.Y)(cq,{size:16});case 0:return(0,p.Y)(t8.A,{size:16,color:X.LU.blueStronger});case 1:return(0,p.Y)(x.S,{dataCy:"ws-code-intelligence-active",children:(0,p.Y)(cW,{size:16})});case 2:return(0,p.Y)(cj,{size:16});case 5:return(0,p.Y)(cz,{size:16})}}var c5=t(31472),c7=t(15801);function c9(e){var n=e.presentation,t=(0,lV.A)(function(e){return(0,H._)(function(){var n,t,r,a;return(0,B.YH)(this,function(i){switch(i.label){case 0:return[4,e.getRepositoryState()];case 1:if((n=i.sent()).error)return[2,n];if(t=n.type,r=null,t===c5.UN.INITIALIZING)return[3,3];return[4,e.status()];case 2:if((a=i.sent()).error)return[2,a];r=a,i.label=3;case 3:return[2,{branchName:null==r?void 0:r.branch,error:null}]}})})()}),r=!t||t.error?null:t.branchName,a=ck();return(0,h.useEffect)(function(){a("compact"===n&&r?r:null)},[a,n,r]),r?(0,p.FD)(p.FK,{children:[(0,p.Y)(c7.A,{color:X.LU.foregroundDimmer,size:12}),"compact"===n?null:(0,p.Y)(x.S,{children:r})]}):null}function c8(e){if(e.facet(oo.u))return"";var n=e.selection,t="",r=0;if(n.ranges.length>1){r=n.ranges.reduce(function(e,n){return e+(n.to-n.from)},0);var a=n.ranges.length;t="".concat(a," selections")}else{var i=n.ranges[0],o=e.doc.lineAt(i.head),s=i.head-o.from;r=i.to-i.from,t="Ln ".concat(o.number,", Col ").concat(s+1)}return r>0&&(t+=" (".concat(r," chars)")),t}function c6(e){var n=e.view,t=(0,h.useRef)(null);return(0,h.useEffect)(function(){var e,r=t.current,a=null!=(e=n.plugin(so.Pb))?e:null;if(r&&a&&!a.destroyed){var i=null,o=n.state;r.textContent=c8(o);var s=a.bind({changed:function(e){return(0,Q.$H)(e,"selection",oo.u)},callback:function(e){o=e.state,null===i&&(i=requestAnimationFrame(function(){i=null,r.textContent=o?c8(o):""}))}});return function(){s(),null!==i&&cancelAnimationFrame(i),r.textContent=""}}},[n]),(0,p.Y)("span",{ref:t,"data-cy":"current-position"})}var de=t(59771);function dn(e){var n=e.presentation,t=ck();return(0,h.useEffect)(function(){t("compact"===n?"History":null)},[t,n]),(0,p.FD)(p.FK,{children:["compact"===n?null:(0,p.Y)(x.S,{children:"History"}),(0,p.Y)(de.A,{size:12})]})}var dt=t(88231);function dr(e,n,t){var r=[],a=0,i=!0,o=!1,s=void 0;try{for(var l,u=e.iterLines()[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value,d=a;if(a=a+c.length+1,0!==c.length){var f=(0,eP.t)(c,n),p=c.trimStart(),h=d+(c.length-p.length);if(0!==f&&d!==h){var m="";if(t===dt.c.TABS){var v=Math.floor(f/n),g=f%n;m="	".repeat(v)+" ".repeat(g)}else t===dt.c.SPACES&&(m=" ".repeat(f));m+p!==c&&r.push({from:d,to:h,insert:m})}}}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}return K.VR.of(r,e.length)}var da=t(83831),di=t(55775),ds=t(9844),dl=t(73635),du=t(94686),dc=t(94162),dd=(0,Y.x)({menu:[E.wp.maxWidth(410)],file:[E.wp.pl(4),E.wp.display.inlineFlex,E.wp.rowWithGap(4),E.wp.align.center,{verticalAlign:"top"}],section:[E.wp.rowWithGap(8),E.wp.align.center,E.wp.justify.spaceBetween],header:[E.wp.colWithGap(2),E.wp.flex.shrink(1)],sizeInput:{border:"none"}});function df(e){var n,t=e.filePath,r=e.openSettings,a=(0,em.g)("indentDetection","indentSize").preferences,i=(0,C.fZ)(),o=(0,so.Vn)(i,oo.u),s=null!==o&&!!a.indentDetection&&o,l=(0,so.Vn)(i,da._t),u=(0,so.Vn)(i,da.WD),c=(0,so.Vn)(i,da.xu),d=null!=(n=(0,so.Vn)(i,K.$t.tabSize))?n:a.indentSize,f="	"===(0,so.Vn)(i,eG.Xt)?dt.c.TABS:dt.c.SPACES,m=(0,g._)((0,h.useState)(!1),2),v=m[0],y=m[1],w=(0,g._)((0,h.useState)(f),2),_=w[0],S=w[1],A=(0,g._)((0,h.useState)(d),2),k=A[0],Y=A[1],E=(0,g._)((0,h.useState)(!1),2),T=E[0],D=E[1],I=(0,g._)((0,h.useState)(!1),2),R=I[0],N=I[1],O=(0,g._)((0,h.useState)(!1),2),P=O[0],F=O[1],U=(0,g._)((0,h.useState)(!1),2),L=U[0],M=U[1];(0,h.useEffect)(function(){T||(S(f),Y(d))},[f,d,T]),(0,h.useEffect)(function(){v||(S(f),Y(d),D(!1))},[v,f,d]),(0,h.useEffect)(function(){_===f&&k===d&&D(!1)},[_,k,f,d]),(0,h.useEffect)(function(){if(R||P||L){var e=setTimeout(function(){N(!1),F(!1),M(!1)},1e3);return function(){return clearTimeout(e)}}},[R,P,L]),s&&v&&y(!1);var J=(0,h.useCallback)(function(){if(i){var e=dr(i.state.doc,d,f);i.dispatch({changes:e,effects:da.mh.of(!0)}),F(!0)}},[i,f,d]),H=(0,h.useCallback)(function(){i&&(i.dispatch({effects:da.mh.of(!0)}),i.state.field(da.WD)&&i.dispatch({effects:da.SF.of({type:void 0,size:void 0})}),M(!0))},[i]),B=(0,h.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(i){var n=void 0,t=[da.SF.of({type:_,size:k})];if(e){if(_!==f&&(n=dr(i.state.doc,d,_)),_===dt.c.SPACES&&k!==d){var r=function(e,n,t,r){if(n===dt.c.TABS)return K.VR.empty(e.length);var a=" ".repeat(r),i=[],o=0,s=!0,l=!1,u=void 0;try{for(var c,d=e.iterLines()[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=c.value,p=o;if(o=o+f.length+1,0!==f.length){var h=(0,eP.t)(f,t),m=f.trimStart(),v=p+(f.length-m.length);if(0!==h&&p!==v){var g=Math.floor(h/t),b=h%t,y=a.repeat(g)+" ".repeat(b);y+m!==f&&i.push({from:p,to:v,insert:y})}}}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}return K.VR.of(i,e.length)}(n?n.apply(i.state.doc):i.state.doc,_,d,k);n=n?n.compose(r):r}n&&t.push(da.mh.of(!0))}i.dispatch({changes:n,effects:t}),D(!1),N(!0)}},[i,f,d,_,k]),V=(0,h.useCallback)(function(){y(!1),r()},[r]),$=(0,h.useMemo)(function(){if(u){var e=u.size,n=u.type===dt.c.SPACES?"spaces":"tabs";return"This file appears to use a unit of ".concat(e," ").concat(n,".")}return c?"Indentation detection hasn't been run on this file yet.":"This file is too small for indentation detection."},[u,c]);return(0,p.FD)(x.S,{css:dd.menu,p:8,gap:8,children:[(0,p.FD)(tL.Y9,{level:1,children:["Indentation for",(0,p.FD)("span",{css:dd.file,children:[(0,p.Y)(ix.A,{path:t,size:16})," ",(0,p.Y)("span",{children:(0,n_.WP)(t)})]})]}),l?(0,p.Y)(ds.N,{colorway:"warning",icon:(0,p.Y)(sW.A,{}),text:"This file type requires that ".concat(l===dt.c.SPACES?"spaces":"tabs"," be used for indentation.")}):null,(0,p.Y)(c$.a,{}),(0,p.FD)(x.S,{css:dd.section,children:[(0,p.FD)(x.S,{css:dd.header,children:[(0,p.Y)(tL.EY,{multiline:!1,children:"Indentation unit"}),(0,p.Y)(tL.EY,{variant:"small",color:"dimmer",children:"The size and character to use when indenting lines."})]}),(0,p.FD)(x.S,{row:!0,gap:4,children:[(0,p.Y)(di.fq,{css:dd.sizeInput,size:k,onChange:function(e){e!==k&&(Y(e),D(!0))}}),(0,p.Y)(cG.l,{items:(0,b._)(di.pi),selectedItem:di.pi.find(function(e){return e.value===(_===dt.c.SPACES?"spaces":"tabs")}),onChange:function(e){var n=(null==e?void 0:e.value)==="spaces"?dt.c.SPACES:dt.c.TABS;n!==_&&(S(n),D(!0))}})]})]}),(0,p.Y)(c$.a,{}),a.indentDetection?(0,p.FD)(p.FK,{children:[(0,p.FD)(x.S,{css:dd.section,children:[(0,p.FD)(x.S,{css:dd.header,children:[(0,p.Y)(tL.EY,{multiline:!1,children:"Detected indentation unit"}),(0,p.Y)(tL.EY,{variant:"small",color:"dimmer",children:$})]}),L?(0,p.Y)(t5.$n,{colorway:"positive",text:"Detected!",iconLeft:(0,p.Y)(dl.A,{}),onClick:H}):(0,p.Y)(t5.$n,{text:u?"Re-detect":"Detect",iconLeft:(0,p.Y)(rc.A,{}),disabled:!c&&!u,onClick:H})]}),(0,p.Y)(c$.a,{})]}):null,(0,p.FD)(x.S,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,p.Y)(t5.$n,{text:"Global settings",iconLeft:(0,p.Y)(du.A,{}),onClick:V}),(0,p.Y)(x.S,{row:!0,gap:4,children:R||P?(0,p.Y)(p.FK,{children:R?(0,p.Y)(t5.$n,{text:"Saved!",colorway:"positive",iconLeft:(0,p.Y)(dl.A,{}),onClick:function(){return B(!1)}}):(0,p.Y)(t5.$n,{text:"Re-indented!",colorway:"positive",iconLeft:(0,p.Y)(dl.A,{}),onClick:J})}):(0,p.Y)(p.FK,{children:T?(0,p.FD)(p.FK,{children:[(0,p.Y)(t5.$n,{text:"Save and re-indent",colorway:"primary",iconLeft:(0,p.Y)(dc.A,{}),onClick:function(){return B(!0)}}),(0,p.Y)(t5.$n,{text:"Save",iconLeft:(0,p.Y)(dl.A,{}),onClick:function(){return B(!1)}})]}):(0,p.Y)(t5.$n,{text:"Re-indent file",iconLeft:(0,p.Y)(dc.A,{}),onClick:J})})})]})]})}function dp(e){var n,t=e.presentation,r=(0,em.g)("indentDetection","indentSize").preferences,a=(0,C.fZ)(),i=(0,so.Vn)(a,oo.u),o=null!==i&&!!r.indentDetection&&i,s=null!=(n=(0,so.Vn)(a,K.$t.tabSize))?n:r.indentSize,l="	"===(0,so.Vn)(a,eG.Xt)?dt.c.TABS:dt.c.SPACES,u=ck();return(0,h.useEffect)(function(){u("File Indentation")},[u]),(0,p.FD)(p.FK,{children:[(0,p.Y)(dm,{type:l,loading:o}),"compact"===t?null:(0,p.Y)(dv,{type:l,size:s,loading:o})]})}function dh(e){var n=e.size,t=void 0===n?16:n,r=(0,aY._)(e,["size"]);return(0,p.Y)(I.Ay,(0,D._)((0,T._)({size:t},r),{children:(0,p.Y)("circle",{cx:t,cy:t,r:t/2,fillRule:"evenodd"})}))}function dm(e){var n=e.type;return e.loading?(0,p.Y)(t8.A,{size:12}):n===dt.c.SPACES?(0,p.Y)(dh,{color:X.LU.foregroundDimmer,size:12}):(0,p.Y)(dc.A,{color:X.LU.foregroundDimmer,size:12})}function dv(e){var n=e.type,t=e.size;if(e.loading)return(0,p.Y)(tL.EY,{variant:"small",color:"dimmest",children:"Detecting..."});var r=n===dt.c.SPACES?"Spaces":"Tabs";return(0,p.FD)(tL.EY,{variant:"small",color:"dimmer",children:[r,": ",t]})}var dg=t(17437),db=(0,Y.x)({group:[E.wp.align.center,E.wp.rowWithGap(4)]});function dy(e){var n,t,r,a,i,o,s,l=e.filePath,u=e.presentation,c=(n=l,r=(t=(0,g._)((0,h.useState)(null),2))[0],a=t[1],i=(0,ey.A)(n),(0,h.useEffect)(function(){var e=function(e){if(e.path===n){var t=[],r=!0,o=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var c=l.value;c.isOpen(n)&&t.push.apply(t,(0,b._)(c.getDiagnostics(e.path)))}}catch(e){o=!0,s=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw s}}a(t)}},t=[],r=!0,o=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var c=l.value;c.isOpen(n)&&t.push.apply(t,(0,b._)(c.getDiagnostics(n)))}}catch(e){o=!0,s=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw s}}a(t);var d=[],f=!0,p=!1,h=void 0;try{for(var m,v=i[Symbol.iterator]();!(f=(m=v.next()).done);f=!0){var g=m.value;d.push(g.onDiagnostics(function(n){return e(n)}))}}catch(e){p=!0,h=e}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}return function(){d.forEach(function(e){return e()})}},[i,n]),r),d=(0,h.useMemo)(function(){var e,n;return c?(n=(e=c).reduce(function(e,n){return void 0===n.severity||(e[n.severity]=(e[n.severity]||0)+1),e},{}),e.length>0&&0===Object.keys(n).length&&(n[ak.DiagnosticSeverity.Error]=e.length),n):null},[c]),f=d&&null!=(o=d[ak.DiagnosticSeverity.Error])?o:0,m=d&&null!=(s=d[ak.DiagnosticSeverity.Warning])?s:0,v=null===d,y=ck();return((0,h.useEffect)(function(){if(v)return void y(null);var e="";0===f&&0===m&&(e="No problems"),f>0&&(e+="".concat((0,ih.A)("Error",f),": ").concat(f)),m>0&&(e.length>0&&(e+=", "),e+="".concat((0,ih.A)("Warning",m),": ").concat(m)),y(e)},[y,u,v,m,f]),d)?(0,p.FD)(x.S,{align:"center",row:!0,gap:8,children:[(0,p.FD)(x.S,{css:db.group,children:[(0,p.Y)(dg.A,{severity:ak.DiagnosticSeverity.Error,size:12}),"compact"===u?null:(0,p.Y)(tL.EY,{color:"dimmer",variant:"small",multiline:!1,children:String(f)})]}),(0,p.FD)(x.S,{css:db.group,children:[(0,p.Y)(dg.A,{severity:ak.DiagnosticSeverity.Warning,size:12}),"compact"===u?null:(0,p.Y)(tL.EY,{color:"dimmer",variant:"small",multiline:!1,children:String(m)})]})]}):null}var dw=t(6912);function d_(e){var n=e.presentation,t=e.toggled?"Diffing":"Diff",r=ck();return(0,h.useEffect)(function(){r("compact"===n?t:null)},[r,n,t]),(0,p.FD)(p.FK,{children:[(0,p.Y)(dw.A,{color:X.LU.foregroundDimmer,size:12}),"compact"===n?null:(0,p.Y)(x.S,{children:t})]})}var dS=t(72272);function dA(e){return(0,p.Y)(dS.A,(0,D._)((0,T._)({},e),{children:(0,p.Y)("path",{fill:"#009118",fillRule:"evenodd",d:"m15.09 2-.29.29v1.066l.254.255h1.342v1.03L7.52 13.65V3.624h1.475l.303-.304V2.242l-.28-.217H1.255L1 2.28v1.102l.258.258h1.35v18.465l.255.254h1.534l6.467-6.682a.512.512 0 0 1 .006-.016l.335-.939a.49.49 0 0 1 .142-.207l.32-.275a.49.49 0 0 1 .32-.118h.383L23 3.138V2.29L22.71 2h-7.62Zm-3.273 12.693-.183.157-.01.008-.004.012-.014.041-.331.928.25.25h1.083l.274-.276.301-1.035-.215-.215h-1l-.15.13Zm-1.871 2.714-.12.48h.774l-1.66 4.745h2.288l.133-.43h-.65l1.642-4.795H9.946Zm7.498.017-.514.583h-.885l-.546-.566h-1.826l-.149.445h.617l-1.592 4.695h1.914l.129-.38h-.46l1.065-3.355h2.039l-1.164 3.735h1.847l.143-.344h-.457l1.082-3.408h1.953l-1.181 3.752h2.034l.145-.38h-.528l1.31-4.257-.373-.503h-1.473l-.497.547h-.936l-.514-.564h-1.183Z",clipRule:"evenodd"})}))}var dk=(0,Y.x)({text:[{textTransform:"capitalize"}]});function dC(e){var n=e.presentation,r=(0,g._)((0,h.useState)(null),2),a=r[0],i=r[1],o=(0,h.useRef)(null),s=(0,h.useRef)(null),l=ck(),u=(0,C.fZ)(),c=(0,em.g)("keyboardHandler").preferences,d=(null==c?void 0:c.keyboardHandler)==="vim",f=(0,h.useCallback)(function(e){var t=null!=e?e:"";if(u&&a&&void 0===e){var r,i,c=a.getCM(u);t=null!=(i=null==c||null==(r=c.state.vim)?void 0:r.mode)?i:"normal"}l("compact"===n?t:null),s.current=t,o.current&&o.current.innerText!==t&&(o.current.innerText=t||"")},[u,a,l,n]);return(0,h.useEffect)(function(){d&&!a&&t.e(3698).then(t.bind(t,77446)).then(function(e){i(e),f()})},[d,a,f]),(0,h.useEffect)(function(){if(u&&d&&a){var e,n=o.current,t=null!=(e=u.plugin(so.Pb))?e:null;if(n&&t&&!t.destroyed)return t.bind({changed:function(){var e,n,t=a.getCM(u),r=null!=(n=null==t||null==(e=t.state.vim)?void 0:e.mode)?n:"";return s.current!==r},callback:function(){f()}})}},[u,d,a,f]),d?(0,p.FD)(p.FK,{children:[(0,p.Y)(dA,{size:12}),"compact"===n?null:(0,p.Y)("span",{css:dk.text,ref:o})]}):null}var dY=(0,Y.x)({root:[{borderTop:"1px solid ".concat(X.LU.backgroundHigher)},{height:"29px",contain:"strict"}]}),dE=(0,h.memo)(function(e){var n,t,r,a,i,o,s,l,u,c,d,f,m,v,g,b,y,w,_,S,A,k,Y,E=e.filePath,x=e.performPaneOperation,T=(0,h.useCallback)(function(e){return x({operation:"open",pane:e,secondary:!0})},[x]),D=(0,h.useCallback)(function(){return T({type:"preferences"})},[T]),I="None"!==(n=nB())&&"BackendOnly"!==n?{item:(0,p.Y)(cD,{}),popover:(0,p.Y)(cR,{}),key:"ai"}:null,R=(r=(t={filePath:E,openSettings:D}).filePath,a=t.openSettings,{item:(0,p.Y)(cZ,{filePath:r,openSettings:a}),popover:(0,p.Y)(cQ,{openSettings:a,filePath:r}),key:"codeIntelligence"}),N=(i=(0,C.fZ)(),{item:(0,p.Y)(dy,{filePath:E}),onClick:i?function(){return(0,ay.Q)(i)}:void 0,key:"lspDiagnostics"}),O=(o=function(){return T({type:"git"})},(0,nq._P)({controlName:"flag-status-bar-branch",logFlagToAnalytics:!1})?{item:(0,p.Y)(c9,{}),onClick:o,key:"currentBranch"}:null),P=(s=(0,nq._P)({controlName:"flag-editor-git-inline-diff",logFlagToAnalytics:!1}),m=(l=(0,C.fZ)(),u=(0,so.Vn)(l,am),c=!l||!u||null===u.head,d=(null==u?void 0:u.mode)===af.INLINE_DIFF,f={toggle:(0,h.useCallback)(function(){if(!l)return null;l.dispatch({effects:ah.of(d?af.GUTTER_DIFF:af.INLINE_DIFF)})},[l,d]),toggled:d,disabled:c}).toggle,v=f.toggled,g=f.disabled,s&&!g?{item:(0,p.Y)(d_,{toggled:v}),onClick:m,key:"toggleDiff"}:null),F={item:(0,p.Y)(dC,{}),key:"vimMode"},U=(b=(0,C.fZ)())?{item:(0,p.Y)(c6,{view:b}),onClick:function(){return(0,ly.cB)(b)},key:"currentPosition"}:null,L=(w=(y={filePath:E,performPaneOperation:x}).filePath,_=y.performPaneOperation,S=(0,h.useCallback)(function(){_({operation:"replace",pane:{type:"history",data:{path:w}}})},[_,w]),{item:(0,p.Y)(dn,{}),key:"history",onClick:S}),M=(k=(A={filePath:E,openSettings:D}).filePath,Y=A.openSettings,{item:(0,p.Y)(dp,{}),popover:(0,p.Y)(df,{filePath:k,openSettings:Y}),key:"indentation"});return(0,p.Y)(cx,{css:dY.root,left:[I,R,N,O,P,F],right:[U,M,L]})});function dx(e){var n=(0,eS.A)().lspnix;return(0,p.Y)(cV,{filePath:e.filePath,lspnix:n,children:(0,p.Y)(dE,(0,T._)({},e))})}var dT=t(11257),dD=(0,Y.x)({root:[E.wp.position.relative,E.wp.flex.column,E.wp.overflowY("hidden"),E.wp.width("100%"),E.wp.height("100%")]});function dI(e){var n=(0,h.useRef)(null),t=(0,A.A)(),r=(0,v.jt)(),a=(0,ru.hT)(),i=r&&(a===m.g32.AGENT_STATE_RUNNING||a===m.g32.AGENT_STATE_PAUSING),o=(0,dT.E)();return(0,p.FD)(x.S,{innerRef:n,css:dD.root,children:[o?null:(0,p.Y)(J.I,{performPaneOperation:e.performPaneOperation,path:e.filePath,isReadOnly:e.isReadOnly}),(0,p.Y)("div",{css:u7.jy,children:(0,p.Y)(cs,{filePath:e.filePath,hideMobileKeyboardToolbar:e.hideMobileKeyboardToolbar,isHidden:e.isHidden,isReadOnly:i,isReadOnlyWhileAgentWorking:i,deeplink:e.deeplink,onDeeplinkUpdated:e.onDeeplinkUpdated,performPaneOperation:e.performPaneOperation})}),(0,p.Y)("div",{style:{display:t?"none":"block"},children:(0,p.Y)(dx,{filePath:e.filePath,performPaneOperation:e.performPaneOperation})}),e.hideMobileKeyboardToolbar?null:(0,p.Y)(M,{filePath:e.filePath,isLoading:!1})]})}},86197:(e,n,t)=>{"use strict";t.d(n,{mj:()=>f,xo:()=>p,Qq:()=>g,l8:()=>m,Nn:()=>v});var r=t(17844),a=t(93629),i=t(86105),o=t(63806),s=t(95793);function l(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.map(function(e){return e.match(/["\s]/)&&!e.match(/'/)?"'".concat(e.replace(/(['\\])/g,"\\$1"),"'"):e.match(/["'\s]/)?'"'.concat(e.replace(/(["\\$`!])/g,"\\$1"),'"'):e.replace(/[#!"$&'()*,:;<=>?@[\\\]^`{|}]/g,"\\$&")}).join(" ")}var u=t(11960),c=t(85011),d=t(60594).Buffer,f=524288;function p(){var e="",n=new Map;return function(t){var i=new Set,o=!1;if(t.trim().startsWith("error"))return{error:c.F.INVALID_COMMAND,filesMap:n,filesMapChanges:i};var l=t.indexOf("\n"),u=0,d=e+t;if(l>=0)l+=e.length;else{e=d;return}for(;l>=0;){var f=d.substring(u,l).trim();if(0!==f.length){var p=function(e){try{return JSON.parse(e)}catch(e){return null}}(f);p&&!function(e,n,t){switch(e.type){case"begin":var i=h(e.data.path);if(!i)return!1;n.set(i,{path:i,lines:[],dedentBy:0}),t.add(i);break;case"end":break;case"match":case"context":var o=h(e.data.path);if(!o)return!1;t.add(o);var l=n.get(o);if(!l)return!1;var u=function(e,n){var t,i,o=h(e.data.lines);if(!o)return null;var s=o.trimEnd().split(/\r?\n/),l=[];(null==(t=s[0])?void 0:t.trim())===""&&s.shift(),(null==(i=s[s.length-1])?void 0:i.trim())===""&&s.pop();var u=0,c=0,d=e.data.submatches;return s.forEach(function(n,t){var r=e.data.line_number+t,a=c;c+=n.length+1;for(var i=[];u<d.length;){var o=d[u];if(o.start>=c)break;var s=o.start-a,f=void 0;if(f=o.end<c?o.end-o.start:o.end===c?o.end-o.start-1:n.length-s,s<n.length&&i.push({start:s,length:f}),o.end>c){o.start=c;break}u++}l.push({lineNumber:r,content:n,matches:i})}),(0,a._)((0,r._)({},n),{lines:n.lines.concat(l)})}(e,l);u&&n.set(o,u);break;case"error":return s.vF.error("Invalid Search Line",{line:JSON.stringify(e)}),!1}return!0}(p,n,i)&&(o=!0)}u=l+1,l=d.indexOf("\n",u)}return e=d.substring(u),{error:o?c.F.INVALID_LINE:null,filesMap:n,filesMapChanges:i}}}function h(e){return e?"bytes"in e?d.from(e.bytes,"base64").toString():e.text:null}function m(e){var n,t=e.lines.length>0?(n=Math).min.apply(n,(0,i._)(e.lines.map(function(e){return e.content.match(/^[\t ]+/)}).flat().map(function(e){return(null==e?void 0:e.length)||0}))):0;return(0,a._)((0,r._)({},e),{dedentBy:t})}function v(e,n,t){for(var r=(0,i._)(e),a=new Set,o=0;o<r.length;o++){var s=r[o].path,l=n.get(s);t.has(s)&&l&&(r[o]=l,a.add(s))}var u=!0,c=!1,d=void 0;try{for(var f,p=t[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value,m=n.get(h);!a.has(h)&&m&&r.push(m)}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}return r}function g(e){var n=e.mode,t=e.query,r=e.context,a=e.isRegex,s=e.isCaseSensitive,c=e.isMatchingWholeWords,d=e.includeGlobs,p=e.excludeGlobs,h=void 0===p?(0,i._)(o.TJ):p,m=["rg"];switch(n){case"json":m.push("--json");break;case"files":m.push("--files-with-matches")}return null!==r&&m.push("--context","".concat(r)),t.includes("\n")&&m.push("--multiline"),a||m.push("--fixed-strings"),m.push("--max-count","100"),m.push("--max-filesize","4M"),m.push("--max-depth","24"),m.push("--max-columns","512"),m.push("--max-columns-preview"),m.push(s?"--case-sensitive":"--ignore-case"),m.push("--hidden"),c&&m.push("--word-regexp"),m.push.apply(m,(0,i._)((0,u.F4)(d,h))),m.push("--",t),function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return["sh","-c","".concat(l.apply(void 0,(0,i._)(e))," | head -c ").concat(n)]}(m)}},86210:(e,n,t)=>{"use strict";t.d(n,{W:()=>s,z:()=>o});var r=t(53847),a=t(21462),i=new(t(32978)).N(new Map);function o(e){var n=e.type,t=e.position,o=void 0===t?"bottom":t,s=(0,a.useRef)(null);return(0,a.useEffect)(function(){var e=s.current;if((0,r._)(e,HTMLElement))return i.update(function(t){var r=new Map(t);return r.set(n,{element:e,position:o}),r}),function(){i.update(function(t){var r,a=new Map(t);return(null==(r=a.get(n))?void 0:r.element)===e&&a.delete(n),a})}},[n,o]),s}function s(e){var n=i.current.get(e);return null!=n?n:null}},87348:e=>{e.exports={emptyState:"ConnectedAppsTable_emptyState__2ztE4",replLink:"ConnectedAppsTable_replLink__uwYK_"}},87733:(e,n,t)=>{"use strict";t.d(n,{A:()=>I});var r=t(29935),a=t(12694),i=t(82643),o=t(34837),s=t(21462),l=t(17844),u=t(12584),c=t(41114),d=t(54744),f=t(39590);function p(){var e=(0,u._)(["\n  query GetReplShieldStatus($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        isReplShieldEnabled\n        authorizations {\n          editDevUrlPrivacy {\n            isAuthorized\n            message\n          }\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return p=function(){return e},e}function h(){var e=(0,u._)(["\n  mutation ToggleReplShield($input: SetReplShieldInput!) {\n    setReplShield(input: $input) {\n      ... on Repl {\n        id\n        isReplShieldEnabled\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return h=function(){return e},e}var m={},v=(0,c.J1)(p()),g=(0,c.J1)(h()),b=t(44411),y=t(7017),w=t(35897),_=t(61125),S=t(6530),A=t(70764),k=t(18712),C=t(14972),Y=t(91953),E=t(90233),x=t(25227),T=t(63368),D=(0,A.x)({titleRow:[k.wp.gap(8),k.wp.align.center]});function I(){var e,n,t,u,c,p,h,A,I,R,N=(0,w.A)().showError,O=(0,_.A)(),P=(0,a._)((0,s.useState)(null),2),F=P[0],U=P[1],L=(0,S.nL)().forceRemint,M=(0,y.ET)(),J=M.loading,H=M.orgId,B=!J&&!H,V=(e={variables:{replId:O},skip:!O},n=(0,l._)({},m,e),d.I(v,n)),$=V.data,G=V.loading,z=(0,a._)((t=(0,l._)({},m,void 0),f.n(g,t)),2),W=z[0],j=z[1].loading,q=(null==$||null==(u=$.getRepl)?void 0:u.__typename)==="Repl"&&$.getRepl.isReplShieldEnabled,Z=(null==$||null==(c=$.getRepl)?void 0:c.__typename)==="Repl"&&(null==(h=$.getRepl.authorizations)||null==(p=h.editDevUrlPrivacy)?void 0:p.isAuthorized),K=(null==$||null==(A=$.getRepl)?void 0:A.__typename)==="Repl"&&(null==(R=$.getRepl.authorizations)||null==(I=R.editDevUrlPrivacy)?void 0:I.message),Q=null!==F?F:q;return(0,o.Y)(x.S,{p:4,children:(0,o.FD)(x.S,{row:!0,justify:"space-between",children:[(0,o.FD)(x.S,{gap:4,children:[(0,o.FD)(x.S,{css:D.titleRow,row:!0,children:[(0,o.Y)(Y.EY,{children:"Private Dev URL"}),B?(0,o.Y)(T.A,{plan:"Teams",size:"small",tooltipProps:{description:"Private Dev URL is only available on Replit ".concat(b.$B,".")}}):null]}),(0,o.Y)(Y.EY,{variant:"small",css:k.wp.color.foregroundDimmer,children:"Restrict Dev URL access to authenticated editors only."}),(0,o.Y)(Y.EY,{variant:"small",css:k.wp.color.foregroundDimmer,children:"When this option is disabled, anyone with the Dev URL can access your app preview."})]}),(0,o.Y)(x.S,{row:!0,align:"center",children:(0,o.Y)(E.m_,{tooltip:j?"Loading...":G?"Loading status...":Z?B?"Private Dev URL is only available on Replit ".concat(b.$B,"."):"Toggle to ".concat(Q?"disable":"enable"," private dev URL"):K||"You do not have permission to change this setting",children:(0,o.Y)(x.S,{children:(0,o.Y)(C.d,{"aria-label":"Toggle private dev URL",isSelected:Q,onChange:function(){return(0,r._)(function(){var e,n,t,r,a,o,s;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(!O||!Z)return[2];U(!Q),i.label=1;case 1:return i.trys.push([1,6,,7]),[4,W({variables:{input:{replId:O,isEnabled:!Q}},refetchQueries:[{query:v,variables:{replId:O}}]})];case 2:if((null==(n=(s=i.sent()).data)||null==(e=n.setReplShield)?void 0:e.__typename)!=="UserError"&&(null==(r=s.data)||null==(t=r.setReplShield)?void 0:t.__typename)!=="NotFoundError"&&(null==(o=s.data)||null==(a=o.setReplShield)?void 0:a.__typename)!=="UnauthorizedError")return[3,3];return N(s.data.setReplShield.message),U(null),[3,5];case 3:return[4,L()];case 4:i.sent(),i.label=5;case 5:return[3,7];case 6:return i.sent(),N("Failed to toggle configuration"),U(null),[3,7];case 7:return[2]}})})()},isDisabled:j||G||!Z||B,colorway:Q?"positive":"primary"})})})})]})})}},87773:(e,n,t)=>{"use strict";t.d(n,{f:()=>r});var r=new Map([["envEditor",["Environment variables"]],["ghostwriterChat",["Chat",{alias:"Ghostwriter",prefix:"previously"}]],["shell",["Terminal"]],["objectStorage",[{alias:"Object Storage",prefix:"previously"},"Blobject Storage","Blob Cloud"]],["integrations",["Cloud Services","OpenAI","Slack"]],["agentProgress",["Agent Progress","AI Agent","Preview","Output","Webview"]],["neon",[{alias:"Supabase",prefix:"similar to"}]],["webview",["Preview","Output",{alias:"Webview",prefix:"previously"}]],["deployments",[{alias:"Deployments",prefix:"previously"}]],["preferences",["Sound","Chime","Notifications","Audio","Settings"]]])},87929:(e,n,t)=>{"use strict";t.d(n,{A:()=>S});var r=t(12694),a=t(34837),i=t(21462),o=t(77355),s=t(11901),l=t(12466),u=t(39534),c=t(70764),d=t(18712),f=t(40756),p=t(83096),h=t(70251),m=t(9844),v=t(91953),g=t(25227),b=t(43193),y=t(90843),w=(0,c.x)({repls:[d.wp.maxHeight("60vh"),d.wp.overflow("auto"),{"& > div":[d.wp.py(8),{borderTop:"1px solid "+u.LU.outlineDimmest}],"& > div:last-of-type":{borderBottom:"1px solid "+u.LU.outlineDimmest}}],row:[d.wp.colWithGap(8)]}),_=function(e){var n,t=e.repl,s=e.onConfirmedChange,u=(0,r._)((0,i.useState)(""),2),c=u[0],d=u[1],f=(null==(n=t.hostingDeployment)?void 0:n.__typename)==="HostingDeployment"?t.hostingDeployment:null,h=(0,i.useRef)(!1),b=(null==f?void 0:f.replitAppSubdomain)?f.replitAppSubdomain:t.title;return(0,a.FD)(g.S,{gap:8,children:[(0,a.FD)(g.S,{row:!0,gap:8,align:"center",children:[(0,a.Y)(l.Ay,{size:24,iconUrl:t.iconUrl,alt:""}),(0,a.Y)(v.EY,{height:"singleLine",multiline:!1,children:t.title}),f?(0,a.Y)(o.y,{deployment:f}):null]},t.id),f?(0,a.FD)(a.FK,{children:[(0,a.Y)(m.N,{icon:(0,a.Y)(y.A,{}),colorway:"red",text:"This App has been deployed. If you delete this App, the associated\nproduction deployment will also be shut down and deleted. To\nproceed, please type: ".concat(b)}),(0,a.Y)(p.pd,{placeholder:"Type here",value:c,onChange:function(e){var n=e.currentTarget.value;d(n);var t=n.trim()===b;t!==h.current&&s(t),h.current=t}})]}):null]})};let S=function(e){var n=e.selectedRepls,t=e.isOpen,o=e.onClose,l=e.onDelete,u=e.deleting,c=n.length,d=(0,s.A)("App",c),p=n.filter(function(e){var n;return(null==(n=e.hostingDeployment)?void 0:n.__typename)==="HostingDeployment"}).length,m=(0,s.A)("Deployment",p),y=p>0?" & ".concat(p>1?p+" ":""," ").concat(m):"",S=(0,r._)((0,i.useState)(0),2),A=S[0],k=S[1];return(0,i.useEffect)(function(){t||k(0)},[t]),(0,a.Y)(h.a,{isOpen:t,onRequestClose:o,children:(0,a.FD)(g.S,{gap:16,children:[(0,a.FD)(v.Y9,{variant:"subheadBig",level:2,children:["Delete ",d,p>0?" & ".concat(m):"","?"]}),(0,a.Y)(v.EY,{color:"dimmer",children:"Are you sure? This cannot be undone. Some Apps may take a few minutes to finish deleting."}),(0,a.Y)(g.S,{css:w.repls,children:n.map(function(e){return(0,a.Y)(_,{css:w.row,repl:e,onConfirmedChange:function(e){return k(function(n){return n+(e?1:-1)})}},e.id)})}),(0,a.FD)(g.S,{row:!0,gap:12,justify:"end",children:[(0,a.Y)(f.$n,{text:"Cancel",onClick:o,disabled:u}),(0,a.Y)(f.$n,{iconLeft:(0,a.Y)(b.A,{}),onClick:l,disabled:u||A<p,text:"Yes, delete ".concat(c>1?c+" ":""," ").concat(d).concat(y),colorway:"negative"})]})]})})}},87968:e=>{e.exports={tableWrapper:"StaticTable_tableWrapper__kw9Ou",tableWrapperBorderless:"StaticTable_tableWrapperBorderless__fFmWs",table:"StaticTable_table__ZJ7xa",tableHeader:"StaticTable_tableHeader__HYoq6",tableRow:"StaticTable_tableRow__fwMKI",tableCell:"StaticTable_tableCell__rNt9J",screenReaderOnly:"StaticTable_screenReaderOnly__DPP5J"}},88018:e=>{e.exports={playbackElement:"ReplayContent_playbackElement__KiGA6",playbackElementInner:"ReplayContent_playbackElementInner__5zLcQ",isBlurred:"ReplayContent_isBlurred__gxSH0",previewWrapper:"ReplayContent_previewWrapper__Xknk4",playIcon:"ReplayContent_playIcon__d3RCE",history:"ReplayContent_history__RcnlU",historyElementButton:"ReplayContent_historyElementButton__Ii2mm",historyElement:"ReplayContent_historyElement__F8XLj",isActive:"ReplayContent_isActive__ipyZ6"}},88206:(e,n,t)=>{"use strict";t.d(n,{N:()=>o,v:()=>s});var r=t(76957),a=t(79203),i=(0,r.eU)(!1);function o(){return(0,a.Xr)(i)}function s(){return(0,a.md)(i)}},88521:(e,n,t)=>{"use strict";t.d(n,{A:()=>m});var r=t(12694),a=t(21462),i=t(17844),o=t(12584),s=t(41114),l=t(39590);function u(){var e=(0,o._)(["\n  mutation ReplFsUpdated($replId: String!) {\n    updateReplTimeUpdated(id: $replId) {\n      ... on Repl {\n        id\n        timeUpdated\n      }\n    }\n  }\n"]);return u=function(){return e},e}var c={},d=(0,s.J1)(u()),f=t(16732),p=t(71696),h=t(40115);function m(){var e,n,t,o,s,u,m,v=(0,r._)((e=(0,i._)({},c,void 0),l.n(d,e)),1)[0],g=(0,h.A)().fs,b=(o=(0,h.A)().container,u=(s=(0,r._)((0,a.useState)(null!=(t=null==(n=o.getContext())?void 0:n.repl)?t:null),2))[0],m=s[1],(0,a.useEffect)(function(){return o.onConnectionStateChanged(function(e){var n,t;e===p.KN.CONNECTED&&m(null!=(t=null==(n=o.getContext())?void 0:n.repl)?t:null)})},[m,o]),u),y=null==b?void 0:b.authorizations.editFileContents.isAuthorized,w=null==b?void 0:b.id;(0,a.useEffect)(function(){if(y&&w){var e=(0,f.A)(function(){return v({variables:{replId:w}})},{wait:6e4,maxWait:6e5}),n=g.onStatusChange(function(){e()});return function(){e.isScheduled()&&e.flush(),n()}}},[g,w,y,v])}},88686:e=>{e.exports={root:"SecurityScan_root__FoWMF",lastScanSummaryContainer:"SecurityScan_lastScanSummaryContainer__JF03e",lastScanSummaryText:"SecurityScan_lastScanSummaryText__LxVMS",ignoredIssuesContainer:"SecurityScan_ignoredIssuesContainer__hdcVi",ignoredIssuesText:"SecurityScan_ignoredIssuesText__0_pe9"}},88769:(e,n,t)=>{"use strict";function r(e,n,t,r){var a=t-n;return{start:{x:(n+1)%r.cols,y:e+Math.floor((n+1)/r.cols)},end:{x:(n+a)%r.cols,y:e+Math.floor((n+a)/r.cols)}}}function a(e,n,t){var r,a,i="";do{var o=t.buffer.active.getLine(e);if(!o)break;o.isWrapped&&e--,a=o.isWrapped}while(a);var s=e;do{var l=t.buffer.active.getLine(e+1);r=!!l&&l.isWrapped;var u=t.buffer.active.getLine(e);if(!u)break;i+=u.translateToString(!r&&n).substring(0,t.cols),e++}while(r);return[i,s]}t.d(n,{W:()=>r,z:()=>a})},89370:e=>{e.exports={buttonGroup:"SendAgentMessageButtonGroup_buttonGroup__iSTWl",buttonGroupLeft:"SendAgentMessageButtonGroup_buttonGroupLeft__9k7Ea",buttonGroupDivider:"SendAgentMessageButtonGroup_buttonGroupDivider__s807N",buttonGroupRight:"SendAgentMessageButtonGroup_buttonGroupRight__MdvIK"}},89385:(e,n,t)=>{"use strict";t.d(n,{A:()=>f});var r=t(46434),a=t(29935),i=t(53847),o=t(82643),s=t(21462),l=t(39938),u=t(45620),c=t(47727);function d(){(0,i._)(document.activeElement,HTMLElement)&&document.activeElement.blur()}function f(e){var n=e.fs,t=e.openMultipleFiles,i=e.openMultipleURLs,f=e.waitForFileClose,p=e.isMobileWorkspace,h=void 0!==p&&p,m=(0,l.A)(f),v=(0,s.useCallback)(function(e){var r=e.filename,i=e.waitForClose;return(0,a._)(function(){var e;return(0,o.YH)(this,function(a){switch(a.label){case 0:if(!h)return[3,2];if(!r.endsWith(".git/COMMIT_EDITMSG"))return t({paths:[r]}),[2];return e=window.prompt("Enter a commit message"),[4,n.writeFile(r,null!=e?e:"")];case 1:case 4:return a.sent(),[2];case 2:if(d(),t({paths:[r]}),!i||!m.current)return[2];return[4,m.current(r)];case 3:return a.sent(),[4,n.flush()]}})})()},[n,h,t,m]);(0,u.b)(function(e,n){var s=n.session,l=n.signal;return(0,a._)(function(){var n,a,u,f,p,h,m,g,b,y,w,_,S,A;return(0,o.YH)(this,function(o){switch(o.label){case 0:a=(n=e.replspaceApi.init.stream({session:s.from},{signal:l})).reqWritable,u=n.resReadable,f=!1,p=!1,o.label=1;case 1:o.trys.push([1,12,13,18]),m=(0,r._)(u),o.label=2;case 2:return[4,m.next()];case 3:if(!(f=!(g=o.sent()).done))return[3,11];if(!(b=g.value).ok)return[3,10];switch(b.payload.$kind){case"openFile":return[3,4];case"openMultipleFiles":return[3,6];case"openMultipleURLs":return[3,7];case"getSSHToken":return[3,8]}return[3,10];case 4:return[4,v(b.payload)];case 5:return o.sent(),b.payload.waitForClose&&a.write({$kind:"closeFile",filename:b.payload.filename,nonce:b.payload.nonce}),[3,10];case 6:return b.payload.files.length>0&&(d(),t({paths:b.payload.files})),[3,10];case 7:return b.payload.urls.length>0&&(d(),i({urls:b.payload.urls})),[3,10];case 8:return w=(y=b.payload).nonce,_=y.replId,[4,(0,c.p)({replId:_})];case 9:return"success"!==(S=o.sent()).type?a.write({$kind:"sshToken",nonce:w,error:S.message}):a.write({$kind:"sshToken",nonce:w,token:S.data.token,SSHHostname:S.data.ssh_hostname}),[3,10];case 10:return f=!1,[3,2];case 11:return[3,18];case 12:return A=o.sent(),p=!0,h=A,[3,18];case 13:if(o.trys.push([13,,16,17]),!(f&&null!=m.return))return[3,15];return[4,m.return()];case 14:o.sent(),o.label=15;case 15:return[3,17];case 16:if(p)throw h;return[7];case 17:return[7];case 18:return[2]}})})()},[i,t,v])}},89504:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(12694),a=t(17739),i=t(98444);function o(e){var n=e.addAttachments,t=(0,r._)((0,a.H)(function(){return{accept:[i.FILE],drop:function(e){e.dirContent.then(function(e){n(e.filter(function(e){return".DS_Store"!==e.name}).map(function(e){return{fileName:e.name,file:e}}))})},collect:function(e){return{isOver:!0===e.isOver()}}}}),2);return{isDraggedOver:t[0].isOver,drop:t[1]}}},89660:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.FD)(o.Ay,(0,a._)((0,r._)({},e),{children:[(0,i.Y)("path",{fillRule:"evenodd",d:"M1.25 5A2.75 2.75 0 0 1 4 2.25h4.999c.251 0 .485.126.625.334L11.4 5.25H20A2.75 2.75 0 0 1 22.75 8v2.5a.75.75 0 0 1-1.5 0V8c0-.69-.56-1.25-1.25-1.25h-9a.751.751 0 0 1-.625-.335L8.598 3.75H4c-.69 0-1.25.56-1.25 1.25v14c0 .69.56 1.25 1.25 1.25h5a.75.75 0 0 1 0 1.5H4A2.75 2.75 0 0 1 1.25 19V5Z",clipRule:"evenodd"}),(0,i.Y)("path",{fillRule:"evenodd",d:"M12.472 17.646a.854.854 0 0 0 0 1.208l3.696 3.696a.854.854 0 0 0 1.208-1.209l-3.092-3.091 3.092-3.091a.855.855 0 0 0-1.208-1.209l-3.696 3.696Z",clipRule:"evenodd"}),(0,i.Y)("path",{fillRule:"evenodd",d:"m17.646 18.854 3.695 3.696a.854.854 0 0 0 1.209-1.209l-3.092-3.091 3.092-3.091a.854.854 0 1 0-1.209-1.209l-3.695 3.696a.854.854 0 0 0 0 1.208Z",clipRule:"evenodd"})]}))}},89742:(e,n,t)=>{"use strict";t.d(n,{B:()=>a});var r=t(90629);function a(e,n){return r.v4(function(t){t.setTag("start-with-ai",!0),n&&t.setExtras(n),r.Cp(e)}),e}},90112:e=>{e.exports={root:"AgentQueryResponseDialog_root__V8pwz",radioOption:"AgentQueryResponseDialog_radioOption__uCrfN",reasonField:"AgentQueryResponseDialog_reasonField__CtcVU",multilineInput:"AgentQueryResponseDialog_multilineInput__RKxa3",responseSubmissionRow:"AgentQueryResponseDialog_responseSubmissionRow__EUy7I",button:"AgentQueryResponseDialog_button__DMt4y"}},90402:(e,n,t)=>{"use strict";t.d(n,{Hn:()=>d,dz:()=>o,fZ:()=>c});var r=t(21462),a=t(76957),i=t(79203),o=(0,r.createContext)(null),s=(0,a.eU)(null),l=(0,a.eU)(null,function(e,n,t){n(s,t)});function u(){var e=(0,r.useContext)(o);if(!e)throw Error("Expected store in context");return e}function c(){return(0,i.md)(s,{store:u()})}function d(e){var n=(0,i.md)(s,{store:u()}),t=(0,i.Xr)(l,{store:u()});(0,r.useEffect)(function(){n!==e&&t(e)},[e,n,t])}},90689:(e,n,t)=>{"use strict";t.d(n,{L:()=>a,M:()=>i});var r=t(49069),a=r.Pe.define(),i=r.Pe.define()},90830:(e,n,t)=>{"use strict";t.d(n,{D:()=>o});var r=t(74651),a=t(42028),i=r.ZU.Object({type:r.ZU.Literal("config"),flow:r.ZU.Union([r.ZU.Literal("githubImport"),r.ZU.Literal("incompleteConfig")])}),o=function(e){return a.T(i,e)}},90960:(e,n,t)=>{"use strict";t.d(n,{H3:()=>h,NP:()=>v,lb:()=>f});var r=t(17844),a=t(12584),i=t(41114),o=t(39590),s=t(57933);function l(){var e=(0,a._)(["\n  fragment CreateProjectBeforeForkReplContext on Repl {\n    id\n    title\n    description\n    publishedAs\n    user {\n      id\n      username\n    }\n    deployment {\n      activeRelease {\n        id\n      }\n    }\n    org {\n      id\n    }\n  }\n"]);return l=function(){return e},e}function u(){var e=(0,a._)(["\n  mutation CreateProjectBeforeFork($input: CreateProjectInput!) {\n    createProject(input: $input) {\n      __typename\n      ... on Error {\n        message\n      }\n      ... on Project {\n        id\n        mainRepl {\n          id\n          project {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}function c(){var e=(0,a._)(["\n  query CreateProjectCheckForProject($id: String!) {\n    getRepl(id: $id) {\n      ... on Repl {\n        id\n        project {\n          id\n        }\n      }\n    }\n  }\n"]);return c=function(){return e},e}var d={},f=(0,i.J1)(l()),p=(0,i.J1)(u());function h(e){var n=(0,r._)({},d,e);return o.n(p,n)}var m=(0,i.J1)(c());function v(e){var n=(0,r._)({},d,e);return s._(m,n)}},90984:(e,n,t)=>{"use strict";t.d(n,{E:()=>l,w:()=>s});var r=t(21462),a=t(86035),i=t(80719),o=t(69832);function s(){var e=(0,i.NC)(),n=(0,o.J2)(e.sessions.agent.current);return(0,r.useMemo)(function(){return null==n?void 0:n.reduce(u,1).result},[n])}function l(e){var n=s();(0,o.q3)(n,{next:function(n){n.toPresent&&e(n.toPresent.toolData,n.toPresent.eventId)}})}var u={direction:"reverse",state:{toPresent:void 0},reducer:function(e,n){if(e.sender.type!==a.utd.AI)return!1;var t=e.contents.contents;if((null==t?void 0:t.$kind)==="agentTimelineEventContents"){var r=t.agentTimelineEventContents.toolData;switch(null==r?void 0:r.$kind){case"presentResultsToolData":return n.toPresent={toolData:{$kind:"presentResultsToolData",data:r.presentResultsToolData},eventId:e.id},!1;case"deployData":return n.toPresent={toolData:{$kind:"deployData",data:r.deployData},eventId:e.id},!1}}}}},91076:(e,n,t)=>{"use strict";t.d(n,{s:()=>r});var r=function(e){return e.Visited="visited",e.LanguageChanged="language-changed",e.ImportStarted="import-started",e.ImportEnded="import-ended",e.ConfigDone="config-done",e}({})},91242:(e,n,t)=>{"use strict";t.d(n,{A:()=>Y});var r=t(12694),a=t(86105),i=t(34837),o=t(21462),s=t(17997),l=t(34778),u=t(29806),c=t(70764),d=t(18712),f=t(83031),p=t(16653),h=t(73455),m=t(3937),v=t(91953),g=t(90233),b=t(25227),y=t(74013),w=t(85801),_=t(33683),S=t(43193),A=(0,c.x)({module:[d.wp.borderRadius(4),d.wp.width("100%"),d.wp.overflow("hidden")],submoduleName:[d.wp.truncate,d.wp.mx(8),d.wp.flex.growAndShrink(1)],moduleActions:[d.wp.center],divider:[d.wp.backgroundColor.outlineDimmer]});function k(e){var n=e.isModifying,t=e.isInstalled,r=e.onInstallClick,a=e.onRemoveClick,o=e.module;if(n)return(0,i.Y)(h.K0,{alt:"Updating module",tooltipBehavior:"hidden",children:(0,i.Y)(_.A,{})});if(t){var s="replit"===o.id;return(0,i.Y)(h.K0,{alt:s?"The base module can't be removed":"Remove module",disabled:s,onClick:a,children:(0,i.Y)(S.A,{})})}return(0,i.Y)(h.K0,{alt:"Add module",onClick:r,children:(0,i.Y)(y.A,{})})}function C(e){var n=e.module,t=e.isInstalled,a=(0,s.G)(),u=a.addModule,c=a.removeModule,d=(0,r._)((0,o.useState)(!1),2),f=d[0],p=d[1];return(0,o.useEffect)(function(){p(!1)},[t]),(0,i.FD)(b.S,{grow:!0,shrink:!0,row:!0,justify:"space-between",children:[(0,i.FD)(b.S,{row:!0,gap:12,children:[(0,i.Y)(v.EY,{children:n.name}),n.displayVersion?(0,i.Y)(v.EY,{color:"dimmer",children:n.displayVersion}):null]}),(0,i.FD)(b.S,{css:A.moduleActions,row:!0,gap:4,children:[n.description?(0,i.Y)(g.m_,{tooltip:n.description,children:(0,i.Y)(w.A,{})}):null,(0,i.Y)(k,{module:n,isInstalled:t,isModifying:f,onInstallClick:function(){p(!0),u(n.id),(0,l.u4)(l.AZ.NIX_MODULE,{action:"added",moduleId:n.id})},onRemoveClick:function(){p(!0),c(n.id),(0,l.u4)(l.AZ.NIX_MODULE,{action:"removed",moduleId:n.id})}})]})]})}function Y(e){var n=e.module,t=e.defaultExpanded,r=e.isInstalled,o=(0,a._)(n.runners).concat((0,a._)(n.packagers),(0,a._)(n.formatters),(0,a._)(n.languageServers));return(0,i.Y)(m.ui,{elevated:!0,css:A.module,children:(0,i.FD)(f.A,{round:!1,defaultExpanded:t,headerContent:(0,i.Y)(C,{module:n,isInstalled:r}),children:[o.length>0?(0,i.Y)(p.a,{css:A.divider}):null,o.map(function(e){return(0,i.FD)(b.S,{p:4,row:!0,align:"center",children:[(0,i.Y)(u.A,{module:e}),(0,i.Y)(v.EY,{css:A.submoduleName,children:e.name}),e.displayVersion?(0,i.Y)(v.EY,{color:"dimmer",children:e.displayVersion}):null]},e.id)})]})})}},91467:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M2.476 2.463a.75.75 0 0 1 .845-.14l19 9a.75.75 0 0 1 0 1.355l-19 9a.75.75 0 0 1-1.006-.983L6.179 12 2.315 3.305a.75.75 0 0 1 .161-.842ZM7.487 12.75l-2.98 6.706 14.158-6.706H7.487Zm11.178-1.5H7.487l-2.98-6.706 14.158 6.706Z",clipRule:"evenodd"})}))}},91616:(e,n,t)=>{"use strict";t.d(n,{Y:()=>y,O:()=>b});var r=t(29935),a=t(12694),i=t(22531),o=t(82643),s=t(17844),l=t(12584),u=t(41114),c=t(39590);function d(){var e=(0,l._)(["\n  mutation SetUserKeybindings($input: SetUserKeybindingsInput!) {\n    setUserKeybindings(input: $input) {\n      ... on Keybindings {\n        keybindings\n      }\n    }\n  }\n"]);return d=function(){return e},e}var f={},p=(0,u.J1)(d()),h=t(860),m=t(58124),v=t(9092),g=t(11756);function b(){var e,n=(0,m.v)(),t=(0,a._)((e=(0,s._)({},f,void 0),c.n(p,e)),1)[0],i=(0,g.V)();return(0,h.A)(function(){return function(e){return(0,r._)(function(){var r,s,l,u,c,d,f,p,h;return(0,o.YH)(this,function(o){switch(o.label){case 0:r=[],s=!0,l=!1,u=void 0;try{for(c=e[Symbol.iterator]();!(s=(d=c.next()).done);s=!0)p=(f=(0,a._)(d.value,2))[0],h=f[1],r.push({commandId:p,keyCombo:h})}catch(e){l=!0,u=e}finally{try{s||null==c.return||c.return()}finally{if(l)throw u}}return[4,t({variables:{input:{environment:n,platform:i,keybindings:r}}})];case 1:return o.sent(),[2]}})})()}},[n,t,i])}function y(e){var n=new Map;if(!Array.isArray(e))return n;var t=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var l=o.value,u=function(e){if(e&&(void 0===e?"undefined":(0,i._)(e))==="object"&&"commandId"in e&&"string"==typeof e.commandId&&"keyCombo"in e){if(Array.isArray(e.keyCombo)){var n=(0,v.by)(e.keyCombo);return{commandId:e.commandId,keyCombo:n}}if("string"==typeof e.keyCombo){var t=(0,v.A2)(e.keyCombo);return{commandId:e.commandId,keyCombo:t}}return{commandId:e.commandId,keyCombo:null}}}(l);u&&n.set(u.commandId,u.keyCombo)}}catch(e){r=!0,a=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw a}}return n}},91683:(e,n,t)=>{"use strict";t.d(n,{N:()=>tD});var r=t(34837),a=t(21462),i=t(12694),o=t(30284),s=t(44425),l=t(29935),u=t(17844),c=t(93629),d=t(17459),f=t(82643),p=t(79350),h=t(31366),m=t(21727),v=t(34778),g=t(44925),b=t(40115),y=t(20573),w=t(12493),_=new Map,S=t(13672),A=t(56006),k=t(70450),C=t(39534),Y=t(70764),E=t(18712),x=t(83031),T=t(40756),D=t(73455),I=t(77481),R=(0,Y.x)({shadow:{position:"absolute",transition:"opacity 0.1s ease-in-out",'&[data-position="top"], &[data-position="bottom"]':{left:0,right:0,height:12},'&[data-position="left"], &[data-position="right"]':{top:0,bottom:0,height:12},'&[data-position="top"]':{top:0,backgroundImage:"linear-gradient(to top, transparent, var(--shadow-color))"},'&[data-position="bottom"]':{bottom:0,backgroundImage:"linear-gradient(to bottom, transparent, var(--shadow-color))"},'&[data-position="left"]':{left:0,backgroundImage:"linear-gradient(to left, transparent, var(--shadow-color))"},'&[data-position="right"]':{right:0,backgroundImage:"linear-gradient(to right, transparent, var(--shadow-color))"}}});function N(e){var n=e.scrolledAmount,t=e.scrollableAmount,a=e.orientation,i=void 0===a?"vertical":a,o=e.hideEnd,s=e.shadowColor,l=void 0===s?"color-mix(in srgb, ".concat(C.LU.backgroundDefault," 32%, transparent)"):s;return(0,r.FD)(r.FK,{children:[(0,r.Y)("div",{css:R.shadow,"data-position":"vertical"===i?"top":"left",style:{"--shadow-color":l,opacity:+(n>0)}}),!(void 0!==o&&o)&&(0,r.Y)("div",{css:R.shadow,"data-position":"vertical"===i?"bottom":"right",style:{"--shadow-color":l,opacity:+(n<t)}})]})}var O=t(91953),P=t(90233),F=t(25227),U=t(64424),L=t(85801),M=t(91175),J=t(55929),H=t(43193),B=(0,Y.x)({header:[E.wp.height(36)],description:[E.wp.flex.column,E.wp.gap(8)],divider:[E.wp.backgroundColor.outlineDimmer],package:[E.wp.border({color:"transparent"}),E.wp.justify.spaceBetween,{"&:hover":{backgroundColor:C.LU.backgroundHighest}}],packageList:[E.wp.height(220),E.wp.overflowY("auto")],packageMetadata:[E.wp.overflow("hidden"),E.wp.mr(8)],packageName:[E.wp.truncate,E.wp.flex.growAndShrink(1),E.wp.mx(8),{"> a":[E.wp.ml(4),{color:"currentColor",lineHeight:0}]}],packagerRoot:[E.wp.flex.column,E.wp.gap(8)],packager:[E.wp.backgroundColor.backgroundHigher,E.wp.borderRadius(4),E.wp.overflow("hidden")],packagerHeaderTitle:[E.wp.truncate,E.wp.flex.shrink(1)],packagerEmptyState:[E.wp.backgroundColor.backgroundOverlay,E.wp.borderRadius(0,0,4,4),E.wp.color.foregroundDimmest],dividerInner:[E.wp.p(0),E.wp.m(0),{borderBottom:"1px solid",borderBottomColor:C.LU.backgroundHighest}]});function V(e){var n,t,o,s,d,p,h=e.pkg,m=e.uninstall,v=(0,w.UK)(),S=(t=(0,w.UK)(),o=(0,b.A)(),d=(s=(0,i._)((0,a.useState)(null!=(n=_.get("".concat(null==t?void 0:t.id,":").concat(h.name)))?n:null),2))[0],p=s[1],(0,a.useEffect)(function(){if((null==t?void 0:t.id)&&h.name){var e=h.name;if(!_.has(e)){var n=(0,y.N)(t.id),r=!1;return(0,l._)(function(){var a;return(0,f.YH)(this,function(i){switch(i.label){case 0:return[4,n.getPackageInfo({id:t.id,name:e,services:o})];case 1:if((a=i.sent())&&"string"!=typeof(null==a?void 0:a.homepageURL)&&delete a.homepageURL,r)return[2];return _.set("".concat(t.id,":").concat(e),null!=a?a:null),p(null!=a?a:null),[2]}})})(),function(){r=!0}}}},[null==t?void 0:t.id,h.name]),d),A=(0,a.useMemo)(function(){var e=(null==S?void 0:S.description)||h.description;if(e&&/<[^>]+>|<\/[^>]+>/.test(e)){var n=document.createElement("DIV");return n.innerHTML=e,(n.textContent||n.innerText||"").trim()}return e},[null==S?void 0:S.description,h.description]),C=(0,g.A)((null==S?void 0:S.license)||h.license),Y=(0,a.useMemo)(function(){if(S){var e;return(0,c._)((0,u._)({},S),{version:null!=(e=null==S?void 0:S.version)?e:h.spec,name:(null==v?void 0:v.id)==="nix"&&(null==S?void 0:S.prettyName)||h.name,license:C,description:A})}return h},[null==v?void 0:v.id,A,S,C,h]),x=(0,k.n5)(),T=(0,k.BL)(),I=(0,a.useMemo)(function(){return x.some(function(e){return e.pkgs.some(function(e){return e.name===h.name})})},[h.name,x]),R=(0,a.useMemo)(function(){return!!(null!==T&&T.pkgs.find(function(e){return e.name===h.name}))},[T]);return(0,r.FD)(F.S,{css:B.package,p:4,row:!0,align:"center",tag:"li",children:[(0,r.FD)(F.S,{css:B.packageMetadata,grow:!0,shrink:!0,align:"center",row:!0,children:[(0,r.Y)(M.A,{}),(0,r.FD)(O.EY,{css:B.packageName,children:[Y.name,Y.homepageURL?(0,r.Y)("a",{href:Y.homepageURL,target:"_blank",children:(0,r.Y)(U.A,{})}):null]}),Y.version?(0,r.Y)(O.EY,{color:"dimmer",children:Y.version}):null]}),(0,r.FD)(F.S,{css:[E.wp.gap(4),E.wp.align.center],row:!0,children:[Y.description||Y.license?(0,r.Y)(P.m_,{tooltip:(0,r.FD)("div",{children:[(0,r.Y)("div",{children:Y.description}),Y.license?(0,r.Y)(O.EY,{variant:"small",color:"dimmer",children:Y.license}):null]}),children:(0,r.Y)(L.A,{})}):null,(0,r.Y)(D.K0,{alt:"Uninstall",disabled:R||I,onClick:function(){m()},children:(0,r.Y)(H.A,{})})]})]})}function $(e){var n=e.onAddPackage,t=e.name,a=e.id,i=e.addText;return(0,r.FD)(F.S,{grow:!0,shrink:!0,pl:4,row:!0,justify:"space-between",children:[(0,r.Y)(O.EY,{css:B.packagerHeaderTitle,id:a,children:t}),(0,r.Y)(D.K0,{alt:i,onClick:n,children:(0,r.Y)(J.A,{})})]})}function G(e){var n=e.packages,t=e.labelId,o=(0,w.UK)(),s=(0,k.q3)(),l=(0,i._)((0,a.useState)(0),2),u=l[0],c=l[1],d=(0,i._)((0,a.useState)(0),2),f=d[0],h=d[1],v=(0,m.A)(function(e){return h(e.height)});return o?(0,r.Y)(F.S,{css:E.wp.position.relative,innerRef:v,children:(0,r.FD)(F.S,{css:B.packageList,onScroll:function(e){c(e.target.scrollTop)},children:[(0,r.Y)(N,{scrolledAmount:u,scrollableAmount:34*n.length-f,hideEnd:!0}),(0,r.Y)(p.x8,{style:{height:"100%"},role:"list","aria-labelledby":t,children:n.map(function(e){return(0,r.Y)(V,{pkg:e,uninstall:function(){s({id:o.id,pkg:e})}},e.name)})})]})}):null}var z=new Map;function W(e){var n=e.onAddPackage,t=e.openFile,s=(0,w.UK)(),u=(0,k.H_)(null==s?void 0:s.id),c=(0,a.useMemo)(function(){return u.filter(function(e){return e.name}).sort(function(e,n){return e.name&&n.name?e.name.localeCompare(n.name):0})},[u]),d=(0,a.useId)(),p=(0,a.useCallback)(function(){n(null==s?void 0:s.id)},[n,null==s?void 0:s.id]),m=(null==s?void 0:s.id)==="nix",g=(0,a.useMemo)(function(){return null==s?void 0:s.packagerFiles.filter(function(e){return!e.includes("lock")&&!e.endsWith("/")})},[null==s?void 0:s.packagerFiles]),b=(0,h.om)(),y=(0,i._)((0,a.useState)(s?z.get(s.id):void 0),2),_=y[0],S=y[1];return((0,a.useEffect)(function(){(0,l._)(function(){var e,n,t,r,a,i,o;return(0,f.YH)(this,function(l){switch(l.label){case 0:if(!g||!s)return[2];e=!0,n=!1,t=void 0,l.label=1;case 1:l.trys.push([1,6,7,8]),r=g[Symbol.iterator](),l.label=2;case 2:if(e=(a=r.next()).done)return[3,5];return i=a.value,[4,b.readFile(i)];case 3:if("content"in l.sent())return z.set(s.id,i),S(i),[3,5];l.label=4;case 4:return e=!0,[3,2];case 5:return[3,8];case 6:return o=l.sent(),n=!0,t=o,[3,8];case 7:try{e||null==r.return||r.return()}finally{if(n)throw t}return[7];case 8:return[2]}})})()},[s,b,g]),s)?(0,r.FD)(F.S,{css:B.packagerRoot,children:[(0,r.Y)(F.S,{css:B.packager,children:(0,r.Y)(x.A,{defaultExpanded:!0,headerContent:(0,r.Y)($,{id:d,name:s.name,addText:m?"Add new dependency":"Add new package",onAddPackage:p}),children:(0,r.FD)(r.FK,{children:[(0,r.Y)(Z,{css:B.divider}),c.length>0?(0,r.Y)(G,{packages:c,labelId:d}):(0,r.Y)(F.S,{css:B.packagerEmptyState,p:8,align:"center",children:m?"No dependencies found":"No packages found"})]})})}),(0,r.Y)(T.$n,{colorway:"primary",variant:"outlined",text:m?"Add new dependency":"Add new package",iconLeft:(0,r.Y)(J.A,{}),onClick:p}),_?(0,r.Y)(T.$n,{variant:"nofill",text:"Open ".concat(_),iconLeft:(0,r.Y)(M.A,{}),onClick:function(){(0,v.u4)(o.AZ.DEPENDENCIES_PACKAGER_FILE_OPENED,{packagerId:s.id,file:_}),t({path:_})}}):null]}):null}function j(e){var n=e.configs,t=e.description,a=e.title,i=e.openFile,o=(0,d._)(e,["configs","description","title","openFile"]);return(0,r.FD)(F.S,{children:[(0,r.Y)(F.S,{css:B.header,row:!0,justify:"space-between",children:(0,r.Y)(O.Y9,{variant:"subheadDefault",level:2,children:a})}),(0,r.FD)(F.S,{gap:8,children:[(0,r.Y)(I.s,{color:"dimmer",css:B.description,children:t}),n.length>0?n.map(function(e){return(0,r.Y)(A.A,{config:e,children:(0,r.Y)(W,(0,u._)({openFile:i},o))},e.id)}):null]})]})}function q(e){var n=(0,S.J)().configs,t=(0,a.useMemo)(function(){return n.find(function(e){return"nix"===e.id})},[n]);return t?(0,r.Y)(j,(0,c._)((0,u._)({title:"System Dependencies",description:(0,r.FD)("span",{children:["Add additional support to your environment with"," ",(0,r.Y)("a",{href:"https://search.nixos.org/packages",target:"_blank",children:"Nix packages"}),"."]})},e),{configs:[t]})):null}var Z=function(){return(0,r.Y)("div",{css:B.dividerInner})},K=t(77164),Q=t(46221);function X(e){var n=e.openFile,t=e.openConsole,l=e.openNixTab,u=(0,S.J)().configs,c=(0,a.useMemo)(function(){return u.filter(function(e){return"nix"!==e.id})},[u]),d=(0,i._)((0,a.useState)({mode:"Overview"}),2),f=d[0],p=d[1];switch((0,s.M)(o.AZ.DEPENDENCIES_TAB_VIEWED,{tab:"import"}),f.mode){case"Overview":return(0,r.Y)(Q._0,{children:(0,r.Y)(j,{title:"Manage Imports",configs:c,openFile:n,onAddPackage:function(e){p({mode:"Search",initialPackager:e})},description:(0,r.FD)(r.FK,{children:[(0,r.Y)(O.EY,{children:"Packagers manage language-specific dependencies for your project. These can be imported directly from your codebase."}),0===c.length?(0,r.Y)(O.EY,{color:"dimmest",children:(0,r.FD)("p",{children:["You don't currently have any packagers. Add language support by"," ",(0,r.Y)("a",{href:"",onClick:function(e){e.preventDefault(),l()},children:"adding a System Module"}),"."]})}):null]})})});case"Search":return(0,r.Y)(K.Y,{onBack:function(){return p({mode:"Overview"})},initialCategory:f.initialPackager,openConsole:t})}}var ee={label:"Imports",description:"Import and manage language-specific packages and dependencies",icon:(0,r.Y)(M.A,{}),component:function(e){var n=e.openPane,t=(0,a.useCallback)(function(e){return n({type:"codeEditor",data:e})},[n]),i=(0,a.useCallback)(function(){n({type:"shell"})},[n]);return(0,r.Y)(X,{openFile:t,openConsole:i,openNixTab:function(){}})}},en=t(67862),et=t(17997),er=t(19849),ea=t(93868),ei=t(15549),eo=(0,Y.x)({systemModules:[E.wp.flex.column,E.wp.gap(8)],sectionHeader:[E.wp.height(36)]});function es(e){var n=e.openFile,t=e.openConsole,l=(0,et.G)().modules,u=(0,i._)((0,a.useState)({mode:"Overview"}),2),c=u[0],d=u[1];if((0,s.M)(o.AZ.DEPENDENCIES_TAB_VIEWED,{tab:"nix"}),!l)return null;switch(c.mode){case"Overview":return(0,r.FD)(Q._0,{children:[(0,r.FD)(F.S,{children:[(0,r.Y)(F.S,{css:eo.sectionHeader,row:!0,justify:"space-between",children:(0,r.Y)(O.Y9,{variant:"subheadDefault",level:2,children:"System Modules"})}),(0,r.FD)(F.S,{css:eo.systemModules,children:[(0,r.Y)(I.s,{color:"dimmer",children:"Modules combine support for programming languages, formatters, and packagers. These provide the foundation for your App."}),(0,r.Y)(er.A,{modules:l}),(0,r.Y)(T.$n,{text:"Add new module",variant:l.length>0?"outlined":"default",colorway:"primary",iconLeft:(0,r.Y)(J.A,{}),onClick:function(){d({mode:"Search",initialCategory:"Modules"})}}),(0,r.Y)(T.$n,{text:"Open .replit",variant:"nofill",iconLeft:(0,r.Y)(ei.A,{}),onClick:function(){n({path:".replit"})}})]})]}),(0,r.Y)(q,{onAddPackage:function(){d({mode:"Search",initialCategory:"Packages"})},openFile:n}),(0,r.Y)(ea.v,{href:en.ik.DEPENDENCY_MANAGEMENT,target:"_blank",rel:"noopener",variant:"underlinedOnHover",colorway:"primary",iconRight:(0,r.Y)(U.A,{}),text:"Learn more about Nix and .replit configuration"})]});case"Search":return(0,r.Y)(K.m,{onBack:function(){return d({mode:"Overview"})},initialCategory:c.initialCategory,openConsole:t})}}var el=t(71078),eu={label:"System",description:"Manage system-level packages and dependencies using Nix package manager",icon:(0,r.Y)(el.A,{}),component:function(e){var n=e.openPane,t=(0,a.useCallback)(function(e){return n({type:"codeEditor",data:e})},[n]),i=(0,a.useCallback)(function(){n({type:"shell"})},[n]);return(0,r.Y)(es,{openFile:t,openConsole:i})}},ec=t(72096),ed=t.n(ec),ef=t(26575),ep=t(86103),eh=t(35897),em=t(48373),ev=t(42845),eg=t(84383),eb=t(99391),ey=t(28029),ew=t(87733),e_=t(16653),eS=t(83096),eA=t(99933),ek=t(9844),eC=t(13298),eY=t(70399),eE=t(6525),ex=t(71936),eT=t(95780),eD=t(90843),eI="VNC ports do not require external port",eR="VSCode ports do not require external port",eN=(0,Y.x)({secondaryUrl:[E.wp.color.foregroundDimmest,E.wp.fontSize("small"),E.wp.focusRing,{"&:hover":[E.wp.cursor.pointer,E.wp.color.accentPrimaryStrongest]}],portHeader:[E.wp.align.baseline],openPort:[E.wp.color.accentPositiveStronger],localPortIcon:[E.wp.color.foregroundDefault,E.wp.px(4),{flex:"0 0 auto",marginLeft:"auto"}],portStatus:[E.wp.py(0),E.wp.px(4),E.wp.overflow("hidden")],newPort:[E.wp.color.foregroundDefault,E.wp.rowWithGap(4),E.wp.align.center,E.wp.my(1),E.wp.borderRadius(16),E.wp.height(20)],externalPortButton:[{"&":[E.wp.height(20),E.wp.borderRadius(16),E.wp.color.foregroundDefault]}],textButton:[E.wp.cursor.pointer,E.wp.reset.button,E.wp.color.accentPrimaryStronger,E.wp.focusRing,E.wp.hover(E.wp.color.accentPrimaryStrongest),{lineHeight:1.2,":not([disabled])":{cursor:"pointer"}}],newPortInput:[E.wp.height(20),E.wp.my(1)],newPortClose:E.wp.mr(4),vncTooltip:[E.wp.flex.growAndShrink(1)],vscodeTooltip:[E.wp.flex.growAndShrink(1)]});function eO(e){var n,t,a,i=e.localPort,o=e.externalPort,s=e.isLocalhost,l=e.onPortChange,u=(0,b.A)().ports.updateDotReplitPortsMapping,c=(n=(0,b.A)().ports,a=new Set(null==(t=(0,em.A)(n.portsState))?void 0:t.map(function(e){var n;return null!=(n=(0,eg.Zd)(e.configuration))&&n}).filter(Boolean)),Array.from(eg.ZA).sort(function(e,n){return e-n}).map(function(e){return{isAvailable:!a.has(e),externalPort:e}}));return(0,r.Y)(F.S,{row:!0,children:void 0!==o&&0!==o?(0,r.Y)(T.$n,{css:eN.externalPortButton,iconRight:(0,r.Y)(eY.A,{}),text:":".concat(o),size:"small",onClick:function(){i&&(u(i,void 0,s),null==l||l())}}):(0,r.Y)(eA.in,{label:"Set external port",onAction:function(e){if(i){var n=c.find(function(n){return String(n.externalPort)===e});n&&n.isAvailable&&(u(i,n.externalPort,s),null==l||l())}},children:c.map(function(e){var n=e.isAvailable,t=e.externalPort;return(0,r.Y)(eA.Dr,{id:String(t),"aria-label":String(t),isDisabled:!n,label:":".concat(t)},String(t))})})})}function eP(e){var n=e.portState,t=null;switch(n.configuration.type){case eg.gH.MISCONFIGURED:t=(0,r.Y)(P.m_,{tooltip:"Port misconfigured",delay:"default",children:(0,r.Y)(eD.A,{})});break;case eg.gH.CONFIG_MISSING:t=(0,r.Y)(P.m_,{tooltip:"Configuration missing",delay:"default",children:(0,r.Y)(eD.A,{})});break;case eg.gH.NO_MORE_EXTERNAL_PORTS_AVAILABLE:t=(0,r.Y)(eD.A,{});break;case eg.gH.FORWARDED:t=(0,r.Y)(eC.A,{});case eg.gH.INTERNAL_ONLY:}return(0,r.Y)("span",{css:eN.localPortIcon,children:t})}function eF(e){var n=e.portState,t=e.width,a=(0,eg.s$)(n.configuration)?"localhost":"0.0.0.0";return(0,r.FD)(eb.VP,{width:t||130,children:[(0,r.FD)(O.EY,{css:n.isOpen&&eN.openPort,children:[a,":",n.configuration.localPort]}),(0,r.Y)(eP,{portState:n})]})}function eU(e){var n,t=e.portState,a=e.openWebview,i=e.openVncOutput,o=e.openVscode,s=e.width;if(t.configuration.type===eg.gH.NO_MORE_EXTERNAL_PORTS_AVAILABLE)return(0,r.Y)(eb.VP,{width:s||180,children:(0,r.Y)(ek.N,{css:eN.portStatus,icon:(0,r.Y)(eD.A,{}),text:"No ports available"})});var l=!!i&&t.configuration.isVnc,u=!!o&&t.configuration.isVscode,c=!l&&!u&&!!a&&t.isOpen&&t.configuration.type===eg.gH.FORWARDED;return n=t.configuration.isVnc?(0,r.Y)(P.m_,{tooltip:eI,css:eN.vncTooltip,children:(0,r.Y)(ek.N,{css:eN.portStatus,icon:(0,r.Y)(L.A,{}),text:eI})}):t.configuration.isVscode?(0,r.Y)(P.m_,{tooltip:eR,css:eN.vscodeTooltip,children:(0,r.Y)(ek.N,{css:eN.portStatus,icon:(0,r.Y)(L.A,{}),text:eR})}):(0,r.Y)(eO,{localPort:t.configuration.localPort,externalPort:(0,eg.Zd)(t.configuration),isLocalhost:(0,eg.s$)(t.configuration)}),(0,r.FD)(eb.VP,{width:s||180,children:[n,c?(0,r.Y)(D.K0,{alt:"Open in Preview",onClick:a,css:E.wp.color.foregroundDefault,children:(0,r.Y)(eE.A,{})}):null,l?(0,r.Y)(D.K0,{alt:"View VNC output",onClick:i,css:E.wp.color.foregroundDefault,children:(0,r.Y)(eE.A,{})}):null,u?(0,r.Y)(D.K0,{alt:"Open VSCode",onClick:o,css:E.wp.color.foregroundDefault,children:(0,r.Y)(eT.A,{})}):null]})}function eL(e){var n,t=e.portState;return t.isOpen?(0,r.FD)(r.FK,{children:[(0,r.Y)(eb.VP,{width:100,children:(n=t.processInfo.cmdline[0].split("/"))[n.length-1]}),(0,r.Y)(eb.VP,{width:100,children:t.processInfo.pid})]}):(0,r.Y)(eb.VP,{width:100})}var eM=function(e){return e.OPEN_WEBVIEW="OPEN_WEBVIEW",e.OPEN_VNC_OUTPUT="OPEN_VNC_OUTPUT",e.OPEN_VSCODE="OPEN_VSCODE",e.EXTERNAL_LINK="EXTERNAL_LINK",e.REMOVE="REMOVE",e}(eM||{});function eJ(e){var n=e.portState,t=e.onAction,a=[{label:"Open external link",key:"EXTERNAL_LINK",icon:(0,r.Y)(U.A,{})},{label:"Remove port config",key:"REMOVE",icon:(0,r.Y)(H.A,{})}];return n.configuration.isVnc?a.unshift({label:"View VNC output",key:"OPEN_VNC_OUTPUT",icon:(0,r.Y)(eE.A,{})}):n.configuration.isVscode?a.unshift({label:"Open VSCode",key:"OPEN_VSCODE",icon:(0,r.Y)(eT.A,{})}):a.unshift({label:"Open Preview",key:"OPEN_WEBVIEW",icon:(0,r.Y)(eE.A,{})}),(0,r.Y)(eb.VP,{width:30,last:!0,children:(0,r.Y)(eA.in,{trigger:(0,r.Y)(D.K0,{alt:"More",children:(0,r.Y)(ex.A,{})}),items:a,onAction:function(e){switch(e){case"OPEN_WEBVIEW":case"OPEN_VNC_OUTPUT":case"OPEN_VSCODE":case"EXTERNAL_LINK":case"REMOVE":t({type:e,payload:{portState:n}})}},children:function(e){return(0,r.Y)(eA.Dr,{label:e.label,icon:e.icon},e.key)}})})}function eH(e){var n=e.portState,t=e.portAction;return(0,r.FD)(eb.fI,{children:[(0,r.Y)(eF,{portState:n}),(0,r.Y)(eU,{portState:n,openWebview:function(){t({type:"OPEN_WEBVIEW",payload:{portState:n}})},openVncOutput:function(){t({type:"OPEN_VNC_OUTPUT",payload:{portState:n}})},openVscode:function(){t({type:"OPEN_VSCODE",payload:{portState:n}})}}),(0,r.Y)(eL,{portState:n}),(0,r.Y)(eJ,{portState:n,onAction:t})]},n.configuration.localPort)}var eB=function(e){var n=e.text,t=e.onClick;return(0,r.Y)("button",{css:eN.textButton,onClick:t,children:n})};function eV(e){var n,t=e.openDotReplit,o=(0,i._)((0,a.useState)(!1),2),s=o[0],l=o[1],u=(0,i._)((0,a.useState)(),2),c=u[0],d=u[1],f=null==(n=(0,b.A)().ports.portsState.current)?void 0:n.some(function(e){return e.configuration.localPort===c});return s?(0,r.FD)(eb.fI,{children:[(0,r.FD)(eb.VP,{width:130,children:[(0,r.Y)(D.K0,{css:eN.newPortClose,alt:"Close",onClick:function(){return l(!1)},size:18,children:(0,r.Y)(eY.A,{})}),(0,r.Y)(eS.pd,{css:eN.newPortInput,value:(null==c?void 0:c.toString())||"",onChange:function(e){return d(e.target.value?parseInt(e.target.value,10):void 0)}})]}),(0,r.Y)(eb.VP,{children:f?(0,r.Y)(ek.N,{css:eN.portStatus,colorway:"warning",text:"Local port already exists"}):(0,r.Y)(eO,{localPort:c,isLocalhost:!1,onPortChange:function(){return l(!1)}})})]}):(0,r.FD)(eb.fI,{children:[(0,r.Y)(eb.VP,{width:130,children:(0,r.Y)(T.$n,{css:eN.newPort,iconLeft:(0,r.Y)(J.A,{size:12}),text:"New port",size:"small",onClick:function(){return l(!0)}})}),(0,r.Y)(eb.VP,{children:(0,r.FD)(O.EY,{variant:"small",children:["This port config is saved in the"," ",(0,r.Y)(eB,{text:".replit file",onClick:t}),"."," "]})})]})}function e$(e){var n,t=e.openDotReplit,a=e.openWebview,i=e.openVncOutput,o=e.openVscode,s=e.ports,l=e.container,u=(0,ef.A)(),c=(0,ev.Ik)({container:l,ports:s,addDevToolsSuffix:!u}),d=(0,eh.A)().showError,f=(0,ep._P)({controlName:"flag-repl-shield-toggle"}),p=(0,b.A)().ports,h=p.portsState,m=p.removeDotReplitPortsMapping,v=function(e){switch(e.type){case"OPEN_WEBVIEW":a(e.payload.portState.configuration.localPort);break;case"OPEN_VNC_OUTPUT":i();break;case"OPEN_VSCODE":o();break;case"EXTERNAL_LINK":var n=(0,eg.Zd)(e.payload.portState.configuration);if(!(null==c?void 0:c.presentationUrl))return void d("URL not available.");var t=(0,ev.jq)(null==c?void 0:c.presentationUrl,n).toString();window.open(t,"_blank");break;case"REMOVE":m(e.payload.portState.configuration.localPort,(0,eg.Zd)(e.payload.portState.configuration))}};return(0,r.FD)(F.S,{p:12,gap:16,children:[f?(0,r.FD)(r.FK,{children:[(0,r.Y)(ew.A,{}),(0,r.Y)(e_.a,{})]}):null,(null==c?void 0:c.presentationUrl)?(0,r.FD)(r.FK,{children:[(0,r.Y)(ey.A,{url:c.presentationUrl}),(0,r.Y)(e_.a,{})]}):null,(0,r.FD)(F.S,{gap:4,children:[(0,r.FD)(F.S,{css:eN.portHeader,row:!0,gap:8,children:[(0,r.Y)(O.EY,{children:"Ports"}),(0,r.Y)(ed(),{href:"https://docs.replit.com/replit-workspace/workspace-features/webview",css:eN.secondaryUrl,target:"_blank",children:"Learn more"})]}),(0,r.FD)(eb.XI,{children:[(0,r.FD)(eb.fI,{children:[(0,r.Y)(eb.VP,{header:!0,width:130,children:"Internal Port"}),(0,r.Y)(eb.VP,{header:!0,width:180,children:"External Port"}),(0,r.Y)(eb.VP,{header:!0,width:100,children:"Name"}),(0,r.Y)(eb.VP,{header:!0,width:100,children:"Pid"})]}),h.current&&(null==(n=h.current)?void 0:n.length)>0?h.current.map(function(e){return(0,r.Y)(eH,{portState:e,portAction:v},e.configuration.localPort)}):null,(0,r.Y)(eV,{openDotReplit:t})]})]})]})}var eG=t(1303),ez={label:"Networking",description:"Configure web server ports for your App",icon:(0,r.Y)(eG.A,{}),component:function(e){var n=e.openPane,t=(0,b.A)(),i=t.ports,o=t.container,s=(0,a.useCallback)(function(){n({type:"codeEditor",data:{path:".replit"}})},[n]),l=(0,a.useCallback)(function(e){n({type:"webview",data:e?{ports:{type:"local",port:e}}:void 0})},[n]),u=(0,a.useCallback)(function(){n({type:"vnc"})},[n]),c=(0,a.useCallback)(function(){n({type:"webview",data:{ports:{type:"local",port:8080}}})},[n]);return(0,r.Y)(e$,{openDotReplit:s,openWebview:l,openVncOutput:u,openVscode:c,ports:i,container:o})}},eW=t(12584),ej=t(41114),eq=t(54744);function eZ(){var e=(0,eW._)(["\n  fragment DeveloperToolsResourcesRepl on Repl {\n    id\n    owner {\n      __typename\n      ... on Team {\n        id\n      }\n      ... on User {\n        id\n      }\n    }\n  }\n"]);return eZ=function(){return e},e}function eK(){var e=(0,eW._)(["\n  fragment DeveloperToolsResourcesCurrentUser on CurrentUser {\n    id\n    userSubscriptionType\n  }\n"]);return eK=function(){return e},e}function eQ(){var e=(0,eW._)(["\n  query DeveloperToolsResources($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        ...DeveloperToolsResourcesRepl\n      }\n    }\n    currentUser {\n      ...DeveloperToolsResourcesCurrentUser\n    }\n  }\n  ","\n  ","\n"]);return eQ=function(){return e},e}var eX={},e0=(0,ej.J1)(eZ()),e1=(0,ej.J1)(eK()),e2=(0,ej.J1)(eQ(),e0,e1),e3=t(61125),e4=t(78306),e5=t(56783),e7=t(1867),e9=t(21640),e8=t(28611),e6=F.D.span,ne=(0,Y.x)({triggerWrapper:[{":focus":{outline:"2px solid ".concat(C.LU.accentPrimaryDefault),outlineOffset:"-1px",borderRadius:"4px"}}]});function nn(e){var n=e.label,t=e.children,o=e.inline,s=(0,i._)(t,2),l=s[0],u=s[1],c=(0,i._)((0,a.useState)(!1),2),d=c[0],f=c[1],p=(0,i._)((0,a.useState)(!1),2),h=p[0],m=p[1],v=(0,a.useRef)(!1);return((0,a.useEffect)(function(){h&&(v.current=!0);var e=setTimeout(function(){f(h)},200);return function(){clearTimeout(e)}},[h]),void 0!==o&&o)?(0,r.FD)(F.S,{children:[l,u]}):(0,r.FD)(e8.Wv,{label:n,isOpen:d,onOpenChange:function(){return f(!d)},placement:"right",offset:16,children:[(0,r.Y)(e6,{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},onClick:function(){return f(!0)},onKeyDown:function(e){"Enter"===e.key&&f(!0)},tabIndex:0,css:ne.triggerWrapper,children:l}),(0,r.Y)(e6,{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},children:u})]})}var nt=t(38197),nr=t(73712),na=t(72352);function ni(e){return e>e4.O8?"".concat((0,na.$p)(e).toLocaleString(void 0,{maximumFractionDigits:1})," GiB"):"".concat(Math.round((0,na.lX)(e)).toLocaleString()," MiB")}e9.t1.register(e9.No,e9.dN);var no=(0,Y.x)({sectionPadding:[E.wp.py(4),E.wp.px(12)],rowSpacing:[E.wp.rowWithGap(8),E.wp.justify.spaceBetween,E.wp.align.center]}),ns=(0,Y.x)({wrapper:[E.wp.borderRadius(4),E.wp.border({color:C.LU.outlineDimmer}),E.wp.overflow("hidden")],rowSection:[no.sectionPadding,no.rowSpacing],hoverRowSection:[no.sectionPadding,no.rowSpacing,{":hover":{backgroundColor:C.LU.backgroundHigher}}],hoverColumnSection:[no.sectionPadding,E.wp.colWithGap(8),{":hover":{backgroundColor:C.LU.backgroundHigher}}],sectionHeading:[E.wp.fontWeight.bold],alignedRow:[E.wp.rowWithGap(8),E.wp.align.center],alignedSpaceBetweenRow:[no.rowSpacing],detailContent:[E.wp.width(260)],detailSectionsWrapper:[E.wp.borderRadius(4),E.wp.border({color:C.LU.outlineDimmer}),E.wp.overflow("hidden")],warningText:[E.wp.color.orangeStronger],dangerText:[E.wp.color.redStronger],chartWrapper:[E.wp.width(22),E.wp.height(18),E.wp.borderRadius(2)],indentAgain:[E.wp.pl(24)]});function nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.inline,t=void 0!==n&&n,a=(0,nt.Ni)();return(0,r.FD)(F.S,{css:ns.wrapper,children:[(0,r.FD)(F.S,{css:ns.rowSection,children:[(0,r.Y)(O.EY,{css:ns.sectionHeading,children:"Compute"}),(0,r.Y)(F.S,{css:ns.alignedRow,children:(0,r.FD)(O.EY,{color:"dimmer",children:[a.numVCpu," vCPU, ",a.ramTotalGB," GiB RAM"]})})]}),(0,r.Y)(e_.a,{}),(0,r.Y)(nu,{inline:t}),(0,r.Y)(nc,{inline:t})]})}function nu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.inline,t=(0,nt.FE)();return(0,r.Y)(nd,{title:"CPU",displayValue:"".concat(t.currentPercent,"%"),recentPercents:t.recentUtilPercents,status:t.status,detailText:"The amount of processing power this Repl is using.",detailRows:[{title:"User",displayValue:"".concat(t.currentUserPercent,"%"),recentPercents:t.recentUserUtilPercents},{title:"System",displayValue:"".concat(t.currentSystemPercent,"%"),recentPercents:t.recentSystemUtilPercents}],inline:void 0!==n&&n})}function nc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.inline,t=(0,nt.VZ)();return(0,r.Y)(nd,{title:"RAM",displayValue:"".concat(t.currentPercent,"%"),recentPercents:t.recentUtilPercents,status:t.status,detailText:"The memory this Repl is using.",detailRows:[{title:"Active",displayValue:ni(t.currentRssInBytes),recentPercents:t.recentRssUtilPercents},{title:"Cache",displayValue:ni(t.currentCacheInBytes),recentPercents:t.recentCacheUtilPercents}],inline:void 0!==n&&n})}function nd(e){var n=e.title,t=e.displayValue,a=e.status,i=e.recentPercents,o=e.detailText,s=e.detailRows,l=e.inline,u=void 0!==l&&l;return(0,r.FD)(nn,{label:"Compute details",inline:u,children:[(0,r.FD)(F.S,{css:u?ns.rowSection:ns.hoverRowSection,children:[(0,r.FD)(F.S,{css:ns.alignedRow,children:[(0,r.Y)(O.EY,{children:n}),(0,r.Y)(nf,{status:a})]}),(0,r.FD)(F.S,{css:ns.alignedRow,children:[(0,r.Y)(O.EY,{color:"dimmer",children:t}),(0,r.Y)(F.S,{css:ns.chartWrapper,children:(0,r.Y)(np,{data:i,colorAreaUnderLine:!0})})]})]}),(0,r.FD)(F.S,{px:u?12:void 0,children:[(0,r.Y)(O.EY,{variant:u?"small":void 0,color:u?"dimmer":void 0,children:o}),(0,r.Y)(F.S,{children:s.map(function(e,n){return(0,r.FD)(F.S,{css:ns.rowSection,style:u?{paddingLeft:0,paddingRight:0}:void 0,children:[(0,r.Y)(O.EY,{children:e.title}),(0,r.FD)(F.S,{css:ns.alignedRow,children:[(0,r.Y)(O.EY,{color:"dimmer",children:e.displayValue}),(0,r.Y)(F.S,{css:ns.chartWrapper,children:(0,r.Y)(np,{data:e.recentPercents,colorAreaUnderLine:!0})})]})]},n)})})]})]})}function nf(e){var n=e.status;return"warning"===n?(0,r.FD)(r.FK,{children:[(0,r.Y)(eD.A,{color:C.LU.orangeStronger}),(0,r.Y)(O.EY,{css:ns.warningText,children:"Near limit"})]}):"danger"===n?(0,r.FD)(r.FK,{children:[(0,r.Y)(eD.A,{color:C.LU.redStronger}),(0,r.Y)(O.EY,{css:ns.dangerText,children:"At limit"})]}):null}function np(e){var n=e.data,t=e.colorAreaUnderLine,a=void 0!==t&&t,i=e.showHorizontalGridLines,o=(0,nr.D)().values,s=n.map(function(e,n){return{x:-n,y:e}}),l=nt.$E-.05,u=nt.Sv-.02;return(0,r.Y)(e7.N1,{updateMode:"none",options:{clip:4,animation:!1,maintainAspectRatio:!1,events:[],elements:{point:{radius:0},line:{tension:.3,borderWidth:1}},scales:{x:{display:!1,type:"linear",grid:{display:!1},min:0,max:-(n.length-1)},y:{display:void 0!==i&&i,min:0,max:100,ticks:{display:!1,stepSize:10},afterBuildTicks:function(e){var n=[10,50,90];e.ticks=e.ticks.filter(function(e){return n.includes(e.value)})},grid:{color:function(e){return e.tick.value>100*l?o.global.orangeDimmer:o.global.outlineDimmest},drawTicks:!1},border:{dash:[2,2],display:!1}}}},data:{datasets:[{data:s,fill:{target:"origin"},borderColor:function(e){var n=e.chart,t=n.ctx,r=n.chartArea;if(r){var a=t.createLinearGradient(0,r.bottom,0,r.top),i=o.global.blueDefault,s=o.global.orangeDefault,c=o.global.redDefault;return a.addColorStop(0,i),a.addColorStop(l-.08,i),a.addColorStop(l+.08,s),a.addColorStop(u-.08,s),a.addColorStop(u,c),a}},backgroundColor:function(e){if(!a)return"transparent";var t=e.chart,r=t.ctx,i=t.chartArea;if(i){var c=r.createLinearGradient(i.left,0,i.right,0),d=nh(o.global.blueDimmest),f=nh(o.global.orangeDimmest),p=nh(o.global.redDimmest);return s.forEach(function(e,t){if(c){var r=1-t/(n.length-1);e.y<100*l?c.addColorStop(r,d):e.y<100*u?c.addColorStop(r,f):c.addColorStop(r,p)}}),c}}}]}})}function nh(e){var n,t,r=(n=(n=e).replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,n,t,r){return n+n+t+t+r+r}),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n))?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null);if(!r)return e;var a=r.r,i=r.g,o=r.b;return"rgba(".concat(a,", ").concat(i,", ").concat(o,", ",.5,")")}function nm(e){var n=e.alertDialogType,t=e.onRequestUpgrade,a=(0,nt.Dj)();if(!a)return null;var i="cpu_alert"===n?a.cpuRecentUtilPercents:a.ramRecentUtilPercents,o="cpu_alert"===n?"CPU":"RAM",s="You have been near the ".concat("cpu_alert"===n?"".concat(a.numVCpu," vCPU"):"".concat((0,na.$p)(1024*a.ramQuotaMiBs*1024)," GiB RAM")," limit of the free plan ").concat(nt.HQ," or more times in the past ").concat(nt.Yu," seconds. More ").concat("cpu_alert"===n?"vCPUs":"RAM"," would improve performance and limit disruptions.");return(0,r.FD)(F.S,{p:8,gap:8,children:[(0,r.Y)(eD.A,{color:C.LU.orangeStrongest}),(0,r.FD)(O.EY,{variant:"subheadDefault",multiline:!1,children:["High ",o," usage"]}),(0,r.Y)(O.EY,{color:"dimmer",children:s}),(0,r.Y)(F.S,{css:nv.chartWrapper,children:(0,r.Y)(np,{data:i,showHorizontalGridLines:!0})}),(0,r.Y)(T.$n,{size:"big",colorway:"warning",text:"Increase ".concat(o," limit"),onClick:function(){(0,v.u4)(v.AZ.UPGRADE_SELECTED,{source:"compute_alert_dialog"}),t()}})]})}var nv=(0,Y.x)({chartWrapper:[E.wp.height(67),E.wp.backgroundColor.backgroundRoot,E.wp.borderRadius(12),E.wp.py(12),E.wp.px(16)]});function ng(){var e=(0,eW._)(["\n  query ReplResourcesCurrentUser {\n    currentUser {\n      __typename\n      ... on CurrentUser {\n        id\n        userSubscriptionType\n        userSubscription {\n          isTrial\n        }\n        paymentMethod {\n          __typename\n          ... on PaymentMethod {\n            id\n            last4\n          }\n        }\n      }\n    }\n  }\n"]);return ng=function(){return e},e}function nb(){var e=(0,eW._)(["\n  query ReplResourcesReplInfo($replId: String!) {\n    getRepl(id: $replId) {\n      __typename\n      ... on Repl {\n        id\n        org {\n          __typename\n          id\n          type\n        }\n        owner {\n          __typename\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n        authorizations {\n          editResources {\n            isAuthorized\n            code\n            message\n          }\n          editFileContents {\n            isAuthorized\n            code\n            message\n          }\n        }\n      }\n    }\n  }\n"]);return nb=function(){return e},e}var ny={},nw=(0,ej.J1)(ng()),n_=(0,ej.J1)(nb()),nS=t(44411),nA=t(68990),nk=t(55643),nC=function(){var e=(0,nA.A)(),n=e.showResourcesUpsell,t=e.refetch,a=(0,e5.g)().show;return n?(0,r.Y)(P.m_,{tooltip:nY,children:(0,r.Y)(nk.a,{css:nE.pill,text:"CPU/RAM Limited",onClick:function(){return(0,l._)(function(){return(0,f.YH)(this,function(e){switch(e.label){case 0:return[4,a("MembershipPurchaseModal",{headingText:"Upgrade for a faster Workspace",subHeadingText:"Unlock 4 vCPU, 8 GiB RAM, and ".concat((0,na.$p)(e4.RB)," GiB of storage"),analyticsContext:{upgrade:{context:"repl_resources"}},onPurchaseComplete:function(){return t()}})];case 1:return e.sent(),[2]}})})()}})}):null},nY="Your development resources are limited. Upgrade for more speed, storage, better AI, and more.",nE=(0,Y.x)({pill:[E.wp.cursor.pointer]});function nx(){var e=(0,eW._)(["\n  query ReplResourcesCurrentUserStorageUsage {\n    currentUser {\n      id\n      userSubscriptionType\n      storageInfo {\n        accountStorageUtilization {\n          ... on AccountStorageUtilization {\n            total\n          }\n        }\n      }\n    }\n  }\n"]);return nx=function(){return e},e}var nT={},nD=(0,ej.J1)(nx()),nI=t(16732),nR=t(70251),nN=t(84014),nO=t(28380);function nP(e){return e>e4.O8?"".concat((0,na.$p)(e).toLocaleString(void 0,{maximumFractionDigits:1})," GiB"):"".concat(Math.round((0,na.lX)(e)).toLocaleString()," MiB")}function nF(e,n){return 0===n||0===e?0:Math.round(e/n*100)}function nU(e){var n,t,i=e.isTeamRepl,o=e.isFileEditor,s=e.inline,c=(0,nt.MJ)(),d=(0,nt.Zb)(),p=(n=(0,u._)({},nT,void 0),eq.I(nD,n)),h=p.data,m=p.refetch,v=(null==h||null==(t=h.currentUser)?void 0:t.storageInfo.accountStorageUtilization.__typename)==="AccountStorageUtilization"?Number(h.currentUser.storageInfo.accountStorageUtilization.total):0,g=(0,a.useMemo)(function(){return(0,nI.A)(function(){return m()},{wait:12e4,maxWait:3e5})},[m]);return(0,a.useEffect)(function(){var e=!1,n=null,t=function(){return(0,l._)(function(){return(0,f.YH)(this,function(r){switch(r.label){case 0:if(e)return[2];return[4,g()];case 1:return r.sent(),n=setTimeout(t,3e5),[2]}})})()};return t(),function(){e=!0,n&&clearTimeout(n),g.isScheduled()&&g.flush()}},[g,c,d,m]),o?(0,r.FD)(F.S,{css:ns.wrapper,children:[(0,r.Y)(F.S,{css:ns.rowSection,children:(0,r.Y)(O.EY,{css:ns.sectionHeading,children:"Storage"})}),(0,r.Y)(e_.a,{}),(0,r.Y)(nL,{accountUsedInBytes:v,inline:void 0!==s&&s,children:(0,r.Y)(nM,{isTeamRepl:i})})]}):null}function nL(e){var n=e.accountUsedInBytes,t=e.children,o=e.inline,s=void 0!==o&&o,l=(0,i._)((0,a.useState)(!1),2),u=l[0],c=l[1],d=(0,nt.MS)(),f=d.replUsedInMib,p=d.scratchUsedInMib,h=d.nixUsedInMib,m=d.workspaceUsedInMib,v=[{title:"This App",usageDisplayText:"".concat(nP(1024*f*1024)),percentOfUsage:nF(1024*f*1024,n),indent:0},{title:"Workspace",usageDisplayText:"".concat(nP(1024*m*1024)),percentOfUsage:null,indent:1},{title:"Nix packages",usageDisplayText:"".concat(nP(1024*h*1024)),percentOfUsage:null,nix:!0,indent:1},{title:"Scratch disk",usageDisplayText:"".concat(nP(1024*p*1024)),percentOfUsage:nF(1024*p*1024,n),indent:0}],g=(0,r.Y)(r.FK,{children:v.map(function(e,n){return(0,r.FD)(F.S,{css:ns.rowSection,children:[(0,r.FD)(F.S,{css:ns.alignedRow,children:[e.indent>0?(0,r.Y)(F.S,{css:e.indent>1&&ns.indentAgain,children:(0,r.Y)(nO.A,{color:C.LU.outlineDefault,size:16})}):null,(0,r.Y)(O.EY,{children:e.title})]}),e.nix?(0,r.Y)(F.S,{css:ns.alignedRow,style:s?{marginRight:"auto"}:void 0,children:(0,r.Y)(D.K0,{onClick:function(){return c(!0)},alt:"Delete Nix packages",disabled:h<1,children:(0,r.Y)(H.A,{})})}):null,(0,r.FD)(F.S,{css:ns.alignedRow,children:[(0,r.Y)(O.EY,{color:"dimmer",children:e.usageDisplayText}),null===e.percentOfUsage?null:(0,r.FD)(O.EY,{color:"dimmer",children:["(",e.percentOfUsage,"%)"]})]})]},n)})});return(0,r.FD)(r.FK,{children:[s?g:(0,r.FD)(nn,{label:"Storage details",children:[(0,r.Y)(F.S,{css:ns.hoverColumnSection,children:t}),(0,r.FD)(F.S,{p:8,gap:8,css:ns.detailContent,children:[(0,r.Y)(O.EY,{children:"This App's storage usage"}),(0,r.Y)(F.S,{css:ns.detailSectionsWrapper,children:g})]})]}),(0,r.Y)(nJ,{isOpen:u,onClose:function(){return c(!1)}})]})}function nM(e){var n=e.isTeamRepl,t=(0,nt.MJ)(),a=(0,nt.Zb)(),i=1024*t*1024,o=nF(i,1024*a*1024);return(0,r.FD)(F.S,{css:ns.alignedSpaceBetweenRow,children:[(0,r.Y)(F.S,{css:ns.alignedRow,children:(0,r.Y)(O.EY,{children:"This App"})}),(0,r.FD)(O.EY,{color:"dimmer",children:[nP(i)," ",n?"(".concat(o,"% of total)"):null]})]})}var nJ=function(e){var n=e.onClose,t=e.isOpen,a=(0,b.A)().container;return(0,r.Y)(nR.a,{isOpen:t,onRequestClose:n,children:(0,r.Y)(nN.A,{name:"Nix Packages",description:"this App's Nix packages",confirmDescription:"Nix packages",hideModal:n,delete:function(){n();var e=a.openChannel({service:"file",skip:function(e){return!e.repl.authorizations.editFileContents.isAuthorized}},function(n){return n.channel.request({resetNixFilesystem:{}}).then(function(n){n.ok&&e()}),function(){}})}})})},nH=t(2717),nB=t(41260),nV=t(33683),n$=(0,Y.x)({trialButton:[E.wp.borderRadius(4)],loadingStateWrapper:[E.wp.center,E.wp.p(16)]});function nG(e){var n,t,a,i,o,s,l,c,d,f,p,h,m,v,g,b,y,w,_=e.onRequestUpgrade,S=e.inline,A=void 0!==S&&S,k=(o=(0,u._)({},ny,void 0),eq.I(nw,o)),C=k.data,Y=k.loading,x=(s={variables:{replId:(0,e3.A)()}},l=(0,u._)({},ny,s),eq.I(n_,l)),D=x.data,I=x.loading,R=(null==D?void 0:D.getRepl.__typename)==="Repl"?D.getRepl:null,N=(null==R||null==(c=R.org)?void 0:c.id)!==void 0&&(null==R||null==(d=R.org)?void 0:d.type)==="team",P=(null==R||null==(f=R.owner)?void 0:f.__typename)==="Team"||N,U=(null==R||null==(p=R.owner)?void 0:p.id)===(null==C||null==(h=C.currentUser)?void 0:h.id),L=null==C||null==(m=C.currentUser)?void 0:m.userSubscriptionType,M=(null==C||null==(g=C.currentUser)||null==(v=g.paymentMethod)?void 0:v.__typename)==="PaymentMethod"&&null!==C.currentUser.paymentMethod.id,J=null==C||null==(y=C.currentUser)||null==(b=y.userSubscription)?void 0:b.isTrial,H=U&&("HACKER_PRO"!==L||J&&!M)&&!N,B=(0,nA.A)().showResourcesUpsell,V=null==R?void 0:R.authorizations.editResources,$=null!=(w=null==R?void 0:R.authorizations.editFileContents.isAuthorized)&&w,G=(0,nt.ln)();return Y||I||G||!V?(0,r.Y)(F.S,{css:n$.loadingStateWrapper,children:(0,r.Y)(nV.A,{})}):(0,r.FD)(F.S,{p:8,gap:8,children:[(0,r.FD)(F.S,{gap:4,children:[(0,r.FD)(F.S,{row:!0,gap:8,children:[(0,r.Y)(O.EY,{variant:"subheadDefault",children:"Resources"}),(0,r.Y)(nz,{resourceTier:(t=(n={isTeamRepl:P,isReplOwner:U,plan:L}).isTeamRepl,a=n.isReplOwner,i=n.plan,t?"team":a&&"HACKER_PRO"===i?"member":a&&null===i?"free":"hidden"),isOnTrial:J,showResourcesUpsell:B})]}),(0,r.Y)(O.EY,{color:"dimmest",children:"Resources for cloud development environment"})]}),(0,r.Y)(nl,{inline:A}),!N||$?(0,r.Y)(nU,{isTeamRepl:P,isFileEditor:$,inline:A}):null,H?(0,r.FD)(F.S,{gap:8,children:[(0,r.Y)(T.$n,{colorway:"blurple",iconLeft:(0,r.Y)(nB.A,{}),text:"Join Replit ".concat(nS.en),onClick:function(){return _()},css:n$.trialButton}),(0,r.FD)(O.EY,{css:E.wp.textAlign.center,color:"dimmer",variant:"small",children:["Get 4 vCPU, 8 GiB RAM, and ",(0,na.$p)(e4.RB)," GiB Storage"]})]}):null]})}function nz(e){var n=e.resourceTier,t=e.isOnTrial,a=e.showResourcesUpsell;switch(n){case"free":return a?(0,r.Y)(nC,{}):(0,r.Y)(nH.a,{text:"Free",colorway:"grey"});case"member":if(t)return(0,r.Y)(nH.a,{text:"".concat(nS.en," Trial"),colorway:"blue"});return(0,r.Y)(nH.a,{text:"".concat(nS.en),colorway:"purple"});case"team":return(0,r.Y)(nH.a,{text:"Team",colorway:"green"});default:return null}}var nW=t(40185),nj=t(47737),nq=t(25423),nZ=t(63591);function nK(e){var n,t,o,s,u,c,d,p,h,m,v,g,b,y,w,_,S,A,k,C,Y=e.repl,E=e.currentUser,x=e.inline,T=(0,i._)((0,a.useState)("resources"),2),I=T[0],R=T[1],N=(0,e5.g)().show,O=(o=(n={repl:Y,currentUser:E,onAlert:function(e){R(e)}}).repl,s=n.currentUser,u=n.onAlert,c=(0,nt.xp)(),d=(0,nW.useRouter)(),h=(p=(0,i._)((0,a.useState)(!1),2))[0],m=p[1],v=(null==(t=o.owner)?void 0:t.__typename)==="User"&&o.owner.id===(null==s?void 0:s.id),g=null==s?void 0:s.userSubscriptionType,y=(b=(0,nq.A)("announcement","resources-upgrade-modal")).shouldDisplay,w=b.register,_=b.dismiss,(0,a.useEffect)(function(){!(0,nj.Po)(d)&&v&&null===g&&w()},[v,w,d,g]),A=(S=(0,i._)((0,a.useState)(!0),2))[0],k=S[1],(0,a.useEffect)(function(){var e=setTimeout(function(){k(!1)},6e4);return function(){return clearTimeout(e)}},[]),C=(0,nZ.lO)().isRunning,(0,a.useEffect)(function(){!h&&C&&(h||m(!0))},[C,h]),(0,a.useEffect)(function(){if(!(A||(0,nj.Po)(d))&&y&&h)return c.subscribe(function(e){e&&u(e.type)})},[c,w,A,v,u,d,y,g,h]),{dismissAlert:_}).dismissAlert,P=function(){return(0,l._)(function(){return(0,f.YH)(this,function(e){switch(e.label){case 0:return[4,N("MembershipPurchaseModal",{headingText:"Upgrade for a faster Workspace",subHeadingText:"Unlock 4 vCPU, 8 GiB RAM, and ".concat((0,na.$p)(e4.RB)," GiB of storage"),analyticsContext:{upgrade:{context:"repl_resources"}}})];case 1:return e.sent(),[2]}})})()};return(0,r.Y)(r.FK,{children:(0,r.FD)(F.S,{css:{overflow:"auto",maxHeight:"80vh"},children:["resources"===I?(0,r.Y)(nG,{onRequestUpgrade:P,inline:void 0!==x&&x}):null,"cpu_alert"===I||"ram_alert"===I?(0,r.FD)(F.S,{css:nQ.alertDialogWrapper,children:[(0,r.Y)(D.K0,{onClick:function(){O(),R("resources")},alt:"Close",css:nQ.alertDialogCloseButton,children:(0,r.Y)(eY.A,{})}),(0,r.Y)(nm,{alertDialogType:I,onRequestUpgrade:P})]}):null]})})}var nQ=(0,Y.x)({alertDialogWrapper:[E.wp.position.relative],alertDialogCloseButton:[E.wp.position.absolute,E.wp.top(8),E.wp.right(8),E.wp.zIndex(1)]}),nX={label:"Resources",description:"Monitor CPU, memory usage and upgrade resources",icon:(0,r.Y)(eE.A,{}),component:function(){var e,n,t=(e={variables:{replId:(0,e3.A)()}},n=(0,u._)({},eX,e),eq.I(e2,n)).data,a=(null==t?void 0:t.getRepl.__typename)==="Repl"?t.getRepl:null,i=null==t?void 0:t.currentUser;return a&&i?(0,r.Y)(nK,{repl:a,currentUser:i,inline:!0}):(0,r.Y)(F.S,{p:32,children:(0,r.Y)(nV.A,{})})}},n0=t(53847);function n1(){var e=(0,eW._)(["\n  query SshPane($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        authorizations {\n          connectUsingSsh {\n            isAuthorized\n            message\n            code\n          }\n        }\n        org {\n          id\n          type\n        }\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n    }\n  }\n"]);return n1=function(){return e},e}function n2(){var e=(0,eW._)(["\n  query SshPaneCurrentUser {\n    currentUser {\n      id\n      __typename\n      publicSshKeys {\n        ... on PublicSshKeysOutput {\n          keys {\n            id\n            key\n            label\n            timeCreated\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n      }\n    }\n  }\n"]);return n2=function(){return e},e}t(96513);var n3={};n1();var n4=(0,ej.J1)(n2());function n5(e){var n=(0,u._)({},n3,e);return eq.I(n4,n)}var n7=t(49555),n9=t(25587),n8=t(69871),n6=t(58631),te=t(45620),tn=t(85689),tt=t(82048),tr=t(5753),ta=t(65904),ti=t(71234),to=t(99684),ts=t(41572),tl=t(1453),tu=t(88288),tc=t(45261),td=t(48576),tf=t(59092),tp=t(3937);t(30416);var th=t(9797),tm=t(48114),tv=t(72272);function tg(e){return(0,r.FD)(tv.A,(0,c._)((0,u._)({},e),{children:[(0,r.FD)("g",{clipPath:"url(#clip0_6530_283)",children:[(0,r.Y)("mask",{id:"mask0_6530_283",width:"24",height:"24",x:"0",y:"0",maskUnits:"userSpaceOnUse",children:(0,r.Y)("path",{fill:"#fff",fillRule:"evenodd",d:"M17.019 23.836c.378.147.809.138 1.19-.046l4.942-2.377A1.5 1.5 0 0 0 24 20.06V3.939a1.5 1.5 0 0 0-.85-1.352L18.21.21a1.494 1.494 0 0 0-1.705.29l-9.46 8.63-4.12-3.128a.999.999 0 0 0-1.276.057L.327 7.261a1 1 0 0 0-.001 1.48L3.899 12 .326 15.26a1 1 0 0 0 .001 1.479L1.65 17.94a.999.999 0 0 0 1.276.057l4.12-3.128 9.46 8.63c.15.15.325.262.514.336Zm.985-17.284L10.826 12l7.178 5.448V6.552Z",clipRule:"evenodd"})}),(0,r.FD)("g",{mask:"url(#mask0_6530_283)",children:[(0,r.Y)("path",{fill:"#0065A9",d:"M23.15 2.591 18.207.211A1.495 1.495 0 0 0 16.5.5L.312 15.26a1 1 0 0 0 0 1.479l1.323 1.202a1 1 0 0 0 1.277.057l19.495-14.79A.993.993 0 0 1 24 4v-.057a1.5 1.5 0 0 0-.85-1.352Z"}),(0,r.Y)("g",{filter:"url(#filter0_d_6530_283)",children:(0,r.Y)("path",{fill:"#007ACC",d:"m23.15 21.409-4.944 2.38A1.495 1.495 0 0 1 16.5 23.5L.312 8.74a1 1 0 0 1 0-1.479L1.636 6.06a1 1 0 0 1 1.277-.057l19.495 14.79A.993.993 0 0 0 24 20v.058a1.5 1.5 0 0 1-.85 1.35Z"})}),(0,r.Y)("g",{filter:"url(#filter1_d_6530_283)",children:(0,r.Y)("path",{fill:"#1F9CF0",d:"M18.206 23.79a1.495 1.495 0 0 1-1.706-.29c.553.553 1.5.162 1.5-.621V1.12C18 .34 17.053-.054 16.5.5a1.496 1.496 0 0 1 1.706-.29l4.944 2.377c.52.25.85.776.85 1.352v16.122a1.5 1.5 0 0 1-.85 1.352l-4.944 2.377Z"})}),(0,r.Y)("path",{fill:"url(#paint0_linear_6530_283)",fillRule:"evenodd",d:"M17.004 23.836c.378.147.81.138 1.19-.046l4.942-2.377a1.5 1.5 0 0 0 .85-1.352V3.939a1.5 1.5 0 0 0-.85-1.352L18.195.21A1.494 1.494 0 0 0 16.49.5L7.03 9.13 2.91 6.002a.999.999 0 0 0-1.276.057L.313 7.261a1 1 0 0 0-.002 1.48L3.885 12 .31 15.26a1 1 0 0 0 .002 1.479l1.321 1.202a.999.999 0 0 0 1.276.057l4.12-3.128 9.46 8.63c.15.15.325.263.514.336Zm.985-17.284L10.812 12l7.177 5.448V6.552Z",clipRule:"evenodd",opacity:".25"})]})]}),(0,r.FD)("defs",{children:[(0,r.FD)("filter",{id:"filter0_d_6530_283",width:"28.015",height:"22.139",x:"-2.015",y:"3.799",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,r.Y)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.Y)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,r.Y)("feOffset",{}),(0,r.Y)("feGaussianBlur",{stdDeviation:"1"}),(0,r.Y)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,r.Y)("feBlend",{in2:"BackgroundImageFix",mode:"overlay",result:"effect1_dropShadow_6530_283"}),(0,r.Y)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_6530_283",result:"shape"})]}),(0,r.FD)("filter",{id:"filter1_d_6530_283",width:"11.5",height:"27.876",x:"14.5",y:"-1.938",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,r.Y)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.Y)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,r.Y)("feOffset",{}),(0,r.Y)("feGaussianBlur",{stdDeviation:"1"}),(0,r.Y)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,r.Y)("feBlend",{in2:"BackgroundImageFix",mode:"overlay",result:"effect1_dropShadow_6530_283"}),(0,r.Y)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_6530_283",result:"shape"})]}),(0,r.FD)("linearGradient",{id:"paint0_linear_6530_283",x1:"11.985",x2:"11.985",y1:".062",y2:"23.938",gradientUnits:"userSpaceOnUse",children:[(0,r.Y)("stop",{stopColor:"#fff"}),(0,r.Y)("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),(0,r.Y)("clipPath",{id:"clip0_6530_283",children:(0,r.Y)("path",{fill:"#fff",d:"M0 0h24v24H0z"})})]})]}))}function tb(){return(0,r.Y)(th.A,{src:"/public/images/cursor-ide-logo.png",width:24,height:24,alt:"Cursor Logo"})}function ty(e){var n=e.disabled,t=(0,i._)((0,a.useState)(!1),2),o=t[0],s=t[1],u=(0,eh.A)(),c=u.showError,d=u.showConfirm,p=(0,ep._P)({controlName:"flag-codename"}),h=(0,b.A)().container,m=(0,tn.A)(h).url,v=(0,nr.D)().isDarkColorScheme;return((0,te.b)(function(e,n){var t=n.signal;return(0,l._)(function(){var n,a,i,l,u,p;return(0,f.YH)(this,function(f){switch(f.label){case 0:if(!o)return[2];f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,e.vscode.start.rpc({darkMode:v},{signal:t})];case 2:return(n=f.sent()).ok?m?((a=(0,ev.jq)(m,5905)).searchParams.set("folder","/home/runner/workspace"),a.searchParams.set("tkn",n.payload.token),window.open(a.toString(),"_blank")?d("VS Code launched successfully",3e3):c((0,r.FD)(r.FK,{children:[(0,r.Y)("div",{children:"VS Code is ready but popup was blocked"}),(0,r.Y)("div",{children:"Please allow popups for this site and try again."})]}))):c("VS Code server started but URL generation failed. Please try again."):n.payload&&(i=n.payload.code,l=n.payload.message,"START_FAILED"===i?c((0,r.FD)(r.FK,{children:[(0,r.Y)("div",{children:"Failed to start VS Code server:"}),(0,r.Y)("div",{children:l||"Please try again or contact support."})]})):"NOT_RUNNING"===i?c("VS Code service is not available. Please try again later."):c("Unknown VS Code error: ".concat(l))),[3,5];case 3:return u=f.sent(),p=(0,n0._)(u,Error)?u.message:"Unknown error",c((0,r.FD)(r.FK,{children:[(0,r.Y)("div",{children:"Failed to connect to VS Code service:"}),(0,r.Y)("div",{children:p})]})),[3,5];case 4:return s(!1),[7];case 5:return[2]}})})()},[o,m,v,c,d]),p)?(0,r.FD)(tp.ui,{css:tS.connectInstructions,elevated:!0,children:[(0,r.FD)(F.S,{css:tS.connectHeader,children:[(0,r.FD)(F.S,{row:!0,gap:8,align:"center",children:[(0,r.Y)(O.Y9,{level:3,children:"VS Code in Browser"}),(0,r.Y)(nH.a,{text:"Alpha",colorway:"warning",variant:"muted"})]}),(0,r.Y)(O.EY,{color:"dimmer",children:"Launch VS Code directly in your browser without setting up SSH."})]}),(0,r.Y)(T.$n,{text:n?"VS Code Unavailable":"Launch VS Code in Browser",iconLeft:(0,r.Y)(tg,{}),css:tS.launchEditorButton,disabled:n||o,loading:o,onClick:function(){s(!0)}})]}):null}function tw(e){var n=e.editor,t=e.disabled,a=(0,tl.A)(n),i=a.openEditor,o=a.onConfirmConfig,s=a.isConfigModalOpen,l=a.closeConfigModal;return(0,r.FD)(tp.ui,{css:tS.connectInstructions,elevated:!0,children:[(0,r.FD)(F.S,{css:tS.connectHeader,children:[(0,r.FD)(O.Y9,{level:3,children:["Connect to ","vscode"===n?"VS Code":"Cursor"]}),(0,r.FD)(O.EY,{color:"dimmer",children:["One-click SSH setup will launch"," ","vscode"===n?"VS Code":"Cursor"," and configure keys for you."]})]}),(0,r.Y)(T.$n,{text:t?"SSH Key Setup Required":"Launch ".concat("vscode"===n?"VS Code":"Cursor"),iconLeft:"vscode"===n?(0,r.Y)(tg,{}):(0,r.Y)(tb,{}),css:tS.launchEditorButton,disabled:t,onClick:function(){(0,v.u4)(v.AZ.WORKSPACE,{action:"open_in_vscode_clicked",source:"ssh_pane",editor:n}),i()}}),(0,r.Y)(nR.a,{isOpen:s,onRequestClose:l,centered:!0,children:(0,r.Y)(ti.A,{onConfirm:o})})]})}function t_(e){var n=e.sshHostname,t=e.sshUser,a=e.sshPort,i=(0,ts.A)(),o="ssh -i ".concat(i,"/.ssh/replit -p ").concat(a," ").concat(t,"@").concat(n);return(0,r.FD)(tp.ui,{css:tS.connectInstructions,elevated:!0,children:[(0,r.FD)(F.S,{css:tS.connectHeader,children:[(0,r.Y)(O.Y9,{level:3,children:"Connect manually"}),(0,r.Y)(O.EY,{color:"dimmer",children:"Use the command below to connect via CLI or another IDE."})]}),(0,r.Y)(ta.A,{code:o,header:"Shell command",multiline:!1,onCopy:function(){(0,v.u4)(v.AZ.WORKSPACE,{action:"ssh_key_copied",source:"ssh_pane"})}})]})}var tS=(0,Y.x)({tabContainer:[E.wp.colWithGap(8),E.wp.p(8)],connectEmptyState:[E.wp.center,E.wp.border({color:C.LU.outlineDefault,width:1,style:"dashed"}),E.wp.borderRadius(4),E.wp.py(24),E.wp.px(12)],connectHeader:[E.wp.colWithGap(4)],connectInstructions:[E.wp.colWithGap(12),E.wp.p(8),E.wp.borderRadius(4)],launchEditorButton:[E.wp.borderRadius(8)]});function tA(e){var n=e.legacyKeys,t=e.openFile,o=(0,e3.A)(),s="legacy-ssh-keys-warning-".concat(o),l=(0,i._)((0,a.useState)(function(){return!n6.A.get(s,"boolean")}),2),u=l[0],c=l[1],d=(0,a.useRef)(!1);return((0,a.useEffect)(function(){return n6.A.get(s,"boolean")||c(!0),function(){d.current&&n6.A.set(s,!0)}},[s]),n&&0!==n.length&&u)?(0,r.Y)(F.S,{children:(0,r.Y)(tf.d,{colorway:"warning",iconLeft:(0,r.Y)(eD.A,{}),text:"Don't see your SSH keys here? We're moving from App-level keys to user-level keys. Click here to view your existing keys and re-add them using the 'New SSH Key' button above.",onClick:function(){t(tr.L),d.current=!0}})}):null}function tk(){var e,n=n5(),t=n.data,a=n.loading,i=(0,tc.A)();if(a||!i)return(0,r.Y)(td.A,{pane:{type:"developer",data:{tab:["ssh","connect"]}},loading:!0,maxWidth:450});var o=i.sshHostname,s=i.sshUser,l=i.sshPort,u=0===(t&&(null==(e=t.currentUser)?void 0:e.__typename)==="CurrentUser"&&"PublicSshKeysOutput"===t.currentUser.publicSshKeys.__typename?t.currentUser.publicSshKeys.keys:[]).length;return(0,r.FD)(F.S,{css:tS.tabContainer,children:[(0,r.Y)(O.Y9,{variant:"subheadDefault",level:2,children:"Use Replit with another editor"}),(0,r.Y)(O.EY,{color:"dimmer",children:"SSH allows you to connect to an App from another machine or IDE."}),(0,r.FD)(F.S,{py:8,gap:16,children:[(0,r.Y)(ty,{}),(0,r.Y)(tw,{editor:"vscode",disabled:u}),(0,r.Y)(tw,{editor:"cursor",disabled:u}),u?(0,r.FD)(F.S,{css:tS.connectEmptyState,gap:8,children:[(0,r.Y)(tm.A,{size:24,color:C.LU.foregroundDimmest}),(0,r.Y)(O.EY,{color:"dimmer",children:"You need to add an SSH key to your account before connecting"}),(0,r.Y)(O.EY,{color:"dimmer",variant:"small",children:"Switch to the Keys tab to manage SSH keys"})]}):(0,r.Y)(t_,{sshHostname:o,sshPort:l,sshUser:s})]}),(0,r.Y)(to.p,{})]})}function tC(e){var n,t,o,s,u,c=e.openFile,d=n5(),p=d.data,h=d.loading,m=(0,i._)((0,a.useState)(!1),2),v=m[0],g=m[1],y=(t=(n=(0,i._)((0,a.useState)(null),2))[0],o=n[1],s=(0,b.A)().fs,(0,a.useEffect)(function(){(0,l._)(function(){var e;return(0,f.YH)(this,function(n){switch(n.label){case 0:return[4,s.readFile(tr.L)];case 1:if((e=n.sent()).error===n7.Tr.NotFound||e.error===n7.Tr.IsDirectory)return[2];if(e.error)throw Error("Unexpected error reading authorized keys");return o(e.content.toString().split("\n").map(function(e){return e.startsWith("#")||(0,n8.A)(e)?null:e}).filter(Boolean)),[2]}})})()},[s]),t);if(h)return(0,r.Y)(F.S,{p:16,children:"Loading..."});var w=p&&(null==(u=p.currentUser)?void 0:u.__typename)==="CurrentUser"&&"PublicSshKeysOutput"===p.currentUser.publicSshKeys.__typename?p.currentUser.publicSshKeys.keys:[],_=w.length>=n9.L;return(0,r.FD)(F.S,{css:tS.tabContainer,children:[(0,r.FD)(F.S,{row:!0,justify:"space-between",children:[(0,r.Y)(O.Y9,{variant:"subheadDefault",level:2,children:"Manage SSH Keys"}),(0,r.Y)(P.m_,{tooltip:"You are over the SSH key limit. Please remove some of your keys to add more.",isDisabled:!_,children:(0,r.Y)(T.$n,{text:"Add SSH key",colorway:"primary",size:"small",disabled:_,iconLeft:(0,r.Y)(J.A,{}),onClick:function(){return g(!0)}})})]}),(0,r.Y)(O.EY,{color:"dimmer",children:"Add authorized keys to configure SSH access to this App."}),(0,r.Y)(tA,{legacyKeys:y,openFile:c}),(0,r.Y)(tu.f,{keys:w}),(0,r.Y)(nR.a,{isOpen:v,onRequestClose:function(){return g(!1)},centered:!0,children:(0,r.Y)(tt.P,{onConfirm:function(){return g(!1)}})})]})}var tY={label:"Connect",description:"Establish SSH connections to remote servers and manage active sessions",icon:(0,r.Y)(nB.A,{}),component:function(){return(0,r.Y)(tk,{})}},tE={label:"Keys",description:"Manage SSH public and private keys for secure authentication",icon:(0,r.Y)(tm.A,{}),component:function(e){var n=e.openPane,t=(0,a.useCallback)(function(e){return n({type:"codeEditor",data:{path:e}})},[n]);return(0,r.Y)(tC,{openFile:t})}},tx=t(43078),tT=t(35706),tD={networking:ez,resources:nX,dependencies:{label:"Dependencies",description:"Install, upgrade, and manage dependencies for your environment, build system, and application runtime",icon:(0,r.Y)(tx.A,{}),children:{import:ee,nix:eu}},ssh:{label:"SSH",description:"Configure remote access to connect to this Repl from another machine or IDE",icon:(0,r.Y)(tT.A,{}),children:{connect:tY,keys:tE}}}},91806:(e,n,t)=>{"use strict";t.d(n,{D4:()=>O,QS:()=>P});var r=t(17844),a=t(93629),i=t(34837),o=t(21462),s=t(74651),l=t(42028),u=t(80719),c=t(41683),d=t(40115),f=t(53011),p=t(73491),h=t(22668),m=t(22170),v=t(22239),g=t(1095),b=t(8086),y=t(62246),w=t(26),_=t(61101),S=t(51033),A=t(70537),k=t(54741),C=t(21130),Y=t(99708),E=t(39534),x=t(73455),T=t(25590),D=t(6525),I=t(63704),R=s.ZU.Union([s.ZU.Object({type:s.ZU.Literal("local"),port:s.ZU.Number(),path:s.ZU.Optional(s.ZU.String())}),s.ZU.Object({type:s.ZU.Literal("external"),port:s.ZU.Number(),path:s.ZU.Optional(s.ZU.String())})]),N=s.ZU.Object({type:s.ZU.Literal("webview"),data:s.ZU.Optional(s.ZU.Object({previewScreenSize:s.ZU.Optional(h.R),ports:s.ZU.Optional(R),sessionId:s.ZU.Optional(s.ZU.String())}))}),O=function(e){return l.T(N,e)},P={Content:function(e){var n,t=e.pane.data,s=e.options,l=s.performPaneOperation,f=s.isActive,h=s.paneId,m=(0,o.useRef)(null),g=(0,u.jt)(),b=(0,C.x)(),y=(0,k.Y)().isAgentStackRepl,_=(0,d.A)().ports,S=(0,c.w)(_),A=(0,o.useMemo)(function(){var e;return null!=(e=(0,p.E)(t,S))?e:80},[t,S]),E=null==t||null==(n=t.ports)?void 0:n.path,x=(0,o.useCallback)(function(e){l({operation:"open",pane:e})},[l]),T=(0,o.useCallback)(function(){return x({type:"deployments"})},[x]),D=null==t?void 0:t.previewScreenSize,I=(0,o.useCallback)(function(e){l({operation:"replace",pane:{type:"webview",data:(0,a._)((0,r._)({},t),{previewScreenSize:e})}})},[t,l]),R=(0,o.useCallback)(function(){var e,n;l({operation:"openPip",data:{type:"webview",port:A,path:null!=(n=null==(e=m.current)?void 0:e.getCurrentPath())?n:"/"}})},[A,l]),N=(0,w.xQ)({openDeploymentsPane:T,includeSharing:!0}).getCommandGroups;return((0,Y.Qt)(function(){var e={type:"webview",refresh:function(){var e;null==(e=m.current)||e.refresh()},navigate:function(e,n){var t;null==(t=m.current)||t.navigateTo(e,n)}},n=N();return n.length>0?(0,a._)((0,r._)({},e),{commands:n}):e},[N]),y)?(0,i.Y)(v.q,{openPane:x}):!g||b||y?(0,i.Y)(F,{ref:m,isActive:f,initialPort:A,initialPath:E,openPane:x,handlePipClick:R,previewScreenSize:D,setPreviewScreenSize:I,paneId:h}):(0,i.Y)(U,{ref:m,isActive:f,initialPort:A,initialPath:E,openPane:x,handlePipClick:R,previewScreenSize:D,setPreviewScreenSize:I,openDeploymentsPane:T,paneId:h})},Icon:function(e){var n=e.size;return(0,i.Y)(T.Vx.Provider,{value:{color:E.LU.foregroundDimmer,size:n},children:(0,i.Y)(D.A,{})})},getTitle:function(){return"Preview"},description:"Preview your App",category:y.bY.WorkspaceFeatures,decode:O},F=(0,o.forwardRef)(function(e,n){var t=e.isActive,r=e.initialPort,a=e.initialPath,s=e.openPane,l=e.handlePipClick,u=e.previewScreenSize,c=e.setPreviewScreenSize,f=e.paneId,h=(0,m.X)(r),v=(0,b.A)(),y=v.didConnectOnce,w=v.didDisconnect,S=(0,d.A)(),A=S.container,k=S.ports,C=(0,o.useCallback)(function(){return s({type:"developer",data:{tab:["networking"]}})},[s]),Y=(0,o.useCallback)(function(){return s({type:"deployments"})},[s]);return((0,_.VP)({isVisible:t&&!h}),h)?(0,i.Y)(g.A,{openNetworkingTool:C,didConnectOnce:y,didDisconnect:w}):(0,i.FD)(i.FK,{children:[(0,i.Y)(L,{openDeploymentsPane:Y,handlePipClick:l}),(0,i.Y)(p.Q,{ref:n,initialPort:r,initialPath:a,ports:k,container:A,openPane:s,previewScreenSize:u,setPreviewScreenSize:c,paneId:f})]})}),U=(0,o.forwardRef)(function(e,n){var t=e.isActive,r=e.initialPort,a=e.initialPath,o=e.openPane,s=e.handlePipClick,l=e.previewScreenSize,u=e.setPreviewScreenSize,c=e.openDeploymentsPane,f=e.paneId,h=(0,A.X5)(),m=(0,d.A)(),v=m.container,g=m.ports,b=h.state===A.J4.READY||h.state===A.J4.LAST_RESORT_READY;if((0,_.VP)({isVisible:t&&b}),!b)return(0,i.Y)(S.j,{webviewState:h,openPane:o});var y=h.state===A.J4.READY?h.presentPort:h.externalPort,w=h.state===A.J4.READY?h.presentRoute:a;return(0,i.FD)(i.FK,{children:[(0,i.Y)(L,{openDeploymentsPane:c,handlePipClick:s}),(0,i.Y)(p.Q,{ref:n,initialPort:null!=y?y:r,initialPath:null!=w?w:a,ports:g,container:v,openPane:o,previewScreenSize:l,setPreviewScreenSize:u,paneId:f})]})});function L(e){var n=e.openDeploymentsPane,t=e.handlePipClick;return(0,i.FD)(i.FK,{children:[(0,i.Y)(f.cR,{side:"left",children:(0,i.Y)(w.Cv,{openDeploymentsPane:n})}),(0,i.Y)(f.cR,{side:"right",children:(0,i.Y)(x.K0,{size:36,alt:"Picture in Picture",onClick:t,children:(0,i.Y)(I.A,{})})})]})}},91818:(e,n,t)=>{"use strict";t.d(n,{Os:()=>o});var r=t(74651),a=t(11874),i=t(89404);r.ZU.Object({refs:r.ZU.Array(a.$0),hash:r.ZU.String(),parents:r.ZU.Union([r.ZU.Null(),r.ZU.Array(r.ZU.String())]),grafted:r.ZU.Boolean(),author:i.T,committer:i.T,subject:r.ZU.String(),body:r.ZU.String(),trailers:r.ZU.Record(r.ZU.String(),r.ZU.Union([r.ZU.String(),r.ZU.Undefined()])),notes:r.ZU.Optional(r.ZU.String())});var o=function(e){return e.ADDED="ADDED",e.COPIED="COPIED",e.DELETED="DELETED",e.MODIFIED="MODIFIED",e.RENAMED="RENAMED",e.TYPE_CHANGED="TYPE_CHANGED",e.UNKNOWN="UNKNOWN",e.BROKEN="BROKEN",e}({}),s=r.ZU.Enum(o);r.ZU.Object({path:r.ZU.String(),type:s,originalPath:r.ZU.Optional(r.ZU.String())})},91932:e=>{e.exports={root:"Search_root__7YA6W"}},91981:(e,n,t)=>{"use strict";t.d(n,{y:()=>C});var r=t(83846),a=t(17844),i=t(93629),o=t(12694),s=t(34837),l=t(72096),u=t.n(l),c=t(21462),d=t(54872),f=t(35897),p=t(61125),h=t(43162),m=t(62058),v=t(70764),g=t(18712),b=t(40756),y=t(93868),w=t(70251),_=t(91953),S=t(25227),A=(0,v.x)({self:[g.wp.container("root")],actions:[(0,r._)({},g.kL.max(475,"root"),[g.wp.colWithGap(8),g.wp.align.end])],buttons:[(0,r._)({},g.kL.max(350,"root"),[g.wp.colWithGap(8),g.wp.align.end])]}),k=function(){var e=(0,p.A)(),n=(0,d.DY)({variables:{id:e},ssr:!1,context:{noBatch:!0},pollInterval:6e4}),t=n.data,r=n.previousData,l=(0,f.A)(),v=l.showConfirm,g=l.showError,k=(0,o._)((0,m.B)({onFork:function(){v("Repl forked, redirecting...")},onError:function(){g("Error creating fork - please try again")}}),2),C=k[0],Y=k[1].loading,E=(null==t?void 0:t.getRepl.__typename)==="Repl"?t.getRepl:null,x=(null==r?void 0:r.getRepl.__typename)==="Repl"?r.getRepl:null,T=(null==E?void 0:E.org)?E.org:null,D=(null==E?void 0:E.project)?E.project:null,I=(0,o._)((0,c.useState)(!1),2),R=I[0],N=I[1];return((0,c.useEffect)(function(){var n,t,r,a;if((null==E||null==(n=E.project)?void 0:n.mainRepl)&&x&&E.project.mainRepl.id===e)return(null==(r=x.project)||null==(t=r.mainRepl)?void 0:t.id)&&x.project.mainRepl.id===e||(a=setTimeout(function(){N(!0)},6e3)),function(){a&&clearTimeout(a)}},[e,E,x]),E&&T&&D)?(0,s.Y)(w.a,{isOpen:R,onRequestClose:function(){return N(!1)},centered:!0,children:(0,s.FD)(S.S,{css:A.self,gap:16,children:[(0,s.Y)(_.Y9,{level:2,variant:"subheadBig",children:"This Repl is now part of a Project"}),(0,s.FD)(_.EY,{children:["This Repl is now the source of truth for a Project called"," ",D.title,". Continued development in this Repl may lead to unexpected changes."]}),(0,s.FD)(S.S,{css:A.actions,row:!0,gap:8,justify:"space-between",align:"center",children:[(0,s.Y)(u(),{href:"https://docs.replit.com/teams/projects/overview",target:"_blank",children:(0,s.Y)(_.EY,{children:"Learn more"})}),(0,s.FD)(S.S,{css:A.buttons,row:!0,gap:8,children:[(0,s.Y)(b.$n,{text:"Work in a new fork",onClick:function(){Y||C({orgId:T.id,repl:E,forkSource:"convertedToProjectModal"})},disabled:Y,loading:Y}),(0,s.Y)(y.v,(0,i._)((0,a._)({colorway:"primary"},(0,h.gm)({org:T,projectId:D.id})),{text:"Visit Project dashboard"}))]})]})]})}):null},C=function(e){return e.repl.org?(0,s.Y)(k,{}):null}},92437:(e,n,t)=>{"use strict";t.d(n,{g:()=>p});var r=t(21462),a=t(90629),i=t(79203),o=t(30284),s=t(86103),l=t(34778),u=t(68689),c=t(2008),d=t(34594),f=t(33369);function p(e){var n=(0,i.Xr)(u.zq),t=(0,i.Xr)(u.$j),p=(0,i.Xr)(u.DV),h=(0,i.Xr)(u.vD),m=(0,i.Xr)(u.gN),v=(0,i.Xr)(d.V2),g=(0,i.Xr)(d.VL),b=(0,i.Xr)(u.cT),y=(0,i.Xr)(u.x8),w=(0,i.md)(u.e0),_=(0,c.l)(w),S=(0,s._P)({type:"string",controlName:"flag-cartographer-version",default:"0.0.10"}),A=(0,s._P)({type:"boolean",controlName:"flag-killswitch-standalone-beacon"}),k=(0,r.useCallback)(function(){try{m(),(0,f.vB)()}catch(e){a.Cp(e)}},[m]);return(0,r.useEffect)(function(){var r=function(r){if(null==(a=r.data)?void 0:a.type)switch(r.data.type){case"ELEMENT_SELECTED":if(r.data.payload){n(r.data.payload),g(r.data.payload),r.data.payload.screenshotBlob&&h(r.data.payload.screenshotBlob);var a,i,s=(0,f.qP)(r);s&&(0,f.vB)({excludeIframe:s}),(0,l.u4)(o.AZ.VISUAL_SELECTOR,{action:"element_selected",element:(0,f.xC)(r.data.payload)})}break;case"ELEMENT_TEXT_CHANGED":r.data.payload&&v(r.data.payload.textContent);break;case"REPLIT_VISUAL_EDITOR_ENABLED":t(!0);break;case"ELEMENT_UNSELECTED":k();break;case"REPLIT_VISUAL_EDITOR_DISABLED":k(),(null==e?void 0:e.agentChatModeId)==="edit"&&(null==e||null==(i=e.onVisualSelectorDisabled)||i.call(e));break;case"SELECTOR_SCRIPT_LOADED":var u=r.data.version;if(b(u),A&&u.includes("standalone"))return;u&&u.localeCompare(S,void 0,{numeric:!0})>-1&&(p(!0),(null==e?void 0:e.agentChatModeId)==="edit"&&(0,f.J8)(!0,!0),k())}};return window.addEventListener("message",r),function(){window.removeEventListener("message",r)}},[n,t,p,m,S,h,A,v,g,b,k,e]),(0,r.useEffect)(function(){w&&!_.content&&y()},[w,_.content,y]),{handleClearSelection:k}}},92932:e=>{e.exports={popoverContent:"HeaderMenu_popoverContent__Vp745",popoverContentText:"HeaderMenu_popoverContentText__ATPPb"}},93174:(e,n,t)=>{"use strict";t.d(n,{Q:()=>c,x:()=>u});var r=t(29935),a=t(12694),i=t(82643),o=t(21462),s=t(31472),l=t(40115),u=function(e){return e.escapeHatchGitExecWrite("git config --local core.sshCommand replit-git-ssh")};function c(){var e=(0,l.A)(),n=e.container,t=e.fs,c=e.git,d=(0,a._)((0,o.useState)({state:"loading"}),2),f=d[0],p=d[1];return(0,o.useEffect)(function(){(0,r._)(function(){var e;return(0,i.YH)(this,function(n){switch(n.label){case 0:return p({state:"loading"}),[4,c.getRepositoryState()];case 1:if((e=n.sent()).error&&p({state:"error",error:"Could not get repository status"}),e.error||e.state===s.Gi.NOT_INITIALIZED)return p({state:"error",error:"Could not get repository status"}),[2];return[4,u(c)];case 2:if(n.sent().error)return p({state:"error",error:"Could not configure SSH"}),[2];return p({state:"finished",hasInstalled:!0}),[2]}})})()},[n,t,c]),f}},93403:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M14.25 3a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0V4.81l-5.72 5.72a.75.75 0 1 1-1.06-1.06l5.72-5.72H15a.75.75 0 0 1-.75-.75Zm-3.72 10.47a.75.75 0 0 1 0 1.06l-5.72 5.72H9a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1-.75-.75v-6a.75.75 0 0 1 1.5 0v4.19l5.72-5.72a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})}))}},93445:e=>{e.exports={wrapper:"WebviewLogs_wrapper__iVzTq",tabsWrapper:"WebviewLogs_tabsWrapper__OwOn6",resizeHandle:"WebviewLogs_resizeHandle__SVypn",resizeGrip:"WebviewLogs_resizeGrip__TxMbh",resizing:"WebviewLogs_resizing__4BSBQ",header:"WebviewLogs_header__oFx9k",logsContainer:"WebviewLogs_logsContainer__dpp4t",snapToBottom:"WebviewLogs_snapToBottom__gjgrl",scrollSnap:"WebviewLogs_scrollSnap__rrOYd",logRow:"WebviewLogs_logRow__c2qHH",errorLog:"WebviewLogs_errorLog__6YjiJ",warningLog:"WebviewLogs_warningLog__1gxS1",xtermWrapper:"WebviewLogs_xtermWrapper__rzAbo",xtermInner:"WebviewLogs_xtermInner__lvoyt",nowrap:"WebviewLogs_nowrap__1ASPt"}},93593:(e,n,t)=>{"use strict";t.d(n,{L:()=>Y});var r=t(12694),a=t(86105),i=t(34837),o=t(21462),s=t(10922),l=t(39534),u=t(70764),c=t(51292),d=t(18712),f=t(93868),p=t(2717),h=t(91953),m=t(25227),v=t(89867),g=t(30453),b=t(17844),y=t(93629),w=t(25590);function _(e){return(0,i.Y)(w.Ay,(0,y._)((0,b._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M7.945 3.052a1.25 1.25 0 0 0-.835-.302h-3a1.25 1.25 0 0 0-1.243 1.357 19.04 19.04 0 0 0 2.953 8.335l.003.006a18.75 18.75 0 0 0 5.77 5.769l.005.004a19.04 19.04 0 0 0 8.296 2.953 1.25 1.25 0 0 0 1.356-1.251V16.901a1.25 1.25 0 0 0-1.072-1.268 13.592 13.592 0 0 1-2.97-.74l-.002-.001a1.251 1.251 0 0 0-1.317.28l-.002.001-1.267 1.267a.75.75 0 0 1-.9.122 16.75 16.75 0 0 1-6.282-6.281.75.75 0 0 1 .122-.901L8.828 8.11a1.25 1.25 0 0 0 .28-1.317v-.002a13.59 13.59 0 0 1-.741-2.97 1.25 1.25 0 0 0-.422-.77ZM7.107 1.25a2.75 2.75 0 0 1 2.747 2.372c.119.904.34 1.791.659 2.645A2.75 2.75 0 0 1 9.89 9.17l-.858.858a15.249 15.249 0 0 0 4.94 4.94l.86-.86v-.001a2.75 2.75 0 0 1 2.901-.62 12.085 12.085 0 0 0 2.652.66 2.75 2.75 0 0 1 2.365 2.781v2.99a2.752 2.752 0 0 1-3.011 2.748 20.54 20.54 0 0 1-8.954-3.185 20.25 20.25 0 0 1-6.226-6.226 20.54 20.54 0 0 1-3.186-9.007A2.75 2.75 0 0 1 4.11 1.25h2.998Z",clipRule:"evenodd"})}))}var S=[d.wp.borderRadius(),d.wp.px(12),d.wp.py(16),c.b.filled,d.wp.hover({backgroundColor:l.LU.accentPrimaryDimmer}),d.wp.width("50%"),d.wp.justify.center,d.wp.flex.column],A=(0,u.x)({container:S,containerActive:(0,a._)(S).concat([d.wp.backgroundColor.accentPrimaryDimmest,d.wp.border({color:l.LU.accentPrimaryDimmer})]),headline:[d.wp.fontWeight.medium],premiumPill:[d.wp.display.inlineBlock,d.wp.height("20px"),{verticalAlign:"middle"}],text:[d.wp.width("100%")]});function k(e){var n=e.optionKey,t=e.icon,r=e.headline,a=e.description,o=e.isPremium,s=e.isActive,l=e.setSelectedOption;return(0,i.FD)(m.S,{css:s?A.containerActive:A.container,gap:6,onClick:function(){l(n)},children:[(0,i.FD)(m.S,{row:!0,gap:4,align:"center",children:[t,(0,i.Y)(h.EY,{variant:"subheadDefault",css:A.headline,children:r}),o?(0,i.Y)(p.a,{colorway:"green",text:"Premium",css:A.premiumPill}):null]}),(0,i.Y)(m.S,{row:!0,gap:4,align:"center",children:(0,i.Y)(h.EY,{variant:"small",color:"dimmer",css:A.text,children:a})})]})}var C=(0,u.x)({callOptionContainer:[d.wp.width("100%"),d.wp.flex.column,d.wp.align.center,d.wp.justify.center,d.wp.height("100px"),d.wp.border({color:l.LU.outlineDimmer}),d.wp.borderRadius()],helpButtonContainer:[{"@media (max-width: 600px)":{flexDirection:"column"}}]});function Y(e){var n=e.onSubmit,t=(0,r._)((0,o.useState)(null),2),a=t[0],l=t[1],u=[{optionKey:"call",icon:(0,i.Y)(_,{size:20}),headline:"Schedule a call",description:"Have a discussion with a Replit employee over a video call.",isPremium:!0},{optionKey:"feedback",icon:(0,i.Y)(g.A,{size:20}),headline:"Share feedback & bugs",description:"Tell us about your experience. Feedback is reviewed by the Replit team."}];return(0,i.FD)(m.S,{gap:8,children:[(0,i.Y)(h.EY,{variant:"headerDefault",children:"Talk to us"}),(0,i.Y)(m.S,{row:!0,gap:8,css:C.helpButtonContainer,pr:6,children:u.map(function(e){return(0,i.Y)(k,{icon:e.icon,headline:e.headline,description:e.description,isPremium:e.isPremium,optionKey:e.optionKey,isActive:a===e.optionKey,setSelectedOption:l},e.optionKey)})}),"call"===a?(0,i.Y)(m.S,{css:C.callOptionContainer,children:(0,i.Y)(f.v,{iconLeft:(0,i.Y)(v.A,{}),text:"Select a time to chat",colorway:"blue",target:"_blank",href:"https://calendly.com/kody-low-repl/replit-support"})}):null,"feedback"===a?(0,i.Y)(s.O,{showHeading:!1,onSubmit:function(e){n(e),l(null)}}):null]})}},93709:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M21.25 6a2.25 2.25 0 1 0-4.5 0 2.25 2.25 0 0 0 4.5 0ZM19 2.25a3.75 3.75 0 1 1-3.675 4.5H12c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h3.325a3.751 3.751 0 0 1 7.425.75 3.75 3.75 0 0 1-7.425.75H12A2.75 2.75 0 0 1 9.25 16v-3.25H2a.75.75 0 0 1 0-1.5h7.25V8A2.75 2.75 0 0 1 12 5.25h3.325c.348-1.712 1.86-3 3.675-3ZM21.25 18a2.25 2.25 0 1 0-4.5 0 2.25 2.25 0 0 0 4.5 0Z",clipRule:"evenodd"})}))}},93715:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M12 1.25a10.7 10.7 0 0 1 5.843 1.725l-1.089 1.089a9.19 9.19 0 0 0-3.05-1.157 16.05 16.05 0 0 1 1.556 2.651l-1.137 1.137A14.546 14.546 0 0 0 12 3.15a14.55 14.55 0 0 0-3.214 8.101h.782l-2.221 2.221c-.027-.24-.049-.48-.065-.721H2.78a9.194 9.194 0 0 0 1.284 4.004l-1.089 1.089A10.7 10.7 0 0 1 1.25 12C1.25 6.063 6.063 1.25 12 1.25Zm7.936 5.996 1.089-1.089A10.7 10.7 0 0 1 22.75 12c0 5.937-4.813 10.75-10.75 10.75a10.7 10.7 0 0 1-5.843-1.725l1.089-1.089a9.191 9.191 0 0 0 3.05 1.157 16.05 16.05 0 0 1-1.556-2.651l1.137-1.137A14.548 14.548 0 0 0 12 20.85a14.55 14.55 0 0 0 3.214-8.101h-.782l2.221-2.221c.027.24.049.48.065.721h4.502a9.193 9.193 0 0 0-1.284-4.004ZM2.78 11.25h4.502a16.05 16.05 0 0 1 3.014-8.343A9.255 9.255 0 0 0 2.78 11.25Zm10.924 9.843a16.051 16.051 0 0 0 3.014-8.343h4.502a9.255 9.255 0 0 1-7.516 8.343ZM22.53 2.53a.75.75 0 0 0-1.06-1.06l-20 20a.75.75 0 1 0 1.06 1.06l20-20Z",clipRule:"evenodd"})}))}},93754:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(12694),a=t(21462),i={isConnecting:!0,channel:null,context:null};function o(e){var n=e.container,t=e.service,o=e.name,s=e.skip,l=void 0!==s&&s,u=(0,r._)((0,a.useState)(i),2),c=u[0],d=u[1];return(0,a.useEffect)(function(){d(i);var e=!1,r=n.openChannel({service:t,name:o,skip:function(){return l}},function(n){if(!e)return d({context:n.context,channel:n.channel,isConnecting:!1}),function(n){e||d({isConnecting:n.willReconnect,channel:null,context:null})}});return function(){e=!0,r()}},[n,t,o,l]),c}},93783:(e,n,t)=>{"use strict";t.d(n,{A:()=>v});var r=t(29935),a=t(82643),i=t(34837),o=t(21462),s=t(96907),l=t.n(s),u=t(35897),c=t(34778),d=t(40115),f=t(13672),p=t(20573),h=t(70450);function m(){var e=(0,d.A)(),n=(0,h.h)(h.bO),t=(0,h.h)(h.hQ),i=(0,h.Ou)(h.hQ),s=(0,h.ob)(h.hQ),m=(0,h.h)(h.E2),v=(0,h.cW)(),g=(0,h.wy)(),b=(0,h.Ff)(),y=(0,h.hq)(),w=(0,u.A)(),_=(0,f.J)().configs,S=(0,h.ov)();return(0,o.useEffect)(function(){if(0!==_.length){var n=[],t=!1,r=!0,a=!1,o=void 0;try{for(var s,u=_[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)!function(){var r=s.value,a=Promise.resolve(),o=g(r.id),u=l()(function(){var n=g(r.id),o=i();if(n===h.d_.Idle||(null==o?void 0:o.id)!==r.id){var s=(0,p.N)(r.id);a=a.then(function(){if(!t)return s.getInstalledPackages({id:r.id,services:e}).then(function(e){t||(b(r.id,e),v(r.id,h.d_.Idle))})})}},500);if(r.packagerFiles.length>0){var c=!0,d=!1,f=void 0;try{for(var m,y=r.packagerFiles[Symbol.iterator]();!(c=(m=y.next()).done);c=!0)!function(){var t=m.value;if(!t.endsWith("/")){var r=null!==o&&o!==h.d_.Initializing&&o!==h.d_.Uninitialized,a=e.fs.watchFilePath(t,{onChange:function(){if(!r){r=!0;return}u()}});n.push(a)}}()}catch(e){d=!0,f=e}finally{try{c||null==y.return||y.return()}finally{if(d)throw f}}}}()}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return function(){t=!0;var e=!0,r=!1,a=void 0;try{for(var i,o=n[Symbol.iterator]();!(e=(i=o.next()).done);e=!0)(0,i.value)()}catch(e){r=!0,a=e}finally{try{e||null==o.return||o.return()}finally{if(r)throw a}}}}},[_,e.fs]),(0,o.useEffect)(function(){var n=!1;return(0,r._)(function(){var t,r,i,o,s,l;return(0,a.YH)(this,function(a){t=!0,r=!1,i=void 0;try{for(o=function(){var t=l.value,r=g(t.id);if(r&&r!==h.d_.Uninitialized&&r!==h.d_.Initializing)return"continue";v(t.id,h.d_.Initializing),(0,p.N)(t.id).getInstalledPackages({id:t.id,services:e}).then(function(e){n||(b(t.id,e),v(t.id,h.d_.Idle))})},s=_[Symbol.iterator]();!(t=(l=s.next()).done);t=!0)o()}catch(e){r=!0,i=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw i}}return[2]})})(),function(){n=!0}},[_]),(0,o.useEffect)(function(){if(null===t&&0!==n.length){var e=n[0];g(e.id)===h.d_.Idle&&y(e)}},[m,t,n]),(0,o.useEffect)(function(){if(null!==t){var n=!1;return(0,r._)(function(){var r,i,o,l,u,d,f,m,g,y,_,A,k,C,Y,E,x,T;return(0,a.YH)(this,function(a){switch(a.label){case 0:switch(r=(0,p.N)(t.id),t.kind){case h.Vr.Install:return[3,1];case h.Vr.Uninstall:return[3,6]}return[3,11];case 1:v(t.id,h.d_.Installing),i=!0,o=!1,l=void 0;try{for(u=t.pkgs[Symbol.iterator]();!(i=(d=u.next()).done);i=!0)f=d.value,(0,c.u4)(c.AZ.PACKAGE_MANAGER_USED,{action:"installed",packageId:f.name})}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}a.label=2;case 2:return a.trys.push([2,4,,5]),[4,r.install({id:t.id,pkgs:t.pkgs,services:e})];case 3:return a.sent(),1===t.pkgs.length?w.showNotice("Installed ".concat(null!=(m=t.pkgs[0].name)?m:"package")):w.showNotice("Installed ".concat(t.pkgs.length," packages")),[3,5];case 4:return a.sent(),1===t.pkgs.length?w.showError("Failed to install ".concat(null!=(g=t.pkgs[0].name)?g:"package")):w.showError("Failed to install ".concat(t.pkgs.length," packages")),S(t.id,t.pkgs),[3,5];case 5:return[3,11];case 6:v(t.id,h.d_.Uninstalling),y=!0,_=!1,A=void 0;try{for(k=t.pkgs[Symbol.iterator]();!(y=(C=k.next()).done);y=!0)Y=C.value,(0,c.u4)(c.AZ.PACKAGE_MANAGER_USED,{action:"removed",packageId:Y.name})}catch(e){_=!0,A=e}finally{try{y||null==k.return||k.return()}finally{if(_)throw A}}a.label=7;case 7:return a.trys.push([7,9,,10]),[4,r.uninstall({id:t.id,pkgs:t.pkgs,services:e})];case 8:return a.sent(),1===t.pkgs.length?w.showNotice("Removed ".concat(null!=(E=t.pkgs[0].name)?E:"package")):w.showNotice("Removed ".concat(t.pkgs.length," packages")),[3,10];case 9:return a.sent(),1===t.pkgs.length?w.showError("Failed to remove ".concat(null!=(x=t.pkgs[0].name)?x:"package")):w.showError("Failed to remove ".concat(t.pkgs.length," packages")),S(t.id,t.pkgs),[3,10];case 10:return[3,11];case 11:if(n)return[2];return[4,r.getInstalledPackages({id:t.id,services:e})];case 12:if(T=a.sent(),n)return[2];return b(t.id,T),v(t.id,h.d_.Idle),s(null),[2]}})})(),function(){n=!0}}},[t]),null}function v(e){var n=e.children,t=(0,h.PY)();return(0,i.FD)(h.tB.Provider,{value:t,children:[(0,i.Y)(m,{}),n]})}},94123:(e,n,t)=>{"use strict";t.d(n,{D:()=>d});var r,a=t(83846),i=t(34837),o=t(42793),s=t(18712),l=t(90233),u=t(43193),c=(0,o.AH)([s.wp.focusRing,s.wp.display.flex,s.wp.center,s.wp.borderRadius(4),s.wp.backgroundColor.backgroundRoot,s.wp.color.foregroundDefault,s.wp.cursor.pointer,s.wp.p(4),(r={transition:"background-color 0.2s",border:"none"},(0,a._)(r,s.Tp.hover,[s.wp.backgroundColor.backgroundHigher]),(0,a._)(r,":focus",{outline:"none"}),r)]),d=function(e){var n=e.onClick;return(0,i.Y)(l.m_,{tooltip:"Clear",placement:"bottom-start",children:(0,i.Y)("button",{"aria-label":"Clear",onClick:n,css:c,children:(0,i.Y)(u.A,{size:16})})})}},94280:(e,n,t)=>{"use strict";t.d(n,{F:()=>r,X:()=>a});var r=function(e){return e.Welcome="Welcome",e.Forks="Forks",e.ProjectPane="ProjectPane",e}({}),a={id:"workspace-repo-projects-tour",steps:[{title:"Welcome to your Project",id:"Welcome",content:"Click here to see all forks inside this Project and navigate between them.",hideOverlay:!0},{title:"Project Forks",id:"Forks",content:"Move to a different Repl within this Project, or create a new one",hideTooltip:!0,hideOverlay:!0},{title:"Project Pane",id:"ProjectPane",content:"View your changes, and merge them back into the main Repl when you're ready.",hideOverlay:!0}]}},94396:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.FD)(o.Ay,(0,a._)((0,r._)({},e),{children:[(0,i.Y)("path",{d:"M12.56 10.72a.75.75 0 0 0-1.06 0L8 14.22a.75.75 0 1 0 1.06 1.06l2.22-2.22v5.19a.75.75 0 0 0 1.5 0v-5.19L15 15.28a.75.75 0 0 0 1.06-1.06l-3.5-3.5Z"}),(0,i.Y)("path",{fillRule:"evenodd",d:"M6 1.25A2.75 2.75 0 0 0 3.25 4v16A2.75 2.75 0 0 0 6 22.75h12A2.75 2.75 0 0 0 20.75 20V8a.75.75 0 0 0-.22-.53l-6-6a.75.75 0 0 0-.53-.22H6Zm-.884 1.866A1.25 1.25 0 0 1 6 2.75h7.25V8c0 .414.336.75.75.75h5.25V20A1.25 1.25 0 0 1 18 21.25H6A1.25 1.25 0 0 1 4.75 20V4c0-.332.132-.65.366-.884ZM18.19 7.25 14.75 3.81v3.44h3.44Z",clipRule:"evenodd"})]}))}},94466:e=>{e.exports={tableGrid:"DatabaseOverviewTab2_tableGrid__sCF_f",skeletonItem:"DatabaseOverviewTab2_skeletonItem__KpHel",skeletonIcon:"DatabaseOverviewTab2_skeletonIcon__fcbk9",skeletonName:"DatabaseOverviewTab2_skeletonName__x__ga",skeletonStorage:"DatabaseOverviewTab2_skeletonStorage__GHtY_",skeletonDelayed:"DatabaseOverviewTab2_skeletonDelayed__bPRXr","skeleton-delay-fadein":"DatabaseOverviewTab2_skeleton-delay-fadein__GAoB2"}},94507:(e,n,t)=>{"use strict";t.d(n,{u:()=>es});var r=t(34837),a=t(21462),i=t(74651),o=t(42028),s=t(29935),l=t(17844),u=t(93629),c=t(12694),d=t(86105),f=t(82643),p=t(63245),h=t.n(p),m=t(72096),v=t.n(m),g=t(82315),b=t(14683),y=t(91217),w=t(71973),_=t(69427),S=t(40371),A=t(6441),k=t(7017),C=t(86103),Y=t(34778),E=t(12213),x=t(18712),T=t(40756),D=t(3554),I=t(99933),R=t(2717),N=t(22611),O=t(8613),P=t(35155),F=t(30416),U=t(91953),L=t(25227),M=t(8553),J=t(6571),H=t(33683),B=t(35247),V=t(96379),$=t(55929),G=t(12785),z=t(94686),W=t(39831),j=t.n(W),q=[],Z=[],K=function(e){var n=e.query,t=e.connectionsUsedInApp,i=e.connections,o=e.onManage,l=e.onDelete,u=e.isLoading,d=(0,c._)((0,a.useState)(null),2),p=d[0],m=d[1],v=(0,a.useMemo)(function(){return new g.Rk(t,{fuzzy:!1,selector:function(e){return"".concat(e.displayName," ").concat(e.type)}})},[t]),b=(0,a.useMemo)(function(){return n?v.find(n).map(function(e){return e.item}):t},[v,n,t]),y=function(e){var n=e.item;return o?(0,r.Y)(T.$n,{iconLeft:(0,r.Y)(z.A,{}),variant:"default",text:"Manage",size:"small",onClick:function(){var e;(0,Y.u4)(Y.AZ.MANAGE_CONNECTION_CLICKED,{connectorName:n.connectorName}),o(null!=(e=i.find(function(e){return e.connectionId===n.id}))?e:null)}}):(0,r.Y)(I.in,{"aria-label":"Manage integration",trigger:(0,r.Y)(T.$n,{iconLeft:(0,r.Y)(z.A,{}),size:"small",variant:"default",text:"Manage"}),children:(0,r.Y)(I.Dr,{id:"delete-".concat(n.id),label:"Delete",isDestructive:!0,onAction:function(){m(n)}})})};return(0,r.FD)(L.S,{pt:12,children:[(0,r.Y)(D.h,{title:"",autoLayout:!1,columns:[{key:"name",label:"Name",allowSorting:!1,width:200,isRowHeader:!0},{key:"description",label:"Description",allowSorting:!1,maxWidth:760},{key:"status",label:"Connection Status",allowSorting:!1,width:118},{key:"actions",label:"",allowSorting:!1,width:99}],items:b,emptyState:n?void 0:(0,r.Y)(function(){return(0,r.Y)(L.S,{className:j().centeredMessage,children:(0,r.Y)(U.EY,{children:"No connections added to this app"})})},{}),loading:void 0!==u&&u,children:function(e){var n;return(0,r.FD)(P.H,{id:e.id,children:[(0,r.Y)(O.n,{children:(0,r.FD)(L.S,{gap:8,row:!0,align:"center",children:[(0,r.Y)(L.S,{children:(0,r.Y)(h(),{width:24,height:24,src:null!=(n=e.iconPath)?n:"",alt:e.displayName})}),(0,r.Y)(U.EY,{children:e.displayName})]})},"name"),(0,r.Y)(O.n,{children:(0,r.Y)(U.EY,{color:"dimmer",variant:"text",children:e.description})},"description"),(0,r.Y)(O.n,{children:(0,r.Y)(L.S,{row:!0,children:"connection"===e.type?(0,r.FD)(L.S,{row:!0,gap:8,align:"center",children:[(0,r.Y)(M.A,{size:8,color:"healthy"===e.status?"green":"red"}),(0,r.Y)(U.EY,{variant:"small",children:"healthy"===e.status?"Active":"Disconnected"})]}):null})},"status"),(0,r.Y)(O.n,{children:(0,r.Y)(L.S,{row:!0,justify:"end",children:(0,r.Y)(y,{item:e})})},"actions")]},e.id)}}),(0,r.Y)(w.b5,{isOpen:!!p,setIsOpen:function(){return m(null)},onDelete:function(){return(0,s._)(function(){return(0,f.YH)(this,function(e){switch(e.label){case 0:if(!(l&&(null==p?void 0:p.id)))return[3,2];return[4,l(null==p?void 0:p.id)];case 1:e.sent(),e.label=2;case 2:return m(null),[2]}})})()},connectorDisplayName:null==p?void 0:p.displayName})]})},Q=function(e,n){var t=[];return e.forEach(function(e){var r,a,i;(null==(r=e.repls)?void 0:r.some(function(e){return e.id===n}))&&t.push({id:e.connectionId,displayName:e.displayName,iconPath:e.iconPath,connectorName:e.connectorName,connectorType:"connection",type:e.type,status:null!=(a=e.status)?a:"",repls:null!=(i=e.repls)?i:[],description:E.gQ[e.connectorName]})}),t},X=function(e){var n=e.token,t=e.connections,i=e.connectorConfigs,o=e.orgId,p=e.openPane,h=e.connectionsUsedInApp,m=e.whitelist,g=e.refetch,y=e.isLoading,k=void 0!==y&&y,Y=(0,c._)((0,b.xP)(),1)[0],D=(0,c._)((0,b.KS)(),1)[0],I=(0,C._P)({controlName:"flag-figma-connection-prompt"}),O=(0,c._)((0,a.useState)(0),2),P=O[0],M=O[1],H=(0,c._)((0,a.useState)(null),2),z=H[0],W=H[1],q=(0,c._)((0,a.useState)(!1),2),Z=q[0],Q=q[1],X=(0,c._)((0,a.useState)(""),2),ee=X[0],en=X[1],et=(0,c._)((0,a.useState)(null),2),er=et[0],ea=et[1],ei=(0,a.useCallback)(function(e){return(0,s._)(function(){return(0,f.YH)(this,function(n){switch(n.label){case 0:return[4,D({variables:{input:{connectionId:e,orgId:null!=o?o:null}},optimisticResponse:{__typename:"RootMutationType",deleteConnection:{__typename:"DeleteConnection",success:!0}},update:function(n){try{var t,r=n.readQuery({query:b.wZ});if((null==r||null==(t=r.currentUser)?void 0:t.__typename)==="CurrentUser"){var a=r.currentUser.connectorContext.connections.filter(function(n){return n.connectionId!==e});n.writeQuery({query:b.wZ,data:{currentUser:(0,u._)((0,l._)({},r.currentUser),{connectorContext:(0,u._)((0,l._)({},r.currentUser.connectorContext),{connections:a})})}})}}catch(e){}}})];case 1:return n.sent(),[4,g()];case 2:return n.sent(),[2]}})})()},[D,g,o]),eo=function(e){return(0,s._)(function(){return(0,f.YH)(this,function(n){switch(n.label){case 0:if("connect.connection-connected"!==e.name)return[3,3];return[4,Y({variables:{input:{connectionId:e.data.connection_id,orgId:null}}})];case 1:return n.sent(),[4,g()];case 2:n.sent(),M(1),n.label=3;case 3:return[2]}})})()},es=function(e){W(e)};return z?(0,r.FD)(L.S,{className:j().manageConnectionContainer,children:[(0,r.Y)(_.o,{connection:z,onBack:function(){return W(null)},onDelete:function(){ea(z)}}),(0,r.Y)(w.b5,{isOpen:!!er,setIsOpen:function(){return ea(null)},onDelete:function(){return(0,s._)(function(){return(0,f.YH)(this,function(e){switch(e.label){case 0:if(!er)return[3,2];return[4,ei(er.connectionId)];case 1:e.sent(),W(null),ea(null),e.label=2;case 2:return[2]}})})()},connectorDisplayName:null==er?void 0:er.displayName})]}):(0,r.FD)(L.S,{css:x.wp.pageContent,gap:32,children:[(0,r.FD)(L.S,{align:"center",justify:"space-between",row:!0,children:[(0,r.FD)(L.S,{gap:8,align:"center",row:!0,children:[(0,r.Y)(J.A,{size:24}),(0,r.Y)(U.Y9,{level:1,variant:"headerBig",children:"Integrations"})]}),(0,r.FD)(L.S,{row:!0,gap:8,className:j().searchControlsDesktop,children:[(0,r.Y)(N.I,{placeholder:"Search integrations",value:ee,onChange:function(e){return en(e.target.value)},onClear:function(){return en("")}}),o?null:(0,r.Y)(T.$n,{text:"Request an integration",iconLeft:(0,r.Y)($.A,{}),variant:"outlined",onClick:function(){return Q(!0)}})]})]}),(0,r.FD)(L.S,{row:!0,gap:8,className:j().searchControlsMobile,children:[(0,r.Y)(N.I,{placeholder:"Search integrations",value:ee,onChange:function(e){return en(e.target.value)},onClear:function(){return en("")}}),o?null:(0,r.Y)(T.$n,{text:"Request an integration",iconLeft:(0,r.Y)($.A,{}),variant:"outlined",onClick:function(){return Q(!0)}})]}),(0,r.FD)(L.S,{gap:16,children:[(0,r.FD)(L.S,{gap:4,children:[(0,r.Y)(U.Y9,{level:2,variant:"subheadBig",children:"Replit managed"}),(0,r.Y)(U.EY,{color:"dimmer",children:"These are built-in integrations that work automatically. Create an app and your agent can start using these right away."})]}),(0,r.Y)(S.w,{query:ee,openPane:void 0===p?function(){}:p})]}),(0,r.FD)(L.S,{gap:16,children:[(0,r.Y)(L.S,{row:!0,justify:"space-between",align:"center",children:(0,r.FD)(L.S,{gap:4,children:[(0,r.Y)(U.Y9,{level:2,variant:"subheadBig",children:"Connectors"}),(0,r.Y)(U.EY,{color:"dimmer",children:"These are first-party integrations Replit supports. Sign in once and build with them across your apps."})]})}),(0,r.FD)(F.tU,{selectedIndex:P,onSelectionChange:M,className:j().tabs,children:[(0,r.FD)(F.wb,{withDividers:!1,children:[(0,r.Y)(F.oz,{iconLeft:(0,r.Y)(V.A,{}),children:"Used in this App"}),(0,r.Y)(F.oz,{iconLeft:(0,r.Y)(G.A,{}),children:"All connectors"})]}),(0,r.FD)(F.T2,{className:j().tabPanels,children:[(0,r.Y)(F.Kp,{children:(0,r.Y)(K,{query:ee,token:n,connectionsUsedInApp:h,connections:t,onManage:es,onDelete:ei,isLoading:k})}),(0,r.Y)(F.Kp,{children:(0,r.Y)(w.q0,{token:n,connectorConfigs:i,connections:t,onDelete:ei,onEvent:eo,onManage:es,query:ee,shouldShowConnectButton:!0,whitelist:m,isLoading:k})})]})]})]}),I&&!o?(0,r.FD)(L.S,{gap:8,children:[(0,r.FD)(L.S,{gap:4,children:[(0,r.FD)(L.S,{row:!0,gap:8,align:"center",children:[(0,r.Y)(B.A,{size:24}),(0,r.Y)(U.Y9,{level:2,variant:"subheadBig",children:"MCP Servers for Replit Agent"}),(0,r.Y)(R.a,{text:"Beta",colorway:"primary"})]}),(0,r.FD)(U.EY,{color:"dimmer",children:["Provide external context and tools to Replit Agent by connecting to"," ",(0,r.Y)(v(),{href:"https://modelcontextprotocol.io/",target:"_blank",children:"external MCP servers"}),"."]})]}),(0,r.Y)(w.q0,{token:n,connectorConfigs:i,connections:t,onDelete:ei,onEvent:eo,onManage:es,query:ee,shouldShowConnectButton:!0,whitelist:(0,d._)(E._G)})]}):null,o?null:(0,r.Y)(A.q,{isOpen:Z,onRequestClose:function(){return Q(!1)}})]})};let ee=function(e){var n,t,i=e.openPane,o=e.currentReplId,s=void 0===o?"":o,l=(0,k.ET)(),u=l.orgSlug,c=l.orgId,d=(0,b.mW)({ssr:!1,skip:!!c}),f=d.data,p=d.loading,h=d.error,m=d.refetch,v=(0,y.VD)({ssr:!1,skip:!c||!u,variables:{orgSlug:u}}),g=v.data,w=v.loading,_=v.error,S=v.refetch,A=p||w,C=c?S:m,Y=(0,a.useMemo)(function(){var e,n,t,r,a,i,o,l,u,d,p=(null==g||null==(e=g.currentUser)?void 0:e.__typename)==="CurrentUser"&&(null==g||null==(t=g.currentUser)||null==(n=t.org)?void 0:n.__typename)==="Org"?null==g||null==(a=g.currentUser)||null==(r=a.org)?void 0:r.connectorContext:null,h=(null==f||null==(i=f.currentUser)?void 0:i.__typename)==="CurrentUser"?null==f||null==(o=f.currentUser)?void 0:o.connectorContext:null,m=c?p:h;if(!m)return{token:null,connections:q,connectorConfigs:Z,connectionsUsedInApp:[]};var v=(null==m?void 0:m.__typename)==="CurrentUserConnectorContext"||(null==m?void 0:m.__typename)==="OrgConnectorContext"?m.openIntClientToken:null,b=((null==m?void 0:m.__typename)==="CurrentUserConnectorContext"||(null==m?void 0:m.__typename)==="OrgConnectorContext")&&null!=(l=m.connections)?l:q,y=Q(b,s);return{token:v,connections:b,connectorConfigs:((null==m?void 0:m.__typename)==="CurrentUserConnectorContext"||(null==m?void 0:m.__typename)==="OrgConnectorContext")&&null!=(u=m.connectorConfigs)?u:Z,connectionsUsedInApp:y,connectorWhitelist:((null==m?void 0:m.__typename)==="CurrentUserConnectorContext"||(null==m?void 0:m.__typename)==="OrgConnectorContext")&&null!=(d=m.connectorWhitelist)?d:[]}},[c,f,g,s]);return A?(0,r.Y)(L.S,{className:j().centeredMessage,children:(0,r.Y)(H.A,{})}):h||_?(0,r.Y)(L.S,{className:j().centeredMessage,children:(0,r.Y)(U.EY,{children:"Error loading connectors"})}):(0,r.Y)(X,{orgId:c,openPane:void 0===i?function(){}:i,currentReplId:s,token:null!=(n=Y.token)?n:"",connections:Y.connections,connectorConfigs:Y.connectorConfigs,connectionsUsedInApp:Y.connectionsUsedInApp,refetch:C,whitelist:null!=(t=Y.connectorWhitelist)?t:[],isLoading:A})};var en=t(61125),et=t(44425),er=t(25423);function ea(e){var n=e.openPane,t=(0,en.A)(),i=(0,er.A)("integrations-pane","integrations-toast").dismiss;return(0,a.useEffect)(function(){i()},[i]),(0,et.M)(Y.AZ.INTEGRATIONS_PANE_USED,{action:"viewed"}),(0,r.Y)(ee,{openPane:n,currentReplId:t})}var ei=t(62246),eo=i.ZU.Object({type:i.ZU.Literal("integrations")}),es={Content:function(e){var n=e.options.performPaneOperation,t=(0,a.useCallback)(function(e){return n({operation:"open",secondary:!0,pane:e})},[n]);return(0,r.Y)(ea,{openPane:t})},Icon:function(e){var n=e.size;return(0,r.Y)(J.A,{size:n})},getTitle:function(){return"Integrations"},description:"Connect to Replit-native and external services",category:ei.bY.CloudServices,decode:function(e){return o.T(eo,e)}}},94812:e=>{e.exports={severity:"SeverityIcon_severity__ukcYp"}},95043:(e,n,t)=>{"use strict";t.d(n,{A:()=>f});var r=t(34837),a=t(7368),i=t(70764),o=t(18712),s=t(78950),l=t(36946),u=t(91953),c=t(25227),d=(0,i.x)({overlay:[o.wp.position.fixed,o.wp.flex.row,o.wp.align.center,o.wp.justify.center,o.wp.backgroundColor.backgroundOverlay,{top:0,bottom:0,left:0,right:0,zIndex:o.r1+1,cursor:"not-allowed"}],animationWrapper:[o.wp.center,o.wp.minWidth(225),o.wp.height(225),o.wp.p(16),o.wp.color.foregroundDefault,o.wp.borderRadius(8),o.wp.backgroundColor.backgroundOverlay,o.wp.zIndex(o.r1+1),{cursor:"not-allowed"}],lockText:o.wp.mt(32)});function f(e){var n=e.reason;return(0,r.Y)(l.Z,{children:(0,r.Y)(c.S,{css:d.overlay,children:(0,r.Y)(a.Ay,{children:(0,r.FD)(c.S,{css:d.animationWrapper,tabIndex:-1,children:[(0,r.Y)(s.A,{height:80}),(0,r.Y)(u.EY,{multiline:!1,variant:"subheadBig",css:d.lockText,dataCy:"lock-screen",children:n})]})})})})}},95134:(e,n,t)=>{"use strict";t.d(n,{Kp:()=>k,T2:()=>Y,oz:()=>C,tU:()=>S,wb:()=>A});var r=t(83846),a=t(17844),i=t(93629),o=t(17459),s=t(34837),l=t(21462),u=t(66340),c=t(41244),d=t(25833),f=t(39534),p=t(70764),h=t(51292),m=t(18712),v=t(45023),g={tab:{color:"--tab-color",borderBottomColor:"--tab-border-bottom-color"},tabList:{boxShadow:"--tab-list-box-shadow"}},b=function(e){return"var(".concat(e,")")},y=(0,p.x)({tab:[m.wp.display.flex,m.wp.reset.button,m.wp.position.relative,m.wp.rowWithGap(8),m.wp.p(8),m.wp.borderRadius(4,4,0,0),m.wp.align.center,{marginBottom:-1,color:b(g.tab.color),userSelect:"none"},h.b.listItem,{paddingBottom:7,borderWidth:0,borderBottomWidth:"1px",borderBottomColor:b(g.tab.borderBottomColor)},{".with-dividers &":{"&:not(:last-child)":{marginRight:1},"&:not(:last-child)::after":{content:'""',position:"absolute",display:"block",width:1,height:16,backgroundColor:f.LU.outlineDefault,right:-1}}}],tabSpan:[{display:"inline-block",lineHeight:1}],tabList:[m.wp.display.flex,m.wp.flex.grow(0),m.wp.flex.row,m.wp.align.stretch,{paddingBottom:1,boxShadow:b(g.tabList.boxShadow)}],tabPanel:[m.wp.focusRing,{'&[data-inert="true"]':{display:"none"}}]}),w=function(e){var n,t=e.isSelected,a=e.isFocused,i=e.isDisabled,o="transparent";a?o=f.LU.accentPrimaryDefault:t&&(o=f.LU.foregroundDefault);var s=f.LU.foregroundDimmer;return t?s=f.LU.foregroundDefault:i&&(s=f.LU.foregroundDimmest),n={},(0,r._)(n,g.tab.color,s),(0,r._)(n,g.tab.borderBottomColor,o),n},_=function(e){var n=e.withUnderline;return(0,r._)({},g.tabList.boxShadow,n?"inset 0 -1px 0 ".concat(f.LU.outlineDimmest):"none")};function S(e){var n=e.children,t=e.onSelectionChange,r=e.defaultSelectedKey,l=(0,o._)(e,["children","onSelectionChange","defaultSelectedKey"]);return(0,u.wR)()?null:(0,s.Y)(c.tU,(0,i._)((0,a._)({},l),{onSelectionChange:t,defaultSelectedKey:r,children:n}))}var A=(0,l.forwardRef)(function(e,n){var t=e.children,r=e.withUnderline,l=e.withDividers,u=e.className,d=(0,o._)(e,["children","withUnderline","withDividers","className"]);return(0,s.Y)(c.wb,(0,i._)((0,a._)({ref:n},d),{clsx:[u,void 0!==l&&l&&"with-dividers"],css:y.tabList,style:_({withUnderline:void 0===r||r}),children:t}))}),k=(0,l.forwardRef)(function(e,n){var t=e.children,r=e.id,l=(0,o._)(e,["children","id"]);return(0,s.Y)(c.Kp,(0,i._)((0,a._)({id:r,ref:n},l),{css:y.tabPanel,children:t}))}),C=(0,l.forwardRef)(function(e,n){var t=e.children,r=e.iconLeft,l=e.iconRight,u=e.as,d=e.href,f=e.shallow,p=e.scroll,h=(0,o._)(e,["children","iconLeft","iconRight","as","href","shallow","scroll"]),m=(0,a._)((0,i._)((0,a._)({},h),{css:y.tab,style:function(e){return w({isSelected:e.isSelected,isFocused:e.isFocusVisible,isDisabled:e.isDisabled})}}),(0,v.J)({as:u,href:d,shallow:f,scroll:p}));return"function"==typeof t?(0,s.Y)(c.oz,(0,i._)((0,a._)({ref:n},m),{children:function(e){return(0,s.FD)(s.FK,{children:[r,(0,s.Y)("span",{css:y.tabSpan,children:t(e)}),l]})}})):(0,s.FD)(c.oz,(0,i._)((0,a._)({ref:n},m),{children:[r,(0,s.Y)("span",{css:y.tabSpan,children:t}),l]}))});function Y(e){var n=e.children;return"function"==typeof n?(0,s.Y)(d.pM,{children:n}):(0,s.Y)(s.FK,{children:n})}},95168:(e,n,t)=>{"use strict";t.d(n,{E:()=>d});var r=t(17844),a=t(34837),i=t(96513),o=t(7017),s=t(59092),l=t(25227),u=t(84e3),c=t(53432);function d(e){var n=e.onClick,t=(0,o.ET)(),d=t.orgRole,f=t.orgId,p=t.orgSlug;switch(d){case i.v7i.SystemAdmins:return(0,a.Y)(l.S,{p:8,children:(0,a.Y)(s.d,(0,r._)({iconLeft:(0,a.Y)(u.A,{}),text:"Your team has a failed payment. Please update your team's payment method to continue using AI services.",colorway:"negative",onClick:null!=n?n:function(){}},!n&&{href:"/orb-customer-portal/org/".concat(f),target:"_blank"}))});case i.v7i.SystemMembers:case i.v7i.SystemGuests:case i.v7i.SystemViewers:return(0,a.Y)(l.S,{p:8,children:(0,a.Y)(s.d,(0,r._)({iconLeft:(0,a.Y)(c.A,{}),text:"Your team has a failed payment. Please contact your team admins to address outstanding invoices to continue using AI services.",colorway:"negative",onClick:null!=n?n:function(){}},!n&&{href:"/t/".concat(p,"/members"),target:"_blank"}))});default:return(0,a.Y)(l.S,{p:8,children:(0,a.Y)(s.d,(0,r._)({iconLeft:(0,a.Y)(u.A,{}),text:"You have a failed payment. Please update your payment method to continue using AI services.",colorway:"negative",onClick:null!=n?n:function(){}},!n&&{href:"/account#billing",target:"_blank"}))})}}},95254:e=>{e.exports={detailsItem:"NeonStartPage_detailsItem__fVwDV",detailsText:"NeonStartPage_detailsText__Ley3F"}},95353:(e,n,t)=>{"use strict";t.d(n,{A:()=>P});var r=t(29935),a=t(12694),i=t(56902),o=t(86105),s=t(82643),l=t(34837),u=t(21462),c=t(17844),d=t(12584),f=t(41114),p=t(54744);function h(){var e=(0,d._)(["\n  query BSODComponent {\n    currentUser {\n      id\n      username\n      image\n      isStaff: hasRole(role: REPLIT_STAFF)\n      isAdmin: hasRole(role: ADMIN)\n    }\n  }\n"]);return h=function(){return e},e}var m={},v=(0,f.J1)(h()),g=t(88067),b=t(91539),y=t(42793),w=t(70764),_=t(18712),S=t(31051),A=t(40756),k=t(70251),C=t(9844),Y=t(91953),E=t(25227),x=t(73635),T=t(90843),D=(0,y.AH)({".sentry-error-embed-wrapper":{zIndex:"".concat(_.r1," !important")}}),I=(0,w.x)({errorStack:[_.wp.p(16),_.wp.width("100%"),_.wp.backgroundColor.backgroundHigher,_.wp.borderRadius(8),_.wp.overflowY("hidden"),_.wp.font.code,_.wp.fontSize(12),{whiteSpace:"pre"}],userAndErrorIdContainer:[_.wp.width("100%"),_.wp.backgroundColor.backgroundHigher,_.wp.borderRadius(8)],error:[_.wp.font.code]}),R=/at (.+) \((https:\/\/.+\.js):(\d+):(\d+)\)/,N=/at (https:\/\/.+\.js):(\d+):(\d+)/,O=function(e){var n=e.bsod,c=(0,a._)((0,u.useState)(null),2),d=c[0],f=c[1];(0,u.useEffect)(function(){(0,r._)(function(){return(0,s.YH)(this,function(e){switch(e.label){case 0:var l;return e.trys.push([0,2,,3]),[4,(l=n.error,(0,r._)(function(){var e,n,u,c,d,f,p,h;return(0,s.YH)(this,function(m){switch(m.label){case 0:e=new Map,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,t.e(3248).then(t.t.bind(t,33248,19))];case 2:return n=m.sent(),[3,4];case 3:throw m.sent(),Error("source-map not available");case 4:if(!(u=l.stack))throw Error("expected error.stack to be defined");return c=u.split("\n").map(function(e){return e.trim()}).filter(function(e){return!!e}),f=(d=(0,i._)(c))[0],[4,Promise.all(d.slice(1).map(function(t){return(0,r._)(function(){var i,o,l,u,c,d,f,p,h,m;return(0,s.YH)(this,function(v){switch(v.label){case 0:var g;if(R.test(t)){if(!(c=R.exec(t)))throw Error("expected result");o=(d=(0,a._)(c.slice(2),3))[0],l=d[1],u=d[2]}else{if(!N.test(t))return[2,t];if(!(f=N.exec(t)))throw Error("expected result");o=(p=(0,a._)(f.slice(1),3))[0],l=p[1],u=p[2]}return[4,(g="".concat(o,".map"),(0,r._)(function(){var t,r,a;return(0,s.YH)(this,function(i){switch(i.label){case 0:if(t=e.get(g))return[2,t];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(g).then(function(e){return e.json()})];case 2:return r=i.sent(),a=new n.SourceMapConsumer(r),e.set(g,a),[2,a];case 3:return i.sent(),[2,null];case 4:return[2]}})})())];case 1:if(!(h=v.sent()))return[2,"    ".concat(t)];if(m=h.originalPositionFor({line:Number(l),column:Number(u)}),i)return[2,"    at ".concat(m.name," (").concat(m.source,":").concat(m.line,":").concat(m.column,")")];return[2,"    at ".concat(m.source,":").concat(m.line,":").concat(m.column)]}})})()}))];case 5:return p=m.sent(),Object.assign(h=Error(),{name:l.name,stack:[f].concat((0,o._)(p)).join("\n"),message:l.message},l),[2,h]}})})())];case 1:return f(e.sent()),[3,3];case 2:return e.sent(),[2];case 3:return[2]}})})()},[n.error]);var p=(0,u.useMemo)(function(){var e,t,r,a;return d?null!=(r=null==(t=d.stack)?void 0:t.split("\n"))?r:[]:null!=(a=null==(e=n.error.stack)?void 0:e.split("\n"))?a:[]},[d,n.error.stack]);return(0,l.FD)("div",{css:I.errorStack,children:[(0,l.FD)("div",{children:["Origin: ",n.origin]}),null==p?void 0:p.map(function(e,n){var t=e.replace("webpack-internal:///./",""),r=t.includes("node_modules");return(0,l.Y)("div",{css:r&&_.wp.color.foregroundDimmest,children:t},n)})]})};let P=function(){var e,n,t,r,i=(0,a._)((0,b.eY)(),1)[0],o=(e={skip:!i},n=(0,c._)({},m,e),p.I(v,n)),s=o.data,u=o.loading,d=(0,g.i)().isOperational;if((0,b.ZM)(),!i)return null;var f=(null==s||null==(t=s.currentUser)?void 0:t.isStaff)||(null==s||null==(r=s.currentUser)?void 0:r.isAdmin);return(0,l.FD)(k.a,{isOpen:!0,preventClose:!0,onRequestClose:function(){},maxWidth:872,children:[(0,l.FD)(E.S,{gap:16,align:"center",children:[(0,l.Y)(Y.EY,{variant:"headerDefault",children:"Your app is having a bit of trouble"}),(0,l.Y)(E.S,{row:!0,gap:8,align:"center",children:(0,l.Y)(C.N,{colorway:d?"positive":"negative",icon:d?(0,l.Y)(x.A,{}):(0,l.Y)(T.A,{}),text:(0,l.FD)(Y.EY,{children:["Replit status:"," ",(0,l.Y)("a",{href:"https://status.replit.com",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline",color:"inherit"},children:d?"operational":"experiencing issues"})]})})}),(0,l.Y)(Y.EY,{variant:"text",multiline:!0,children:"The issue has been logged and the Replit team will look into it. Try reloading the page to get back to building."}),(0,l.FD)(E.S,{gap:16,css:I.userAndErrorIdContainer,p:16,children:[!u&&(null==s?void 0:s.currentUser)?(0,l.FD)(E.S,{row:!0,gap:16,align:"center",children:[(0,l.Y)(S.e,{src:s.currentUser.image,username:s.currentUser.username,size:48}),(0,l.Y)(Y.EY,{variant:"text",multiline:!1,children:s.currentUser.username})]}):null,(0,l.FD)("div",{css:I.error,children:["Error: ",i.eventId]})]}),f?(0,l.Y)(O,{bsod:i}):null,(0,l.Y)(A.$n,{onClick:function(){return window.location.reload()},colorway:"primary",stretch:!0,text:"Reload"}),!1]}),(0,l.Y)(y.mL,{styles:[D]})]})}},95560:(e,n,t)=>{"use strict";t.d(n,{e:()=>k});var r=t(29935),a=t(82643),i=t(34837),o=t(21462),s=t(30284),l=t(45040),u=t(47737),c=t(34778),d=t(23788),f=t(39534),p=t(70764),h=t(18712),m=t(73455),v=t(99933),g=t(25227),b=t(64424),y=t(9648),w=t(94396),_=t(64518),S=t(4425),A=(0,p.x)({button:[h.wp.color.foregroundDimmer,{"&:hover:not([disabled], [aria-disabled])":h.wp.color.foregroundDefault,"&:disabled":{cursor:"default",opacity:.5}}]});function k(e){var n=e.source,t=e.disabled,p=e.disabledReason,h=e.status,k=e.addAttachments,C=e.onInteract,Y=e.onFigmaImportClick,E=(0,l.sB)().figmaImportFeatureFlagsEnabled,x=(0,u.m6)(),T="workspace"===n,D=T?s.AZ.AGENT_USED:s.AZ.START_WITH_AI_USED,I=(0,o.useRef)(null),R=(0,o.useRef)(null),N=function(){(0,c.u4)(D,{action:"attachment_import_from_figma_clicked"}),null==Y||Y()},O=E||!x;return(0,i.FD)(g.S,{children:[(0,i.FD)(v.in,{trigger:(0,i.Y)(m.K0,{alt:"Attach file",size:24,disabled:t||"loading"===h,tooltipContents:p||"Add attachment",tooltipPlacement:"top-start",css:A.button,onClick:function(){(0,c.u4)(D,{action:"attachment_button_clicked"})},children:(0,i.Y)(_.A,{})}),isDisabled:t||"loading"===h,placement:"top start",children:[(0,i.Y)(v.j,{text:"Add attachments"}),(0,i.Y)(v.Dr,{label:"Upload a file",icon:(0,i.Y)(w.A,{}),onAction:function(){var e;(0,c.u4)(D,{action:"attachment_upload_file_clicked"}),null==C||C(),null==(e=I.current)||e.click()}}),T?(0,i.Y)(function(){return E?(0,i.FD)(i.FK,{children:[(0,i.Y)(v.wv,{}),(0,i.Y)(v.Dr,{label:"Attach a Figma design",icon:(0,i.Y)(y.A,{}),onAction:N})]}):null},{}):(0,i.Y)(function(){return O?(0,i.FD)(i.FK,{children:[(0,i.Y)(v.wv,{}),(0,i.Y)(v.j,{text:"Add a starting point"}),E?(0,i.Y)(v.Dr,{label:"Import a Figma design",icon:(0,i.Y)(y.A,{}),onAction:N}):null,!x&&(0,i.Y)(v.Dr,{label:"Import an existing project",icon:(0,i.Y)(S.A,{}),iconRight:(0,i.Y)(b.A,{color:f.LU.foregroundDimmest}),href:"/import",target:"_blank",onAction:function(){(0,c.u4)(D,{action:"attachment_import_from_existing_project_clicked"})}})]}):null},{})]}),(0,i.Y)(d.v,{fileUploadInputRef:I,dirUploadInputRef:R,uploadFiles:function(e){return(0,r._)(function(){return(0,a.YH)(this,function(n){switch(n.label){case 0:return[4,k(e.files.map(function(e){return{fileName:e.name,file:e}}))];case 1:return n.sent(),[2]}})})()}})]})}},95670:(e,n,t)=>{"use strict";t.d(n,{T:()=>T});var r=t(17844),a=t(93629),i=t(34837),o=t(86035),s=t(80719),l=t(33747),u=t(69832),c=t(34778),d=t(83846),f=t(75738),p=t(21462);t(7232);var h=t(39534),m=t(70764),v=t(18712),g=t(40756),b=t(25227),y=v.kL.min(400),w=(0,m.x)({root:[v.wp.width("100%")],narrowContainer:[v.wp.flex.column,v.wp.gap(8),v.wp.width("100%"),v.wp.overflowX("auto"),v.wp.scrollbar.hidden,(0,d._)({margin:"0 auto"},y,{display:"none"})],narrowRow:[v.wp.flex.row,v.wp.gap(8),v.wp.width("100%"),{display:"flex",flexWrap:"nowrap",paddingLeft:16,"&::after":{content:'""',width:8,flexShrink:0}}],wideContainer:[v.wp.gap(8),v.wp.width("100%"),(0,d._)({display:"none"},y,{display:"flex",maxWidth:500,flexWrap:"wrap",alignSelf:"center",justifyContent:"center",width:"fit-content"})],button:[v.wp.maxWidth(350),(0,d._)({justifyContent:"flex-start",fontSize:h.LU.fontSizeDefault,color:h.LU.foregroundDimmer,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},y,{width:"auto",justifyContent:"center"})]});function _(e){var n=e.prompts,t=e.onClick,o=(0,p.useMemo)(function(){var e=Math.ceil(n.length/2);return{halfLength:e,firstRow:n.slice(0,e),secondRow:n.slice(e)}},[n]),s=o.halfLength,l=o.firstRow,u=o.secondRow,c=(0,p.useMemo)(function(){return n.slice(0,6)},[n]);return(0,i.FD)(b.S,{css:w.root,children:[(0,i.FD)(b.S,{css:w.narrowContainer,children:[(0,i.Y)(b.S,{css:w.narrowRow,children:l.map(function(e,n){return(0,f.n)(S,(0,a._)((0,r._)({},e),{index:n,key:e.description,onClick:function(){return t(e)}}))})}),(0,i.Y)(b.S,{css:w.narrowRow,children:u.map(function(e,n){return(0,f.n)(S,(0,a._)((0,r._)({},e),{index:n+s,key:e.description,onClick:function(){return t(e)}}))})})]}),(0,i.Y)(b.S,{css:w.wideContainer,row:!0,children:c.map(function(e,n){return(0,f.n)(S,(0,a._)((0,r._)({},e),{index:n,key:e.description,onClick:function(){return t(e)}}))})})]})}function S(e){(0,s.qK)();var n=void 0,t=null!=n?n:e.description;return(0,i.Y)(g.$n,{css:w.button,text:t,onClick:function(n){e.onClick()},"aria-label":t})}var A=t(50618),k=t(38527),C=t(91953),Y=t(66404),E=t(90843),x=(0,m.x)({root:[v.wp.overflowY("auto"),v.wp.flex.growAndShrink(1),v.wp.flex.column,v.wp.align.center,v.wp.width("100%"),{margin:"0 auto",containerType:"inline-size"}],content:[v.wp.flex.column,v.wp.gap(24),v.wp.py(32),v.wp.align.center,v.wp.justify.center,v.wp.width("100%"),v.wp.minHeight("100%"),v.wp.overflowX("auto")],headerSection:[v.wp.maxWidth(320),v.wp.px(8),{textAlign:"center"}],promptSuggestionsContainer:[v.wp.width("100%"),v.wp.overflowX("auto"),v.wp.scrollbar.hidden,v.wp.pb(8)],promptSuggestionsContent:[v.wp.flex.column,v.wp.align.center,v.wp.width("100%"),{maxWidth:"100%"}],headerIcon:[{color:h.LU.outlineStronger}],footerContainer:[v.wp.maxWidth("100%"),v.wp.px(8),{textAlign:"center"}],warning:[v.wp.m(8),v.wp.maxWidth(400),{textAlign:"center"}],warningBox:[v.wp.border({color:h.LU.orangeDimmer}),v.wp.borderRadius(),{backgroundColor:h.LU.orangeDimmest}],warningIconText:[{color:h.LU.orangeStrongest}]});function T(e){var n,t,l,c,d,f=(d=({sessionType:e.sessionType}).sessionType,(0,p.useMemo)(function(){return d===o.dF3.CHAT?[{icon:(0,i.Y)(A.A,{}),description:"Inspect for errors"},{icon:(0,i.Y)(A.A,{}),description:"Improve the visual design"},{icon:(0,i.Y)(A.A,{}),description:"Brainstorm new features"},{icon:(0,i.Y)(A.A,{}),description:"Add dark mode toggle"},{icon:(0,i.Y)(A.A,{}),description:"Optimize for mobile"},{icon:(0,i.Y)(A.A,{}),description:"Explain this code"}]:[{icon:(0,i.Y)(A.A,{}),description:"Check my app for bugs"},{icon:(0,i.Y)(A.A,{}),description:"Add payment processing"},{icon:(0,i.Y)(A.A,{}),description:"Connect with an AI Assistant"},{icon:(0,i.Y)(A.A,{}),description:"Add SMS message sending"},{icon:(0,i.Y)(A.A,{}),description:"Add a database"},{icon:(0,i.Y)(A.A,{}),description:"Add authenticated user login"}]},[d])),h=(n=e.sessionType,t=(0,s.jt)(),l=(0,s.NC)(),c=(0,u.Rj)(function(){return l.sessions.query({types:[o.dF3.CHAT]}).map.select(function(e){return e.size>0})},[l],{default:!0}),n===o.dF3.CHAT&&!!t&&!c);return(0,i.Y)(I,(0,a._)((0,r._)({},e),{showAssistantWarning:h,promptSuggestions:f}))}function D(e){return(0,i.FD)(b.S,{align:"center",gap:8,css:x.warning,children:[(0,i.FD)(b.S,{css:x.warningBox,p:8,children:[(0,i.FD)(b.S,{css:x.warningIconText,row:!0,gap:6,justify:"center",align:"center",children:[(0,i.Y)(E.A,{}),(0,i.Y)(C.EY,{children:"Warning"})]}),(0,i.Y)(C.EY,{children:"Assistant works best for users comfortable with file management and basic troubleshooting."})]}),(0,i.Y)(C.EY,{color:"dimmer",children:"Use Agent for the safest app building experience."}),(0,i.Y)(g.$n,{onClick:e.onSwitchToAgent,iconLeft:(0,i.Y)(k.l,{size:16}),text:"Switch to Agent"})]})}function I(e){var n=e.titleContent,t=e.showPromptSuggestions,r=e.sessionType,a=e.onPromptSuggestionClick,s=e.promptSuggestions,u=e.footerContent,d=e.onSwitchToAgent,f=e.showAssistantWarning,p=r===o.dF3.CHAT,h=p?l.BP:l.g$;return(0,i.Y)(b.S,{css:x.root,children:(0,i.FD)(b.S,{css:x.content,children:[(0,i.FD)(b.S,{css:x.headerSection,gap:16,children:[(0,i.Y)(b.S,{gap:8,align:"center",children:(0,i.FD)(i.FK,{children:[(0,i.Y)(Y.A,{size:48,css:x.headerIcon,style:{transform:"scale(1.33)"}}),null!=n?n:(0,i.Y)(b.S,{row:!0,gap:4,align:"center",children:(0,i.Y)(C.Y9,{level:1,variant:"subheadBig",children:"New chat with ".concat(h)})})]})}),f?null:(0,i.Y)(C.EY,{color:"dimmest",children:p?l.C3:l.RB})]}),f&&d?(0,i.Y)(D,{onSwitchToAgent:d}):null,(void 0===t||t)&&!f?(0,i.Y)(b.S,{css:x.promptSuggestionsContainer,pb:8,children:(0,i.Y)(b.S,{css:x.promptSuggestionsContent,children:(0,i.Y)(_,{onClick:function(e){var n,t=null!=(n=e.promptToFill)?n:e.description;(0,c.u4)(c.AZ.ASSISTANT_USED,{action:"prompt_suggestion_clicked",title:e.title}),null==a||a({intent:e.intent,text:t})},prompts:s})})}):null,u?(0,i.Y)(b.S,{css:x.footerContainer,children:u}):null]})})}},95780:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.FD)(o.Ay,(0,a._)((0,r._)({},e),{children:[(0,i.Y)("path",{d:"M15.721.681A2.137 2.137 0 0 1 18.146.28l4.638 2.233a2.142 2.142 0 0 1 1.213 1.93v.299h-.735v-.303c0-.54-.31-1.033-.797-1.267L17.828.942a1.403 1.403 0 0 0-1.6.272c.485-.486 1.294-.195 1.396.445l-.115-.055a.667.667 0 0 0-.762.13l-.016.015-8.786 8.01-1.19-.902L15.72.68Z"}),(0,i.Y)("path",{d:"m17.634 5.968-7.343 5.571 1.215.922 6.128-4.649V5.968ZM6.798 14.189l1.104 1.006-3.975 3.016a1.673 1.673 0 0 1-2.136-.095l-1.24-1.128a1.673 1.673 0 0 1-.002-2.473l3.303-3.012 1.09.994-3.403 3.104a.203.203 0 0 0 0 .3l1.24 1.128c.073.066.182.07.26.011l3.759-2.851Z"}),(0,i.Y)("path",{d:"M16.228 22.786c.42.421 1.063.53 1.6.272l4.637-2.23c.487-.234.797-.727.797-1.267v-.302H24v.298c0 .824-.472 1.575-1.214 1.933l-4.639 2.233a2.14 2.14 0 0 1-2.428-.402L.547 9.488a1.676 1.676 0 0 1 .002-2.479l1.24-1.127a1.676 1.676 0 0 1 2.14-.095l13.705 10.397v1.852L3.037 6.964a.2.2 0 0 0-.255.01l-1.24 1.128a.2.2 0 0 0 0 .296l15.2 13.86.007.007c.2.2.504.252.758.13l.117-.057c-.1.643-.91.936-1.396.45Z"}),(0,i.Y)("path",{fillRule:"evenodd",d:"M16.576 1.562 15.88.865A1.896 1.896 0 0 1 18.04.497l4.637 2.23a1.9 1.9 0 0 1 1.077 1.712v15.122a1.9 1.9 0 0 1-1.076 1.712l-4.638 2.23a1.896 1.896 0 0 1-2.162-.368l.697-.698c.209.209.565.061.565-.234V1.797a.331.331 0 0 0-.565-.235Zm1.541 20.81 4.134-1.988a.914.914 0 0 0 .518-.823V4.439a.914.914 0 0 0-.518-.823l-4.134-1.988c.007.055.01.111.01.169v20.406c0 .058-.003.114-.01.169Z",clipRule:"evenodd"}),(0,i.Y)("path",{fillRule:"evenodd",d:"M15.706.692a2.141 2.141 0 0 1 2.441-.416l4.638 2.23A2.145 2.145 0 0 1 24 4.44v15.122c0 .824-.473 1.575-1.215 1.933l-4.637 2.229a2.14 2.14 0 0 1-2.442-.415l-.173-.173 1.043-1.044.173.173a.086.086 0 0 0 .147-.06V1.796a.086.086 0 0 0-.147-.061l-.173-.174-.173.174-.87-.87.173-.174Zm.908.562a.577.577 0 0 1 .772.543v20.406a.577.577 0 0 1-.773.544l-.375.375a1.65 1.65 0 0 0 1.697.16l4.637-2.23c.574-.276.938-.855.938-1.491V4.439c0-.636-.364-1.215-.938-1.491L17.935.718a1.651 1.651 0 0 0-1.697.16l.376.376Zm1.207-.04 4.316 2.075.107-.224.442.213-.12.247c.28.217.448.553.448.914v15.122c0 .445-.255.85-.657 1.044l-4.536 2.181.053-.444c.006-.044.009-.09.009-.139V1.797c0-.048-.003-.095-.009-.14l-.053-.443Zm.551.808v19.956l3.773-1.815a.669.669 0 0 0 .379-.602V4.439a.669.669 0 0 0-.379-.602l-3.773-1.815Z",clipRule:"evenodd"})]}))}},95843:(e,n,t)=>{"use strict";t.d(n,{a:()=>E,l:()=>x});var r=t(29935),a=t(62019),i=t(37743),o=t(1833),s=t(17844),l=t(93629),u=t(12694),c=t(89264),d=t(82643),f=t(40185),p=t(21462),h=t(67201),m=t(10795),v=t(12584),g=t(41114),b=t(39590);function y(){var e=(0,v._)(["\n  mutation CreateFigmaRepl($input: CreateReplInput!) {\n    createRepl(input: $input, isTitleAutoGenerated: false) {\n      ... on Repl {\n        id\n        url\n        isPrivate\n        nextPagePathname\n        origin {\n          id\n          isOwner\n        }\n        config {\n          figmaUrl\n          figmaImportStatus\n        }\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return y=function(){return e},e}var w={},_=(0,g.J1)(y()),S=t(89742),A=t(58631),k=t(47737),C=t(99344),Y=t(14385),E=function(e){function n(e){var t;return(0,i._)(this,n),(t=(0,a._)(this,n,[e])).name="CreateFigmaReplError",t}return(0,o._)(n,e),n}((0,c._)(Error));function x(){var e,n=(0,u._)((0,p.useState)("idle"),2),t=n[0],a=n[1],i=(0,k.m6)(),o=(0,u._)((e=(0,s._)({},w,void 0),b.n(_,e)),1)[0],c=(0,f.useRouter)(),v=(0,C.A)();return{createFigmaRepl:function(e){return(0,r._)(function(e){var n,t,r,u,f,p,g,b,y,w,_;return(0,d.YH)(this,function(d){switch(d.label){case 0:return n=e.isPrivate,t=e.orgId,r=e.figmaUrl,u=e.initialPrompt,a("creating_repl"),[4,o({variables:{input:{isPrivate:n,orgId:t,figmaUrl:r,figmaImportStatus:m.u4D.Started}}})];case 1:if((g=d.sent()).errors)throw(0,S.B)(new E(g.errors.map(function(e){return e.message}).join(", "))),new E("Something went wrong. Please try again.");if((null==(p=g.data)||null==(f=p.createRepl)?void 0:f.__typename)==="UserError")throw(0,S.B)(new E(g.data.createRepl.message)),new E(g.data.createRepl.message);if(!g.data)throw new E("Something went wrong. Please try again.");if(b=g.data.createRepl,a("opening_repl"),y={enterInAgentMode:!0},u&&(w=(0,h.A)(),A.A.set("initial_queued_prompt_".concat(w),u),y.initialQueuedPromptKey=w),_=(0,Y.q1)(b,y),!i)return[3,2];return window.location.href=(0,Y.cY)(b,y),[3,4];case 2:return[4,c.push((0,l._)((0,s._)({},_.href),{pathname:v}),_.as)];case 3:d.sent(),d.label=4;case 4:return[2]}})}).apply(this,arguments)},status:t}}},95872:e=>{e.exports={statusText:"PushBranchButton_statusText__wcvC6",remoteStatusBannerDesktop:"PushBranchButton_remoteStatusBannerDesktop__6L2RE",remoteStatusBannerMobile:"PushBranchButton_remoteStatusBannerMobile__ScuDy",mobileButton:"PushBranchButton_mobileButton__EmUce",remoteStatusBanner:"PushBranchButton_remoteStatusBanner__yCheR",connectExistingButtonDesktop:"PushBranchButton_connectExistingButtonDesktop__RMM9T",connectExistingButtonMobile:"PushBranchButton_connectExistingButtonMobile__rd_Kh"}},95905:(e,n,t)=>{"use strict";t.d(n,{K:()=>u});var r=t(17844),a=t(93629),i=t(17459),o=t(34837),s=t(2717),l=t(25227).D.button;function u(e){var n=e.iconLeft,t=e.iconRight,u=e.text,c=e.innerRef,d=e.colorway,f=e.disabled,p=(0,i._)(e,["iconLeft","iconRight","text","innerRef","colorway","disabled"]);return(0,o.FD)(l,(0,a._)((0,r._)({ref:c},p),{css:[(0,s.w)({colorway:d,clickable:!0,variant:"filled",iconLeft:!!n,iconRight:!!t,hasText:!!u}),{color:"inherit"}],disabled:f,children:[n,u?(0,o.Y)("span",{children:u}):null,t]}))}},96128:(e,n,t)=>{"use strict";t.d(n,{A:()=>A});var r=t(34837),a=t(56582),i=t(17844),o=t(12584),s=t(41114),l=t(54744);function u(){var e=(0,o._)(["\n  query AgentInputRequiresPaymentMethodInfo($orgId: String) {\n    currentUser {\n      id\n      usageInterval {\n        ... on UsageInterval {\n          endDate\n        }\n      }\n      org(orgId: $orgId) {\n        ... on Org {\n          id\n          planInfo {\n            ... on OrgPlanInfo {\n              planEndDate\n            }\n          }\n        }\n        ... on Error {\n          message\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}var c={},d=(0,s.J1)(u()),f=t(33747),p=t(47737),h=t(43162),m=t(24690),v=t(70764),g=t(18712),b=t(40756),y=t(91953),w=t(25227),_=t(38675),S=(0,v.x)({root:[g.wp.borderRadius(8)],infoText:[g.wp.textAlign.center]});function A(e){var n,t,o,s,u,v=e.owner,g=e.orgId,A=(0,p.Dr)("stripePayment")&&(null==v?void 0:v.type)!=="org",k=(0,p.m6)(),C=(0,m.A)(),Y=(n={variables:{orgId:g}},t=(0,i._)({},c,n),l.I(d,t)).data,E=null,x="",T=null==Y?void 0:Y.currentUser;if(T&&(g&&(null==(o=T.org)?void 0:o.__typename)==="Org"?E=(null==(u=T.org.planInfo)?void 0:u.__typename)==="OrgPlanInfo"?T.org.planInfo.planEndDate:null:g||(null==(s=T.usageInterval)?void 0:s.__typename)!=="UsageInterval"||(E=T.usageInterval.endDate)),E){var D=new Date(E);x=", resets in "+(0,a.A)(D,{addSuffix:!1})}var I=(null==v?void 0:v.type)==="org"?"".concat((0,h.EG)({slug:v.slug}).settings.href,"?tab=billing"):"/account#billing",R="Add payment method";return A?R="Add more usage":k&&(R="Add payment method on replit.com"),(0,r.FD)(w.S,{gap:8,align:"center",css:S.root,children:[(0,r.FD)(y.EY,{css:S.infoText,color:"dimmer",children:["No monthly ",f.g$," usage left",x,(0,r.Y)("br",{}),"Get more usage now by adding a payment method"]}),(0,r.Y)(b.$n,{onClick:function(){if(A)return void C.showPaymentFlow({type:"setup",source:"agent_input_requires_payment_method"});window.open(I,"_blank")},disabled:k&&!A,stretch:!0,iconLeft:(0,r.Y)(_.A,{}),variant:"outlined",text:R})]})}},96149:e=>{e.exports={emptyStateOverlay:"ContentEmptyState_emptyStateOverlay__CiJRM",emptyStateOverlayAnimating:"ContentEmptyState_emptyStateOverlayAnimating__Rv5w5","pulse-gray":"ContentEmptyState_pulse-gray__liM1D"}},96193:(e,n,t)=>{"use strict";t.d(n,{Q:()=>p});var r=t(17844),a=t(93629),i=t(96513),o=t(12584),s=t(41114),l=t(54744);function u(){var e=(0,o._)(["\n  query CheckForProjectByRepl($id: String!) {\n    getRepl(id: $id) {\n      __typename\n      ... on Repl {\n        id\n        org {\n          id\n          type\n          name\n          authorizations {\n            createPublicRepl: createRepl(private: false) {\n              isAuthorized\n              message\n            }\n            createPrivateRepl: createRepl(private: true) {\n              isAuthorized\n              message\n            }\n            createProject {\n              isAuthorized\n              message\n            }\n          }\n        }\n        project {\n          id\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}var c={},d=(0,s.J1)(u()),f=t(61125);function p(){var e,n,t,o,s,u,p=(s={variables:{id:(0,f.A)()}},u=(0,r._)({},c,s),l.I(d,u)),h=(null==(n=p.data)||null==(e=n.getRepl)?void 0:e.__typename)==="Repl"?p.data.getRepl.org:void 0,m=!!h&&h.type===i.NT1.Team&&(h.authorizations.createPrivateRepl.isAuthorized||h.authorizations.createPublicRepl.isAuthorized)&&h.authorizations.createProject.isAuthorized;return(0,a._)((0,r._)({},p),{hasProject:(null==(t=p.data)?void 0:t.getRepl.__typename)==="Repl"&&!!(null==(o=p.data.getRepl.project)?void 0:o.id),isEligibleForProject:m})}},96576:(e,n,t)=>{"use strict";t.d(n,{A:()=>Y,o:()=>_});var r=t(83846),a=t(34837),i=t(72096),o=t.n(i),s=t(3383),l=t(20865),u=t(42793),c=t(39534),d=t(70764),f=t(51292),p=t(18712),h=t(40756),m=t(3937),v=t(91953),g=t(25227),b=t(17682),y=t(52650),w=t(54139),_=function(e){var n,t,r=e.repl,i=e.hideForkButton,u=(0,b.Z)(),c=r.title,d=r.description,f=r.iconUrl,p=r.timeUpdated,_=r.publicForkCount,A=r.url;return(0,a.FD)(m.ui,{css:k.featureCardWrapper,tabIndex:-1,children:[(0,a.Y)(g.S,{css:k.imageWrapper,children:(0,a.Y)(l.A,{alt:r.title,imageUrl:null!=(t=r.imageUrl)?t:null==(n=r.templateInfo)?void 0:n.imageUrl,width:135,height:135,style:{borderRadius:"4px 0px 0px 4px"}})}),(0,a.FD)(g.S,{css:k.detailsColumn,grow:!0,shrink:!0,children:[(0,a.FD)(g.S,{grow:!0,pt:8,row:!0,align:"start",justify:"space-between",children:[(0,a.Y)(o(),{href:"".concat(A,"/view"),css:C.link,target:"_blank",children:(0,a.FD)(g.S,{css:k.titleWithIcon,grow:!0,shrink:!0,row:!0,gap:12,align:"center",children:[(0,a.Y)(y.A,{surface:!0,alt:c,size:32,iconUrl:f}),(0,a.FD)(g.S,{css:S.titleTimeWrapper,children:[(0,a.Y)(v.EY,{variant:"headerDefault",color:"default",multiline:!1,children:c}),(0,a.FD)(v.EY,{variant:"small",color:"dimmest",multiline:!1,children:["Updated ",(0,s.K)(p)]})]})]})}),i?null:(0,a.FD)(g.S,{css:k.forkCount,pt:8,row:!0,gap:8,align:"center",children:[(0,a.Y)(g.S,{children:_}),(0,a.Y)(h.$n,{className:"forkButton",variant:"nofill",css:k.forkButton,text:u.isForking?"Remixing...":"Remix",isDisabled:u.isForking,onClick:function(){u.isForking||u.fork()},disabled:u.isForking,iconLeft:(0,a.Y)(w.A,{})})]})]}),(0,a.Y)(g.S,{grow:2,children:(0,a.Y)(v.EY,{color:"dimmer",maxLines:2,children:d})})]})]})},S=(0,d.x)({titleTimeWrapper:[p.wp.color.foregroundDefault,p.wp.flex.column,p.wp.flex.shrink(1),p.wp.minWidth(0)]}),A=(0,u.AH)({"::after":{borderRadius:c.LU.space8,content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}}),k=(0,d.x)({featureCardWrapper:[p.wp.position.relative,p.wp.rowWithGap(16),p.wp.height(135),p.wp.overflow("hidden"),f.b.filledAndOutlined,p.wp.pr(16),{width:"100%"}],detailsColumn:[{width:"100%"}],titleWithIcon:[p.wp.minWidth(0),p.wp.mr(8)],forkCount:[p.wp.color.foregroundDimmer],forkButton:[p.wp.zIndex(2),p.wp.hover({backgroundColor:c.LU.interactiveBackgroundActive})],imageWrapper:[p.wp.width(135),(0,r._)({},p.$_.max(550),[p.wp.width(110)])]}),C=(0,d.x)({link:[A,p.wp.focusRingOnAfter,p.wp.flex.growAndShrink(1),p.wp.minWidth(0)]});let Y=function(e){var n=e.featuredRepls;return n?(0,a.FD)(g.S,{gap:8,children:[(0,a.Y)(v.EY,{variant:"subheadBig",color:"default",children:"Featured Apps"}),(0,a.Y)(g.S,{gap:16,children:n.items.map(function(e,n){return(0,a.Y)(b.B,{forkParams:{trackingData:{forkSource:"orgFeaturedRepl"}},repl:e.repl,children:(0,a.Y)(_,{repl:e.repl,index:n})},e.repl.id)})})]}):null}},97041:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.FD)(o.Ay,(0,a._)((0,r._)({},e),{children:[(0,i.Y)("path",{d:"M11.063 14.918V9.021h.875v.921h.077c.122-.315.32-.56.595-.733.274-.177.603-.265.987-.265.389 0 .712.088.97.265.262.174.466.418.611.733h.062c.15-.305.377-.546.68-.726.301-.181.664-.272 1.086-.272.527 0 .959.165 1.294.495.335.328.503.838.503 1.532v3.947h-.906v-3.947c0-.435-.12-.746-.357-.933a1.321 1.321 0 0 0-.841-.28c-.415 0-.736.125-.964.376-.228.248-.342.563-.342.945v3.84h-.921v-4.04c0-.335-.109-.605-.326-.81-.218-.208-.498-.311-.841-.311-.236 0-.456.062-.66.188a1.42 1.42 0 0 0-.492.522c-.123.22-.184.475-.184.764v3.686h-.906ZM6.706 15.056c-.374 0-.713-.07-1.018-.21a1.746 1.746 0 0 1-.726-.62c-.179-.27-.268-.598-.268-.982 0-.338.066-.612.2-.822.132-.212.31-.379.533-.499.223-.12.468-.21.737-.268.271-.062.544-.11.818-.146.358-.046.649-.081.872-.104.225-.026.389-.068.491-.127.105-.059.157-.161.157-.307v-.03c0-.38-.103-.674-.31-.884-.205-.21-.516-.315-.934-.315-.432 0-.771.095-1.017.284-.246.19-.419.392-.518.607l-.86-.307c.153-.358.358-.637.614-.837.258-.202.54-.343.845-.422.307-.082.609-.123.906-.123.19 0 .407.023.652.069.249.043.488.134.718.272.233.139.427.347.58.626.154.28.23.653.23 1.122v3.885h-.906v-.799h-.046a1.595 1.595 0 0 1-.307.411c-.143.146-.334.27-.572.373-.238.102-.528.153-.871.153Zm.138-.814c.358 0 .66-.07.906-.21a1.437 1.437 0 0 0 .752-1.249v-.829c-.038.046-.122.088-.253.127a4.271 4.271 0 0 1-.445.096 20.362 20.362 0 0 1-.868.115c-.236.03-.456.08-.66.15a1.138 1.138 0 0 0-.492.303c-.123.133-.184.315-.184.545 0 .315.116.553.35.714.235.159.533.238.894.238Z"}),(0,i.Y)("path",{fillRule:"evenodd",d:"M4.15 4.75A1.65 1.65 0 0 0 2.5 6.4v11.2c0 .911.739 1.65 1.65 1.65h15.2A1.65 1.65 0 0 0 21 17.6V6.4a1.65 1.65 0 0 0-1.65-1.65H4.15ZM1 6.4a3.15 3.15 0 0 1 3.15-3.15h15.2A3.15 3.15 0 0 1 22.5 6.4v11.2a3.15 3.15 0 0 1-3.15 3.15H4.15A3.15 3.15 0 0 1 1 17.6V6.4Z",clipRule:"evenodd"})]}))}},97126:(e,n,t)=>{"use strict";t.d(n,{L:()=>h,i:()=>m});var r=t(83846),a=t(34837),i=t(1962),o=t(39534),s=t(70764),l=t(19944),u=t(18712),c=(0,l.v)(["connectorHeight","connectorLeft","markerTop","markerBottom","markerLeft"]),d=c.cssVars,f=c.styleTokens,p=(0,s.x)({connectorSegmentBorder:[u.wp.position.absolute,u.wp.left(f.connectorLeft),u.wp.width(i.Dy),u.wp.height(f.connectorHeight),u.wp.top("100%"),{borderRight:"2px solid ".concat(o.LU.outlineDimmer)}],parallelSegmentBorder:[u.wp.position.absolute,u.wp.top(0),u.wp.left(f.connectorLeft),u.wp.bottom(0),u.wp.height(f.connectorHeight),u.wp.width(i.Dy),{borderLeft:"2px solid ".concat(o.LU.outlineDimmer),borderBottom:"2px solid ".concat(o.LU.outlineDimmer),borderRadius:"0 0 0 50px"}],parallelSegmentConnectorBorder:[u.wp.position.absolute,u.wp.top(0),u.wp.bottom(0),u.wp.left(f.connectorLeft),u.wp.height("115%"),{borderLeft:"2px solid ".concat(o.LU.outlineDimmer)}],marker:[u.wp.position.absolute,u.wp.top(-2),u.wp.left(-3),u.wp.height(4),u.wp.width(4),u.wp.backgroundColor.foregroundDimmest,u.wp.borderRadius("full")],sequentialMarkerBorder:[u.wp.position.relative,u.wp.top(4),u.wp.left(f.markerLeft),u.wp.height(12),u.wp.width(i.Wf),{borderTop:"2px solid ".concat(o.LU.outlineDimmer),borderRight:"2px solid ".concat(o.LU.outlineDimmer),borderRadius:"0 10px 0 0"}],parallelMarkerBorder:[u.wp.position.relative,u.wp.top(4),u.wp.left(f.markerLeft),u.wp.height(12),u.wp.width(i.Wf),{borderLeft:"2px solid ".concat(o.LU.outlineDimmer)}]});function h(e){var n,t,o=e.mode,s=e.dragAble,l=e.hideBottom,u=void 0!==l&&l,c=e.connectorHeight,f=e.connectorLeft;return"sequential"===(void 0===o?"sequential":o)?(0,a.Y)(a.FK,{children:u?null:(0,a.Y)("div",{css:p.connectorSegmentBorder,style:(n={},(0,r._)(n,d.connectorHeight,"".concat(null!=c?c:8,"px")),(0,r._)(n,d.connectorLeft,"".concat(null!=f?f:0,"px")),n)})}):(0,a.FD)(a.FK,{children:[(0,a.Y)("div",{css:p.parallelSegmentBorder,style:(t={width:void 0===s||s?i.Dy-6:i.Dy},(0,r._)(t,d.connectorHeight,"".concat(null!=c?c:25,"px")),(0,r._)(t,d.connectorLeft,"".concat(null!=f?f:-12,"px")),t)}),u?null:(0,a.Y)("div",{css:p.parallelSegmentConnectorBorder,style:(0,r._)({},d.connectorLeft,"".concat(null!=f?f:-12,"px"))})]})}function m(e){var n,t,i=e.top,o=void 0===i?-2:i,s=e.bottom,l=void 0===s?0:s,u=e.left;return"sequential"===e.mode?(0,a.Y)("div",{css:p.sequentialMarkerBorder,style:(n={},(0,r._)(n,d.markerTop,"".concat(o,"px")),(0,r._)(n,d.markerBottom,"".concat(l,"px")),(0,r._)(n,d.markerLeft,"".concat(u,"px")),n),children:(0,a.Y)("div",{css:p.marker})}):(0,a.Y)("div",{css:p.parallelMarkerBorder,style:(t={},(0,r._)(t,d.markerTop,"".concat(o,"px")),(0,r._)(t,d.markerBottom,"".concat(l,"px")),(0,r._)(t,d.markerLeft,"".concat(u,"px")),t),children:(0,a.Y)("div",{css:p.marker})})}},97139:(e,n,t)=>{"use strict";t.d(n,{A:()=>F});var r=t(12694),a=t(34837),i=t(17844),o=t(12584),s=t(41114),l=t(54744),u=t(39590);function c(){var e=(0,o._)(["\n  query MultiplayerInviteUrl($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        inviteUrl\n        owner {\n          ... on User {\n            id\n          }\n          ... on Team {\n            id\n            capabilities {\n              isBusinessPlan\n              hasValidSubscription\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return c=function(){return e},e}function d(){var e=(0,o._)(["\n  mutation MultiplayerRefreshInviteUrl($replId: String!) {\n    refreshMultiplayerInviteLink(replId: $replId) {\n      id\n      ... on Repl {\n        id\n        inviteUrl\n      }\n    }\n  }\n"]);return d=function(){return e},e}function f(){var e=(0,o._)(["\n  mutation DeleteMultiplayerInviteUrl($replId: String!) {\n    deleteMultiplayerInviteLink(replId: $replId) {\n      ... on Repl {\n        id\n        inviteUrl\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return f=function(){return e},e}var p={},h=(0,s.J1)(c()),m=(0,s.J1)(d()),v=(0,s.J1)(f()),g=t(35897),b=t(19786),y=t(34778),w=t(39534),_=t(70764),S=t(18712),A=t(22871),k=t(83096),C=t(59092),Y=t(3937),E=t(14972),x=t(91953),T=t(25227),D=t(22440),I=t(50957),R=t(33683),N=t(90843),O=(0,_.x)({container:[S.wp.colWithGap(12),S.wp.px(12)],header:[S.wp.flex.row,S.wp.justify.spaceBetween],globeIconContainer:[S.wp.width(40),S.wp.height(40),S.wp.backgroundColor.accentPrimaryDimmer,S.wp.borderRadius("full"),S.wp.align.center,S.wp.justify.center],title:[S.wp.fontWeight.medium],inviteUrlContainer:[S.wp.borderRadius(8),S.wp.flex.row],input:[S.wp.borderRadius(8,0,0,8),S.wp.color.foregroundDimmer],copyToClipboard:[S.wp.borderRadius(0,8,8,0)]}),P=function(){return(0,a.FD)(T.S,{row:!0,gap:12,children:[(0,a.Y)(T.S,{css:O.globeIconContainer,children:(0,a.Y)(D.A,{color:w.LU.accentPrimaryStrongest,size:20})}),(0,a.FD)(T.S,{children:[(0,a.Y)(x.EY,{css:O.title,id:"link-switch-label",multiline:!1,children:"Private join link"}),(0,a.Y)(x.EY,{variant:"small",color:"dimmest",multiline:!1,children:"Anyone with this link can edit files"})]})]})};function F(e){var n,t,o,s,c,d,f,_,D,F,U,L,M,J,H=e.replId,B=(0,g.A)(),V=B.showConfirm,$=B.showError,G=(n={variables:{replId:H}},t=(0,i._)({},p,n),l.I(h,t)),z=G.data,W=G.loading,j=G.error,q=G.refetch,Z=(0,r._)((o={variables:{replId:H},onError:function(e){return $(e.message)},onCompleted:function(){return V("Join link created")}},s=(0,i._)({},p,o),u.n(m,s)),2),K=Z[0],Q=Z[1],X=(0,r._)((c={variables:{replId:H},onError:function(e){return $(e.message)},onCompleted:function(e){if("UserError"===e.deleteMultiplayerInviteLink.__typename)return void $(e.deleteMultiplayerInviteLink.message);"Repl"===e.deleteMultiplayerInviteLink.__typename&&V("Join link deleted")}},d=(0,i._)({},p,c),u.n(v,d)),2),ee=X[0],en=X[1],et=(null==z||null==(f=z.getRepl)?void 0:f.__typename)==="Repl"?z.getRepl:null,er=Q.loading||en.loading,ea=(null==z||null==(_=z.getRepl)?void 0:_.__typename)==="Repl"&&(null==et||null==(D=et.owner)?void 0:D.__typename)==="Team",ei=(null==z||null==(F=z.getRepl)?void 0:F.__typename)==="Repl"&&(null==et||null==(U=et.owner)?void 0:U.__typename)==="Team"&&(null==et||null==(L=et.owner.capabilities)?void 0:L.isBusinessPlan)&&(null==et||null==(M=et.owner.capabilities)?void 0:M.hasValidSubscription),eo=(null==z||null==(J=z.getRepl)?void 0:J.__typename)==="Repl"&&(null==et?void 0:et.inviteUrl)&&1?window.location.origin+(null==et?void 0:et.inviteUrl):null;return W||ea&&!ei?null:j?(0,a.FD)(T.S,{css:O.container,children:[(0,a.FD)(T.S,{css:O.header,children:[(0,a.Y)(P,{}),(0,a.Y)(E.d,{isSelected:!1,isDisabled:!0,"aria-labelledby":"link-switch-label"})]}),(0,a.Y)(C.d,{css:[S.wp.textAlign.left],iconLeft:(0,a.Y)(N.A,{color:w.LU.accentNegativeStrongest}),colorway:"negative",text:"Error loading join link. Click here to try again, or contact support.",onClick:function(){return q({replId:H})}})]}):(0,a.FD)(T.S,{css:O.container,children:[(0,a.FD)(T.S,{css:O.header,children:[(0,a.Y)(P,{}),W?(0,a.FD)(T.S,{row:!0,gap:4,align:"center",children:[(0,a.Y)(R.A,{color:w.LU.foregroundDimmer}),(0,a.Y)(x.EY,{color:"dimmer",multiline:!1,children:"Loading..."})]}):(0,a.Y)(E.d,{isSelected:!!eo,isDisabled:er,onChange:function(e){er||(e?K():ee())},"aria-labelledby":"link-switch-label"})]}),!W&&eo?(0,a.FD)(a.FK,{children:[(0,a.FD)(Y.ui,{css:O.inviteUrlContainer,children:[(0,a.Y)(k.pd,{type:"url",readOnly:!0,disabled:!0,value:er?"Loading...":eo,css:O.input}),(0,a.Y)(A.i,{textToCopy:eo,onClick:function(){eo?((0,b.default)(eo),(0,y.u4)(y.AZ.JOIN_LINK_COPIED,{replId:null==et?void 0:et.id,isTeamRepl:ea,source:"replEnvironment"}),V("Link copied")):$("Could not copy link")},tooltipSuccessText:"Copied to clipboard",text:"Copy join link",iconLeft:(0,a.Y)(I.A,{}),css:O.copyToClipboard,colorway:"primary",disabled:er})]}),(0,a.Y)(T.S,{children:(0,a.FD)(x.EY,{color:"dimmer",variant:"small",multiline:!1,children:["Want to revoke access to this link?"," ",(0,a.Y)("a",{css:S.wp.linkStyle,role:"button",tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),er||K())},onClick:function(e){e.preventDefault(),er||K()},children:"Generate a new link"})]})})]}):null]})}},97678:(e,n,t)=>{"use strict";t.d(n,{TAx:()=>A.TA,Fje:()=>A.Fj});var r=t(61833),a=t(46434),i=t(26608),o=t(53847),s=t(41989),l=t(82643),u=t(14306),c=new Map,d={$type:"google.protobuf.Timestamp",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.seconds&&n.uint32(8).int64(e.seconds),0!==e.nanos&&n.uint32(16).int32(e.nanos),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={seconds:0,nanos:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.seconds=function(e){var n=globalThis.Number(e.toString());if(n>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(n<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return n}(t.int64());continue;case 2:if(16!==i)break;a.nanos=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,f,p,h,m,v,g,b,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];f=!0,p=!1,h=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),m=c[Symbol.iterator](),w.label=5;case 5:if(f=(v=m.next()).done)return[3,8];return g=v.value,[5,(0,l.Ju)((0,r._)((0,a._)([d.encode(g).finish()])))];case 6:w.sent(),w.label=7;case 7:return f=!0,[3,5];case 8:return[3,11];case 9:return b=w.sent(),p=!0,h=b,[3,11];case 10:try{f||null==m.return||m.return()}finally{if(p)throw h}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([d.encode(c).finish()])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,f,p,h,m,v,g,b,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];f=!0,p=!1,h=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),m=c[Symbol.iterator](),w.label=5;case 5:if(f=(v=m.next()).done)return[3,8];return g=v.value,[5,(0,l.Ju)((0,r._)((0,a._)([d.decode(g)])))];case 6:w.sent(),w.label=7;case 7:return f=!0,[3,5];case 8:return[3,11];case 9:return b=w.sent(),p=!0,h=b,[3,11];case 10:try{f||null==m.return||m.return()}finally{if(p)throw h}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([d.decode(c)])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{seconds:null!=e.seconds?globalThis.Number(e.seconds):0,nanos:null!=e.nanos?globalThis.Number(e.nanos):0}},toJSON:function(e){var n={};return 0!==e.seconds&&(n.seconds=Math.round(e.seconds)),0!==e.nanos&&(n.nanos=Math.round(e.nanos)),n}};c.set(d.$type,d);var f={$type:"google.protobuf.DoubleValue",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.value&&n.uint32(9).double(e.value),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={value:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(9!==i)break;a.value=t.double();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,p,h,m,v,g,b,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,p=!1,h=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),m=c[Symbol.iterator](),w.label=5;case 5:if(d=(v=m.next()).done)return[3,8];return g=v.value,[5,(0,l.Ju)((0,r._)((0,a._)([f.encode(g).finish()])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return b=w.sent(),p=!0,h=b,[3,11];case 10:try{d||null==m.return||m.return()}finally{if(p)throw h}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([f.encode(c).finish()])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,p,h,m,v,g,b,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,p=!1,h=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),m=c[Symbol.iterator](),w.label=5;case 5:if(d=(v=m.next()).done)return[3,8];return g=v.value,[5,(0,l.Ju)((0,r._)((0,a._)([f.decode(g)])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return b=w.sent(),p=!0,h=b,[3,11];case 10:try{d||null==m.return||m.return()}finally{if(p)throw h}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([f.decode(c)])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{value:S(e.value)?globalThis.Number(e.value):0}},toJSON:function(e){var n={};return 0!==e.value&&(n.value=e.value),n}};c.set(f.$type,f);var p={$type:"google.protobuf.FloatValue",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.value&&n.uint32(13).float(e.value),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={value:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(13!==i)break;a.value=t.float();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,h,m,v,g,b,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,h=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),m=c[Symbol.iterator](),w.label=5;case 5:if(d=(v=m.next()).done)return[3,8];return g=v.value,[5,(0,l.Ju)((0,r._)((0,a._)([p.encode(g).finish()])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return b=w.sent(),f=!0,h=b,[3,11];case 10:try{d||null==m.return||m.return()}finally{if(f)throw h}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([p.encode(c).finish()])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,h,m,v,g,b,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,h=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),m=c[Symbol.iterator](),w.label=5;case 5:if(d=(v=m.next()).done)return[3,8];return g=v.value,[5,(0,l.Ju)((0,r._)((0,a._)([p.decode(g)])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return b=w.sent(),f=!0,h=b,[3,11];case 10:try{d||null==m.return||m.return()}finally{if(f)throw h}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([p.decode(c)])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{value:S(e.value)?globalThis.Number(e.value):0}},toJSON:function(e){var n={};return 0!==e.value&&(n.value=e.value),n}};c.set(p.$type,p);var h={$type:"google.protobuf.Int64Value",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.value&&n.uint32(8).int64(e.value),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={value:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.value=_(t.int64());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,m,v,g,b,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),m=c[Symbol.iterator](),w.label=5;case 5:if(d=(v=m.next()).done)return[3,8];return g=v.value,[5,(0,l.Ju)((0,r._)((0,a._)([h.encode(g).finish()])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return b=w.sent(),f=!0,p=b,[3,11];case 10:try{d||null==m.return||m.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([h.encode(c).finish()])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,m,v,g,b,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),m=c[Symbol.iterator](),w.label=5;case 5:if(d=(v=m.next()).done)return[3,8];return g=v.value,[5,(0,l.Ju)((0,r._)((0,a._)([h.decode(g)])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return b=w.sent(),f=!0,p=b,[3,11];case 10:try{d||null==m.return||m.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([h.decode(c)])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{value:S(e.value)?globalThis.Number(e.value):0}},toJSON:function(e){var n={};return 0!==e.value&&(n.value=Math.round(e.value)),n}};c.set(h.$type,h);var m={$type:"google.protobuf.UInt64Value",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.value&&n.uint32(8).uint64(e.value),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={value:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.value=_(t.uint64());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,v,g,b,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),h=c[Symbol.iterator](),w.label=5;case 5:if(d=(v=h.next()).done)return[3,8];return g=v.value,[5,(0,l.Ju)((0,r._)((0,a._)([m.encode(g).finish()])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return b=w.sent(),f=!0,p=b,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([m.encode(c).finish()])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,v,g,b,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),h=c[Symbol.iterator](),w.label=5;case 5:if(d=(v=h.next()).done)return[3,8];return g=v.value,[5,(0,l.Ju)((0,r._)((0,a._)([m.decode(g)])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return b=w.sent(),f=!0,p=b,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([m.decode(c)])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{value:S(e.value)?globalThis.Number(e.value):0}},toJSON:function(e){var n={};return 0!==e.value&&(n.value=Math.round(e.value)),n}};c.set(m.$type,m);var v={$type:"google.protobuf.Int32Value",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.value&&n.uint32(8).int32(e.value),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={value:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.value=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,g,b,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),h=c[Symbol.iterator](),w.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return g=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([v.encode(g).finish()])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return b=w.sent(),f=!0,p=b,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([v.encode(c).finish()])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,g,b,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),h=c[Symbol.iterator](),w.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return g=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([v.decode(g)])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return b=w.sent(),f=!0,p=b,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([v.decode(c)])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{value:S(e.value)?globalThis.Number(e.value):0}},toJSON:function(e){var n={};return 0!==e.value&&(n.value=Math.round(e.value)),n}};c.set(v.$type,v);var g={$type:"google.protobuf.UInt32Value",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.value&&n.uint32(8).uint32(e.value),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={value:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.value=t.uint32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,b,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),h=c[Symbol.iterator](),w.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([g.encode(v).finish()])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return b=w.sent(),f=!0,p=b,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([g.encode(c).finish()])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,b,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),h=c[Symbol.iterator](),w.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([g.decode(v)])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return b=w.sent(),f=!0,p=b,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([g.decode(c)])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{value:S(e.value)?globalThis.Number(e.value):0}},toJSON:function(e){var n={};return 0!==e.value&&(n.value=Math.round(e.value)),n}};c.set(g.$type,g);var b={$type:"google.protobuf.BoolValue",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return!1!==e.value&&n.uint32(8).bool(e.value),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={value:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.value=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),h=c[Symbol.iterator](),w.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([b.encode(v).finish()])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=w.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([b.encode(c).finish()])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,y;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),h=c[Symbol.iterator](),w.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([b.decode(v)])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=w.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([b.decode(c)])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return y=w.sent(),t=!0,o=y,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{value:!!S(e.value)&&globalThis.Boolean(e.value)}},toJSON:function(e){var n={};return!1!==e.value&&(n.value=e.value),n}};c.set(b.$type,b);var y={$type:"google.protobuf.StringValue",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.value&&n.uint32(10).string(e.value),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={value:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.value=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),h=c[Symbol.iterator](),w.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([y.encode(v).finish()])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=w.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([y.encode(c).finish()])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=w.sent(),t=!0,o=b,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(w){switch(w.label){case 0:n=!1,t=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),s=(0,a._)(e),w.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=w.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,w.label=4;case 4:w.trys.push([4,9,10,11]),h=c[Symbol.iterator](),w.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([y.decode(v)])))];case 6:w.sent(),w.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=w.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([y.decode(c)])))];case 13:w.sent(),w.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=w.sent(),t=!0,o=b,[3,22];case 17:if(w.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{value:S(e.value)?globalThis.String(e.value):""}},toJSON:function(e){var n={};return""!==e.value&&(n.value=e.value),n}};c.set(y.$type,y);var w={$type:"google.protobuf.BytesValue",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.value.length&&n.uint32(10).bytes(e.value),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={value:new Uint8Array(0)};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.value=t.bytes();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([w.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([w.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([w.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([w.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{value:S(e.value)?function(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));for(var n=globalThis.atob(e),t=new Uint8Array(n.length),r=0;r<n.length;++r)t[r]=n.charCodeAt(r);return t}(e.value):new Uint8Array(0)}},toJSON:function(e){var n={};return 0!==e.value.length&&(n.value=function(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");var n=[];return e.forEach(function(e){n.push(globalThis.String.fromCharCode(e))}),globalThis.btoa(n.join(""))}(e.value)),n}};function _(e){var n=globalThis.Number(e.toString());if(n>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(n<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return n}function S(e){return null!=e}c.set(w.$type,w);var A=t(27293);function k(e){switch(e){case 0:case"AGENT_STATE_UNKNOWN":return A.g3.AGENT_STATE_UNKNOWN;case 1:case"AGENT_STATE_RUNNING":return A.g3.AGENT_STATE_RUNNING;case 2:case"AGENT_STATE_PAUSING":return A.g3.AGENT_STATE_PAUSING;case 3:case"AGENT_STATE_PAUSED":return A.g3.AGENT_STATE_PAUSED;case 4:case"AGENT_STATE_NOT_STARTED":return A.g3.AGENT_STATE_NOT_STARTED;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AgentRunState")}}function C(e){switch(e){case A.g3.AGENT_STATE_UNKNOWN:return"AGENT_STATE_UNKNOWN";case A.g3.AGENT_STATE_RUNNING:return"AGENT_STATE_RUNNING";case A.g3.AGENT_STATE_PAUSING:return"AGENT_STATE_PAUSING";case A.g3.AGENT_STATE_PAUSED:return"AGENT_STATE_PAUSED";case A.g3.AGENT_STATE_NOT_STARTED:return"AGENT_STATE_NOT_STARTED";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AgentRunState")}}function Y(e){switch(e){case 0:case"TASK_STATUS_UNSPECIFIED":return A.e1.UNSPECIFIED;case 1:case"TASK_STATUS_PENDING":return A.e1.PENDING;case 2:case"TASK_STATUS_IN_PROGRESS":return A.e1.IN_PROGRESS;case 3:case"TASK_STATUS_COMPLETED":return A.e1.COMPLETED;case 4:case"TASK_STATUS_COMPLETED_PENDING_REVIEW":return A.e1.COMPLETED_PENDING_REVIEW;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum TaskStatus")}}function E(e){switch(e){case A.e1.UNSPECIFIED:return"TASK_STATUS_UNSPECIFIED";case A.e1.PENDING:return"TASK_STATUS_PENDING";case A.e1.IN_PROGRESS:return"TASK_STATUS_IN_PROGRESS";case A.e1.COMPLETED:return"TASK_STATUS_COMPLETED";case A.e1.COMPLETED_PENDING_REVIEW:return"TASK_STATUS_COMPLETED_PENDING_REVIEW";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum TaskStatus")}}function x(e){switch(e){case 0:case"STACK_BLUEPRINT_NONE":return A.qf.NONE;case 1:case"STACK_BLUEPRINT_FLASK_VANILLA_JS":return A.qf.FLASK_VANILLA_JS;case 2:case"STACK_BLUEPRINT_PYTHON_API":return A.qf.PYTHON_API;case 3:case"STACK_BLUEPRINT_STREAMLIT":return A.qf.STREAMLIT;case 4:case"STACK_BLUEPRINT_FULLSTACK_JS":return A.qf.FULLSTACK_JS;case 5:case"STACK_BLUEPRINT_GAMESTACK_JS":return A.qf.GAMESTACK_JS;case 6:case"STACK_BLUEPRINT_CUSTOM":return A.qf.CUSTOM;case 7:case"STACK_BLUEPRINT_EXPO":return A.qf.EXPO;case 8:case"STACK_BLUEPRINT_AGENT":return A.qf.AGENT;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum StackBlueprint")}}function T(e){switch(e){case A.qf.NONE:return"STACK_BLUEPRINT_NONE";case A.qf.FLASK_VANILLA_JS:return"STACK_BLUEPRINT_FLASK_VANILLA_JS";case A.qf.PYTHON_API:return"STACK_BLUEPRINT_PYTHON_API";case A.qf.STREAMLIT:return"STACK_BLUEPRINT_STREAMLIT";case A.qf.FULLSTACK_JS:return"STACK_BLUEPRINT_FULLSTACK_JS";case A.qf.GAMESTACK_JS:return"STACK_BLUEPRINT_GAMESTACK_JS";case A.qf.CUSTOM:return"STACK_BLUEPRINT_CUSTOM";case A.qf.EXPO:return"STACK_BLUEPRINT_EXPO";case A.qf.AGENT:return"STACK_BLUEPRINT_AGENT";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum StackBlueprint")}}function D(e){switch(e){case 0:case"UNKNOWN_TRIGGER_TYPE":return A.ez.UNKNOWN_TRIGGER_TYPE;case 1:case"SLACK_MESSAGE":return A.ez.SLACK_MESSAGE;case 2:case"TELEGRAM_MESSAGE":return A.ez.TELEGRAM_MESSAGE;case 3:case"TIME_BASED":return A.ez.TIME_BASED;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AgentStackTriggerType")}}function I(e){switch(e){case A.ez.UNKNOWN_TRIGGER_TYPE:return"UNKNOWN_TRIGGER_TYPE";case A.ez.SLACK_MESSAGE:return"SLACK_MESSAGE";case A.ez.TELEGRAM_MESSAGE:return"TELEGRAM_MESSAGE";case A.ez.TIME_BASED:return"TIME_BASED";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AgentStackTriggerType")}}function R(e){switch(e){case 0:case"UNKNOWN":return A.Hn.UNKNOWN;case 1:case"ENGLISH":return A.Hn.ENGLISH;case 2:case"CRON":return A.Hn.CRON;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum TranslationTarget")}}function N(e){switch(e){case A.Hn.UNKNOWN:return"UNKNOWN";case A.Hn.ENGLISH:return"ENGLISH";case A.Hn.CRON:return"CRON";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum TranslationTarget")}}function O(e){switch(e){case 0:case"DEBUG_ERROR_SOURCE_UNKNOWN":return A.VV.UNKNOWN;case 1:case"CONSOLE":return A.VV.CONSOLE;case 2:case"LSP":return A.VV.LSP;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum DebugErrorSource")}}function P(e){switch(e){case A.VV.UNKNOWN:return"DEBUG_ERROR_SOURCE_UNKNOWN";case A.VV.CONSOLE:return"CONSOLE";case A.VV.LSP:return"LSP";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum DebugErrorSource")}}function F(e){switch(e){case 0:case"EVENT_STATE_UNKNOWN":return A.qO.UNKNOWN;case 1:case"IN_PROGRESS":return A.qO.IN_PROGRESS;case 2:case"COMPLETE":return A.qO.COMPLETE;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum EventState")}}function U(e){switch(e){case A.qO.UNKNOWN:return"EVENT_STATE_UNKNOWN";case A.qO.IN_PROGRESS:return"IN_PROGRESS";case A.qO.COMPLETE:return"COMPLETE";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum EventState")}}function L(e){switch(e){case 0:case"SESSION_TYPE_UNKNOWN":return A.dF.UNKNOWN;case 1:case"CHAT":return A.dF.CHAT;case 2:case"INLINE_CHAT":return A.dF.INLINE_CHAT;case 3:case"SINGLE_USE_SESSION":return A.dF.SINGLE_USE_SESSION;case 4:case"REPL_CREATION":return A.dF.REPL_CREATION;case 5:case"AGENT_SESSION":return A.dF.AGENT_SESSION;case 6:case"HOSTING_DEBUG_SUMMARY":return A.dF.HOSTING_DEBUG_SUMMARY;case 7:case"REPL_CREATION_V2":return A.dF.REPL_CREATION_V2;case 8:case"REPL_CREATION_V3":return A.dF.REPL_CREATION_V3;case 9:case"AGENT_REPLAY_SESSION":return A.dF.AGENT_REPLAY_SESSION;case 10:case"SAMPLING_SESSION":return A.dF.SAMPLING_SESSION;case 11:case"SUB_AGENT":return A.dF.SUB_AGENT;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum SessionType")}}function M(e){switch(e){case A.dF.UNKNOWN:return"SESSION_TYPE_UNKNOWN";case A.dF.CHAT:return"CHAT";case A.dF.INLINE_CHAT:return"INLINE_CHAT";case A.dF.SINGLE_USE_SESSION:return"SINGLE_USE_SESSION";case A.dF.REPL_CREATION:return"REPL_CREATION";case A.dF.AGENT_SESSION:return"AGENT_SESSION";case A.dF.HOSTING_DEBUG_SUMMARY:return"HOSTING_DEBUG_SUMMARY";case A.dF.REPL_CREATION_V2:return"REPL_CREATION_V2";case A.dF.REPL_CREATION_V3:return"REPL_CREATION_V3";case A.dF.AGENT_REPLAY_SESSION:return"AGENT_REPLAY_SESSION";case A.dF.SAMPLING_SESSION:return"SAMPLING_SESSION";case A.dF.SUB_AGENT:return"SUB_AGENT";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum SessionType")}}function J(e){switch(e){case 0:case"MESSAGE_ACTION_UNKNOWN":return A.qR.UNKNOWN;case 1:case"NONE":return A.qR.NONE;case 2:case"REPLIT_DOCS":return A.qR.REPLIT_DOCS;case 3:case"GENERATE":return A.qR.GENERATE;case 4:case"EXPLAIN":return A.qR.EXPLAIN;case 5:case"TRANSFORM":return A.qR.TRANSFORM;case 6:case"DEBUG":return A.qR.DEBUG;case 7:case"FIND_INTENT":return A.qR.FIND_INTENT;case 8:case"AGENT":return A.qR.AGENT;case 9:case"ITERATIVE_AGENT":return A.qR.ITERATIVE_AGENT;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum MessageAction")}}function H(e){switch(e){case A.qR.UNKNOWN:return"MESSAGE_ACTION_UNKNOWN";case A.qR.NONE:return"NONE";case A.qR.REPLIT_DOCS:return"REPLIT_DOCS";case A.qR.GENERATE:return"GENERATE";case A.qR.EXPLAIN:return"EXPLAIN";case A.qR.TRANSFORM:return"TRANSFORM";case A.qR.DEBUG:return"DEBUG";case A.qR.FIND_INTENT:return"FIND_INTENT";case A.qR.AGENT:return"AGENT";case A.qR.ITERATIVE_AGENT:return"ITERATIVE_AGENT";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum MessageAction")}}function B(e){switch(e){case 0:case"AGENT_MODE_UNSPECIFIED":return A.xy.UNSPECIFIED;case 1:case"AGENT_MODE_GENERAL":return A.xy.GENERAL;case 2:case"AGENT_MODE_DISCUSSION":return A.xy.DISCUSSION;case 3:case"AGENT_MODE_INITIAL_PLANNING":return A.xy.INITIAL_PLANNING;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AgentMode")}}function V(e){switch(e){case A.xy.UNSPECIFIED:return"AGENT_MODE_UNSPECIFIED";case A.xy.GENERAL:return"AGENT_MODE_GENERAL";case A.xy.DISCUSSION:return"AGENT_MODE_DISCUSSION";case A.xy.INITIAL_PLANNING:return"AGENT_MODE_INITIAL_PLANNING";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AgentMode")}}function $(e){switch(e){case 0:case"AGENT_INITIAL_BUILD_MODE_UNSPECIFIED":return A.jV.UNSPECIFIED;case 1:case"AGENT_INITIAL_BUILD_MODE_SYNC":return A.jV.SYNC;case 2:case"AGENT_INITIAL_BUILD_MODE_ASYNC":return A.jV.ASYNC;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AgentInitialBuildMode")}}function G(e){switch(e){case A.jV.UNSPECIFIED:return"AGENT_INITIAL_BUILD_MODE_UNSPECIFIED";case A.jV.SYNC:return"AGENT_INITIAL_BUILD_MODE_SYNC";case A.jV.ASYNC:return"AGENT_INITIAL_BUILD_MODE_ASYNC";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AgentInitialBuildMode")}}function z(e){switch(e){case 0:case"COMMIT_AUTHOR_AGENT":return A.rE.AGENT;case 1:case"COMMIT_AUTHOR_USER":return A.rE.USER;case 2:case"COMMIT_AUTHOR_DEPLOYMENT":return A.rE.DEPLOYMENT;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CommitAuthor")}}function W(e){switch(e){case A.rE.AGENT:return"COMMIT_AUTHOR_AGENT";case A.rE.USER:return"COMMIT_AUTHOR_USER";case A.rE.DEPLOYMENT:return"COMMIT_AUTHOR_DEPLOYMENT";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CommitAuthor")}}function j(e){switch(e){case 0:case"REVERT_DATA_STAGE_UNKNOWN":return A.TB.REVERT_DATA_STAGE_UNKNOWN;case 1:case"REVERT_DATA_STAGE_LOADING_PREVIOUS_STATE":return A.TB.REVERT_DATA_STAGE_LOADING_PREVIOUS_STATE;case 2:case"REVERT_DATA_STAGE_SHUTTING_DOWN_WORKFLOWS":return A.TB.REVERT_DATA_STAGE_SHUTTING_DOWN_WORKFLOWS;case 3:case"REVERT_DATA_STAGE_REVERTING_COMMIT":return A.TB.REVERT_DATA_STAGE_REVERTING_COMMIT;case 4:case"REVERT_DATA_STAGE_RESTARTING_WORKFLOWS":return A.TB.REVERT_DATA_STAGE_RESTARTING_WORKFLOWS;case 5:case"REVERT_DATA_STAGE_COMPLETE":return A.TB.REVERT_DATA_STAGE_COMPLETE;case 6:case"REVERT_DATA_STAGE_ROLLING_BACK_DATABASE":return A.TB.REVERT_DATA_STAGE_ROLLING_BACK_DATABASE;case 7:case"REVERT_DATA_STAGE_ROLLING_BACK_DEPLOYMENT":return A.TB.REVERT_DATA_STAGE_ROLLING_BACK_DEPLOYMENT;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum RevertStatus")}}function q(e){switch(e){case A.TB.REVERT_DATA_STAGE_UNKNOWN:return"REVERT_DATA_STAGE_UNKNOWN";case A.TB.REVERT_DATA_STAGE_LOADING_PREVIOUS_STATE:return"REVERT_DATA_STAGE_LOADING_PREVIOUS_STATE";case A.TB.REVERT_DATA_STAGE_SHUTTING_DOWN_WORKFLOWS:return"REVERT_DATA_STAGE_SHUTTING_DOWN_WORKFLOWS";case A.TB.REVERT_DATA_STAGE_REVERTING_COMMIT:return"REVERT_DATA_STAGE_REVERTING_COMMIT";case A.TB.REVERT_DATA_STAGE_RESTARTING_WORKFLOWS:return"REVERT_DATA_STAGE_RESTARTING_WORKFLOWS";case A.TB.REVERT_DATA_STAGE_COMPLETE:return"REVERT_DATA_STAGE_COMPLETE";case A.TB.REVERT_DATA_STAGE_ROLLING_BACK_DATABASE:return"REVERT_DATA_STAGE_ROLLING_BACK_DATABASE";case A.TB.REVERT_DATA_STAGE_ROLLING_BACK_DEPLOYMENT:return"REVERT_DATA_STAGE_ROLLING_BACK_DEPLOYMENT";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum RevertStatus")}}function Z(e){switch(e){case 0:case"SAMPLING_EVENT_STATE_UNSPECIFIED":return A.B6.UNSPECIFIED;case 1:case"SAMPLING_EVENT_STATE_ENVIRONMENT_SETUP":return A.B6.ENVIRONMENT_SETUP;case 2:case"SAMPLING_EVENT_STATE_SAMPLING":return A.B6.SAMPLING;case 3:case"SAMPLING_EVENT_STATE_RANKING":return A.B6.RANKING;case 4:case"SAMPLING_EVENT_STATE_APPLYING":return A.B6.APPLYING;case 5:case"SAMPLING_EVENT_STATE_CONCLUDED":return A.B6.CONCLUDED;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum SamplingEventState")}}function K(e){switch(e){case A.B6.UNSPECIFIED:return"SAMPLING_EVENT_STATE_UNSPECIFIED";case A.B6.ENVIRONMENT_SETUP:return"SAMPLING_EVENT_STATE_ENVIRONMENT_SETUP";case A.B6.SAMPLING:return"SAMPLING_EVENT_STATE_SAMPLING";case A.B6.RANKING:return"SAMPLING_EVENT_STATE_RANKING";case A.B6.APPLYING:return"SAMPLING_EVENT_STATE_APPLYING";case A.B6.CONCLUDED:return"SAMPLING_EVENT_STATE_CONCLUDED";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum SamplingEventState")}}function Q(e){switch(e){case 0:case"TRAJECTORY_STATE_UNSPECIFIED":return A.LB.UNSPECIFIED;case 5:case"TRAJECTORY_STATE_ENVIRONMENT_SETUP":return A.LB.ENVIRONMENT_SETUP;case 1:case"TRAJECTORY_STATE_IN_PROGRESS":return A.LB.IN_PROGRESS;case 2:case"TRAJECTORY_STATE_SUCCESSFUL":return A.LB.SUCCESSFUL;case 3:case"TRAJECTORY_STATE_FAILED":return A.LB.FAILED;case 4:case"TRAJECTORY_STATE_CHOSEN":return A.LB.CHOSEN;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum TrajectoryState")}}function X(e){switch(e){case A.LB.UNSPECIFIED:return"TRAJECTORY_STATE_UNSPECIFIED";case A.LB.ENVIRONMENT_SETUP:return"TRAJECTORY_STATE_ENVIRONMENT_SETUP";case A.LB.IN_PROGRESS:return"TRAJECTORY_STATE_IN_PROGRESS";case A.LB.SUCCESSFUL:return"TRAJECTORY_STATE_SUCCESSFUL";case A.LB.FAILED:return"TRAJECTORY_STATE_FAILED";case A.LB.CHOSEN:return"TRAJECTORY_STATE_CHOSEN";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum TrajectoryState")}}var ee={$type:"replit.ai.chat.RevertToCommitRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.replId&&n.uint32(10).string(e.replId),""!==e.targetCommitId&&n.uint32(18).string(e.targetCommitId),""!==e.newSessionTitle&&n.uint32(26).string(e.newSessionTitle),""!==e.originalSessionId&&n.uint32(34).string(e.originalSessionId),""!==e.databaseRollbackTimestamp&&n.uint32(42).string(e.databaseRollbackTimestamp),""!==e.deploymentBuildId&&n.uint32(50).string(e.deploymentBuildId),!1!==e.rollbackDatabase&&n.uint32(56).bool(e.rollbackDatabase),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={replId:"",targetCommitId:"",newSessionTitle:"",originalSessionId:"",databaseRollbackTimestamp:"",deploymentBuildId:"",rollbackDatabase:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.replId=t.string();continue;case 2:if(18!==i)break;a.targetCommitId=t.string();continue;case 3:if(26!==i)break;a.newSessionTitle=t.string();continue;case 4:if(34!==i)break;a.originalSessionId=t.string();continue;case 5:if(42!==i)break;a.databaseRollbackTimestamp=t.string();continue;case 6:if(50!==i)break;a.deploymentBuildId=t.string();continue;case 7:if(56!==i)break;a.rollbackDatabase=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ee.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ee.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ee.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ee.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{replId:i4(e.replId)?globalThis.String(e.replId):"",targetCommitId:i4(e.targetCommitId)?globalThis.String(e.targetCommitId):"",newSessionTitle:i4(e.newSessionTitle)?globalThis.String(e.newSessionTitle):"",originalSessionId:i4(e.originalSessionId)?globalThis.String(e.originalSessionId):"",databaseRollbackTimestamp:i4(e.databaseRollbackTimestamp)?globalThis.String(e.databaseRollbackTimestamp):"",deploymentBuildId:i4(e.deploymentBuildId)?globalThis.String(e.deploymentBuildId):"",rollbackDatabase:!!i4(e.rollbackDatabase)&&globalThis.Boolean(e.rollbackDatabase)}},toJSON:function(e){var n={};return""!==e.replId&&(n.replId=e.replId),""!==e.targetCommitId&&(n.targetCommitId=e.targetCommitId),""!==e.newSessionTitle&&(n.newSessionTitle=e.newSessionTitle),""!==e.originalSessionId&&(n.originalSessionId=e.originalSessionId),""!==e.databaseRollbackTimestamp&&(n.databaseRollbackTimestamp=e.databaseRollbackTimestamp),""!==e.deploymentBuildId&&(n.deploymentBuildId=e.deploymentBuildId),!1!==e.rollbackDatabase&&(n.rollbackDatabase=e.rollbackDatabase),n}};c.set(ee.$type,ee);var en={$type:"replit.ai.chat.RevertToCommitResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.revertedSessionId&&n.uint32(10).string(e.revertedSessionId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={revertedSessionId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.revertedSessionId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([en.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([en.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([en.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([en.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{revertedSessionId:i4(e.revertedSessionId)?globalThis.String(e.revertedSessionId):""}},toJSON:function(e){var n={};return""!==e.revertedSessionId&&(n.revertedSessionId=e.revertedSessionId),n}};c.set(en.$type,en);var et={$type:"replit.ai.chat.CloneSessionRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.sessionId&&n.uint32(10).string(e.sessionId),""!==e.newReplId&&n.uint32(18).string(e.newReplId),void 0!==e.sessionType&&n.uint32(24).int32(e.sessionType),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={sessionId:"",newReplId:"",sessionType:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.sessionId=t.string();continue;case 2:if(18!==i)break;a.newReplId=t.string();continue;case 3:if(24!==i)break;a.sessionType=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([et.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([et.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([et.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([et.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",newReplId:i4(e.newReplId)?globalThis.String(e.newReplId):"",sessionType:i4(e.sessionType)?L(e.sessionType):void 0}},toJSON:function(e){var n={};return""!==e.sessionId&&(n.sessionId=e.sessionId),""!==e.newReplId&&(n.newReplId=e.newReplId),void 0!==e.sessionType&&(n.sessionType=M(e.sessionType)),n}};c.set(et.$type,et);var er={$type:"replit.ai.chat.CloneSessionResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.clonedSessionId&&n.uint32(10).string(e.clonedSessionId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={clonedSessionId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.clonedSessionId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([er.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([er.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([er.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([er.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{clonedSessionId:i4(e.clonedSessionId)?globalThis.String(e.clonedSessionId):""}},toJSON:function(e){var n={};return""!==e.clonedSessionId&&(n.clonedSessionId=e.clonedSessionId),n}};c.set(er.$type,er);var ea={$type:"replit.ai.chat.Ping",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ea.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ea.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ea.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ea.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(ea.$type,ea);var ei={$type:"replit.ai.chat.Pong",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ei.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ei.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ei.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ei.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(ei.$type,ei);var eo={$type:"replit.ai.chat.Event",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.id&&n.uint32(10).string(e.id),""!==e.parentEventId&&n.uint32(18).string(e.parentEventId),void 0!==e.contents&&nn.encode(e.contents,n.uint32(26).fork()).join(),void 0!==e.context&&nt.encode(e.context,n.uint32(34).fork()).join(),0!==e.state&&n.uint32(40).int32(e.state),void 0!==e.created&&d.encode(i0(e.created),n.uint32(50).fork()).join(),void 0!==e.updated&&d.encode(i0(e.updated),n.uint32(58).fork()).join(),void 0!==e.sender&&rl.encode(e.sender,n.uint32(66).fork()).join(),""!==e.sessionId&&n.uint32(74).string(e.sessionId);var t=!0,r=!1,a=void 0;try{for(var i,o=e.updateEventOperations[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;tP.encode(s,n.uint32(82).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,f=void 0;try{for(var p,h=e.typedUpdateEventOperations[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var m=p.value;tF.encode(m,n.uint32(114).fork()).join()}}catch(e){c=!0,f=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw f}}return void 0!==e.error&&tD.encode(e.error,n.uint32(90).fork()).join(),""!==e.agentStepId&&n.uint32(106).string(e.agentStepId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={id:"",parentEventId:"",contents:void 0,context:void 0,state:0,created:void 0,updated:void 0,sender:void 0,sessionId:"",updateEventOperations:[],typedUpdateEventOperations:[],error:void 0,agentStepId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.id=t.string();continue;case 2:if(18!==i)break;a.parentEventId=t.string();continue;case 3:if(26!==i)break;a.contents=nn.decode(t,t.uint32());continue;case 4:if(34!==i)break;a.context=nt.decode(t,t.uint32());continue;case 5:if(40!==i)break;a.state=t.int32();continue;case 6:if(50!==i)break;a.created=i1(d.decode(t,t.uint32()));continue;case 7:if(58!==i)break;a.updated=i1(d.decode(t,t.uint32()));continue;case 8:if(66!==i)break;a.sender=rl.decode(t,t.uint32());continue;case 9:if(74!==i)break;a.sessionId=t.string();continue;case 10:if(82!==i)break;a.updateEventOperations.push(tP.decode(t,t.uint32()));continue;case 14:if(114!==i)break;a.typedUpdateEventOperations.push(tF.decode(t,t.uint32()));continue;case 11:if(90!==i)break;a.error=tD.decode(t,t.uint32());continue;case 13:if(106!==i)break;a.agentStepId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eo.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eo.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eo.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eo.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{id:i4(e.id)?globalThis.String(e.id):"",parentEventId:i4(e.parentEventId)?globalThis.String(e.parentEventId):"",contents:i4(e.contents)?nn.fromJSON(e.contents):void 0,context:i4(e.context)?nt.fromJSON(e.context):void 0,state:i4(e.state)?F(e.state):0,created:i4(e.created)?i2(e.created):void 0,updated:i4(e.updated)?i2(e.updated):void 0,sender:i4(e.sender)?rl.fromJSON(e.sender):void 0,sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",updateEventOperations:globalThis.Array.isArray(null==e?void 0:e.updateEventOperations)?e.updateEventOperations.map(function(e){return tP.fromJSON(e)}):[],typedUpdateEventOperations:globalThis.Array.isArray(null==e?void 0:e.typedUpdateEventOperations)?e.typedUpdateEventOperations.map(function(e){return tF.fromJSON(e)}):[],error:i4(e.error)?tD.fromJSON(e.error):void 0,agentStepId:i4(e.agentStepId)?globalThis.String(e.agentStepId):""}},toJSON:function(e){var n,t,r={};return""!==e.id&&(r.id=e.id),""!==e.parentEventId&&(r.parentEventId=e.parentEventId),void 0!==e.contents&&(r.contents=nn.toJSON(e.contents)),void 0!==e.context&&(r.context=nt.toJSON(e.context)),0!==e.state&&(r.state=U(e.state)),void 0!==e.created&&(r.created=e.created.toISOString()),void 0!==e.updated&&(r.updated=e.updated.toISOString()),void 0!==e.sender&&(r.sender=rl.toJSON(e.sender)),""!==e.sessionId&&(r.sessionId=e.sessionId),(null==(n=e.updateEventOperations)?void 0:n.length)&&(r.updateEventOperations=e.updateEventOperations.map(function(e){return tP.toJSON(e)})),(null==(t=e.typedUpdateEventOperations)?void 0:t.length)&&(r.typedUpdateEventOperations=e.typedUpdateEventOperations.map(function(e){return tF.toJSON(e)})),void 0!==e.error&&(r.error=tD.toJSON(e.error)),""!==e.agentStepId&&(r.agentStepId=e.agentStepId),r}};c.set(eo.$type,eo);var es={$type:"replit.ai.chat.EventShape",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.id&&n.uint32(10).string(e.id),""!==e.parentEventId&&n.uint32(18).string(e.parentEventId),void 0!==e.created&&d.encode(i0(e.created),n.uint32(26).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={id:"",parentEventId:"",created:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.id=t.string();continue;case 2:if(18!==i)break;a.parentEventId=t.string();continue;case 3:if(26!==i)break;a.created=i1(d.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([es.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([es.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([es.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([es.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{id:i4(e.id)?globalThis.String(e.id):"",parentEventId:i4(e.parentEventId)?globalThis.String(e.parentEventId):"",created:i4(e.created)?i2(e.created):void 0}},toJSON:function(e){var n={};return""!==e.id&&(n.id=e.id),""!==e.parentEventId&&(n.parentEventId=e.parentEventId),void 0!==e.created&&(n.created=e.created.toISOString()),n}};c.set(es.$type,es);var el={$type:"replit.ai.chat.AgentUserFeedback",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.type&&n.uint32(8).int32(e.type),""!==e.comment&&n.uint32(18).string(e.comment),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={type:0,comment:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.type=t.int32();continue;case 2:if(18!==i)break;a.comment=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([el.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([el.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([el.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([el.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{type:i4(e.type)?function(e){switch(e){case 0:case"AGENT_FEEDBACK_UNKNOWN":return A.O3.AGENT_FEEDBACK_UNKNOWN;case 1:case"AGENT_FEEDBACK_THUMB_UP":return A.O3.AGENT_FEEDBACK_THUMB_UP;case 2:case"AGENT_FEEDBACK_THUMB_DOWN":return A.O3.AGENT_FEEDBACK_THUMB_DOWN;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AgentUserFeedbackType")}}(e.type):0,comment:i4(e.comment)?globalThis.String(e.comment):""}},toJSON:function(e){var n={};return 0!==e.type&&(n.type=function(e){switch(e){case A.O3.AGENT_FEEDBACK_UNKNOWN:return"AGENT_FEEDBACK_UNKNOWN";case A.O3.AGENT_FEEDBACK_THUMB_UP:return"AGENT_FEEDBACK_THUMB_UP";case A.O3.AGENT_FEEDBACK_THUMB_DOWN:return"AGENT_FEEDBACK_THUMB_DOWN";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AgentUserFeedbackType")}}(e.type)),""!==e.comment&&(n.comment=e.comment),n}};c.set(el.$type,el);var eu={$type:"replit.ai.chat.SubmitAgentUserFeedbackRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.sessionId&&n.uint32(10).string(e.sessionId),""!==e.sourceEventId&&n.uint32(18).string(e.sourceEventId),void 0!==e.feedback&&el.encode(e.feedback,n.uint32(26).fork()).join(),0!==e.sessionType&&n.uint32(32).int32(e.sessionType),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={sessionId:"",sourceEventId:"",feedback:void 0,sessionType:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.sessionId=t.string();continue;case 2:if(18!==i)break;a.sourceEventId=t.string();continue;case 3:if(26!==i)break;a.feedback=el.decode(t,t.uint32());continue;case 4:if(32!==i)break;a.sessionType=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eu.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eu.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eu.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eu.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",sourceEventId:i4(e.sourceEventId)?globalThis.String(e.sourceEventId):"",feedback:i4(e.feedback)?el.fromJSON(e.feedback):void 0,sessionType:i4(e.sessionType)?L(e.sessionType):0}},toJSON:function(e){var n={};return""!==e.sessionId&&(n.sessionId=e.sessionId),""!==e.sourceEventId&&(n.sourceEventId=e.sourceEventId),void 0!==e.feedback&&(n.feedback=el.toJSON(e.feedback)),0!==e.sessionType&&(n.sessionType=M(e.sessionType)),n}};c.set(eu.$type,eu);var ec={$type:"replit.ai.chat.SubmitAgentUserFeedbackResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ec.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ec.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ec.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ec.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(ec.$type,ec);var ed={$type:"replit.ai.chat.ReplAgentState",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.activeAgentSessionId&&n.uint32(10).string(e.activeAgentSessionId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={activeAgentSessionId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.activeAgentSessionId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ed.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ed.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ed.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ed.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{activeAgentSessionId:i4(e.activeAgentSessionId)?globalThis.String(e.activeAgentSessionId):""}},toJSON:function(e){var n={};return""!==e.activeAgentSessionId&&(n.activeAgentSessionId=e.activeAgentSessionId),n}};c.set(ed.$type,ed);var ef={$type:"replit.ai.chat.Session",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.id&&n.uint32(10).string(e.id),""!==e.title&&n.uint32(18).string(e.title),0!==e.sessionType&&n.uint32(24).int32(e.sessionType),""!==e.replId&&n.uint32(34).string(e.replId);var t=!0,r=!1,a=void 0;try{for(var i,o=e.events[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;eo.encode(s,n.uint32(42).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return""!==e.sessionCreationEventId&&n.uint32(50).string(e.sessionCreationEventId),!1!==e.archived&&n.uint32(80).bool(e.archived),void 0!==e.lastEventTime&&d.encode(i0(e.lastEventTime),n.uint32(58).fork()).join(),void 0!==e.created&&d.encode(i0(e.created),n.uint32(66).fork()).join(),void 0!==e.updated&&d.encode(i0(e.updated),n.uint32(74).fork()).join(),""!==e.activeEventId&&n.uint32(90).string(e.activeEventId),!1!==e.readOnly&&n.uint32(96).bool(e.readOnly),""!==e.taskId&&n.uint32(106).string(e.taskId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={id:"",title:"",sessionType:0,replId:"",events:[],sessionCreationEventId:"",archived:!1,lastEventTime:void 0,created:void 0,updated:void 0,activeEventId:"",readOnly:!1,taskId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.id=t.string();continue;case 2:if(18!==i)break;a.title=t.string();continue;case 3:if(24!==i)break;a.sessionType=t.int32();continue;case 4:if(34!==i)break;a.replId=t.string();continue;case 5:if(42!==i)break;a.events.push(eo.decode(t,t.uint32()));continue;case 6:if(50!==i)break;a.sessionCreationEventId=t.string();continue;case 10:if(80!==i)break;a.archived=t.bool();continue;case 7:if(58!==i)break;a.lastEventTime=i1(d.decode(t,t.uint32()));continue;case 8:if(66!==i)break;a.created=i1(d.decode(t,t.uint32()));continue;case 9:if(74!==i)break;a.updated=i1(d.decode(t,t.uint32()));continue;case 11:if(90!==i)break;a.activeEventId=t.string();continue;case 12:if(96!==i)break;a.readOnly=t.bool();continue;case 13:if(106!==i)break;a.taskId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ef.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ef.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ef.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ef.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{id:i4(e.id)?globalThis.String(e.id):"",title:i4(e.title)?globalThis.String(e.title):"",sessionType:i4(e.sessionType)?L(e.sessionType):0,replId:i4(e.replId)?globalThis.String(e.replId):"",events:globalThis.Array.isArray(null==e?void 0:e.events)?e.events.map(function(e){return eo.fromJSON(e)}):[],sessionCreationEventId:i4(e.sessionCreationEventId)?globalThis.String(e.sessionCreationEventId):"",archived:!!i4(e.archived)&&globalThis.Boolean(e.archived),lastEventTime:i4(e.lastEventTime)?i2(e.lastEventTime):void 0,created:i4(e.created)?i2(e.created):void 0,updated:i4(e.updated)?i2(e.updated):void 0,activeEventId:i4(e.activeEventId)?globalThis.String(e.activeEventId):"",readOnly:!!i4(e.readOnly)&&globalThis.Boolean(e.readOnly),taskId:i4(e.taskId)?globalThis.String(e.taskId):""}},toJSON:function(e){var n,t={};return""!==e.id&&(t.id=e.id),""!==e.title&&(t.title=e.title),0!==e.sessionType&&(t.sessionType=M(e.sessionType)),""!==e.replId&&(t.replId=e.replId),(null==(n=e.events)?void 0:n.length)&&(t.events=e.events.map(function(e){return eo.toJSON(e)})),""!==e.sessionCreationEventId&&(t.sessionCreationEventId=e.sessionCreationEventId),!1!==e.archived&&(t.archived=e.archived),void 0!==e.lastEventTime&&(t.lastEventTime=e.lastEventTime.toISOString()),void 0!==e.created&&(t.created=e.created.toISOString()),void 0!==e.updated&&(t.updated=e.updated.toISOString()),""!==e.activeEventId&&(t.activeEventId=e.activeEventId),!1!==e.readOnly&&(t.readOnly=e.readOnly),""!==e.taskId&&(t.taskId=e.taskId),t}};c.set(ef.$type,ef);var ep={$type:"replit.ai.chat.Secret",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.description&&n.uint32(10).string(e.description),""!==e.key&&n.uint32(18).string(e.key),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={description:"",key:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.description=t.string();continue;case 2:if(18!==i)break;a.key=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ep.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ep.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ep.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ep.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{description:i4(e.description)?globalThis.String(e.description):"",key:i4(e.key)?globalThis.String(e.key):""}},toJSON:function(e){var n={};return""!==e.description&&(n.description=e.description),""!==e.key&&(n.key=e.key),n}};c.set(ep.$type,ep);var eh={$type:"replit.ai.chat.SecretRequestAction",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.secrets[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;ep.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={secrets:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.secrets.push(ep.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eh.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eh.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eh.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eh.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{secrets:globalThis.Array.isArray(null==e?void 0:e.secrets)?e.secrets.map(function(e){return ep.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.secrets)?void 0:n.length)&&(t.secrets=e.secrets.map(function(e){return ep.toJSON(e)})),t}};c.set(eh.$type,eh);var em={$type:"replit.ai.chat.UserSecretResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.key&&n.uint32(10).string(e.key),0!==e.status&&n.uint32(16).int32(e.status),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={key:"",status:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.key=t.string();continue;case 2:if(16!==i)break;a.status=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([em.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([em.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([em.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([em.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{key:i4(e.key)?globalThis.String(e.key):"",status:i4(e.status)?function(e){switch(e){case 0:case"SECRET_UNKNOWN":return A.Jh.SECRET_UNKNOWN;case 1:case"SECRET_COMPLETED":return A.Jh.SECRET_COMPLETED;case 2:case"SECRET_IGNORED":return A.Jh.SECRET_IGNORED;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum UserSecretResponseStatus")}}(e.status):0}},toJSON:function(e){var n={};return""!==e.key&&(n.key=e.key),0!==e.status&&(n.status=function(e){switch(e){case A.Jh.SECRET_UNKNOWN:return"SECRET_UNKNOWN";case A.Jh.SECRET_COMPLETED:return"SECRET_COMPLETED";case A.Jh.SECRET_IGNORED:return"SECRET_IGNORED";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum UserSecretResponseStatus")}}(e.status)),n}};c.set(em.$type,em);var ev={$type:"replit.ai.chat.DeployRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ev.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ev.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ev.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ev.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(ev.$type,ev);var eg={$type:"replit.ai.chat.DeployResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return!1!==e.success&&n.uint32(8).bool(e.success),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={success:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.success=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eg.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eg.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eg.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eg.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{success:!!i4(e.success)&&globalThis.Boolean(e.success)}},toJSON:function(e){var n={};return!1!==e.success&&(n.success=e.success),n}};c.set(eg.$type,eg);var eb={$type:"replit.ai.chat.MessageButton",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.name&&n.uint32(10).string(e.name),""!==e.description&&n.uint32(18).string(e.description),""!==e.responseText&&n.uint32(26).string(e.responseText),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={name:"",description:"",responseText:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.name=t.string();continue;case 2:if(18!==i)break;a.description=t.string();continue;case 3:if(26!==i)break;a.responseText=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eb.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eb.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eb.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eb.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{name:i4(e.name)?globalThis.String(e.name):"",description:i4(e.description)?globalThis.String(e.description):"",responseText:i4(e.responseText)?globalThis.String(e.responseText):""}},toJSON:function(e){var n={};return""!==e.name&&(n.name=e.name),""!==e.description&&(n.description=e.description),""!==e.responseText&&(n.responseText=e.responseText),n}};c.set(eb.$type,eb);var ey={$type:"replit.ai.chat.DeployRequestAction",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ey.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ey.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ey.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ey.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(ey.$type,ey);var ew={$type:"replit.ai.chat.MessageButtonAction",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.buttons[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;eb.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={buttons:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.buttons.push(eb.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ew.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ew.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ew.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ew.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{buttons:globalThis.Array.isArray(null==e?void 0:e.buttons)?e.buttons.map(function(e){return eb.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.buttons)?void 0:n.length)&&(t.buttons=e.buttons.map(function(e){return eb.toJSON(e)})),t}};c.set(ew.$type,ew);var e_={$type:"replit.ai.chat.AgentUserSecretsRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.secrets[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;ep.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return""!==e.message&&n.uint32(18).string(e.message),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={secrets:[],message:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.secrets.push(ep.decode(t,t.uint32()));continue;case 2:if(18!==i)break;a.message=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e_.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e_.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e_.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e_.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{secrets:globalThis.Array.isArray(null==e?void 0:e.secrets)?e.secrets.map(function(e){return ep.fromJSON(e)}):[],message:i4(e.message)?globalThis.String(e.message):""}},toJSON:function(e){var n,t={};return(null==(n=e.secrets)?void 0:n.length)&&(t.secrets=e.secrets.map(function(e){return ep.toJSON(e)})),""!==e.message&&(t.message=e.message),t}};c.set(e_.$type,e_);var eS={$type:"replit.ai.chat.AgentUserSecretsResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.providedSecrets[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;em.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={providedSecrets:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.providedSecrets.push(em.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eS.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eS.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eS.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eS.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{providedSecrets:globalThis.Array.isArray(null==e?void 0:e.providedSecrets)?e.providedSecrets.map(function(e){return em.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.providedSecrets)?void 0:n.length)&&(t.providedSecrets=e.providedSecrets.map(function(e){return em.toJSON(e)})),t}};c.set(eS.$type,eS);var eA={$type:"replit.ai.chat.AgentDebugRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return!1!==e.enabled&&n.uint32(8).bool(e.enabled),!1!==e.isSelected&&n.uint32(16).bool(e.isSelected),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={enabled:!1,isSelected:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.enabled=t.bool();continue;case 2:if(16!==i)break;a.isSelected=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eA.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eA.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eA.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eA.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{enabled:!!i4(e.enabled)&&globalThis.Boolean(e.enabled),isSelected:!!i4(e.isSelected)&&globalThis.Boolean(e.isSelected)}},toJSON:function(e){var n={};return!1!==e.enabled&&(n.enabled=e.enabled),!1!==e.isSelected&&(n.isSelected=e.isSelected),n}};c.set(eA.$type,eA);var ek={$type:"replit.ai.chat.AgentDebugResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return!1!==e.accepted&&n.uint32(8).bool(e.accepted),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={accepted:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.accepted=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ek.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ek.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ek.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ek.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{accepted:!!i4(e.accepted)&&globalThis.Boolean(e.accepted)}},toJSON:function(e){var n={};return!1!==e.accepted&&(n.accepted=e.accepted),n}};c.set(ek.$type,ek);var eC={$type:"replit.ai.chat.AgentContinueRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return!1!==e.enabled&&n.uint32(8).bool(e.enabled),!1!==e.isSelected&&n.uint32(16).bool(e.isSelected),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={enabled:!1,isSelected:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.enabled=t.bool();continue;case 2:if(16!==i)break;a.isSelected=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eC.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eC.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eC.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eC.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{enabled:!!i4(e.enabled)&&globalThis.Boolean(e.enabled),isSelected:!!i4(e.isSelected)&&globalThis.Boolean(e.isSelected)}},toJSON:function(e){var n={};return!1!==e.enabled&&(n.enabled=e.enabled),!1!==e.isSelected&&(n.isSelected=e.isSelected),n}};c.set(eC.$type,eC);var eY={$type:"replit.ai.chat.AgentContinueResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return!1!==e.accepted&&n.uint32(8).bool(e.accepted),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={accepted:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.accepted=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eY.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eY.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eY.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eY.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{accepted:!!i4(e.accepted)&&globalThis.Boolean(e.accepted)}},toJSON:function(e){var n={};return!1!==e.accepted&&(n.accepted=e.accepted),n}};c.set(eY.$type,eY);var eE={$type:"replit.ai.chat.AgentNewFeatureRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.featureName&&n.uint32(10).string(e.featureName),0!==e.id&&n.uint32(16).int32(e.id),!1!==e.isSelected&&n.uint32(24).bool(e.isSelected),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={featureName:"",id:0,isSelected:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.featureName=t.string();continue;case 2:if(16!==i)break;a.id=t.int32();continue;case 3:if(24!==i)break;a.isSelected=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eE.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eE.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eE.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eE.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{featureName:i4(e.featureName)?globalThis.String(e.featureName):"",id:i4(e.id)?globalThis.Number(e.id):0,isSelected:!!i4(e.isSelected)&&globalThis.Boolean(e.isSelected)}},toJSON:function(e){var n={};return""!==e.featureName&&(n.featureName=e.featureName),0!==e.id&&(n.id=Math.round(e.id)),!1!==e.isSelected&&(n.isSelected=e.isSelected),n}};c.set(eE.$type,eE);var ex={$type:"replit.ai.chat.UserMessageContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.content&&n.uint32(10).string(e.content);var t=!0,r=!1,a=void 0;try{for(var i,o=e.uploadedFiles[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;ts.encode(s,n.uint32(18).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.attachedUrls[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;to.encode(h,n.uint32(26).fork()).join()}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={content:"",uploadedFiles:[],attachedUrls:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.content=t.string();continue;case 2:if(18!==i)break;a.uploadedFiles.push(ts.decode(t,t.uint32()));continue;case 3:if(26!==i)break;a.attachedUrls.push(to.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ex.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ex.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ex.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ex.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{content:i4(e.content)?globalThis.String(e.content):"",uploadedFiles:globalThis.Array.isArray(null==e?void 0:e.uploadedFiles)?e.uploadedFiles.map(function(e){return ts.fromJSON(e)}):[],attachedUrls:globalThis.Array.isArray(null==e?void 0:e.attachedUrls)?e.attachedUrls.map(function(e){return to.fromJSON(e)}):[]}},toJSON:function(e){var n,t,r={};return""!==e.content&&(r.content=e.content),(null==(n=e.uploadedFiles)?void 0:n.length)&&(r.uploadedFiles=e.uploadedFiles.map(function(e){return ts.toJSON(e)})),(null==(t=e.attachedUrls)?void 0:t.length)&&(r.attachedUrls=e.attachedUrls.map(function(e){return to.toJSON(e)})),r}};c.set(ex.$type,ex);var eT={$type:"replit.ai.chat.AgentNewFeatureResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.selectedFeatureId&&n.uint32(8).int32(e.selectedFeatureId),""!==e.featureName&&n.uint32(18).string(e.featureName),void 0!==e.userMessage&&ex.encode(e.userMessage,n.uint32(26).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={selectedFeatureId:0,featureName:"",userMessage:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.selectedFeatureId=t.int32();continue;case 2:if(18!==i)break;a.featureName=t.string();continue;case 3:if(26!==i)break;a.userMessage=ex.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eT.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eT.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eT.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eT.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{selectedFeatureId:i4(e.selectedFeatureId)?globalThis.Number(e.selectedFeatureId):0,featureName:i4(e.featureName)?globalThis.String(e.featureName):"",userMessage:i4(e.userMessage)?ex.fromJSON(e.userMessage):void 0}},toJSON:function(e){var n={};return 0!==e.selectedFeatureId&&(n.selectedFeatureId=Math.round(e.selectedFeatureId)),""!==e.featureName&&(n.featureName=e.featureName),void 0!==e.userMessage&&(n.userMessage=ex.toJSON(e.userMessage)),n}};c.set(eT.$type,eT);var eD={$type:"replit.ai.chat.AgentDeployRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eD.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eD.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eD.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eD.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(eD.$type,eD);var eI={$type:"replit.ai.chat.AgentDeployResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eI.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eI.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eI.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eI.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(eI.$type,eI);var eR={$type:"replit.ai.chat.AgentAction",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(null==(n=e.optionType)?void 0:n.$case){case"messageButtonAction":ew.encode(e.optionType.value,t.uint32(10).fork()).join();break;case"secretRequestAction":eh.encode(e.optionType.value,t.uint32(18).fork()).join();break;case"deployRequestAction":ey.encode(e.optionType.value,t.uint32(26).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={optionType:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.optionType={$case:"messageButtonAction",value:ew.decode(t,t.uint32())};continue;case 2:if(18!==i)break;a.optionType={$case:"secretRequestAction",value:eh.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.optionType={$case:"deployRequestAction",value:ey.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eR.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eR.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eR.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eR.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{optionType:i4(e.messageButtonAction)?{$case:"messageButtonAction",value:ew.fromJSON(e.messageButtonAction)}:i4(e.secretRequestAction)?{$case:"secretRequestAction",value:eh.fromJSON(e.secretRequestAction)}:i4(e.deployRequestAction)?{$case:"deployRequestAction",value:ey.fromJSON(e.deployRequestAction)}:void 0}},toJSON:function(e){var n,t,r,a={};return(null==(n=e.optionType)?void 0:n.$case)==="messageButtonAction"?a.messageButtonAction=ew.toJSON(e.optionType.value):(null==(t=e.optionType)?void 0:t.$case)==="secretRequestAction"?a.secretRequestAction=eh.toJSON(e.optionType.value):(null==(r=e.optionType)?void 0:r.$case)==="deployRequestAction"&&(a.deployRequestAction=ey.toJSON(e.optionType.value)),a}};c.set(eR.$type,eR);var eN={$type:"replit.ai.chat.AgentNextStepRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.newFeatureRequests[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;eE.encode(s,n.uint32(26).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return void 0!==e.debugRequest&&eA.encode(e.debugRequest,n.uint32(10).fork()).join(),void 0!==e.keepWorkingRequest&&eC.encode(e.keepWorkingRequest,n.uint32(18).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={newFeatureRequests:[],debugRequest:void 0,keepWorkingRequest:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 3:if(26!==i)break;a.newFeatureRequests.push(eE.decode(t,t.uint32()));continue;case 1:if(10!==i)break;a.debugRequest=eA.decode(t,t.uint32());continue;case 2:if(18!==i)break;a.keepWorkingRequest=eC.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eN.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eN.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eN.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eN.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{newFeatureRequests:globalThis.Array.isArray(null==e?void 0:e.newFeatureRequests)?e.newFeatureRequests.map(function(e){return eE.fromJSON(e)}):[],debugRequest:i4(e.debugRequest)?eA.fromJSON(e.debugRequest):void 0,keepWorkingRequest:i4(e.keepWorkingRequest)?eC.fromJSON(e.keepWorkingRequest):void 0}},toJSON:function(e){var n,t={};return(null==(n=e.newFeatureRequests)?void 0:n.length)&&(t.newFeatureRequests=e.newFeatureRequests.map(function(e){return eE.toJSON(e)})),void 0!==e.debugRequest&&(t.debugRequest=eA.toJSON(e.debugRequest)),void 0!==e.keepWorkingRequest&&(t.keepWorkingRequest=eC.toJSON(e.keepWorkingRequest)),t}};c.set(eN.$type,eN);var eO={$type:"replit.ai.chat.AgentNextStepResponse",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(null==(n=e.response)?void 0:n.$case){case"newFeatureResponse":eT.encode(e.response.value,t.uint32(26).fork()).join();break;case"debugResponse":ek.encode(e.response.value,t.uint32(10).fork()).join();break;case"keepWorkingResponse":eY.encode(e.response.value,t.uint32(18).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={response:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 3:if(26!==i)break;a.response={$case:"newFeatureResponse",value:eT.decode(t,t.uint32())};continue;case 1:if(10!==i)break;a.response={$case:"debugResponse",value:ek.decode(t,t.uint32())};continue;case 2:if(18!==i)break;a.response={$case:"keepWorkingResponse",value:eY.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eO.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eO.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eO.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eO.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{response:i4(e.newFeatureResponse)?{$case:"newFeatureResponse",value:eT.fromJSON(e.newFeatureResponse)}:i4(e.debugResponse)?{$case:"debugResponse",value:ek.fromJSON(e.debugResponse)}:i4(e.keepWorkingResponse)?{$case:"keepWorkingResponse",value:eY.fromJSON(e.keepWorkingResponse)}:void 0}},toJSON:function(e){var n,t,r,a={};return(null==(n=e.response)?void 0:n.$case)==="newFeatureResponse"?a.newFeatureResponse=eT.toJSON(e.response.value):(null==(t=e.response)?void 0:t.$case)==="debugResponse"?a.debugResponse=ek.toJSON(e.response.value):(null==(r=e.response)?void 0:r.$case)==="keepWorkingResponse"&&(a.keepWorkingResponse=eY.toJSON(e.response.value)),a}};c.set(eO.$type,eO);var eP={$type:"replit.ai.chat.AgentQueryBoolean",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.question&&n.uint32(10).string(e.question),""!==e.confirmText&&n.uint32(18).string(e.confirmText),""!==e.rejectText&&n.uint32(26).string(e.rejectText),!1!==e.allowAutoConfirm&&n.uint32(32).bool(e.allowAutoConfirm),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={question:"",confirmText:"",rejectText:"",allowAutoConfirm:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.question=t.string();continue;case 2:if(18!==i)break;a.confirmText=t.string();continue;case 3:if(26!==i)break;a.rejectText=t.string();continue;case 4:if(32!==i)break;a.allowAutoConfirm=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eP.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eP.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eP.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eP.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{question:i4(e.question)?globalThis.String(e.question):"",confirmText:i4(e.confirmText)?globalThis.String(e.confirmText):"",rejectText:i4(e.rejectText)?globalThis.String(e.rejectText):"",allowAutoConfirm:!!i4(e.allowAutoConfirm)&&globalThis.Boolean(e.allowAutoConfirm)}},toJSON:function(e){var n={};return""!==e.question&&(n.question=e.question),""!==e.confirmText&&(n.confirmText=e.confirmText),""!==e.rejectText&&(n.rejectText=e.rejectText),!1!==e.allowAutoConfirm&&(n.allowAutoConfirm=e.allowAutoConfirm),n}};c.set(eP.$type,eP);var eF={$type:"replit.ai.chat.AgentQueryChoice",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.question&&n.uint32(10).string(e.question);var t=!0,r=!1,a=void 0;try{for(var i,o=e.options[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(18).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={question:"",options:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.question=t.string();continue;case 2:if(18!==i)break;a.options.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eF.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eF.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eF.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eF.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{question:i4(e.question)?globalThis.String(e.question):"",options:globalThis.Array.isArray(null==e?void 0:e.options)?e.options.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t={};return""!==e.question&&(t.question=e.question),(null==(n=e.options)?void 0:n.length)&&(t.options=e.options),t}};c.set(eF.$type,eF);var eU={$type:"replit.ai.chat.AgentQueryText",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.question&&n.uint32(10).string(e.question),""!==e.responsePlaceholderText&&n.uint32(18).string(e.responsePlaceholderText),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={question:"",responsePlaceholderText:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.question=t.string();continue;case 2:if(18!==i)break;a.responsePlaceholderText=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eU.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eU.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eU.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eU.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{question:i4(e.question)?globalThis.String(e.question):"",responsePlaceholderText:i4(e.responsePlaceholderText)?globalThis.String(e.responsePlaceholderText):""}},toJSON:function(e){var n={};return""!==e.question&&(n.question=e.question),""!==e.responsePlaceholderText&&(n.responsePlaceholderText=e.responsePlaceholderText),n}};c.set(eU.$type,eU);var eL={$type:"replit.ai.chat.AgentQuery",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(null==(n=e.queryType)?void 0:n.$case){case"booleanQuery":eP.encode(e.queryType.value,t.uint32(10).fork()).join();break;case"choiceQuery":eF.encode(e.queryType.value,t.uint32(18).fork()).join();break;case"textQuery":eU.encode(e.queryType.value,t.uint32(26).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={queryType:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.queryType={$case:"booleanQuery",value:eP.decode(t,t.uint32())};continue;case 2:if(18!==i)break;a.queryType={$case:"choiceQuery",value:eF.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.queryType={$case:"textQuery",value:eU.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eL.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eL.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eL.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eL.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{queryType:i4(e.booleanQuery)?{$case:"booleanQuery",value:eP.fromJSON(e.booleanQuery)}:i4(e.choiceQuery)?{$case:"choiceQuery",value:eF.fromJSON(e.choiceQuery)}:i4(e.textQuery)?{$case:"textQuery",value:eU.fromJSON(e.textQuery)}:void 0}},toJSON:function(e){var n,t,r,a={};return(null==(n=e.queryType)?void 0:n.$case)==="booleanQuery"?a.booleanQuery=eP.toJSON(e.queryType.value):(null==(t=e.queryType)?void 0:t.$case)==="choiceQuery"?a.choiceQuery=eF.toJSON(e.queryType.value):(null==(r=e.queryType)?void 0:r.$case)==="textQuery"&&(a.textQuery=eU.toJSON(e.queryType.value)),a}};c.set(eL.$type,eL);var eM={$type:"replit.ai.chat.AgentQueryBooleanResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return!1!==e.response&&n.uint32(8).bool(e.response),""!==e.reason&&n.uint32(18).string(e.reason),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={response:!1,reason:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.response=t.bool();continue;case 2:if(18!==i)break;a.reason=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eM.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eM.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eM.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eM.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{response:!!i4(e.response)&&globalThis.Boolean(e.response),reason:i4(e.reason)?globalThis.String(e.reason):""}},toJSON:function(e){var n={};return!1!==e.response&&(n.response=e.response),""!==e.reason&&(n.reason=e.reason),n}};c.set(eM.$type,eM);var eJ={$type:"replit.ai.chat.AgentQueryChoiceResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.response&&n.uint32(10).string(e.response),""!==e.reason&&n.uint32(18).string(e.reason),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={response:"",reason:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.response=t.string();continue;case 2:if(18!==i)break;a.reason=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eJ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eJ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eJ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eJ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{response:i4(e.response)?globalThis.String(e.response):"",reason:i4(e.reason)?globalThis.String(e.reason):""}},toJSON:function(e){var n={};return""!==e.response&&(n.response=e.response),""!==e.reason&&(n.reason=e.reason),n}};c.set(eJ.$type,eJ);var eH={$type:"replit.ai.chat.AgentQueryTextResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.response&&n.uint32(10).string(e.response),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={response:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.response=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eH.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eH.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eH.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eH.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{response:i4(e.response)?globalThis.String(e.response):""}},toJSON:function(e){var n={};return""!==e.response&&(n.response=e.response),n}};c.set(eH.$type,eH);var eB={$type:"replit.ai.chat.AgentQueryNoResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eB.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eB.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eB.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eB.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(eB.$type,eB);var eV={$type:"replit.ai.chat.AgentQueryResponse",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(null==(n=e.responseType)?void 0:n.$case){case"booleanResponse":eM.encode(e.responseType.value,t.uint32(10).fork()).join();break;case"choiceResponse":eJ.encode(e.responseType.value,t.uint32(18).fork()).join();break;case"textResponse":eH.encode(e.responseType.value,t.uint32(26).fork()).join();break;case"noResponse":eB.encode(e.responseType.value,t.uint32(34).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={responseType:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.responseType={$case:"booleanResponse",value:eM.decode(t,t.uint32())};continue;case 2:if(18!==i)break;a.responseType={$case:"choiceResponse",value:eJ.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.responseType={$case:"textResponse",value:eH.decode(t,t.uint32())};continue;case 4:if(34!==i)break;a.responseType={$case:"noResponse",value:eB.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eV.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eV.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eV.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eV.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{responseType:i4(e.booleanResponse)?{$case:"booleanResponse",value:eM.fromJSON(e.booleanResponse)}:i4(e.choiceResponse)?{$case:"choiceResponse",value:eJ.fromJSON(e.choiceResponse)}:i4(e.textResponse)?{$case:"textResponse",value:eH.fromJSON(e.textResponse)}:i4(e.noResponse)?{$case:"noResponse",value:eB.fromJSON(e.noResponse)}:void 0}},toJSON:function(e){var n,t,r,a,i={};return(null==(n=e.responseType)?void 0:n.$case)==="booleanResponse"?i.booleanResponse=eM.toJSON(e.responseType.value):(null==(t=e.responseType)?void 0:t.$case)==="choiceResponse"?i.choiceResponse=eJ.toJSON(e.responseType.value):(null==(r=e.responseType)?void 0:r.$case)==="textResponse"?i.textResponse=eH.toJSON(e.responseType.value):(null==(a=e.responseType)?void 0:a.$case)==="noResponse"&&(i.noResponse=eB.toJSON(e.responseType.value)),i}};c.set(eV.$type,eV);var e$={$type:"replit.ai.chat.QueryResponseContent",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.responses[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;eV.encode(s,n.uint32(18).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={responses:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 2:if(18!==i)break;a.responses.push(eV.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e$.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e$.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e$.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e$.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{responses:globalThis.Array.isArray(null==e?void 0:e.responses)?e.responses.map(function(e){return eV.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.responses)?void 0:n.length)&&(t.responses=e.responses.map(function(e){return eV.toJSON(e)})),t}};c.set(e$.$type,e$);var eG={$type:"replit.ai.chat.QueryRequestContent",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.contextSummary&&n.uint32(10).string(e.contextSummary);var t=!0,r=!1,a=void 0;try{for(var i,o=e.queries[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;eL.encode(s,n.uint32(18).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={contextSummary:"",queries:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.contextSummary=t.string();continue;case 2:if(18!==i)break;a.queries.push(eL.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eG.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eG.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eG.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eG.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{contextSummary:i4(e.contextSummary)?globalThis.String(e.contextSummary):"",queries:globalThis.Array.isArray(null==e?void 0:e.queries)?e.queries.map(function(e){return eL.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return""!==e.contextSummary&&(t.contextSummary=e.contextSummary),(null==(n=e.queries)?void 0:n.length)&&(t.queries=e.queries.map(function(e){return eL.toJSON(e)})),t}};c.set(eG.$type,eG);var ez={$type:"replit.ai.chat.MarkTaskCompleteRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.taskId&&n.uint32(10).string(e.taskId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={taskId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.taskId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ez.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ez.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ez.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ez.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{taskId:i4(e.taskId)?globalThis.String(e.taskId):""}},toJSON:function(e){var n={};return""!==e.taskId&&(n.taskId=e.taskId),n}};c.set(ez.$type,ez);var eW={$type:"replit.ai.chat.UserMarkedTaskComplete",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.taskId&&n.uint32(10).string(e.taskId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={taskId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.taskId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eW.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eW.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eW.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eW.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{taskId:i4(e.taskId)?globalThis.String(e.taskId):""}},toJSON:function(e){var n={};return""!==e.taskId&&(n.taskId=e.taskId),n}};c.set(eW.$type,eW);var ej={$type:"replit.ai.chat.ApproveTaskListRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.taskListEventId&&n.uint32(10).string(e.taskListEventId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={taskListEventId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.taskListEventId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ej.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ej.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ej.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ej.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{taskListEventId:i4(e.taskListEventId)?globalThis.String(e.taskListEventId):""}},toJSON:function(e){var n={};return""!==e.taskListEventId&&(n.taskListEventId=e.taskListEventId),n}};c.set(ej.$type,ej);var eq={$type:"replit.ai.chat.ApproveTaskListResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.taskListEventId&&n.uint32(10).string(e.taskListEventId),!1!==e.approved&&n.uint32(16).bool(e.approved);var t=!0,r=!1,a=void 0;try{for(var i,o=e.tasks[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;ne.encode(s,n.uint32(26).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={taskListEventId:"",approved:!1,tasks:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.taskListEventId=t.string();continue;case 2:if(16!==i)break;a.approved=t.bool();continue;case 3:if(26!==i)break;a.tasks.push(ne.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eq.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eq.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eq.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eq.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{taskListEventId:i4(e.taskListEventId)?globalThis.String(e.taskListEventId):"",approved:!!i4(e.approved)&&globalThis.Boolean(e.approved),tasks:globalThis.Array.isArray(null==e?void 0:e.tasks)?e.tasks.map(function(e){return ne.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return""!==e.taskListEventId&&(t.taskListEventId=e.taskListEventId),!1!==e.approved&&(t.approved=e.approved),(null==(n=e.tasks)?void 0:n.length)&&(t.tasks=e.tasks.map(function(e){return ne.toJSON(e)})),t}};c.set(eq.$type,eq);var eZ={$type:"replit.ai.chat.ApproveInitialBuildMVPRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.taskListEventId&&n.uint32(10).string(e.taskListEventId),void 0!==e.userSecretsRequest&&e_.encode(e.userSecretsRequest,n.uint32(18).fork()).join(),void 0!==e.addingIntegrationRequest&&iR.encode(e.addingIntegrationRequest,n.uint32(26).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={taskListEventId:"",userSecretsRequest:void 0,addingIntegrationRequest:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.taskListEventId=t.string();continue;case 2:if(18!==i)break;a.userSecretsRequest=e_.decode(t,t.uint32());continue;case 3:if(26!==i)break;a.addingIntegrationRequest=iR.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eZ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eZ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eZ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eZ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{taskListEventId:i4(e.taskListEventId)?globalThis.String(e.taskListEventId):"",userSecretsRequest:i4(e.userSecretsRequest)?e_.fromJSON(e.userSecretsRequest):void 0,addingIntegrationRequest:i4(e.addingIntegrationRequest)?iR.fromJSON(e.addingIntegrationRequest):void 0}},toJSON:function(e){var n={};return""!==e.taskListEventId&&(n.taskListEventId=e.taskListEventId),void 0!==e.userSecretsRequest&&(n.userSecretsRequest=e_.toJSON(e.userSecretsRequest)),void 0!==e.addingIntegrationRequest&&(n.addingIntegrationRequest=iR.toJSON(e.addingIntegrationRequest)),n}};c.set(eZ.$type,eZ);var eK={$type:"replit.ai.chat.ApproveInitialBuildMVPResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return!1!==e.approved&&n.uint32(8).bool(e.approved),void 0!==e.userSecretsResponse&&eS.encode(e.userSecretsResponse,n.uint32(18).fork()).join(),void 0!==e.addingIntegrationsResponse&&iN.encode(e.addingIntegrationsResponse,n.uint32(26).fork()).join(),void 0!==e.agentConfig&&tR.encode(e.agentConfig,n.uint32(34).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={approved:!1,userSecretsResponse:void 0,addingIntegrationsResponse:void 0,agentConfig:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.approved=t.bool();continue;case 2:if(18!==i)break;a.userSecretsResponse=eS.decode(t,t.uint32());continue;case 3:if(26!==i)break;a.addingIntegrationsResponse=iN.decode(t,t.uint32());continue;case 4:if(34!==i)break;a.agentConfig=tR.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eK.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eK.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eK.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eK.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{approved:!!i4(e.approved)&&globalThis.Boolean(e.approved),userSecretsResponse:i4(e.userSecretsResponse)?eS.fromJSON(e.userSecretsResponse):void 0,addingIntegrationsResponse:i4(e.addingIntegrationsResponse)?iN.fromJSON(e.addingIntegrationsResponse):void 0,agentConfig:i4(e.agentConfig)?tR.fromJSON(e.agentConfig):void 0}},toJSON:function(e){var n={};return!1!==e.approved&&(n.approved=e.approved),void 0!==e.userSecretsResponse&&(n.userSecretsResponse=eS.toJSON(e.userSecretsResponse)),void 0!==e.addingIntegrationsResponse&&(n.addingIntegrationsResponse=iN.toJSON(e.addingIntegrationsResponse)),void 0!==e.agentConfig&&(n.agentConfig=tR.toJSON(e.agentConfig)),n}};c.set(eK.$type,eK);var eQ={$type:"replit.ai.chat.ApproveInitialBuildVisualPhaseRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.userSecretsRequest&&e_.encode(e.userSecretsRequest,n.uint32(18).fork()).join(),void 0!==e.addingIntegrationRequest&&iR.encode(e.addingIntegrationRequest,n.uint32(26).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={userSecretsRequest:void 0,addingIntegrationRequest:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 2:if(18!==i)break;a.userSecretsRequest=e_.decode(t,t.uint32());continue;case 3:if(26!==i)break;a.addingIntegrationRequest=iR.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eQ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eQ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eQ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eQ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{userSecretsRequest:i4(e.userSecretsRequest)?e_.fromJSON(e.userSecretsRequest):void 0,addingIntegrationRequest:i4(e.addingIntegrationRequest)?iR.fromJSON(e.addingIntegrationRequest):void 0}},toJSON:function(e){var n={};return void 0!==e.userSecretsRequest&&(n.userSecretsRequest=e_.toJSON(e.userSecretsRequest)),void 0!==e.addingIntegrationRequest&&(n.addingIntegrationRequest=iR.toJSON(e.addingIntegrationRequest)),n}};c.set(eQ.$type,eQ);var eX={$type:"replit.ai.chat.ApproveInitialBuildVisualPhaseResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return!1!==e.approved&&n.uint32(8).bool(e.approved),void 0!==e.userSecretsResponse&&eS.encode(e.userSecretsResponse,n.uint32(18).fork()).join(),void 0!==e.addingIntegrationsResponse&&iN.encode(e.addingIntegrationsResponse,n.uint32(26).fork()).join(),void 0!==e.agentConfig&&tR.encode(e.agentConfig,n.uint32(34).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={approved:!1,userSecretsResponse:void 0,addingIntegrationsResponse:void 0,agentConfig:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.approved=t.bool();continue;case 2:if(18!==i)break;a.userSecretsResponse=eS.decode(t,t.uint32());continue;case 3:if(26!==i)break;a.addingIntegrationsResponse=iN.decode(t,t.uint32());continue;case 4:if(34!==i)break;a.agentConfig=tR.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eX.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eX.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([eX.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([eX.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{approved:!!i4(e.approved)&&globalThis.Boolean(e.approved),userSecretsResponse:i4(e.userSecretsResponse)?eS.fromJSON(e.userSecretsResponse):void 0,addingIntegrationsResponse:i4(e.addingIntegrationsResponse)?iN.fromJSON(e.addingIntegrationsResponse):void 0,agentConfig:i4(e.agentConfig)?tR.fromJSON(e.agentConfig):void 0}},toJSON:function(e){var n={};return!1!==e.approved&&(n.approved=e.approved),void 0!==e.userSecretsResponse&&(n.userSecretsResponse=eS.toJSON(e.userSecretsResponse)),void 0!==e.addingIntegrationsResponse&&(n.addingIntegrationsResponse=iN.toJSON(e.addingIntegrationsResponse)),void 0!==e.agentConfig&&(n.agentConfig=tR.toJSON(e.agentConfig)),n}};c.set(eX.$type,eX);var e0={$type:"replit.ai.chat.ApproveSqlQueryRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.sqlQuery&&n.uint32(10).string(e.sqlQuery),""!==e.executionReason&&n.uint32(18).string(e.executionReason),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={sqlQuery:"",executionReason:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.sqlQuery=t.string();continue;case 2:if(18!==i)break;a.executionReason=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e0.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e0.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e0.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e0.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{sqlQuery:i4(e.sqlQuery)?globalThis.String(e.sqlQuery):"",executionReason:i4(e.executionReason)?globalThis.String(e.executionReason):""}},toJSON:function(e){var n={};return""!==e.sqlQuery&&(n.sqlQuery=e.sqlQuery),""!==e.executionReason&&(n.executionReason=e.executionReason),n}};c.set(e0.$type,e0);var e1={$type:"replit.ai.chat.ApproveSqlQueryResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.sqlQueryEventId&&n.uint32(10).string(e.sqlQueryEventId),!1!==e.approved&&n.uint32(16).bool(e.approved),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={sqlQueryEventId:"",approved:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.sqlQueryEventId=t.string();continue;case 2:if(16!==i)break;a.approved=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e1.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e1.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e1.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e1.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{sqlQueryEventId:i4(e.sqlQueryEventId)?globalThis.String(e.sqlQueryEventId):"",approved:!!i4(e.approved)&&globalThis.Boolean(e.approved)}},toJSON:function(e){var n={};return""!==e.sqlQueryEventId&&(n.sqlQueryEventId=e.sqlQueryEventId),!1!==e.approved&&(n.approved=e.approved),n}};c.set(e1.$type,e1);var e2={$type:"replit.ai.chat.ApproveBlueprintRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.blueprintName&&n.uint32(10).string(e.blueprintName),""!==e.blueprintDisplayName&&n.uint32(18).string(e.blueprintDisplayName),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={blueprintName:"",blueprintDisplayName:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.blueprintName=t.string();continue;case 2:if(18!==i)break;a.blueprintDisplayName=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e2.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e2.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e2.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e2.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{blueprintName:i4(e.blueprintName)?globalThis.String(e.blueprintName):"",blueprintDisplayName:i4(e.blueprintDisplayName)?globalThis.String(e.blueprintDisplayName):""}},toJSON:function(e){var n={};return""!==e.blueprintName&&(n.blueprintName=e.blueprintName),""!==e.blueprintDisplayName&&(n.blueprintDisplayName=e.blueprintDisplayName),n}};c.set(e2.$type,e2);var e3={$type:"replit.ai.chat.ApproveBlueprintResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.blueprintEventId&&n.uint32(10).string(e.blueprintEventId),!1!==e.approved&&n.uint32(16).bool(e.approved),""!==e.blueprintName&&n.uint32(26).string(e.blueprintName),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={blueprintEventId:"",approved:!1,blueprintName:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.blueprintEventId=t.string();continue;case 2:if(16!==i)break;a.approved=t.bool();continue;case 3:if(26!==i)break;a.blueprintName=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e3.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e3.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e3.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e3.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{blueprintEventId:i4(e.blueprintEventId)?globalThis.String(e.blueprintEventId):"",approved:!!i4(e.approved)&&globalThis.Boolean(e.approved),blueprintName:i4(e.blueprintName)?globalThis.String(e.blueprintName):""}},toJSON:function(e){var n={};return""!==e.blueprintEventId&&(n.blueprintEventId=e.blueprintEventId),!1!==e.approved&&(n.approved=e.approved),""!==e.blueprintName&&(n.blueprintName=e.blueprintName),n}};c.set(e3.$type,e3);var e4={$type:"replit.ai.chat.AgentAskUserForActionRequest",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(null==(n=e.request)?void 0:n.$case){case"nextStepRequest":eN.encode(e.request.value,t.uint32(10).fork()).join();break;case"userSecretsRequest":e_.encode(e.request.value,t.uint32(18).fork()).join();break;case"deployRequest":eD.encode(e.request.value,t.uint32(26).fork()).join();break;case"queryRequest":eG.encode(e.request.value,t.uint32(42).fork()).join();break;case"markTaskCompleteRequest":ez.encode(e.request.value,t.uint32(50).fork()).join();break;case"approveTaskListRequest":ej.encode(e.request.value,t.uint32(58).fork()).join();break;case"approveSqlQueryRequest":e0.encode(e.request.value,t.uint32(66).fork()).join();break;case"addingIntegrationRequest":iR.encode(e.request.value,t.uint32(74).fork()).join();break;case"approveInitialBuildMvpRequest":eZ.encode(e.request.value,t.uint32(82).fork()).join();break;case"approveInitialBuildVisualPhaseRequest":eQ.encode(e.request.value,t.uint32(90).fork()).join();break;case"approveBlueprintRequest":e2.encode(e.request.value,t.uint32(98).fork()).join()}return""!==e.message&&t.uint32(34).string(e.message),t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={request:void 0,message:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.request={$case:"nextStepRequest",value:eN.decode(t,t.uint32())};continue;case 2:if(18!==i)break;a.request={$case:"userSecretsRequest",value:e_.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.request={$case:"deployRequest",value:eD.decode(t,t.uint32())};continue;case 5:if(42!==i)break;a.request={$case:"queryRequest",value:eG.decode(t,t.uint32())};continue;case 6:if(50!==i)break;a.request={$case:"markTaskCompleteRequest",value:ez.decode(t,t.uint32())};continue;case 7:if(58!==i)break;a.request={$case:"approveTaskListRequest",value:ej.decode(t,t.uint32())};continue;case 8:if(66!==i)break;a.request={$case:"approveSqlQueryRequest",value:e0.decode(t,t.uint32())};continue;case 9:if(74!==i)break;a.request={$case:"addingIntegrationRequest",value:iR.decode(t,t.uint32())};continue;case 10:if(82!==i)break;a.request={$case:"approveInitialBuildMvpRequest",value:eZ.decode(t,t.uint32())};continue;case 11:if(90!==i)break;a.request={$case:"approveInitialBuildVisualPhaseRequest",value:eQ.decode(t,t.uint32())};continue;case 12:if(98!==i)break;a.request={$case:"approveBlueprintRequest",value:e2.decode(t,t.uint32())};continue;case 4:if(34!==i)break;a.message=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e4.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e4.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e4.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e4.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{request:i4(e.nextStepRequest)?{$case:"nextStepRequest",value:eN.fromJSON(e.nextStepRequest)}:i4(e.userSecretsRequest)?{$case:"userSecretsRequest",value:e_.fromJSON(e.userSecretsRequest)}:i4(e.deployRequest)?{$case:"deployRequest",value:eD.fromJSON(e.deployRequest)}:i4(e.queryRequest)?{$case:"queryRequest",value:eG.fromJSON(e.queryRequest)}:i4(e.markTaskCompleteRequest)?{$case:"markTaskCompleteRequest",value:ez.fromJSON(e.markTaskCompleteRequest)}:i4(e.approveTaskListRequest)?{$case:"approveTaskListRequest",value:ej.fromJSON(e.approveTaskListRequest)}:i4(e.approveSqlQueryRequest)?{$case:"approveSqlQueryRequest",value:e0.fromJSON(e.approveSqlQueryRequest)}:i4(e.addingIntegrationRequest)?{$case:"addingIntegrationRequest",value:iR.fromJSON(e.addingIntegrationRequest)}:i4(e.approveInitialBuildMvpRequest)?{$case:"approveInitialBuildMvpRequest",value:eZ.fromJSON(e.approveInitialBuildMvpRequest)}:i4(e.approveInitialBuildVisualPhaseRequest)?{$case:"approveInitialBuildVisualPhaseRequest",value:eQ.fromJSON(e.approveInitialBuildVisualPhaseRequest)}:i4(e.approveBlueprintRequest)?{$case:"approveBlueprintRequest",value:e2.fromJSON(e.approveBlueprintRequest)}:void 0,message:i4(e.message)?globalThis.String(e.message):""}},toJSON:function(e){var n,t,r,a,i,o,s,l,u,c,d,f={};return(null==(n=e.request)?void 0:n.$case)==="nextStepRequest"?f.nextStepRequest=eN.toJSON(e.request.value):(null==(t=e.request)?void 0:t.$case)==="userSecretsRequest"?f.userSecretsRequest=e_.toJSON(e.request.value):(null==(r=e.request)?void 0:r.$case)==="deployRequest"?f.deployRequest=eD.toJSON(e.request.value):(null==(a=e.request)?void 0:a.$case)==="queryRequest"?f.queryRequest=eG.toJSON(e.request.value):(null==(i=e.request)?void 0:i.$case)==="markTaskCompleteRequest"?f.markTaskCompleteRequest=ez.toJSON(e.request.value):(null==(o=e.request)?void 0:o.$case)==="approveTaskListRequest"?f.approveTaskListRequest=ej.toJSON(e.request.value):(null==(s=e.request)?void 0:s.$case)==="approveSqlQueryRequest"?f.approveSqlQueryRequest=e0.toJSON(e.request.value):(null==(l=e.request)?void 0:l.$case)==="addingIntegrationRequest"?f.addingIntegrationRequest=iR.toJSON(e.request.value):(null==(u=e.request)?void 0:u.$case)==="approveInitialBuildMvpRequest"?f.approveInitialBuildMvpRequest=eZ.toJSON(e.request.value):(null==(c=e.request)?void 0:c.$case)==="approveInitialBuildVisualPhaseRequest"?f.approveInitialBuildVisualPhaseRequest=eQ.toJSON(e.request.value):(null==(d=e.request)?void 0:d.$case)==="approveBlueprintRequest"&&(f.approveBlueprintRequest=e2.toJSON(e.request.value)),""!==e.message&&(f.message=e.message),f}};c.set(e4.$type,e4);var e5={$type:"replit.ai.chat.AgentAskUserForActionResponse",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(null==(n=e.response)?void 0:n.$case){case"nextStepResponse":eO.encode(e.response.value,t.uint32(10).fork()).join();break;case"userSecretsResponse":eS.encode(e.response.value,t.uint32(18).fork()).join();break;case"deployResponse":eI.encode(e.response.value,t.uint32(26).fork()).join();break;case"queryResponse":e$.encode(e.response.value,t.uint32(42).fork()).join();break;case"userMarkedTaskComplete":eW.encode(e.response.value,t.uint32(50).fork()).join();break;case"approveTaskListResponse":eq.encode(e.response.value,t.uint32(58).fork()).join();break;case"approveSqlQueryResponse":e1.encode(e.response.value,t.uint32(66).fork()).join();break;case"addingIntegrationsResponse":iN.encode(e.response.value,t.uint32(74).fork()).join();break;case"approveInitialBuildMvpResponse":eK.encode(e.response.value,t.uint32(82).fork()).join();break;case"approveInitialBuildVisualPhaseResponse":eX.encode(e.response.value,t.uint32(90).fork()).join();break;case"approveBlueprintResponse":e3.encode(e.response.value,t.uint32(98).fork()).join()}return""!==e.requestEventId&&t.uint32(34).string(e.requestEventId),t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={response:void 0,requestEventId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.response={$case:"nextStepResponse",value:eO.decode(t,t.uint32())};continue;case 2:if(18!==i)break;a.response={$case:"userSecretsResponse",value:eS.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.response={$case:"deployResponse",value:eI.decode(t,t.uint32())};continue;case 5:if(42!==i)break;a.response={$case:"queryResponse",value:e$.decode(t,t.uint32())};continue;case 6:if(50!==i)break;a.response={$case:"userMarkedTaskComplete",value:eW.decode(t,t.uint32())};continue;case 7:if(58!==i)break;a.response={$case:"approveTaskListResponse",value:eq.decode(t,t.uint32())};continue;case 8:if(66!==i)break;a.response={$case:"approveSqlQueryResponse",value:e1.decode(t,t.uint32())};continue;case 9:if(74!==i)break;a.response={$case:"addingIntegrationsResponse",value:iN.decode(t,t.uint32())};continue;case 10:if(82!==i)break;a.response={$case:"approveInitialBuildMvpResponse",value:eK.decode(t,t.uint32())};continue;case 11:if(90!==i)break;a.response={$case:"approveInitialBuildVisualPhaseResponse",value:eX.decode(t,t.uint32())};continue;case 12:if(98!==i)break;a.response={$case:"approveBlueprintResponse",value:e3.decode(t,t.uint32())};continue;case 4:if(34!==i)break;a.requestEventId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e5.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e5.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e5.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e5.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{response:i4(e.nextStepResponse)?{$case:"nextStepResponse",value:eO.fromJSON(e.nextStepResponse)}:i4(e.userSecretsResponse)?{$case:"userSecretsResponse",value:eS.fromJSON(e.userSecretsResponse)}:i4(e.deployResponse)?{$case:"deployResponse",value:eI.fromJSON(e.deployResponse)}:i4(e.queryResponse)?{$case:"queryResponse",value:e$.fromJSON(e.queryResponse)}:i4(e.userMarkedTaskComplete)?{$case:"userMarkedTaskComplete",value:eW.fromJSON(e.userMarkedTaskComplete)}:i4(e.approveTaskListResponse)?{$case:"approveTaskListResponse",value:eq.fromJSON(e.approveTaskListResponse)}:i4(e.approveSqlQueryResponse)?{$case:"approveSqlQueryResponse",value:e1.fromJSON(e.approveSqlQueryResponse)}:i4(e.addingIntegrationsResponse)?{$case:"addingIntegrationsResponse",value:iN.fromJSON(e.addingIntegrationsResponse)}:i4(e.approveInitialBuildMvpResponse)?{$case:"approveInitialBuildMvpResponse",value:eK.fromJSON(e.approveInitialBuildMvpResponse)}:i4(e.approveInitialBuildVisualPhaseResponse)?{$case:"approveInitialBuildVisualPhaseResponse",value:eX.fromJSON(e.approveInitialBuildVisualPhaseResponse)}:i4(e.approveBlueprintResponse)?{$case:"approveBlueprintResponse",value:e3.fromJSON(e.approveBlueprintResponse)}:void 0,requestEventId:i4(e.requestEventId)?globalThis.String(e.requestEventId):""}},toJSON:function(e){var n,t,r,a,i,o,s,l,u,c,d,f={};return(null==(n=e.response)?void 0:n.$case)==="nextStepResponse"?f.nextStepResponse=eO.toJSON(e.response.value):(null==(t=e.response)?void 0:t.$case)==="userSecretsResponse"?f.userSecretsResponse=eS.toJSON(e.response.value):(null==(r=e.response)?void 0:r.$case)==="deployResponse"?f.deployResponse=eI.toJSON(e.response.value):(null==(a=e.response)?void 0:a.$case)==="queryResponse"?f.queryResponse=e$.toJSON(e.response.value):(null==(i=e.response)?void 0:i.$case)==="userMarkedTaskComplete"?f.userMarkedTaskComplete=eW.toJSON(e.response.value):(null==(o=e.response)?void 0:o.$case)==="approveTaskListResponse"?f.approveTaskListResponse=eq.toJSON(e.response.value):(null==(s=e.response)?void 0:s.$case)==="approveSqlQueryResponse"?f.approveSqlQueryResponse=e1.toJSON(e.response.value):(null==(l=e.response)?void 0:l.$case)==="addingIntegrationsResponse"?f.addingIntegrationsResponse=iN.toJSON(e.response.value):(null==(u=e.response)?void 0:u.$case)==="approveInitialBuildMvpResponse"?f.approveInitialBuildMvpResponse=eK.toJSON(e.response.value):(null==(c=e.response)?void 0:c.$case)==="approveInitialBuildVisualPhaseResponse"?f.approveInitialBuildVisualPhaseResponse=eX.toJSON(e.response.value):(null==(d=e.response)?void 0:d.$case)==="approveBlueprintResponse"&&(f.approveBlueprintResponse=e3.toJSON(e.response.value)),""!==e.requestEventId&&(f.requestEventId=e.requestEventId),f}};c.set(e5.$type,e5);var e7={$type:"replit.ai.chat.SetupImportedProjectEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.importSource&&n.uint32(8).int32(e.importSource),void 0!==e.agentConfig&&tR.encode(e.agentConfig,n.uint32(18).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={importSource:0,agentConfig:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.importSource=t.int32();continue;case 2:if(18!==i)break;a.agentConfig=tR.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e7.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e7.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e7.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e7.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{importSource:i4(e.importSource)?function(e){switch(e){case 0:case"PROJECT_IMPORT_SOURCE_UNKNOWN":return A.aJ.UNKNOWN;case 1:case"PROJECT_IMPORT_SOURCE_LOVABLE":return A.aJ.LOVABLE;case 2:case"PROJECT_IMPORT_SOURCE_BOLT":return A.aJ.BOLT;case 3:case"PROJECT_IMPORT_SOURCE_REPLIT":return A.aJ.REPLIT;case 4:case"PROJECT_IMPORT_SOURCE_OTHER_GITHUB":return A.aJ.OTHER_GITHUB;case 5:case"PROJECT_IMPORT_SOURCE_FIGMA":return A.aJ.FIGMA;case 6:case"PROJECT_IMPORT_SOURCE_VERCEL":return A.aJ.VERCEL;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum ProjectImportSource")}}(e.importSource):0,agentConfig:i4(e.agentConfig)?tR.fromJSON(e.agentConfig):void 0}},toJSON:function(e){var n={};return 0!==e.importSource&&(n.importSource=function(e){switch(e){case A.aJ.UNKNOWN:return"PROJECT_IMPORT_SOURCE_UNKNOWN";case A.aJ.LOVABLE:return"PROJECT_IMPORT_SOURCE_LOVABLE";case A.aJ.BOLT:return"PROJECT_IMPORT_SOURCE_BOLT";case A.aJ.REPLIT:return"PROJECT_IMPORT_SOURCE_REPLIT";case A.aJ.OTHER_GITHUB:return"PROJECT_IMPORT_SOURCE_OTHER_GITHUB";case A.aJ.FIGMA:return"PROJECT_IMPORT_SOURCE_FIGMA";case A.aJ.VERCEL:return"PROJECT_IMPORT_SOURCE_VERCEL";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum ProjectImportSource")}}(e.importSource)),void 0!==e.agentConfig&&(n.agentConfig=tR.toJSON(e.agentConfig)),n}};c.set(e7.$type,e7);var e9={$type:"replit.ai.chat.ProjectImportCompletedData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e9.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e9.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e9.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e9.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(e9.$type,e9);var e8={$type:"replit.ai.chat.MemoryCompressionData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e8.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e8.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e8.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e8.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(e8.$type,e8);var e6={$type:"replit.ai.chat.TaskListData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.tasks[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;ne.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return void 0!==e.commitData&&aN.encode(e.commitData,n.uint32(18).fork()).join(),0!==e.agentMode&&n.uint32(24).int32(e.agentMode),0!==e.estimatedUsageCents&&n.uint32(32).int32(e.estimatedUsageCents),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={tasks:[],commitData:void 0,agentMode:0,estimatedUsageCents:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.tasks.push(ne.decode(t,t.uint32()));continue;case 2:if(18!==i)break;a.commitData=aN.decode(t,t.uint32());continue;case 3:if(24!==i)break;a.agentMode=t.int32();continue;case 4:if(32!==i)break;a.estimatedUsageCents=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e6.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e6.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([e6.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([e6.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{tasks:globalThis.Array.isArray(null==e?void 0:e.tasks)?e.tasks.map(function(e){return ne.fromJSON(e)}):[],commitData:i4(e.commitData)?aN.fromJSON(e.commitData):void 0,agentMode:i4(e.agentMode)?B(e.agentMode):0,estimatedUsageCents:i4(e.estimatedUsageCents)?globalThis.Number(e.estimatedUsageCents):0}},toJSON:function(e){var n,t={};return(null==(n=e.tasks)?void 0:n.length)&&(t.tasks=e.tasks.map(function(e){return ne.toJSON(e)})),void 0!==e.commitData&&(t.commitData=aN.toJSON(e.commitData)),0!==e.agentMode&&(t.agentMode=V(e.agentMode)),0!==e.estimatedUsageCents&&(t.estimatedUsageCents=Math.round(e.estimatedUsageCents)),t}};c.set(e6.$type,e6);var ne={$type:"replit.ai.chat.Task",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.id&&n.uint32(10).string(e.id),""!==e.content&&n.uint32(18).string(e.content),0!==e.status&&n.uint32(24).int32(e.status),0!==e.oldStatus&&n.uint32(32).int32(e.oldStatus),!1!==e.updated&&n.uint32(40).bool(e.updated),""!==e.summary&&n.uint32(50).string(e.summary),""!==e.extraDetails&&n.uint32(58).string(e.extraDetails),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={id:"",content:"",status:0,oldStatus:0,updated:!1,summary:"",extraDetails:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.id=t.string();continue;case 2:if(18!==i)break;a.content=t.string();continue;case 3:if(24!==i)break;a.status=t.int32();continue;case 4:if(32!==i)break;a.oldStatus=t.int32();continue;case 5:if(40!==i)break;a.updated=t.bool();continue;case 6:if(50!==i)break;a.summary=t.string();continue;case 7:if(58!==i)break;a.extraDetails=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ne.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ne.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ne.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ne.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{id:i4(e.id)?globalThis.String(e.id):"",content:i4(e.content)?globalThis.String(e.content):"",status:i4(e.status)?Y(e.status):0,oldStatus:i4(e.oldStatus)?Y(e.oldStatus):0,updated:!!i4(e.updated)&&globalThis.Boolean(e.updated),summary:i4(e.summary)?globalThis.String(e.summary):"",extraDetails:i4(e.extraDetails)?globalThis.String(e.extraDetails):""}},toJSON:function(e){var n={};return""!==e.id&&(n.id=e.id),""!==e.content&&(n.content=e.content),0!==e.status&&(n.status=E(e.status)),0!==e.oldStatus&&(n.oldStatus=E(e.oldStatus)),!1!==e.updated&&(n.updated=e.updated),""!==e.summary&&(n.summary=e.summary),""!==e.extraDetails&&(n.extraDetails=e.extraDetails),n}};c.set(ne.$type,ne);var nn={$type:"replit.ai.chat.EventContents",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(null==(n=e.contents)?void 0:n.$case){case"sessionCreationEventContents":ni.encode(e.contents.value,t.uint32(10).fork()).join();break;case"messageEventContents":n0.encode(e.contents.value,t.uint32(18).fork()).join();break;case"inlineActionEventContents":t_.encode(e.contents.value,t.uint32(26).fork()).join();break;case"localShellExecutionEventContents":tY.encode(e.contents.value,t.uint32(34).fork()).join();break;case"shellSuggestionEventContents":tS.encode(e.contents.value,t.uint32(42).fork()).join();break;case"translateEventContents":tk.encode(e.contents.value,t.uint32(50).fork()).join();break;case"byoPromptEventContents":aA.encode(e.contents.value,t.uint32(58).fork()).join();break;case"agentPlanEventContents":nf.encode(e.contents.value,t.uint32(66).fork()).join();break;case"agentTimelineEventContents":nM.encode(e.contents.value,t.uint32(74).fork()).join();break;case"benchmarkConclusion":nW.encode(e.contents.value,t.uint32(82).fork()).join();break;case"revertEventContents":aC.encode(e.contents.value,t.uint32(90).fork()).join();break;case"hostingDebugSummaryEventContents":aH.encode(e.contents.value,t.uint32(106).fork()).join();break;case"approvePlanEventContents":aO.encode(e.contents.value,t.uint32(114).fork()).join();break;case"userSecretsResponseEventContents":aF.encode(e.contents.value,t.uint32(122).fork()).join();break;case"replCreationEventContents":aV.encode(e.contents.value,t.uint32(130).fork()).join();break;case"iterativeAgentEventContents":az.encode(e.contents.value,t.uint32(138).fork()).join();break;case"stepTooComplexEventContents":io.encode(e.contents.value,t.uint32(162).fork()).join();break;case"stepTooComplexAcknowledgementEventContents":aE.encode(e.contents.value,t.uint32(154).fork()).join();break;case"agentAskUserForActionRequest":e4.encode(e.contents.value,t.uint32(170).fork()).join();break;case"agentAskUserForActionResponse":e5.encode(e.contents.value,t.uint32(178).fork()).join();break;case"integrationTestEventContents":tt.encode(e.contents.value,t.uint32(186).fork()).join();break;case"contextComplexityEventContents":tr.encode(e.contents.value,t.uint32(194).fork()).join();break;case"eventTooLargeEventContents":ta.encode(e.contents.value,t.uint32(202).fork()).join();break;case"startRapidBuildEventContents":nr.encode(e.contents.value,t.uint32(210).fork()).join();break;case"databaseNudgeEventContents":no.encode(e.contents.value,t.uint32(218).fork()).join();break;case"rapidBuildConcluded":n$.encode(e.contents.value,t.uint32(226).fork()).join();break;case"versionMigrated":nG.encode(e.contents.value,t.uint32(234).fork()).join();break;case"rapidBuildStarted":na.encode(e.contents.value,t.uint32(242).fork()).join();break;case"requestFeatureAddData":nc.encode(e.contents.value,t.uint32(250).fork()).join();break;case"triggerCheckpointEventContents":aY.encode(e.contents.value,t.uint32(258).fork()).join();break;case"setupImportedProjectEventContents":e7.encode(e.contents.value,t.uint32(266).fork()).join();break;case"tipRecommendation":is.encode(e.contents.value,t.uint32(274).fork()).join();break;case"subagentRunning":id.encode(e.contents.value,t.uint32(282).fork()).join();break;case"uiTestingSubagentExecutionEventContents":ip.encode(e.contents.value,t.uint32(290).fork()).join();break;case"initialBuildStateUpdateEventContents":iO.encode(e.contents.value,t.uint32(298).fork()).join();break;case"agentConfigUpdateEventContents":ib.encode(e.contents.value,t.uint32(306).fork()).join()}return void 0!==e.benchmarkParameters&&tu.encode(e.benchmarkParameters,t.uint32(146).fork()).join(),t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={contents:void 0,benchmarkParameters:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.contents={$case:"sessionCreationEventContents",value:ni.decode(t,t.uint32())};continue;case 2:if(18!==i)break;a.contents={$case:"messageEventContents",value:n0.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.contents={$case:"inlineActionEventContents",value:t_.decode(t,t.uint32())};continue;case 4:if(34!==i)break;a.contents={$case:"localShellExecutionEventContents",value:tY.decode(t,t.uint32())};continue;case 5:if(42!==i)break;a.contents={$case:"shellSuggestionEventContents",value:tS.decode(t,t.uint32())};continue;case 6:if(50!==i)break;a.contents={$case:"translateEventContents",value:tk.decode(t,t.uint32())};continue;case 7:if(58!==i)break;a.contents={$case:"byoPromptEventContents",value:aA.decode(t,t.uint32())};continue;case 8:if(66!==i)break;a.contents={$case:"agentPlanEventContents",value:nf.decode(t,t.uint32())};continue;case 9:if(74!==i)break;a.contents={$case:"agentTimelineEventContents",value:nM.decode(t,t.uint32())};continue;case 10:if(82!==i)break;a.contents={$case:"benchmarkConclusion",value:nW.decode(t,t.uint32())};continue;case 11:if(90!==i)break;a.contents={$case:"revertEventContents",value:aC.decode(t,t.uint32())};continue;case 13:if(106!==i)break;a.contents={$case:"hostingDebugSummaryEventContents",value:aH.decode(t,t.uint32())};continue;case 14:if(114!==i)break;a.contents={$case:"approvePlanEventContents",value:aO.decode(t,t.uint32())};continue;case 15:if(122!==i)break;a.contents={$case:"userSecretsResponseEventContents",value:aF.decode(t,t.uint32())};continue;case 16:if(130!==i)break;a.contents={$case:"replCreationEventContents",value:aV.decode(t,t.uint32())};continue;case 17:if(138!==i)break;a.contents={$case:"iterativeAgentEventContents",value:az.decode(t,t.uint32())};continue;case 20:if(162!==i)break;a.contents={$case:"stepTooComplexEventContents",value:io.decode(t,t.uint32())};continue;case 19:if(154!==i)break;a.contents={$case:"stepTooComplexAcknowledgementEventContents",value:aE.decode(t,t.uint32())};continue;case 21:if(170!==i)break;a.contents={$case:"agentAskUserForActionRequest",value:e4.decode(t,t.uint32())};continue;case 22:if(178!==i)break;a.contents={$case:"agentAskUserForActionResponse",value:e5.decode(t,t.uint32())};continue;case 23:if(186!==i)break;a.contents={$case:"integrationTestEventContents",value:tt.decode(t,t.uint32())};continue;case 24:if(194!==i)break;a.contents={$case:"contextComplexityEventContents",value:tr.decode(t,t.uint32())};continue;case 25:if(202!==i)break;a.contents={$case:"eventTooLargeEventContents",value:ta.decode(t,t.uint32())};continue;case 26:if(210!==i)break;a.contents={$case:"startRapidBuildEventContents",value:nr.decode(t,t.uint32())};continue;case 27:if(218!==i)break;a.contents={$case:"databaseNudgeEventContents",value:no.decode(t,t.uint32())};continue;case 28:if(226!==i)break;a.contents={$case:"rapidBuildConcluded",value:n$.decode(t,t.uint32())};continue;case 29:if(234!==i)break;a.contents={$case:"versionMigrated",value:nG.decode(t,t.uint32())};continue;case 30:if(242!==i)break;a.contents={$case:"rapidBuildStarted",value:na.decode(t,t.uint32())};continue;case 31:if(250!==i)break;a.contents={$case:"requestFeatureAddData",value:nc.decode(t,t.uint32())};continue;case 32:if(258!==i)break;a.contents={$case:"triggerCheckpointEventContents",value:aY.decode(t,t.uint32())};continue;case 33:if(266!==i)break;a.contents={$case:"setupImportedProjectEventContents",value:e7.decode(t,t.uint32())};continue;case 34:if(274!==i)break;a.contents={$case:"tipRecommendation",value:is.decode(t,t.uint32())};continue;case 35:if(282!==i)break;a.contents={$case:"subagentRunning",value:id.decode(t,t.uint32())};continue;case 36:if(290!==i)break;a.contents={$case:"uiTestingSubagentExecutionEventContents",value:ip.decode(t,t.uint32())};continue;case 37:if(298!==i)break;a.contents={$case:"initialBuildStateUpdateEventContents",value:iO.decode(t,t.uint32())};continue;case 38:if(306!==i)break;a.contents={$case:"agentConfigUpdateEventContents",value:ib.decode(t,t.uint32())};continue;case 18:if(146!==i)break;a.benchmarkParameters=tu.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nn.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nn.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nn.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nn.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{contents:i4(e.sessionCreationEventContents)?{$case:"sessionCreationEventContents",value:ni.fromJSON(e.sessionCreationEventContents)}:i4(e.messageEventContents)?{$case:"messageEventContents",value:n0.fromJSON(e.messageEventContents)}:i4(e.inlineActionEventContents)?{$case:"inlineActionEventContents",value:t_.fromJSON(e.inlineActionEventContents)}:i4(e.localShellExecutionEventContents)?{$case:"localShellExecutionEventContents",value:tY.fromJSON(e.localShellExecutionEventContents)}:i4(e.shellSuggestionEventContents)?{$case:"shellSuggestionEventContents",value:tS.fromJSON(e.shellSuggestionEventContents)}:i4(e.translateEventContents)?{$case:"translateEventContents",value:tk.fromJSON(e.translateEventContents)}:i4(e.byoPromptEventContents)?{$case:"byoPromptEventContents",value:aA.fromJSON(e.byoPromptEventContents)}:i4(e.agentPlanEventContents)?{$case:"agentPlanEventContents",value:nf.fromJSON(e.agentPlanEventContents)}:i4(e.agentTimelineEventContents)?{$case:"agentTimelineEventContents",value:nM.fromJSON(e.agentTimelineEventContents)}:i4(e.benchmarkConclusion)?{$case:"benchmarkConclusion",value:nW.fromJSON(e.benchmarkConclusion)}:i4(e.revertEventContents)?{$case:"revertEventContents",value:aC.fromJSON(e.revertEventContents)}:i4(e.hostingDebugSummaryEventContents)?{$case:"hostingDebugSummaryEventContents",value:aH.fromJSON(e.hostingDebugSummaryEventContents)}:i4(e.approvePlanEventContents)?{$case:"approvePlanEventContents",value:aO.fromJSON(e.approvePlanEventContents)}:i4(e.userSecretsResponseEventContents)?{$case:"userSecretsResponseEventContents",value:aF.fromJSON(e.userSecretsResponseEventContents)}:i4(e.replCreationEventContents)?{$case:"replCreationEventContents",value:aV.fromJSON(e.replCreationEventContents)}:i4(e.iterativeAgentEventContents)?{$case:"iterativeAgentEventContents",value:az.fromJSON(e.iterativeAgentEventContents)}:i4(e.stepTooComplexEventContents)?{$case:"stepTooComplexEventContents",value:io.fromJSON(e.stepTooComplexEventContents)}:i4(e.stepTooComplexAcknowledgementEventContents)?{$case:"stepTooComplexAcknowledgementEventContents",value:aE.fromJSON(e.stepTooComplexAcknowledgementEventContents)}:i4(e.agentAskUserForActionRequest)?{$case:"agentAskUserForActionRequest",value:e4.fromJSON(e.agentAskUserForActionRequest)}:i4(e.agentAskUserForActionResponse)?{$case:"agentAskUserForActionResponse",value:e5.fromJSON(e.agentAskUserForActionResponse)}:i4(e.integrationTestEventContents)?{$case:"integrationTestEventContents",value:tt.fromJSON(e.integrationTestEventContents)}:i4(e.contextComplexityEventContents)?{$case:"contextComplexityEventContents",value:tr.fromJSON(e.contextComplexityEventContents)}:i4(e.eventTooLargeEventContents)?{$case:"eventTooLargeEventContents",value:ta.fromJSON(e.eventTooLargeEventContents)}:i4(e.startRapidBuildEventContents)?{$case:"startRapidBuildEventContents",value:nr.fromJSON(e.startRapidBuildEventContents)}:i4(e.databaseNudgeEventContents)?{$case:"databaseNudgeEventContents",value:no.fromJSON(e.databaseNudgeEventContents)}:i4(e.rapidBuildConcluded)?{$case:"rapidBuildConcluded",value:n$.fromJSON(e.rapidBuildConcluded)}:i4(e.versionMigrated)?{$case:"versionMigrated",value:nG.fromJSON(e.versionMigrated)}:i4(e.rapidBuildStarted)?{$case:"rapidBuildStarted",value:na.fromJSON(e.rapidBuildStarted)}:i4(e.requestFeatureAddData)?{$case:"requestFeatureAddData",value:nc.fromJSON(e.requestFeatureAddData)}:i4(e.triggerCheckpointEventContents)?{$case:"triggerCheckpointEventContents",value:aY.fromJSON(e.triggerCheckpointEventContents)}:i4(e.setupImportedProjectEventContents)?{$case:"setupImportedProjectEventContents",value:e7.fromJSON(e.setupImportedProjectEventContents)}:i4(e.tipRecommendation)?{$case:"tipRecommendation",value:is.fromJSON(e.tipRecommendation)}:i4(e.subagentRunning)?{$case:"subagentRunning",value:id.fromJSON(e.subagentRunning)}:i4(e.uiTestingSubagentExecutionEventContents)?{$case:"uiTestingSubagentExecutionEventContents",value:ip.fromJSON(e.uiTestingSubagentExecutionEventContents)}:i4(e.initialBuildStateUpdateEventContents)?{$case:"initialBuildStateUpdateEventContents",value:iO.fromJSON(e.initialBuildStateUpdateEventContents)}:i4(e.agentConfigUpdateEventContents)?{$case:"agentConfigUpdateEventContents",value:ib.fromJSON(e.agentConfigUpdateEventContents)}:void 0,benchmarkParameters:i4(e.benchmarkParameters)?tu.fromJSON(e.benchmarkParameters):void 0}},toJSON:function(e){var n,t,r,a,i,o,s,l,u,c,d,f,p,h,m,v,g,b,y,w,_,S,A,k,C,Y,E,x,T,D,I,R,N,O,P,F,U={};return(null==(n=e.contents)?void 0:n.$case)==="sessionCreationEventContents"?U.sessionCreationEventContents=ni.toJSON(e.contents.value):(null==(t=e.contents)?void 0:t.$case)==="messageEventContents"?U.messageEventContents=n0.toJSON(e.contents.value):(null==(r=e.contents)?void 0:r.$case)==="inlineActionEventContents"?U.inlineActionEventContents=t_.toJSON(e.contents.value):(null==(a=e.contents)?void 0:a.$case)==="localShellExecutionEventContents"?U.localShellExecutionEventContents=tY.toJSON(e.contents.value):(null==(i=e.contents)?void 0:i.$case)==="shellSuggestionEventContents"?U.shellSuggestionEventContents=tS.toJSON(e.contents.value):(null==(o=e.contents)?void 0:o.$case)==="translateEventContents"?U.translateEventContents=tk.toJSON(e.contents.value):(null==(s=e.contents)?void 0:s.$case)==="byoPromptEventContents"?U.byoPromptEventContents=aA.toJSON(e.contents.value):(null==(l=e.contents)?void 0:l.$case)==="agentPlanEventContents"?U.agentPlanEventContents=nf.toJSON(e.contents.value):(null==(u=e.contents)?void 0:u.$case)==="agentTimelineEventContents"?U.agentTimelineEventContents=nM.toJSON(e.contents.value):(null==(c=e.contents)?void 0:c.$case)==="benchmarkConclusion"?U.benchmarkConclusion=nW.toJSON(e.contents.value):(null==(d=e.contents)?void 0:d.$case)==="revertEventContents"?U.revertEventContents=aC.toJSON(e.contents.value):(null==(f=e.contents)?void 0:f.$case)==="hostingDebugSummaryEventContents"?U.hostingDebugSummaryEventContents=aH.toJSON(e.contents.value):(null==(p=e.contents)?void 0:p.$case)==="approvePlanEventContents"?U.approvePlanEventContents=aO.toJSON(e.contents.value):(null==(h=e.contents)?void 0:h.$case)==="userSecretsResponseEventContents"?U.userSecretsResponseEventContents=aF.toJSON(e.contents.value):(null==(m=e.contents)?void 0:m.$case)==="replCreationEventContents"?U.replCreationEventContents=aV.toJSON(e.contents.value):(null==(v=e.contents)?void 0:v.$case)==="iterativeAgentEventContents"?U.iterativeAgentEventContents=az.toJSON(e.contents.value):(null==(g=e.contents)?void 0:g.$case)==="stepTooComplexEventContents"?U.stepTooComplexEventContents=io.toJSON(e.contents.value):(null==(b=e.contents)?void 0:b.$case)==="stepTooComplexAcknowledgementEventContents"?U.stepTooComplexAcknowledgementEventContents=aE.toJSON(e.contents.value):(null==(y=e.contents)?void 0:y.$case)==="agentAskUserForActionRequest"?U.agentAskUserForActionRequest=e4.toJSON(e.contents.value):(null==(w=e.contents)?void 0:w.$case)==="agentAskUserForActionResponse"?U.agentAskUserForActionResponse=e5.toJSON(e.contents.value):(null==(_=e.contents)?void 0:_.$case)==="integrationTestEventContents"?U.integrationTestEventContents=tt.toJSON(e.contents.value):(null==(S=e.contents)?void 0:S.$case)==="contextComplexityEventContents"?U.contextComplexityEventContents=tr.toJSON(e.contents.value):(null==(A=e.contents)?void 0:A.$case)==="eventTooLargeEventContents"?U.eventTooLargeEventContents=ta.toJSON(e.contents.value):(null==(k=e.contents)?void 0:k.$case)==="startRapidBuildEventContents"?U.startRapidBuildEventContents=nr.toJSON(e.contents.value):(null==(C=e.contents)?void 0:C.$case)==="databaseNudgeEventContents"?U.databaseNudgeEventContents=no.toJSON(e.contents.value):(null==(Y=e.contents)?void 0:Y.$case)==="rapidBuildConcluded"?U.rapidBuildConcluded=n$.toJSON(e.contents.value):(null==(E=e.contents)?void 0:E.$case)==="versionMigrated"?U.versionMigrated=nG.toJSON(e.contents.value):(null==(x=e.contents)?void 0:x.$case)==="rapidBuildStarted"?U.rapidBuildStarted=na.toJSON(e.contents.value):(null==(T=e.contents)?void 0:T.$case)==="requestFeatureAddData"?U.requestFeatureAddData=nc.toJSON(e.contents.value):(null==(D=e.contents)?void 0:D.$case)==="triggerCheckpointEventContents"?U.triggerCheckpointEventContents=aY.toJSON(e.contents.value):(null==(I=e.contents)?void 0:I.$case)==="setupImportedProjectEventContents"?U.setupImportedProjectEventContents=e7.toJSON(e.contents.value):(null==(R=e.contents)?void 0:R.$case)==="tipRecommendation"?U.tipRecommendation=is.toJSON(e.contents.value):(null==(N=e.contents)?void 0:N.$case)==="subagentRunning"?U.subagentRunning=id.toJSON(e.contents.value):(null==(O=e.contents)?void 0:O.$case)==="uiTestingSubagentExecutionEventContents"?U.uiTestingSubagentExecutionEventContents=ip.toJSON(e.contents.value):(null==(P=e.contents)?void 0:P.$case)==="initialBuildStateUpdateEventContents"?U.initialBuildStateUpdateEventContents=iO.toJSON(e.contents.value):(null==(F=e.contents)?void 0:F.$case)==="agentConfigUpdateEventContents"&&(U.agentConfigUpdateEventContents=ib.toJSON(e.contents.value)),void 0!==e.benchmarkParameters&&(U.benchmarkParameters=tu.toJSON(e.benchmarkParameters)),U}};c.set(nn.$type,nn);var nt={$type:"replit.ai.chat.EventContext",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(null==(n=e.metadata)?void 0:n.$case){case"sessionCreationEventContext":tA.encode(e.metadata.value,t.uint32(10).fork()).join();break;case"messageEventContext":tN.encode(e.metadata.value,t.uint32(18).fork()).join();break;case"inlineActionEventContext":tO.encode(e.metadata.value,t.uint32(26).fork()).join();break;case"localShellExecutionEventContext":tE.encode(e.metadata.value,t.uint32(34).fork()).join();break;case"shellSuggestionEventContext":tx.encode(e.metadata.value,t.uint32(42).fork()).join();break;case"translateEventContext":tC.encode(e.metadata.value,t.uint32(50).fork()).join();break;case"byoPromptEventContext":ak.encode(e.metadata.value,t.uint32(58).fork()).join();break;case"agentPlanEventContext":np.encode(e.metadata.value,t.uint32(66).fork()).join();break;case"agentTimelineEventContext":nK.encode(e.metadata.value,t.uint32(74).fork()).join();break;case"hostingDebugSummaryEventContext":aB.encode(e.metadata.value,t.uint32(82).fork()).join();break;case"replCreationEventContext":a$.encode(e.metadata.value,t.uint32(90).fork()).join();break;case"userSecretsResponseEventContext":aG.encode(e.metadata.value,t.uint32(98).fork()).join();break;case"revertEventContext":nh.encode(e.metadata.value,t.uint32(106).fork()).join();break;case"iterativeAgentEventContext":a4.encode(e.metadata.value,t.uint32(114).fork()).join();break;case"integrationTestEventContext":ti.encode(e.metadata.value,t.uint32(186).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={metadata:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.metadata={$case:"sessionCreationEventContext",value:tA.decode(t,t.uint32())};continue;case 2:if(18!==i)break;a.metadata={$case:"messageEventContext",value:tN.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.metadata={$case:"inlineActionEventContext",value:tO.decode(t,t.uint32())};continue;case 4:if(34!==i)break;a.metadata={$case:"localShellExecutionEventContext",value:tE.decode(t,t.uint32())};continue;case 5:if(42!==i)break;a.metadata={$case:"shellSuggestionEventContext",value:tx.decode(t,t.uint32())};continue;case 6:if(50!==i)break;a.metadata={$case:"translateEventContext",value:tC.decode(t,t.uint32())};continue;case 7:if(58!==i)break;a.metadata={$case:"byoPromptEventContext",value:ak.decode(t,t.uint32())};continue;case 8:if(66!==i)break;a.metadata={$case:"agentPlanEventContext",value:np.decode(t,t.uint32())};continue;case 9:if(74!==i)break;a.metadata={$case:"agentTimelineEventContext",value:nK.decode(t,t.uint32())};continue;case 10:if(82!==i)break;a.metadata={$case:"hostingDebugSummaryEventContext",value:aB.decode(t,t.uint32())};continue;case 11:if(90!==i)break;a.metadata={$case:"replCreationEventContext",value:a$.decode(t,t.uint32())};continue;case 12:if(98!==i)break;a.metadata={$case:"userSecretsResponseEventContext",value:aG.decode(t,t.uint32())};continue;case 13:if(106!==i)break;a.metadata={$case:"revertEventContext",value:nh.decode(t,t.uint32())};continue;case 14:if(114!==i)break;a.metadata={$case:"iterativeAgentEventContext",value:a4.decode(t,t.uint32())};continue;case 23:if(186!==i)break;a.metadata={$case:"integrationTestEventContext",value:ti.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nt.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nt.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nt.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nt.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{metadata:i4(e.sessionCreationEventContext)?{$case:"sessionCreationEventContext",value:tA.fromJSON(e.sessionCreationEventContext)}:i4(e.messageEventContext)?{$case:"messageEventContext",value:tN.fromJSON(e.messageEventContext)}:i4(e.inlineActionEventContext)?{$case:"inlineActionEventContext",value:tO.fromJSON(e.inlineActionEventContext)}:i4(e.localShellExecutionEventContext)?{$case:"localShellExecutionEventContext",value:tE.fromJSON(e.localShellExecutionEventContext)}:i4(e.shellSuggestionEventContext)?{$case:"shellSuggestionEventContext",value:tx.fromJSON(e.shellSuggestionEventContext)}:i4(e.translateEventContext)?{$case:"translateEventContext",value:tC.fromJSON(e.translateEventContext)}:i4(e.byoPromptEventContext)?{$case:"byoPromptEventContext",value:ak.fromJSON(e.byoPromptEventContext)}:i4(e.agentPlanEventContext)?{$case:"agentPlanEventContext",value:np.fromJSON(e.agentPlanEventContext)}:i4(e.agentTimelineEventContext)?{$case:"agentTimelineEventContext",value:nK.fromJSON(e.agentTimelineEventContext)}:i4(e.hostingDebugSummaryEventContext)?{$case:"hostingDebugSummaryEventContext",value:aB.fromJSON(e.hostingDebugSummaryEventContext)}:i4(e.replCreationEventContext)?{$case:"replCreationEventContext",value:a$.fromJSON(e.replCreationEventContext)}:i4(e.userSecretsResponseEventContext)?{$case:"userSecretsResponseEventContext",value:aG.fromJSON(e.userSecretsResponseEventContext)}:i4(e.revertEventContext)?{$case:"revertEventContext",value:nh.fromJSON(e.revertEventContext)}:i4(e.iterativeAgentEventContext)?{$case:"iterativeAgentEventContext",value:a4.fromJSON(e.iterativeAgentEventContext)}:i4(e.integrationTestEventContext)?{$case:"integrationTestEventContext",value:ti.fromJSON(e.integrationTestEventContext)}:void 0}},toJSON:function(e){var n,t,r,a,i,o,s,l,u,c,d,f,p,h,m,v={};return(null==(n=e.metadata)?void 0:n.$case)==="sessionCreationEventContext"?v.sessionCreationEventContext=tA.toJSON(e.metadata.value):(null==(t=e.metadata)?void 0:t.$case)==="messageEventContext"?v.messageEventContext=tN.toJSON(e.metadata.value):(null==(r=e.metadata)?void 0:r.$case)==="inlineActionEventContext"?v.inlineActionEventContext=tO.toJSON(e.metadata.value):(null==(a=e.metadata)?void 0:a.$case)==="localShellExecutionEventContext"?v.localShellExecutionEventContext=tE.toJSON(e.metadata.value):(null==(i=e.metadata)?void 0:i.$case)==="shellSuggestionEventContext"?v.shellSuggestionEventContext=tx.toJSON(e.metadata.value):(null==(o=e.metadata)?void 0:o.$case)==="translateEventContext"?v.translateEventContext=tC.toJSON(e.metadata.value):(null==(s=e.metadata)?void 0:s.$case)==="byoPromptEventContext"?v.byoPromptEventContext=ak.toJSON(e.metadata.value):(null==(l=e.metadata)?void 0:l.$case)==="agentPlanEventContext"?v.agentPlanEventContext=np.toJSON(e.metadata.value):(null==(u=e.metadata)?void 0:u.$case)==="agentTimelineEventContext"?v.agentTimelineEventContext=nK.toJSON(e.metadata.value):(null==(c=e.metadata)?void 0:c.$case)==="hostingDebugSummaryEventContext"?v.hostingDebugSummaryEventContext=aB.toJSON(e.metadata.value):(null==(d=e.metadata)?void 0:d.$case)==="replCreationEventContext"?v.replCreationEventContext=a$.toJSON(e.metadata.value):(null==(f=e.metadata)?void 0:f.$case)==="userSecretsResponseEventContext"?v.userSecretsResponseEventContext=aG.toJSON(e.metadata.value):(null==(p=e.metadata)?void 0:p.$case)==="revertEventContext"?v.revertEventContext=nh.toJSON(e.metadata.value):(null==(h=e.metadata)?void 0:h.$case)==="iterativeAgentEventContext"?v.iterativeAgentEventContext=a4.toJSON(e.metadata.value):(null==(m=e.metadata)?void 0:m.$case)==="integrationTestEventContext"&&(v.integrationTestEventContext=ti.toJSON(e.metadata.value)),v}};c.set(nt.$type,nt);var nr={$type:"replit.ai.chat.StartRapidBuildEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.mvpObjective&&n.uint32(10).string(e.mvpObjective),""!==e.stack&&n.uint32(18).string(e.stack);var t=!0,r=!1,a=void 0;try{for(var i,o=e.followupSteps[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(26).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.uploadedFiles[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;tl.encode(h,n.uint32(34).fork()).join()}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}return""!==e.extraDetails&&n.uint32(42).string(e.extraDetails),""!==e.techStack&&n.uint32(50).string(e.techStack),""!==e.mvpSuccessCriteria&&n.uint32(58).string(e.mvpSuccessCriteria),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={mvpObjective:"",stack:"",followupSteps:[],uploadedFiles:[],extraDetails:"",techStack:"",mvpSuccessCriteria:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.mvpObjective=t.string();continue;case 2:if(18!==i)break;a.stack=t.string();continue;case 3:if(26!==i)break;a.followupSteps.push(t.string());continue;case 4:if(34!==i)break;a.uploadedFiles.push(tl.decode(t,t.uint32()));continue;case 5:if(42!==i)break;a.extraDetails=t.string();continue;case 6:if(50!==i)break;a.techStack=t.string();continue;case 7:if(58!==i)break;a.mvpSuccessCriteria=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nr.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nr.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nr.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nr.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{mvpObjective:i4(e.mvpObjective)?globalThis.String(e.mvpObjective):"",stack:i4(e.stack)?globalThis.String(e.stack):"",followupSteps:globalThis.Array.isArray(null==e?void 0:e.followupSteps)?e.followupSteps.map(function(e){return globalThis.String(e)}):[],uploadedFiles:globalThis.Array.isArray(null==e?void 0:e.uploadedFiles)?e.uploadedFiles.map(function(e){return tl.fromJSON(e)}):[],extraDetails:i4(e.extraDetails)?globalThis.String(e.extraDetails):"",techStack:i4(e.techStack)?globalThis.String(e.techStack):"",mvpSuccessCriteria:i4(e.mvpSuccessCriteria)?globalThis.String(e.mvpSuccessCriteria):""}},toJSON:function(e){var n,t,r={};return""!==e.mvpObjective&&(r.mvpObjective=e.mvpObjective),""!==e.stack&&(r.stack=e.stack),(null==(n=e.followupSteps)?void 0:n.length)&&(r.followupSteps=e.followupSteps),(null==(t=e.uploadedFiles)?void 0:t.length)&&(r.uploadedFiles=e.uploadedFiles.map(function(e){return tl.toJSON(e)})),""!==e.extraDetails&&(r.extraDetails=e.extraDetails),""!==e.techStack&&(r.techStack=e.techStack),""!==e.mvpSuccessCriteria&&(r.mvpSuccessCriteria=e.mvpSuccessCriteria),r}};c.set(nr.$type,nr);var na={$type:"replit.ai.chat.RapidBuildStartedData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([na.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([na.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([na.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([na.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(na.$type,na);var ni={$type:"replit.ai.chat.SessionCreationEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ni.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ni.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ni.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ni.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(ni.$type,ni);var no={$type:"replit.ai.chat.DatabaseNudgeEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([no.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([no.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([no.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([no.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(no.$type,no);var ns={$type:"replit.ai.chat.CodeChangeStats",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.linesAdded&&n.uint32(8).int32(e.linesAdded),0!==e.linesRemoved&&n.uint32(16).int32(e.linesRemoved),""!==e.commitId&&n.uint32(26).string(e.commitId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={linesAdded:0,linesRemoved:0,commitId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.linesAdded=t.int32();continue;case 2:if(16!==i)break;a.linesRemoved=t.int32();continue;case 3:if(26!==i)break;a.commitId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ns.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ns.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ns.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ns.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{linesAdded:i4(e.linesAdded)?globalThis.Number(e.linesAdded):0,linesRemoved:i4(e.linesRemoved)?globalThis.Number(e.linesRemoved):0,commitId:i4(e.commitId)?globalThis.String(e.commitId):""}},toJSON:function(e){var n={};return 0!==e.linesAdded&&(n.linesAdded=Math.round(e.linesAdded)),0!==e.linesRemoved&&(n.linesRemoved=Math.round(e.linesRemoved)),""!==e.commitId&&(n.commitId=e.commitId),n}};c.set(ns.$type,ns);var nl={$type:"replit.ai.chat.AgentPlanStep",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.id&&n.uint32(10).string(e.id),""!==e.name&&n.uint32(18).string(e.name),0!==e.status&&n.uint32(24).int32(e.status),""!==e.message&&n.uint32(34).string(e.message),(null==(i=e.metadata)?void 0:i.$case)==="codeChangeStats"&&ns.encode(e.metadata.value,n.uint32(42).fork()).join(),""!==e.timelineEventId&&n.uint32(50).string(e.timelineEventId);var t=!0,r=!1,a=void 0;try{for(var i,o,s=e.subSteps[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var l=o.value;nl.encode(l,n.uint32(58).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw a}}var c=!0,d=!1,f=void 0;try{for(var p,h=e.blueprints[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=p.value;n.uint32(66).string(m)}}catch(e){d=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(d)throw f}}var v=!0,g=!1,b=void 0;try{for(var y,w=e.blueprintData[Symbol.iterator]();!(v=(y=w.next()).done);v=!0){var _=y.value;nm.encode(_,n.uint32(90).fork()).join()}}catch(e){g=!0,b=e}finally{try{v||null==w.return||w.return()}finally{if(g)throw b}}return""!==e.mode&&n.uint32(74).string(e.mode),""!==e.commitId&&n.uint32(82).string(e.commitId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={id:"",name:"",status:0,message:"",metadata:void 0,timelineEventId:"",subSteps:[],blueprints:[],blueprintData:[],mode:"",commitId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.id=t.string();continue;case 2:if(18!==i)break;a.name=t.string();continue;case 3:if(24!==i)break;a.status=t.int32();continue;case 4:if(34!==i)break;a.message=t.string();continue;case 5:if(42!==i)break;a.metadata={$case:"codeChangeStats",value:ns.decode(t,t.uint32())};continue;case 6:if(50!==i)break;a.timelineEventId=t.string();continue;case 7:if(58!==i)break;a.subSteps.push(nl.decode(t,t.uint32()));continue;case 8:if(66!==i)break;a.blueprints.push(t.string());continue;case 11:if(90!==i)break;a.blueprintData.push(nm.decode(t,t.uint32()));continue;case 9:if(74!==i)break;a.mode=t.string();continue;case 10:if(82!==i)break;a.commitId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nl.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nl.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nl.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nl.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{id:i4(e.id)?globalThis.String(e.id):"",name:i4(e.name)?globalThis.String(e.name):"",status:i4(e.status)?function(e){switch(e){case 0:case"STEP_UNKNOWN":return A.jh.STEP_UNKNOWN;case 1:case"STEP_NOT_STARTED":return A.jh.STEP_NOT_STARTED;case 2:case"STEP_IN_PROGRESS":return A.jh.STEP_IN_PROGRESS;case 3:case"STEP_COMPLETE":return A.jh.STEP_COMPLETE;case 4:case"STEP_FAILED":return A.jh.STEP_FAILED;case 5:case"STEP_ABORTED":return A.jh.STEP_ABORTED;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AgentPlanStepStatus")}}(e.status):0,message:i4(e.message)?globalThis.String(e.message):"",metadata:i4(e.codeChangeStats)?{$case:"codeChangeStats",value:ns.fromJSON(e.codeChangeStats)}:void 0,timelineEventId:i4(e.timelineEventId)?globalThis.String(e.timelineEventId):"",subSteps:globalThis.Array.isArray(null==e?void 0:e.subSteps)?e.subSteps.map(function(e){return nl.fromJSON(e)}):[],blueprints:globalThis.Array.isArray(null==e?void 0:e.blueprints)?e.blueprints.map(function(e){return globalThis.String(e)}):[],blueprintData:globalThis.Array.isArray(null==e?void 0:e.blueprintData)?e.blueprintData.map(function(e){return nm.fromJSON(e)}):[],mode:i4(e.mode)?globalThis.String(e.mode):"",commitId:i4(e.commitId)?globalThis.String(e.commitId):""}},toJSON:function(e){var n,t,r,a,i={};return""!==e.id&&(i.id=e.id),""!==e.name&&(i.name=e.name),0!==e.status&&(i.status=function(e){switch(e){case A.jh.STEP_UNKNOWN:return"STEP_UNKNOWN";case A.jh.STEP_NOT_STARTED:return"STEP_NOT_STARTED";case A.jh.STEP_IN_PROGRESS:return"STEP_IN_PROGRESS";case A.jh.STEP_COMPLETE:return"STEP_COMPLETE";case A.jh.STEP_FAILED:return"STEP_FAILED";case A.jh.STEP_ABORTED:return"STEP_ABORTED";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AgentPlanStepStatus")}}(e.status)),""!==e.message&&(i.message=e.message),(null==(n=e.metadata)?void 0:n.$case)==="codeChangeStats"&&(i.codeChangeStats=ns.toJSON(e.metadata.value)),""!==e.timelineEventId&&(i.timelineEventId=e.timelineEventId),(null==(t=e.subSteps)?void 0:t.length)&&(i.subSteps=e.subSteps.map(function(e){return nl.toJSON(e)})),(null==(r=e.blueprints)?void 0:r.length)&&(i.blueprints=e.blueprints),(null==(a=e.blueprintData)?void 0:a.length)&&(i.blueprintData=e.blueprintData.map(function(e){return nm.toJSON(e)})),""!==e.mode&&(i.mode=e.mode),""!==e.commitId&&(i.commitId=e.commitId),i}};c.set(nl.$type,nl);var nu={$type:"replit.ai.chat.BlueprintsSetup",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.blueprintData[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;nm.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={blueprintData:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.blueprintData.push(nm.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nu.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nu.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nu.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nu.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{blueprintData:globalThis.Array.isArray(null==e?void 0:e.blueprintData)?e.blueprintData.map(function(e){return nm.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.blueprintData)?void 0:n.length)&&(t.blueprintData=e.blueprintData.map(function(e){return nm.toJSON(e)})),t}};c.set(nu.$type,nu);var nc={$type:"replit.ai.chat.RequestFeatureAdd",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.type&&n.uint32(8).int32(e.type),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={type:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.type=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nc.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nc.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nc.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nc.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{type:i4(e.type)?function(e){switch(e){case 0:case"REQUEST_FEATURE_ADD_TYPE_UNKNOWN":return A.vq.UNKNOWN;case 1:case"REQUEST_FEATURE_ADD_TYPE_NEON_DATABASE":return A.vq.NEON_DATABASE;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum RequestFeatureAddType")}}(e.type):0}},toJSON:function(e){var n={};return 0!==e.type&&(n.type=function(e){switch(e){case A.vq.UNKNOWN:return"REQUEST_FEATURE_ADD_TYPE_UNKNOWN";case A.vq.NEON_DATABASE:return"REQUEST_FEATURE_ADD_TYPE_NEON_DATABASE";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum RequestFeatureAddType")}}(e.type)),n}};c.set(nc.$type,nc);var nd={$type:"replit.ai.chat.AgentPlanObjective",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.description&&n.uint32(10).string(e.description),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={description:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.description=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nd.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nd.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nd.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nd.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{description:i4(e.description)?globalThis.String(e.description):""}},toJSON:function(e){var n={};return""!==e.description&&(n.description=e.description),n}};c.set(nd.$type,nd);var nf={$type:"replit.ai.chat.AgentPlanEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.planId&&n.uint32(10).string(e.planId),void 0!==e.objective&&nd.encode(e.objective,n.uint32(18).fork()).join(),void 0!==e.step&&nl.encode(e.step,n.uint32(26).fork()).join(),!1!==e.requiresApproval&&n.uint32(32).bool(e.requiresApproval),""!==e.initialCommitId&&n.uint32(42).string(e.initialCommitId),void 0!==e.approver&&rl.encode(e.approver,n.uint32(50).fork()).join(),0!==e.stackBlueprint&&n.uint32(56).int32(e.stackBlueprint);var t=!0,r=!1,a=void 0;try{for(var i,o=e.designReferenceFilePaths[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(66).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return""!==e.approvedDesignReferenceFilePath&&n.uint32(74).string(e.approvedDesignReferenceFilePath),void 0!==e.customStackReplId&&n.uint32(82).string(e.customStackReplId),void 0!==e.userSecretsRequest&&e_.encode(e.userSecretsRequest,n.uint32(90).fork()).join(),0!==e.agentStackTriggerType&&n.uint32(240).int32(e.agentStackTriggerType),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={planId:"",objective:void 0,step:void 0,requiresApproval:!1,initialCommitId:"",approver:void 0,stackBlueprint:0,designReferenceFilePaths:[],approvedDesignReferenceFilePath:"",customStackReplId:void 0,userSecretsRequest:void 0,agentStackTriggerType:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.planId=t.string();continue;case 2:if(18!==i)break;a.objective=nd.decode(t,t.uint32());continue;case 3:if(26!==i)break;a.step=nl.decode(t,t.uint32());continue;case 4:if(32!==i)break;a.requiresApproval=t.bool();continue;case 5:if(42!==i)break;a.initialCommitId=t.string();continue;case 6:if(50!==i)break;a.approver=rl.decode(t,t.uint32());continue;case 7:if(56!==i)break;a.stackBlueprint=t.int32();continue;case 8:if(66!==i)break;a.designReferenceFilePaths.push(t.string());continue;case 9:if(74!==i)break;a.approvedDesignReferenceFilePath=t.string();continue;case 10:if(82!==i)break;a.customStackReplId=t.string();continue;case 11:if(90!==i)break;a.userSecretsRequest=e_.decode(t,t.uint32());continue;case 30:if(240!==i)break;a.agentStackTriggerType=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nf.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nf.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nf.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nf.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{planId:i4(e.planId)?globalThis.String(e.planId):"",objective:i4(e.objective)?nd.fromJSON(e.objective):void 0,step:i4(e.step)?nl.fromJSON(e.step):void 0,requiresApproval:!!i4(e.requiresApproval)&&globalThis.Boolean(e.requiresApproval),initialCommitId:i4(e.initialCommitId)?globalThis.String(e.initialCommitId):"",approver:i4(e.approver)?rl.fromJSON(e.approver):void 0,stackBlueprint:i4(e.stackBlueprint)?x(e.stackBlueprint):0,designReferenceFilePaths:globalThis.Array.isArray(null==e?void 0:e.designReferenceFilePaths)?e.designReferenceFilePaths.map(function(e){return globalThis.String(e)}):[],approvedDesignReferenceFilePath:i4(e.approvedDesignReferenceFilePath)?globalThis.String(e.approvedDesignReferenceFilePath):"",customStackReplId:i4(e.customStackReplId)?globalThis.String(e.customStackReplId):void 0,userSecretsRequest:i4(e.userSecretsRequest)?e_.fromJSON(e.userSecretsRequest):void 0,agentStackTriggerType:i4(e.agentStackTriggerType)?D(e.agentStackTriggerType):0}},toJSON:function(e){var n,t={};return""!==e.planId&&(t.planId=e.planId),void 0!==e.objective&&(t.objective=nd.toJSON(e.objective)),void 0!==e.step&&(t.step=nl.toJSON(e.step)),!1!==e.requiresApproval&&(t.requiresApproval=e.requiresApproval),""!==e.initialCommitId&&(t.initialCommitId=e.initialCommitId),void 0!==e.approver&&(t.approver=rl.toJSON(e.approver)),0!==e.stackBlueprint&&(t.stackBlueprint=T(e.stackBlueprint)),(null==(n=e.designReferenceFilePaths)?void 0:n.length)&&(t.designReferenceFilePaths=e.designReferenceFilePaths),""!==e.approvedDesignReferenceFilePath&&(t.approvedDesignReferenceFilePath=e.approvedDesignReferenceFilePath),void 0!==e.customStackReplId&&(t.customStackReplId=e.customStackReplId),void 0!==e.userSecretsRequest&&(t.userSecretsRequest=e_.toJSON(e.userSecretsRequest)),0!==e.agentStackTriggerType&&(t.agentStackTriggerType=I(e.agentStackTriggerType)),t}};c.set(nf.$type,nf);var np={$type:"replit.ai.chat.AgentPlanEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([np.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([np.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([np.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([np.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(np.$type,np);var nh={$type:"replit.ai.chat.RevertEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nh.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nh.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nh.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nh.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(nh.$type,nh);var nm={$type:"replit.ai.chat.BlueprintData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;0!==e.category&&n.uint32(8).int32(e.category),""!==e.displayName&&n.uint32(18).string(e.displayName),""!==e.name&&n.uint32(26).string(e.name);var t=!0,r=!1,a=void 0;try{for(var i,o=e.secrets[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;ep.encode(s,n.uint32(34).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={category:0,displayName:"",name:"",secrets:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.category=t.int32();continue;case 2:if(18!==i)break;a.displayName=t.string();continue;case 3:if(26!==i)break;a.name=t.string();continue;case 4:if(34!==i)break;a.secrets.push(ep.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nm.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nm.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nm.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nm.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{category:i4(e.category)?function(e){switch(e){case 0:case"BLUEPRINT_CATEGORY_UNSPECIFIED":return A.yG.UNSPECIFIED;case 1:case"FEATURE":return A.yG.FEATURE;case 2:case"STACK":return A.yG.STACK;case 3:case"STYLING":return A.yG.STYLING;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum BlueprintCategory")}}(e.category):0,displayName:i4(e.displayName)?globalThis.String(e.displayName):"",name:i4(e.name)?globalThis.String(e.name):"",secrets:globalThis.Array.isArray(null==e?void 0:e.secrets)?e.secrets.map(function(e){return ep.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return 0!==e.category&&(t.category=function(e){switch(e){case A.yG.UNSPECIFIED:return"BLUEPRINT_CATEGORY_UNSPECIFIED";case A.yG.FEATURE:return"FEATURE";case A.yG.STACK:return"STACK";case A.yG.STYLING:return"STYLING";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum BlueprintCategory")}}(e.category)),""!==e.displayName&&(t.displayName=e.displayName),""!==e.name&&(t.name=e.name),(null==(n=e.secrets)?void 0:n.length)&&(t.secrets=e.secrets.map(function(e){return ep.toJSON(e)})),t}};c.set(nm.$type,nm);var nv={$type:"replit.ai.chat.ShellExecutionData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.command&&n.uint32(10).string(e.command),""!==e.shellId&&n.uint32(18).string(e.shellId),""!==e.stdout&&n.uint32(26).string(e.stdout),""!==e.stderr&&n.uint32(34).string(e.stderr),0!==e.exitCode&&n.uint32(40).int32(e.exitCode),""!==e.processId&&n.uint32(50).string(e.processId),!1!==e.isExecuting&&n.uint32(56).bool(e.isExecuting),""!==e.output&&n.uint32(66).string(e.output),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={command:"",shellId:"",stdout:"",stderr:"",exitCode:0,processId:"",isExecuting:!1,output:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.command=t.string();continue;case 2:if(18!==i)break;a.shellId=t.string();continue;case 3:if(26!==i)break;a.stdout=t.string();continue;case 4:if(34!==i)break;a.stderr=t.string();continue;case 5:if(40!==i)break;a.exitCode=t.int32();continue;case 6:if(50!==i)break;a.processId=t.string();continue;case 7:if(56!==i)break;a.isExecuting=t.bool();continue;case 8:if(66!==i)break;a.output=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nv.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nv.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nv.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nv.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{command:i4(e.command)?globalThis.String(e.command):"",shellId:i4(e.shellId)?globalThis.String(e.shellId):"",stdout:i4(e.stdout)?globalThis.String(e.stdout):"",stderr:i4(e.stderr)?globalThis.String(e.stderr):"",exitCode:i4(e.exitCode)?globalThis.Number(e.exitCode):0,processId:i4(e.processId)?globalThis.String(e.processId):"",isExecuting:!!i4(e.isExecuting)&&globalThis.Boolean(e.isExecuting),output:i4(e.output)?globalThis.String(e.output):""}},toJSON:function(e){var n={};return""!==e.command&&(n.command=e.command),""!==e.shellId&&(n.shellId=e.shellId),""!==e.stdout&&(n.stdout=e.stdout),""!==e.stderr&&(n.stderr=e.stderr),0!==e.exitCode&&(n.exitCode=Math.round(e.exitCode)),""!==e.processId&&(n.processId=e.processId),!1!==e.isExecuting&&(n.isExecuting=e.isExecuting),""!==e.output&&(n.output=e.output),n}};c.set(nv.$type,nv);var ng={$type:"replit.ai.chat.FileEditData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.filePath&&n.uint32(10).string(e.filePath),""!==e.diff&&n.uint32(18).string(e.diff),0!==e.removedLines&&n.uint32(24).int32(e.removedLines),0!==e.addedLines&&n.uint32(32).int32(e.addedLines),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={filePath:"",diff:"",removedLines:0,addedLines:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.filePath=t.string();continue;case 2:if(18!==i)break;a.diff=t.string();continue;case 3:if(24!==i)break;a.removedLines=t.int32();continue;case 4:if(32!==i)break;a.addedLines=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ng.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ng.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ng.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ng.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{filePath:i4(e.filePath)?globalThis.String(e.filePath):"",diff:i4(e.diff)?globalThis.String(e.diff):"",removedLines:i4(e.removedLines)?globalThis.Number(e.removedLines):0,addedLines:i4(e.addedLines)?globalThis.Number(e.addedLines):0}},toJSON:function(e){var n={};return""!==e.filePath&&(n.filePath=e.filePath),""!==e.diff&&(n.diff=e.diff),0!==e.removedLines&&(n.removedLines=Math.round(e.removedLines)),0!==e.addedLines&&(n.addedLines=Math.round(e.addedLines)),n}};c.set(ng.$type,ng);var nb={$type:"replit.ai.chat.CreateFileData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.filePath&&n.uint32(10).string(e.filePath),""!==e.content&&n.uint32(18).string(e.content),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={filePath:"",content:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.filePath=t.string();continue;case 2:if(18!==i)break;a.content=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nb.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nb.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nb.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nb.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{filePath:i4(e.filePath)?globalThis.String(e.filePath):"",content:i4(e.content)?globalThis.String(e.content):""}},toJSON:function(e){var n={};return""!==e.filePath&&(n.filePath=e.filePath),""!==e.content&&(n.content=e.content),n}};c.set(nb.$type,nb);var ny={$type:"replit.ai.chat.ReadFileData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.filePath&&n.uint32(10).string(e.filePath),""!==e.content&&n.uint32(18).string(e.content),0!==e.startLine&&n.uint32(24).int32(e.startLine),0!==e.endLine&&n.uint32(32).int32(e.endLine),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={filePath:"",content:"",startLine:0,endLine:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.filePath=t.string();continue;case 2:if(18!==i)break;a.content=t.string();continue;case 3:if(24!==i)break;a.startLine=t.int32();continue;case 4:if(32!==i)break;a.endLine=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ny.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ny.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ny.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ny.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{filePath:i4(e.filePath)?globalThis.String(e.filePath):"",content:i4(e.content)?globalThis.String(e.content):"",startLine:i4(e.startLine)?globalThis.Number(e.startLine):0,endLine:i4(e.endLine)?globalThis.Number(e.endLine):0}},toJSON:function(e){var n={};return""!==e.filePath&&(n.filePath=e.filePath),""!==e.content&&(n.content=e.content),0!==e.startLine&&(n.startLine=Math.round(e.startLine)),0!==e.endLine&&(n.endLine=Math.round(e.endLine)),n}};c.set(ny.$type,ny);var nw={$type:"replit.ai.chat.ReadDirData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.path&&n.uint32(10).string(e.path);var t=!0,r=!1,a=void 0;try{for(var i,o=e.paths[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(18).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={path:"",paths:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.path=t.string();continue;case 2:if(18!==i)break;a.paths.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nw.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nw.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nw.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nw.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{path:i4(e.path)?globalThis.String(e.path):"",paths:globalThis.Array.isArray(null==e?void 0:e.paths)?e.paths.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t={};return""!==e.path&&(t.path=e.path),(null==(n=e.paths)?void 0:n.length)&&(t.paths=e.paths),t}};c.set(nw.$type,nw);var n_={$type:"replit.ai.chat.PackagerInstallData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.inputLanguage&&n.uint32(10).string(e.inputLanguage);var t=!0,r=!1,a=void 0;try{for(var i,o=e.inputPackages[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(18).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return""!==e.output&&n.uint32(26).string(e.output),""!==e.processId&&n.uint32(34).string(e.processId),!1!==e.isExecuting&&n.uint32(40).bool(e.isExecuting),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={inputLanguage:"",inputPackages:[],output:"",processId:"",isExecuting:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.inputLanguage=t.string();continue;case 2:if(18!==i)break;a.inputPackages.push(t.string());continue;case 3:if(26!==i)break;a.output=t.string();continue;case 4:if(34!==i)break;a.processId=t.string();continue;case 5:if(40!==i)break;a.isExecuting=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n_.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n_.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n_.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n_.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{inputLanguage:i4(e.inputLanguage)?globalThis.String(e.inputLanguage):"",inputPackages:globalThis.Array.isArray(null==e?void 0:e.inputPackages)?e.inputPackages.map(function(e){return globalThis.String(e)}):[],output:i4(e.output)?globalThis.String(e.output):"",processId:i4(e.processId)?globalThis.String(e.processId):"",isExecuting:!!i4(e.isExecuting)&&globalThis.Boolean(e.isExecuting)}},toJSON:function(e){var n,t={};return""!==e.inputLanguage&&(t.inputLanguage=e.inputLanguage),(null==(n=e.inputPackages)?void 0:n.length)&&(t.inputPackages=e.inputPackages),""!==e.output&&(t.output=e.output),""!==e.processId&&(t.processId=e.processId),!1!==e.isExecuting&&(t.isExecuting=e.isExecuting),t}};c.set(n_.$type,n_);var nS={$type:"replit.ai.chat.PackagerUninstallData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.inputLanguage&&n.uint32(10).string(e.inputLanguage);var t=!0,r=!1,a=void 0;try{for(var i,o=e.inputPackages[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(18).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={inputLanguage:"",inputPackages:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.inputLanguage=t.string();continue;case 2:if(18!==i)break;a.inputPackages.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nS.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nS.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nS.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nS.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{inputLanguage:i4(e.inputLanguage)?globalThis.String(e.inputLanguage):"",inputPackages:globalThis.Array.isArray(null==e?void 0:e.inputPackages)?e.inputPackages.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t={};return""!==e.inputLanguage&&(t.inputLanguage=e.inputLanguage),(null==(n=e.inputPackages)?void 0:n.length)&&(t.inputPackages=e.inputPackages),t}};c.set(nS.$type,nS);var nA={$type:"replit.ai.chat.SearchFilesystemData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.queryDescription&&n.uint32(10).string(e.queryDescription);var t=!0,r=!1,a=void 0;try{for(var i,o=e.filePaths[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(18).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.classNames[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;n.uint32(26).string(h)}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}var m=!0,v=!1,g=void 0;try{for(var b,y=e.functionNames[Symbol.iterator]();!(m=(b=y.next()).done);m=!0){var w=b.value;n.uint32(34).string(w)}}catch(e){v=!0,g=e}finally{try{m||null==y.return||y.return()}finally{if(v)throw g}}var _=!0,S=!1,A=void 0;try{for(var k,C=e.resultFileNames[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){var Y=k.value;n.uint32(42).string(Y)}}catch(e){S=!0,A=e}finally{try{_||null==C.return||C.return()}finally{if(S)throw A}}var E=!0,x=!1,T=void 0;try{for(var D,I=e.resultFileSummaries[Symbol.iterator]();!(E=(D=I.next()).done);E=!0){var R=D.value;n.uint32(50).string(R)}}catch(e){x=!0,T=e}finally{try{E||null==I.return||I.return()}finally{if(x)throw T}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={queryDescription:"",filePaths:[],classNames:[],functionNames:[],resultFileNames:[],resultFileSummaries:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.queryDescription=t.string();continue;case 2:if(18!==i)break;a.filePaths.push(t.string());continue;case 3:if(26!==i)break;a.classNames.push(t.string());continue;case 4:if(34!==i)break;a.functionNames.push(t.string());continue;case 5:if(42!==i)break;a.resultFileNames.push(t.string());continue;case 6:if(50!==i)break;a.resultFileSummaries.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nA.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nA.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nA.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nA.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{queryDescription:i4(e.queryDescription)?globalThis.String(e.queryDescription):"",filePaths:globalThis.Array.isArray(null==e?void 0:e.filePaths)?e.filePaths.map(function(e){return globalThis.String(e)}):[],classNames:globalThis.Array.isArray(null==e?void 0:e.classNames)?e.classNames.map(function(e){return globalThis.String(e)}):[],functionNames:globalThis.Array.isArray(null==e?void 0:e.functionNames)?e.functionNames.map(function(e){return globalThis.String(e)}):[],resultFileNames:globalThis.Array.isArray(null==e?void 0:e.resultFileNames)?e.resultFileNames.map(function(e){return globalThis.String(e)}):[],resultFileSummaries:globalThis.Array.isArray(null==e?void 0:e.resultFileSummaries)?e.resultFileSummaries.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t,r,a,i,o={};return""!==e.queryDescription&&(o.queryDescription=e.queryDescription),(null==(n=e.filePaths)?void 0:n.length)&&(o.filePaths=e.filePaths),(null==(t=e.classNames)?void 0:t.length)&&(o.classNames=e.classNames),(null==(r=e.functionNames)?void 0:r.length)&&(o.functionNames=e.functionNames),(null==(a=e.resultFileNames)?void 0:a.length)&&(o.resultFileNames=e.resultFileNames),(null==(i=e.resultFileSummaries)?void 0:i.length)&&(o.resultFileSummaries=e.resultFileSummaries),o}};c.set(nA.$type,nA);var nk={$type:"replit.ai.chat.WebSearchResultPage",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.title&&n.uint32(10).string(e.title),""!==e.url&&n.uint32(18).string(e.url),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={title:"",url:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.title=t.string();continue;case 2:if(18!==i)break;a.url=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nk.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nk.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nk.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nk.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{title:i4(e.title)?globalThis.String(e.title):"",url:i4(e.url)?globalThis.String(e.url):""}},toJSON:function(e){var n={};return""!==e.title&&(n.title=e.title),""!==e.url&&(n.url=e.url),n}};c.set(nk.$type,nk);var nC={$type:"replit.ai.chat.GoogleSuggestedSearch",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.webSearchQueries[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(10).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={webSearchQueries:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.webSearchQueries.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nC.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nC.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nC.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nC.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{webSearchQueries:globalThis.Array.isArray(null==e?void 0:e.webSearchQueries)?e.webSearchQueries.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.webSearchQueries)?void 0:n.length)&&(t.webSearchQueries=e.webSearchQueries),t}};c.set(nC.$type,nC);var nY={$type:"replit.ai.chat.WebSearchData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.query&&n.uint32(10).string(e.query),""!==e.response&&n.uint32(18).string(e.response);var t=!0,r=!1,a=void 0;try{for(var i,o=e.pageResults[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;nk.encode(s,n.uint32(26).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return void 0!==e.googleSuggestedSearch&&nC.encode(e.googleSuggestedSearch,n.uint32(34).fork()).join(),0!==e.searchType&&n.uint32(40).int32(e.searchType),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={query:"",response:"",pageResults:[],googleSuggestedSearch:void 0,searchType:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.query=t.string();continue;case 2:if(18!==i)break;a.response=t.string();continue;case 3:if(26!==i)break;a.pageResults.push(nk.decode(t,t.uint32()));continue;case 4:if(34!==i)break;a.googleSuggestedSearch=nC.decode(t,t.uint32());continue;case 5:if(40!==i)break;a.searchType=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nY.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nY.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nY.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nY.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{query:i4(e.query)?globalThis.String(e.query):"",response:i4(e.response)?globalThis.String(e.response):"",pageResults:globalThis.Array.isArray(null==e?void 0:e.pageResults)?e.pageResults.map(function(e){return nk.fromJSON(e)}):[],googleSuggestedSearch:i4(e.googleSuggestedSearch)?nC.fromJSON(e.googleSuggestedSearch):void 0,searchType:i4(e.searchType)?function(e){switch(e){case 0:case"WEB_SEARCH_TYPE_UNSPECIFIED":return A.nZ.UNSPECIFIED;case 1:case"WEB_SEARCH_TYPE_GENERAL":return A.nZ.GENERAL;case 2:case"WEB_SEARCH_TYPE_REPLIT_DOCUMENTATION":return A.nZ.REPLIT_DOCUMENTATION;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum WebSearchType")}}(e.searchType):0}},toJSON:function(e){var n,t={};return""!==e.query&&(t.query=e.query),""!==e.response&&(t.response=e.response),(null==(n=e.pageResults)?void 0:n.length)&&(t.pageResults=e.pageResults.map(function(e){return nk.toJSON(e)})),void 0!==e.googleSuggestedSearch&&(t.googleSuggestedSearch=nC.toJSON(e.googleSuggestedSearch)),0!==e.searchType&&(t.searchType=function(e){switch(e){case A.nZ.UNSPECIFIED:return"WEB_SEARCH_TYPE_UNSPECIFIED";case A.nZ.GENERAL:return"WEB_SEARCH_TYPE_GENERAL";case A.nZ.REPLIT_DOCUMENTATION:return"WEB_SEARCH_TYPE_REPLIT_DOCUMENTATION";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum WebSearchType")}}(e.searchType)),t}};c.set(nY.$type,nY);var nE={$type:"replit.ai.chat.WebPageVisitData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.url&&n.uint32(10).string(e.url),""!==e.title&&n.uint32(18).string(e.title),""!==e.snippet&&n.uint32(26).string(e.snippet),""!==e.favicon&&n.uint32(34).string(e.favicon),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={url:"",title:"",snippet:"",favicon:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.url=t.string();continue;case 2:if(18!==i)break;a.title=t.string();continue;case 3:if(26!==i)break;a.snippet=t.string();continue;case 4:if(34!==i)break;a.favicon=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nE.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nE.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nE.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nE.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{url:i4(e.url)?globalThis.String(e.url):"",title:i4(e.title)?globalThis.String(e.title):"",snippet:i4(e.snippet)?globalThis.String(e.snippet):"",favicon:i4(e.favicon)?globalThis.String(e.favicon):""}},toJSON:function(e){var n={};return""!==e.url&&(n.url=e.url),""!==e.title&&(n.title=e.title),""!==e.snippet&&(n.snippet=e.snippet),""!==e.favicon&&(n.favicon=e.favicon),n}};c.set(nE.$type,nE);var nx={$type:"replit.ai.chat.ScreenshotData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.port&&n.uint32(8).int32(e.port),""!==e.path&&n.uint32(18).string(e.path),""!==e.imageUrl&&n.uint32(26).string(e.imageUrl),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={port:0,path:"",imageUrl:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.port=t.int32();continue;case 2:if(18!==i)break;a.path=t.string();continue;case 3:if(26!==i)break;a.imageUrl=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nx.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nx.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nx.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nx.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{port:i4(e.port)?globalThis.Number(e.port):0,path:i4(e.path)?globalThis.String(e.path):"",imageUrl:i4(e.imageUrl)?globalThis.String(e.imageUrl):""}},toJSON:function(e){var n={};return 0!==e.port&&(n.port=Math.round(e.port)),""!==e.path&&(n.path=e.path),""!==e.imageUrl&&(n.imageUrl=e.imageUrl),n}};c.set(nx.$type,nx);var nT={$type:"replit.ai.chat.ToolchainInstallData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.modules[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(10).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={modules:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.modules.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nT.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nT.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nT.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nT.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{modules:globalThis.Array.isArray(null==e?void 0:e.modules)?e.modules.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.modules)?void 0:n.length)&&(t.modules=e.modules),t}};c.set(nT.$type,nT);var nD={$type:"replit.ai.chat.WorkflowsGetOutputToolData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.name&&n.uint32(10).string(e.name),""!==e.output&&n.uint32(18).string(e.output),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={name:"",output:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.name=t.string();continue;case 2:if(18!==i)break;a.output=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nD.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nD.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nD.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nD.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{name:i4(e.name)?globalThis.String(e.name):"",output:i4(e.output)?globalThis.String(e.output):""}},toJSON:function(e){var n={};return""!==e.name&&(n.name=e.name),""!==e.output&&(n.output=e.output),n}};c.set(nD.$type,nD);var nI={$type:"replit.ai.chat.WorkflowsRemoveRunConfigToolData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.name&&n.uint32(10).string(e.name),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={name:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.name=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nI.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nI.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nI.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nI.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{name:i4(e.name)?globalThis.String(e.name):""}},toJSON:function(e){var n={};return""!==e.name&&(n.name=e.name),n}};c.set(nI.$type,nI);var nR={$type:"replit.ai.chat.WorkflowsRestartToolData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.name&&n.uint32(10).string(e.name),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={name:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.name=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nR.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nR.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nR.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nR.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{name:i4(e.name)?globalThis.String(e.name):""}},toJSON:function(e){var n={};return""!==e.name&&(n.name=e.name),n}};c.set(nR.$type,nR);var nN={$type:"replit.ai.chat.WorkflowsSetRunConfigToolData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.name&&n.uint32(10).string(e.name),""!==e.command&&n.uint32(18).string(e.command),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={name:"",command:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.name=t.string();continue;case 2:if(18!==i)break;a.command=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nN.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nN.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nN.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nN.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{name:i4(e.name)?globalThis.String(e.name):"",command:i4(e.command)?globalThis.String(e.command):""}},toJSON:function(e){var n={};return""!==e.name&&(n.name=e.name),""!==e.command&&(n.command=e.command),n}};c.set(nN.$type,nN);var nO={$type:"replit.ai.chat.WorkflowsStartToolData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.name&&n.uint32(10).string(e.name),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={name:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.name=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nO.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nO.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nO.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nO.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{name:i4(e.name)?globalThis.String(e.name):""}},toJSON:function(e){var n={};return""!==e.name&&(n.name=e.name),n}};c.set(nO.$type,nO);var nP={$type:"replit.ai.chat.WorkflowsStopToolData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.name&&n.uint32(10).string(e.name),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={name:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.name=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nP.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nP.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nP.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nP.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{name:i4(e.name)?globalThis.String(e.name):""}},toJSON:function(e){var n={};return""!==e.name&&(n.name=e.name),n}};c.set(nP.$type,nP);var nF={$type:"replit.ai.chat.SuggestRollbackData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.suggestRollbackReason&&n.uint32(10).string(e.suggestRollbackReason),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={suggestRollbackReason:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.suggestRollbackReason=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nF.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nF.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nF.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nF.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{suggestRollbackReason:i4(e.suggestRollbackReason)?globalThis.String(e.suggestRollbackReason):""}},toJSON:function(e){var n={};return""!==e.suggestRollbackReason&&(n.suggestRollbackReason=e.suggestRollbackReason),n}};c.set(nF.$type,nF);var nU={$type:"replit.ai.chat.PresentResultsToolData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.resultType&&n.uint32(10).string(e.resultType),""!==e.shellCommand&&n.uint32(18).string(e.shellCommand),0!==e.websitePort&&n.uint32(24).int32(e.websitePort),""!==e.shellCommandWorkflowName&&n.uint32(34).string(e.shellCommandWorkflowName),""!==e.websiteRoute&&n.uint32(42).string(e.websiteRoute),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={resultType:"",shellCommand:"",websitePort:0,shellCommandWorkflowName:"",websiteRoute:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.resultType=t.string();continue;case 2:if(18!==i)break;a.shellCommand=t.string();continue;case 3:if(24!==i)break;a.websitePort=t.int32();continue;case 4:if(34!==i)break;a.shellCommandWorkflowName=t.string();continue;case 5:if(42!==i)break;a.websiteRoute=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nU.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nU.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nU.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nU.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{resultType:i4(e.resultType)?globalThis.String(e.resultType):"",shellCommand:i4(e.shellCommand)?globalThis.String(e.shellCommand):"",websitePort:i4(e.websitePort)?globalThis.Number(e.websitePort):0,shellCommandWorkflowName:i4(e.shellCommandWorkflowName)?globalThis.String(e.shellCommandWorkflowName):"",websiteRoute:i4(e.websiteRoute)?globalThis.String(e.websiteRoute):""}},toJSON:function(e){var n={};return""!==e.resultType&&(n.resultType=e.resultType),""!==e.shellCommand&&(n.shellCommand=e.shellCommand),0!==e.websitePort&&(n.websitePort=Math.round(e.websitePort)),""!==e.shellCommandWorkflowName&&(n.shellCommandWorkflowName=e.shellCommandWorkflowName),""!==e.websiteRoute&&(n.websiteRoute=e.websiteRoute),n}};c.set(nU.$type,nU);var nL={$type:"replit.ai.chat.SearchFileData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.filePath&&n.uint32(10).string(e.filePath),""!==e.query&&n.uint32(18).string(e.query),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={filePath:"",query:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.filePath=t.string();continue;case 2:if(18!==i)break;a.query=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nL.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nL.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nL.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nL.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{filePath:i4(e.filePath)?globalThis.String(e.filePath):"",query:i4(e.query)?globalThis.String(e.query):""}},toJSON:function(e){var n={};return""!==e.filePath&&(n.filePath=e.filePath),""!==e.query&&(n.query=e.query),n}};c.set(nL.$type,nL);var nM={$type:"replit.ai.chat.AgentTimelineEventContents",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(""!==e.toolName&&t.uint32(10).string(e.toolName),""!==e.planStepId&&t.uint32(18).string(e.planStepId),""!==e.message&&t.uint32(26).string(e.message),null==(n=e.toolData)?void 0:n.$case){case"shellExecutionData":nv.encode(e.toolData.value,t.uint32(34).fork()).join();break;case"fileEditData":ng.encode(e.toolData.value,t.uint32(42).fork()).join();break;case"createFileData":nb.encode(e.toolData.value,t.uint32(50).fork()).join();break;case"readFileData":ny.encode(e.toolData.value,t.uint32(58).fork()).join();break;case"packagerInstallData":n_.encode(e.toolData.value,t.uint32(66).fork()).join();break;case"searchFilesystemData":nA.encode(e.toolData.value,t.uint32(74).fork()).join();break;case"messageData":n0.encode(e.toolData.value,t.uint32(82).fork()).join();break;case"packagerUninstallData":nS.encode(e.toolData.value,t.uint32(90).fork()).join();break;case"screenshotData":nx.encode(e.toolData.value,t.uint32(98).fork()).join();break;case"toolchainInstallData":nT.encode(e.toolData.value,t.uint32(106).fork()).join();break;case"workflowsGetOutputToolData":nD.encode(e.toolData.value,t.uint32(114).fork()).join();break;case"workflowsRemoveRunConfigToolData":nI.encode(e.toolData.value,t.uint32(122).fork()).join();break;case"workflowsRestartToolData":nR.encode(e.toolData.value,t.uint32(130).fork()).join();break;case"workflowsSetRunConfigToolData":nN.encode(e.toolData.value,t.uint32(138).fork()).join();break;case"workflowsStartToolData":nO.encode(e.toolData.value,t.uint32(146).fork()).join();break;case"workflowsStopToolData":nP.encode(e.toolData.value,t.uint32(154).fork()).join();break;case"planProgressData":nz.encode(e.toolData.value,t.uint32(162).fork()).join();break;case"summarizeObjectiveData":nH.encode(e.toolData.value,t.uint32(178).fork()).join();break;case"presentResultsToolData":nU.encode(e.toolData.value,t.uint32(170).fork()).join();break;case"searchFileData":nL.encode(e.toolData.value,t.uint32(186).fork()).join();break;case"systemDependencyInstallData":a5.encode(e.toolData.value,t.uint32(194).fork()).join();break;case"systemDependencyUninstallData":a7.encode(e.toolData.value,t.uint32(202).fork()).join();break;case"deployData":a8.encode(e.toolData.value,t.uint32(210).fork()).join();break;case"revertData":a6.encode(e.toolData.value,t.uint32(218).fork()).join();break;case"deployConfigData":a9.encode(e.toolData.value,t.uint32(226).fork()).join();break;case"agentPlanStepBegin":nJ.encode(e.toolData.value,t.uint32(234).fork()).join();break;case"acknowledgeUserMessage":ie.encode(e.toolData.value,t.uint32(242).fork()).join();break;case"createPostgresqlDatabaseData":it.encode(e.toolData.value,t.uint32(250).fork()).join();break;case"sqlExecutionData":ir.encode(e.toolData.value,t.uint32(258).fork()).join();break;case"newSessionNudge":ii.encode(e.toolData.value,t.uint32(266).fork()).join();break;case"commitData":aN.encode(e.toolData.value,t.uint32(274).fork()).join();break;case"readDirData":nw.encode(e.toolData.value,t.uint32(282).fork()).join();break;case"thoughts":nB.encode(e.toolData.value,t.uint32(290).fork()).join();break;case"blueprintsSetup":nu.encode(e.toolData.value,t.uint32(298).fork()).join();break;case"webPageVisitData":nE.encode(e.toolData.value,t.uint32(306).fork()).join();break;case"webSearchData":nY.encode(e.toolData.value,t.uint32(314).fork()).join();break;case"imageGenerationData":ia.encode(e.toolData.value,t.uint32(322).fork()).join();break;case"projectImportCompleted":e9.encode(e.toolData.value,t.uint32(330).fork()).join();break;case"memoryCompressionData":e8.encode(e.toolData.value,t.uint32(338).fork()).join();break;case"suggestRollbackData":nF.encode(e.toolData.value,t.uint32(346).fork()).join();break;case"taskListData":e6.encode(e.toolData.value,t.uint32(354).fork()).join();break;case"samplingEvent":i_.encode(e.toolData.value,t.uint32(362).fork()).join();break;case"setupObjectStorageData":iY.encode(e.toolData.value,t.uint32(370).fork()).join();break;case"endOfRunSummaryData":il.encode(e.toolData.value,t.uint32(378).fork()).join();break;case"stockImageData":iI.encode(e.toolData.value,t.uint32(386).fork()).join();break;case"searchIntegrationsData":iP.encode(e.toolData.value,t.uint32(394).fork()).join();break;case"viewIntegrationData":iF.encode(e.toolData.value,t.uint32(402).fork()).join();break;case"setupModelfarmData":iL.encode(e.toolData.value,t.uint32(410).fork()).join();break;case"viewLogsData":iU.encode(e.toolData.value,t.uint32(418).fork()).join();break;case"uiTestingSubagentTakeOverData":ig.encode(e.toolData.value,t.uint32(426).fork()).join();break;case"viewSpecialFiles":iM.encode(e.toolData.value,t.uint32(434).fork()).join();break;case"designGuidelinesData":iJ.encode(e.toolData.value,t.uint32(442).fork()).join();break;case"mcpToolData":iH.encode(e.toolData.value,t.uint32(450).fork()).join();break;case"alertData":iX.encode(e.toolData.value,t.uint32(458).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={toolName:"",planStepId:"",message:"",toolData:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.toolName=t.string();continue;case 2:if(18!==i)break;a.planStepId=t.string();continue;case 3:if(26!==i)break;a.message=t.string();continue;case 4:if(34!==i)break;a.toolData={$case:"shellExecutionData",value:nv.decode(t,t.uint32())};continue;case 5:if(42!==i)break;a.toolData={$case:"fileEditData",value:ng.decode(t,t.uint32())};continue;case 6:if(50!==i)break;a.toolData={$case:"createFileData",value:nb.decode(t,t.uint32())};continue;case 7:if(58!==i)break;a.toolData={$case:"readFileData",value:ny.decode(t,t.uint32())};continue;case 8:if(66!==i)break;a.toolData={$case:"packagerInstallData",value:n_.decode(t,t.uint32())};continue;case 9:if(74!==i)break;a.toolData={$case:"searchFilesystemData",value:nA.decode(t,t.uint32())};continue;case 10:if(82!==i)break;a.toolData={$case:"messageData",value:n0.decode(t,t.uint32())};continue;case 11:if(90!==i)break;a.toolData={$case:"packagerUninstallData",value:nS.decode(t,t.uint32())};continue;case 12:if(98!==i)break;a.toolData={$case:"screenshotData",value:nx.decode(t,t.uint32())};continue;case 13:if(106!==i)break;a.toolData={$case:"toolchainInstallData",value:nT.decode(t,t.uint32())};continue;case 14:if(114!==i)break;a.toolData={$case:"workflowsGetOutputToolData",value:nD.decode(t,t.uint32())};continue;case 15:if(122!==i)break;a.toolData={$case:"workflowsRemoveRunConfigToolData",value:nI.decode(t,t.uint32())};continue;case 16:if(130!==i)break;a.toolData={$case:"workflowsRestartToolData",value:nR.decode(t,t.uint32())};continue;case 17:if(138!==i)break;a.toolData={$case:"workflowsSetRunConfigToolData",value:nN.decode(t,t.uint32())};continue;case 18:if(146!==i)break;a.toolData={$case:"workflowsStartToolData",value:nO.decode(t,t.uint32())};continue;case 19:if(154!==i)break;a.toolData={$case:"workflowsStopToolData",value:nP.decode(t,t.uint32())};continue;case 20:if(162!==i)break;a.toolData={$case:"planProgressData",value:nz.decode(t,t.uint32())};continue;case 22:if(178!==i)break;a.toolData={$case:"summarizeObjectiveData",value:nH.decode(t,t.uint32())};continue;case 21:if(170!==i)break;a.toolData={$case:"presentResultsToolData",value:nU.decode(t,t.uint32())};continue;case 23:if(186!==i)break;a.toolData={$case:"searchFileData",value:nL.decode(t,t.uint32())};continue;case 24:if(194!==i)break;a.toolData={$case:"systemDependencyInstallData",value:a5.decode(t,t.uint32())};continue;case 25:if(202!==i)break;a.toolData={$case:"systemDependencyUninstallData",value:a7.decode(t,t.uint32())};continue;case 26:if(210!==i)break;a.toolData={$case:"deployData",value:a8.decode(t,t.uint32())};continue;case 27:if(218!==i)break;a.toolData={$case:"revertData",value:a6.decode(t,t.uint32())};continue;case 28:if(226!==i)break;a.toolData={$case:"deployConfigData",value:a9.decode(t,t.uint32())};continue;case 29:if(234!==i)break;a.toolData={$case:"agentPlanStepBegin",value:nJ.decode(t,t.uint32())};continue;case 30:if(242!==i)break;a.toolData={$case:"acknowledgeUserMessage",value:ie.decode(t,t.uint32())};continue;case 31:if(250!==i)break;a.toolData={$case:"createPostgresqlDatabaseData",value:it.decode(t,t.uint32())};continue;case 32:if(258!==i)break;a.toolData={$case:"sqlExecutionData",value:ir.decode(t,t.uint32())};continue;case 33:if(266!==i)break;a.toolData={$case:"newSessionNudge",value:ii.decode(t,t.uint32())};continue;case 34:if(274!==i)break;a.toolData={$case:"commitData",value:aN.decode(t,t.uint32())};continue;case 35:if(282!==i)break;a.toolData={$case:"readDirData",value:nw.decode(t,t.uint32())};continue;case 36:if(290!==i)break;a.toolData={$case:"thoughts",value:nB.decode(t,t.uint32())};continue;case 37:if(298!==i)break;a.toolData={$case:"blueprintsSetup",value:nu.decode(t,t.uint32())};continue;case 38:if(306!==i)break;a.toolData={$case:"webPageVisitData",value:nE.decode(t,t.uint32())};continue;case 39:if(314!==i)break;a.toolData={$case:"webSearchData",value:nY.decode(t,t.uint32())};continue;case 40:if(322!==i)break;a.toolData={$case:"imageGenerationData",value:ia.decode(t,t.uint32())};continue;case 41:if(330!==i)break;a.toolData={$case:"projectImportCompleted",value:e9.decode(t,t.uint32())};continue;case 42:if(338!==i)break;a.toolData={$case:"memoryCompressionData",value:e8.decode(t,t.uint32())};continue;case 43:if(346!==i)break;a.toolData={$case:"suggestRollbackData",value:nF.decode(t,t.uint32())};continue;case 44:if(354!==i)break;a.toolData={$case:"taskListData",value:e6.decode(t,t.uint32())};continue;case 45:if(362!==i)break;a.toolData={$case:"samplingEvent",value:i_.decode(t,t.uint32())};continue;case 46:if(370!==i)break;a.toolData={$case:"setupObjectStorageData",value:iY.decode(t,t.uint32())};continue;case 47:if(378!==i)break;a.toolData={$case:"endOfRunSummaryData",value:il.decode(t,t.uint32())};continue;case 48:if(386!==i)break;a.toolData={$case:"stockImageData",value:iI.decode(t,t.uint32())};continue;case 49:if(394!==i)break;a.toolData={$case:"searchIntegrationsData",value:iP.decode(t,t.uint32())};continue;case 50:if(402!==i)break;a.toolData={$case:"viewIntegrationData",value:iF.decode(t,t.uint32())};continue;case 51:if(410!==i)break;a.toolData={$case:"setupModelfarmData",value:iL.decode(t,t.uint32())};continue;case 52:if(418!==i)break;a.toolData={$case:"viewLogsData",value:iU.decode(t,t.uint32())};continue;case 53:if(426!==i)break;a.toolData={$case:"uiTestingSubagentTakeOverData",value:ig.decode(t,t.uint32())};continue;case 54:if(434!==i)break;a.toolData={$case:"viewSpecialFiles",value:iM.decode(t,t.uint32())};continue;case 55:if(442!==i)break;a.toolData={$case:"designGuidelinesData",value:iJ.decode(t,t.uint32())};continue;case 56:if(450!==i)break;a.toolData={$case:"mcpToolData",value:iH.decode(t,t.uint32())};continue;case 57:if(458!==i)break;a.toolData={$case:"alertData",value:iX.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nM.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nM.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nM.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nM.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{toolName:i4(e.toolName)?globalThis.String(e.toolName):"",planStepId:i4(e.planStepId)?globalThis.String(e.planStepId):"",message:i4(e.message)?globalThis.String(e.message):"",toolData:i4(e.shellExecutionData)?{$case:"shellExecutionData",value:nv.fromJSON(e.shellExecutionData)}:i4(e.fileEditData)?{$case:"fileEditData",value:ng.fromJSON(e.fileEditData)}:i4(e.createFileData)?{$case:"createFileData",value:nb.fromJSON(e.createFileData)}:i4(e.readFileData)?{$case:"readFileData",value:ny.fromJSON(e.readFileData)}:i4(e.packagerInstallData)?{$case:"packagerInstallData",value:n_.fromJSON(e.packagerInstallData)}:i4(e.searchFilesystemData)?{$case:"searchFilesystemData",value:nA.fromJSON(e.searchFilesystemData)}:i4(e.messageData)?{$case:"messageData",value:n0.fromJSON(e.messageData)}:i4(e.packagerUninstallData)?{$case:"packagerUninstallData",value:nS.fromJSON(e.packagerUninstallData)}:i4(e.screenshotData)?{$case:"screenshotData",value:nx.fromJSON(e.screenshotData)}:i4(e.toolchainInstallData)?{$case:"toolchainInstallData",value:nT.fromJSON(e.toolchainInstallData)}:i4(e.workflowsGetOutputToolData)?{$case:"workflowsGetOutputToolData",value:nD.fromJSON(e.workflowsGetOutputToolData)}:i4(e.workflowsRemoveRunConfigToolData)?{$case:"workflowsRemoveRunConfigToolData",value:nI.fromJSON(e.workflowsRemoveRunConfigToolData)}:i4(e.workflowsRestartToolData)?{$case:"workflowsRestartToolData",value:nR.fromJSON(e.workflowsRestartToolData)}:i4(e.workflowsSetRunConfigToolData)?{$case:"workflowsSetRunConfigToolData",value:nN.fromJSON(e.workflowsSetRunConfigToolData)}:i4(e.workflowsStartToolData)?{$case:"workflowsStartToolData",value:nO.fromJSON(e.workflowsStartToolData)}:i4(e.workflowsStopToolData)?{$case:"workflowsStopToolData",value:nP.fromJSON(e.workflowsStopToolData)}:i4(e.planProgressData)?{$case:"planProgressData",value:nz.fromJSON(e.planProgressData)}:i4(e.summarizeObjectiveData)?{$case:"summarizeObjectiveData",value:nH.fromJSON(e.summarizeObjectiveData)}:i4(e.presentResultsToolData)?{$case:"presentResultsToolData",value:nU.fromJSON(e.presentResultsToolData)}:i4(e.searchFileData)?{$case:"searchFileData",value:nL.fromJSON(e.searchFileData)}:i4(e.systemDependencyInstallData)?{$case:"systemDependencyInstallData",value:a5.fromJSON(e.systemDependencyInstallData)}:i4(e.systemDependencyUninstallData)?{$case:"systemDependencyUninstallData",value:a7.fromJSON(e.systemDependencyUninstallData)}:i4(e.deployData)?{$case:"deployData",value:a8.fromJSON(e.deployData)}:i4(e.revertData)?{$case:"revertData",value:a6.fromJSON(e.revertData)}:i4(e.deployConfigData)?{$case:"deployConfigData",value:a9.fromJSON(e.deployConfigData)}:i4(e.agentPlanStepBegin)?{$case:"agentPlanStepBegin",value:nJ.fromJSON(e.agentPlanStepBegin)}:i4(e.acknowledgeUserMessage)?{$case:"acknowledgeUserMessage",value:ie.fromJSON(e.acknowledgeUserMessage)}:i4(e.createPostgresqlDatabaseData)?{$case:"createPostgresqlDatabaseData",value:it.fromJSON(e.createPostgresqlDatabaseData)}:i4(e.sqlExecutionData)?{$case:"sqlExecutionData",value:ir.fromJSON(e.sqlExecutionData)}:i4(e.newSessionNudge)?{$case:"newSessionNudge",value:ii.fromJSON(e.newSessionNudge)}:i4(e.commitData)?{$case:"commitData",value:aN.fromJSON(e.commitData)}:i4(e.readDirData)?{$case:"readDirData",value:nw.fromJSON(e.readDirData)}:i4(e.thoughts)?{$case:"thoughts",value:nB.fromJSON(e.thoughts)}:i4(e.blueprintsSetup)?{$case:"blueprintsSetup",value:nu.fromJSON(e.blueprintsSetup)}:i4(e.webPageVisitData)?{$case:"webPageVisitData",value:nE.fromJSON(e.webPageVisitData)}:i4(e.webSearchData)?{$case:"webSearchData",value:nY.fromJSON(e.webSearchData)}:i4(e.imageGenerationData)?{$case:"imageGenerationData",value:ia.fromJSON(e.imageGenerationData)}:i4(e.projectImportCompleted)?{$case:"projectImportCompleted",value:e9.fromJSON(e.projectImportCompleted)}:i4(e.memoryCompressionData)?{$case:"memoryCompressionData",value:e8.fromJSON(e.memoryCompressionData)}:i4(e.suggestRollbackData)?{$case:"suggestRollbackData",value:nF.fromJSON(e.suggestRollbackData)}:i4(e.taskListData)?{$case:"taskListData",value:e6.fromJSON(e.taskListData)}:i4(e.samplingEvent)?{$case:"samplingEvent",value:i_.fromJSON(e.samplingEvent)}:i4(e.setupObjectStorageData)?{$case:"setupObjectStorageData",value:iY.fromJSON(e.setupObjectStorageData)}:i4(e.endOfRunSummaryData)?{$case:"endOfRunSummaryData",value:il.fromJSON(e.endOfRunSummaryData)}:i4(e.stockImageData)?{$case:"stockImageData",value:iI.fromJSON(e.stockImageData)}:i4(e.searchIntegrationsData)?{$case:"searchIntegrationsData",value:iP.fromJSON(e.searchIntegrationsData)}:i4(e.viewIntegrationData)?{$case:"viewIntegrationData",value:iF.fromJSON(e.viewIntegrationData)}:i4(e.setupModelfarmData)?{$case:"setupModelfarmData",value:iL.fromJSON(e.setupModelfarmData)}:i4(e.viewLogsData)?{$case:"viewLogsData",value:iU.fromJSON(e.viewLogsData)}:i4(e.uiTestingSubagentTakeOverData)?{$case:"uiTestingSubagentTakeOverData",value:ig.fromJSON(e.uiTestingSubagentTakeOverData)}:i4(e.viewSpecialFiles)?{$case:"viewSpecialFiles",value:iM.fromJSON(e.viewSpecialFiles)}:i4(e.designGuidelinesData)?{$case:"designGuidelinesData",value:iJ.fromJSON(e.designGuidelinesData)}:i4(e.mcpToolData)?{$case:"mcpToolData",value:iH.fromJSON(e.mcpToolData)}:i4(e.alertData)?{$case:"alertData",value:iX.fromJSON(e.alertData)}:void 0}},toJSON:function(e){var n,t,r,a,i,o,s,l,u,c,d,f,p,h,m,v,g,b,y,w,_,S,A,k,C,Y,E,x,T,D,I,R,N,O,P,F,U,L,M,J,H,B,V,$,G,z,W,j,q,Z,K,Q,X,ee,en={};return""!==e.toolName&&(en.toolName=e.toolName),""!==e.planStepId&&(en.planStepId=e.planStepId),""!==e.message&&(en.message=e.message),(null==(n=e.toolData)?void 0:n.$case)==="shellExecutionData"?en.shellExecutionData=nv.toJSON(e.toolData.value):(null==(t=e.toolData)?void 0:t.$case)==="fileEditData"?en.fileEditData=ng.toJSON(e.toolData.value):(null==(r=e.toolData)?void 0:r.$case)==="createFileData"?en.createFileData=nb.toJSON(e.toolData.value):(null==(a=e.toolData)?void 0:a.$case)==="readFileData"?en.readFileData=ny.toJSON(e.toolData.value):(null==(i=e.toolData)?void 0:i.$case)==="packagerInstallData"?en.packagerInstallData=n_.toJSON(e.toolData.value):(null==(o=e.toolData)?void 0:o.$case)==="searchFilesystemData"?en.searchFilesystemData=nA.toJSON(e.toolData.value):(null==(s=e.toolData)?void 0:s.$case)==="messageData"?en.messageData=n0.toJSON(e.toolData.value):(null==(l=e.toolData)?void 0:l.$case)==="packagerUninstallData"?en.packagerUninstallData=nS.toJSON(e.toolData.value):(null==(u=e.toolData)?void 0:u.$case)==="screenshotData"?en.screenshotData=nx.toJSON(e.toolData.value):(null==(c=e.toolData)?void 0:c.$case)==="toolchainInstallData"?en.toolchainInstallData=nT.toJSON(e.toolData.value):(null==(d=e.toolData)?void 0:d.$case)==="workflowsGetOutputToolData"?en.workflowsGetOutputToolData=nD.toJSON(e.toolData.value):(null==(f=e.toolData)?void 0:f.$case)==="workflowsRemoveRunConfigToolData"?en.workflowsRemoveRunConfigToolData=nI.toJSON(e.toolData.value):(null==(p=e.toolData)?void 0:p.$case)==="workflowsRestartToolData"?en.workflowsRestartToolData=nR.toJSON(e.toolData.value):(null==(h=e.toolData)?void 0:h.$case)==="workflowsSetRunConfigToolData"?en.workflowsSetRunConfigToolData=nN.toJSON(e.toolData.value):(null==(m=e.toolData)?void 0:m.$case)==="workflowsStartToolData"?en.workflowsStartToolData=nO.toJSON(e.toolData.value):(null==(v=e.toolData)?void 0:v.$case)==="workflowsStopToolData"?en.workflowsStopToolData=nP.toJSON(e.toolData.value):(null==(g=e.toolData)?void 0:g.$case)==="planProgressData"?en.planProgressData=nz.toJSON(e.toolData.value):(null==(b=e.toolData)?void 0:b.$case)==="summarizeObjectiveData"?en.summarizeObjectiveData=nH.toJSON(e.toolData.value):(null==(y=e.toolData)?void 0:y.$case)==="presentResultsToolData"?en.presentResultsToolData=nU.toJSON(e.toolData.value):(null==(w=e.toolData)?void 0:w.$case)==="searchFileData"?en.searchFileData=nL.toJSON(e.toolData.value):(null==(_=e.toolData)?void 0:_.$case)==="systemDependencyInstallData"?en.systemDependencyInstallData=a5.toJSON(e.toolData.value):(null==(S=e.toolData)?void 0:S.$case)==="systemDependencyUninstallData"?en.systemDependencyUninstallData=a7.toJSON(e.toolData.value):(null==(A=e.toolData)?void 0:A.$case)==="deployData"?en.deployData=a8.toJSON(e.toolData.value):(null==(k=e.toolData)?void 0:k.$case)==="revertData"?en.revertData=a6.toJSON(e.toolData.value):(null==(C=e.toolData)?void 0:C.$case)==="deployConfigData"?en.deployConfigData=a9.toJSON(e.toolData.value):(null==(Y=e.toolData)?void 0:Y.$case)==="agentPlanStepBegin"?en.agentPlanStepBegin=nJ.toJSON(e.toolData.value):(null==(E=e.toolData)?void 0:E.$case)==="acknowledgeUserMessage"?en.acknowledgeUserMessage=ie.toJSON(e.toolData.value):(null==(x=e.toolData)?void 0:x.$case)==="createPostgresqlDatabaseData"?en.createPostgresqlDatabaseData=it.toJSON(e.toolData.value):(null==(T=e.toolData)?void 0:T.$case)==="sqlExecutionData"?en.sqlExecutionData=ir.toJSON(e.toolData.value):(null==(D=e.toolData)?void 0:D.$case)==="newSessionNudge"?en.newSessionNudge=ii.toJSON(e.toolData.value):(null==(I=e.toolData)?void 0:I.$case)==="commitData"?en.commitData=aN.toJSON(e.toolData.value):(null==(R=e.toolData)?void 0:R.$case)==="readDirData"?en.readDirData=nw.toJSON(e.toolData.value):(null==(N=e.toolData)?void 0:N.$case)==="thoughts"?en.thoughts=nB.toJSON(e.toolData.value):(null==(O=e.toolData)?void 0:O.$case)==="blueprintsSetup"?en.blueprintsSetup=nu.toJSON(e.toolData.value):(null==(P=e.toolData)?void 0:P.$case)==="webPageVisitData"?en.webPageVisitData=nE.toJSON(e.toolData.value):(null==(F=e.toolData)?void 0:F.$case)==="webSearchData"?en.webSearchData=nY.toJSON(e.toolData.value):(null==(U=e.toolData)?void 0:U.$case)==="imageGenerationData"?en.imageGenerationData=ia.toJSON(e.toolData.value):(null==(L=e.toolData)?void 0:L.$case)==="projectImportCompleted"?en.projectImportCompleted=e9.toJSON(e.toolData.value):(null==(M=e.toolData)?void 0:M.$case)==="memoryCompressionData"?en.memoryCompressionData=e8.toJSON(e.toolData.value):(null==(J=e.toolData)?void 0:J.$case)==="suggestRollbackData"?en.suggestRollbackData=nF.toJSON(e.toolData.value):(null==(H=e.toolData)?void 0:H.$case)==="taskListData"?en.taskListData=e6.toJSON(e.toolData.value):(null==(B=e.toolData)?void 0:B.$case)==="samplingEvent"?en.samplingEvent=i_.toJSON(e.toolData.value):(null==(V=e.toolData)?void 0:V.$case)==="setupObjectStorageData"?en.setupObjectStorageData=iY.toJSON(e.toolData.value):(null==($=e.toolData)?void 0:$.$case)==="endOfRunSummaryData"?en.endOfRunSummaryData=il.toJSON(e.toolData.value):(null==(G=e.toolData)?void 0:G.$case)==="stockImageData"?en.stockImageData=iI.toJSON(e.toolData.value):(null==(z=e.toolData)?void 0:z.$case)==="searchIntegrationsData"?en.searchIntegrationsData=iP.toJSON(e.toolData.value):(null==(W=e.toolData)?void 0:W.$case)==="viewIntegrationData"?en.viewIntegrationData=iF.toJSON(e.toolData.value):(null==(j=e.toolData)?void 0:j.$case)==="setupModelfarmData"?en.setupModelfarmData=iL.toJSON(e.toolData.value):(null==(q=e.toolData)?void 0:q.$case)==="viewLogsData"?en.viewLogsData=iU.toJSON(e.toolData.value):(null==(Z=e.toolData)?void 0:Z.$case)==="uiTestingSubagentTakeOverData"?en.uiTestingSubagentTakeOverData=ig.toJSON(e.toolData.value):(null==(K=e.toolData)?void 0:K.$case)==="viewSpecialFiles"?en.viewSpecialFiles=iM.toJSON(e.toolData.value):(null==(Q=e.toolData)?void 0:Q.$case)==="designGuidelinesData"?en.designGuidelinesData=iJ.toJSON(e.toolData.value):(null==(X=e.toolData)?void 0:X.$case)==="mcpToolData"?en.mcpToolData=iH.toJSON(e.toolData.value):(null==(ee=e.toolData)?void 0:ee.$case)==="alertData"&&(en.alertData=iX.toJSON(e.toolData.value)),en}};c.set(nM.$type,nM);var nJ={$type:"replit.ai.chat.AgentPlanStepBeginData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.planStep&&nl.encode(e.planStep,n.uint32(10).fork()).join(),void 0!==e.starts&&d.encode(i0(e.starts),n.uint32(18).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={planStep:void 0,starts:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.planStep=nl.decode(t,t.uint32());continue;case 2:if(18!==i)break;a.starts=i1(d.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nJ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nJ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nJ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nJ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{planStep:i4(e.planStep)?nl.fromJSON(e.planStep):void 0,starts:i4(e.starts)?i2(e.starts):void 0}},toJSON:function(e){var n={};return void 0!==e.planStep&&(n.planStep=nl.toJSON(e.planStep)),void 0!==e.starts&&(n.starts=e.starts.toISOString()),n}};c.set(nJ.$type,nJ);var nH={$type:"replit.ai.chat.SummarizeObjectiveData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.summarizedObjective&&n.uint32(10).string(e.summarizedObjective),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={summarizedObjective:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.summarizedObjective=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nH.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nH.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nH.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nH.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{summarizedObjective:i4(e.summarizedObjective)?globalThis.String(e.summarizedObjective):""}},toJSON:function(e){var n={};return""!==e.summarizedObjective&&(n.summarizedObjective=e.summarizedObjective),n}};c.set(nH.$type,nH);var nB={$type:"replit.ai.chat.AgentThoughtsData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.thoughts&&n.uint32(10).string(e.thoughts);var t=!0,r=!1,a=void 0;try{for(var i,o=e.redactedThoughtsMarkers[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;nV.encode(s,n.uint32(18).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return 0!==e.totalTimeTakenMs&&n.uint32(24).int64(e.totalTimeTakenMs),""!==e.summary&&n.uint32(34).string(e.summary),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={thoughts:"",redactedThoughtsMarkers:[],totalTimeTakenMs:0,summary:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.thoughts=t.string();continue;case 2:if(18!==i)break;a.redactedThoughtsMarkers.push(nV.decode(t,t.uint32()));continue;case 3:if(24!==i)break;a.totalTimeTakenMs=i3(t.int64());continue;case 4:if(34!==i)break;a.summary=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nB.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nB.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nB.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nB.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{thoughts:i4(e.thoughts)?globalThis.String(e.thoughts):"",redactedThoughtsMarkers:globalThis.Array.isArray(null==e?void 0:e.redactedThoughtsMarkers)?e.redactedThoughtsMarkers.map(function(e){return nV.fromJSON(e)}):[],totalTimeTakenMs:i4(e.totalTimeTakenMs)?globalThis.Number(e.totalTimeTakenMs):0,summary:i4(e.summary)?globalThis.String(e.summary):""}},toJSON:function(e){var n,t={};return""!==e.thoughts&&(t.thoughts=e.thoughts),(null==(n=e.redactedThoughtsMarkers)?void 0:n.length)&&(t.redactedThoughtsMarkers=e.redactedThoughtsMarkers.map(function(e){return nV.toJSON(e)})),0!==e.totalTimeTakenMs&&(t.totalTimeTakenMs=Math.round(e.totalTimeTakenMs)),""!==e.summary&&(t.summary=e.summary),t}};c.set(nB.$type,nB);var nV={$type:"replit.ai.chat.RedactedThoughtsMarker",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.index&&n.uint32(8).int32(e.index),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={index:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.index=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nV.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nV.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nV.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nV.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{index:i4(e.index)?globalThis.Number(e.index):0}},toJSON:function(e){var n={};return 0!==e.index&&(n.index=Math.round(e.index)),n}};c.set(nV.$type,nV);var n$={$type:"replit.ai.chat.RapidBuildConcludedData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return!1!==e.willContinueWorking&&n.uint32(8).bool(e.willContinueWorking),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={willContinueWorking:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.willContinueWorking=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n$.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n$.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n$.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n$.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{willContinueWorking:!!i4(e.willContinueWorking)&&globalThis.Boolean(e.willContinueWorking)}},toJSON:function(e){var n={};return!1!==e.willContinueWorking&&(n.willContinueWorking=e.willContinueWorking),n}};c.set(n$.$type,n$);var nG={$type:"replit.ai.chat.VersionMigratedData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.version&&n.uint32(8).int32(e.version),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={version:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.version=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nG.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nG.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nG.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nG.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{version:i4(e.version)?globalThis.Number(e.version):0}},toJSON:function(e){var n={};return 0!==e.version&&(n.version=Math.round(e.version)),n}};c.set(nG.$type,nG);var nz={$type:"replit.ai.chat.PlanProgressData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.updatedPlanStep&&nl.encode(e.updatedPlanStep,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={updatedPlanStep:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.updatedPlanStep=nl.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nz.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nz.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nz.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nz.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{updatedPlanStep:i4(e.updatedPlanStep)?nl.fromJSON(e.updatedPlanStep):void 0}},toJSON:function(e){var n={};return void 0!==e.updatedPlanStep&&(n.updatedPlanStep=nl.toJSON(e.updatedPlanStep)),n}};c.set(nz.$type,nz);var nW={$type:"replit.ai.chat.BenchmarkConclusionEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.completionReason&&n.uint32(8).int32(e.completionReason),0!==e.steps&&n.uint32(16).int32(e.steps),""!==e.exception&&n.uint32(26).string(e.exception),""!==e.datasetId&&n.uint32(34).string(e.datasetId),""!==e.instanceId&&n.uint32(42).string(e.instanceId),""!==e.runId&&n.uint32(50).string(e.runId),void 0!==e.metrics&&nj.encode(e.metrics,n.uint32(58).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={completionReason:0,steps:0,exception:"",datasetId:"",instanceId:"",runId:"",metrics:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.completionReason=t.int32();continue;case 2:if(16!==i)break;a.steps=t.int32();continue;case 3:if(26!==i)break;a.exception=t.string();continue;case 4:if(34!==i)break;a.datasetId=t.string();continue;case 5:if(42!==i)break;a.instanceId=t.string();continue;case 6:if(50!==i)break;a.runId=t.string();continue;case 7:if(58!==i)break;a.metrics=nj.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nW.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nW.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nW.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nW.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{completionReason:i4(e.completionReason)?function(e){switch(e){case 0:case"BENCHMARK_CONCLUSION_REASON_UNKNOWN":return A.Bd.UNKNOWN;case 1:case"SUCCESSFUL":return A.Bd.SUCCESSFUL;case 2:case"RECURSION_LIMIT_REACHED":return A.Bd.RECURSION_LIMIT_REACHED;case 3:case"EXCEPTION":return A.Bd.EXCEPTION;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum BenchmarkConclusionReason")}}(e.completionReason):0,steps:i4(e.steps)?globalThis.Number(e.steps):0,exception:i4(e.exception)?globalThis.String(e.exception):"",datasetId:i4(e.datasetId)?globalThis.String(e.datasetId):"",instanceId:i4(e.instanceId)?globalThis.String(e.instanceId):"",runId:i4(e.runId)?globalThis.String(e.runId):"",metrics:i4(e.metrics)?nj.fromJSON(e.metrics):void 0}},toJSON:function(e){var n={};return 0!==e.completionReason&&(n.completionReason=function(e){switch(e){case A.Bd.UNKNOWN:return"BENCHMARK_CONCLUSION_REASON_UNKNOWN";case A.Bd.SUCCESSFUL:return"SUCCESSFUL";case A.Bd.RECURSION_LIMIT_REACHED:return"RECURSION_LIMIT_REACHED";case A.Bd.EXCEPTION:return"EXCEPTION";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum BenchmarkConclusionReason")}}(e.completionReason)),0!==e.steps&&(n.steps=Math.round(e.steps)),""!==e.exception&&(n.exception=e.exception),""!==e.datasetId&&(n.datasetId=e.datasetId),""!==e.instanceId&&(n.instanceId=e.instanceId),""!==e.runId&&(n.runId=e.runId),void 0!==e.metrics&&(n.metrics=nj.toJSON(e.metrics)),n}};c.set(nW.$type,nW);var nj={$type:"replit.ai.chat.BenchmarkMetrics",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.increment[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;nq.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.decrement[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;nq.encode(h,n.uint32(18).fork()).join()}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}var m=!0,v=!1,g=void 0;try{for(var b,y=e.gauge[Symbol.iterator]();!(m=(b=y.next()).done);m=!0){var w=b.value;nq.encode(w,n.uint32(26).fork()).join()}}catch(e){v=!0,g=e}finally{try{m||null==y.return||y.return()}finally{if(v)throw g}}var _=!0,S=!1,A=void 0;try{for(var k,C=e.histogram[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){var Y=k.value;nq.encode(Y,n.uint32(34).fork()).join()}}catch(e){S=!0,A=e}finally{try{_||null==C.return||C.return()}finally{if(S)throw A}}var E=!0,x=!1,T=void 0;try{for(var D,I=e.distribution[Symbol.iterator]();!(E=(D=I.next()).done);E=!0){var R=D.value;nq.encode(R,n.uint32(42).fork()).join()}}catch(e){x=!0,T=e}finally{try{E||null==I.return||I.return()}finally{if(x)throw T}}var N=!0,O=!1,P=void 0;try{for(var F,U=e.timing[Symbol.iterator]();!(N=(F=U.next()).done);N=!0){var L=F.value;nq.encode(L,n.uint32(50).fork()).join()}}catch(e){O=!0,P=e}finally{try{N||null==U.return||U.return()}finally{if(O)throw P}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={increment:[],decrement:[],gauge:[],histogram:[],distribution:[],timing:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.increment.push(nq.decode(t,t.uint32()));continue;case 2:if(18!==i)break;a.decrement.push(nq.decode(t,t.uint32()));continue;case 3:if(26!==i)break;a.gauge.push(nq.decode(t,t.uint32()));continue;case 4:if(34!==i)break;a.histogram.push(nq.decode(t,t.uint32()));continue;case 5:if(42!==i)break;a.distribution.push(nq.decode(t,t.uint32()));continue;case 6:if(50!==i)break;a.timing.push(nq.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nj.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nj.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nj.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nj.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{increment:globalThis.Array.isArray(null==e?void 0:e.increment)?e.increment.map(function(e){return nq.fromJSON(e)}):[],decrement:globalThis.Array.isArray(null==e?void 0:e.decrement)?e.decrement.map(function(e){return nq.fromJSON(e)}):[],gauge:globalThis.Array.isArray(null==e?void 0:e.gauge)?e.gauge.map(function(e){return nq.fromJSON(e)}):[],histogram:globalThis.Array.isArray(null==e?void 0:e.histogram)?e.histogram.map(function(e){return nq.fromJSON(e)}):[],distribution:globalThis.Array.isArray(null==e?void 0:e.distribution)?e.distribution.map(function(e){return nq.fromJSON(e)}):[],timing:globalThis.Array.isArray(null==e?void 0:e.timing)?e.timing.map(function(e){return nq.fromJSON(e)}):[]}},toJSON:function(e){var n,t,r,a,i,o,s={};return(null==(n=e.increment)?void 0:n.length)&&(s.increment=e.increment.map(function(e){return nq.toJSON(e)})),(null==(t=e.decrement)?void 0:t.length)&&(s.decrement=e.decrement.map(function(e){return nq.toJSON(e)})),(null==(r=e.gauge)?void 0:r.length)&&(s.gauge=e.gauge.map(function(e){return nq.toJSON(e)})),(null==(a=e.histogram)?void 0:a.length)&&(s.histogram=e.histogram.map(function(e){return nq.toJSON(e)})),(null==(i=e.distribution)?void 0:i.length)&&(s.distribution=e.distribution.map(function(e){return nq.toJSON(e)})),(null==(o=e.timing)?void 0:o.length)&&(s.timing=e.timing.map(function(e){return nq.toJSON(e)})),s}};c.set(nj.$type,nj);var nq={$type:"replit.ai.chat.Metric",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.name&&n.uint32(10).string(e.name);var t=!0,r=!1,a=void 0;try{for(var i,o=e.metrics[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;nZ.encode(s,n.uint32(18).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={name:"",metrics:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.name=t.string();continue;case 2:if(18!==i)break;a.metrics.push(nZ.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nq.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nq.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nq.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nq.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{name:i4(e.name)?globalThis.String(e.name):"",metrics:globalThis.Array.isArray(null==e?void 0:e.metrics)?e.metrics.map(function(e){return nZ.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return""!==e.name&&(t.name=e.name),(null==(n=e.metrics)?void 0:n.length)&&(t.metrics=e.metrics.map(function(e){return nZ.toJSON(e)})),t}};c.set(nq.$type,nq);var nZ={$type:"replit.ai.chat.MetricByTag",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.tags[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(10).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}n.uint32(18).fork();var l=!0,c=!1,d=void 0;try{for(var f,p=e.values[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;n.float(h)}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}return n.join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={tags:[],values:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.tags.push(t.string());continue;case 2:if(21===i){a.values.push(t.float());continue}if(18===i){for(var s=t.uint32()+t.pos;t.pos<s;)a.values.push(t.float());continue}}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nZ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nZ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nZ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nZ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{tags:globalThis.Array.isArray(null==e?void 0:e.tags)?e.tags.map(function(e){return globalThis.String(e)}):[],values:globalThis.Array.isArray(null==e?void 0:e.values)?e.values.map(function(e){return globalThis.Number(e)}):[]}},toJSON:function(e){var n,t,r={};return(null==(n=e.tags)?void 0:n.length)&&(r.tags=e.tags),(null==(t=e.values)?void 0:t.length)&&(r.values=e.values),r}};c.set(nZ.$type,nZ);var nK={$type:"replit.ai.chat.AgentTimelineEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nK.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nK.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nK.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nK.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(nK.$type,nK);var nQ={$type:"replit.ai.chat.Range",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.indexFrom&&n.uint32(8).int32(e.indexFrom),0!==e.indexTo&&n.uint32(16).int32(e.indexTo),0!==e.lineFrom&&n.uint32(24).int32(e.lineFrom),0!==e.lineTo&&n.uint32(32).int32(e.lineTo),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={indexFrom:0,indexTo:0,lineFrom:0,lineTo:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.indexFrom=t.int32();continue;case 2:if(16!==i)break;a.indexTo=t.int32();continue;case 3:if(24!==i)break;a.lineFrom=t.int32();continue;case 4:if(32!==i)break;a.lineTo=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nQ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nQ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nQ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nQ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{indexFrom:i4(e.indexFrom)?globalThis.Number(e.indexFrom):0,indexTo:i4(e.indexTo)?globalThis.Number(e.indexTo):0,lineFrom:i4(e.lineFrom)?globalThis.Number(e.lineFrom):0,lineTo:i4(e.lineTo)?globalThis.Number(e.lineTo):0}},toJSON:function(e){var n={};return 0!==e.indexFrom&&(n.indexFrom=Math.round(e.indexFrom)),0!==e.indexTo&&(n.indexTo=Math.round(e.indexTo)),0!==e.lineFrom&&(n.lineFrom=Math.round(e.lineFrom)),0!==e.lineTo&&(n.lineTo=Math.round(e.lineTo)),n}};c.set(nQ.$type,nQ);var nX={$type:"replit.ai.chat.CodeReference",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.code&&n.uint32(10).string(e.code),""!==e.filePath&&n.uint32(18).string(e.filePath),0!==e.fileVersion&&n.uint32(24).int32(e.fileVersion),""!==e.fileContent&&n.uint32(34).string(e.fileContent),void 0!==e.range&&nQ.encode(e.range,n.uint32(42).fork()).join(),""!==e.language&&n.uint32(50).string(e.language),0!==e.referenceType&&n.uint32(56).int32(e.referenceType),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={code:"",filePath:"",fileVersion:0,fileContent:"",range:void 0,language:"",referenceType:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.code=t.string();continue;case 2:if(18!==i)break;a.filePath=t.string();continue;case 3:if(24!==i)break;a.fileVersion=t.int32();continue;case 4:if(34!==i)break;a.fileContent=t.string();continue;case 5:if(42!==i)break;a.range=nQ.decode(t,t.uint32());continue;case 6:if(50!==i)break;a.language=t.string();continue;case 7:if(56!==i)break;a.referenceType=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nX.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nX.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([nX.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([nX.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{code:i4(e.code)?globalThis.String(e.code):"",filePath:i4(e.filePath)?globalThis.String(e.filePath):"",fileVersion:i4(e.fileVersion)?globalThis.Number(e.fileVersion):0,fileContent:i4(e.fileContent)?globalThis.String(e.fileContent):"",range:i4(e.range)?nQ.fromJSON(e.range):void 0,language:i4(e.language)?globalThis.String(e.language):"",referenceType:i4(e.referenceType)?function(e){switch(e){case 0:case"CODE_REFERENCE_TYPE_UNKNOWN":return A.fD.UNKNOWN;case 1:case"FILE":return A.fD.FILE;case 2:case"INLINE":return A.fD.INLINE;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CodeReferenceType")}}(e.referenceType):0}},toJSON:function(e){var n={};return""!==e.code&&(n.code=e.code),""!==e.filePath&&(n.filePath=e.filePath),0!==e.fileVersion&&(n.fileVersion=Math.round(e.fileVersion)),""!==e.fileContent&&(n.fileContent=e.fileContent),void 0!==e.range&&(n.range=nQ.toJSON(e.range)),""!==e.language&&(n.language=e.language),0!==e.referenceType&&(n.referenceType=function(e){switch(e){case A.fD.UNKNOWN:return"CODE_REFERENCE_TYPE_UNKNOWN";case A.fD.FILE:return"FILE";case A.fD.INLINE:return"INLINE";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CodeReferenceType")}}(e.referenceType)),n}};c.set(nX.$type,nX);var n0={$type:"replit.ai.chat.MessageEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.content&&n.uint32(18).string(e.content),0!==e.intent&&n.uint32(24).int32(e.intent),0!==e.stopReason&&n.uint32(32).int32(e.stopReason),""!==e.debugFullPrompt&&n.uint32(42).string(e.debugFullPrompt),void 0!==e.codeReference&&nX.encode(e.codeReference,n.uint32(50).fork()).join(),0!==e.debugErrorSource&&n.uint32(56).int32(e.debugErrorSource);var t=!0,r=!1,a=void 0;try{for(var i,o,s=e.media[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var l=o.value;tI.encode(l,n.uint32(66).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw a}}void 0!==e.usedModelSelector&&tT.encode(e.usedModelSelector,n.uint32(74).fork()).join();var c=!0,d=!1,f=void 0;try{for(var p,h=e.sources[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=p.value;tw.encode(m,n.uint32(82).fork()).join()}}catch(e){d=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(d)throw f}}switch(null==(i=e.extraActions)?void 0:i.$case){case"suggestedTemplates":tc.encode(e.extraActions.value,n.uint32(90).fork()).join();break;case"proposedFileChanges":tf.encode(e.extraActions.value,n.uint32(138).fork()).join()}!1!==e.benchmarkMode&&n.uint32(96).bool(e.benchmarkMode),void 0!==e.benchmarkParameters&&tu.encode(e.benchmarkParameters,n.uint32(106).fork()).join(),void 0!==e.agentAction&&eR.encode(e.agentAction,n.uint32(114).fork()).join();var v=!0,g=!1,b=void 0;try{for(var y,w=e.uploadedFiles[Symbol.iterator]();!(v=(y=w.next()).done);v=!0){var _=y.value;ts.encode(_,n.uint32(122).fork()).join()}}catch(e){g=!0,b=e}finally{try{v||null==w.return||w.return()}finally{if(g)throw b}}var S=!0,A=!1,k=void 0;try{for(var C,Y=e.attachedUrls[Symbol.iterator]();!(S=(C=Y.next()).done);S=!0){var E=C.value;to.encode(E,n.uint32(154).fork()).join()}}catch(e){A=!0,k=e}finally{try{S||null==Y.return||Y.return()}finally{if(A)throw k}}return""!==e.commitId&&n.uint32(130).string(e.commitId),0!==e.lastSeenWebviewLogTimestamp&&n.uint32(149).float(e.lastSeenWebviewLogTimestamp),void 0!==e.assistantProposedActions&&tn.encode(e.assistantProposedActions,n.uint32(162).fork()).join(),void 0!==e.ragContext&&te.encode(e.ragContext,n.uint32(170).fork()).join(),void 0!==e.attachedForm&&n3.encode(e.attachedForm,n.uint32(178).fork()).join(),!1!==e.enableDeepThinking&&n.uint32(184).bool(e.enableDeepThinking),void 0!==e.targetedElement&&n1.encode(e.targetedElement,n.uint32(194).fork()).join(),0!==e.requestedStackBlueprint&&n.uint32(200).int32(e.requestedStackBlueprint),!1!==e.quickEdit&&n.uint32(208).bool(e.quickEdit),void 0!==e.agentConfig&&tR.encode(e.agentConfig,n.uint32(218).fork()).join(),""!==e.customStackReplId&&n.uint32(226).string(e.customStackReplId),""!==e.themeConfig&&n.uint32(234).string(e.themeConfig),0!==e.agentStackTriggerType&&n.uint32(240).int32(e.agentStackTriggerType),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={content:"",intent:0,stopReason:0,debugFullPrompt:"",codeReference:void 0,debugErrorSource:0,media:[],usedModelSelector:void 0,sources:[],extraActions:void 0,benchmarkMode:!1,benchmarkParameters:void 0,agentAction:void 0,uploadedFiles:[],attachedUrls:[],commitId:"",lastSeenWebviewLogTimestamp:0,assistantProposedActions:void 0,ragContext:void 0,attachedForm:void 0,enableDeepThinking:!1,targetedElement:void 0,requestedStackBlueprint:0,quickEdit:!1,agentConfig:void 0,customStackReplId:"",themeConfig:"",agentStackTriggerType:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 2:if(18!==i)break;a.content=t.string();continue;case 3:if(24!==i)break;a.intent=t.int32();continue;case 4:if(32!==i)break;a.stopReason=t.int32();continue;case 5:if(42!==i)break;a.debugFullPrompt=t.string();continue;case 6:if(50!==i)break;a.codeReference=nX.decode(t,t.uint32());continue;case 7:if(56!==i)break;a.debugErrorSource=t.int32();continue;case 8:if(66!==i)break;a.media.push(tI.decode(t,t.uint32()));continue;case 9:if(74!==i)break;a.usedModelSelector=tT.decode(t,t.uint32());continue;case 10:if(82!==i)break;a.sources.push(tw.decode(t,t.uint32()));continue;case 11:if(90!==i)break;a.extraActions={$case:"suggestedTemplates",value:tc.decode(t,t.uint32())};continue;case 17:if(138!==i)break;a.extraActions={$case:"proposedFileChanges",value:tf.decode(t,t.uint32())};continue;case 12:if(96!==i)break;a.benchmarkMode=t.bool();continue;case 13:if(106!==i)break;a.benchmarkParameters=tu.decode(t,t.uint32());continue;case 14:if(114!==i)break;a.agentAction=eR.decode(t,t.uint32());continue;case 15:if(122!==i)break;a.uploadedFiles.push(ts.decode(t,t.uint32()));continue;case 19:if(154!==i)break;a.attachedUrls.push(to.decode(t,t.uint32()));continue;case 16:if(130!==i)break;a.commitId=t.string();continue;case 18:if(149!==i)break;a.lastSeenWebviewLogTimestamp=t.float();continue;case 20:if(162!==i)break;a.assistantProposedActions=tn.decode(t,t.uint32());continue;case 21:if(170!==i)break;a.ragContext=te.decode(t,t.uint32());continue;case 22:if(178!==i)break;a.attachedForm=n3.decode(t,t.uint32());continue;case 23:if(184!==i)break;a.enableDeepThinking=t.bool();continue;case 24:if(194!==i)break;a.targetedElement=n1.decode(t,t.uint32());continue;case 25:if(200!==i)break;a.requestedStackBlueprint=t.int32();continue;case 26:if(208!==i)break;a.quickEdit=t.bool();continue;case 27:if(218!==i)break;a.agentConfig=tR.decode(t,t.uint32());continue;case 28:if(226!==i)break;a.customStackReplId=t.string();continue;case 29:if(234!==i)break;a.themeConfig=t.string();continue;case 30:if(240!==i)break;a.agentStackTriggerType=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n0.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n0.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n0.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n0.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{content:i4(e.content)?globalThis.String(e.content):"",intent:i4(e.intent)?J(e.intent):0,stopReason:i4(e.stopReason)?function(e){switch(e){case 0:case"MESSAGE_STOP_REASON_UNKNOWN":return A.Ar.UNKNOWN;case 1:case"MAX_TOKENS":return A.Ar.MAX_TOKENS;case 2:case"STOP_TOKEN":return A.Ar.STOP_TOKEN;case 3:case"SAFETY":return A.Ar.SAFETY;case 4:case"RECITATION":return A.Ar.RECITATION;case 5:case"TOOL_CALLS":return A.Ar.TOOL_CALLS;case 6:case"CONTENT_FILTER":return A.Ar.CONTENT_FILTER;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum MessageStopReason")}}(e.stopReason):0,debugFullPrompt:i4(e.debugFullPrompt)?globalThis.String(e.debugFullPrompt):"",codeReference:i4(e.codeReference)?nX.fromJSON(e.codeReference):void 0,debugErrorSource:i4(e.debugErrorSource)?O(e.debugErrorSource):0,media:globalThis.Array.isArray(null==e?void 0:e.media)?e.media.map(function(e){return tI.fromJSON(e)}):[],usedModelSelector:i4(e.usedModelSelector)?tT.fromJSON(e.usedModelSelector):void 0,sources:globalThis.Array.isArray(null==e?void 0:e.sources)?e.sources.map(function(e){return tw.fromJSON(e)}):[],extraActions:i4(e.suggestedTemplates)?{$case:"suggestedTemplates",value:tc.fromJSON(e.suggestedTemplates)}:i4(e.proposedFileChanges)?{$case:"proposedFileChanges",value:tf.fromJSON(e.proposedFileChanges)}:void 0,benchmarkMode:!!i4(e.benchmarkMode)&&globalThis.Boolean(e.benchmarkMode),benchmarkParameters:i4(e.benchmarkParameters)?tu.fromJSON(e.benchmarkParameters):void 0,agentAction:i4(e.agentAction)?eR.fromJSON(e.agentAction):void 0,uploadedFiles:globalThis.Array.isArray(null==e?void 0:e.uploadedFiles)?e.uploadedFiles.map(function(e){return ts.fromJSON(e)}):[],attachedUrls:globalThis.Array.isArray(null==e?void 0:e.attachedUrls)?e.attachedUrls.map(function(e){return to.fromJSON(e)}):[],commitId:i4(e.commitId)?globalThis.String(e.commitId):"",lastSeenWebviewLogTimestamp:i4(e.lastSeenWebviewLogTimestamp)?globalThis.Number(e.lastSeenWebviewLogTimestamp):0,assistantProposedActions:i4(e.assistantProposedActions)?tn.fromJSON(e.assistantProposedActions):void 0,ragContext:i4(e.ragContext)?te.fromJSON(e.ragContext):void 0,attachedForm:i4(e.attachedForm)?n3.fromJSON(e.attachedForm):void 0,enableDeepThinking:!!i4(e.enableDeepThinking)&&globalThis.Boolean(e.enableDeepThinking),targetedElement:i4(e.targetedElement)?n1.fromJSON(e.targetedElement):void 0,requestedStackBlueprint:i4(e.requestedStackBlueprint)?x(e.requestedStackBlueprint):0,quickEdit:!!i4(e.quickEdit)&&globalThis.Boolean(e.quickEdit),agentConfig:i4(e.agentConfig)?tR.fromJSON(e.agentConfig):void 0,customStackReplId:i4(e.customStackReplId)?globalThis.String(e.customStackReplId):"",themeConfig:i4(e.themeConfig)?globalThis.String(e.themeConfig):"",agentStackTriggerType:i4(e.agentStackTriggerType)?D(e.agentStackTriggerType):0}},toJSON:function(e){var n,t,r,a,i,o,s={};return""!==e.content&&(s.content=e.content),0!==e.intent&&(s.intent=H(e.intent)),0!==e.stopReason&&(s.stopReason=function(e){switch(e){case A.Ar.UNKNOWN:return"MESSAGE_STOP_REASON_UNKNOWN";case A.Ar.MAX_TOKENS:return"MAX_TOKENS";case A.Ar.STOP_TOKEN:return"STOP_TOKEN";case A.Ar.SAFETY:return"SAFETY";case A.Ar.RECITATION:return"RECITATION";case A.Ar.TOOL_CALLS:return"TOOL_CALLS";case A.Ar.CONTENT_FILTER:return"CONTENT_FILTER";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum MessageStopReason")}}(e.stopReason)),""!==e.debugFullPrompt&&(s.debugFullPrompt=e.debugFullPrompt),void 0!==e.codeReference&&(s.codeReference=nX.toJSON(e.codeReference)),0!==e.debugErrorSource&&(s.debugErrorSource=P(e.debugErrorSource)),(null==(n=e.media)?void 0:n.length)&&(s.media=e.media.map(function(e){return tI.toJSON(e)})),void 0!==e.usedModelSelector&&(s.usedModelSelector=tT.toJSON(e.usedModelSelector)),(null==(t=e.sources)?void 0:t.length)&&(s.sources=e.sources.map(function(e){return tw.toJSON(e)})),(null==(r=e.extraActions)?void 0:r.$case)==="suggestedTemplates"?s.suggestedTemplates=tc.toJSON(e.extraActions.value):(null==(a=e.extraActions)?void 0:a.$case)==="proposedFileChanges"&&(s.proposedFileChanges=tf.toJSON(e.extraActions.value)),!1!==e.benchmarkMode&&(s.benchmarkMode=e.benchmarkMode),void 0!==e.benchmarkParameters&&(s.benchmarkParameters=tu.toJSON(e.benchmarkParameters)),void 0!==e.agentAction&&(s.agentAction=eR.toJSON(e.agentAction)),(null==(i=e.uploadedFiles)?void 0:i.length)&&(s.uploadedFiles=e.uploadedFiles.map(function(e){return ts.toJSON(e)})),(null==(o=e.attachedUrls)?void 0:o.length)&&(s.attachedUrls=e.attachedUrls.map(function(e){return to.toJSON(e)})),""!==e.commitId&&(s.commitId=e.commitId),0!==e.lastSeenWebviewLogTimestamp&&(s.lastSeenWebviewLogTimestamp=e.lastSeenWebviewLogTimestamp),void 0!==e.assistantProposedActions&&(s.assistantProposedActions=tn.toJSON(e.assistantProposedActions)),void 0!==e.ragContext&&(s.ragContext=te.toJSON(e.ragContext)),void 0!==e.attachedForm&&(s.attachedForm=n3.toJSON(e.attachedForm)),!1!==e.enableDeepThinking&&(s.enableDeepThinking=e.enableDeepThinking),void 0!==e.targetedElement&&(s.targetedElement=n1.toJSON(e.targetedElement)),0!==e.requestedStackBlueprint&&(s.requestedStackBlueprint=T(e.requestedStackBlueprint)),!1!==e.quickEdit&&(s.quickEdit=e.quickEdit),void 0!==e.agentConfig&&(s.agentConfig=tR.toJSON(e.agentConfig)),""!==e.customStackReplId&&(s.customStackReplId=e.customStackReplId),""!==e.themeConfig&&(s.themeConfig=e.themeConfig),0!==e.agentStackTriggerType&&(s.agentStackTriggerType=I(e.agentStackTriggerType)),s}};c.set(n0.$type,n0);var n1={$type:"replit.ai.chat.TargetedElement",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.filePath&&n.uint32(10).string(e.filePath),0!==e.lineNumber&&n.uint32(16).int32(e.lineNumber),""!==e.componentName&&n.uint32(26).string(e.componentName),""!==e.textContent&&n.uint32(34).string(e.textContent),""!==e.imageSourceUrl&&n.uint32(42).string(e.imageSourceUrl),!1!==e.hasChildElements&&n.uint32(48).bool(e.hasChildElements),0!==e.siblingCount&&n.uint32(56).int32(e.siblingCount),void 0!==e.parent&&n2.encode(e.parent,n.uint32(66).fork()).join(),void 0!==e.nextSibling&&n2.encode(e.nextSibling,n.uint32(74).fork()).join(),void 0!==e.grandparent&&n2.encode(e.grandparent,n.uint32(82).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={filePath:"",lineNumber:0,componentName:"",textContent:"",imageSourceUrl:"",hasChildElements:!1,siblingCount:0,parent:void 0,nextSibling:void 0,grandparent:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.filePath=t.string();continue;case 2:if(16!==i)break;a.lineNumber=t.int32();continue;case 3:if(26!==i)break;a.componentName=t.string();continue;case 4:if(34!==i)break;a.textContent=t.string();continue;case 5:if(42!==i)break;a.imageSourceUrl=t.string();continue;case 6:if(48!==i)break;a.hasChildElements=t.bool();continue;case 7:if(56!==i)break;a.siblingCount=t.int32();continue;case 8:if(66!==i)break;a.parent=n2.decode(t,t.uint32());continue;case 9:if(74!==i)break;a.nextSibling=n2.decode(t,t.uint32());continue;case 10:if(82!==i)break;a.grandparent=n2.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n1.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n1.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n1.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n1.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{filePath:i4(e.filePath)?globalThis.String(e.filePath):"",lineNumber:i4(e.lineNumber)?globalThis.Number(e.lineNumber):0,componentName:i4(e.componentName)?globalThis.String(e.componentName):"",textContent:i4(e.textContent)?globalThis.String(e.textContent):"",imageSourceUrl:i4(e.imageSourceUrl)?globalThis.String(e.imageSourceUrl):"",hasChildElements:!!i4(e.hasChildElements)&&globalThis.Boolean(e.hasChildElements),siblingCount:i4(e.siblingCount)?globalThis.Number(e.siblingCount):0,parent:i4(e.parent)?n2.fromJSON(e.parent):void 0,nextSibling:i4(e.nextSibling)?n2.fromJSON(e.nextSibling):void 0,grandparent:i4(e.grandparent)?n2.fromJSON(e.grandparent):void 0}},toJSON:function(e){var n={};return""!==e.filePath&&(n.filePath=e.filePath),0!==e.lineNumber&&(n.lineNumber=Math.round(e.lineNumber)),""!==e.componentName&&(n.componentName=e.componentName),""!==e.textContent&&(n.textContent=e.textContent),""!==e.imageSourceUrl&&(n.imageSourceUrl=e.imageSourceUrl),!1!==e.hasChildElements&&(n.hasChildElements=e.hasChildElements),0!==e.siblingCount&&(n.siblingCount=Math.round(e.siblingCount)),void 0!==e.parent&&(n.parent=n2.toJSON(e.parent)),void 0!==e.nextSibling&&(n.nextSibling=n2.toJSON(e.nextSibling)),void 0!==e.grandparent&&(n.grandparent=n2.toJSON(e.grandparent)),n}};c.set(n1.$type,n1);var n2={$type:"replit.ai.chat.RelatedElement",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.tagName&&n.uint32(10).string(e.tagName),""!==e.className&&n.uint32(18).string(e.className),""!==e.textContent&&n.uint32(26).string(e.textContent),""!==e.id&&n.uint32(34).string(e.id),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={tagName:"",className:"",textContent:"",id:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.tagName=t.string();continue;case 2:if(18!==i)break;a.className=t.string();continue;case 3:if(26!==i)break;a.textContent=t.string();continue;case 4:if(34!==i)break;a.id=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n2.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n2.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n2.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n2.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{tagName:i4(e.tagName)?globalThis.String(e.tagName):"",className:i4(e.className)?globalThis.String(e.className):"",textContent:i4(e.textContent)?globalThis.String(e.textContent):"",id:i4(e.id)?globalThis.String(e.id):""}},toJSON:function(e){var n={};return""!==e.tagName&&(n.tagName=e.tagName),""!==e.className&&(n.className=e.className),""!==e.textContent&&(n.textContent=e.textContent),""!==e.id&&(n.id=e.id),n}};c.set(n2.$type,n2);var n3={$type:"replit.ai.chat.AttachedForm",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;0!==e.formType&&n.uint32(8).int32(e.formType);var t=!0,r=!1,a=void 0;try{for(var i,o=e.fields[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n4.encode(s,n.uint32(18).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={formType:0,fields:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.formType=t.int32();continue;case 2:if(18!==i)break;a.fields.push(n4.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n3.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n3.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n3.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n3.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{formType:i4(e.formType)?function(e){switch(e){case 0:case"ATTACHED_FORM_TYPE_UNKNOWN":return A.B7.UNKNOWN;case 1:case"ATTACHED_FORM_TYPE_REPL_CREATION_V1":return A.B7.REPL_CREATION_V1;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AttachedFormType")}}(e.formType):0,fields:globalThis.Array.isArray(null==e?void 0:e.fields)?e.fields.map(function(e){return n4.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return 0!==e.formType&&(t.formType=function(e){switch(e){case A.B7.UNKNOWN:return"ATTACHED_FORM_TYPE_UNKNOWN";case A.B7.REPL_CREATION_V1:return"ATTACHED_FORM_TYPE_REPL_CREATION_V1";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AttachedFormType")}}(e.formType)),(null==(n=e.fields)?void 0:n.length)&&(t.fields=e.fields.map(function(e){return n4.toJSON(e)})),t}};c.set(n3.$type,n3);var n4={$type:"replit.ai.chat.AttachedFormField",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(""!==e.path&&t.uint32(10).string(e.path),null==(n=e.formType)?void 0:n.$case){case"string":n5.encode(e.formType.value,t.uint32(18).fork()).join();break;case"files":n7.encode(e.formType.value,t.uint32(26).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={path:"",formType:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.path=t.string();continue;case 2:if(18!==i)break;a.formType={$case:"string",value:n5.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.formType={$case:"files",value:n7.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n4.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n4.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n4.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n4.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{path:i4(e.path)?globalThis.String(e.path):"",formType:i4(e.string)?{$case:"string",value:n5.fromJSON(e.string)}:i4(e.files)?{$case:"files",value:n7.fromJSON(e.files)}:void 0}},toJSON:function(e){var n,t,r={};return""!==e.path&&(r.path=e.path),(null==(n=e.formType)?void 0:n.$case)==="string"?r.string=n5.toJSON(e.formType.value):(null==(t=e.formType)?void 0:t.$case)==="files"&&(r.files=n7.toJSON(e.formType.value)),r}};c.set(n4.$type,n4);var n5={$type:"replit.ai.chat.AttachedFormStringField",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.value&&n.uint32(10).string(e.value),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={value:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.value=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n5.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n5.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n5.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n5.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{value:i4(e.value)?globalThis.String(e.value):""}},toJSON:function(e){var n={};return""!==e.value&&(n.value=e.value),n}};c.set(n5.$type,n5);var n7={$type:"replit.ai.chat.AttachedFormFilesField",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.files[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n9.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={files:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.files.push(n9.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n7.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n7.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n7.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n7.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{files:globalThis.Array.isArray(null==e?void 0:e.files)?e.files.map(function(e){return n9.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.files)?void 0:n.length)&&(t.files=e.files.map(function(e){return n9.toJSON(e)})),t}};c.set(n7.$type,n7);var n9={$type:"replit.ai.chat.AttachedFormFiles",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.name&&n.uint32(10).string(e.name),""!==e.url&&n.uint32(18).string(e.url),""!==e.mimeType&&n.uint32(26).string(e.mimeType),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={name:"",url:"",mimeType:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.name=t.string();continue;case 2:if(18!==i)break;a.url=t.string();continue;case 3:if(26!==i)break;a.mimeType=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n9.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n9.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n9.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n9.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{name:i4(e.name)?globalThis.String(e.name):"",url:i4(e.url)?globalThis.String(e.url):"",mimeType:i4(e.mimeType)?globalThis.String(e.mimeType):""}},toJSON:function(e){var n={};return""!==e.name&&(n.name=e.name),""!==e.url&&(n.url=e.url),""!==e.mimeType&&(n.mimeType=e.mimeType),n}};c.set(n9.$type,n9);var n8={$type:"replit.ai.chat.UpdateAttachedFormStringFieldSet",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.path&&n.uint32(10).string(e.path),""!==e.value&&n.uint32(18).string(e.value),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={path:"",value:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.path=t.string();continue;case 2:if(18!==i)break;a.value=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n8.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n8.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n8.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n8.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{path:i4(e.path)?globalThis.String(e.path):"",value:i4(e.value)?globalThis.String(e.value):""}},toJSON:function(e){var n={};return""!==e.path&&(n.path=e.path),""!==e.value&&(n.value=e.value),n}};c.set(n8.$type,n8);var n6={$type:"replit.ai.chat.UpdateAttachedFormStringFieldAppend",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.path&&n.uint32(10).string(e.path),""!==e.value&&n.uint32(18).string(e.value),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={path:"",value:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.path=t.string();continue;case 2:if(18!==i)break;a.value=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n6.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n6.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([n6.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([n6.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{path:i4(e.path)?globalThis.String(e.path):"",value:i4(e.value)?globalThis.String(e.value):""}},toJSON:function(e){var n={};return""!==e.path&&(n.path=e.path),""!==e.value&&(n.value=e.value),n}};c.set(n6.$type,n6);var te={$type:"replit.ai.chat.SelectedRagContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.replitDocumentationQuery&&n.uint32(10).string(e.replitDocumentationQuery),""!==e.fileSearchQuery&&n.uint32(18).string(e.fileSearchQuery),""!==e.selectedFiles&&n.uint32(26).string(e.selectedFiles),""!==e.selectedClasses&&n.uint32(34).string(e.selectedClasses),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={replitDocumentationQuery:"",fileSearchQuery:"",selectedFiles:"",selectedClasses:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.replitDocumentationQuery=t.string();continue;case 2:if(18!==i)break;a.fileSearchQuery=t.string();continue;case 3:if(26!==i)break;a.selectedFiles=t.string();continue;case 4:if(34!==i)break;a.selectedClasses=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([te.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([te.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([te.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([te.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{replitDocumentationQuery:i4(e.replitDocumentationQuery)?globalThis.String(e.replitDocumentationQuery):"",fileSearchQuery:i4(e.fileSearchQuery)?globalThis.String(e.fileSearchQuery):"",selectedFiles:i4(e.selectedFiles)?globalThis.String(e.selectedFiles):"",selectedClasses:i4(e.selectedClasses)?globalThis.String(e.selectedClasses):""}},toJSON:function(e){var n={};return""!==e.replitDocumentationQuery&&(n.replitDocumentationQuery=e.replitDocumentationQuery),""!==e.fileSearchQuery&&(n.fileSearchQuery=e.fileSearchQuery),""!==e.selectedFiles&&(n.selectedFiles=e.selectedFiles),""!==e.selectedClasses&&(n.selectedClasses=e.selectedClasses),n}};c.set(te.$type,te);var tn={$type:"replit.ai.chat.AssistantProposedActions",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.summary&&n.uint32(10).string(e.summary),""!==e.commitId&&n.uint32(18).string(e.commitId);var t=!0,r=!1,a=void 0;try{for(var i,o=e.shellCommands[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;th.encode(s,n.uint32(26).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.fileChanges[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;tp.encode(h,n.uint32(34).fork()).join()}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}var m=!0,v=!1,g=void 0;try{for(var b,y=e.workspaceToolNudges[Symbol.iterator]();!(m=(b=y.next()).done);m=!0){var w=b.value;tv.encode(w,n.uint32(42).fork()).join()}}catch(e){v=!0,g=e}finally{try{m||null==y.return||y.return()}finally{if(v)throw g}}var _=!0,S=!1,A=void 0;try{for(var k,C=e.packageInstalls[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){var Y=k.value;tm.encode(Y,n.uint32(50).fork()).join()}}catch(e){S=!0,A=e}finally{try{_||null==C.return||C.return()}finally{if(S)throw A}}!1!==e.didCreateCheckpoint&&n.uint32(56).bool(e.didCreateCheckpoint),!1!==e.didCountEditRequest&&n.uint32(64).bool(e.didCountEditRequest);var E=!0,x=!1,T=void 0;try{for(var D,I=e.runConfigurations[Symbol.iterator]();!(E=(D=I.next()).done);E=!0){var R=D.value;tg.encode(R,n.uint32(74).fork()).join()}}catch(e){x=!0,T=e}finally{try{E||null==I.return||I.return()}finally{if(x)throw T}}var N=!0,O=!1,P=void 0;try{for(var F,U=e.deploymentConfigurations[Symbol.iterator]();!(N=(F=U.next()).done);N=!0){var L=F.value;ty.encode(L,n.uint32(82).fork()).join()}}catch(e){O=!0,P=e}finally{try{N||null==U.return||U.return()}finally{if(O)throw P}}var M=!0,J=!1,H=void 0;try{for(var B,V=e.workflowConfigurations[Symbol.iterator]();!(M=(B=V.next()).done);M=!0){var $=B.value;tb.encode($,n.uint32(90).fork()).join()}}catch(e){J=!0,H=e}finally{try{M||null==V.return||V.return()}finally{if(J)throw H}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={summary:"",commitId:"",shellCommands:[],fileChanges:[],workspaceToolNudges:[],packageInstalls:[],didCreateCheckpoint:!1,didCountEditRequest:!1,runConfigurations:[],deploymentConfigurations:[],workflowConfigurations:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.summary=t.string();continue;case 2:if(18!==i)break;a.commitId=t.string();continue;case 3:if(26!==i)break;a.shellCommands.push(th.decode(t,t.uint32()));continue;case 4:if(34!==i)break;a.fileChanges.push(tp.decode(t,t.uint32()));continue;case 5:if(42!==i)break;a.workspaceToolNudges.push(tv.decode(t,t.uint32()));continue;case 6:if(50!==i)break;a.packageInstalls.push(tm.decode(t,t.uint32()));continue;case 7:if(56!==i)break;a.didCreateCheckpoint=t.bool();continue;case 8:if(64!==i)break;a.didCountEditRequest=t.bool();continue;case 9:if(74!==i)break;a.runConfigurations.push(tg.decode(t,t.uint32()));continue;case 10:if(82!==i)break;a.deploymentConfigurations.push(ty.decode(t,t.uint32()));continue;case 11:if(90!==i)break;a.workflowConfigurations.push(tb.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tn.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tn.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tn.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tn.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{summary:i4(e.summary)?globalThis.String(e.summary):"",commitId:i4(e.commitId)?globalThis.String(e.commitId):"",shellCommands:globalThis.Array.isArray(null==e?void 0:e.shellCommands)?e.shellCommands.map(function(e){return th.fromJSON(e)}):[],fileChanges:globalThis.Array.isArray(null==e?void 0:e.fileChanges)?e.fileChanges.map(function(e){return tp.fromJSON(e)}):[],workspaceToolNudges:globalThis.Array.isArray(null==e?void 0:e.workspaceToolNudges)?e.workspaceToolNudges.map(function(e){return tv.fromJSON(e)}):[],packageInstalls:globalThis.Array.isArray(null==e?void 0:e.packageInstalls)?e.packageInstalls.map(function(e){return tm.fromJSON(e)}):[],didCreateCheckpoint:!!i4(e.didCreateCheckpoint)&&globalThis.Boolean(e.didCreateCheckpoint),didCountEditRequest:!!i4(e.didCountEditRequest)&&globalThis.Boolean(e.didCountEditRequest),runConfigurations:globalThis.Array.isArray(null==e?void 0:e.runConfigurations)?e.runConfigurations.map(function(e){return tg.fromJSON(e)}):[],deploymentConfigurations:globalThis.Array.isArray(null==e?void 0:e.deploymentConfigurations)?e.deploymentConfigurations.map(function(e){return ty.fromJSON(e)}):[],workflowConfigurations:globalThis.Array.isArray(null==e?void 0:e.workflowConfigurations)?e.workflowConfigurations.map(function(e){return tb.fromJSON(e)}):[]}},toJSON:function(e){var n,t,r,a,i,o,s,l={};return""!==e.summary&&(l.summary=e.summary),""!==e.commitId&&(l.commitId=e.commitId),(null==(n=e.shellCommands)?void 0:n.length)&&(l.shellCommands=e.shellCommands.map(function(e){return th.toJSON(e)})),(null==(t=e.fileChanges)?void 0:t.length)&&(l.fileChanges=e.fileChanges.map(function(e){return tp.toJSON(e)})),(null==(r=e.workspaceToolNudges)?void 0:r.length)&&(l.workspaceToolNudges=e.workspaceToolNudges.map(function(e){return tv.toJSON(e)})),(null==(a=e.packageInstalls)?void 0:a.length)&&(l.packageInstalls=e.packageInstalls.map(function(e){return tm.toJSON(e)})),!1!==e.didCreateCheckpoint&&(l.didCreateCheckpoint=e.didCreateCheckpoint),!1!==e.didCountEditRequest&&(l.didCountEditRequest=e.didCountEditRequest),(null==(i=e.runConfigurations)?void 0:i.length)&&(l.runConfigurations=e.runConfigurations.map(function(e){return tg.toJSON(e)})),(null==(o=e.deploymentConfigurations)?void 0:o.length)&&(l.deploymentConfigurations=e.deploymentConfigurations.map(function(e){return ty.toJSON(e)})),(null==(s=e.workflowConfigurations)?void 0:s.length)&&(l.workflowConfigurations=e.workflowConfigurations.map(function(e){return tb.toJSON(e)})),l}};c.set(tn.$type,tn);var tt={$type:"replit.ai.chat.IntegrationTestEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.expectedResponseString&&n.uint32(10).string(e.expectedResponseString),!1!==e.streamedResponse&&n.uint32(16).bool(e.streamedResponse),0!==e.timeBetweenChunks&&n.uint32(29).float(e.timeBetweenChunks),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={expectedResponseString:"",streamedResponse:!1,timeBetweenChunks:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.expectedResponseString=t.string();continue;case 2:if(16!==i)break;a.streamedResponse=t.bool();continue;case 3:if(29!==i)break;a.timeBetweenChunks=t.float();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tt.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tt.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tt.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tt.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{expectedResponseString:i4(e.expectedResponseString)?globalThis.String(e.expectedResponseString):"",streamedResponse:!!i4(e.streamedResponse)&&globalThis.Boolean(e.streamedResponse),timeBetweenChunks:i4(e.timeBetweenChunks)?globalThis.Number(e.timeBetweenChunks):0}},toJSON:function(e){var n={};return""!==e.expectedResponseString&&(n.expectedResponseString=e.expectedResponseString),!1!==e.streamedResponse&&(n.streamedResponse=e.streamedResponse),0!==e.timeBetweenChunks&&(n.timeBetweenChunks=e.timeBetweenChunks),n}};c.set(tt.$type,tt);var tr={$type:"replit.ai.chat.ContextComplexityEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.fullness&&n.uint32(13).float(e.fullness),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={fullness:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(13!==i)break;a.fullness=t.float();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tr.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tr.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tr.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tr.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{fullness:i4(e.fullness)?globalThis.Number(e.fullness):0}},toJSON:function(e){var n={};return 0!==e.fullness&&(n.fullness=e.fullness),n}};c.set(tr.$type,tr);var ta={$type:"replit.ai.chat.EventTooLargeEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ta.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ta.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ta.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ta.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(ta.$type,ta);var ti={$type:"replit.ai.chat.IntegrationTestEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ti.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ti.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ti.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ti.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(ti.$type,ti);var to={$type:"replit.ai.chat.AttachedUrl",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.url&&n.uint32(10).string(e.url),0!==e.intent&&n.uint32(16).int32(e.intent),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={url:"",intent:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.url=t.string();continue;case 2:if(16!==i)break;a.intent=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([to.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([to.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([to.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([to.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{url:i4(e.url)?globalThis.String(e.url):"",intent:i4(e.intent)?function(e){switch(e){case 0:case"URL_INTENT_UNSPECIFIED":return A.UP.UNSPECIFIED;case 1:case"URL_SCREENSHOT":return A.UP.URL_SCREENSHOT;case 2:case"URL_CRAWL_CONTENT":return A.UP.URL_CRAWL_CONTENT;case 3:case"URL_AS_PROMPT":return A.UP.URL_AS_PROMPT;case 4:case"URL_CRAWL_HTML":return A.UP.URL_CRAWL_HTML;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum UrlIntent")}}(e.intent):0}},toJSON:function(e){var n={};return""!==e.url&&(n.url=e.url),0!==e.intent&&(n.intent=function(e){switch(e){case A.UP.UNSPECIFIED:return"URL_INTENT_UNSPECIFIED";case A.UP.URL_SCREENSHOT:return"URL_SCREENSHOT";case A.UP.URL_CRAWL_CONTENT:return"URL_CRAWL_CONTENT";case A.UP.URL_AS_PROMPT:return"URL_AS_PROMPT";case A.UP.URL_CRAWL_HTML:return"URL_CRAWL_HTML";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum UrlIntent")}}(e.intent)),n}};c.set(to.$type,to);var ts={$type:"replit.ai.chat.UploadedFile",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.path&&n.uint32(10).string(e.path),""!==e.mimeType&&n.uint32(18).string(e.mimeType),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={path:"",mimeType:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.path=t.string();continue;case 2:if(18!==i)break;a.mimeType=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ts.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ts.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ts.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ts.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{path:i4(e.path)?globalThis.String(e.path):"",mimeType:i4(e.mimeType)?globalThis.String(e.mimeType):""}},toJSON:function(e){var n={};return""!==e.path&&(n.path=e.path),""!==e.mimeType&&(n.mimeType=e.mimeType),n}};c.set(ts.$type,ts);var tl={$type:"replit.ai.chat.UploadedRapidBuildFile",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.fileName&&n.uint32(10).string(e.fileName),""!==e.downloadUrl&&n.uint32(18).string(e.downloadUrl),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={fileName:"",downloadUrl:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.fileName=t.string();continue;case 2:if(18!==i)break;a.downloadUrl=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tl.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tl.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tl.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tl.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{fileName:i4(e.fileName)?globalThis.String(e.fileName):"",downloadUrl:i4(e.downloadUrl)?globalThis.String(e.downloadUrl):""}},toJSON:function(e){var n={};return""!==e.fileName&&(n.fileName=e.fileName),""!==e.downloadUrl&&(n.downloadUrl=e.downloadUrl),n}};c.set(tl.$type,tl);var tu={$type:"replit.ai.chat.BenchmarkParameters",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.datasetId&&n.uint32(10).string(e.datasetId),""!==e.instanceId&&n.uint32(18).string(e.instanceId),""!==e.runId&&n.uint32(26).string(e.runId),""!==e.replDescription&&n.uint32(34).string(e.replDescription),!1!==e.disableSandbox&&n.uint32(40).bool(e.disableSandbox);var t=!0,r=!1,a=void 0;try{for(var i,o=e.commandPrefix[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(50).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return 0!==e.overrideShellExecuteTimeoutSeconds&&n.uint32(56).int32(e.overrideShellExecuteTimeoutSeconds),0!==e.overrideMaxSteps&&n.uint32(64).int32(e.overrideMaxSteps),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={datasetId:"",instanceId:"",runId:"",replDescription:"",disableSandbox:!1,commandPrefix:[],overrideShellExecuteTimeoutSeconds:0,overrideMaxSteps:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.datasetId=t.string();continue;case 2:if(18!==i)break;a.instanceId=t.string();continue;case 3:if(26!==i)break;a.runId=t.string();continue;case 4:if(34!==i)break;a.replDescription=t.string();continue;case 5:if(40!==i)break;a.disableSandbox=t.bool();continue;case 6:if(50!==i)break;a.commandPrefix.push(t.string());continue;case 7:if(56!==i)break;a.overrideShellExecuteTimeoutSeconds=t.int32();continue;case 8:if(64!==i)break;a.overrideMaxSteps=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tu.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tu.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tu.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tu.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{datasetId:i4(e.datasetId)?globalThis.String(e.datasetId):"",instanceId:i4(e.instanceId)?globalThis.String(e.instanceId):"",runId:i4(e.runId)?globalThis.String(e.runId):"",replDescription:i4(e.replDescription)?globalThis.String(e.replDescription):"",disableSandbox:!!i4(e.disableSandbox)&&globalThis.Boolean(e.disableSandbox),commandPrefix:globalThis.Array.isArray(null==e?void 0:e.commandPrefix)?e.commandPrefix.map(function(e){return globalThis.String(e)}):[],overrideShellExecuteTimeoutSeconds:i4(e.overrideShellExecuteTimeoutSeconds)?globalThis.Number(e.overrideShellExecuteTimeoutSeconds):0,overrideMaxSteps:i4(e.overrideMaxSteps)?globalThis.Number(e.overrideMaxSteps):0}},toJSON:function(e){var n,t={};return""!==e.datasetId&&(t.datasetId=e.datasetId),""!==e.instanceId&&(t.instanceId=e.instanceId),""!==e.runId&&(t.runId=e.runId),""!==e.replDescription&&(t.replDescription=e.replDescription),!1!==e.disableSandbox&&(t.disableSandbox=e.disableSandbox),(null==(n=e.commandPrefix)?void 0:n.length)&&(t.commandPrefix=e.commandPrefix),0!==e.overrideShellExecuteTimeoutSeconds&&(t.overrideShellExecuteTimeoutSeconds=Math.round(e.overrideShellExecuteTimeoutSeconds)),0!==e.overrideMaxSteps&&(t.overrideMaxSteps=Math.round(e.overrideMaxSteps)),t}};c.set(tu.$type,tu);var tc={$type:"replit.ai.chat.SuggestedTemplates",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.suggestedTemplates[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;td.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={suggestedTemplates:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.suggestedTemplates.push(td.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tc.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tc.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tc.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tc.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{suggestedTemplates:globalThis.Array.isArray(null==e?void 0:e.suggestedTemplates)?e.suggestedTemplates.map(function(e){return td.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.suggestedTemplates)?void 0:n.length)&&(t.suggestedTemplates=e.suggestedTemplates.map(function(e){return td.toJSON(e)})),t}};c.set(tc.$type,tc);var td={$type:"replit.ai.chat.SuggestedTemplate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.name&&n.uint32(10).string(e.name),""!==e.replId&&n.uint32(18).string(e.replId),""!==e.description&&n.uint32(26).string(e.description),""!==e.icon&&n.uint32(34).string(e.icon),""!==e.language&&n.uint32(42).string(e.language),""!==e.id&&n.uint32(50).string(e.id),""!==e.ownerUsername&&n.uint32(58).string(e.ownerUsername),""!==e.slug&&n.uint32(66).string(e.slug),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={name:"",replId:"",description:"",icon:"",language:"",id:"",ownerUsername:"",slug:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.name=t.string();continue;case 2:if(18!==i)break;a.replId=t.string();continue;case 3:if(26!==i)break;a.description=t.string();continue;case 4:if(34!==i)break;a.icon=t.string();continue;case 5:if(42!==i)break;a.language=t.string();continue;case 6:if(50!==i)break;a.id=t.string();continue;case 7:if(58!==i)break;a.ownerUsername=t.string();continue;case 8:if(66!==i)break;a.slug=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([td.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([td.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([td.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([td.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{name:i4(e.name)?globalThis.String(e.name):"",replId:i4(e.replId)?globalThis.String(e.replId):"",description:i4(e.description)?globalThis.String(e.description):"",icon:i4(e.icon)?globalThis.String(e.icon):"",language:i4(e.language)?globalThis.String(e.language):"",id:i4(e.id)?globalThis.String(e.id):"",ownerUsername:i4(e.ownerUsername)?globalThis.String(e.ownerUsername):"",slug:i4(e.slug)?globalThis.String(e.slug):""}},toJSON:function(e){var n={};return""!==e.name&&(n.name=e.name),""!==e.replId&&(n.replId=e.replId),""!==e.description&&(n.description=e.description),""!==e.icon&&(n.icon=e.icon),""!==e.language&&(n.language=e.language),""!==e.id&&(n.id=e.id),""!==e.ownerUsername&&(n.ownerUsername=e.ownerUsername),""!==e.slug&&(n.slug=e.slug),n}};c.set(td.$type,td);var tf={$type:"replit.ai.chat.ProposedFileChanges",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.changes[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;tp.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return""!==e.commitId&&n.uint32(18).string(e.commitId),""!==e.summary&&n.uint32(26).string(e.summary),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={changes:[],commitId:"",summary:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.changes.push(tp.decode(t,t.uint32()));continue;case 2:if(18!==i)break;a.commitId=t.string();continue;case 3:if(26!==i)break;a.summary=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tf.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tf.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tf.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tf.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{changes:globalThis.Array.isArray(null==e?void 0:e.changes)?e.changes.map(function(e){return tp.fromJSON(e)}):[],commitId:i4(e.commitId)?globalThis.String(e.commitId):"",summary:i4(e.summary)?globalThis.String(e.summary):""}},toJSON:function(e){var n,t={};return(null==(n=e.changes)?void 0:n.length)&&(t.changes=e.changes.map(function(e){return tp.toJSON(e)})),""!==e.commitId&&(t.commitId=e.commitId),""!==e.summary&&(t.summary=e.summary),t}};c.set(tf.$type,tf);var tp={$type:"replit.ai.chat.ProposedFileChange",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.filePath&&n.uint32(10).string(e.filePath),""!==e.content&&n.uint32(18).string(e.content),""!==e.changeSummary&&n.uint32(26).string(e.changeSummary),0!==e.state&&n.uint32(32).int32(e.state),0!==e.messageContentsOffset&&n.uint32(40).int32(e.messageContentsOffset),""!==e.diff&&n.uint32(50).string(e.diff),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={filePath:"",content:"",changeSummary:"",state:0,messageContentsOffset:0,diff:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.filePath=t.string();continue;case 2:if(18!==i)break;a.content=t.string();continue;case 3:if(26!==i)break;a.changeSummary=t.string();continue;case 4:if(32!==i)break;a.state=t.int32();continue;case 5:if(40!==i)break;a.messageContentsOffset=t.int32();continue;case 6:if(50!==i)break;a.diff=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tp.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tp.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tp.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tp.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{filePath:i4(e.filePath)?globalThis.String(e.filePath):"",content:i4(e.content)?globalThis.String(e.content):"",changeSummary:i4(e.changeSummary)?globalThis.String(e.changeSummary):"",state:i4(e.state)?function(e){switch(e){case 0:case"GENERATION_STATE_UNKNOWN":return A.u5.GENERATION_STATE_UNKNOWN;case 1:case"GENERATION_IN_PROGRESS":return A.u5.GENERATION_IN_PROGRESS;case 2:case"GENERATION_REGENERATING":return A.u5.GENERATION_REGENERATING;case 3:case"GENERATION_COMPLETE":return A.u5.GENERATION_COMPLETE;case 4:case"GENERATION_ERROR":return A.u5.GENERATION_ERROR;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum FileChangeGenerationState")}}(e.state):0,messageContentsOffset:i4(e.messageContentsOffset)?globalThis.Number(e.messageContentsOffset):0,diff:i4(e.diff)?globalThis.String(e.diff):""}},toJSON:function(e){var n={};return""!==e.filePath&&(n.filePath=e.filePath),""!==e.content&&(n.content=e.content),""!==e.changeSummary&&(n.changeSummary=e.changeSummary),0!==e.state&&(n.state=function(e){switch(e){case A.u5.GENERATION_STATE_UNKNOWN:return"GENERATION_STATE_UNKNOWN";case A.u5.GENERATION_IN_PROGRESS:return"GENERATION_IN_PROGRESS";case A.u5.GENERATION_REGENERATING:return"GENERATION_REGENERATING";case A.u5.GENERATION_COMPLETE:return"GENERATION_COMPLETE";case A.u5.GENERATION_ERROR:return"GENERATION_ERROR";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum FileChangeGenerationState")}}(e.state)),0!==e.messageContentsOffset&&(n.messageContentsOffset=Math.round(e.messageContentsOffset)),""!==e.diff&&(n.diff=e.diff),n}};c.set(tp.$type,tp);var th={$type:"replit.ai.chat.ProposedShellCommand",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.messageContentsOffset&&n.uint32(8).int32(e.messageContentsOffset),""!==e.command&&n.uint32(18).string(e.command),""!==e.workingDirectory&&n.uint32(26).string(e.workingDirectory),!1!==e.isDangerous&&n.uint32(32).bool(e.isDangerous),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={messageContentsOffset:0,command:"",workingDirectory:"",isDangerous:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.messageContentsOffset=t.int32();continue;case 2:if(18!==i)break;a.command=t.string();continue;case 3:if(26!==i)break;a.workingDirectory=t.string();continue;case 4:if(32!==i)break;a.isDangerous=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([th.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([th.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([th.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([th.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{messageContentsOffset:i4(e.messageContentsOffset)?globalThis.Number(e.messageContentsOffset):0,command:i4(e.command)?globalThis.String(e.command):"",workingDirectory:i4(e.workingDirectory)?globalThis.String(e.workingDirectory):"",isDangerous:!!i4(e.isDangerous)&&globalThis.Boolean(e.isDangerous)}},toJSON:function(e){var n={};return 0!==e.messageContentsOffset&&(n.messageContentsOffset=Math.round(e.messageContentsOffset)),""!==e.command&&(n.command=e.command),""!==e.workingDirectory&&(n.workingDirectory=e.workingDirectory),!1!==e.isDangerous&&(n.isDangerous=e.isDangerous),n}};c.set(th.$type,th);var tm={$type:"replit.ai.chat.ProposedPackageInstall",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;0!==e.messageContentsOffset&&n.uint32(8).int32(e.messageContentsOffset),""!==e.language&&n.uint32(18).string(e.language);var t=!0,r=!1,a=void 0;try{for(var i,o=e.packageList[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(26).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={messageContentsOffset:0,language:"",packageList:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.messageContentsOffset=t.int32();continue;case 2:if(18!==i)break;a.language=t.string();continue;case 3:if(26!==i)break;a.packageList.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tm.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tm.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tm.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tm.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{messageContentsOffset:i4(e.messageContentsOffset)?globalThis.Number(e.messageContentsOffset):0,language:i4(e.language)?globalThis.String(e.language):"",packageList:globalThis.Array.isArray(null==e?void 0:e.packageList)?e.packageList.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t={};return 0!==e.messageContentsOffset&&(t.messageContentsOffset=Math.round(e.messageContentsOffset)),""!==e.language&&(t.language=e.language),(null==(n=e.packageList)?void 0:n.length)&&(t.packageList=e.packageList),t}};c.set(tm.$type,tm);var tv={$type:"replit.ai.chat.ProposedWorkspaceToolNudge",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.messageContentsOffset&&n.uint32(8).int32(e.messageContentsOffset),""!==e.toolName&&n.uint32(18).string(e.toolName),""!==e.reason&&n.uint32(26).string(e.reason),""!==e.description&&n.uint32(34).string(e.description),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={messageContentsOffset:0,toolName:"",reason:"",description:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.messageContentsOffset=t.int32();continue;case 2:if(18!==i)break;a.toolName=t.string();continue;case 3:if(26!==i)break;a.reason=t.string();continue;case 4:if(34!==i)break;a.description=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tv.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tv.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tv.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tv.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{messageContentsOffset:i4(e.messageContentsOffset)?globalThis.Number(e.messageContentsOffset):0,toolName:i4(e.toolName)?globalThis.String(e.toolName):"",reason:i4(e.reason)?globalThis.String(e.reason):"",description:i4(e.description)?globalThis.String(e.description):""}},toJSON:function(e){var n={};return 0!==e.messageContentsOffset&&(n.messageContentsOffset=Math.round(e.messageContentsOffset)),""!==e.toolName&&(n.toolName=e.toolName),""!==e.reason&&(n.reason=e.reason),""!==e.description&&(n.description=e.description),n}};c.set(tv.$type,tv);var tg={$type:"replit.ai.chat.ProposedRunConfiguration",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.messageContentsOffset&&n.uint32(8).int32(e.messageContentsOffset),""!==e.workflowName&&n.uint32(18).string(e.workflowName),!1!==e.setRunButton&&n.uint32(24).bool(e.setRunButton),""!==e.oldCommand&&n.uint32(34).string(e.oldCommand),""!==e.newCommand&&n.uint32(42).string(e.newCommand),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={messageContentsOffset:0,workflowName:"",setRunButton:!1,oldCommand:"",newCommand:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.messageContentsOffset=t.int32();continue;case 2:if(18!==i)break;a.workflowName=t.string();continue;case 3:if(24!==i)break;a.setRunButton=t.bool();continue;case 4:if(34!==i)break;a.oldCommand=t.string();continue;case 5:if(42!==i)break;a.newCommand=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tg.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tg.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tg.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tg.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{messageContentsOffset:i4(e.messageContentsOffset)?globalThis.Number(e.messageContentsOffset):0,workflowName:i4(e.workflowName)?globalThis.String(e.workflowName):"",setRunButton:!!i4(e.setRunButton)&&globalThis.Boolean(e.setRunButton),oldCommand:i4(e.oldCommand)?globalThis.String(e.oldCommand):"",newCommand:i4(e.newCommand)?globalThis.String(e.newCommand):""}},toJSON:function(e){var n={};return 0!==e.messageContentsOffset&&(n.messageContentsOffset=Math.round(e.messageContentsOffset)),""!==e.workflowName&&(n.workflowName=e.workflowName),!1!==e.setRunButton&&(n.setRunButton=e.setRunButton),""!==e.oldCommand&&(n.oldCommand=e.oldCommand),""!==e.newCommand&&(n.newCommand=e.newCommand),n}};c.set(tg.$type,tg);var tb={$type:"replit.ai.chat.ProposedWorkflowConfiguration",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;0!==e.messageContentsOffset&&n.uint32(8).int32(e.messageContentsOffset),""!==e.workflowName&&n.uint32(18).string(e.workflowName);var t=!0,r=!1,a=void 0;try{for(var i,o=e.commands[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(26).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return!1!==e.setRunButton&&n.uint32(32).bool(e.setRunButton),""!==e.mode&&n.uint32(42).string(e.mode),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={messageContentsOffset:0,workflowName:"",commands:[],setRunButton:!1,mode:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.messageContentsOffset=t.int32();continue;case 2:if(18!==i)break;a.workflowName=t.string();continue;case 3:if(26!==i)break;a.commands.push(t.string());continue;case 4:if(32!==i)break;a.setRunButton=t.bool();continue;case 5:if(42!==i)break;a.mode=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tb.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tb.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tb.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tb.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{messageContentsOffset:i4(e.messageContentsOffset)?globalThis.Number(e.messageContentsOffset):0,workflowName:i4(e.workflowName)?globalThis.String(e.workflowName):"",commands:globalThis.Array.isArray(null==e?void 0:e.commands)?e.commands.map(function(e){return globalThis.String(e)}):[],setRunButton:!!i4(e.setRunButton)&&globalThis.Boolean(e.setRunButton),mode:i4(e.mode)?globalThis.String(e.mode):""}},toJSON:function(e){var n,t={};return 0!==e.messageContentsOffset&&(t.messageContentsOffset=Math.round(e.messageContentsOffset)),""!==e.workflowName&&(t.workflowName=e.workflowName),(null==(n=e.commands)?void 0:n.length)&&(t.commands=e.commands),!1!==e.setRunButton&&(t.setRunButton=e.setRunButton),""!==e.mode&&(t.mode=e.mode),t}};c.set(tb.$type,tb);var ty={$type:"replit.ai.chat.ProposedDeploymentConfiguration",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.messageContentsOffset&&n.uint32(8).int32(e.messageContentsOffset),""!==e.buildCommand&&n.uint32(18).string(e.buildCommand),""!==e.runCommand&&n.uint32(26).string(e.runCommand),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={messageContentsOffset:0,buildCommand:"",runCommand:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.messageContentsOffset=t.int32();continue;case 2:if(18!==i)break;a.buildCommand=t.string();continue;case 3:if(26!==i)break;a.runCommand=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ty.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ty.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ty.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ty.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{messageContentsOffset:i4(e.messageContentsOffset)?globalThis.Number(e.messageContentsOffset):0,buildCommand:i4(e.buildCommand)?globalThis.String(e.buildCommand):"",runCommand:i4(e.runCommand)?globalThis.String(e.runCommand):""}},toJSON:function(e){var n={};return 0!==e.messageContentsOffset&&(n.messageContentsOffset=Math.round(e.messageContentsOffset)),""!==e.buildCommand&&(n.buildCommand=e.buildCommand),""!==e.runCommand&&(n.runCommand=e.runCommand),n}};c.set(ty.$type,ty);var tw={$type:"replit.ai.chat.Source",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.url&&n.uint32(10).string(e.url),""!==e.contents&&n.uint32(18).string(e.contents),0!==e.lineNumber&&n.uint32(24).int32(e.lineNumber),""!==e.id&&n.uint32(34).string(e.id),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={url:"",contents:"",lineNumber:0,id:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.url=t.string();continue;case 2:if(18!==i)break;a.contents=t.string();continue;case 3:if(24!==i)break;a.lineNumber=t.int32();continue;case 4:if(34!==i)break;a.id=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tw.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tw.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tw.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tw.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{url:i4(e.url)?globalThis.String(e.url):"",contents:i4(e.contents)?globalThis.String(e.contents):"",lineNumber:i4(e.lineNumber)?globalThis.Number(e.lineNumber):0,id:i4(e.id)?globalThis.String(e.id):""}},toJSON:function(e){var n={};return""!==e.url&&(n.url=e.url),""!==e.contents&&(n.contents=e.contents),0!==e.lineNumber&&(n.lineNumber=Math.round(e.lineNumber)),""!==e.id&&(n.id=e.id),n}};c.set(tw.$type,tw);var t_={$type:"replit.ai.chat.InlineActionEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;0!==e.messageType&&n.uint32(8).int32(e.messageType),0!==e.debugErrorSource&&n.uint32(16).int32(e.debugErrorSource),""!==e.content&&n.uint32(26).string(e.content),void 0!==e.codeReference&&nX.encode(e.codeReference,n.uint32(34).fork()).join(),void 0!==e.usedModelSelector&&tT.encode(e.usedModelSelector,n.uint32(42).fork()).join();var t=!0,r=!1,a=void 0;try{for(var i,o=e.media[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;tI.encode(s,n.uint32(50).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.sources[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;tw.encode(h,n.uint32(58).fork()).join()}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={messageType:0,debugErrorSource:0,content:"",codeReference:void 0,usedModelSelector:void 0,media:[],sources:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.messageType=t.int32();continue;case 2:if(16!==i)break;a.debugErrorSource=t.int32();continue;case 3:if(26!==i)break;a.content=t.string();continue;case 4:if(34!==i)break;a.codeReference=nX.decode(t,t.uint32());continue;case 5:if(42!==i)break;a.usedModelSelector=tT.decode(t,t.uint32());continue;case 6:if(50!==i)break;a.media.push(tI.decode(t,t.uint32()));continue;case 7:if(58!==i)break;a.sources.push(tw.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t_.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t_.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t_.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t_.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{messageType:i4(e.messageType)?function(e){switch(e){case 0:case"INLINE_MESSAGE_TYPE_UNKNOWN":return A.Z1.UNKNOWN;case 1:case"EXPLAIN_CODE":return A.Z1.EXPLAIN_CODE;case 2:case"DEBUGGER":return A.Z1.DEBUGGER;case 3:case"GENERATE_CODE":return A.Z1.GENERATE_CODE;case 4:case"TRANSFORM_CODE":return A.Z1.TRANSFORM_CODE;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum InlineMessageType")}}(e.messageType):0,debugErrorSource:i4(e.debugErrorSource)?O(e.debugErrorSource):0,content:i4(e.content)?globalThis.String(e.content):"",codeReference:i4(e.codeReference)?nX.fromJSON(e.codeReference):void 0,usedModelSelector:i4(e.usedModelSelector)?tT.fromJSON(e.usedModelSelector):void 0,media:globalThis.Array.isArray(null==e?void 0:e.media)?e.media.map(function(e){return tI.fromJSON(e)}):[],sources:globalThis.Array.isArray(null==e?void 0:e.sources)?e.sources.map(function(e){return tw.fromJSON(e)}):[]}},toJSON:function(e){var n,t,r={};return 0!==e.messageType&&(r.messageType=function(e){switch(e){case A.Z1.UNKNOWN:return"INLINE_MESSAGE_TYPE_UNKNOWN";case A.Z1.EXPLAIN_CODE:return"EXPLAIN_CODE";case A.Z1.DEBUGGER:return"DEBUGGER";case A.Z1.GENERATE_CODE:return"GENERATE_CODE";case A.Z1.TRANSFORM_CODE:return"TRANSFORM_CODE";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum InlineMessageType")}}(e.messageType)),0!==e.debugErrorSource&&(r.debugErrorSource=P(e.debugErrorSource)),""!==e.content&&(r.content=e.content),void 0!==e.codeReference&&(r.codeReference=nX.toJSON(e.codeReference)),void 0!==e.usedModelSelector&&(r.usedModelSelector=tT.toJSON(e.usedModelSelector)),(null==(n=e.media)?void 0:n.length)&&(r.media=e.media.map(function(e){return tI.toJSON(e)})),(null==(t=e.sources)?void 0:t.length)&&(r.sources=e.sources.map(function(e){return tw.toJSON(e)})),r}};c.set(t_.$type,t_);var tS={$type:"replit.ai.chat.ShellSuggestionEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.content&&n.uint32(10).string(e.content),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={content:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.content=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tS.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tS.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tS.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tS.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{content:i4(e.content)?globalThis.String(e.content):""}},toJSON:function(e){var n={};return""!==e.content&&(n.content=e.content),n}};c.set(tS.$type,tS);var tA={$type:"replit.ai.chat.SessionCreationEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tA.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tA.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tA.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tA.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(tA.$type,tA);var tk={$type:"replit.ai.chat.TranslateEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.inputTarget&&n.uint32(8).int32(e.inputTarget),0!==e.outputTarget&&n.uint32(16).int32(e.outputTarget),""!==e.content&&n.uint32(26).string(e.content),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={inputTarget:0,outputTarget:0,content:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.inputTarget=t.int32();continue;case 2:if(16!==i)break;a.outputTarget=t.int32();continue;case 3:if(26!==i)break;a.content=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tk.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tk.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tk.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tk.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{inputTarget:i4(e.inputTarget)?R(e.inputTarget):0,outputTarget:i4(e.outputTarget)?R(e.outputTarget):0,content:i4(e.content)?globalThis.String(e.content):""}},toJSON:function(e){var n={};return 0!==e.inputTarget&&(n.inputTarget=N(e.inputTarget)),0!==e.outputTarget&&(n.outputTarget=N(e.outputTarget)),""!==e.content&&(n.content=e.content),n}};c.set(tk.$type,tk);var tC={$type:"replit.ai.chat.TranslateEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.modelSelector&&tT.encode(e.modelSelector,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={modelSelector:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.modelSelector=tT.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tC.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tC.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tC.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tC.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{modelSelector:i4(e.modelSelector)?tT.fromJSON(e.modelSelector):void 0}},toJSON:function(e){var n={};return void 0!==e.modelSelector&&(n.modelSelector=tT.toJSON(e.modelSelector)),n}};c.set(tC.$type,tC);var tY={$type:"replit.ai.chat.LocalShellExecutionEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.command&&n.uint32(10).string(e.command),""!==e.result&&n.uint32(18).string(e.result),""!==e.eventId&&n.uint32(26).string(e.eventId),0!==e.index&&n.uint32(32).int32(e.index),0!==e.exitCode&&n.uint32(48).int32(e.exitCode),""!==e.channelName&&n.uint32(58).string(e.channelName),!1!==e.executed&&n.uint32(64).bool(e.executed),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={command:"",result:"",eventId:"",index:0,exitCode:0,channelName:"",executed:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.command=t.string();continue;case 2:if(18!==i)break;a.result=t.string();continue;case 3:if(26!==i)break;a.eventId=t.string();continue;case 4:if(32!==i)break;a.index=t.int32();continue;case 6:if(48!==i)break;a.exitCode=t.int32();continue;case 7:if(58!==i)break;a.channelName=t.string();continue;case 8:if(64!==i)break;a.executed=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tY.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tY.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tY.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tY.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{command:i4(e.command)?globalThis.String(e.command):"",result:i4(e.result)?globalThis.String(e.result):"",eventId:i4(e.eventId)?globalThis.String(e.eventId):"",index:i4(e.index)?globalThis.Number(e.index):0,exitCode:i4(e.exitCode)?globalThis.Number(e.exitCode):0,channelName:i4(e.channelName)?globalThis.String(e.channelName):"",executed:!!i4(e.executed)&&globalThis.Boolean(e.executed)}},toJSON:function(e){var n={};return""!==e.command&&(n.command=e.command),""!==e.result&&(n.result=e.result),""!==e.eventId&&(n.eventId=e.eventId),0!==e.index&&(n.index=Math.round(e.index)),0!==e.exitCode&&(n.exitCode=Math.round(e.exitCode)),""!==e.channelName&&(n.channelName=e.channelName),!1!==e.executed&&(n.executed=e.executed),n}};c.set(tY.$type,tY);var tE={$type:"replit.ai.chat.LocalShellExecutionEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tE.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tE.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tE.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tE.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(tE.$type,tE);var tx={$type:"replit.ai.chat.ShellSuggestionEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.modelSelector&&tT.encode(e.modelSelector,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={modelSelector:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.modelSelector=tT.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tx.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tx.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tx.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tx.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{modelSelector:i4(e.modelSelector)?tT.fromJSON(e.modelSelector):void 0}},toJSON:function(e){var n={};return void 0!==e.modelSelector&&(n.modelSelector=tT.toJSON(e.modelSelector)),n}};c.set(tx.$type,tx);var tT={$type:"replit.ai.chat.ModelSelector",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.type&&n.uint32(8).int32(e.type),""!==e.overrideModelName&&n.uint32(18).string(e.overrideModelName),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={type:0,overrideModelName:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.type=t.int32();continue;case 2:if(18!==i)break;a.overrideModelName=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tT.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tT.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tT.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tT.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{type:i4(e.type)?function(e){switch(e){case 0:case"MODEL_TYPE_UNKNOWN":return A.e3.UNKNOWN;case 1:case"BASIC":return A.e3.BASIC;case 2:case"ADVANCED":return A.e3.ADVANCED;case 3:case"OVERRIDE":return A.e3.OVERRIDE;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum ModelType")}}(e.type):0,overrideModelName:i4(e.overrideModelName)?globalThis.String(e.overrideModelName):""}},toJSON:function(e){var n={};return 0!==e.type&&(n.type=function(e){switch(e){case A.e3.UNKNOWN:return"MODEL_TYPE_UNKNOWN";case A.e3.BASIC:return"BASIC";case A.e3.ADVANCED:return"ADVANCED";case A.e3.OVERRIDE:return"OVERRIDE";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum ModelType")}}(e.type)),""!==e.overrideModelName&&(n.overrideModelName=e.overrideModelName),n}};c.set(tT.$type,tT);var tD={$type:"replit.ai.chat.EventError",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.type&&n.uint32(8).int32(e.type),""!==e.message&&n.uint32(18).string(e.message),""!==e.shortMessage&&n.uint32(26).string(e.shortMessage),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={type:0,message:"",shortMessage:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.type=t.int32();continue;case 2:if(18!==i)break;a.message=t.string();continue;case 3:if(26!==i)break;a.shortMessage=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tD.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tD.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tD.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tD.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{type:i4(e.type)?function(e){switch(e){case 0:case"EVENT_ERROR_TYPE_UNKNOWN":return A.fq.UNKNOWN;case 1:case"MANUALLY_ABORTED":return A.fq.MANUALLY_ABORTED;case 2:case"INCOMPLETE_UPDATE":return A.fq.INCOMPLETE_UPDATE;case 3:case"INTERNAL_SERVER_ERROR":return A.fq.INTERNAL_SERVER_ERROR;case 4:case"USAGE_LIMIT":return A.fq.USAGE_LIMIT;case 5:case"TEST_ERROR":return A.fq.TEST_ERROR;case 6:case"INVALID_INPUT":return A.fq.INVALID_INPUT;case 7:case"UNAUTHORIZED":return A.fq.UNAUTHORIZED;case 8:case"AGENT_EXECUTION_ERROR":return A.fq.AGENT_EXECUTION_ERROR;case 9:case"AI_QUOTA_ERROR_UNKNOWN":return A.fq.AI_QUOTA_ERROR_UNKNOWN;case 10:case"AI_QUOTA_INSUFFICIENT_BUDGET":return A.fq.AI_QUOTA_INSUFFICIENT_BUDGET;case 11:case"AI_QUOTA_REQUIRES_PAYMENT_METHOD":return A.fq.AI_QUOTA_REQUIRES_PAYMENT_METHOD;case 12:case"AI_QUOTA_REQUIRES_ACTIVE_SUBSCRIPTION":return A.fq.AI_QUOTA_REQUIRES_ACTIVE_SUBSCRIPTION;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum EventErrorType")}}(e.type):0,message:i4(e.message)?globalThis.String(e.message):"",shortMessage:i4(e.shortMessage)?globalThis.String(e.shortMessage):""}},toJSON:function(e){var n={};return 0!==e.type&&(n.type=function(e){switch(e){case A.fq.UNKNOWN:return"EVENT_ERROR_TYPE_UNKNOWN";case A.fq.MANUALLY_ABORTED:return"MANUALLY_ABORTED";case A.fq.INCOMPLETE_UPDATE:return"INCOMPLETE_UPDATE";case A.fq.INTERNAL_SERVER_ERROR:return"INTERNAL_SERVER_ERROR";case A.fq.USAGE_LIMIT:return"USAGE_LIMIT";case A.fq.TEST_ERROR:return"TEST_ERROR";case A.fq.INVALID_INPUT:return"INVALID_INPUT";case A.fq.UNAUTHORIZED:return"UNAUTHORIZED";case A.fq.AGENT_EXECUTION_ERROR:return"AGENT_EXECUTION_ERROR";case A.fq.AI_QUOTA_ERROR_UNKNOWN:return"AI_QUOTA_ERROR_UNKNOWN";case A.fq.AI_QUOTA_INSUFFICIENT_BUDGET:return"AI_QUOTA_INSUFFICIENT_BUDGET";case A.fq.AI_QUOTA_REQUIRES_PAYMENT_METHOD:return"AI_QUOTA_REQUIRES_PAYMENT_METHOD";case A.fq.AI_QUOTA_REQUIRES_ACTIVE_SUBSCRIPTION:return"AI_QUOTA_REQUIRES_ACTIVE_SUBSCRIPTION";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum EventErrorType")}}(e.type)),""!==e.message&&(n.message=e.message),""!==e.shortMessage&&(n.shortMessage=e.shortMessage),n}};c.set(tD.$type,tD);var tI={$type:"replit.ai.chat.MediaReference",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.identifier&&n.uint32(10).string(e.identifier),""!==e.url&&n.uint32(18).string(e.url),""!==e.mimeType&&n.uint32(26).string(e.mimeType),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={identifier:"",url:"",mimeType:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.identifier=t.string();continue;case 2:if(18!==i)break;a.url=t.string();continue;case 3:if(26!==i)break;a.mimeType=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tI.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tI.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tI.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tI.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{identifier:i4(e.identifier)?globalThis.String(e.identifier):"",url:i4(e.url)?globalThis.String(e.url):"",mimeType:i4(e.mimeType)?globalThis.String(e.mimeType):""}},toJSON:function(e){var n={};return""!==e.identifier&&(n.identifier=e.identifier),""!==e.url&&(n.url=e.url),""!==e.mimeType&&(n.mimeType=e.mimeType),n}};c.set(tI.$type,tI);var tR={$type:"replit.ai.chat.AgentConfig",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.maxSteps&&n.uint32(8).int32(e.maxSteps),void 0!==e.enablePlanMode&&b.encode({value:e.enablePlanMode},n.uint32(18).fork()).join(),void 0!==e.enableHumanInLoop&&b.encode({value:e.enableHumanInLoop},n.uint32(26).fork()).join(),void 0!==e.thinkingEnabled&&b.encode({value:e.thinkingEnabled},n.uint32(34).fork()).join(),0!==e.modelProfile&&n.uint32(40).int32(e.modelProfile),void 0!==e.enableAutomatedTesting&&b.encode({value:e.enableAutomatedTesting},n.uint32(50).fork()).join(),0!==e.samplingRate&&n.uint32(56).int32(e.samplingRate),void 0!==e.webSearchEnabled&&b.encode({value:e.webSearchEnabled},n.uint32(66).fork()).join(),0!==e.agentMode&&n.uint32(72).int32(e.agentMode),void 0!==e.imageGenerationEnabled&&b.encode({value:e.imageGenerationEnabled},n.uint32(82).fork()).join(),0!==e.initialBuildMode&&n.uint32(88).int32(e.initialBuildMode),void 0!==e.maxAutonomyEnabled&&b.encode({value:e.maxAutonomyEnabled},n.uint32(98).fork()).join(),0!==e.autonomyLevel&&n.uint32(112).int32(e.autonomyLevel),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={maxSteps:0,enablePlanMode:void 0,enableHumanInLoop:void 0,thinkingEnabled:void 0,modelProfile:0,enableAutomatedTesting:void 0,samplingRate:0,webSearchEnabled:void 0,agentMode:0,imageGenerationEnabled:void 0,initialBuildMode:0,maxAutonomyEnabled:void 0,autonomyLevel:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.maxSteps=t.int32();continue;case 2:if(18!==i)break;a.enablePlanMode=b.decode(t,t.uint32()).value;continue;case 3:if(26!==i)break;a.enableHumanInLoop=b.decode(t,t.uint32()).value;continue;case 4:if(34!==i)break;a.thinkingEnabled=b.decode(t,t.uint32()).value;continue;case 5:if(40!==i)break;a.modelProfile=t.int32();continue;case 6:if(50!==i)break;a.enableAutomatedTesting=b.decode(t,t.uint32()).value;continue;case 7:if(56!==i)break;a.samplingRate=t.int32();continue;case 8:if(66!==i)break;a.webSearchEnabled=b.decode(t,t.uint32()).value;continue;case 9:if(72!==i)break;a.agentMode=t.int32();continue;case 10:if(82!==i)break;a.imageGenerationEnabled=b.decode(t,t.uint32()).value;continue;case 11:if(88!==i)break;a.initialBuildMode=t.int32();continue;case 12:if(98!==i)break;a.maxAutonomyEnabled=b.decode(t,t.uint32()).value;continue;case 14:if(112!==i)break;a.autonomyLevel=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tR.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tR.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tR.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tR.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{maxSteps:i4(e.maxSteps)?globalThis.Number(e.maxSteps):0,enablePlanMode:i4(e.enablePlanMode)?!!e.enablePlanMode:void 0,enableHumanInLoop:i4(e.enableHumanInLoop)?!!e.enableHumanInLoop:void 0,thinkingEnabled:i4(e.thinkingEnabled)?!!e.thinkingEnabled:void 0,modelProfile:i4(e.modelProfile)?function(e){switch(e){case 0:case"MODEL_PROFILE_UNSPECIFIED":return A.Fj.UNSPECIFIED;case 1:case"MODEL_PROFILE_STANDARD":return A.Fj.STANDARD;case 2:case"MODEL_PROFILE_ADVANCED":return A.Fj.ADVANCED;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum ModelProfile")}}(e.modelProfile):0,enableAutomatedTesting:i4(e.enableAutomatedTesting)?!!e.enableAutomatedTesting:void 0,samplingRate:i4(e.samplingRate)?globalThis.Number(e.samplingRate):0,webSearchEnabled:i4(e.webSearchEnabled)?!!e.webSearchEnabled:void 0,agentMode:i4(e.agentMode)?B(e.agentMode):0,imageGenerationEnabled:i4(e.imageGenerationEnabled)?!!e.imageGenerationEnabled:void 0,initialBuildMode:i4(e.initialBuildMode)?$(e.initialBuildMode):0,maxAutonomyEnabled:i4(e.maxAutonomyEnabled)?!!e.maxAutonomyEnabled:void 0,autonomyLevel:i4(e.autonomyLevel)?function(e){switch(e){case 0:case"AUTONOMY_LEVEL_UNSPECIFIED":return A.TA.UNSPECIFIED;case 1:case"AUTONOMY_LEVEL_LOW":return A.TA.LOW;case 2:case"AUTONOMY_LEVEL_MEDIUM":return A.TA.MEDIUM;case 3:case"AUTONOMY_LEVEL_HIGH":return A.TA.HIGH;case 4:case"AUTONOMY_LEVEL_MAX":return A.TA.MAX;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AutonomyLevel")}}(e.autonomyLevel):0}},toJSON:function(e){var n={};return 0!==e.maxSteps&&(n.maxSteps=Math.round(e.maxSteps)),void 0!==e.enablePlanMode&&(n.enablePlanMode=e.enablePlanMode),void 0!==e.enableHumanInLoop&&(n.enableHumanInLoop=e.enableHumanInLoop),void 0!==e.thinkingEnabled&&(n.thinkingEnabled=e.thinkingEnabled),0!==e.modelProfile&&(n.modelProfile=function(e){switch(e){case A.Fj.UNSPECIFIED:return"MODEL_PROFILE_UNSPECIFIED";case A.Fj.STANDARD:return"MODEL_PROFILE_STANDARD";case A.Fj.ADVANCED:return"MODEL_PROFILE_ADVANCED";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum ModelProfile")}}(e.modelProfile)),void 0!==e.enableAutomatedTesting&&(n.enableAutomatedTesting=e.enableAutomatedTesting),0!==e.samplingRate&&(n.samplingRate=Math.round(e.samplingRate)),void 0!==e.webSearchEnabled&&(n.webSearchEnabled=e.webSearchEnabled),0!==e.agentMode&&(n.agentMode=V(e.agentMode)),void 0!==e.imageGenerationEnabled&&(n.imageGenerationEnabled=e.imageGenerationEnabled),0!==e.initialBuildMode&&(n.initialBuildMode=G(e.initialBuildMode)),void 0!==e.maxAutonomyEnabled&&(n.maxAutonomyEnabled=e.maxAutonomyEnabled),0!==e.autonomyLevel&&(n.autonomyLevel=function(e){switch(e){case A.TA.UNSPECIFIED:return"AUTONOMY_LEVEL_UNSPECIFIED";case A.TA.LOW:return"AUTONOMY_LEVEL_LOW";case A.TA.MEDIUM:return"AUTONOMY_LEVEL_MEDIUM";case A.TA.HIGH:return"AUTONOMY_LEVEL_HIGH";case A.TA.MAX:return"AUTONOMY_LEVEL_MAX";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AutonomyLevel")}}(e.autonomyLevel)),n}};c.set(tR.$type,tR);var tN={$type:"replit.ai.chat.MessageEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.mostRecentFile&&n.uint32(10).string(e.mostRecentFile);var t=!0,r=!1,a=void 0;try{for(var i,o=e.fileContext[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;nX.encode(s,n.uint32(18).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}void 0!==e.modelSelector&&tT.encode(e.modelSelector,n.uint32(26).fork()).join(),0!==e.intent&&n.uint32(32).int32(e.intent);var l=!0,c=!1,d=void 0;try{for(var f,p=e.extraResources[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;n.uint32(42).string(h)}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}return!1!==e.useRag&&n.uint32(48).bool(e.useRag),void 0!==e.agentConfig&&tR.encode(e.agentConfig,n.uint32(58).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={mostRecentFile:"",fileContext:[],modelSelector:void 0,intent:0,extraResources:[],useRag:!1,agentConfig:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.mostRecentFile=t.string();continue;case 2:if(18!==i)break;a.fileContext.push(nX.decode(t,t.uint32()));continue;case 3:if(26!==i)break;a.modelSelector=tT.decode(t,t.uint32());continue;case 4:if(32!==i)break;a.intent=t.int32();continue;case 5:if(42!==i)break;a.extraResources.push(t.string());continue;case 6:if(48!==i)break;a.useRag=t.bool();continue;case 7:if(58!==i)break;a.agentConfig=tR.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tN.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tN.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tN.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tN.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{mostRecentFile:i4(e.mostRecentFile)?globalThis.String(e.mostRecentFile):"",fileContext:globalThis.Array.isArray(null==e?void 0:e.fileContext)?e.fileContext.map(function(e){return nX.fromJSON(e)}):[],modelSelector:i4(e.modelSelector)?tT.fromJSON(e.modelSelector):void 0,intent:i4(e.intent)?J(e.intent):0,extraResources:globalThis.Array.isArray(null==e?void 0:e.extraResources)?e.extraResources.map(function(e){return globalThis.String(e)}):[],useRag:!!i4(e.useRag)&&globalThis.Boolean(e.useRag),agentConfig:i4(e.agentConfig)?tR.fromJSON(e.agentConfig):void 0}},toJSON:function(e){var n,t,r={};return""!==e.mostRecentFile&&(r.mostRecentFile=e.mostRecentFile),(null==(n=e.fileContext)?void 0:n.length)&&(r.fileContext=e.fileContext.map(function(e){return nX.toJSON(e)})),void 0!==e.modelSelector&&(r.modelSelector=tT.toJSON(e.modelSelector)),0!==e.intent&&(r.intent=H(e.intent)),(null==(t=e.extraResources)?void 0:t.length)&&(r.extraResources=e.extraResources),!1!==e.useRag&&(r.useRag=e.useRag),void 0!==e.agentConfig&&(r.agentConfig=tR.toJSON(e.agentConfig)),r}};c.set(tN.$type,tN);var tO={$type:"replit.ai.chat.InlineActionEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.mostRecentFile&&n.uint32(10).string(e.mostRecentFile);var t=!0,r=!1,a=void 0;try{for(var i,o=e.fileContext[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;nX.encode(s,n.uint32(18).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}void 0!==e.modelSelector&&tT.encode(e.modelSelector,n.uint32(26).fork()).join();var l=!0,c=!1,d=void 0;try{for(var f,p=e.extraResources[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;n.uint32(42).string(h)}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}return!1!==e.useRag&&n.uint32(48).bool(e.useRag),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={mostRecentFile:"",fileContext:[],modelSelector:void 0,extraResources:[],useRag:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.mostRecentFile=t.string();continue;case 2:if(18!==i)break;a.fileContext.push(nX.decode(t,t.uint32()));continue;case 3:if(26!==i)break;a.modelSelector=tT.decode(t,t.uint32());continue;case 5:if(42!==i)break;a.extraResources.push(t.string());continue;case 6:if(48!==i)break;a.useRag=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tO.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tO.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tO.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tO.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{mostRecentFile:i4(e.mostRecentFile)?globalThis.String(e.mostRecentFile):"",fileContext:globalThis.Array.isArray(null==e?void 0:e.fileContext)?e.fileContext.map(function(e){return nX.fromJSON(e)}):[],modelSelector:i4(e.modelSelector)?tT.fromJSON(e.modelSelector):void 0,extraResources:globalThis.Array.isArray(null==e?void 0:e.extraResources)?e.extraResources.map(function(e){return globalThis.String(e)}):[],useRag:!!i4(e.useRag)&&globalThis.Boolean(e.useRag)}},toJSON:function(e){var n,t,r={};return""!==e.mostRecentFile&&(r.mostRecentFile=e.mostRecentFile),(null==(n=e.fileContext)?void 0:n.length)&&(r.fileContext=e.fileContext.map(function(e){return nX.toJSON(e)})),void 0!==e.modelSelector&&(r.modelSelector=tT.toJSON(e.modelSelector)),(null==(t=e.extraResources)?void 0:t.length)&&(r.extraResources=e.extraResources),!1!==e.useRag&&(r.useRag=e.useRag),r}};c.set(tO.$type,tO);var tP={$type:"replit.ai.chat.UpdateEventOperation",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.id&&n.uint32(10).string(e.id),0!==e.operationType&&n.uint32(16).int32(e.operationType),""!==e.key&&n.uint32(26).string(e.key),""!==e.value&&n.uint32(34).string(e.value),0!==e.intValue&&n.uint32(40).int32(e.intValue),!1!==e.boolValue&&n.uint32(48).bool(e.boolValue),void 0!==e.protobufValue&&av.encode(e.protobufValue,n.uint32(58).fork()).join(),void 0!==e.structValue&&ag.encode(e.structValue,n.uint32(66).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={id:"",operationType:0,key:"",value:"",intValue:0,boolValue:!1,protobufValue:void 0,structValue:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.id=t.string();continue;case 2:if(16!==i)break;a.operationType=t.int32();continue;case 3:if(26!==i)break;a.key=t.string();continue;case 4:if(34!==i)break;a.value=t.string();continue;case 5:if(40!==i)break;a.intValue=t.int32();continue;case 6:if(48!==i)break;a.boolValue=t.bool();continue;case 7:if(58!==i)break;a.protobufValue=av.decode(t,t.uint32());continue;case 8:if(66!==i)break;a.structValue=ag.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tP.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tP.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tP.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tP.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{id:i4(e.id)?globalThis.String(e.id):"",operationType:i4(e.operationType)?function(e){switch(e){case 0:case"SET":return A.Fe.SET;case 1:case"ADD":return A.Fe.ADD;case 2:case"CLEAR":return A.Fe.CLEAR;case 3:case"APPEND":return A.Fe.APPEND;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum UpdateEventOperationType")}}(e.operationType):0,key:i4(e.key)?globalThis.String(e.key):"",value:i4(e.value)?globalThis.String(e.value):"",intValue:i4(e.intValue)?globalThis.Number(e.intValue):0,boolValue:!!i4(e.boolValue)&&globalThis.Boolean(e.boolValue),protobufValue:i4(e.protobufValue)?av.fromJSON(e.protobufValue):void 0,structValue:i4(e.structValue)?ag.fromJSON(e.structValue):void 0}},toJSON:function(e){var n={};return""!==e.id&&(n.id=e.id),0!==e.operationType&&(n.operationType=function(e){switch(e){case A.Fe.SET:return"SET";case A.Fe.ADD:return"ADD";case A.Fe.CLEAR:return"CLEAR";case A.Fe.APPEND:return"APPEND";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum UpdateEventOperationType")}}(e.operationType)),""!==e.key&&(n.key=e.key),""!==e.value&&(n.value=e.value),0!==e.intValue&&(n.intValue=Math.round(e.intValue)),!1!==e.boolValue&&(n.boolValue=e.boolValue),void 0!==e.protobufValue&&(n.protobufValue=av.toJSON(e.protobufValue)),void 0!==e.structValue&&(n.structValue=ag.toJSON(e.structValue)),n}};c.set(tP.$type,tP);var tF={$type:"replit.ai.chat.TypedUpdateEventOperation",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(""!==e.id&&t.uint32(10).string(e.id),null==(n=e.operation)?void 0:n.$case){case"messageContentsUpdate":t$.encode(e.operation.value,t.uint32(18).fork()).join();break;case"shellSuggestionContentsUpdate":tj.encode(e.operation.value,t.uint32(26).fork()).join();break;case"addSourcesUpdate":tK.encode(e.operation.value,t.uint32(34).fork()).join();break;case"addSuggestedTemplatesUpdate":tQ.encode(e.operation.value,t.uint32(42).fork()).join();break;case"byoPromptResultUpdate":ri.encode(e.operation.value,t.uint32(50).fork()).join();break;case"messageContentsSet":tW.encode(e.operation.value,t.uint32(58).fork()).join();break;case"agentTimelineEventSet":tH.encode(e.operation.value,t.uint32(66).fork()).join();break;case"hostingDebugSummaryEventSet":tB.encode(e.operation.value,t.uint32(74).fork()).join();break;case"replCreationEventSet":tV.encode(e.operation.value,t.uint32(82).fork()).join();break;case"localShellExecutionEventSet":tq.encode(e.operation.value,t.uint32(90).fork()).join();break;case"agentTimelineEventCreateFileAddContent":tZ.encode(e.operation.value,t.uint32(98).fork()).join();break;case"addProposedFileChange":t2.encode(e.operation.value,t.uint32(106).fork()).join();break;case"updateProposedFileChange":t3.encode(e.operation.value,t.uint32(114).fork()).join();break;case"addProposedFileChangesMetadata":t1.encode(e.operation.value,t.uint32(122).fork()).join();break;case"addProposedShellCommand":t4.encode(e.operation.value,t.uint32(130).fork()).join();break;case"addProposedActionsMetadata":tX.encode(e.operation.value,t.uint32(138).fork()).join();break;case"agentAskUserForActionRequestSet":tz.encode(e.operation.value,t.uint32(146).fork()).join();break;case"addRagContext":t0.encode(e.operation.value,t.uint32(154).fork()).join();break;case"addProposedWorkspaceToolNudge":t9.encode(e.operation.value,t.uint32(162).fork()).join();break;case"integrationTestEventContents":tG.encode(e.operation.value,t.uint32(170).fork()).join();break;case"addProposedPackageInstall":t5.encode(e.operation.value,t.uint32(178).fork()).join();break;case"updateRevertStatus":t7.encode(e.operation.value,t.uint32(186).fork()).join();break;case"updateAttachedFormStringFieldSet":n8.encode(e.operation.value,t.uint32(194).fork()).join();break;case"updateAttachedFormStringFieldAppend":n6.encode(e.operation.value,t.uint32(202).fork()).join();break;case"addProposedRunConfiguration":t8.encode(e.operation.value,t.uint32(210).fork()).join();break;case"addProposedDeploymentConfiguration":rn.encode(e.operation.value,t.uint32(218).fork()).join();break;case"appendTimelineMessageContentsUpdate":tU.encode(e.operation.value,t.uint32(226).fork()).join();break;case"appendThoughtContentsUpdate":tL.encode(e.operation.value,t.uint32(234).fork()).join();break;case"appendRedactedThoughtsMarker":tJ.encode(e.operation.value,t.uint32(242).fork()).join();break;case"addProposedWorkflowConfiguration":t6.encode(e.operation.value,t.uint32(250).fork()).join();break;case"updateFileEditLineCounts":re.encode(e.operation.value,t.uint32(258).fork()).join();break;case"addDesignReferenceFile":rt.encode(e.operation.value,t.uint32(266).fork()).join();break;case"updatePlanContents":rr.encode(e.operation.value,t.uint32(274).fork()).join();break;case"updatePlanApprovalStatus":ra.encode(e.operation.value,t.uint32(282).fork()).join();break;case"newThoughtSummaryUpdate":tM.encode(e.operation.value,t.uint32(290).fork()).join();break;case"samplingEventUpdate":iS.encode(e.operation.value,t.uint32(298).fork()).join();break;case"samplingEventStateUpdate":iA.encode(e.operation.value,t.uint32(306).fork()).join();break;case"uiTestingSubagentExecutionEventUpdate":ik.encode(e.operation.value,t.uint32(314).fork()).join();break;case"subagentRunningDataUpdate":iC.encode(e.operation.value,t.uint32(322).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={id:"",operation:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.id=t.string();continue;case 2:if(18!==i)break;a.operation={$case:"messageContentsUpdate",value:t$.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.operation={$case:"shellSuggestionContentsUpdate",value:tj.decode(t,t.uint32())};continue;case 4:if(34!==i)break;a.operation={$case:"addSourcesUpdate",value:tK.decode(t,t.uint32())};continue;case 5:if(42!==i)break;a.operation={$case:"addSuggestedTemplatesUpdate",value:tQ.decode(t,t.uint32())};continue;case 6:if(50!==i)break;a.operation={$case:"byoPromptResultUpdate",value:ri.decode(t,t.uint32())};continue;case 7:if(58!==i)break;a.operation={$case:"messageContentsSet",value:tW.decode(t,t.uint32())};continue;case 8:if(66!==i)break;a.operation={$case:"agentTimelineEventSet",value:tH.decode(t,t.uint32())};continue;case 9:if(74!==i)break;a.operation={$case:"hostingDebugSummaryEventSet",value:tB.decode(t,t.uint32())};continue;case 10:if(82!==i)break;a.operation={$case:"replCreationEventSet",value:tV.decode(t,t.uint32())};continue;case 11:if(90!==i)break;a.operation={$case:"localShellExecutionEventSet",value:tq.decode(t,t.uint32())};continue;case 12:if(98!==i)break;a.operation={$case:"agentTimelineEventCreateFileAddContent",value:tZ.decode(t,t.uint32())};continue;case 13:if(106!==i)break;a.operation={$case:"addProposedFileChange",value:t2.decode(t,t.uint32())};continue;case 14:if(114!==i)break;a.operation={$case:"updateProposedFileChange",value:t3.decode(t,t.uint32())};continue;case 15:if(122!==i)break;a.operation={$case:"addProposedFileChangesMetadata",value:t1.decode(t,t.uint32())};continue;case 16:if(130!==i)break;a.operation={$case:"addProposedShellCommand",value:t4.decode(t,t.uint32())};continue;case 17:if(138!==i)break;a.operation={$case:"addProposedActionsMetadata",value:tX.decode(t,t.uint32())};continue;case 18:if(146!==i)break;a.operation={$case:"agentAskUserForActionRequestSet",value:tz.decode(t,t.uint32())};continue;case 19:if(154!==i)break;a.operation={$case:"addRagContext",value:t0.decode(t,t.uint32())};continue;case 20:if(162!==i)break;a.operation={$case:"addProposedWorkspaceToolNudge",value:t9.decode(t,t.uint32())};continue;case 21:if(170!==i)break;a.operation={$case:"integrationTestEventContents",value:tG.decode(t,t.uint32())};continue;case 22:if(178!==i)break;a.operation={$case:"addProposedPackageInstall",value:t5.decode(t,t.uint32())};continue;case 23:if(186!==i)break;a.operation={$case:"updateRevertStatus",value:t7.decode(t,t.uint32())};continue;case 24:if(194!==i)break;a.operation={$case:"updateAttachedFormStringFieldSet",value:n8.decode(t,t.uint32())};continue;case 25:if(202!==i)break;a.operation={$case:"updateAttachedFormStringFieldAppend",value:n6.decode(t,t.uint32())};continue;case 26:if(210!==i)break;a.operation={$case:"addProposedRunConfiguration",value:t8.decode(t,t.uint32())};continue;case 27:if(218!==i)break;a.operation={$case:"addProposedDeploymentConfiguration",value:rn.decode(t,t.uint32())};continue;case 28:if(226!==i)break;a.operation={$case:"appendTimelineMessageContentsUpdate",value:tU.decode(t,t.uint32())};continue;case 29:if(234!==i)break;a.operation={$case:"appendThoughtContentsUpdate",value:tL.decode(t,t.uint32())};continue;case 30:if(242!==i)break;a.operation={$case:"appendRedactedThoughtsMarker",value:tJ.decode(t,t.uint32())};continue;case 31:if(250!==i)break;a.operation={$case:"addProposedWorkflowConfiguration",value:t6.decode(t,t.uint32())};continue;case 32:if(258!==i)break;a.operation={$case:"updateFileEditLineCounts",value:re.decode(t,t.uint32())};continue;case 33:if(266!==i)break;a.operation={$case:"addDesignReferenceFile",value:rt.decode(t,t.uint32())};continue;case 34:if(274!==i)break;a.operation={$case:"updatePlanContents",value:rr.decode(t,t.uint32())};continue;case 35:if(282!==i)break;a.operation={$case:"updatePlanApprovalStatus",value:ra.decode(t,t.uint32())};continue;case 36:if(290!==i)break;a.operation={$case:"newThoughtSummaryUpdate",value:tM.decode(t,t.uint32())};continue;case 37:if(298!==i)break;a.operation={$case:"samplingEventUpdate",value:iS.decode(t,t.uint32())};continue;case 38:if(306!==i)break;a.operation={$case:"samplingEventStateUpdate",value:iA.decode(t,t.uint32())};continue;case 39:if(314!==i)break;a.operation={$case:"uiTestingSubagentExecutionEventUpdate",value:ik.decode(t,t.uint32())};continue;case 40:if(322!==i)break;a.operation={$case:"subagentRunningDataUpdate",value:iC.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tF.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tF.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tF.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tF.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{id:i4(e.id)?globalThis.String(e.id):"",operation:i4(e.messageContentsUpdate)?{$case:"messageContentsUpdate",value:t$.fromJSON(e.messageContentsUpdate)}:i4(e.shellSuggestionContentsUpdate)?{$case:"shellSuggestionContentsUpdate",value:tj.fromJSON(e.shellSuggestionContentsUpdate)}:i4(e.addSourcesUpdate)?{$case:"addSourcesUpdate",value:tK.fromJSON(e.addSourcesUpdate)}:i4(e.addSuggestedTemplatesUpdate)?{$case:"addSuggestedTemplatesUpdate",value:tQ.fromJSON(e.addSuggestedTemplatesUpdate)}:i4(e.byoPromptResultUpdate)?{$case:"byoPromptResultUpdate",value:ri.fromJSON(e.byoPromptResultUpdate)}:i4(e.messageContentsSet)?{$case:"messageContentsSet",value:tW.fromJSON(e.messageContentsSet)}:i4(e.agentTimelineEventSet)?{$case:"agentTimelineEventSet",value:tH.fromJSON(e.agentTimelineEventSet)}:i4(e.hostingDebugSummaryEventSet)?{$case:"hostingDebugSummaryEventSet",value:tB.fromJSON(e.hostingDebugSummaryEventSet)}:i4(e.replCreationEventSet)?{$case:"replCreationEventSet",value:tV.fromJSON(e.replCreationEventSet)}:i4(e.localShellExecutionEventSet)?{$case:"localShellExecutionEventSet",value:tq.fromJSON(e.localShellExecutionEventSet)}:i4(e.agentTimelineEventCreateFileAddContent)?{$case:"agentTimelineEventCreateFileAddContent",value:tZ.fromJSON(e.agentTimelineEventCreateFileAddContent)}:i4(e.addProposedFileChange)?{$case:"addProposedFileChange",value:t2.fromJSON(e.addProposedFileChange)}:i4(e.updateProposedFileChange)?{$case:"updateProposedFileChange",value:t3.fromJSON(e.updateProposedFileChange)}:i4(e.addProposedFileChangesMetadata)?{$case:"addProposedFileChangesMetadata",value:t1.fromJSON(e.addProposedFileChangesMetadata)}:i4(e.addProposedShellCommand)?{$case:"addProposedShellCommand",value:t4.fromJSON(e.addProposedShellCommand)}:i4(e.addProposedActionsMetadata)?{$case:"addProposedActionsMetadata",value:tX.fromJSON(e.addProposedActionsMetadata)}:i4(e.agentAskUserForActionRequestSet)?{$case:"agentAskUserForActionRequestSet",value:tz.fromJSON(e.agentAskUserForActionRequestSet)}:i4(e.addRagContext)?{$case:"addRagContext",value:t0.fromJSON(e.addRagContext)}:i4(e.addProposedWorkspaceToolNudge)?{$case:"addProposedWorkspaceToolNudge",value:t9.fromJSON(e.addProposedWorkspaceToolNudge)}:i4(e.integrationTestEventContents)?{$case:"integrationTestEventContents",value:tG.fromJSON(e.integrationTestEventContents)}:i4(e.addProposedPackageInstall)?{$case:"addProposedPackageInstall",value:t5.fromJSON(e.addProposedPackageInstall)}:i4(e.updateRevertStatus)?{$case:"updateRevertStatus",value:t7.fromJSON(e.updateRevertStatus)}:i4(e.updateAttachedFormStringFieldSet)?{$case:"updateAttachedFormStringFieldSet",value:n8.fromJSON(e.updateAttachedFormStringFieldSet)}:i4(e.updateAttachedFormStringFieldAppend)?{$case:"updateAttachedFormStringFieldAppend",value:n6.fromJSON(e.updateAttachedFormStringFieldAppend)}:i4(e.addProposedRunConfiguration)?{$case:"addProposedRunConfiguration",value:t8.fromJSON(e.addProposedRunConfiguration)}:i4(e.addProposedDeploymentConfiguration)?{$case:"addProposedDeploymentConfiguration",value:rn.fromJSON(e.addProposedDeploymentConfiguration)}:i4(e.appendTimelineMessageContentsUpdate)?{$case:"appendTimelineMessageContentsUpdate",value:tU.fromJSON(e.appendTimelineMessageContentsUpdate)}:i4(e.appendThoughtContentsUpdate)?{$case:"appendThoughtContentsUpdate",value:tL.fromJSON(e.appendThoughtContentsUpdate)}:i4(e.appendRedactedThoughtsMarker)?{$case:"appendRedactedThoughtsMarker",value:tJ.fromJSON(e.appendRedactedThoughtsMarker)}:i4(e.addProposedWorkflowConfiguration)?{$case:"addProposedWorkflowConfiguration",value:t6.fromJSON(e.addProposedWorkflowConfiguration)}:i4(e.updateFileEditLineCounts)?{$case:"updateFileEditLineCounts",value:re.fromJSON(e.updateFileEditLineCounts)}:i4(e.addDesignReferenceFile)?{$case:"addDesignReferenceFile",value:rt.fromJSON(e.addDesignReferenceFile)}:i4(e.updatePlanContents)?{$case:"updatePlanContents",value:rr.fromJSON(e.updatePlanContents)}:i4(e.updatePlanApprovalStatus)?{$case:"updatePlanApprovalStatus",value:ra.fromJSON(e.updatePlanApprovalStatus)}:i4(e.newThoughtSummaryUpdate)?{$case:"newThoughtSummaryUpdate",value:tM.fromJSON(e.newThoughtSummaryUpdate)}:i4(e.samplingEventUpdate)?{$case:"samplingEventUpdate",value:iS.fromJSON(e.samplingEventUpdate)}:i4(e.samplingEventStateUpdate)?{$case:"samplingEventStateUpdate",value:iA.fromJSON(e.samplingEventStateUpdate)}:i4(e.uiTestingSubagentExecutionEventUpdate)?{$case:"uiTestingSubagentExecutionEventUpdate",value:ik.fromJSON(e.uiTestingSubagentExecutionEventUpdate)}:i4(e.subagentRunningDataUpdate)?{$case:"subagentRunningDataUpdate",value:iC.fromJSON(e.subagentRunningDataUpdate)}:void 0}},toJSON:function(e){var n,t,r,a,i,o,s,l,u,c,d,f,p,h,m,v,g,b,y,w,_,S,A,k,C,Y,E,x,T,D,I,R,N,O,P,F,U,L,M,J={};return""!==e.id&&(J.id=e.id),(null==(n=e.operation)?void 0:n.$case)==="messageContentsUpdate"?J.messageContentsUpdate=t$.toJSON(e.operation.value):(null==(t=e.operation)?void 0:t.$case)==="shellSuggestionContentsUpdate"?J.shellSuggestionContentsUpdate=tj.toJSON(e.operation.value):(null==(r=e.operation)?void 0:r.$case)==="addSourcesUpdate"?J.addSourcesUpdate=tK.toJSON(e.operation.value):(null==(a=e.operation)?void 0:a.$case)==="addSuggestedTemplatesUpdate"?J.addSuggestedTemplatesUpdate=tQ.toJSON(e.operation.value):(null==(i=e.operation)?void 0:i.$case)==="byoPromptResultUpdate"?J.byoPromptResultUpdate=ri.toJSON(e.operation.value):(null==(o=e.operation)?void 0:o.$case)==="messageContentsSet"?J.messageContentsSet=tW.toJSON(e.operation.value):(null==(s=e.operation)?void 0:s.$case)==="agentTimelineEventSet"?J.agentTimelineEventSet=tH.toJSON(e.operation.value):(null==(l=e.operation)?void 0:l.$case)==="hostingDebugSummaryEventSet"?J.hostingDebugSummaryEventSet=tB.toJSON(e.operation.value):(null==(u=e.operation)?void 0:u.$case)==="replCreationEventSet"?J.replCreationEventSet=tV.toJSON(e.operation.value):(null==(c=e.operation)?void 0:c.$case)==="localShellExecutionEventSet"?J.localShellExecutionEventSet=tq.toJSON(e.operation.value):(null==(d=e.operation)?void 0:d.$case)==="agentTimelineEventCreateFileAddContent"?J.agentTimelineEventCreateFileAddContent=tZ.toJSON(e.operation.value):(null==(f=e.operation)?void 0:f.$case)==="addProposedFileChange"?J.addProposedFileChange=t2.toJSON(e.operation.value):(null==(p=e.operation)?void 0:p.$case)==="updateProposedFileChange"?J.updateProposedFileChange=t3.toJSON(e.operation.value):(null==(h=e.operation)?void 0:h.$case)==="addProposedFileChangesMetadata"?J.addProposedFileChangesMetadata=t1.toJSON(e.operation.value):(null==(m=e.operation)?void 0:m.$case)==="addProposedShellCommand"?J.addProposedShellCommand=t4.toJSON(e.operation.value):(null==(v=e.operation)?void 0:v.$case)==="addProposedActionsMetadata"?J.addProposedActionsMetadata=tX.toJSON(e.operation.value):(null==(g=e.operation)?void 0:g.$case)==="agentAskUserForActionRequestSet"?J.agentAskUserForActionRequestSet=tz.toJSON(e.operation.value):(null==(b=e.operation)?void 0:b.$case)==="addRagContext"?J.addRagContext=t0.toJSON(e.operation.value):(null==(y=e.operation)?void 0:y.$case)==="addProposedWorkspaceToolNudge"?J.addProposedWorkspaceToolNudge=t9.toJSON(e.operation.value):(null==(w=e.operation)?void 0:w.$case)==="integrationTestEventContents"?J.integrationTestEventContents=tG.toJSON(e.operation.value):(null==(_=e.operation)?void 0:_.$case)==="addProposedPackageInstall"?J.addProposedPackageInstall=t5.toJSON(e.operation.value):(null==(S=e.operation)?void 0:S.$case)==="updateRevertStatus"?J.updateRevertStatus=t7.toJSON(e.operation.value):(null==(A=e.operation)?void 0:A.$case)==="updateAttachedFormStringFieldSet"?J.updateAttachedFormStringFieldSet=n8.toJSON(e.operation.value):(null==(k=e.operation)?void 0:k.$case)==="updateAttachedFormStringFieldAppend"?J.updateAttachedFormStringFieldAppend=n6.toJSON(e.operation.value):(null==(C=e.operation)?void 0:C.$case)==="addProposedRunConfiguration"?J.addProposedRunConfiguration=t8.toJSON(e.operation.value):(null==(Y=e.operation)?void 0:Y.$case)==="addProposedDeploymentConfiguration"?J.addProposedDeploymentConfiguration=rn.toJSON(e.operation.value):(null==(E=e.operation)?void 0:E.$case)==="appendTimelineMessageContentsUpdate"?J.appendTimelineMessageContentsUpdate=tU.toJSON(e.operation.value):(null==(x=e.operation)?void 0:x.$case)==="appendThoughtContentsUpdate"?J.appendThoughtContentsUpdate=tL.toJSON(e.operation.value):(null==(T=e.operation)?void 0:T.$case)==="appendRedactedThoughtsMarker"?J.appendRedactedThoughtsMarker=tJ.toJSON(e.operation.value):(null==(D=e.operation)?void 0:D.$case)==="addProposedWorkflowConfiguration"?J.addProposedWorkflowConfiguration=t6.toJSON(e.operation.value):(null==(I=e.operation)?void 0:I.$case)==="updateFileEditLineCounts"?J.updateFileEditLineCounts=re.toJSON(e.operation.value):(null==(R=e.operation)?void 0:R.$case)==="addDesignReferenceFile"?J.addDesignReferenceFile=rt.toJSON(e.operation.value):(null==(N=e.operation)?void 0:N.$case)==="updatePlanContents"?J.updatePlanContents=rr.toJSON(e.operation.value):(null==(O=e.operation)?void 0:O.$case)==="updatePlanApprovalStatus"?J.updatePlanApprovalStatus=ra.toJSON(e.operation.value):(null==(P=e.operation)?void 0:P.$case)==="newThoughtSummaryUpdate"?J.newThoughtSummaryUpdate=tM.toJSON(e.operation.value):(null==(F=e.operation)?void 0:F.$case)==="samplingEventUpdate"?J.samplingEventUpdate=iS.toJSON(e.operation.value):(null==(U=e.operation)?void 0:U.$case)==="samplingEventStateUpdate"?J.samplingEventStateUpdate=iA.toJSON(e.operation.value):(null==(L=e.operation)?void 0:L.$case)==="uiTestingSubagentExecutionEventUpdate"?J.uiTestingSubagentExecutionEventUpdate=ik.toJSON(e.operation.value):(null==(M=e.operation)?void 0:M.$case)==="subagentRunningDataUpdate"&&(J.subagentRunningDataUpdate=iC.toJSON(e.operation.value)),J}};c.set(tF.$type,tF);var tU={$type:"replit.ai.chat.AppendTimelineMessageContentsUpdate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.content&&n.uint32(10).string(e.content),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={content:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.content=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tU.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tU.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tU.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tU.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{content:i4(e.content)?globalThis.String(e.content):""}},toJSON:function(e){var n={};return""!==e.content&&(n.content=e.content),n}};c.set(tU.$type,tU);var tL={$type:"replit.ai.chat.AppendThoughtContentsUpdate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.content&&n.uint32(10).string(e.content),0!==e.totalTimeTakenMs&&n.uint32(16).int64(e.totalTimeTakenMs),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={content:"",totalTimeTakenMs:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.content=t.string();continue;case 2:if(16!==i)break;a.totalTimeTakenMs=i3(t.int64());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tL.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tL.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tL.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tL.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{content:i4(e.content)?globalThis.String(e.content):"",totalTimeTakenMs:i4(e.totalTimeTakenMs)?globalThis.Number(e.totalTimeTakenMs):0}},toJSON:function(e){var n={};return""!==e.content&&(n.content=e.content),0!==e.totalTimeTakenMs&&(n.totalTimeTakenMs=Math.round(e.totalTimeTakenMs)),n}};c.set(tL.$type,tL);var tM={$type:"replit.ai.chat.NewThoughtSummaryUpdate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.summary&&n.uint32(10).string(e.summary),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={summary:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.summary=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tM.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tM.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tM.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tM.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{summary:i4(e.summary)?globalThis.String(e.summary):""}},toJSON:function(e){var n={};return""!==e.summary&&(n.summary=e.summary),n}};c.set(tM.$type,tM);var tJ={$type:"replit.ai.chat.AppendRedactedThoughtsMarkerUpdate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.marker&&nV.encode(e.marker,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={marker:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.marker=nV.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tJ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tJ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tJ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tJ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{marker:i4(e.marker)?nV.fromJSON(e.marker):void 0}},toJSON:function(e){var n={};return void 0!==e.marker&&(n.marker=nV.toJSON(e.marker)),n}};c.set(tJ.$type,tJ);var tH={$type:"replit.ai.chat.AgentTimelineEventSet",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.contents&&nM.encode(e.contents,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={contents:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.contents=nM.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tH.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tH.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tH.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tH.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{contents:i4(e.contents)?nM.fromJSON(e.contents):void 0}},toJSON:function(e){var n={};return void 0!==e.contents&&(n.contents=nM.toJSON(e.contents)),n}};c.set(tH.$type,tH);var tB={$type:"replit.ai.chat.HostingDebugSummaryEventSet",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.contents&&aH.encode(e.contents,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={contents:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.contents=aH.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tB.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tB.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tB.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tB.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{contents:i4(e.contents)?aH.fromJSON(e.contents):void 0}},toJSON:function(e){var n={};return void 0!==e.contents&&(n.contents=aH.toJSON(e.contents)),n}};c.set(tB.$type,tB);var tV={$type:"replit.ai.chat.ReplCreationEventSet",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.contents&&aV.encode(e.contents,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={contents:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.contents=aV.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tV.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tV.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tV.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tV.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{contents:i4(e.contents)?aV.fromJSON(e.contents):void 0}},toJSON:function(e){var n={};return void 0!==e.contents&&(n.contents=aV.toJSON(e.contents)),n}};c.set(tV.$type,tV);var t$={$type:"replit.ai.chat.MessageContentsUpdate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.content&&n.uint32(10).string(e.content),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={content:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.content=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t$.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t$.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t$.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t$.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{content:i4(e.content)?globalThis.String(e.content):""}},toJSON:function(e){var n={};return""!==e.content&&(n.content=e.content),n}};c.set(t$.$type,t$);var tG={$type:"replit.ai.chat.IntegrationTestEventContentsUpdate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.content&&n.uint32(10).string(e.content),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={content:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.content=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tG.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tG.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tG.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tG.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{content:i4(e.content)?globalThis.String(e.content):""}},toJSON:function(e){var n={};return""!==e.content&&(n.content=e.content),n}};c.set(tG.$type,tG);var tz={$type:"replit.ai.chat.AgentAskUserForActionRequestSet",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.request&&e4.encode(e.request,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={request:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.request=e4.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tz.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tz.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tz.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tz.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{request:i4(e.request)?e4.fromJSON(e.request):void 0}},toJSON:function(e){var n={};return void 0!==e.request&&(n.request=e4.toJSON(e.request)),n}};c.set(tz.$type,tz);var tW={$type:"replit.ai.chat.MessageContentsSet",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.content&&n.uint32(10).string(e.content),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={content:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.content=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tW.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tW.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tW.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tW.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{content:i4(e.content)?globalThis.String(e.content):""}},toJSON:function(e){var n={};return""!==e.content&&(n.content=e.content),n}};c.set(tW.$type,tW);var tj={$type:"replit.ai.chat.ShellSuggestionContentsUpdate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.content&&n.uint32(10).string(e.content),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={content:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.content=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tj.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tj.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tj.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tj.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{content:i4(e.content)?globalThis.String(e.content):""}},toJSON:function(e){var n={};return""!==e.content&&(n.content=e.content),n}};c.set(tj.$type,tj);var tq={$type:"replit.ai.chat.LocalShellExecutionEventSet",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.contents&&tY.encode(e.contents,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={contents:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.contents=tY.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tq.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tq.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tq.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tq.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{contents:i4(e.contents)?tY.fromJSON(e.contents):void 0}},toJSON:function(e){var n={};return void 0!==e.contents&&(n.contents=tY.toJSON(e.contents)),n}};c.set(tq.$type,tq);var tZ={$type:"replit.ai.chat.AgentTimelineEventCreateFileAddContent",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.content&&n.uint32(10).string(e.content),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={content:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.content=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tZ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tZ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tZ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tZ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{content:i4(e.content)?globalThis.String(e.content):""}},toJSON:function(e){var n={};return""!==e.content&&(n.content=e.content),n}};c.set(tZ.$type,tZ);var tK={$type:"replit.ai.chat.AddSourcesUpdate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.sources[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;tw.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={sources:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.sources.push(tw.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tK.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tK.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tK.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tK.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{sources:globalThis.Array.isArray(null==e?void 0:e.sources)?e.sources.map(function(e){return tw.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.sources)?void 0:n.length)&&(t.sources=e.sources.map(function(e){return tw.toJSON(e)})),t}};c.set(tK.$type,tK);var tQ={$type:"replit.ai.chat.AddSuggestedTemplatesUpdate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.templates[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;td.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={templates:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.templates.push(td.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tQ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tQ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tQ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tQ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{templates:globalThis.Array.isArray(null==e?void 0:e.templates)?e.templates.map(function(e){return td.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.templates)?void 0:n.length)&&(t.templates=e.templates.map(function(e){return td.toJSON(e)})),t}};c.set(tQ.$type,tQ);var tX={$type:"replit.ai.chat.AddProposedActionsMetadata",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.summary&&n.uint32(10).string(e.summary),""!==e.commitId&&n.uint32(18).string(e.commitId),void 0!==e.didCreateCheckpoint&&b.encode({value:e.didCreateCheckpoint},n.uint32(26).fork()).join(),!1!==e.didCountEditRequest&&n.uint32(32).bool(e.didCountEditRequest),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={summary:"",commitId:"",didCreateCheckpoint:void 0,didCountEditRequest:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.summary=t.string();continue;case 2:if(18!==i)break;a.commitId=t.string();continue;case 3:if(26!==i)break;a.didCreateCheckpoint=b.decode(t,t.uint32()).value;continue;case 4:if(32!==i)break;a.didCountEditRequest=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tX.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tX.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([tX.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([tX.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{summary:i4(e.summary)?globalThis.String(e.summary):"",commitId:i4(e.commitId)?globalThis.String(e.commitId):"",didCreateCheckpoint:i4(e.didCreateCheckpoint)?!!e.didCreateCheckpoint:void 0,didCountEditRequest:!!i4(e.didCountEditRequest)&&globalThis.Boolean(e.didCountEditRequest)}},toJSON:function(e){var n={};return""!==e.summary&&(n.summary=e.summary),""!==e.commitId&&(n.commitId=e.commitId),void 0!==e.didCreateCheckpoint&&(n.didCreateCheckpoint=e.didCreateCheckpoint),!1!==e.didCountEditRequest&&(n.didCountEditRequest=e.didCountEditRequest),n}};c.set(tX.$type,tX);var t0={$type:"replit.ai.chat.AddRagContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.newContext&&te.encode(e.newContext,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={newContext:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.newContext=te.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t0.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t0.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t0.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t0.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{newContext:i4(e.newContext)?te.fromJSON(e.newContext):void 0}},toJSON:function(e){var n={};return void 0!==e.newContext&&(n.newContext=te.toJSON(e.newContext)),n}};c.set(t0.$type,t0);var t1={$type:"replit.ai.chat.AddProposedFileChangesMetadata",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.summary&&n.uint32(10).string(e.summary),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={summary:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.summary=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t1.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t1.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t1.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t1.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{summary:i4(e.summary)?globalThis.String(e.summary):""}},toJSON:function(e){var n={};return""!==e.summary&&(n.summary=e.summary),n}};c.set(t1.$type,t1);var t2={$type:"replit.ai.chat.AddProposedFileChange",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.change&&tp.encode(e.change,n.uint32(10).fork()).join(),""!==e.commitId&&n.uint32(18).string(e.commitId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={change:void 0,commitId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.change=tp.decode(t,t.uint32());continue;case 2:if(18!==i)break;a.commitId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t2.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t2.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t2.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t2.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{change:i4(e.change)?tp.fromJSON(e.change):void 0,commitId:i4(e.commitId)?globalThis.String(e.commitId):""}},toJSON:function(e){var n={};return void 0!==e.change&&(n.change=tp.toJSON(e.change)),""!==e.commitId&&(n.commitId=e.commitId),n}};c.set(t2.$type,t2);var t3={$type:"replit.ai.chat.UpdateProposedFileChange",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.update&&tp.encode(e.update,n.uint32(10).fork()).join(),void 0!==e.replacement&&tp.encode(e.replacement,n.uint32(18).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={update:void 0,replacement:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.update=tp.decode(t,t.uint32());continue;case 2:if(18!==i)break;a.replacement=tp.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t3.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t3.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t3.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t3.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{update:i4(e.update)?tp.fromJSON(e.update):void 0,replacement:i4(e.replacement)?tp.fromJSON(e.replacement):void 0}},toJSON:function(e){var n={};return void 0!==e.update&&(n.update=tp.toJSON(e.update)),void 0!==e.replacement&&(n.replacement=tp.toJSON(e.replacement)),n}};c.set(t3.$type,t3);var t4={$type:"replit.ai.chat.AddProposedShellCommand",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.command&&th.encode(e.command,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={command:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.command=th.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t4.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t4.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t4.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t4.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{command:i4(e.command)?th.fromJSON(e.command):void 0}},toJSON:function(e){var n={};return void 0!==e.command&&(n.command=th.toJSON(e.command)),n}};c.set(t4.$type,t4);var t5={$type:"replit.ai.chat.AddProposedPackageInstall",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.packageInstalls&&tm.encode(e.packageInstalls,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={packageInstalls:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.packageInstalls=tm.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t5.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t5.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t5.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t5.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{packageInstalls:i4(e.packageInstalls)?tm.fromJSON(e.packageInstalls):void 0}},toJSON:function(e){var n={};return void 0!==e.packageInstalls&&(n.packageInstalls=tm.toJSON(e.packageInstalls)),n}};c.set(t5.$type,t5);var t7={$type:"replit.ai.chat.UpdateRevertStatus",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.newStatus&&n.uint32(8).int32(e.newStatus),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={newStatus:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.newStatus=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t7.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t7.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t7.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t7.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{newStatus:i4(e.newStatus)?j(e.newStatus):0}},toJSON:function(e){var n={};return 0!==e.newStatus&&(n.newStatus=q(e.newStatus)),n}};c.set(t7.$type,t7);var t9={$type:"replit.ai.chat.AddProposedWorkspaceToolNudge",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.nudge&&tv.encode(e.nudge,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={nudge:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.nudge=tv.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t9.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t9.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t9.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t9.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{nudge:i4(e.nudge)?tv.fromJSON(e.nudge):void 0}},toJSON:function(e){var n={};return void 0!==e.nudge&&(n.nudge=tv.toJSON(e.nudge)),n}};c.set(t9.$type,t9);var t8={$type:"replit.ai.chat.AddProposedRunConfiguration",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.runConfiguration&&tg.encode(e.runConfiguration,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={runConfiguration:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.runConfiguration=tg.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t8.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t8.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t8.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t8.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{runConfiguration:i4(e.runConfiguration)?tg.fromJSON(e.runConfiguration):void 0}},toJSON:function(e){var n={};return void 0!==e.runConfiguration&&(n.runConfiguration=tg.toJSON(e.runConfiguration)),n}};c.set(t8.$type,t8);var t6={$type:"replit.ai.chat.AddProposedWorkflowConfiguration",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.workflowConfiguration&&tb.encode(e.workflowConfiguration,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={workflowConfiguration:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.workflowConfiguration=tb.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t6.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t6.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([t6.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([t6.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{workflowConfiguration:i4(e.workflowConfiguration)?tb.fromJSON(e.workflowConfiguration):void 0}},toJSON:function(e){var n={};return void 0!==e.workflowConfiguration&&(n.workflowConfiguration=tb.toJSON(e.workflowConfiguration)),n}};c.set(t6.$type,t6);var re={$type:"replit.ai.chat.UpdateFileEditLineCountsUpdate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.removedLines&&n.uint32(8).int32(e.removedLines),0!==e.addedLines&&n.uint32(16).int32(e.addedLines),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={removedLines:0,addedLines:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.removedLines=t.int32();continue;case 2:if(16!==i)break;a.addedLines=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([re.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([re.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([re.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([re.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{removedLines:i4(e.removedLines)?globalThis.Number(e.removedLines):0,addedLines:i4(e.addedLines)?globalThis.Number(e.addedLines):0}},toJSON:function(e){var n={};return 0!==e.removedLines&&(n.removedLines=Math.round(e.removedLines)),0!==e.addedLines&&(n.addedLines=Math.round(e.addedLines)),n}};c.set(re.$type,re);var rn={$type:"replit.ai.chat.AddProposedDeploymentConfiguration",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.deploymentConfiguration&&ty.encode(e.deploymentConfiguration,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={deploymentConfiguration:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.deploymentConfiguration=ty.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rn.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rn.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rn.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rn.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{deploymentConfiguration:i4(e.deploymentConfiguration)?ty.fromJSON(e.deploymentConfiguration):void 0}},toJSON:function(e){var n={};return void 0!==e.deploymentConfiguration&&(n.deploymentConfiguration=ty.toJSON(e.deploymentConfiguration)),n}};c.set(rn.$type,rn);var rt={$type:"replit.ai.chat.AddDesignReferenceFile",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.filePath&&n.uint32(10).string(e.filePath),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={filePath:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.filePath=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rt.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rt.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rt.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rt.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{filePath:i4(e.filePath)?globalThis.String(e.filePath):""}},toJSON:function(e){var n={};return""!==e.filePath&&(n.filePath=e.filePath),n}};c.set(rt.$type,rt);var rr={$type:"replit.ai.chat.UpdatePlanContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.step&&nl.encode(e.step,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={step:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.step=nl.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rr.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rr.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rr.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rr.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{step:i4(e.step)?nl.fromJSON(e.step):void 0}},toJSON:function(e){var n={};return void 0!==e.step&&(n.step=nl.toJSON(e.step)),n}};c.set(rr.$type,rr);var ra={$type:"replit.ai.chat.UpdatePlanApprovalStatus",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return!1!==e.requiresApproval&&n.uint32(8).bool(e.requiresApproval),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={requiresApproval:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.requiresApproval=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ra.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ra.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ra.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ra.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{requiresApproval:!!i4(e.requiresApproval)&&globalThis.Boolean(e.requiresApproval)}},toJSON:function(e){var n={};return!1!==e.requiresApproval&&(n.requiresApproval=e.requiresApproval),n}};c.set(ra.$type,ra);var ri={$type:"replit.ai.chat.BYOPromptResultUpdate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.jsonResult&&n.uint32(10).string(e.jsonResult),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={jsonResult:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.jsonResult=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ri.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ri.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ri.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ri.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{jsonResult:i4(e.jsonResult)?globalThis.String(e.jsonResult):""}},toJSON:function(e){var n={};return""!==e.jsonResult&&(n.jsonResult=e.jsonResult),n}};c.set(ri.$type,ri);var ro={$type:"replit.ai.chat.GovalToken",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.token&&n.uint32(10).string(e.token),""!==e.gurl&&n.uint32(18).string(e.gurl),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={token:"",gurl:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.token=t.string();continue;case 2:if(18!==i)break;a.gurl=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ro.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ro.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ro.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ro.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{token:i4(e.token)?globalThis.String(e.token):"",gurl:i4(e.gurl)?globalThis.String(e.gurl):""}},toJSON:function(e){var n={};return""!==e.token&&(n.token=e.token),""!==e.gurl&&(n.gurl=e.gurl),n}};c.set(ro.$type,ro);var rs={$type:"replit.ai.chat.AuthToken",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;void 0!==e.user&&rl.encode(e.user,n.uint32(10).fork()).join();var t=!0,r=!1,a=void 0;try{for(var i,o=e.replIds[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(18).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return""!==e.issuer&&n.uint32(26).string(e.issuer),void 0!==e.overrideGovalToken&&ro.encode(e.overrideGovalToken,n.uint32(34).fork()).join(),""!==e.forkReplId&&n.uint32(42).string(e.forkReplId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={user:void 0,replIds:[],issuer:"",overrideGovalToken:void 0,forkReplId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.user=rl.decode(t,t.uint32());continue;case 2:if(18!==i)break;a.replIds.push(t.string());continue;case 3:if(26!==i)break;a.issuer=t.string();continue;case 4:if(34!==i)break;a.overrideGovalToken=ro.decode(t,t.uint32());continue;case 5:if(42!==i)break;a.forkReplId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rs.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rs.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rs.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rs.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{user:i4(e.user)?rl.fromJSON(e.user):void 0,replIds:globalThis.Array.isArray(null==e?void 0:e.replIds)?e.replIds.map(function(e){return globalThis.String(e)}):[],issuer:i4(e.issuer)?globalThis.String(e.issuer):"",overrideGovalToken:i4(e.overrideGovalToken)?ro.fromJSON(e.overrideGovalToken):void 0,forkReplId:i4(e.forkReplId)?globalThis.String(e.forkReplId):""}},toJSON:function(e){var n,t={};return void 0!==e.user&&(t.user=rl.toJSON(e.user)),(null==(n=e.replIds)?void 0:n.length)&&(t.replIds=e.replIds),""!==e.issuer&&(t.issuer=e.issuer),void 0!==e.overrideGovalToken&&(t.overrideGovalToken=ro.toJSON(e.overrideGovalToken)),""!==e.forkReplId&&(t.forkReplId=e.forkReplId),t}};c.set(rs.$type,rs);var rl={$type:"replit.ai.chat.UserContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;0!==e.type&&n.uint32(8).int32(e.type),""!==e.id&&n.uint32(18).string(e.id),""!==e.username&&n.uint32(58).string(e.username),0!==e.membership&&n.uint32(24).int32(e.membership);var t=!0,r=!1,a=void 0;try{for(var i,o=e.roles[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(34).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return!1!==e.isTeam&&n.uint32(40).bool(e.isTeam),""!==e.orgId&&n.uint32(50).string(e.orgId),void 0!==e.timeCreated&&d.encode(i0(e.timeCreated),n.uint32(66).fork()).join(),""!==e.flaggingContext&&n.uint32(74).string(e.flaggingContext),!1!==e.modelfarmDisabled&&n.uint32(80).bool(e.modelfarmDisabled),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={type:0,id:"",username:"",membership:0,roles:[],isTeam:!1,orgId:"",timeCreated:void 0,flaggingContext:"",modelfarmDisabled:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.type=t.int32();continue;case 2:if(18!==i)break;a.id=t.string();continue;case 7:if(58!==i)break;a.username=t.string();continue;case 3:if(24!==i)break;a.membership=t.int32();continue;case 4:if(34!==i)break;a.roles.push(t.string());continue;case 5:if(40!==i)break;a.isTeam=t.bool();continue;case 6:if(50!==i)break;a.orgId=t.string();continue;case 8:if(66!==i)break;a.timeCreated=i1(d.decode(t,t.uint32()));continue;case 9:if(74!==i)break;a.flaggingContext=t.string();continue;case 10:if(80!==i)break;a.modelfarmDisabled=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rl.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rl.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rl.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rl.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{type:i4(e.type)?function(e){switch(e){case 0:case"USER_TYPE_UNKNOWN":return A.ut.UNKNOWN;case 1:case"USER":return A.ut.USER;case 2:case"AI":return A.ut.AI;case 3:case"SERVICE":return A.ut.SERVICE;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum UserType")}}(e.type):0,id:i4(e.id)?globalThis.String(e.id):"",username:i4(e.username)?globalThis.String(e.username):"",membership:i4(e.membership)?function(e){switch(e){case 0:case"MEMBERSHIP_TYPE_UNKNOWN":return A.VM.UNKNOWN;case 1:case"FREE":return A.VM.FREE;case 2:case"CORE":return A.VM.CORE;case 3:case"TEAMS":return A.VM.TEAMS;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum MembershipType")}}(e.membership):0,roles:globalThis.Array.isArray(null==e?void 0:e.roles)?e.roles.map(function(e){return globalThis.String(e)}):[],isTeam:!!i4(e.isTeam)&&globalThis.Boolean(e.isTeam),orgId:i4(e.orgId)?globalThis.String(e.orgId):"",timeCreated:i4(e.timeCreated)?i2(e.timeCreated):void 0,flaggingContext:i4(e.flaggingContext)?globalThis.String(e.flaggingContext):"",modelfarmDisabled:!!i4(e.modelfarmDisabled)&&globalThis.Boolean(e.modelfarmDisabled)}},toJSON:function(e){var n,t={};return 0!==e.type&&(t.type=function(e){switch(e){case A.ut.UNKNOWN:return"USER_TYPE_UNKNOWN";case A.ut.USER:return"USER";case A.ut.AI:return"AI";case A.ut.SERVICE:return"SERVICE";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum UserType")}}(e.type)),""!==e.id&&(t.id=e.id),""!==e.username&&(t.username=e.username),0!==e.membership&&(t.membership=function(e){switch(e){case A.VM.UNKNOWN:return"MEMBERSHIP_TYPE_UNKNOWN";case A.VM.FREE:return"FREE";case A.VM.CORE:return"CORE";case A.VM.TEAMS:return"TEAMS";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum MembershipType")}}(e.membership)),(null==(n=e.roles)?void 0:n.length)&&(t.roles=e.roles),!1!==e.isTeam&&(t.isTeam=e.isTeam),""!==e.orgId&&(t.orgId=e.orgId),void 0!==e.timeCreated&&(t.timeCreated=e.timeCreated.toISOString()),""!==e.flaggingContext&&(t.flaggingContext=e.flaggingContext),!1!==e.modelfarmDisabled&&(t.modelfarmDisabled=e.modelfarmDisabled),t}};c.set(rl.$type,rl);var ru={$type:"replit.ai.chat.CreateEventRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.parentEventId&&n.uint32(10).string(e.parentEventId),""!==e.sessionId&&n.uint32(18).string(e.sessionId),0!==e.state&&n.uint32(24).int32(e.state),void 0!==e.contents&&nn.encode(e.contents,n.uint32(34).fork()).join(),void 0!==e.context&&nt.encode(e.context,n.uint32(42).fork()).join(),""!==e.eventId&&n.uint32(50).string(e.eventId),void 0!==e.error&&tD.encode(e.error,n.uint32(58).fork()).join(),void 0!==e.isActive&&b.encode({value:e.isActive},n.uint32(66).fork()).join(),!1!==e.addToChild&&n.uint32(72).bool(e.addToChild),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={parentEventId:"",sessionId:"",state:0,contents:void 0,context:void 0,eventId:"",error:void 0,isActive:void 0,addToChild:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.parentEventId=t.string();continue;case 2:if(18!==i)break;a.sessionId=t.string();continue;case 3:if(24!==i)break;a.state=t.int32();continue;case 4:if(34!==i)break;a.contents=nn.decode(t,t.uint32());continue;case 5:if(42!==i)break;a.context=nt.decode(t,t.uint32());continue;case 6:if(50!==i)break;a.eventId=t.string();continue;case 7:if(58!==i)break;a.error=tD.decode(t,t.uint32());continue;case 8:if(66!==i)break;a.isActive=b.decode(t,t.uint32()).value;continue;case 9:if(72!==i)break;a.addToChild=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ru.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ru.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ru.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ru.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{parentEventId:i4(e.parentEventId)?globalThis.String(e.parentEventId):"",sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",state:i4(e.state)?F(e.state):0,contents:i4(e.contents)?nn.fromJSON(e.contents):void 0,context:i4(e.context)?nt.fromJSON(e.context):void 0,eventId:i4(e.eventId)?globalThis.String(e.eventId):"",error:i4(e.error)?tD.fromJSON(e.error):void 0,isActive:i4(e.isActive)?!!e.isActive:void 0,addToChild:!!i4(e.addToChild)&&globalThis.Boolean(e.addToChild)}},toJSON:function(e){var n={};return""!==e.parentEventId&&(n.parentEventId=e.parentEventId),""!==e.sessionId&&(n.sessionId=e.sessionId),0!==e.state&&(n.state=U(e.state)),void 0!==e.contents&&(n.contents=nn.toJSON(e.contents)),void 0!==e.context&&(n.context=nt.toJSON(e.context)),""!==e.eventId&&(n.eventId=e.eventId),void 0!==e.error&&(n.error=tD.toJSON(e.error)),void 0!==e.isActive&&(n.isActive=e.isActive),!1!==e.addToChild&&(n.addToChild=e.addToChild),n}};c.set(ru.$type,ru);var rc={$type:"replit.ai.chat.CreateEventResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.eventId&&n.uint32(10).string(e.eventId),""!==e.parentEventId&&n.uint32(18).string(e.parentEventId),void 0!==e.created&&d.encode(i0(e.created),n.uint32(26).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventId:"",parentEventId:"",created:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventId=t.string();continue;case 2:if(18!==i)break;a.parentEventId=t.string();continue;case 3:if(26!==i)break;a.created=i1(d.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rc.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rc.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rc.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rc.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventId:i4(e.eventId)?globalThis.String(e.eventId):"",parentEventId:i4(e.parentEventId)?globalThis.String(e.parentEventId):"",created:i4(e.created)?i2(e.created):void 0}},toJSON:function(e){var n={};return""!==e.eventId&&(n.eventId=e.eventId),""!==e.parentEventId&&(n.parentEventId=e.parentEventId),void 0!==e.created&&(n.created=e.created.toISOString()),n}};c.set(rc.$type,rc);var rd={$type:"replit.ai.chat.CreateEventRequestWithUser",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.request&&ru.encode(e.request,n.uint32(10).fork()).join(),void 0!==e.user&&rl.encode(e.user,n.uint32(18).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={request:void 0,user:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.request=ru.decode(t,t.uint32());continue;case 2:if(18!==i)break;a.user=rl.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rd.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rd.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rd.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rd.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{request:i4(e.request)?ru.fromJSON(e.request):void 0,user:i4(e.user)?rl.fromJSON(e.user):void 0}},toJSON:function(e){var n={};return void 0!==e.request&&(n.request=ru.toJSON(e.request)),void 0!==e.user&&(n.user=rl.toJSON(e.user)),n}};c.set(rd.$type,rd);var rf={$type:"replit.ai.chat.BatchCreateEventsRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.events[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;rd.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={events:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.events.push(rd.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rf.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rf.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rf.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rf.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{events:globalThis.Array.isArray(null==e?void 0:e.events)?e.events.map(function(e){return rd.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.events)?void 0:n.length)&&(t.events=e.events.map(function(e){return rd.toJSON(e)})),t}};c.set(rf.$type,rf);var rp={$type:"replit.ai.chat.BatchCreateEventsResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.eventIds[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(10).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventIds:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventIds.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rp.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rp.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rp.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rp.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventIds:globalThis.Array.isArray(null==e?void 0:e.eventIds)?e.eventIds.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.eventIds)?void 0:n.length)&&(t.eventIds=e.eventIds),t}};c.set(rp.$type,rp);var rh={$type:"replit.ai.chat.UpdateEventRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.eventId&&n.uint32(10).string(e.eventId);var t=!0,r=!1,a=void 0;try{for(var i,o=e.operations[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;tP.encode(s,n.uint32(18).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.typedOperations[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;tF.encode(h,n.uint32(50).fork()).join()}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}return 0!==e.state&&n.uint32(24).int32(e.state),void 0!==e.error&&tD.encode(e.error,n.uint32(34).fork()).join(),void 0!==e.requireCompletion&&b.encode({value:e.requireCompletion},n.uint32(42).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventId:"",operations:[],typedOperations:[],state:0,error:void 0,requireCompletion:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventId=t.string();continue;case 2:if(18!==i)break;a.operations.push(tP.decode(t,t.uint32()));continue;case 6:if(50!==i)break;a.typedOperations.push(tF.decode(t,t.uint32()));continue;case 3:if(24!==i)break;a.state=t.int32();continue;case 4:if(34!==i)break;a.error=tD.decode(t,t.uint32());continue;case 5:if(42!==i)break;a.requireCompletion=b.decode(t,t.uint32()).value;continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rh.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rh.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rh.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rh.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventId:i4(e.eventId)?globalThis.String(e.eventId):"",operations:globalThis.Array.isArray(null==e?void 0:e.operations)?e.operations.map(function(e){return tP.fromJSON(e)}):[],typedOperations:globalThis.Array.isArray(null==e?void 0:e.typedOperations)?e.typedOperations.map(function(e){return tF.fromJSON(e)}):[],state:i4(e.state)?F(e.state):0,error:i4(e.error)?tD.fromJSON(e.error):void 0,requireCompletion:i4(e.requireCompletion)?!!e.requireCompletion:void 0}},toJSON:function(e){var n,t,r={};return""!==e.eventId&&(r.eventId=e.eventId),(null==(n=e.operations)?void 0:n.length)&&(r.operations=e.operations.map(function(e){return tP.toJSON(e)})),(null==(t=e.typedOperations)?void 0:t.length)&&(r.typedOperations=e.typedOperations.map(function(e){return tF.toJSON(e)})),0!==e.state&&(r.state=U(e.state)),void 0!==e.error&&(r.error=tD.toJSON(e.error)),void 0!==e.requireCompletion&&(r.requireCompletion=e.requireCompletion),r}};c.set(rh.$type,rh);var rm={$type:"replit.ai.chat.UpdateEventResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rm.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rm.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rm.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rm.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(rm.$type,rm);var rv={$type:"replit.ai.chat.UpdateAgentStateRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.replId&&n.uint32(10).string(e.replId),""!==e.sessionId&&n.uint32(18).string(e.sessionId),0!==e.runState&&n.uint32(24).int32(e.runState),void 0!==e.transitionReason&&rA.encode(e.transitionReason,n.uint32(34).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={replId:"",sessionId:"",runState:0,transitionReason:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.replId=t.string();continue;case 2:if(18!==i)break;a.sessionId=t.string();continue;case 3:if(24!==i)break;a.runState=t.int32();continue;case 4:if(34!==i)break;a.transitionReason=rA.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rv.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rv.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rv.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rv.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{replId:i4(e.replId)?globalThis.String(e.replId):"",sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",runState:i4(e.runState)?k(e.runState):0,transitionReason:i4(e.transitionReason)?rA.fromJSON(e.transitionReason):void 0}},toJSON:function(e){var n={};return""!==e.replId&&(n.replId=e.replId),""!==e.sessionId&&(n.sessionId=e.sessionId),0!==e.runState&&(n.runState=C(e.runState)),void 0!==e.transitionReason&&(n.transitionReason=rA.toJSON(e.transitionReason)),n}};c.set(rv.$type,rv);var rg={$type:"replit.ai.chat.GetAgentStateRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.replId&&n.uint32(10).string(e.replId),""!==e.sessionId&&n.uint32(18).string(e.sessionId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={replId:"",sessionId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.replId=t.string();continue;case 2:if(18!==i)break;a.sessionId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rg.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rg.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rg.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rg.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{replId:i4(e.replId)?globalThis.String(e.replId):"",sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):""}},toJSON:function(e){var n={};return""!==e.replId&&(n.replId=e.replId),""!==e.sessionId&&(n.sessionId=e.sessionId),n}};c.set(rg.$type,rg);var rb={$type:"replit.ai.chat.GetAgentStateResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.runState&&n.uint32(8).int32(e.runState),void 0!==e.transitionReason&&rA.encode(e.transitionReason,n.uint32(18).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={runState:0,transitionReason:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.runState=t.int32();continue;case 2:if(18!==i)break;a.transitionReason=rA.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rb.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rb.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rb.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rb.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{runState:i4(e.runState)?k(e.runState):0,transitionReason:i4(e.transitionReason)?rA.fromJSON(e.transitionReason):void 0}},toJSON:function(e){var n={};return 0!==e.runState&&(n.runState=C(e.runState)),void 0!==e.transitionReason&&(n.transitionReason=rA.toJSON(e.transitionReason)),n}};c.set(rb.$type,rb);var ry={$type:"replit.ai.chat.UpdateAgentStateResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.runState&&n.uint32(16).int32(e.runState),void 0!==e.transitionReason&&rA.encode(e.transitionReason,n.uint32(26).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={runState:0,transitionReason:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 2:if(16!==i)break;a.runState=t.int32();continue;case 3:if(26!==i)break;a.transitionReason=rA.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ry.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ry.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ry.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ry.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{runState:i4(e.runState)?k(e.runState):0,transitionReason:i4(e.transitionReason)?rA.fromJSON(e.transitionReason):void 0}},toJSON:function(e){var n={};return 0!==e.runState&&(n.runState=C(e.runState)),void 0!==e.transitionReason&&(n.transitionReason=rA.toJSON(e.transitionReason)),n}};c.set(ry.$type,ry);var rw={$type:"replit.ai.chat.UpdateAgentStateMessage",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.replId&&n.uint32(34).string(e.replId),""!==e.sessionId&&n.uint32(10).string(e.sessionId),0!==e.runState&&n.uint32(16).int32(e.runState),void 0!==e.transitionReason&&rA.encode(e.transitionReason,n.uint32(26).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={replId:"",sessionId:"",runState:0,transitionReason:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 4:if(34!==i)break;a.replId=t.string();continue;case 1:if(10!==i)break;a.sessionId=t.string();continue;case 2:if(16!==i)break;a.runState=t.int32();continue;case 3:if(26!==i)break;a.transitionReason=rA.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rw.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rw.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rw.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rw.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{replId:i4(e.replId)?globalThis.String(e.replId):"",sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",runState:i4(e.runState)?k(e.runState):0,transitionReason:i4(e.transitionReason)?rA.fromJSON(e.transitionReason):void 0}},toJSON:function(e){var n={};return""!==e.replId&&(n.replId=e.replId),""!==e.sessionId&&(n.sessionId=e.sessionId),0!==e.runState&&(n.runState=C(e.runState)),void 0!==e.transitionReason&&(n.transitionReason=rA.toJSON(e.transitionReason)),n}};c.set(rw.$type,rw);var r_={$type:"replit.ai.chat.BroadcastAgentStateRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.replId&&n.uint32(10).string(e.replId),""!==e.sessionId&&n.uint32(18).string(e.sessionId),0!==e.runState&&n.uint32(24).int32(e.runState),void 0!==e.transitionReason&&rA.encode(e.transitionReason,n.uint32(34).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={replId:"",sessionId:"",runState:0,transitionReason:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.replId=t.string();continue;case 2:if(18!==i)break;a.sessionId=t.string();continue;case 3:if(24!==i)break;a.runState=t.int32();continue;case 4:if(34!==i)break;a.transitionReason=rA.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r_.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r_.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r_.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r_.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{replId:i4(e.replId)?globalThis.String(e.replId):"",sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",runState:i4(e.runState)?k(e.runState):0,transitionReason:i4(e.transitionReason)?rA.fromJSON(e.transitionReason):void 0}},toJSON:function(e){var n={};return""!==e.replId&&(n.replId=e.replId),""!==e.sessionId&&(n.sessionId=e.sessionId),0!==e.runState&&(n.runState=C(e.runState)),void 0!==e.transitionReason&&(n.transitionReason=rA.toJSON(e.transitionReason)),n}};c.set(r_.$type,r_);var rS={$type:"replit.ai.chat.BroadcastAgentStateResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rS.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rS.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rS.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rS.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(rS.$type,rS);var rA={$type:"replit.ai.chat.AgentStateTransitionReason",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(null==(n=e.reasons)?void 0:n.$case){case"userPaused":rk.encode(e.reasons.value,t.uint32(10).fork()).join();break;case"stepLimitExceeded":rC.encode(e.reasons.value,t.uint32(18).fork()).join();break;case"rateLimited":rY.encode(e.reasons.value,t.uint32(26).fork()).join();break;case"waitingOnUserResponse":rx.encode(e.reasons.value,t.uint32(34).fork()).join();break;case"waitingOnPlanApproval":rD.encode(e.reasons.value,t.uint32(42).fork()).join();break;case"requestedSecrets":rT.encode(e.reasons.value,t.uint32(50).fork()).join();break;case"testConcluded":rI.encode(e.reasons.value,t.uint32(58).fork()).join();break;case"error":rN.encode(e.reasons.value,t.uint32(66).fork()).join();break;case"planConcluded":rR.encode(e.reasons.value,t.uint32(74).fork()).join();break;case"reverted":rO.encode(e.reasons.value,t.uint32(82).fork()).join();break;case"authorizationFailed":rE.encode(e.reasons.value,t.uint32(90).fork()).join();break;case"stepTooComplex":rP.encode(e.reasons.value,t.uint32(98).fork()).join();break;case"triggerCheckpoint":rF.encode(e.reasons.value,t.uint32(106).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={reasons:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.reasons={$case:"userPaused",value:rk.decode(t,t.uint32())};continue;case 2:if(18!==i)break;a.reasons={$case:"stepLimitExceeded",value:rC.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.reasons={$case:"rateLimited",value:rY.decode(t,t.uint32())};continue;case 4:if(34!==i)break;a.reasons={$case:"waitingOnUserResponse",value:rx.decode(t,t.uint32())};continue;case 5:if(42!==i)break;a.reasons={$case:"waitingOnPlanApproval",value:rD.decode(t,t.uint32())};continue;case 6:if(50!==i)break;a.reasons={$case:"requestedSecrets",value:rT.decode(t,t.uint32())};continue;case 7:if(58!==i)break;a.reasons={$case:"testConcluded",value:rI.decode(t,t.uint32())};continue;case 8:if(66!==i)break;a.reasons={$case:"error",value:rN.decode(t,t.uint32())};continue;case 9:if(74!==i)break;a.reasons={$case:"planConcluded",value:rR.decode(t,t.uint32())};continue;case 10:if(82!==i)break;a.reasons={$case:"reverted",value:rO.decode(t,t.uint32())};continue;case 11:if(90!==i)break;a.reasons={$case:"authorizationFailed",value:rE.decode(t,t.uint32())};continue;case 12:if(98!==i)break;a.reasons={$case:"stepTooComplex",value:rP.decode(t,t.uint32())};continue;case 13:if(106!==i)break;a.reasons={$case:"triggerCheckpoint",value:rF.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rA.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rA.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rA.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rA.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{reasons:i4(e.userPaused)?{$case:"userPaused",value:rk.fromJSON(e.userPaused)}:i4(e.stepLimitExceeded)?{$case:"stepLimitExceeded",value:rC.fromJSON(e.stepLimitExceeded)}:i4(e.rateLimited)?{$case:"rateLimited",value:rY.fromJSON(e.rateLimited)}:i4(e.waitingOnUserResponse)?{$case:"waitingOnUserResponse",value:rx.fromJSON(e.waitingOnUserResponse)}:i4(e.waitingOnPlanApproval)?{$case:"waitingOnPlanApproval",value:rD.fromJSON(e.waitingOnPlanApproval)}:i4(e.requestedSecrets)?{$case:"requestedSecrets",value:rT.fromJSON(e.requestedSecrets)}:i4(e.testConcluded)?{$case:"testConcluded",value:rI.fromJSON(e.testConcluded)}:i4(e.error)?{$case:"error",value:rN.fromJSON(e.error)}:i4(e.planConcluded)?{$case:"planConcluded",value:rR.fromJSON(e.planConcluded)}:i4(e.reverted)?{$case:"reverted",value:rO.fromJSON(e.reverted)}:i4(e.authorizationFailed)?{$case:"authorizationFailed",value:rE.fromJSON(e.authorizationFailed)}:i4(e.stepTooComplex)?{$case:"stepTooComplex",value:rP.fromJSON(e.stepTooComplex)}:i4(e.triggerCheckpoint)?{$case:"triggerCheckpoint",value:rF.fromJSON(e.triggerCheckpoint)}:void 0}},toJSON:function(e){var n,t,r,a,i,o,s,l,u,c,d,f,p,h={};return(null==(n=e.reasons)?void 0:n.$case)==="userPaused"?h.userPaused=rk.toJSON(e.reasons.value):(null==(t=e.reasons)?void 0:t.$case)==="stepLimitExceeded"?h.stepLimitExceeded=rC.toJSON(e.reasons.value):(null==(r=e.reasons)?void 0:r.$case)==="rateLimited"?h.rateLimited=rY.toJSON(e.reasons.value):(null==(a=e.reasons)?void 0:a.$case)==="waitingOnUserResponse"?h.waitingOnUserResponse=rx.toJSON(e.reasons.value):(null==(i=e.reasons)?void 0:i.$case)==="waitingOnPlanApproval"?h.waitingOnPlanApproval=rD.toJSON(e.reasons.value):(null==(o=e.reasons)?void 0:o.$case)==="requestedSecrets"?h.requestedSecrets=rT.toJSON(e.reasons.value):(null==(s=e.reasons)?void 0:s.$case)==="testConcluded"?h.testConcluded=rI.toJSON(e.reasons.value):(null==(l=e.reasons)?void 0:l.$case)==="error"?h.error=rN.toJSON(e.reasons.value):(null==(u=e.reasons)?void 0:u.$case)==="planConcluded"?h.planConcluded=rR.toJSON(e.reasons.value):(null==(c=e.reasons)?void 0:c.$case)==="reverted"?h.reverted=rO.toJSON(e.reasons.value):(null==(d=e.reasons)?void 0:d.$case)==="authorizationFailed"?h.authorizationFailed=rE.toJSON(e.reasons.value):(null==(f=e.reasons)?void 0:f.$case)==="stepTooComplex"?h.stepTooComplex=rP.toJSON(e.reasons.value):(null==(p=e.reasons)?void 0:p.$case)==="triggerCheckpoint"&&(h.triggerCheckpoint=rF.toJSON(e.reasons.value)),h}};c.set(rA.$type,rA);var rk={$type:"replit.ai.chat.AgentStateTransitionReasonUserPaused",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rk.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rk.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rk.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rk.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(rk.$type,rk);var rC={$type:"replit.ai.chat.AgentStateTransitionReasonStepLimitExceeded",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.maxSteps&&n.uint32(8).uint32(e.maxSteps),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={maxSteps:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.maxSteps=t.uint32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rC.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rC.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rC.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rC.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{maxSteps:i4(e.maxSteps)?globalThis.Number(e.maxSteps):0}},toJSON:function(e){var n={};return 0!==e.maxSteps&&(n.maxSteps=Math.round(e.maxSteps)),n}};c.set(rC.$type,rC);var rY={$type:"replit.ai.chat.AgentStateTransitionReasonRateLimited",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.timeWhenReset&&n.uint32(10).string(e.timeWhenReset),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={timeWhenReset:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.timeWhenReset=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rY.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rY.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rY.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rY.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{timeWhenReset:i4(e.timeWhenReset)?globalThis.String(e.timeWhenReset):""}},toJSON:function(e){var n={};return""!==e.timeWhenReset&&(n.timeWhenReset=e.timeWhenReset),n}};c.set(rY.$type,rY);var rE={$type:"replit.ai.chat.AgentStateTransitionReasonAuthorizationFailed",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.code&&n.uint32(8).int32(e.code),""!==e.message&&n.uint32(18).string(e.message),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={code:0,message:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.code=t.int32();continue;case 2:if(18!==i)break;a.message=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rE.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rE.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rE.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rE.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{code:i4(e.code)?function(e){switch(e){case 0:case"AGENT_AUTHORIZATION_FAILED_CODE_UNSPECIFIED":return A.Hk.UNSPECIFIED;case 1:case"INSUFFICIENT_BUDGET":return A.Hk.INSUFFICIENT_BUDGET;case 2:case"REQUIRES_PAYMENT_METHOD":return A.Hk.REQUIRES_PAYMENT_METHOD;case 3:case"REQUIRES_ACTIVE_SUBSCRIPTION":return A.Hk.REQUIRES_ACTIVE_SUBSCRIPTION;case 4:case"AGENT_UNKNOWN_AUTHORIZATION_ERROR":return A.Hk.AGENT_UNKNOWN_AUTHORIZATION_ERROR;case 5:case"INSUFFICIENT_PERMISSIONS":return A.Hk.INSUFFICIENT_PERMISSIONS;case 6:case"INSUFFICIENT_QUOTA":return A.Hk.INSUFFICIENT_QUOTA;case 7:case"PAYMENT_DELINQUENT":return A.Hk.PAYMENT_DELINQUENT;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AgentAuthorizationFailedCode")}}(e.code):0,message:i4(e.message)?globalThis.String(e.message):""}},toJSON:function(e){var n={};return 0!==e.code&&(n.code=function(e){switch(e){case A.Hk.UNSPECIFIED:return"AGENT_AUTHORIZATION_FAILED_CODE_UNSPECIFIED";case A.Hk.INSUFFICIENT_BUDGET:return"INSUFFICIENT_BUDGET";case A.Hk.REQUIRES_PAYMENT_METHOD:return"REQUIRES_PAYMENT_METHOD";case A.Hk.REQUIRES_ACTIVE_SUBSCRIPTION:return"REQUIRES_ACTIVE_SUBSCRIPTION";case A.Hk.AGENT_UNKNOWN_AUTHORIZATION_ERROR:return"AGENT_UNKNOWN_AUTHORIZATION_ERROR";case A.Hk.INSUFFICIENT_PERMISSIONS:return"INSUFFICIENT_PERMISSIONS";case A.Hk.INSUFFICIENT_QUOTA:return"INSUFFICIENT_QUOTA";case A.Hk.PAYMENT_DELINQUENT:return"PAYMENT_DELINQUENT";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AgentAuthorizationFailedCode")}}(e.code)),""!==e.message&&(n.message=e.message),n}};c.set(rE.$type,rE);var rx={$type:"replit.ai.chat.AgentStateTransitionReasonWaitingOnUserResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rx.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rx.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rx.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rx.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(rx.$type,rx);var rT={$type:"replit.ai.chat.AgentStateTransitionReasonRequestedSecrets",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rT.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rT.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rT.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rT.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(rT.$type,rT);var rD={$type:"replit.ai.chat.AgentStateTransitionReasonWaitingOnPlanApproval",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rD.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rD.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rD.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rD.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(rD.$type,rD);var rI={$type:"replit.ai.chat.AgentStateTransitionReasonTestConcluded",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rI.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rI.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rI.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rI.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(rI.$type,rI);var rR={$type:"replit.ai.chat.AgentStateTransitionReasonPlanConcluded",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rR.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rR.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rR.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rR.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(rR.$type,rR);var rN={$type:"replit.ai.chat.AgentStateTransitionReasonError",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rN.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rN.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rN.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rN.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(rN.$type,rN);var rO={$type:"replit.ai.chat.AgentStateTransitionReasonReverted",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rO.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rO.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rO.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rO.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(rO.$type,rO);var rP={$type:"replit.ai.chat.AgentStateTransitionReasonStepTooComplex",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rP.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rP.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rP.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rP.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(rP.$type,rP);var rF={$type:"replit.ai.chat.AgentStateTransitionReasonTriggerCheckpoint",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rF.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rF.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rF.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rF.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(rF.$type,rF);var rU={$type:"replit.ai.chat.ReprocessEventRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.eventId&&n.uint32(10).string(e.eventId),void 0!==e.context&&nt.encode(e.context,n.uint32(18).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventId:"",context:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventId=t.string();continue;case 2:if(18!==i)break;a.context=nt.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rU.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rU.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rU.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rU.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventId:i4(e.eventId)?globalThis.String(e.eventId):"",context:i4(e.context)?nt.fromJSON(e.context):void 0}},toJSON:function(e){var n={};return""!==e.eventId&&(n.eventId=e.eventId),void 0!==e.context&&(n.context=nt.toJSON(e.context)),n}};c.set(rU.$type,rU);var rL={$type:"replit.ai.chat.ReprocessEventResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rL.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rL.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rL.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rL.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(rL.$type,rL);var rM={$type:"replit.ai.chat.GetResourceUploadUrlRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.mimeType&&n.uint32(10).string(e.mimeType),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={mimeType:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.mimeType=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rM.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rM.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rM.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rM.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{mimeType:i4(e.mimeType)?globalThis.String(e.mimeType):""}},toJSON:function(e){var n={};return""!==e.mimeType&&(n.mimeType=e.mimeType),n}};c.set(rM.$type,rM);var rJ={$type:"replit.ai.chat.GetResourceUploadUrlResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.uploadUrl&&n.uint32(10).string(e.uploadUrl),""!==e.downloadUrl&&n.uint32(18).string(e.downloadUrl),""!==e.identifier&&n.uint32(26).string(e.identifier),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={uploadUrl:"",downloadUrl:"",identifier:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.uploadUrl=t.string();continue;case 2:if(18!==i)break;a.downloadUrl=t.string();continue;case 3:if(26!==i)break;a.identifier=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rJ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rJ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rJ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rJ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{uploadUrl:i4(e.uploadUrl)?globalThis.String(e.uploadUrl):"",downloadUrl:i4(e.downloadUrl)?globalThis.String(e.downloadUrl):"",identifier:i4(e.identifier)?globalThis.String(e.identifier):""}},toJSON:function(e){var n={};return""!==e.uploadUrl&&(n.uploadUrl=e.uploadUrl),""!==e.downloadUrl&&(n.downloadUrl=e.downloadUrl),""!==e.identifier&&(n.identifier=e.identifier),n}};c.set(rJ.$type,rJ);var rH={$type:"replit.ai.chat.GetUrlScreenshotRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.url&&n.uint32(10).string(e.url),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={url:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.url=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rH.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rH.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rH.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rH.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{url:i4(e.url)?globalThis.String(e.url):""}},toJSON:function(e){var n={};return""!==e.url&&(n.url=e.url),n}};c.set(rH.$type,rH);var rB={$type:"replit.ai.chat.GetUrlScreenshotResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.imageDownloadUrl&&n.uint32(10).string(e.imageDownloadUrl),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={imageDownloadUrl:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.imageDownloadUrl=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rB.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rB.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rB.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rB.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{imageDownloadUrl:i4(e.imageDownloadUrl)?globalThis.String(e.imageDownloadUrl):""}},toJSON:function(e){var n={};return""!==e.imageDownloadUrl&&(n.imageDownloadUrl=e.imageDownloadUrl),n}};c.set(rB.$type,rB);var rV={$type:"replit.ai.chat.GetUrlScrapedContentRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.url&&n.uint32(10).string(e.url),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={url:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.url=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rV.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rV.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rV.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rV.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{url:i4(e.url)?globalThis.String(e.url):""}},toJSON:function(e){var n={};return""!==e.url&&(n.url=e.url),n}};c.set(rV.$type,rV);var r$={$type:"replit.ai.chat.GetUrlScrapedContentResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.content&&n.uint32(10).string(e.content),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={content:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.content=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r$.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r$.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r$.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r$.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{content:i4(e.content)?globalThis.String(e.content):""}},toJSON:function(e){var n={};return""!==e.content&&(n.content=e.content),n}};c.set(r$.$type,r$);var rG={$type:"replit.ai.chat.AbortEventRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.eventId&&n.uint32(10).string(e.eventId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rG.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rG.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rG.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rG.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventId:i4(e.eventId)?globalThis.String(e.eventId):""}},toJSON:function(e){var n={};return""!==e.eventId&&(n.eventId=e.eventId),n}};c.set(rG.$type,rG);var rz={$type:"replit.ai.chat.AbortEventResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.eventId&&n.uint32(10).string(e.eventId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rz.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rz.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rz.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rz.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventId:i4(e.eventId)?globalThis.String(e.eventId):""}},toJSON:function(e){var n={};return""!==e.eventId&&(n.eventId=e.eventId),n}};c.set(rz.$type,rz);var rW={$type:"replit.ai.chat.GetReplSessionsRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;void 0!==e.beforeTimestamp&&d.encode(i0(e.beforeTimestamp),n.uint32(10).fork()).join(),0!==e.limit&&n.uint32(16).int32(e.limit),!1!==e.includeFirstSessionEvents&&n.uint32(24).bool(e.includeFirstSessionEvents),0!==e.firstSessionEventsLimit&&n.uint32(32).int32(e.firstSessionEventsLimit),""!==e.replId&&n.uint32(42).string(e.replId),n.uint32(50).fork();var t=!0,r=!1,a=void 0;try{for(var i,o=e.sessionTypes[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.int32(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n.join(),void 0!==e.archived&&b.encode({value:e.archived},n.uint32(58).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={beforeTimestamp:void 0,limit:0,includeFirstSessionEvents:!1,firstSessionEventsLimit:0,replId:"",sessionTypes:[],archived:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.beforeTimestamp=i1(d.decode(t,t.uint32()));continue;case 2:if(16!==i)break;a.limit=t.int32();continue;case 3:if(24!==i)break;a.includeFirstSessionEvents=t.bool();continue;case 4:if(32!==i)break;a.firstSessionEventsLimit=t.int32();continue;case 5:if(42!==i)break;a.replId=t.string();continue;case 6:if(48===i){a.sessionTypes.push(t.int32());continue}if(50===i){for(var s=t.uint32()+t.pos;t.pos<s;)a.sessionTypes.push(t.int32());continue}break;case 7:if(58!==i)break;a.archived=b.decode(t,t.uint32()).value;continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rW.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rW.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rW.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rW.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{beforeTimestamp:i4(e.beforeTimestamp)?i2(e.beforeTimestamp):void 0,limit:i4(e.limit)?globalThis.Number(e.limit):0,includeFirstSessionEvents:!!i4(e.includeFirstSessionEvents)&&globalThis.Boolean(e.includeFirstSessionEvents),firstSessionEventsLimit:i4(e.firstSessionEventsLimit)?globalThis.Number(e.firstSessionEventsLimit):0,replId:i4(e.replId)?globalThis.String(e.replId):"",sessionTypes:globalThis.Array.isArray(null==e?void 0:e.sessionTypes)?e.sessionTypes.map(function(e){return L(e)}):[],archived:i4(e.archived)?!!e.archived:void 0}},toJSON:function(e){var n,t={};return void 0!==e.beforeTimestamp&&(t.beforeTimestamp=e.beforeTimestamp.toISOString()),0!==e.limit&&(t.limit=Math.round(e.limit)),!1!==e.includeFirstSessionEvents&&(t.includeFirstSessionEvents=e.includeFirstSessionEvents),0!==e.firstSessionEventsLimit&&(t.firstSessionEventsLimit=Math.round(e.firstSessionEventsLimit)),""!==e.replId&&(t.replId=e.replId),(null==(n=e.sessionTypes)?void 0:n.length)&&(t.sessionTypes=e.sessionTypes.map(function(e){return M(e)})),void 0!==e.archived&&(t.archived=e.archived),t}};c.set(rW.$type,rW);var rj={$type:"replit.ai.chat.GetReplSessionsResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;!1!==e.hasMore&&n.uint32(8).bool(e.hasMore);var t=!0,r=!1,a=void 0;try{for(var i,o=e.sessions[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;ef.encode(s,n.uint32(18).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return void 0!==e.replAgentState&&ed.encode(e.replAgentState,n.uint32(26).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={hasMore:!1,sessions:[],replAgentState:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.hasMore=t.bool();continue;case 2:if(18!==i)break;a.sessions.push(ef.decode(t,t.uint32()));continue;case 3:if(26!==i)break;a.replAgentState=ed.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rj.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rj.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rj.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rj.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{hasMore:!!i4(e.hasMore)&&globalThis.Boolean(e.hasMore),sessions:globalThis.Array.isArray(null==e?void 0:e.sessions)?e.sessions.map(function(e){return ef.fromJSON(e)}):[],replAgentState:i4(e.replAgentState)?ed.fromJSON(e.replAgentState):void 0}},toJSON:function(e){var n,t={};return!1!==e.hasMore&&(t.hasMore=e.hasMore),(null==(n=e.sessions)?void 0:n.length)&&(t.sessions=e.sessions.map(function(e){return ef.toJSON(e)})),void 0!==e.replAgentState&&(t.replAgentState=ed.toJSON(e.replAgentState)),t}};c.set(rj.$type,rj);var rq={$type:"replit.ai.chat.EnhanceAgentPromptRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.userPrompt&&n.uint32(10).string(e.userPrompt);var t=!0,r=!1,a=void 0;try{for(var i,o=e.uploadedFiles[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;ts.encode(s,n.uint32(18).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.attachedUrls[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;to.encode(h,n.uint32(26).fork()).join()}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}return""!==e.selectedTheme&&n.uint32(34).string(e.selectedTheme),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={userPrompt:"",uploadedFiles:[],attachedUrls:[],selectedTheme:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.userPrompt=t.string();continue;case 2:if(18!==i)break;a.uploadedFiles.push(ts.decode(t,t.uint32()));continue;case 3:if(26!==i)break;a.attachedUrls.push(to.decode(t,t.uint32()));continue;case 4:if(34!==i)break;a.selectedTheme=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rq.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rq.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rq.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rq.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{userPrompt:i4(e.userPrompt)?globalThis.String(e.userPrompt):"",uploadedFiles:globalThis.Array.isArray(null==e?void 0:e.uploadedFiles)?e.uploadedFiles.map(function(e){return ts.fromJSON(e)}):[],attachedUrls:globalThis.Array.isArray(null==e?void 0:e.attachedUrls)?e.attachedUrls.map(function(e){return to.fromJSON(e)}):[],selectedTheme:i4(e.selectedTheme)?globalThis.String(e.selectedTheme):""}},toJSON:function(e){var n,t,r={};return""!==e.userPrompt&&(r.userPrompt=e.userPrompt),(null==(n=e.uploadedFiles)?void 0:n.length)&&(r.uploadedFiles=e.uploadedFiles.map(function(e){return ts.toJSON(e)})),(null==(t=e.attachedUrls)?void 0:t.length)&&(r.attachedUrls=e.attachedUrls.map(function(e){return to.toJSON(e)})),""!==e.selectedTheme&&(r.selectedTheme=e.selectedTheme),r}};c.set(rq.$type,rq);var rZ={$type:"replit.ai.chat.EnhanceAgentPromptResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.enhancedPrompt&&n.uint32(10).string(e.enhancedPrompt),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={enhancedPrompt:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.enhancedPrompt=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rZ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rZ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rZ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rZ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{enhancedPrompt:i4(e.enhancedPrompt)?globalThis.String(e.enhancedPrompt):""}},toJSON:function(e){var n={};return""!==e.enhancedPrompt&&(n.enhancedPrompt=e.enhancedPrompt),n}};c.set(rZ.$type,rZ);var rK={$type:"replit.ai.chat.GetSessionEventsRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.sessionId&&n.uint32(10).string(e.sessionId),0!==e.limit&&n.uint32(16).int32(e.limit),!1!==e.excludeContents&&n.uint32(24).bool(e.excludeContents),void 0!==e.afterTimestamp&&d.encode(i0(e.afterTimestamp),n.uint32(34).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={sessionId:"",limit:0,excludeContents:!1,afterTimestamp:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.sessionId=t.string();continue;case 2:if(16!==i)break;a.limit=t.int32();continue;case 3:if(24!==i)break;a.excludeContents=t.bool();continue;case 4:if(34!==i)break;a.afterTimestamp=i1(d.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rK.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rK.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rK.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rK.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",limit:i4(e.limit)?globalThis.Number(e.limit):0,excludeContents:!!i4(e.excludeContents)&&globalThis.Boolean(e.excludeContents),afterTimestamp:i4(e.afterTimestamp)?i2(e.afterTimestamp):void 0}},toJSON:function(e){var n={};return""!==e.sessionId&&(n.sessionId=e.sessionId),0!==e.limit&&(n.limit=Math.round(e.limit)),!1!==e.excludeContents&&(n.excludeContents=e.excludeContents),void 0!==e.afterTimestamp&&(n.afterTimestamp=e.afterTimestamp.toISOString()),n}};c.set(rK.$type,rK);var rQ={$type:"replit.ai.chat.GetSessionEventsResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.events[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;eo.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return void 0!==e.session&&ef.encode(e.session,n.uint32(18).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={events:[],session:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.events.push(eo.decode(t,t.uint32()));continue;case 2:if(18!==i)break;a.session=ef.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rQ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rQ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rQ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rQ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{events:globalThis.Array.isArray(null==e?void 0:e.events)?e.events.map(function(e){return eo.fromJSON(e)}):[],session:i4(e.session)?ef.fromJSON(e.session):void 0}},toJSON:function(e){var n,t={};return(null==(n=e.events)?void 0:n.length)&&(t.events=e.events.map(function(e){return eo.toJSON(e)})),void 0!==e.session&&(t.session=ef.toJSON(e.session)),t}};c.set(rQ.$type,rQ);var rX={$type:"replit.ai.chat.BatchGetEventsRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.sessionId&&n.uint32(10).string(e.sessionId);var t=!0,r=!1,a=void 0;try{for(var i,o=e.eventIds[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(18).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={sessionId:"",eventIds:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.sessionId=t.string();continue;case 2:if(18!==i)break;a.eventIds.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rX.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rX.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([rX.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([rX.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",eventIds:globalThis.Array.isArray(null==e?void 0:e.eventIds)?e.eventIds.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t={};return""!==e.sessionId&&(t.sessionId=e.sessionId),(null==(n=e.eventIds)?void 0:n.length)&&(t.eventIds=e.eventIds),t}};c.set(rX.$type,rX);var r0={$type:"replit.ai.chat.BatchGetEventsResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.events[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;eo.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={events:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.events.push(eo.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r0.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r0.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r0.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r0.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{events:globalThis.Array.isArray(null==e?void 0:e.events)?e.events.map(function(e){return eo.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.events)?void 0:n.length)&&(t.events=e.events.map(function(e){return eo.toJSON(e)})),t}};c.set(r0.$type,r0);var r1={$type:"replit.ai.chat.CreateSessionRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.replId&&n.uint32(10).string(e.replId),0!==e.sessionType&&n.uint32(16).int32(e.sessionType),""!==e.title&&n.uint32(26).string(e.title),void 0!==e.seededAiFirstEventContents&&nn.encode(e.seededAiFirstEventContents,n.uint32(34).fork()).join(),""!==e.taskId&&n.uint32(42).string(e.taskId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={replId:"",sessionType:0,title:"",seededAiFirstEventContents:void 0,taskId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.replId=t.string();continue;case 2:if(16!==i)break;a.sessionType=t.int32();continue;case 3:if(26!==i)break;a.title=t.string();continue;case 4:if(34!==i)break;a.seededAiFirstEventContents=nn.decode(t,t.uint32());continue;case 5:if(42!==i)break;a.taskId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r1.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r1.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r1.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r1.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{replId:i4(e.replId)?globalThis.String(e.replId):"",sessionType:i4(e.sessionType)?L(e.sessionType):0,title:i4(e.title)?globalThis.String(e.title):"",seededAiFirstEventContents:i4(e.seededAiFirstEventContents)?nn.fromJSON(e.seededAiFirstEventContents):void 0,taskId:i4(e.taskId)?globalThis.String(e.taskId):""}},toJSON:function(e){var n={};return""!==e.replId&&(n.replId=e.replId),0!==e.sessionType&&(n.sessionType=M(e.sessionType)),""!==e.title&&(n.title=e.title),void 0!==e.seededAiFirstEventContents&&(n.seededAiFirstEventContents=nn.toJSON(e.seededAiFirstEventContents)),""!==e.taskId&&(n.taskId=e.taskId),n}};c.set(r1.$type,r1);var r2={$type:"replit.ai.chat.CreateSessionResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.sessionId&&n.uint32(10).string(e.sessionId),""!==e.sessionCreationEventId&&n.uint32(18).string(e.sessionCreationEventId),""!==e.seededAiFirstEventId&&n.uint32(26).string(e.seededAiFirstEventId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={sessionId:"",sessionCreationEventId:"",seededAiFirstEventId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.sessionId=t.string();continue;case 2:if(18!==i)break;a.sessionCreationEventId=t.string();continue;case 3:if(26!==i)break;a.seededAiFirstEventId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r2.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r2.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r2.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r2.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",sessionCreationEventId:i4(e.sessionCreationEventId)?globalThis.String(e.sessionCreationEventId):"",seededAiFirstEventId:i4(e.seededAiFirstEventId)?globalThis.String(e.seededAiFirstEventId):""}},toJSON:function(e){var n={};return""!==e.sessionId&&(n.sessionId=e.sessionId),""!==e.sessionCreationEventId&&(n.sessionCreationEventId=e.sessionCreationEventId),""!==e.seededAiFirstEventId&&(n.seededAiFirstEventId=e.seededAiFirstEventId),n}};c.set(r2.$type,r2);var r3={$type:"replit.ai.chat.GetEventListRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.sessionId&&n.uint32(10).string(e.sessionId),0!==e.limit&&n.uint32(16).int32(e.limit),void 0!==e.ancestorsOf&&n.uint32(26).string(e.ancestorsOf),void 0!==e.afterTimestamp&&d.encode(i0(e.afterTimestamp),n.uint32(34).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={sessionId:"",limit:0,ancestorsOf:void 0,afterTimestamp:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.sessionId=t.string();continue;case 2:if(16!==i)break;a.limit=t.int32();continue;case 3:if(26!==i)break;a.ancestorsOf=t.string();continue;case 4:if(34!==i)break;a.afterTimestamp=i1(d.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r3.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r3.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r3.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r3.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",limit:i4(e.limit)?globalThis.Number(e.limit):0,ancestorsOf:i4(e.ancestorsOf)?globalThis.String(e.ancestorsOf):void 0,afterTimestamp:i4(e.afterTimestamp)?i2(e.afterTimestamp):void 0}},toJSON:function(e){var n={};return""!==e.sessionId&&(n.sessionId=e.sessionId),0!==e.limit&&(n.limit=Math.round(e.limit)),void 0!==e.ancestorsOf&&(n.ancestorsOf=e.ancestorsOf),void 0!==e.afterTimestamp&&(n.afterTimestamp=e.afterTimestamp.toISOString()),n}};c.set(r3.$type,r3);var r4={$type:"replit.ai.chat.GetEventListResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.shapes[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;es.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return!1!==e.hasMore&&n.uint32(16).bool(e.hasMore),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={shapes:[],hasMore:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.shapes.push(es.decode(t,t.uint32()));continue;case 2:if(16!==i)break;a.hasMore=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r4.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r4.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r4.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r4.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{shapes:globalThis.Array.isArray(null==e?void 0:e.shapes)?e.shapes.map(function(e){return es.fromJSON(e)}):[],hasMore:!!i4(e.hasMore)&&globalThis.Boolean(e.hasMore)}},toJSON:function(e){var n,t={};return(null==(n=e.shapes)?void 0:n.length)&&(t.shapes=e.shapes.map(function(e){return es.toJSON(e)})),!1!==e.hasMore&&(t.hasMore=e.hasMore),t}};c.set(r4.$type,r4);var r5={$type:"replit.ai.chat.SubscribeToReplEventsRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.replId&&n.uint32(10).string(e.replId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={replId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.replId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r5.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r5.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r5.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r5.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{replId:i4(e.replId)?globalThis.String(e.replId):""}},toJSON:function(e){var n={};return""!==e.replId&&(n.replId=e.replId),n}};c.set(r5.$type,r5);var r7={$type:"replit.ai.chat.ReplEventsSubscriptionMessage",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(void 0!==e.sender&&rl.encode(e.sender,t.uint32(50).fork()).join(),0!==e.seqno&&t.uint32(64).int32(e.seqno),null==(n=e.message)?void 0:n.$case){case"subscriptionStatusMessage":r9.encode(e.message.value,t.uint32(10).fork()).join();break;case"createEventMessage":r8.encode(e.message.value,t.uint32(18).fork()).join();break;case"createSessionMessage":r6.encode(e.message.value,t.uint32(26).fork()).join();break;case"updateEventMessage":ae.encode(e.message.value,t.uint32(34).fork()).join();break;case"updateSessionMessage":an.encode(e.message.value,t.uint32(42).fork()).join();break;case"abortEventMessage":at.encode(e.message.value,t.uint32(58).fork()).join();break;case"updateAgentStateMessage":rw.encode(e.message.value,t.uint32(74).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={sender:void 0,seqno:0,message:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 6:if(50!==i)break;a.sender=rl.decode(t,t.uint32());continue;case 8:if(64!==i)break;a.seqno=t.int32();continue;case 1:if(10!==i)break;a.message={$case:"subscriptionStatusMessage",value:r9.decode(t,t.uint32())};continue;case 2:if(18!==i)break;a.message={$case:"createEventMessage",value:r8.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.message={$case:"createSessionMessage",value:r6.decode(t,t.uint32())};continue;case 4:if(34!==i)break;a.message={$case:"updateEventMessage",value:ae.decode(t,t.uint32())};continue;case 5:if(42!==i)break;a.message={$case:"updateSessionMessage",value:an.decode(t,t.uint32())};continue;case 7:if(58!==i)break;a.message={$case:"abortEventMessage",value:at.decode(t,t.uint32())};continue;case 9:if(74!==i)break;a.message={$case:"updateAgentStateMessage",value:rw.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r7.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r7.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r7.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r7.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{sender:i4(e.sender)?rl.fromJSON(e.sender):void 0,seqno:i4(e.seqno)?globalThis.Number(e.seqno):0,message:i4(e.subscriptionStatusMessage)?{$case:"subscriptionStatusMessage",value:r9.fromJSON(e.subscriptionStatusMessage)}:i4(e.createEventMessage)?{$case:"createEventMessage",value:r8.fromJSON(e.createEventMessage)}:i4(e.createSessionMessage)?{$case:"createSessionMessage",value:r6.fromJSON(e.createSessionMessage)}:i4(e.updateEventMessage)?{$case:"updateEventMessage",value:ae.fromJSON(e.updateEventMessage)}:i4(e.updateSessionMessage)?{$case:"updateSessionMessage",value:an.fromJSON(e.updateSessionMessage)}:i4(e.abortEventMessage)?{$case:"abortEventMessage",value:at.fromJSON(e.abortEventMessage)}:i4(e.updateAgentStateMessage)?{$case:"updateAgentStateMessage",value:rw.fromJSON(e.updateAgentStateMessage)}:void 0}},toJSON:function(e){var n,t,r,a,i,o,s,l={};return void 0!==e.sender&&(l.sender=rl.toJSON(e.sender)),0!==e.seqno&&(l.seqno=Math.round(e.seqno)),(null==(n=e.message)?void 0:n.$case)==="subscriptionStatusMessage"?l.subscriptionStatusMessage=r9.toJSON(e.message.value):(null==(t=e.message)?void 0:t.$case)==="createEventMessage"?l.createEventMessage=r8.toJSON(e.message.value):(null==(r=e.message)?void 0:r.$case)==="createSessionMessage"?l.createSessionMessage=r6.toJSON(e.message.value):(null==(a=e.message)?void 0:a.$case)==="updateEventMessage"?l.updateEventMessage=ae.toJSON(e.message.value):(null==(i=e.message)?void 0:i.$case)==="updateSessionMessage"?l.updateSessionMessage=an.toJSON(e.message.value):(null==(o=e.message)?void 0:o.$case)==="abortEventMessage"?l.abortEventMessage=at.toJSON(e.message.value):(null==(s=e.message)?void 0:s.$case)==="updateAgentStateMessage"&&(l.updateAgentStateMessage=rw.toJSON(e.message.value)),l}};c.set(r7.$type,r7);var r9={$type:"replit.ai.chat.SubscriptionStatusMessage",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r9.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r9.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r9.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r9.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(r9.$type,r9);var r8={$type:"replit.ai.chat.CreateEventMessage",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.eventId&&n.uint32(10).string(e.eventId),""!==e.parentEventId&&n.uint32(18).string(e.parentEventId),""!==e.sessionId&&n.uint32(26).string(e.sessionId),0!==e.state&&n.uint32(32).int32(e.state),void 0!==e.contents&&nn.encode(e.contents,n.uint32(42).fork()).join(),void 0!==e.sender&&rl.encode(e.sender,n.uint32(50).fork()).join(),void 0!==e.error&&tD.encode(e.error,n.uint32(58).fork()).join(),void 0!==e.isActive&&b.encode({value:e.isActive},n.uint32(66).fork()).join(),void 0!==e.created&&d.encode(i0(e.created),n.uint32(74).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventId:"",parentEventId:"",sessionId:"",state:0,contents:void 0,sender:void 0,error:void 0,isActive:void 0,created:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventId=t.string();continue;case 2:if(18!==i)break;a.parentEventId=t.string();continue;case 3:if(26!==i)break;a.sessionId=t.string();continue;case 4:if(32!==i)break;a.state=t.int32();continue;case 5:if(42!==i)break;a.contents=nn.decode(t,t.uint32());continue;case 6:if(50!==i)break;a.sender=rl.decode(t,t.uint32());continue;case 7:if(58!==i)break;a.error=tD.decode(t,t.uint32());continue;case 8:if(66!==i)break;a.isActive=b.decode(t,t.uint32()).value;continue;case 9:if(74!==i)break;a.created=i1(d.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r8.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r8.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r8.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r8.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventId:i4(e.eventId)?globalThis.String(e.eventId):"",parentEventId:i4(e.parentEventId)?globalThis.String(e.parentEventId):"",sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",state:i4(e.state)?F(e.state):0,contents:i4(e.contents)?nn.fromJSON(e.contents):void 0,sender:i4(e.sender)?rl.fromJSON(e.sender):void 0,error:i4(e.error)?tD.fromJSON(e.error):void 0,isActive:i4(e.isActive)?!!e.isActive:void 0,created:i4(e.created)?i2(e.created):void 0}},toJSON:function(e){var n={};return""!==e.eventId&&(n.eventId=e.eventId),""!==e.parentEventId&&(n.parentEventId=e.parentEventId),""!==e.sessionId&&(n.sessionId=e.sessionId),0!==e.state&&(n.state=U(e.state)),void 0!==e.contents&&(n.contents=nn.toJSON(e.contents)),void 0!==e.sender&&(n.sender=rl.toJSON(e.sender)),void 0!==e.error&&(n.error=tD.toJSON(e.error)),void 0!==e.isActive&&(n.isActive=e.isActive),void 0!==e.created&&(n.created=e.created.toISOString()),n}};c.set(r8.$type,r8);var r6={$type:"replit.ai.chat.CreateSessionMessage",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.sessionId&&n.uint32(10).string(e.sessionId),""!==e.title&&n.uint32(18).string(e.title),""!==e.replId&&n.uint32(26).string(e.replId),""!==e.sessionCreationEventId&&n.uint32(34).string(e.sessionCreationEventId),0!==e.sessionType&&n.uint32(40).int32(e.sessionType),void 0!==e.archived&&b.encode({value:e.archived},n.uint32(50).fork()).join(),""!==e.taskId&&n.uint32(58).string(e.taskId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={sessionId:"",title:"",replId:"",sessionCreationEventId:"",sessionType:0,archived:void 0,taskId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.sessionId=t.string();continue;case 2:if(18!==i)break;a.title=t.string();continue;case 3:if(26!==i)break;a.replId=t.string();continue;case 4:if(34!==i)break;a.sessionCreationEventId=t.string();continue;case 5:if(40!==i)break;a.sessionType=t.int32();continue;case 6:if(50!==i)break;a.archived=b.decode(t,t.uint32()).value;continue;case 7:if(58!==i)break;a.taskId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r6.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r6.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([r6.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([r6.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",title:i4(e.title)?globalThis.String(e.title):"",replId:i4(e.replId)?globalThis.String(e.replId):"",sessionCreationEventId:i4(e.sessionCreationEventId)?globalThis.String(e.sessionCreationEventId):"",sessionType:i4(e.sessionType)?L(e.sessionType):0,archived:i4(e.archived)?!!e.archived:void 0,taskId:i4(e.taskId)?globalThis.String(e.taskId):""}},toJSON:function(e){var n={};return""!==e.sessionId&&(n.sessionId=e.sessionId),""!==e.title&&(n.title=e.title),""!==e.replId&&(n.replId=e.replId),""!==e.sessionCreationEventId&&(n.sessionCreationEventId=e.sessionCreationEventId),0!==e.sessionType&&(n.sessionType=M(e.sessionType)),void 0!==e.archived&&(n.archived=e.archived),""!==e.taskId&&(n.taskId=e.taskId),n}};c.set(r6.$type,r6);var ae={$type:"replit.ai.chat.UpdateEventMessage",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.sessionId&&n.uint32(10).string(e.sessionId),""!==e.eventId&&n.uint32(18).string(e.eventId);var t=!0,r=!1,a=void 0;try{for(var i,o=e.operations[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;tP.encode(s,n.uint32(26).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.typedOperations[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;tF.encode(h,n.uint32(50).fork()).join()}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}return 0!==e.state&&n.uint32(32).int32(e.state),void 0!==e.error&&tD.encode(e.error,n.uint32(42).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={sessionId:"",eventId:"",operations:[],typedOperations:[],state:0,error:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.sessionId=t.string();continue;case 2:if(18!==i)break;a.eventId=t.string();continue;case 3:if(26!==i)break;a.operations.push(tP.decode(t,t.uint32()));continue;case 6:if(50!==i)break;a.typedOperations.push(tF.decode(t,t.uint32()));continue;case 4:if(32!==i)break;a.state=t.int32();continue;case 5:if(42!==i)break;a.error=tD.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ae.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ae.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ae.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ae.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",eventId:i4(e.eventId)?globalThis.String(e.eventId):"",operations:globalThis.Array.isArray(null==e?void 0:e.operations)?e.operations.map(function(e){return tP.fromJSON(e)}):[],typedOperations:globalThis.Array.isArray(null==e?void 0:e.typedOperations)?e.typedOperations.map(function(e){return tF.fromJSON(e)}):[],state:i4(e.state)?F(e.state):0,error:i4(e.error)?tD.fromJSON(e.error):void 0}},toJSON:function(e){var n,t,r={};return""!==e.sessionId&&(r.sessionId=e.sessionId),""!==e.eventId&&(r.eventId=e.eventId),(null==(n=e.operations)?void 0:n.length)&&(r.operations=e.operations.map(function(e){return tP.toJSON(e)})),(null==(t=e.typedOperations)?void 0:t.length)&&(r.typedOperations=e.typedOperations.map(function(e){return tF.toJSON(e)})),0!==e.state&&(r.state=U(e.state)),void 0!==e.error&&(r.error=tD.toJSON(e.error)),r}};c.set(ae.$type,ae);var an={$type:"replit.ai.chat.UpdateSessionMessage",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.sessionId&&n.uint32(10).string(e.sessionId),""!==e.title&&n.uint32(18).string(e.title),0!==e.sessionType&&n.uint32(24).int32(e.sessionType),void 0!==e.archived&&b.encode({value:e.archived},n.uint32(42).fork()).join(),""!==e.replId&&n.uint32(50).string(e.replId),""!==e.activeEventId&&n.uint32(58).string(e.activeEventId),void 0!==e.isActiveAgentSession&&b.encode({value:e.isActiveAgentSession},n.uint32(66).fork()).join(),void 0!==e.readOnly&&b.encode({value:e.readOnly},n.uint32(74).fork()).join(),""!==e.taskId&&n.uint32(82).string(e.taskId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={sessionId:"",title:"",sessionType:0,archived:void 0,replId:"",activeEventId:"",isActiveAgentSession:void 0,readOnly:void 0,taskId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.sessionId=t.string();continue;case 2:if(18!==i)break;a.title=t.string();continue;case 3:if(24!==i)break;a.sessionType=t.int32();continue;case 5:if(42!==i)break;a.archived=b.decode(t,t.uint32()).value;continue;case 6:if(50!==i)break;a.replId=t.string();continue;case 7:if(58!==i)break;a.activeEventId=t.string();continue;case 8:if(66!==i)break;a.isActiveAgentSession=b.decode(t,t.uint32()).value;continue;case 9:if(74!==i)break;a.readOnly=b.decode(t,t.uint32()).value;continue;case 10:if(82!==i)break;a.taskId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([an.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([an.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([an.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([an.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",title:i4(e.title)?globalThis.String(e.title):"",sessionType:i4(e.sessionType)?L(e.sessionType):0,archived:i4(e.archived)?!!e.archived:void 0,replId:i4(e.replId)?globalThis.String(e.replId):"",activeEventId:i4(e.activeEventId)?globalThis.String(e.activeEventId):"",isActiveAgentSession:i4(e.isActiveAgentSession)?!!e.isActiveAgentSession:void 0,readOnly:i4(e.readOnly)?!!e.readOnly:void 0,taskId:i4(e.taskId)?globalThis.String(e.taskId):""}},toJSON:function(e){var n={};return""!==e.sessionId&&(n.sessionId=e.sessionId),""!==e.title&&(n.title=e.title),0!==e.sessionType&&(n.sessionType=M(e.sessionType)),void 0!==e.archived&&(n.archived=e.archived),""!==e.replId&&(n.replId=e.replId),""!==e.activeEventId&&(n.activeEventId=e.activeEventId),void 0!==e.isActiveAgentSession&&(n.isActiveAgentSession=e.isActiveAgentSession),void 0!==e.readOnly&&(n.readOnly=e.readOnly),""!==e.taskId&&(n.taskId=e.taskId),n}};c.set(an.$type,an);var at={$type:"replit.ai.chat.AbortEventMessage",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.replId&&n.uint32(10).string(e.replId),""!==e.sessionId&&n.uint32(18).string(e.sessionId),""!==e.eventId&&n.uint32(26).string(e.eventId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={replId:"",sessionId:"",eventId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.replId=t.string();continue;case 2:if(18!==i)break;a.sessionId=t.string();continue;case 3:if(26!==i)break;a.eventId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([at.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([at.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([at.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([at.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{replId:i4(e.replId)?globalThis.String(e.replId):"",sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",eventId:i4(e.eventId)?globalThis.String(e.eventId):""}},toJSON:function(e){var n={};return""!==e.replId&&(n.replId=e.replId),""!==e.sessionId&&(n.sessionId=e.sessionId),""!==e.eventId&&(n.eventId=e.eventId),n}};c.set(at.$type,at);var ar={$type:"replit.ai.chat.Limit",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.limit&&n.uint32(8).int32(e.limit),0!==e.usage&&n.uint32(16).int32(e.usage),void 0!==e.resetTime&&d.encode(i0(e.resetTime),n.uint32(26).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={limit:0,usage:0,resetTime:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.limit=t.int32();continue;case 2:if(16!==i)break;a.usage=t.int32();continue;case 3:if(26!==i)break;a.resetTime=i1(d.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ar.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ar.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ar.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ar.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{limit:i4(e.limit)?globalThis.Number(e.limit):0,usage:i4(e.usage)?globalThis.Number(e.usage):0,resetTime:i4(e.resetTime)?i2(e.resetTime):void 0}},toJSON:function(e){var n={};return 0!==e.limit&&(n.limit=Math.round(e.limit)),0!==e.usage&&(n.usage=Math.round(e.usage)),void 0!==e.resetTime&&(n.resetTime=e.resetTime.toISOString()),n}};c.set(ar.$type,ar);var aa={$type:"replit.ai.chat.GetAvailableModelRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.overrideModel&&n.uint32(10).string(e.overrideModel),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={overrideModel:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.overrideModel=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aa.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aa.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aa.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aa.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{overrideModel:i4(e.overrideModel)?globalThis.String(e.overrideModel):""}},toJSON:function(e){var n={};return""!==e.overrideModel&&(n.overrideModel=e.overrideModel),n}};c.set(aa.$type,aa);var ai={$type:"replit.ai.chat.ModelName",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.readable&&n.uint32(10).string(e.readable),""!==e.qualified&&n.uint32(18).string(e.qualified),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={readable:"",qualified:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.readable=t.string();continue;case 2:if(18!==i)break;a.qualified=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ai.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ai.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ai.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ai.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{readable:i4(e.readable)?globalThis.String(e.readable):"",qualified:i4(e.qualified)?globalThis.String(e.qualified):""}},toJSON:function(e){var n={};return""!==e.readable&&(n.readable=e.readable),""!==e.qualified&&(n.qualified=e.qualified),n}};c.set(ai.$type,ai);var ao={$type:"replit.ai.chat.GetAvailableModelsResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.basicModel[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;ai.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.advancedModel[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;ai.encode(h,n.uint32(18).fork()).join()}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}return void 0!==e.overrideModel&&ai.encode(e.overrideModel,n.uint32(26).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={basicModel:[],advancedModel:[],overrideModel:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.basicModel.push(ai.decode(t,t.uint32()));continue;case 2:if(18!==i)break;a.advancedModel.push(ai.decode(t,t.uint32()));continue;case 3:if(26!==i)break;a.overrideModel=ai.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ao.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ao.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ao.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ao.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{basicModel:globalThis.Array.isArray(null==e?void 0:e.basicModel)?e.basicModel.map(function(e){return ai.fromJSON(e)}):[],advancedModel:globalThis.Array.isArray(null==e?void 0:e.advancedModel)?e.advancedModel.map(function(e){return ai.fromJSON(e)}):[],overrideModel:i4(e.overrideModel)?ai.fromJSON(e.overrideModel):void 0}},toJSON:function(e){var n,t,r={};return(null==(n=e.basicModel)?void 0:n.length)&&(r.basicModel=e.basicModel.map(function(e){return ai.toJSON(e)})),(null==(t=e.advancedModel)?void 0:t.length)&&(r.advancedModel=e.advancedModel.map(function(e){return ai.toJSON(e)})),void 0!==e.overrideModel&&(r.overrideModel=ai.toJSON(e.overrideModel)),r}};c.set(ao.$type,ao);var as={$type:"replit.ai.chat.UpdateSessionRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.id&&n.uint32(10).string(e.id),""!==e.title&&n.uint32(18).string(e.title),0!==e.sessionType&&n.uint32(24).int32(e.sessionType),void 0!==e.archived&&b.encode({value:e.archived},n.uint32(34).fork()).join(),""!==e.replId&&n.uint32(42).string(e.replId),""!==e.activeEventId&&n.uint32(50).string(e.activeEventId),void 0!==e.isActiveAgentSession&&b.encode({value:e.isActiveAgentSession},n.uint32(58).fork()).join(),void 0!==e.readOnly&&b.encode({value:e.readOnly},n.uint32(66).fork()).join(),""!==e.taskId&&n.uint32(74).string(e.taskId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={id:"",title:"",sessionType:0,archived:void 0,replId:"",activeEventId:"",isActiveAgentSession:void 0,readOnly:void 0,taskId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.id=t.string();continue;case 2:if(18!==i)break;a.title=t.string();continue;case 3:if(24!==i)break;a.sessionType=t.int32();continue;case 4:if(34!==i)break;a.archived=b.decode(t,t.uint32()).value;continue;case 5:if(42!==i)break;a.replId=t.string();continue;case 6:if(50!==i)break;a.activeEventId=t.string();continue;case 7:if(58!==i)break;a.isActiveAgentSession=b.decode(t,t.uint32()).value;continue;case 8:if(66!==i)break;a.readOnly=b.decode(t,t.uint32()).value;continue;case 9:if(74!==i)break;a.taskId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([as.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([as.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([as.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([as.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{id:i4(e.id)?globalThis.String(e.id):"",title:i4(e.title)?globalThis.String(e.title):"",sessionType:i4(e.sessionType)?L(e.sessionType):0,archived:i4(e.archived)?!!e.archived:void 0,replId:i4(e.replId)?globalThis.String(e.replId):"",activeEventId:i4(e.activeEventId)?globalThis.String(e.activeEventId):"",isActiveAgentSession:i4(e.isActiveAgentSession)?!!e.isActiveAgentSession:void 0,readOnly:i4(e.readOnly)?!!e.readOnly:void 0,taskId:i4(e.taskId)?globalThis.String(e.taskId):""}},toJSON:function(e){var n={};return""!==e.id&&(n.id=e.id),""!==e.title&&(n.title=e.title),0!==e.sessionType&&(n.sessionType=M(e.sessionType)),void 0!==e.archived&&(n.archived=e.archived),""!==e.replId&&(n.replId=e.replId),""!==e.activeEventId&&(n.activeEventId=e.activeEventId),void 0!==e.isActiveAgentSession&&(n.isActiveAgentSession=e.isActiveAgentSession),void 0!==e.readOnly&&(n.readOnly=e.readOnly),""!==e.taskId&&(n.taskId=e.taskId),n}};c.set(as.$type,as);var al={$type:"replit.ai.chat.UpdateSessionResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([al.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([al.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([al.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([al.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(al.$type,al);var au={$type:"replit.ai.chat.ProcessEventRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.replId&&n.uint32(10).string(e.replId),void 0!==e.contents&&nn.encode(e.contents,n.uint32(18).fork()).join(),void 0!==e.context&&nt.encode(e.context,n.uint32(26).fork()).join(),""!==e.sessionId&&n.uint32(34).string(e.sessionId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={replId:"",contents:void 0,context:void 0,sessionId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.replId=t.string();continue;case 2:if(18!==i)break;a.contents=nn.decode(t,t.uint32());continue;case 3:if(26!==i)break;a.context=nt.decode(t,t.uint32());continue;case 4:if(34!==i)break;a.sessionId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([au.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([au.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([au.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([au.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{replId:i4(e.replId)?globalThis.String(e.replId):"",contents:i4(e.contents)?nn.fromJSON(e.contents):void 0,context:i4(e.context)?nt.fromJSON(e.context):void 0,sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):""}},toJSON:function(e){var n={};return""!==e.replId&&(n.replId=e.replId),void 0!==e.contents&&(n.contents=nn.toJSON(e.contents)),void 0!==e.context&&(n.context=nt.toJSON(e.context)),""!==e.sessionId&&(n.sessionId=e.sessionId),n}};c.set(au.$type,au);var ac={$type:"replit.ai.chat.ProcessEventResponseMessage",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(null==(n=e.message)?void 0:n.$case){case"startMessage":ad.encode(e.message.value,t.uint32(10).fork()).join();break;case"createEventMessage":r8.encode(e.message.value,t.uint32(18).fork()).join();break;case"updateEventMessage":ae.encode(e.message.value,t.uint32(26).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={message:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.message={$case:"startMessage",value:ad.decode(t,t.uint32())};continue;case 2:if(18!==i)break;a.message={$case:"createEventMessage",value:r8.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.message={$case:"updateEventMessage",value:ae.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ac.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ac.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ac.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ac.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{message:i4(e.startMessage)?{$case:"startMessage",value:ad.fromJSON(e.startMessage)}:i4(e.createEventMessage)?{$case:"createEventMessage",value:r8.fromJSON(e.createEventMessage)}:i4(e.updateEventMessage)?{$case:"updateEventMessage",value:ae.fromJSON(e.updateEventMessage)}:void 0}},toJSON:function(e){var n,t,r,a={};return(null==(n=e.message)?void 0:n.$case)==="startMessage"?a.startMessage=ad.toJSON(e.message.value):(null==(t=e.message)?void 0:t.$case)==="createEventMessage"?a.createEventMessage=r8.toJSON(e.message.value):(null==(r=e.message)?void 0:r.$case)==="updateEventMessage"&&(a.updateEventMessage=ae.toJSON(e.message.value)),a}};c.set(ac.$type,ac);var ad={$type:"replit.ai.chat.ProcessEventStartMessage",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.rootId&&n.uint32(10).string(e.rootId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={rootId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.rootId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ad.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ad.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ad.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ad.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{rootId:i4(e.rootId)?globalThis.String(e.rootId):""}},toJSON:function(e){var n={};return""!==e.rootId&&(n.rootId=e.rootId),n}};c.set(ad.$type,ad);var af={$type:"replit.ai.chat.GenerateReplNameRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.replId&&n.uint32(10).string(e.replId),""!==e.prompt&&n.uint32(18).string(e.prompt),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={replId:"",prompt:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.replId=t.string();continue;case 2:if(18!==i)break;a.prompt=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([af.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([af.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([af.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([af.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{replId:i4(e.replId)?globalThis.String(e.replId):"",prompt:i4(e.prompt)?globalThis.String(e.prompt):""}},toJSON:function(e){var n={};return""!==e.replId&&(n.replId=e.replId),""!==e.prompt&&(n.prompt=e.prompt),n}};c.set(af.$type,af);var ap={$type:"replit.ai.chat.GenerateReplNameResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.replName&&n.uint32(10).string(e.replName),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={replName:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.replName=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ap.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ap.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ap.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ap.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{replName:i4(e.replName)?globalThis.String(e.replName):""}},toJSON:function(e){var n={};return""!==e.replName&&(n.replName=e.replName),n}};c.set(ap.$type,ap);var ah={$type:"replit.ai.chat.GenerateIconRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.replId&&n.uint32(10).string(e.replId),""!==e.prompt&&n.uint32(18).string(e.prompt),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={replId:"",prompt:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.replId=t.string();continue;case 2:if(18!==i)break;a.prompt=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ah.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ah.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ah.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ah.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{replId:i4(e.replId)?globalThis.String(e.replId):"",prompt:i4(e.prompt)?globalThis.String(e.prompt):""}},toJSON:function(e){var n={};return""!==e.replId&&(n.replId=e.replId),""!==e.prompt&&(n.prompt=e.prompt),n}};c.set(ah.$type,ah);var am={$type:"replit.ai.chat.GenerateIconResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.imageUrl&&n.uint32(10).string(e.imageUrl),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={imageUrl:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.imageUrl=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([am.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([am.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([am.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([am.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{imageUrl:i4(e.imageUrl)?globalThis.String(e.imageUrl):""}},toJSON:function(e){var n={};return""!==e.imageUrl&&(n.imageUrl=e.imageUrl),n}};c.set(am.$type,am);var av={$type:"replit.ai.chat.Any",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.typeUrl&&n.uint32(10).string(e.typeUrl),0!==e.value.length&&n.uint32(18).bytes(e.value),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={typeUrl:"",value:new Uint8Array(0)};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.typeUrl=t.string();continue;case 2:if(18!==i)break;a.value=t.bytes();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([av.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([av.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([av.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([av.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{typeUrl:i4(e.typeUrl)?globalThis.String(e.typeUrl):"",value:i4(e.value)?function(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));for(var n=globalThis.atob(e),t=new Uint8Array(n.length),r=0;r<n.length;++r)t[r]=n.charCodeAt(r);return t}(e.value):new Uint8Array(0)}},toJSON:function(e){var n={};return""!==e.typeUrl&&(n.typeUrl=e.typeUrl),0!==e.value.length&&(n.value=function(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");var n=[];return e.forEach(function(e){n.push(globalThis.String.fromCharCode(e))}),globalThis.btoa(n.join(""))}(e.value)),n}};c.set(av.$type,av);var ag={$type:"replit.ai.chat.Struct",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.fields[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;ab.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return""!==e.type&&n.uint32(18).string(e.type),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={fields:[],type:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.fields.push(ab.decode(t,t.uint32()));continue;case 2:if(18!==i)break;a.type=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ag.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ag.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ag.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ag.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{fields:globalThis.Array.isArray(null==e?void 0:e.fields)?e.fields.map(function(e){return ab.fromJSON(e)}):[],type:i4(e.type)?globalThis.String(e.type):""}},toJSON:function(e){var n,t={};return(null==(n=e.fields)?void 0:n.length)&&(t.fields=e.fields.map(function(e){return ab.toJSON(e)})),""!==e.type&&(t.type=e.type),t}};c.set(ag.$type,ag);var ab={$type:"replit.ai.chat.StructField",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.key&&n.uint32(10).string(e.key),void 0!==e.value&&ay.encode(e.value,n.uint32(18).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={key:"",value:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.key=t.string();continue;case 2:if(18!==i)break;a.value=ay.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ab.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ab.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ab.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ab.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{key:i4(e.key)?globalThis.String(e.key):"",value:i4(e.value)?ay.fromJSON(e.value):void 0}},toJSON:function(e){var n={};return""!==e.key&&(n.key=e.key),void 0!==e.value&&(n.value=ay.toJSON(e.value)),n}};c.set(ab.$type,ab);var ay={$type:"replit.ai.chat.Value",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(null==(n=e.kind)?void 0:n.$case){case"nullValue":t.uint32(8).int32(e.kind.value);break;case"numberValue":t.uint32(17).double(e.kind.value);break;case"stringValue":t.uint32(26).string(e.kind.value);break;case"boolValue":t.uint32(32).bool(e.kind.value);break;case"structValue":ag.encode(e.kind.value,t.uint32(42).fork()).join();break;case"listValue":aw.encode(e.kind.value,t.uint32(50).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={kind:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.kind={$case:"nullValue",value:t.int32()};continue;case 2:if(17!==i)break;a.kind={$case:"numberValue",value:t.double()};continue;case 3:if(26!==i)break;a.kind={$case:"stringValue",value:t.string()};continue;case 4:if(32!==i)break;a.kind={$case:"boolValue",value:t.bool()};continue;case 5:if(42!==i)break;a.kind={$case:"structValue",value:ag.decode(t,t.uint32())};continue;case 6:if(50!==i)break;a.kind={$case:"listValue",value:aw.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ay.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ay.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ay.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ay.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{kind:i4(e.nullValue)?{$case:"nullValue",value:function(e){switch(e){case 0:case"NULL_VALUE":return A.Xz.NULL_VALUE;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum NullValue")}}(e.nullValue)}:i4(e.numberValue)?{$case:"numberValue",value:globalThis.Number(e.numberValue)}:i4(e.stringValue)?{$case:"stringValue",value:globalThis.String(e.stringValue)}:i4(e.boolValue)?{$case:"boolValue",value:globalThis.Boolean(e.boolValue)}:i4(e.structValue)?{$case:"structValue",value:ag.fromJSON(e.structValue)}:i4(e.listValue)?{$case:"listValue",value:aw.fromJSON(e.listValue)}:void 0}},toJSON:function(e){var n,t,r,a,i,o,s={};return(null==(n=e.kind)?void 0:n.$case)==="nullValue"?s.nullValue=function(e){if(e===A.Xz.NULL_VALUE)return"NULL_VALUE";throw new globalThis.Error("Unrecognized enum value "+e+" for enum NullValue")}(e.kind.value):(null==(t=e.kind)?void 0:t.$case)==="numberValue"?s.numberValue=e.kind.value:(null==(r=e.kind)?void 0:r.$case)==="stringValue"?s.stringValue=e.kind.value:(null==(a=e.kind)?void 0:a.$case)==="boolValue"?s.boolValue=e.kind.value:(null==(i=e.kind)?void 0:i.$case)==="structValue"?s.structValue=ag.toJSON(e.kind.value):(null==(o=e.kind)?void 0:o.$case)==="listValue"&&(s.listValue=aw.toJSON(e.kind.value)),s}};c.set(ay.$type,ay);var aw={$type:"replit.ai.chat.ListValue",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.values[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;ay.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={values:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.values.push(ay.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aw.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aw.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aw.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aw.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{values:globalThis.Array.isArray(null==e?void 0:e.values)?e.values.map(function(e){return ay.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.values)?void 0:n.length)&&(t.values=e.values.map(function(e){return ay.toJSON(e)})),t}};c.set(aw.$type,aw);var a_={$type:"replit.ai.chat.BYOPromptMessage",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.role&&n.uint32(10).string(e.role),""!==e.content&&n.uint32(18).string(e.content),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={role:"",content:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.role=t.string();continue;case 2:if(18!==i)break;a.content=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a_.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a_.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a_.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a_.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{role:i4(e.role)?globalThis.String(e.role):"",content:i4(e.content)?globalThis.String(e.content):""}},toJSON:function(e){var n={};return""!==e.role&&(n.role=e.role),""!==e.content&&(n.content=e.content),n}};c.set(a_.$type,a_);var aS={$type:"replit.ai.chat.BYOPromptResponseParameter",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.name&&n.uint32(10).string(e.name),!1!==e.required&&n.uint32(16).bool(e.required),0!==e.parameterType&&n.uint32(24).int32(e.parameterType),""!==e.description&&n.uint32(34).string(e.description);var t=!0,r=!1,a=void 0;try{for(var i,o=e.enums[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(42).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={name:"",required:!1,parameterType:0,description:"",enums:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.name=t.string();continue;case 2:if(16!==i)break;a.required=t.bool();continue;case 3:if(24!==i)break;a.parameterType=t.int32();continue;case 4:if(34!==i)break;a.description=t.string();continue;case 5:if(42!==i)break;a.enums.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aS.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aS.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aS.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aS.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{name:i4(e.name)?globalThis.String(e.name):"",required:!!i4(e.required)&&globalThis.Boolean(e.required),parameterType:i4(e.parameterType)?function(e){switch(e){case 0:case"STRING":return A.b4.STRING;case 1:case"INTEGER":return A.b4.INTEGER;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum BYOPromptResponseParameterType")}}(e.parameterType):0,description:i4(e.description)?globalThis.String(e.description):"",enums:globalThis.Array.isArray(null==e?void 0:e.enums)?e.enums.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t={};return""!==e.name&&(t.name=e.name),!1!==e.required&&(t.required=e.required),0!==e.parameterType&&(t.parameterType=function(e){switch(e){case A.b4.STRING:return"STRING";case A.b4.INTEGER:return"INTEGER";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum BYOPromptResponseParameterType")}}(e.parameterType)),""!==e.description&&(t.description=e.description),(null==(n=e.enums)?void 0:n.length)&&(t.enums=e.enums),t}};c.set(aS.$type,aS);var aA={$type:"replit.ai.chat.BYOPromptEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.historicalPrompt&&n.uint32(10).string(e.historicalPrompt);var t=!0,r=!1,a=void 0;try{for(var i,o=e.messages[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;a_.encode(s,n.uint32(18).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.parameters[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;aS.encode(h,n.uint32(26).fork()).join()}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}return void 0!==e.result&&ag.encode(e.result,n.uint32(34).fork()).join(),""!==e.jsonResult&&n.uint32(50).string(e.jsonResult),!1!==e.forceJson&&n.uint32(40).bool(e.forceJson),""!==e.promptName&&n.uint32(58).string(e.promptName),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={historicalPrompt:"",messages:[],parameters:[],result:void 0,jsonResult:"",forceJson:!1,promptName:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.historicalPrompt=t.string();continue;case 2:if(18!==i)break;a.messages.push(a_.decode(t,t.uint32()));continue;case 3:if(26!==i)break;a.parameters.push(aS.decode(t,t.uint32()));continue;case 4:if(34!==i)break;a.result=ag.decode(t,t.uint32());continue;case 6:if(50!==i)break;a.jsonResult=t.string();continue;case 5:if(40!==i)break;a.forceJson=t.bool();continue;case 7:if(58!==i)break;a.promptName=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aA.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aA.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aA.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aA.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{historicalPrompt:i4(e.historicalPrompt)?globalThis.String(e.historicalPrompt):"",messages:globalThis.Array.isArray(null==e?void 0:e.messages)?e.messages.map(function(e){return a_.fromJSON(e)}):[],parameters:globalThis.Array.isArray(null==e?void 0:e.parameters)?e.parameters.map(function(e){return aS.fromJSON(e)}):[],result:i4(e.result)?ag.fromJSON(e.result):void 0,jsonResult:i4(e.jsonResult)?globalThis.String(e.jsonResult):"",forceJson:!!i4(e.forceJson)&&globalThis.Boolean(e.forceJson),promptName:i4(e.promptName)?globalThis.String(e.promptName):""}},toJSON:function(e){var n,t,r={};return""!==e.historicalPrompt&&(r.historicalPrompt=e.historicalPrompt),(null==(n=e.messages)?void 0:n.length)&&(r.messages=e.messages.map(function(e){return a_.toJSON(e)})),(null==(t=e.parameters)?void 0:t.length)&&(r.parameters=e.parameters.map(function(e){return aS.toJSON(e)})),void 0!==e.result&&(r.result=ag.toJSON(e.result)),""!==e.jsonResult&&(r.jsonResult=e.jsonResult),!1!==e.forceJson&&(r.forceJson=e.forceJson),""!==e.promptName&&(r.promptName=e.promptName),r}};c.set(aA.$type,aA);var ak={$type:"replit.ai.chat.BYOPromptEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.modelSelector&&tT.encode(e.modelSelector,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={modelSelector:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.modelSelector=tT.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ak.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ak.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ak.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ak.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{modelSelector:i4(e.modelSelector)?tT.fromJSON(e.modelSelector):void 0}},toJSON:function(e){var n={};return void 0!==e.modelSelector&&(n.modelSelector=tT.toJSON(e.modelSelector)),n}};c.set(ak.$type,ak);var aC={$type:"replit.ai.chat.RevertEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.commitId&&n.uint32(10).string(e.commitId),""!==e.message&&n.uint32(18).string(e.message),""!==e.eventIdBeforeRevert&&n.uint32(26).string(e.eventIdBeforeRevert),""!==e.originalSessionId&&n.uint32(34).string(e.originalSessionId),""!==e.databaseRollbackTimestamp&&n.uint32(42).string(e.databaseRollbackTimestamp),""!==e.deploymentBuildId&&n.uint32(50).string(e.deploymentBuildId),!1!==e.rollbackDatabase&&n.uint32(56).bool(e.rollbackDatabase),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={commitId:"",message:"",eventIdBeforeRevert:"",originalSessionId:"",databaseRollbackTimestamp:"",deploymentBuildId:"",rollbackDatabase:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.commitId=t.string();continue;case 2:if(18!==i)break;a.message=t.string();continue;case 3:if(26!==i)break;a.eventIdBeforeRevert=t.string();continue;case 4:if(34!==i)break;a.originalSessionId=t.string();continue;case 5:if(42!==i)break;a.databaseRollbackTimestamp=t.string();continue;case 6:if(50!==i)break;a.deploymentBuildId=t.string();continue;case 7:if(56!==i)break;a.rollbackDatabase=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aC.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aC.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aC.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aC.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{commitId:i4(e.commitId)?globalThis.String(e.commitId):"",message:i4(e.message)?globalThis.String(e.message):"",eventIdBeforeRevert:i4(e.eventIdBeforeRevert)?globalThis.String(e.eventIdBeforeRevert):"",originalSessionId:i4(e.originalSessionId)?globalThis.String(e.originalSessionId):"",databaseRollbackTimestamp:i4(e.databaseRollbackTimestamp)?globalThis.String(e.databaseRollbackTimestamp):"",deploymentBuildId:i4(e.deploymentBuildId)?globalThis.String(e.deploymentBuildId):"",rollbackDatabase:!!i4(e.rollbackDatabase)&&globalThis.Boolean(e.rollbackDatabase)}},toJSON:function(e){var n={};return""!==e.commitId&&(n.commitId=e.commitId),""!==e.message&&(n.message=e.message),""!==e.eventIdBeforeRevert&&(n.eventIdBeforeRevert=e.eventIdBeforeRevert),""!==e.originalSessionId&&(n.originalSessionId=e.originalSessionId),""!==e.databaseRollbackTimestamp&&(n.databaseRollbackTimestamp=e.databaseRollbackTimestamp),""!==e.deploymentBuildId&&(n.deploymentBuildId=e.deploymentBuildId),!1!==e.rollbackDatabase&&(n.rollbackDatabase=e.rollbackDatabase),n}};c.set(aC.$type,aC);var aY={$type:"replit.ai.chat.TriggerCheckpointEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.description&&n.uint32(10).string(e.description),!1!==e.onlyIfDiff&&n.uint32(16).bool(e.onlyIfDiff),0!==e.author&&n.uint32(24).int32(e.author),""!==e.deploymentBuildId&&n.uint32(34).string(e.deploymentBuildId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={description:"",onlyIfDiff:!1,author:0,deploymentBuildId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.description=t.string();continue;case 2:if(16!==i)break;a.onlyIfDiff=t.bool();continue;case 3:if(24!==i)break;a.author=t.int32();continue;case 4:if(34!==i)break;a.deploymentBuildId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aY.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aY.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aY.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aY.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{description:i4(e.description)?globalThis.String(e.description):"",onlyIfDiff:!!i4(e.onlyIfDiff)&&globalThis.Boolean(e.onlyIfDiff),author:i4(e.author)?z(e.author):0,deploymentBuildId:i4(e.deploymentBuildId)?globalThis.String(e.deploymentBuildId):""}},toJSON:function(e){var n={};return""!==e.description&&(n.description=e.description),!1!==e.onlyIfDiff&&(n.onlyIfDiff=e.onlyIfDiff),0!==e.author&&(n.author=W(e.author)),""!==e.deploymentBuildId&&(n.deploymentBuildId=e.deploymentBuildId),n}};c.set(aY.$type,aY);var aE={$type:"replit.ai.chat.StepTooComplexAcknowledgementEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return!1!==e.cancelCurrentStep&&n.uint32(8).bool(e.cancelCurrentStep),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={cancelCurrentStep:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.cancelCurrentStep=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aE.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aE.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aE.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aE.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{cancelCurrentStep:!!i4(e.cancelCurrentStep)&&globalThis.Boolean(e.cancelCurrentStep)}},toJSON:function(e){var n={};return!1!==e.cancelCurrentStep&&(n.cancelCurrentStep=e.cancelCurrentStep),n}};c.set(aE.$type,aE);var ax={$type:"replit.ai.chat.AgentCapabilityUsage",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.standardModelProfileLlmCalls&&n.uint32(8).int32(e.standardModelProfileLlmCalls),0!==e.advancedModelProfileLlmCalls&&n.uint32(16).int32(e.advancedModelProfileLlmCalls),0!==e.thinkingEnabledLlmCalls&&n.uint32(24).int32(e.thinkingEnabledLlmCalls),0!==e.webSearchCalls&&n.uint32(32).int32(e.webSearchCalls),!1!==e.rapidBuild&&n.uint32(40).bool(e.rapidBuild),0!==e.testingSubagentRuns&&n.uint32(48).int32(e.testingSubagentRuns),0!==e.architectSubagentRuns&&n.uint32(56).int32(e.architectSubagentRuns),0!==e.generalSubagentRuns&&n.uint32(64).int32(e.generalSubagentRuns),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={standardModelProfileLlmCalls:0,advancedModelProfileLlmCalls:0,thinkingEnabledLlmCalls:0,webSearchCalls:0,rapidBuild:!1,testingSubagentRuns:0,architectSubagentRuns:0,generalSubagentRuns:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.standardModelProfileLlmCalls=t.int32();continue;case 2:if(16!==i)break;a.advancedModelProfileLlmCalls=t.int32();continue;case 3:if(24!==i)break;a.thinkingEnabledLlmCalls=t.int32();continue;case 4:if(32!==i)break;a.webSearchCalls=t.int32();continue;case 5:if(40!==i)break;a.rapidBuild=t.bool();continue;case 6:if(48!==i)break;a.testingSubagentRuns=t.int32();continue;case 7:if(56!==i)break;a.architectSubagentRuns=t.int32();continue;case 8:if(64!==i)break;a.generalSubagentRuns=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ax.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ax.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ax.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ax.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{standardModelProfileLlmCalls:i4(e.standardModelProfileLlmCalls)?globalThis.Number(e.standardModelProfileLlmCalls):0,advancedModelProfileLlmCalls:i4(e.advancedModelProfileLlmCalls)?globalThis.Number(e.advancedModelProfileLlmCalls):0,thinkingEnabledLlmCalls:i4(e.thinkingEnabledLlmCalls)?globalThis.Number(e.thinkingEnabledLlmCalls):0,webSearchCalls:i4(e.webSearchCalls)?globalThis.Number(e.webSearchCalls):0,rapidBuild:!!i4(e.rapidBuild)&&globalThis.Boolean(e.rapidBuild),testingSubagentRuns:i4(e.testingSubagentRuns)?globalThis.Number(e.testingSubagentRuns):0,architectSubagentRuns:i4(e.architectSubagentRuns)?globalThis.Number(e.architectSubagentRuns):0,generalSubagentRuns:i4(e.generalSubagentRuns)?globalThis.Number(e.generalSubagentRuns):0}},toJSON:function(e){var n={};return 0!==e.standardModelProfileLlmCalls&&(n.standardModelProfileLlmCalls=Math.round(e.standardModelProfileLlmCalls)),0!==e.advancedModelProfileLlmCalls&&(n.advancedModelProfileLlmCalls=Math.round(e.advancedModelProfileLlmCalls)),0!==e.thinkingEnabledLlmCalls&&(n.thinkingEnabledLlmCalls=Math.round(e.thinkingEnabledLlmCalls)),0!==e.webSearchCalls&&(n.webSearchCalls=Math.round(e.webSearchCalls)),!1!==e.rapidBuild&&(n.rapidBuild=e.rapidBuild),0!==e.testingSubagentRuns&&(n.testingSubagentRuns=Math.round(e.testingSubagentRuns)),0!==e.architectSubagentRuns&&(n.architectSubagentRuns=Math.round(e.architectSubagentRuns)),0!==e.generalSubagentRuns&&(n.generalSubagentRuns=Math.round(e.generalSubagentRuns)),n}};c.set(ax.$type,ax);var aT={$type:"replit.ai.chat.TaskEffort",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.taskId&&n.uint32(10).string(e.taskId),""!==e.description&&n.uint32(18).string(e.description),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={taskId:"",description:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.taskId=t.string();continue;case 2:if(18!==i)break;a.description=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aT.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aT.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aT.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aT.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{taskId:i4(e.taskId)?globalThis.String(e.taskId):"",description:i4(e.description)?globalThis.String(e.description):""}},toJSON:function(e){var n={};return""!==e.taskId&&(n.taskId=e.taskId),""!==e.description&&(n.description=e.description),n}};c.set(aT.$type,aT);var aD={$type:"replit.ai.chat.GeneralEffort",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aD.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aD.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aD.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aD.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(aD.$type,aD);var aI={$type:"replit.ai.chat.AgentInitializationEffort",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aI.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aI.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aI.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aI.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(aI.$type,aI);var aR={$type:"replit.ai.chat.RelatedEffortBreakdown",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(null==(n=e.effortType)?void 0:n.$case){case"task":aT.encode(e.effortType.value,t.uint32(10).fork()).join();break;case"general":aD.encode(e.effortType.value,t.uint32(18).fork()).join();break;case"initialization":aI.encode(e.effortType.value,t.uint32(26).fork()).join()}return""!==e.commitId&&t.uint32(34).string(e.commitId),0!==e.usageCents&&t.uint32(40).int32(e.usageCents),0!==e.workDurationSeconds&&t.uint32(48).int32(e.workDurationSeconds),0!==e.numLocRead&&t.uint32(56).int32(e.numLocRead),0!==e.numFilesRead&&t.uint32(64).int32(e.numFilesRead),0!==e.addedLinesOfCode&&t.uint32(72).int32(e.addedLinesOfCode),0!==e.removedLinesOfCode&&t.uint32(80).int32(e.removedLinesOfCode),t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={effortType:void 0,commitId:"",usageCents:0,workDurationSeconds:0,numLocRead:0,numFilesRead:0,addedLinesOfCode:0,removedLinesOfCode:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.effortType={$case:"task",value:aT.decode(t,t.uint32())};continue;case 2:if(18!==i)break;a.effortType={$case:"general",value:aD.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.effortType={$case:"initialization",value:aI.decode(t,t.uint32())};continue;case 4:if(34!==i)break;a.commitId=t.string();continue;case 5:if(40!==i)break;a.usageCents=t.int32();continue;case 6:if(48!==i)break;a.workDurationSeconds=t.int32();continue;case 7:if(56!==i)break;a.numLocRead=t.int32();continue;case 8:if(64!==i)break;a.numFilesRead=t.int32();continue;case 9:if(72!==i)break;a.addedLinesOfCode=t.int32();continue;case 10:if(80!==i)break;a.removedLinesOfCode=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aR.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aR.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aR.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aR.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{effortType:i4(e.task)?{$case:"task",value:aT.fromJSON(e.task)}:i4(e.general)?{$case:"general",value:aD.fromJSON(e.general)}:i4(e.initialization)?{$case:"initialization",value:aI.fromJSON(e.initialization)}:void 0,commitId:i4(e.commitId)?globalThis.String(e.commitId):"",usageCents:i4(e.usageCents)?globalThis.Number(e.usageCents):0,workDurationSeconds:i4(e.workDurationSeconds)?globalThis.Number(e.workDurationSeconds):0,numLocRead:i4(e.numLocRead)?globalThis.Number(e.numLocRead):0,numFilesRead:i4(e.numFilesRead)?globalThis.Number(e.numFilesRead):0,addedLinesOfCode:i4(e.addedLinesOfCode)?globalThis.Number(e.addedLinesOfCode):0,removedLinesOfCode:i4(e.removedLinesOfCode)?globalThis.Number(e.removedLinesOfCode):0}},toJSON:function(e){var n,t,r,a={};return(null==(n=e.effortType)?void 0:n.$case)==="task"?a.task=aT.toJSON(e.effortType.value):(null==(t=e.effortType)?void 0:t.$case)==="general"?a.general=aD.toJSON(e.effortType.value):(null==(r=e.effortType)?void 0:r.$case)==="initialization"&&(a.initialization=aI.toJSON(e.effortType.value)),""!==e.commitId&&(a.commitId=e.commitId),0!==e.usageCents&&(a.usageCents=Math.round(e.usageCents)),0!==e.workDurationSeconds&&(a.workDurationSeconds=Math.round(e.workDurationSeconds)),0!==e.numLocRead&&(a.numLocRead=Math.round(e.numLocRead)),0!==e.numFilesRead&&(a.numFilesRead=Math.round(e.numFilesRead)),0!==e.addedLinesOfCode&&(a.addedLinesOfCode=Math.round(e.addedLinesOfCode)),0!==e.removedLinesOfCode&&(a.removedLinesOfCode=Math.round(e.removedLinesOfCode)),a}};c.set(aR.$type,aR);var aN={$type:"replit.ai.chat.CommitData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.commitId&&n.uint32(10).string(e.commitId),""!==e.screenshotUrl&&n.uint32(18).string(e.screenshotUrl),""!==e.description&&n.uint32(26).string(e.description),0!==e.billingRate&&n.uint32(32).int32(e.billingRate),0!==e.author&&n.uint32(40).int32(e.author),""!==e.progressSummary&&n.uint32(50).string(e.progressSummary),0!==e.usageCents&&n.uint32(56).int32(e.usageCents),0!==e.workDurationSeconds&&n.uint32(64).int32(e.workDurationSeconds),0!==e.addedLinesOfCode&&n.uint32(72).int32(e.addedLinesOfCode),0!==e.removedLinesOfCode&&n.uint32(80).int32(e.removedLinesOfCode),0!==e.toolCalls&&n.uint32(88).int32(e.toolCalls),0!==e.triggerReason&&n.uint32(96).int32(e.triggerReason),void 0!==e.capabilityUsage&&ax.encode(e.capabilityUsage,n.uint32(106).fork()).join(),!1!==e.ubbV2&&n.uint32(112).bool(e.ubbV2),0!==e.numLocRead&&n.uint32(120).int32(e.numLocRead),0!==e.numFilesRead&&n.uint32(128).int32(e.numFilesRead),!1!==e.refunded&&n.uint32(136).bool(e.refunded);var t=!0,r=!1,a=void 0;try{for(var i,o=e.relatedEffortBreakdowns[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;aR.encode(s,n.uint32(146).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={commitId:"",screenshotUrl:"",description:"",billingRate:0,author:0,progressSummary:"",usageCents:0,workDurationSeconds:0,addedLinesOfCode:0,removedLinesOfCode:0,toolCalls:0,triggerReason:0,capabilityUsage:void 0,ubbV2:!1,numLocRead:0,numFilesRead:0,refunded:!1,relatedEffortBreakdowns:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.commitId=t.string();continue;case 2:if(18!==i)break;a.screenshotUrl=t.string();continue;case 3:if(26!==i)break;a.description=t.string();continue;case 4:if(32!==i)break;a.billingRate=t.int32();continue;case 5:if(40!==i)break;a.author=t.int32();continue;case 6:if(50!==i)break;a.progressSummary=t.string();continue;case 7:if(56!==i)break;a.usageCents=t.int32();continue;case 8:if(64!==i)break;a.workDurationSeconds=t.int32();continue;case 9:if(72!==i)break;a.addedLinesOfCode=t.int32();continue;case 10:if(80!==i)break;a.removedLinesOfCode=t.int32();continue;case 11:if(88!==i)break;a.toolCalls=t.int32();continue;case 12:if(96!==i)break;a.triggerReason=t.int32();continue;case 13:if(106!==i)break;a.capabilityUsage=ax.decode(t,t.uint32());continue;case 14:if(112!==i)break;a.ubbV2=t.bool();continue;case 15:if(120!==i)break;a.numLocRead=t.int32();continue;case 16:if(128!==i)break;a.numFilesRead=t.int32();continue;case 17:if(136!==i)break;a.refunded=t.bool();continue;case 18:if(146!==i)break;a.relatedEffortBreakdowns.push(aR.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aN.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aN.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aN.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aN.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{commitId:i4(e.commitId)?globalThis.String(e.commitId):"",screenshotUrl:i4(e.screenshotUrl)?globalThis.String(e.screenshotUrl):"",description:i4(e.description)?globalThis.String(e.description):"",billingRate:i4(e.billingRate)?function(e){switch(e){case 0:case"COMMIT_BILLING_RATE_UNSPECIFIED":return A.pS.UNSPECIFIED;case 1:case"ZERO_RATED":return A.pS.ZERO_RATED;case 2:case"NORMAL":return A.pS.NORMAL;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CommitBillingRate")}}(e.billingRate):0,author:i4(e.author)?z(e.author):0,progressSummary:i4(e.progressSummary)?globalThis.String(e.progressSummary):"",usageCents:i4(e.usageCents)?globalThis.Number(e.usageCents):0,workDurationSeconds:i4(e.workDurationSeconds)?globalThis.Number(e.workDurationSeconds):0,addedLinesOfCode:i4(e.addedLinesOfCode)?globalThis.Number(e.addedLinesOfCode):0,removedLinesOfCode:i4(e.removedLinesOfCode)?globalThis.Number(e.removedLinesOfCode):0,toolCalls:i4(e.toolCalls)?globalThis.Number(e.toolCalls):0,triggerReason:i4(e.triggerReason)?function(e){switch(e){case 0:case"CHECKPOINT_TRIGGER_REASON_UNSPECIFIED":return A.Bc.UNSPECIFIED;case 1:case"CHECKPOINT_TRIGGER_REASON_RAPID_BUILD_FEEDBACK":return A.Bc.RAPID_BUILD_FEEDBACK;case 2:case"CHECKPOINT_TRIGGER_REASON_FEEDBACK_REQUESTED":return A.Bc.FEEDBACK_REQUESTED;case 3:case"CHECKPOINT_TRIGGER_REASON_AGENT_USAGE_MAX_THRESHOLD":return A.Bc.AGENT_USAGE_MAX_THRESHOLD;case 4:case"CHECKPOINT_TRIGGER_REASON_AGENT_USAGE_LIMIT_THRESHOLD":return A.Bc.AGENT_USAGE_LIMIT_THRESHOLD;case 5:case"CHECKPOINT_TRIGGER_REASON_USER_RESPONSE":return A.Bc.USER_RESPONSE;case 6:case"CHECKPOINT_TRIGGER_REASON_PROPOSE_PLAN_TOOL":return A.Bc.PROPOSE_PLAN_TOOL;case 7:case"CHECKPOINT_TRIGGER_REASON_LAST_MESSAGE":return A.Bc.LAST_MESSAGE;case 8:case"CHECKPOINT_TRIGGER_REASON_SESSION_START":return A.Bc.SESSION_START;case 9:case"CHECKPOINT_TRIGGER_REASON_NEON_DATABASE_EVENT":return A.Bc.NEON_DATABASE_EVENT;case 10:case"CHECKPOINT_TRIGGER_REASON_GENERATE_3D_MODEL":return A.Bc.GENERATE_3D_MODEL;case 11:case"CHECKPOINT_TRIGGER_REASON_CONTINUE_WITH_PLAN":return A.Bc.CONTINUE_WITH_PLAN;case 12:case"CHECKPOINT_TRIGGER_REASON_WORKSPACE_TRIGGERED_AGENT":return A.Bc.WORKSPACE_TRIGGERED_AGENT;case 13:case"CHECKPOINT_TRIGGER_REASON_WORKSPACE_TRIGGERED_USER":return A.Bc.WORKSPACE_TRIGGERED_USER;case 14:case"CHECKPOINT_TRIGGER_REASON_WORKSPACE_TRIGGERED_DEPLOYMENT":return A.Bc.WORKSPACE_TRIGGERED_DEPLOYMENT;case 15:case"CHECKPOINT_TRIGGER_REASON_PROPOSE_MVP_PLAN":return A.Bc.PROPOSE_MVP_PLAN;case 16:case"CHECKPOINT_TRIGGER_REASON_INTERMEDIATE_CHECKPOINT":return A.Bc.INTERMEDIATE_CHECKPOINT;case 17:case"CHECKPOINT_TRIGGER_REASON_PREREVERT":return A.Bc.PREREVERT;case 18:case"CHECKPOINT_TRIGGER_REASON_REVERT":return A.Bc.REVERT;case 19:case"CHECKPOINT_TRIGGER_REASON_TEST":return A.Bc.TEST;case 20:case"CHECKPOINT_TRIGGER_REASON_PLAN_APPROVED":return A.Bc.PLAN_APPROVED;case 21:case"CHECKPOINT_TRIGGER_REASON_REACT_LOOP_CAP_HIT":return A.Bc.REACT_LOOP_CAP_HIT;case 22:case"CHECKPOINT_TRIGGER_REASON_SUCCESS_TOOL":return A.Bc.SUCCESS_TOOL;case 23:case"CHECKPOINT_TRIGGER_REASON_LOOP_END":return A.Bc.LOOP_END;case 24:case"CHECKPOINT_TRIGGER_REASON_AGENT_PAUSE":return A.Bc.AGENT_PAUSE;case 25:case"CHECKPOINT_TRIGGER_REASON_COMPLETED_TASK":return A.Bc.COMPLETED_TASK;case 26:case"CHECKPOINT_TRIGGER_REASON_PLAN_TO_BUILD_TRANSITION":return A.Bc.PLAN_TO_BUILD_TRANSITION;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CheckpointTriggerReason")}}(e.triggerReason):0,capabilityUsage:i4(e.capabilityUsage)?ax.fromJSON(e.capabilityUsage):void 0,ubbV2:!!i4(e.ubbV2)&&globalThis.Boolean(e.ubbV2),numLocRead:i4(e.numLocRead)?globalThis.Number(e.numLocRead):0,numFilesRead:i4(e.numFilesRead)?globalThis.Number(e.numFilesRead):0,refunded:!!i4(e.refunded)&&globalThis.Boolean(e.refunded),relatedEffortBreakdowns:globalThis.Array.isArray(null==e?void 0:e.relatedEffortBreakdowns)?e.relatedEffortBreakdowns.map(function(e){return aR.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return""!==e.commitId&&(t.commitId=e.commitId),""!==e.screenshotUrl&&(t.screenshotUrl=e.screenshotUrl),""!==e.description&&(t.description=e.description),0!==e.billingRate&&(t.billingRate=function(e){switch(e){case A.pS.UNSPECIFIED:return"COMMIT_BILLING_RATE_UNSPECIFIED";case A.pS.ZERO_RATED:return"ZERO_RATED";case A.pS.NORMAL:return"NORMAL";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CommitBillingRate")}}(e.billingRate)),0!==e.author&&(t.author=W(e.author)),""!==e.progressSummary&&(t.progressSummary=e.progressSummary),0!==e.usageCents&&(t.usageCents=Math.round(e.usageCents)),0!==e.workDurationSeconds&&(t.workDurationSeconds=Math.round(e.workDurationSeconds)),0!==e.addedLinesOfCode&&(t.addedLinesOfCode=Math.round(e.addedLinesOfCode)),0!==e.removedLinesOfCode&&(t.removedLinesOfCode=Math.round(e.removedLinesOfCode)),0!==e.toolCalls&&(t.toolCalls=Math.round(e.toolCalls)),0!==e.triggerReason&&(t.triggerReason=function(e){switch(e){case A.Bc.UNSPECIFIED:return"CHECKPOINT_TRIGGER_REASON_UNSPECIFIED";case A.Bc.RAPID_BUILD_FEEDBACK:return"CHECKPOINT_TRIGGER_REASON_RAPID_BUILD_FEEDBACK";case A.Bc.FEEDBACK_REQUESTED:return"CHECKPOINT_TRIGGER_REASON_FEEDBACK_REQUESTED";case A.Bc.AGENT_USAGE_MAX_THRESHOLD:return"CHECKPOINT_TRIGGER_REASON_AGENT_USAGE_MAX_THRESHOLD";case A.Bc.AGENT_USAGE_LIMIT_THRESHOLD:return"CHECKPOINT_TRIGGER_REASON_AGENT_USAGE_LIMIT_THRESHOLD";case A.Bc.USER_RESPONSE:return"CHECKPOINT_TRIGGER_REASON_USER_RESPONSE";case A.Bc.PROPOSE_PLAN_TOOL:return"CHECKPOINT_TRIGGER_REASON_PROPOSE_PLAN_TOOL";case A.Bc.LAST_MESSAGE:return"CHECKPOINT_TRIGGER_REASON_LAST_MESSAGE";case A.Bc.SESSION_START:return"CHECKPOINT_TRIGGER_REASON_SESSION_START";case A.Bc.NEON_DATABASE_EVENT:return"CHECKPOINT_TRIGGER_REASON_NEON_DATABASE_EVENT";case A.Bc.GENERATE_3D_MODEL:return"CHECKPOINT_TRIGGER_REASON_GENERATE_3D_MODEL";case A.Bc.CONTINUE_WITH_PLAN:return"CHECKPOINT_TRIGGER_REASON_CONTINUE_WITH_PLAN";case A.Bc.WORKSPACE_TRIGGERED_AGENT:return"CHECKPOINT_TRIGGER_REASON_WORKSPACE_TRIGGERED_AGENT";case A.Bc.WORKSPACE_TRIGGERED_USER:return"CHECKPOINT_TRIGGER_REASON_WORKSPACE_TRIGGERED_USER";case A.Bc.WORKSPACE_TRIGGERED_DEPLOYMENT:return"CHECKPOINT_TRIGGER_REASON_WORKSPACE_TRIGGERED_DEPLOYMENT";case A.Bc.PROPOSE_MVP_PLAN:return"CHECKPOINT_TRIGGER_REASON_PROPOSE_MVP_PLAN";case A.Bc.INTERMEDIATE_CHECKPOINT:return"CHECKPOINT_TRIGGER_REASON_INTERMEDIATE_CHECKPOINT";case A.Bc.PREREVERT:return"CHECKPOINT_TRIGGER_REASON_PREREVERT";case A.Bc.REVERT:return"CHECKPOINT_TRIGGER_REASON_REVERT";case A.Bc.TEST:return"CHECKPOINT_TRIGGER_REASON_TEST";case A.Bc.PLAN_APPROVED:return"CHECKPOINT_TRIGGER_REASON_PLAN_APPROVED";case A.Bc.REACT_LOOP_CAP_HIT:return"CHECKPOINT_TRIGGER_REASON_REACT_LOOP_CAP_HIT";case A.Bc.SUCCESS_TOOL:return"CHECKPOINT_TRIGGER_REASON_SUCCESS_TOOL";case A.Bc.LOOP_END:return"CHECKPOINT_TRIGGER_REASON_LOOP_END";case A.Bc.AGENT_PAUSE:return"CHECKPOINT_TRIGGER_REASON_AGENT_PAUSE";case A.Bc.COMPLETED_TASK:return"CHECKPOINT_TRIGGER_REASON_COMPLETED_TASK";case A.Bc.PLAN_TO_BUILD_TRANSITION:return"CHECKPOINT_TRIGGER_REASON_PLAN_TO_BUILD_TRANSITION";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CheckpointTriggerReason")}}(e.triggerReason)),void 0!==e.capabilityUsage&&(t.capabilityUsage=ax.toJSON(e.capabilityUsage)),!1!==e.ubbV2&&(t.ubbV2=e.ubbV2),0!==e.numLocRead&&(t.numLocRead=Math.round(e.numLocRead)),0!==e.numFilesRead&&(t.numFilesRead=Math.round(e.numFilesRead)),!1!==e.refunded&&(t.refunded=e.refunded),(null==(n=e.relatedEffortBreakdowns)?void 0:n.length)&&(t.relatedEffortBreakdowns=e.relatedEffortBreakdowns.map(function(e){return aR.toJSON(e)})),t}};c.set(aN.$type,aN);var aO={$type:"replit.ai.chat.ApprovePlanEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.planEventId&&n.uint32(10).string(e.planEventId),void 0!==e.approver&&rl.encode(e.approver,n.uint32(18).fork()).join(),0!==e.initialBuildMode&&n.uint32(24).int32(e.initialBuildMode),void 0!==e.userSecretsResponse&&eS.encode(e.userSecretsResponse,n.uint32(34).fork()).join(),void 0!==e.agentConfig&&tR.encode(e.agentConfig,n.uint32(42).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={planEventId:"",approver:void 0,initialBuildMode:0,userSecretsResponse:void 0,agentConfig:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.planEventId=t.string();continue;case 2:if(18!==i)break;a.approver=rl.decode(t,t.uint32());continue;case 3:if(24!==i)break;a.initialBuildMode=t.int32();continue;case 4:if(34!==i)break;a.userSecretsResponse=eS.decode(t,t.uint32());continue;case 5:if(42!==i)break;a.agentConfig=tR.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aO.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aO.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aO.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aO.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{planEventId:i4(e.planEventId)?globalThis.String(e.planEventId):"",approver:i4(e.approver)?rl.fromJSON(e.approver):void 0,initialBuildMode:i4(e.initialBuildMode)?$(e.initialBuildMode):0,userSecretsResponse:i4(e.userSecretsResponse)?eS.fromJSON(e.userSecretsResponse):void 0,agentConfig:i4(e.agentConfig)?tR.fromJSON(e.agentConfig):void 0}},toJSON:function(e){var n={};return""!==e.planEventId&&(n.planEventId=e.planEventId),void 0!==e.approver&&(n.approver=rl.toJSON(e.approver)),0!==e.initialBuildMode&&(n.initialBuildMode=G(e.initialBuildMode)),void 0!==e.userSecretsResponse&&(n.userSecretsResponse=eS.toJSON(e.userSecretsResponse)),void 0!==e.agentConfig&&(n.agentConfig=tR.toJSON(e.agentConfig)),n}};c.set(aO.$type,aO);var aP={$type:"replit.ai.chat.ApprovePlanEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aP.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aP.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aP.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aP.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(aP.$type,aP);var aF={$type:"replit.ai.chat.UserSecretsResponseEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.response[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;em.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={response:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.response.push(em.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aF.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aF.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aF.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aF.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{response:globalThis.Array.isArray(null==e?void 0:e.response)?e.response.map(function(e){return em.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.response)?void 0:n.length)&&(t.response=e.response.map(function(e){return em.toJSON(e)})),t}};c.set(aF.$type,aF);var aU={$type:"replit.ai.chat.HostingDebugSummaryErrorPorts",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return!1!==e.exposeLocalhost&&n.uint32(8).bool(e.exposeLocalhost),""!==e.localPort&&n.uint32(18).string(e.localPort),""!==e.externalPort&&n.uint32(26).string(e.externalPort),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={exposeLocalhost:!1,localPort:"",externalPort:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.exposeLocalhost=t.bool();continue;case 2:if(18!==i)break;a.localPort=t.string();continue;case 3:if(26!==i)break;a.externalPort=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aU.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aU.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aU.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aU.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{exposeLocalhost:!!i4(e.exposeLocalhost)&&globalThis.Boolean(e.exposeLocalhost),localPort:i4(e.localPort)?globalThis.String(e.localPort):"",externalPort:i4(e.externalPort)?globalThis.String(e.externalPort):""}},toJSON:function(e){var n={};return!1!==e.exposeLocalhost&&(n.exposeLocalhost=e.exposeLocalhost),""!==e.localPort&&(n.localPort=e.localPort),""!==e.externalPort&&(n.externalPort=e.externalPort),n}};c.set(aU.$type,aU);var aL={$type:"replit.ai.chat.HostingDebugSummaryError",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.provider&&n.uint32(10).string(e.provider),""!==e.buildCommand&&n.uint32(26).string(e.buildCommand),""!==e.runCommand&&n.uint32(34).string(e.runCommand),void 0!==e.publicDir&&n.uint32(42).string(e.publicDir),void 0!==e.appType&&n.uint32(18).string(e.appType);var t=!0,r=!1,a=void 0;try{for(var i,o=e.logs[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(50).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.envKeys[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;n.uint32(58).string(h)}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}var m=!0,v=!1,g=void 0;try{for(var b,y=e.ports[Symbol.iterator]();!(m=(b=y.next()).done);m=!0){var w=b.value;aU.encode(w,n.uint32(66).fork()).join()}}catch(e){v=!0,g=e}finally{try{m||null==y.return||y.return()}finally{if(v)throw g}}return void 0!==e.entrypointFilePath&&n.uint32(82).string(e.entrypointFilePath),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={provider:"",buildCommand:"",runCommand:"",publicDir:void 0,appType:void 0,logs:[],envKeys:[],ports:[],entrypointFilePath:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.provider=t.string();continue;case 3:if(26!==i)break;a.buildCommand=t.string();continue;case 4:if(34!==i)break;a.runCommand=t.string();continue;case 5:if(42!==i)break;a.publicDir=t.string();continue;case 2:if(18!==i)break;a.appType=t.string();continue;case 6:if(50!==i)break;a.logs.push(t.string());continue;case 7:if(58!==i)break;a.envKeys.push(t.string());continue;case 8:if(66!==i)break;a.ports.push(aU.decode(t,t.uint32()));continue;case 10:if(82!==i)break;a.entrypointFilePath=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aL.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aL.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aL.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aL.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{provider:i4(e.provider)?globalThis.String(e.provider):"",buildCommand:i4(e.buildCommand)?globalThis.String(e.buildCommand):"",runCommand:i4(e.runCommand)?globalThis.String(e.runCommand):"",publicDir:i4(e.publicDir)?globalThis.String(e.publicDir):void 0,appType:i4(e.appType)?globalThis.String(e.appType):void 0,logs:globalThis.Array.isArray(null==e?void 0:e.logs)?e.logs.map(function(e){return globalThis.String(e)}):[],envKeys:globalThis.Array.isArray(null==e?void 0:e.envKeys)?e.envKeys.map(function(e){return globalThis.String(e)}):[],ports:globalThis.Array.isArray(null==e?void 0:e.ports)?e.ports.map(function(e){return aU.fromJSON(e)}):[],entrypointFilePath:i4(e.entrypointFilePath)?globalThis.String(e.entrypointFilePath):void 0}},toJSON:function(e){var n,t,r,a={};return""!==e.provider&&(a.provider=e.provider),""!==e.buildCommand&&(a.buildCommand=e.buildCommand),""!==e.runCommand&&(a.runCommand=e.runCommand),void 0!==e.publicDir&&(a.publicDir=e.publicDir),void 0!==e.appType&&(a.appType=e.appType),(null==(n=e.logs)?void 0:n.length)&&(a.logs=e.logs),(null==(t=e.envKeys)?void 0:t.length)&&(a.envKeys=e.envKeys),(null==(r=e.ports)?void 0:r.length)&&(a.ports=e.ports.map(function(e){return aU.toJSON(e)})),void 0!==e.entrypointFilePath&&(a.entrypointFilePath=e.entrypointFilePath),a}};c.set(aL.$type,aL);var aM={$type:"replit.ai.chat.HostingDebugSummarySuggestion",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.name&&n.uint32(10).string(e.name),""!==e.type&&n.uint32(18).string(e.type),""!==e.description&&n.uint32(26).string(e.description),""!==e.before&&n.uint32(34).string(e.before),""!==e.after&&n.uint32(42).string(e.after),void 0!==e.file&&n.uint32(50).string(e.file),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={name:"",type:"",description:"",before:"",after:"",file:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.name=t.string();continue;case 2:if(18!==i)break;a.type=t.string();continue;case 3:if(26!==i)break;a.description=t.string();continue;case 4:if(34!==i)break;a.before=t.string();continue;case 5:if(42!==i)break;a.after=t.string();continue;case 6:if(50!==i)break;a.file=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aM.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aM.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aM.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aM.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{name:i4(e.name)?globalThis.String(e.name):"",type:i4(e.type)?globalThis.String(e.type):"",description:i4(e.description)?globalThis.String(e.description):"",before:i4(e.before)?globalThis.String(e.before):"",after:i4(e.after)?globalThis.String(e.after):"",file:i4(e.file)?globalThis.String(e.file):void 0}},toJSON:function(e){var n={};return""!==e.name&&(n.name=e.name),""!==e.type&&(n.type=e.type),""!==e.description&&(n.description=e.description),""!==e.before&&(n.before=e.before),""!==e.after&&(n.after=e.after),void 0!==e.file&&(n.file=e.file),n}};c.set(aM.$type,aM);var aJ={$type:"replit.ai.chat.HostingDebugSummaryResult",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.errors[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(10).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.suggestions[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;aM.encode(h,n.uint32(18).fork()).join()}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={errors:[],suggestions:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.errors.push(t.string());continue;case 2:if(18!==i)break;a.suggestions.push(aM.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aJ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aJ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aJ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aJ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{errors:globalThis.Array.isArray(null==e?void 0:e.errors)?e.errors.map(function(e){return globalThis.String(e)}):[],suggestions:globalThis.Array.isArray(null==e?void 0:e.suggestions)?e.suggestions.map(function(e){return aM.fromJSON(e)}):[]}},toJSON:function(e){var n,t,r={};return(null==(n=e.errors)?void 0:n.length)&&(r.errors=e.errors),(null==(t=e.suggestions)?void 0:t.length)&&(r.suggestions=e.suggestions.map(function(e){return aM.toJSON(e)})),r}};c.set(aJ.$type,aJ);var aH={$type:"replit.ai.chat.HostingDebugSummaryEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.error&&aL.encode(e.error,n.uint32(10).fork()).join(),void 0!==e.result&&aJ.encode(e.result,n.uint32(18).fork()).join(),void 0!==e.usedModelSelector&&tT.encode(e.usedModelSelector,n.uint32(26).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={error:void 0,result:void 0,usedModelSelector:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.error=aL.decode(t,t.uint32());continue;case 2:if(18!==i)break;a.result=aJ.decode(t,t.uint32());continue;case 3:if(26!==i)break;a.usedModelSelector=tT.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aH.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aH.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aH.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aH.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{error:i4(e.error)?aL.fromJSON(e.error):void 0,result:i4(e.result)?aJ.fromJSON(e.result):void 0,usedModelSelector:i4(e.usedModelSelector)?tT.fromJSON(e.usedModelSelector):void 0}},toJSON:function(e){var n={};return void 0!==e.error&&(n.error=aL.toJSON(e.error)),void 0!==e.result&&(n.result=aJ.toJSON(e.result)),void 0!==e.usedModelSelector&&(n.usedModelSelector=tT.toJSON(e.usedModelSelector)),n}};c.set(aH.$type,aH);var aB={$type:"replit.ai.chat.HostingDebugSummaryEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.modelSelector&&tT.encode(e.modelSelector,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={modelSelector:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.modelSelector=tT.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aB.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aB.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aB.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aB.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{modelSelector:i4(e.modelSelector)?tT.fromJSON(e.modelSelector):void 0}},toJSON:function(e){var n={};return void 0!==e.modelSelector&&(n.modelSelector=tT.toJSON(e.modelSelector)),n}};c.set(aB.$type,aB);var aV={$type:"replit.ai.chat.ReplCreationEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.errors[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(10).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}""!==e.generatedReplName&&n.uint32(18).string(e.generatedReplName),!1!==e.isAgentRecommended&&n.uint32(24).bool(e.isAgentRecommended),void 0!==e.bestTemplate&&td.encode(e.bestTemplate,n.uint32(34).fork()).join();var l=!0,c=!1,d=void 0;try{for(var f,p=e.matchedPlanNames[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;n.uint32(42).string(h)}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}return""!==e.scaffoldTemplateName&&n.uint32(50).string(e.scaffoldTemplateName),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={errors:[],generatedReplName:"",isAgentRecommended:!1,bestTemplate:void 0,matchedPlanNames:[],scaffoldTemplateName:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.errors.push(t.string());continue;case 2:if(18!==i)break;a.generatedReplName=t.string();continue;case 3:if(24!==i)break;a.isAgentRecommended=t.bool();continue;case 4:if(34!==i)break;a.bestTemplate=td.decode(t,t.uint32());continue;case 5:if(42!==i)break;a.matchedPlanNames.push(t.string());continue;case 6:if(50!==i)break;a.scaffoldTemplateName=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aV.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aV.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aV.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aV.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{errors:globalThis.Array.isArray(null==e?void 0:e.errors)?e.errors.map(function(e){return globalThis.String(e)}):[],generatedReplName:i4(e.generatedReplName)?globalThis.String(e.generatedReplName):"",isAgentRecommended:!!i4(e.isAgentRecommended)&&globalThis.Boolean(e.isAgentRecommended),bestTemplate:i4(e.bestTemplate)?td.fromJSON(e.bestTemplate):void 0,matchedPlanNames:globalThis.Array.isArray(null==e?void 0:e.matchedPlanNames)?e.matchedPlanNames.map(function(e){return globalThis.String(e)}):[],scaffoldTemplateName:i4(e.scaffoldTemplateName)?globalThis.String(e.scaffoldTemplateName):""}},toJSON:function(e){var n,t,r={};return(null==(n=e.errors)?void 0:n.length)&&(r.errors=e.errors),""!==e.generatedReplName&&(r.generatedReplName=e.generatedReplName),!1!==e.isAgentRecommended&&(r.isAgentRecommended=e.isAgentRecommended),void 0!==e.bestTemplate&&(r.bestTemplate=td.toJSON(e.bestTemplate)),(null==(t=e.matchedPlanNames)?void 0:t.length)&&(r.matchedPlanNames=e.matchedPlanNames),""!==e.scaffoldTemplateName&&(r.scaffoldTemplateName=e.scaffoldTemplateName),r}};c.set(aV.$type,aV);var a$={$type:"replit.ai.chat.ReplCreationEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.modelSelector&&tT.encode(e.modelSelector,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={modelSelector:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.modelSelector=tT.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a$.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a$.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a$.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a$.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{modelSelector:i4(e.modelSelector)?tT.fromJSON(e.modelSelector):void 0}},toJSON:function(e){var n={};return void 0!==e.modelSelector&&(n.modelSelector=tT.toJSON(e.modelSelector)),n}};c.set(a$.$type,a$);var aG={$type:"replit.ai.chat.UserSecretsResponseEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aG.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aG.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aG.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aG.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(aG.$type,aG);var az={$type:"replit.ai.chat.IterativeAgentEventContents",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(null==(n=e.contents)?void 0:n.$case){case"appliedFileChanges":aW.encode(e.contents.value,t.uint32(10).fork()).join();break;case"revertedFileChanges":aj.encode(e.contents.value,t.uint32(18).fork()).join();break;case"installingPackages":aq.encode(e.contents.value,t.uint32(26).fork()).join();break;case"installedPackages":aZ.encode(e.contents.value,t.uint32(34).fork()).join();break;case"startedShellExecution":aX.encode(e.contents.value,t.uint32(42).fork()).join();break;case"finishedShellExecution":a0.encode(e.contents.value,t.uint32(50).fork()).join();break;case"appliedRunConfiguration":a1.encode(e.contents.value,t.uint32(58).fork()).join();break;case"appliedDeploymentConfiguration":a3.encode(e.contents.value,t.uint32(66).fork()).join();break;case"appliedWorkflowConfiguration":a2.encode(e.contents.value,t.uint32(74).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={contents:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.contents={$case:"appliedFileChanges",value:aW.decode(t,t.uint32())};continue;case 2:if(18!==i)break;a.contents={$case:"revertedFileChanges",value:aj.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.contents={$case:"installingPackages",value:aq.decode(t,t.uint32())};continue;case 4:if(34!==i)break;a.contents={$case:"installedPackages",value:aZ.decode(t,t.uint32())};continue;case 5:if(42!==i)break;a.contents={$case:"startedShellExecution",value:aX.decode(t,t.uint32())};continue;case 6:if(50!==i)break;a.contents={$case:"finishedShellExecution",value:a0.decode(t,t.uint32())};continue;case 7:if(58!==i)break;a.contents={$case:"appliedRunConfiguration",value:a1.decode(t,t.uint32())};continue;case 8:if(66!==i)break;a.contents={$case:"appliedDeploymentConfiguration",value:a3.decode(t,t.uint32())};continue;case 9:if(74!==i)break;a.contents={$case:"appliedWorkflowConfiguration",value:a2.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([az.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([az.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([az.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([az.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{contents:i4(e.appliedFileChanges)?{$case:"appliedFileChanges",value:aW.fromJSON(e.appliedFileChanges)}:i4(e.revertedFileChanges)?{$case:"revertedFileChanges",value:aj.fromJSON(e.revertedFileChanges)}:i4(e.installingPackages)?{$case:"installingPackages",value:aq.fromJSON(e.installingPackages)}:i4(e.installedPackages)?{$case:"installedPackages",value:aZ.fromJSON(e.installedPackages)}:i4(e.startedShellExecution)?{$case:"startedShellExecution",value:aX.fromJSON(e.startedShellExecution)}:i4(e.finishedShellExecution)?{$case:"finishedShellExecution",value:a0.fromJSON(e.finishedShellExecution)}:i4(e.appliedRunConfiguration)?{$case:"appliedRunConfiguration",value:a1.fromJSON(e.appliedRunConfiguration)}:i4(e.appliedDeploymentConfiguration)?{$case:"appliedDeploymentConfiguration",value:a3.fromJSON(e.appliedDeploymentConfiguration)}:i4(e.appliedWorkflowConfiguration)?{$case:"appliedWorkflowConfiguration",value:a2.fromJSON(e.appliedWorkflowConfiguration)}:void 0}},toJSON:function(e){var n,t,r,a,i,o,s,l,u,c={};return(null==(n=e.contents)?void 0:n.$case)==="appliedFileChanges"?c.appliedFileChanges=aW.toJSON(e.contents.value):(null==(t=e.contents)?void 0:t.$case)==="revertedFileChanges"?c.revertedFileChanges=aj.toJSON(e.contents.value):(null==(r=e.contents)?void 0:r.$case)==="installingPackages"?c.installingPackages=aq.toJSON(e.contents.value):(null==(a=e.contents)?void 0:a.$case)==="installedPackages"?c.installedPackages=aZ.toJSON(e.contents.value):(null==(i=e.contents)?void 0:i.$case)==="startedShellExecution"?c.startedShellExecution=aX.toJSON(e.contents.value):(null==(o=e.contents)?void 0:o.$case)==="finishedShellExecution"?c.finishedShellExecution=a0.toJSON(e.contents.value):(null==(s=e.contents)?void 0:s.$case)==="appliedRunConfiguration"?c.appliedRunConfiguration=a1.toJSON(e.contents.value):(null==(l=e.contents)?void 0:l.$case)==="appliedDeploymentConfiguration"?c.appliedDeploymentConfiguration=a3.toJSON(e.contents.value):(null==(u=e.contents)?void 0:u.$case)==="appliedWorkflowConfiguration"&&(c.appliedWorkflowConfiguration=a2.toJSON(e.contents.value)),c}};c.set(az.$type,az);var aW={$type:"replit.ai.chat.IterativeAgentAppliedFileChanges",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.eventWhichProposedChanges&&n.uint32(10).string(e.eventWhichProposedChanges);var t=!0,r=!1,a=void 0;try{for(var i,o=e.appliedChanges[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;aK.encode(s,n.uint32(18).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return""!==e.commitHash&&n.uint32(26).string(e.commitHash),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventWhichProposedChanges:"",appliedChanges:[],commitHash:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventWhichProposedChanges=t.string();continue;case 2:if(18!==i)break;a.appliedChanges.push(aK.decode(t,t.uint32()));continue;case 3:if(26!==i)break;a.commitHash=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aW.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aW.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aW.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aW.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventWhichProposedChanges:i4(e.eventWhichProposedChanges)?globalThis.String(e.eventWhichProposedChanges):"",appliedChanges:globalThis.Array.isArray(null==e?void 0:e.appliedChanges)?e.appliedChanges.map(function(e){return aK.fromJSON(e)}):[],commitHash:i4(e.commitHash)?globalThis.String(e.commitHash):""}},toJSON:function(e){var n,t={};return""!==e.eventWhichProposedChanges&&(t.eventWhichProposedChanges=e.eventWhichProposedChanges),(null==(n=e.appliedChanges)?void 0:n.length)&&(t.appliedChanges=e.appliedChanges.map(function(e){return aK.toJSON(e)})),""!==e.commitHash&&(t.commitHash=e.commitHash),t}};c.set(aW.$type,aW);var aj={$type:"replit.ai.chat.IterativeAgentRevertedFileChanges",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.eventWhichProposedChanges&&n.uint32(10).string(e.eventWhichProposedChanges),""!==e.eventWhichAppliedChanges&&n.uint32(18).string(e.eventWhichAppliedChanges);var t=!0,r=!1,a=void 0;try{for(var i,o=e.revertedChanges[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;aQ.encode(s,n.uint32(26).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventWhichProposedChanges:"",eventWhichAppliedChanges:"",revertedChanges:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventWhichProposedChanges=t.string();continue;case 2:if(18!==i)break;a.eventWhichAppliedChanges=t.string();continue;case 3:if(26!==i)break;a.revertedChanges.push(aQ.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aj.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aj.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aj.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aj.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventWhichProposedChanges:i4(e.eventWhichProposedChanges)?globalThis.String(e.eventWhichProposedChanges):"",eventWhichAppliedChanges:i4(e.eventWhichAppliedChanges)?globalThis.String(e.eventWhichAppliedChanges):"",revertedChanges:globalThis.Array.isArray(null==e?void 0:e.revertedChanges)?e.revertedChanges.map(function(e){return aQ.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return""!==e.eventWhichProposedChanges&&(t.eventWhichProposedChanges=e.eventWhichProposedChanges),""!==e.eventWhichAppliedChanges&&(t.eventWhichAppliedChanges=e.eventWhichAppliedChanges),(null==(n=e.revertedChanges)?void 0:n.length)&&(t.revertedChanges=e.revertedChanges.map(function(e){return aQ.toJSON(e)})),t}};c.set(aj.$type,aj);var aq={$type:"replit.ai.chat.IterativeAgentInstallingPackages",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.eventWhichProposedPackageInstall&&n.uint32(10).string(e.eventWhichProposedPackageInstall),0!==e.messageContentsOffset&&n.uint32(16).int32(e.messageContentsOffset),""!==e.processId&&n.uint32(26).string(e.processId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventWhichProposedPackageInstall:"",messageContentsOffset:0,processId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventWhichProposedPackageInstall=t.string();continue;case 2:if(16!==i)break;a.messageContentsOffset=t.int32();continue;case 3:if(26!==i)break;a.processId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aq.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aq.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aq.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aq.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventWhichProposedPackageInstall:i4(e.eventWhichProposedPackageInstall)?globalThis.String(e.eventWhichProposedPackageInstall):"",messageContentsOffset:i4(e.messageContentsOffset)?globalThis.Number(e.messageContentsOffset):0,processId:i4(e.processId)?globalThis.String(e.processId):""}},toJSON:function(e){var n={};return""!==e.eventWhichProposedPackageInstall&&(n.eventWhichProposedPackageInstall=e.eventWhichProposedPackageInstall),0!==e.messageContentsOffset&&(n.messageContentsOffset=Math.round(e.messageContentsOffset)),""!==e.processId&&(n.processId=e.processId),n}};c.set(aq.$type,aq);var aZ={$type:"replit.ai.chat.IterativeAgentInstalledPackages",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.eventWhichProposedPackageInstall&&n.uint32(10).string(e.eventWhichProposedPackageInstall),0!==e.messageContentsOffset&&n.uint32(16).int32(e.messageContentsOffset),""!==e.installationOutput&&n.uint32(26).string(e.installationOutput),""!==e.processId&&n.uint32(34).string(e.processId),0!==e.exitCode&&n.uint32(40).int32(e.exitCode),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventWhichProposedPackageInstall:"",messageContentsOffset:0,installationOutput:"",processId:"",exitCode:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventWhichProposedPackageInstall=t.string();continue;case 2:if(16!==i)break;a.messageContentsOffset=t.int32();continue;case 3:if(26!==i)break;a.installationOutput=t.string();continue;case 4:if(34!==i)break;a.processId=t.string();continue;case 5:if(40!==i)break;a.exitCode=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aZ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aZ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aZ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aZ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventWhichProposedPackageInstall:i4(e.eventWhichProposedPackageInstall)?globalThis.String(e.eventWhichProposedPackageInstall):"",messageContentsOffset:i4(e.messageContentsOffset)?globalThis.Number(e.messageContentsOffset):0,installationOutput:i4(e.installationOutput)?globalThis.String(e.installationOutput):"",processId:i4(e.processId)?globalThis.String(e.processId):"",exitCode:i4(e.exitCode)?globalThis.Number(e.exitCode):0}},toJSON:function(e){var n={};return""!==e.eventWhichProposedPackageInstall&&(n.eventWhichProposedPackageInstall=e.eventWhichProposedPackageInstall),0!==e.messageContentsOffset&&(n.messageContentsOffset=Math.round(e.messageContentsOffset)),""!==e.installationOutput&&(n.installationOutput=e.installationOutput),""!==e.processId&&(n.processId=e.processId),0!==e.exitCode&&(n.exitCode=Math.round(e.exitCode)),n}};c.set(aZ.$type,aZ);var aK={$type:"replit.ai.chat.AppliedFileChange",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.filePath&&n.uint32(10).string(e.filePath),0!==e.linesAdded&&n.uint32(16).int32(e.linesAdded),0!==e.linesRemoved&&n.uint32(24).int32(e.linesRemoved),""!==e.changeSummary&&n.uint32(34).string(e.changeSummary),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={filePath:"",linesAdded:0,linesRemoved:0,changeSummary:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.filePath=t.string();continue;case 2:if(16!==i)break;a.linesAdded=t.int32();continue;case 3:if(24!==i)break;a.linesRemoved=t.int32();continue;case 4:if(34!==i)break;a.changeSummary=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aK.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aK.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aK.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aK.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{filePath:i4(e.filePath)?globalThis.String(e.filePath):"",linesAdded:i4(e.linesAdded)?globalThis.Number(e.linesAdded):0,linesRemoved:i4(e.linesRemoved)?globalThis.Number(e.linesRemoved):0,changeSummary:i4(e.changeSummary)?globalThis.String(e.changeSummary):""}},toJSON:function(e){var n={};return""!==e.filePath&&(n.filePath=e.filePath),0!==e.linesAdded&&(n.linesAdded=Math.round(e.linesAdded)),0!==e.linesRemoved&&(n.linesRemoved=Math.round(e.linesRemoved)),""!==e.changeSummary&&(n.changeSummary=e.changeSummary),n}};c.set(aK.$type,aK);var aQ={$type:"replit.ai.chat.RevertedFileChange",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.filePath&&n.uint32(10).string(e.filePath),""!==e.changeSummary&&n.uint32(18).string(e.changeSummary),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={filePath:"",changeSummary:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.filePath=t.string();continue;case 2:if(18!==i)break;a.changeSummary=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aQ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aQ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aQ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aQ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{filePath:i4(e.filePath)?globalThis.String(e.filePath):"",changeSummary:i4(e.changeSummary)?globalThis.String(e.changeSummary):""}},toJSON:function(e){var n={};return""!==e.filePath&&(n.filePath=e.filePath),""!==e.changeSummary&&(n.changeSummary=e.changeSummary),n}};c.set(aQ.$type,aQ);var aX={$type:"replit.ai.chat.IterativeAgentStartedShellExecution",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.eventWhichProposedShellExecution&&n.uint32(10).string(e.eventWhichProposedShellExecution),0!==e.messageContentsOffset&&n.uint32(16).int32(e.messageContentsOffset),""!==e.processId&&n.uint32(26).string(e.processId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventWhichProposedShellExecution:"",messageContentsOffset:0,processId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventWhichProposedShellExecution=t.string();continue;case 2:if(16!==i)break;a.messageContentsOffset=t.int32();continue;case 3:if(26!==i)break;a.processId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aX.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aX.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([aX.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([aX.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventWhichProposedShellExecution:i4(e.eventWhichProposedShellExecution)?globalThis.String(e.eventWhichProposedShellExecution):"",messageContentsOffset:i4(e.messageContentsOffset)?globalThis.Number(e.messageContentsOffset):0,processId:i4(e.processId)?globalThis.String(e.processId):""}},toJSON:function(e){var n={};return""!==e.eventWhichProposedShellExecution&&(n.eventWhichProposedShellExecution=e.eventWhichProposedShellExecution),0!==e.messageContentsOffset&&(n.messageContentsOffset=Math.round(e.messageContentsOffset)),""!==e.processId&&(n.processId=e.processId),n}};c.set(aX.$type,aX);var a0={$type:"replit.ai.chat.IterativeAgentFinishedShellExecution",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.eventWhichProposedShellExecution&&n.uint32(10).string(e.eventWhichProposedShellExecution),0!==e.messageContentsOffset&&n.uint32(16).int32(e.messageContentsOffset),""!==e.processId&&n.uint32(26).string(e.processId),""!==e.commandOutput&&n.uint32(34).string(e.commandOutput),0!==e.exitCode&&n.uint32(40).int32(e.exitCode),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventWhichProposedShellExecution:"",messageContentsOffset:0,processId:"",commandOutput:"",exitCode:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventWhichProposedShellExecution=t.string();continue;case 2:if(16!==i)break;a.messageContentsOffset=t.int32();continue;case 3:if(26!==i)break;a.processId=t.string();continue;case 4:if(34!==i)break;a.commandOutput=t.string();continue;case 5:if(40!==i)break;a.exitCode=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a0.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a0.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a0.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a0.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventWhichProposedShellExecution:i4(e.eventWhichProposedShellExecution)?globalThis.String(e.eventWhichProposedShellExecution):"",messageContentsOffset:i4(e.messageContentsOffset)?globalThis.Number(e.messageContentsOffset):0,processId:i4(e.processId)?globalThis.String(e.processId):"",commandOutput:i4(e.commandOutput)?globalThis.String(e.commandOutput):"",exitCode:i4(e.exitCode)?globalThis.Number(e.exitCode):0}},toJSON:function(e){var n={};return""!==e.eventWhichProposedShellExecution&&(n.eventWhichProposedShellExecution=e.eventWhichProposedShellExecution),0!==e.messageContentsOffset&&(n.messageContentsOffset=Math.round(e.messageContentsOffset)),""!==e.processId&&(n.processId=e.processId),""!==e.commandOutput&&(n.commandOutput=e.commandOutput),0!==e.exitCode&&(n.exitCode=Math.round(e.exitCode)),n}};c.set(a0.$type,a0);var a1={$type:"replit.ai.chat.IterativeAgentAppliedRunConfiguration",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.eventWhichProposedRunConfiguration&&n.uint32(10).string(e.eventWhichProposedRunConfiguration),0!==e.messageContentsOffset&&n.uint32(16).int32(e.messageContentsOffset),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventWhichProposedRunConfiguration:"",messageContentsOffset:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventWhichProposedRunConfiguration=t.string();continue;case 2:if(16!==i)break;a.messageContentsOffset=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a1.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a1.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a1.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a1.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventWhichProposedRunConfiguration:i4(e.eventWhichProposedRunConfiguration)?globalThis.String(e.eventWhichProposedRunConfiguration):"",messageContentsOffset:i4(e.messageContentsOffset)?globalThis.Number(e.messageContentsOffset):0}},toJSON:function(e){var n={};return""!==e.eventWhichProposedRunConfiguration&&(n.eventWhichProposedRunConfiguration=e.eventWhichProposedRunConfiguration),0!==e.messageContentsOffset&&(n.messageContentsOffset=Math.round(e.messageContentsOffset)),n}};c.set(a1.$type,a1);var a2={$type:"replit.ai.chat.IterativeAgentAppliedWorkflowConfiguration",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.eventWhichProposedWorkflowConfiguration&&n.uint32(10).string(e.eventWhichProposedWorkflowConfiguration),0!==e.messageContentsOffset&&n.uint32(16).int32(e.messageContentsOffset),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventWhichProposedWorkflowConfiguration:"",messageContentsOffset:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventWhichProposedWorkflowConfiguration=t.string();continue;case 2:if(16!==i)break;a.messageContentsOffset=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a2.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a2.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a2.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a2.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventWhichProposedWorkflowConfiguration:i4(e.eventWhichProposedWorkflowConfiguration)?globalThis.String(e.eventWhichProposedWorkflowConfiguration):"",messageContentsOffset:i4(e.messageContentsOffset)?globalThis.Number(e.messageContentsOffset):0}},toJSON:function(e){var n={};return""!==e.eventWhichProposedWorkflowConfiguration&&(n.eventWhichProposedWorkflowConfiguration=e.eventWhichProposedWorkflowConfiguration),0!==e.messageContentsOffset&&(n.messageContentsOffset=Math.round(e.messageContentsOffset)),n}};c.set(a2.$type,a2);var a3={$type:"replit.ai.chat.IterativeAgentAppliedDeploymentConfiguration",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.eventWhichProposedDeploymentConfiguration&&n.uint32(10).string(e.eventWhichProposedDeploymentConfiguration),0!==e.messageContentsOffset&&n.uint32(16).int32(e.messageContentsOffset),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventWhichProposedDeploymentConfiguration:"",messageContentsOffset:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventWhichProposedDeploymentConfiguration=t.string();continue;case 2:if(16!==i)break;a.messageContentsOffset=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a3.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a3.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a3.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a3.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventWhichProposedDeploymentConfiguration:i4(e.eventWhichProposedDeploymentConfiguration)?globalThis.String(e.eventWhichProposedDeploymentConfiguration):"",messageContentsOffset:i4(e.messageContentsOffset)?globalThis.Number(e.messageContentsOffset):0}},toJSON:function(e){var n={};return""!==e.eventWhichProposedDeploymentConfiguration&&(n.eventWhichProposedDeploymentConfiguration=e.eventWhichProposedDeploymentConfiguration),0!==e.messageContentsOffset&&(n.messageContentsOffset=Math.round(e.messageContentsOffset)),n}};c.set(a3.$type,a3);var a4={$type:"replit.ai.chat.IterativeAgentEventContext",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a4.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a4.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a4.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a4.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(a4.$type,a4);var a5={$type:"replit.ai.chat.SystemDependencyInstallData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.deps[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(10).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={deps:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.deps.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a5.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a5.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a5.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a5.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{deps:globalThis.Array.isArray(null==e?void 0:e.deps)?e.deps.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.deps)?void 0:n.length)&&(t.deps=e.deps),t}};c.set(a5.$type,a5);var a7={$type:"replit.ai.chat.SystemDependencyUninstallData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.deps[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(10).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={deps:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.deps.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a7.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a7.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a7.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a7.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{deps:globalThis.Array.isArray(null==e?void 0:e.deps)?e.deps.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.deps)?void 0:n.length)&&(t.deps=e.deps),t}};c.set(a7.$type,a7);var a9={$type:"replit.ai.chat.DeployConfigData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.deploymentTarget&&n.uint32(10).string(e.deploymentTarget);var t=!0,r=!1,a=void 0;try{for(var i,o=e.run[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(18).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.build[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;n.uint32(26).string(h)}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}return""!==e.publicDir&&n.uint32(34).string(e.publicDir),!1!==e.ignorePorts&&n.uint32(40).bool(e.ignorePorts),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={deploymentTarget:"",run:[],build:[],publicDir:"",ignorePorts:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.deploymentTarget=t.string();continue;case 2:if(18!==i)break;a.run.push(t.string());continue;case 3:if(26!==i)break;a.build.push(t.string());continue;case 4:if(34!==i)break;a.publicDir=t.string();continue;case 5:if(40!==i)break;a.ignorePorts=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a9.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a9.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a9.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a9.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{deploymentTarget:i4(e.deploymentTarget)?globalThis.String(e.deploymentTarget):"",run:globalThis.Array.isArray(null==e?void 0:e.run)?e.run.map(function(e){return globalThis.String(e)}):[],build:globalThis.Array.isArray(null==e?void 0:e.build)?e.build.map(function(e){return globalThis.String(e)}):[],publicDir:i4(e.publicDir)?globalThis.String(e.publicDir):"",ignorePorts:!!i4(e.ignorePorts)&&globalThis.Boolean(e.ignorePorts)}},toJSON:function(e){var n,t,r={};return""!==e.deploymentTarget&&(r.deploymentTarget=e.deploymentTarget),(null==(n=e.run)?void 0:n.length)&&(r.run=e.run),(null==(t=e.build)?void 0:t.length)&&(r.build=e.build),""!==e.publicDir&&(r.publicDir=e.publicDir),!1!==e.ignorePorts&&(r.ignorePorts=e.ignorePorts),r}};c.set(a9.$type,a9);var a8={$type:"replit.ai.chat.DeployData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a8.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a8.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a8.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a8.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(a8.$type,a8);var a6={$type:"replit.ai.chat.RevertData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.eventIdBeforeRevert&&n.uint32(10).string(e.eventIdBeforeRevert),void 0!==e.checkpointCommit&&n.uint32(18).string(e.checkpointCommit),0!==e.status&&n.uint32(24).int32(e.status),""!==e.originalSessionId&&n.uint32(34).string(e.originalSessionId),""!==e.checkpointTitle&&n.uint32(42).string(e.checkpointTitle),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventIdBeforeRevert:"",checkpointCommit:void 0,status:0,originalSessionId:"",checkpointTitle:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventIdBeforeRevert=t.string();continue;case 2:if(18!==i)break;a.checkpointCommit=t.string();continue;case 3:if(24!==i)break;a.status=t.int32();continue;case 4:if(34!==i)break;a.originalSessionId=t.string();continue;case 5:if(42!==i)break;a.checkpointTitle=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a6.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a6.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([a6.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([a6.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventIdBeforeRevert:i4(e.eventIdBeforeRevert)?globalThis.String(e.eventIdBeforeRevert):"",checkpointCommit:i4(e.checkpointCommit)?globalThis.String(e.checkpointCommit):void 0,status:i4(e.status)?j(e.status):0,originalSessionId:i4(e.originalSessionId)?globalThis.String(e.originalSessionId):"",checkpointTitle:i4(e.checkpointTitle)?globalThis.String(e.checkpointTitle):""}},toJSON:function(e){var n={};return""!==e.eventIdBeforeRevert&&(n.eventIdBeforeRevert=e.eventIdBeforeRevert),void 0!==e.checkpointCommit&&(n.checkpointCommit=e.checkpointCommit),0!==e.status&&(n.status=q(e.status)),""!==e.originalSessionId&&(n.originalSessionId=e.originalSessionId),""!==e.checkpointTitle&&(n.checkpointTitle=e.checkpointTitle),n}};c.set(a6.$type,a6);var ie={$type:"replit.ai.chat.AcknowledgeUserMessage",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.eventIds[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(10).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={eventIds:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.eventIds.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ie.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ie.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ie.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ie.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{eventIds:globalThis.Array.isArray(null==e?void 0:e.eventIds)?e.eventIds.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t={};return(null==(n=e.eventIds)?void 0:n.length)&&(t.eventIds=e.eventIds),t}};c.set(ie.$type,ie);var it={$type:"replit.ai.chat.CreatePostgreSQLDatabaseData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([it.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([it.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([it.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([it.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(it.$type,it);var ir={$type:"replit.ai.chat.SqlExecutionData",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(""!==e.command&&t.uint32(10).string(e.command),""!==e.output&&t.uint32(34).string(e.output),null==(n=e.status)?void 0:n.$case){case"isExecuting":t.uint32(24).bool(e.status.value);break;case"exitCode":t.uint32(16).int32(e.status.value)}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={command:"",output:"",status:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.command=t.string();continue;case 4:if(34!==i)break;a.output=t.string();continue;case 3:if(24!==i)break;a.status={$case:"isExecuting",value:t.bool()};continue;case 2:if(16!==i)break;a.status={$case:"exitCode",value:t.int32()};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ir.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ir.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ir.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ir.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{command:i4(e.command)?globalThis.String(e.command):"",output:i4(e.output)?globalThis.String(e.output):"",status:i4(e.isExecuting)?{$case:"isExecuting",value:globalThis.Boolean(e.isExecuting)}:i4(e.exitCode)?{$case:"exitCode",value:globalThis.Number(e.exitCode)}:void 0}},toJSON:function(e){var n,t,r={};return""!==e.command&&(r.command=e.command),""!==e.output&&(r.output=e.output),(null==(n=e.status)?void 0:n.$case)==="isExecuting"?r.isExecuting=e.status.value:(null==(t=e.status)?void 0:t.$case)==="exitCode"&&(r.exitCode=Math.round(e.status.value)),r}};c.set(ir.$type,ir);var ia={$type:"replit.ai.chat.ImageGenerationData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.imagePath&&n.uint32(10).string(e.imagePath),""!==e.imageDescription&&n.uint32(18).string(e.imageDescription),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={imagePath:"",imageDescription:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.imagePath=t.string();continue;case 2:if(18!==i)break;a.imageDescription=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ia.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ia.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ia.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ia.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{imagePath:i4(e.imagePath)?globalThis.String(e.imagePath):"",imageDescription:i4(e.imageDescription)?globalThis.String(e.imageDescription):""}},toJSON:function(e){var n={};return""!==e.imagePath&&(n.imagePath=e.imagePath),""!==e.imageDescription&&(n.imageDescription=e.imageDescription),n}};c.set(ia.$type,ia);var ii={$type:"replit.ai.chat.NewSessionNudge",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ii.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ii.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ii.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ii.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(ii.$type,ii);var io={$type:"replit.ai.chat.StepTooComplexEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.stepId&&n.uint32(10).string(e.stepId),0!==e.state&&n.uint32(16).int32(e.state),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={stepId:"",state:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.stepId=t.string();continue;case 2:if(16!==i)break;a.state=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([io.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([io.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([io.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([io.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{stepId:i4(e.stepId)?globalThis.String(e.stepId):"",state:i4(e.state)?function(e){switch(e){case 0:case"UNSPECIFIED":return A.MO.UNSPECIFIED;case 1:case"PENDING":return A.MO.PENDING;case 2:case"ACKNOWLEDGED_CONTINUE_CURRENT_STEP":return A.MO.ACKNOWLEDGED_CONTINUE_CURRENT_STEP;case 3:case"ACKNOWLEDGED_ABORT_CURRENT_STEP":return A.MO.ACKNOWLEDGED_ABORT_CURRENT_STEP;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum StepTooComplexEventContentsState")}}(e.state):0}},toJSON:function(e){var n={};return""!==e.stepId&&(n.stepId=e.stepId),0!==e.state&&(n.state=function(e){switch(e){case A.MO.UNSPECIFIED:return"UNSPECIFIED";case A.MO.PENDING:return"PENDING";case A.MO.ACKNOWLEDGED_CONTINUE_CURRENT_STEP:return"ACKNOWLEDGED_CONTINUE_CURRENT_STEP";case A.MO.ACKNOWLEDGED_ABORT_CURRENT_STEP:return"ACKNOWLEDGED_ABORT_CURRENT_STEP";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum StepTooComplexEventContentsState")}}(e.state)),n}};c.set(io.$type,io);var is={$type:"replit.ai.chat.UserTipRecommendationData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.tipId&&n.uint32(10).string(e.tipId),""!==e.title&&n.uint32(18).string(e.title),""!==e.recommendedReason&&n.uint32(26).string(e.recommendedReason),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={tipId:"",title:"",recommendedReason:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.tipId=t.string();continue;case 2:if(18!==i)break;a.title=t.string();continue;case 3:if(26!==i)break;a.recommendedReason=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([is.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([is.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([is.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([is.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{tipId:i4(e.tipId)?globalThis.String(e.tipId):"",title:i4(e.title)?globalThis.String(e.title):"",recommendedReason:i4(e.recommendedReason)?globalThis.String(e.recommendedReason):""}},toJSON:function(e){var n={};return""!==e.tipId&&(n.tipId=e.tipId),""!==e.title&&(n.title=e.title),""!==e.recommendedReason&&(n.recommendedReason=e.recommendedReason),n}};c.set(is.$type,is);var il={$type:"replit.ai.chat.EndOfRunSummaryData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.runId&&n.uint32(10).string(e.runId),0!==e.usageCents&&n.uint32(16).int32(e.usageCents),0!==e.workDurationSeconds&&n.uint32(24).int32(e.workDurationSeconds),0!==e.addedLinesOfCode&&n.uint32(32).int32(e.addedLinesOfCode),0!==e.removedLinesOfCode&&n.uint32(40).int32(e.removedLinesOfCode),0!==e.toolCalls&&n.uint32(48).int32(e.toolCalls),void 0!==e.capabilityUsage&&ax.encode(e.capabilityUsage,n.uint32(66).fork()).join(),0!==e.numLocRead&&n.uint32(80).int32(e.numLocRead),0!==e.numFilesRead&&n.uint32(88).int32(e.numFilesRead),!1!==e.refunded&&n.uint32(104).bool(e.refunded);var t=!0,r=!1,a=void 0;try{for(var i,o=e.relatedEffortBreakdowns[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;aR.encode(s,n.uint32(114).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={runId:"",usageCents:0,workDurationSeconds:0,addedLinesOfCode:0,removedLinesOfCode:0,toolCalls:0,capabilityUsage:void 0,numLocRead:0,numFilesRead:0,refunded:!1,relatedEffortBreakdowns:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.runId=t.string();continue;case 2:if(16!==i)break;a.usageCents=t.int32();continue;case 3:if(24!==i)break;a.workDurationSeconds=t.int32();continue;case 4:if(32!==i)break;a.addedLinesOfCode=t.int32();continue;case 5:if(40!==i)break;a.removedLinesOfCode=t.int32();continue;case 6:if(48!==i)break;a.toolCalls=t.int32();continue;case 8:if(66!==i)break;a.capabilityUsage=ax.decode(t,t.uint32());continue;case 10:if(80!==i)break;a.numLocRead=t.int32();continue;case 11:if(88!==i)break;a.numFilesRead=t.int32();continue;case 13:if(104!==i)break;a.refunded=t.bool();continue;case 14:if(114!==i)break;a.relatedEffortBreakdowns.push(aR.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([il.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([il.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([il.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([il.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{runId:i4(e.runId)?globalThis.String(e.runId):"",usageCents:i4(e.usageCents)?globalThis.Number(e.usageCents):0,workDurationSeconds:i4(e.workDurationSeconds)?globalThis.Number(e.workDurationSeconds):0,addedLinesOfCode:i4(e.addedLinesOfCode)?globalThis.Number(e.addedLinesOfCode):0,removedLinesOfCode:i4(e.removedLinesOfCode)?globalThis.Number(e.removedLinesOfCode):0,toolCalls:i4(e.toolCalls)?globalThis.Number(e.toolCalls):0,capabilityUsage:i4(e.capabilityUsage)?ax.fromJSON(e.capabilityUsage):void 0,numLocRead:i4(e.numLocRead)?globalThis.Number(e.numLocRead):0,numFilesRead:i4(e.numFilesRead)?globalThis.Number(e.numFilesRead):0,refunded:!!i4(e.refunded)&&globalThis.Boolean(e.refunded),relatedEffortBreakdowns:globalThis.Array.isArray(null==e?void 0:e.relatedEffortBreakdowns)?e.relatedEffortBreakdowns.map(function(e){return aR.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return""!==e.runId&&(t.runId=e.runId),0!==e.usageCents&&(t.usageCents=Math.round(e.usageCents)),0!==e.workDurationSeconds&&(t.workDurationSeconds=Math.round(e.workDurationSeconds)),0!==e.addedLinesOfCode&&(t.addedLinesOfCode=Math.round(e.addedLinesOfCode)),0!==e.removedLinesOfCode&&(t.removedLinesOfCode=Math.round(e.removedLinesOfCode)),0!==e.toolCalls&&(t.toolCalls=Math.round(e.toolCalls)),void 0!==e.capabilityUsage&&(t.capabilityUsage=ax.toJSON(e.capabilityUsage)),0!==e.numLocRead&&(t.numLocRead=Math.round(e.numLocRead)),0!==e.numFilesRead&&(t.numFilesRead=Math.round(e.numFilesRead)),!1!==e.refunded&&(t.refunded=e.refunded),(null==(n=e.relatedEffortBreakdowns)?void 0:n.length)&&(t.relatedEffortBreakdowns=e.relatedEffortBreakdowns.map(function(e){return aR.toJSON(e)})),t}};c.set(il.$type,il);var iu={$type:"replit.ai.chat.UITestingSubagentEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.testingPlan&&n.uint32(10).string(e.testingPlan),""!==e.finalSummary&&n.uint32(18).string(e.finalSummary),""!==e.title&&n.uint32(26).string(e.title),0!==e.resultType&&n.uint32(32).int32(e.resultType),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={testingPlan:"",finalSummary:"",title:"",resultType:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.testingPlan=t.string();continue;case 2:if(18!==i)break;a.finalSummary=t.string();continue;case 3:if(26!==i)break;a.title=t.string();continue;case 4:if(32!==i)break;a.resultType=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iu.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iu.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iu.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iu.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{testingPlan:i4(e.testingPlan)?globalThis.String(e.testingPlan):"",finalSummary:i4(e.finalSummary)?globalThis.String(e.finalSummary):"",title:i4(e.title)?globalThis.String(e.title):"",resultType:i4(e.resultType)?function(e){switch(e){case 0:case"SUCCESS":return A.dr.SUCCESS;case 1:case"FAILURE":return A.dr.FAILURE;case 3:case"UNABLE":return A.dr.UNABLE;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum UITestingSubagentResultType")}}(e.resultType):0}},toJSON:function(e){var n={};return""!==e.testingPlan&&(n.testingPlan=e.testingPlan),""!==e.finalSummary&&(n.finalSummary=e.finalSummary),""!==e.title&&(n.title=e.title),0!==e.resultType&&(n.resultType=function(e){switch(e){case A.dr.SUCCESS:return"SUCCESS";case A.dr.FAILURE:return"FAILURE";case A.dr.UNABLE:return"UNABLE";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum UITestingSubagentResultType")}}(e.resultType)),n}};c.set(iu.$type,iu);var ic={$type:"replit.ai.chat.GeneralSubagentEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.task&&n.uint32(10).string(e.task),""!==e.taskSummary&&n.uint32(18).string(e.taskSummary),""!==e.result&&n.uint32(26).string(e.result),""!==e.resultSummary&&n.uint32(34).string(e.resultSummary),""!==e.taskTitle&&n.uint32(42).string(e.taskTitle),0!==e.eventFilter&&n.uint32(48).int32(e.eventFilter),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={task:"",taskSummary:"",result:"",resultSummary:"",taskTitle:"",eventFilter:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.task=t.string();continue;case 2:if(18!==i)break;a.taskSummary=t.string();continue;case 3:if(26!==i)break;a.result=t.string();continue;case 4:if(34!==i)break;a.resultSummary=t.string();continue;case 5:if(42!==i)break;a.taskTitle=t.string();continue;case 6:if(48!==i)break;a.eventFilter=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ic.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ic.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ic.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ic.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{task:i4(e.task)?globalThis.String(e.task):"",taskSummary:i4(e.taskSummary)?globalThis.String(e.taskSummary):"",result:i4(e.result)?globalThis.String(e.result):"",resultSummary:i4(e.resultSummary)?globalThis.String(e.resultSummary):"",taskTitle:i4(e.taskTitle)?globalThis.String(e.taskTitle):"",eventFilter:i4(e.eventFilter)?function(e){switch(e){case 0:case"GENERAL_SUBAGENT_EVENT_FILTER_UNKNOWN":return A.kq.UNKNOWN;case 1:case"GENERAL_SUBAGENT_EVENT_FILTER_THOUGHTS_ONLY":return A.kq.THOUGHTS_ONLY;case 2:case"GENERAL_SUBAGENT_EVENT_FILTER_ALL_EVENTS":return A.kq.ALL_EVENTS;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum GeneralSubagentEventFilter")}}(e.eventFilter):0}},toJSON:function(e){var n={};return""!==e.task&&(n.task=e.task),""!==e.taskSummary&&(n.taskSummary=e.taskSummary),""!==e.result&&(n.result=e.result),""!==e.resultSummary&&(n.resultSummary=e.resultSummary),""!==e.taskTitle&&(n.taskTitle=e.taskTitle),0!==e.eventFilter&&(n.eventFilter=function(e){switch(e){case A.kq.UNKNOWN:return"GENERAL_SUBAGENT_EVENT_FILTER_UNKNOWN";case A.kq.THOUGHTS_ONLY:return"GENERAL_SUBAGENT_EVENT_FILTER_THOUGHTS_ONLY";case A.kq.ALL_EVENTS:return"GENERAL_SUBAGENT_EVENT_FILTER_ALL_EVENTS";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum GeneralSubagentEventFilter")}}(e.eventFilter)),n}};c.set(ic.$type,ic);var id={$type:"replit.ai.chat.SubagentRunningData",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(""!==e.subagentId&&t.uint32(10).string(e.subagentId),""!==e.childSessionId&&t.uint32(18).string(e.childSessionId),0!==e.totalExecutionTimeSeconds&&t.uint32(40).int32(e.totalExecutionTimeSeconds),""!==e.subagentName&&t.uint32(50).string(e.subagentName),null==(n=e.contents)?void 0:n.$case){case"uiTestingSubagentEventContents":iu.encode(e.contents.value,t.uint32(26).fork()).join();break;case"generalSubagentEventContents":ic.encode(e.contents.value,t.uint32(34).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={subagentId:"",childSessionId:"",totalExecutionTimeSeconds:0,subagentName:"",contents:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.subagentId=t.string();continue;case 2:if(18!==i)break;a.childSessionId=t.string();continue;case 5:if(40!==i)break;a.totalExecutionTimeSeconds=t.int32();continue;case 6:if(50!==i)break;a.subagentName=t.string();continue;case 3:if(26!==i)break;a.contents={$case:"uiTestingSubagentEventContents",value:iu.decode(t,t.uint32())};continue;case 4:if(34!==i)break;a.contents={$case:"generalSubagentEventContents",value:ic.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([id.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([id.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([id.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([id.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{subagentId:i4(e.subagentId)?globalThis.String(e.subagentId):"",childSessionId:i4(e.childSessionId)?globalThis.String(e.childSessionId):"",totalExecutionTimeSeconds:i4(e.totalExecutionTimeSeconds)?globalThis.Number(e.totalExecutionTimeSeconds):0,subagentName:i4(e.subagentName)?globalThis.String(e.subagentName):"",contents:i4(e.uiTestingSubagentEventContents)?{$case:"uiTestingSubagentEventContents",value:iu.fromJSON(e.uiTestingSubagentEventContents)}:i4(e.generalSubagentEventContents)?{$case:"generalSubagentEventContents",value:ic.fromJSON(e.generalSubagentEventContents)}:void 0}},toJSON:function(e){var n,t,r={};return""!==e.subagentId&&(r.subagentId=e.subagentId),""!==e.childSessionId&&(r.childSessionId=e.childSessionId),0!==e.totalExecutionTimeSeconds&&(r.totalExecutionTimeSeconds=Math.round(e.totalExecutionTimeSeconds)),""!==e.subagentName&&(r.subagentName=e.subagentName),(null==(n=e.contents)?void 0:n.$case)==="uiTestingSubagentEventContents"?r.uiTestingSubagentEventContents=iu.toJSON(e.contents.value):(null==(t=e.contents)?void 0:t.$case)==="generalSubagentEventContents"&&(r.generalSubagentEventContents=ic.toJSON(e.contents.value)),r}};c.set(id.$type,id);var ip={$type:"replit.ai.chat.UITestingSubagentExecutionEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.gcsDownloadUrl&&n.uint32(10).string(e.gcsDownloadUrl),""!==e.mimeType&&n.uint32(18).string(e.mimeType),""!==e.narration&&n.uint32(26).string(e.narration),""!==e.miniNarration&&n.uint32(34).string(e.miniNarration),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={gcsDownloadUrl:"",mimeType:"",narration:"",miniNarration:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.gcsDownloadUrl=t.string();continue;case 2:if(18!==i)break;a.mimeType=t.string();continue;case 3:if(26!==i)break;a.narration=t.string();continue;case 4:if(34!==i)break;a.miniNarration=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ip.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ip.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ip.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ip.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{gcsDownloadUrl:i4(e.gcsDownloadUrl)?globalThis.String(e.gcsDownloadUrl):"",mimeType:i4(e.mimeType)?globalThis.String(e.mimeType):"",narration:i4(e.narration)?globalThis.String(e.narration):"",miniNarration:i4(e.miniNarration)?globalThis.String(e.miniNarration):""}},toJSON:function(e){var n={};return""!==e.gcsDownloadUrl&&(n.gcsDownloadUrl=e.gcsDownloadUrl),""!==e.mimeType&&(n.mimeType=e.mimeType),""!==e.narration&&(n.narration=e.narration),""!==e.miniNarration&&(n.miniNarration=e.miniNarration),n}};c.set(ip.$type,ip);var ih={$type:"replit.ai.chat.UITestingSubagentTakeOverResultSuccess",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.userNotes&&n.uint32(10).string(e.userNotes),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={userNotes:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.userNotes=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ih.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ih.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ih.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ih.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{userNotes:i4(e.userNotes)?globalThis.String(e.userNotes):""}},toJSON:function(e){var n={};return""!==e.userNotes&&(n.userNotes=e.userNotes),n}};c.set(ih.$type,ih);var im={$type:"replit.ai.chat.UITestingSubagentTakeOverResultDeclined",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([im.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([im.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([im.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([im.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(im.$type,im);var iv={$type:"replit.ai.chat.UITestingSubagentTakeOverResultTimedOut",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iv.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iv.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iv.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iv.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(iv.$type,iv);var ig={$type:"replit.ai.chat.UITestingSubagentTakeOverData",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(""!==e.userInstructions&&t.uint32(10).string(e.userInstructions),null==(n=e.result)?void 0:n.$case){case"success":ih.encode(e.result.value,t.uint32(18).fork()).join();break;case"declined":im.encode(e.result.value,t.uint32(26).fork()).join();break;case"timedOut":iv.encode(e.result.value,t.uint32(34).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={userInstructions:"",result:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.userInstructions=t.string();continue;case 2:if(18!==i)break;a.result={$case:"success",value:ih.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.result={$case:"declined",value:im.decode(t,t.uint32())};continue;case 4:if(34!==i)break;a.result={$case:"timedOut",value:iv.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ig.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ig.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ig.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ig.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{userInstructions:i4(e.userInstructions)?globalThis.String(e.userInstructions):"",result:i4(e.success)?{$case:"success",value:ih.fromJSON(e.success)}:i4(e.declined)?{$case:"declined",value:im.fromJSON(e.declined)}:i4(e.timedOut)?{$case:"timedOut",value:iv.fromJSON(e.timedOut)}:void 0}},toJSON:function(e){var n,t,r,a={};return""!==e.userInstructions&&(a.userInstructions=e.userInstructions),(null==(n=e.result)?void 0:n.$case)==="success"?a.success=ih.toJSON(e.result.value):(null==(t=e.result)?void 0:t.$case)==="declined"?a.declined=im.toJSON(e.result.value):(null==(r=e.result)?void 0:r.$case)==="timedOut"&&(a.timedOut=iv.toJSON(e.result.value)),a}};c.set(ig.$type,ig);var ib={$type:"replit.ai.chat.AgentConfigUpdateEventContents",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return(null==(n=e.operation)?void 0:n.$case)==="automatedTesting"&&iy.encode(e.operation.value,t.uint32(10).fork()).join(),t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={operation:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.operation={$case:"automatedTesting",value:iy.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ib.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ib.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ib.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ib.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{operation:i4(e.automatedTesting)?{$case:"automatedTesting",value:iy.fromJSON(e.automatedTesting)}:void 0}},toJSON:function(e){var n,t={};return(null==(n=e.operation)?void 0:n.$case)==="automatedTesting"&&(t.automatedTesting=iy.toJSON(e.operation.value)),t}};c.set(ib.$type,ib);var iy={$type:"replit.ai.chat.AgentConfigUpdateAutomatedTesting",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return!1!==e.enabled&&n.uint32(8).bool(e.enabled),""!==e.reason&&n.uint32(18).string(e.reason),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={enabled:!1,reason:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.enabled=t.bool();continue;case 2:if(18!==i)break;a.reason=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iy.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iy.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iy.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iy.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{enabled:!!i4(e.enabled)&&globalThis.Boolean(e.enabled),reason:i4(e.reason)?globalThis.String(e.reason):""}},toJSON:function(e){var n={};return!1!==e.enabled&&(n.enabled=e.enabled),""!==e.reason&&(n.reason=e.reason),n}};c.set(iy.$type,iy);var iw={$type:"replit.ai.chat.SamplingTrajectory",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.id&&n.uint32(10).string(e.id),""!==e.contents&&n.uint32(18).string(e.contents),0!==e.state&&n.uint32(24).int32(e.state),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={id:"",contents:"",state:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.id=t.string();continue;case 2:if(18!==i)break;a.contents=t.string();continue;case 3:if(24!==i)break;a.state=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iw.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iw.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iw.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iw.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{id:i4(e.id)?globalThis.String(e.id):"",contents:i4(e.contents)?globalThis.String(e.contents):"",state:i4(e.state)?Q(e.state):0}},toJSON:function(e){var n={};return""!==e.id&&(n.id=e.id),""!==e.contents&&(n.contents=e.contents),0!==e.state&&(n.state=X(e.state)),n}};c.set(iw.$type,iw);var i_={$type:"replit.ai.chat.SamplingEvent",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;0!==e.state&&n.uint32(16).int32(e.state);var t=!0,r=!1,a=void 0;try{for(var i,o=e.trajectories[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;iw.encode(s,n.uint32(10).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={state:0,trajectories:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 2:if(16!==i)break;a.state=t.int32();continue;case 1:if(10!==i)break;a.trajectories.push(iw.decode(t,t.uint32()));continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([i_.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([i_.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([i_.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([i_.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{state:i4(e.state)?Z(e.state):0,trajectories:globalThis.Array.isArray(null==e?void 0:e.trajectories)?e.trajectories.map(function(e){return iw.fromJSON(e)}):[]}},toJSON:function(e){var n,t={};return 0!==e.state&&(t.state=K(e.state)),(null==(n=e.trajectories)?void 0:n.length)&&(t.trajectories=e.trajectories.map(function(e){return iw.toJSON(e)})),t}};c.set(i_.$type,i_);var iS={$type:"replit.ai.chat.SamplingEventUpdate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.trajectoryId&&n.uint32(10).string(e.trajectoryId),""!==e.contents&&n.uint32(18).string(e.contents),0!==e.state&&n.uint32(24).int32(e.state),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={trajectoryId:"",contents:"",state:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.trajectoryId=t.string();continue;case 2:if(18!==i)break;a.contents=t.string();continue;case 3:if(24!==i)break;a.state=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iS.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iS.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iS.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iS.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{trajectoryId:i4(e.trajectoryId)?globalThis.String(e.trajectoryId):"",contents:i4(e.contents)?globalThis.String(e.contents):"",state:i4(e.state)?Q(e.state):0}},toJSON:function(e){var n={};return""!==e.trajectoryId&&(n.trajectoryId=e.trajectoryId),""!==e.contents&&(n.contents=e.contents),0!==e.state&&(n.state=X(e.state)),n}};c.set(iS.$type,iS);var iA={$type:"replit.ai.chat.SamplingEventStateUpdate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.state&&n.uint32(8).int32(e.state),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={state:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.state=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iA.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iA.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iA.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iA.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{state:i4(e.state)?Z(e.state):0}},toJSON:function(e){var n={};return 0!==e.state&&(n.state=K(e.state)),n}};c.set(iA.$type,iA);var ik={$type:"replit.ai.chat.UITestingSubagentExecutionEventContentsUpdate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.state&&ip.encode(e.state,n.uint32(10).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={state:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.state=ip.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ik.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ik.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ik.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ik.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{state:i4(e.state)?ip.fromJSON(e.state):void 0}},toJSON:function(e){var n={};return void 0!==e.state&&(n.state=ip.toJSON(e.state)),n}};c.set(ik.$type,ik);var iC={$type:"replit.ai.chat.SubagentRunningDataUpdate",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.state&&id.encode(e.state,n.uint32(10).fork()).join(),0!==e.totalExecutionTimeSeconds&&n.uint32(16).int32(e.totalExecutionTimeSeconds),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={state:void 0,totalExecutionTimeSeconds:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.state=id.decode(t,t.uint32());continue;case 2:if(16!==i)break;a.totalExecutionTimeSeconds=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iC.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iC.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iC.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iC.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{state:i4(e.state)?id.fromJSON(e.state):void 0,totalExecutionTimeSeconds:i4(e.totalExecutionTimeSeconds)?globalThis.Number(e.totalExecutionTimeSeconds):0}},toJSON:function(e){var n={};return void 0!==e.state&&(n.state=id.toJSON(e.state)),0!==e.totalExecutionTimeSeconds&&(n.totalExecutionTimeSeconds=Math.round(e.totalExecutionTimeSeconds)),n}};c.set(iC.$type,iC);var iY={$type:"replit.ai.chat.SetupObjectStorageData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.bucketName&&n.uint32(10).string(e.bucketName),""!==e.bucketId&&n.uint32(18).string(e.bucketId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={bucketName:"",bucketId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.bucketName=t.string();continue;case 2:if(18!==i)break;a.bucketId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iY.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iY.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iY.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iY.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{bucketName:i4(e.bucketName)?globalThis.String(e.bucketName):"",bucketId:i4(e.bucketId)?globalThis.String(e.bucketId):""}},toJSON:function(e){var n={};return""!==e.bucketName&&(n.bucketName=e.bucketName),""!==e.bucketId&&(n.bucketId=e.bucketId),n}};c.set(iY.$type,iY);var iE={$type:"replit.ai.chat.MoveEventsBetweenSessionsRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.sourceSessionId&&n.uint32(10).string(e.sourceSessionId),""!==e.destinationSessionId&&n.uint32(18).string(e.destinationSessionId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={sourceSessionId:"",destinationSessionId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.sourceSessionId=t.string();continue;case 2:if(18!==i)break;a.destinationSessionId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iE.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iE.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iE.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iE.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{sourceSessionId:i4(e.sourceSessionId)?globalThis.String(e.sourceSessionId):"",destinationSessionId:i4(e.destinationSessionId)?globalThis.String(e.destinationSessionId):""}},toJSON:function(e){var n={};return""!==e.sourceSessionId&&(n.sourceSessionId=e.sourceSessionId),""!==e.destinationSessionId&&(n.destinationSessionId=e.destinationSessionId),n}};c.set(iE.$type,iE);var ix={$type:"replit.ai.chat.MoveEventsBetweenSessionsResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ix.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ix.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ix.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ix.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(ix.$type,ix);var iT={$type:"replit.ai.chat.AbortSubagentRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.replId&&n.uint32(10).string(e.replId),""!==e.sessionId&&n.uint32(18).string(e.sessionId),""!==e.subagentId&&n.uint32(26).string(e.subagentId),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={replId:"",sessionId:"",subagentId:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.replId=t.string();continue;case 2:if(18!==i)break;a.sessionId=t.string();continue;case 3:if(26!==i)break;a.subagentId=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iT.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iT.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iT.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iT.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{replId:i4(e.replId)?globalThis.String(e.replId):"",sessionId:i4(e.sessionId)?globalThis.String(e.sessionId):"",subagentId:i4(e.subagentId)?globalThis.String(e.subagentId):""}},toJSON:function(e){var n={};return""!==e.replId&&(n.replId=e.replId),""!==e.sessionId&&(n.sessionId=e.sessionId),""!==e.subagentId&&(n.subagentId=e.subagentId),n}};c.set(iT.$type,iT);var iD={$type:"replit.ai.chat.AbortSubagentResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iD.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iD.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iD.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iD.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(iD.$type,iD);var iI={$type:"replit.ai.chat.StockImageData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.imageDescription&&n.uint32(10).string(e.imageDescription),0!==e.numberOfImages&&n.uint32(16).int32(e.numberOfImages);var t=!0,r=!1,a=void 0;try{for(var i,o=e.imageUrls[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(26).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={imageDescription:"",numberOfImages:0,imageUrls:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.imageDescription=t.string();continue;case 2:if(16!==i)break;a.numberOfImages=t.int32();continue;case 3:if(26!==i)break;a.imageUrls.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iI.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iI.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iI.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iI.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{imageDescription:i4(e.imageDescription)?globalThis.String(e.imageDescription):"",numberOfImages:i4(e.numberOfImages)?globalThis.Number(e.numberOfImages):0,imageUrls:globalThis.Array.isArray(null==e?void 0:e.imageUrls)?e.imageUrls.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t={};return""!==e.imageDescription&&(t.imageDescription=e.imageDescription),0!==e.numberOfImages&&(t.numberOfImages=Math.round(e.numberOfImages)),(null==(n=e.imageUrls)?void 0:n.length)&&(t.imageUrls=e.imageUrls),t}};c.set(iI.$type,iI);var iR={$type:"replit.ai.chat.AddingIntegrationsRequest",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.connectorIds[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(10).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.connectionIds[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;n.uint32(18).string(h)}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={connectorIds:[],connectionIds:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.connectorIds.push(t.string());continue;case 2:if(18!==i)break;a.connectionIds.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iR.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iR.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iR.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iR.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{connectorIds:globalThis.Array.isArray(null==e?void 0:e.connectorIds)?e.connectorIds.map(function(e){return globalThis.String(e)}):[],connectionIds:globalThis.Array.isArray(null==e?void 0:e.connectionIds)?e.connectionIds.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t,r={};return(null==(n=e.connectorIds)?void 0:n.length)&&(r.connectorIds=e.connectorIds),(null==(t=e.connectionIds)?void 0:t.length)&&(r.connectionIds=e.connectionIds),r}};c.set(iR.$type,iR);var iN={$type:"replit.ai.chat.AddingIntegrationsResponse",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.connectionIds[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(10).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,c=!1,d=void 0;try{for(var f,p=e.rejectedConnectionIds[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;n.uint32(18).string(h)}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}var m=!0,v=!1,g=void 0;try{for(var b,y=e.rejectedConnectorIds[Symbol.iterator]();!(m=(b=y.next()).done);m=!0){var w=b.value;n.uint32(26).string(w)}}catch(e){v=!0,g=e}finally{try{m||null==y.return||y.return()}finally{if(v)throw g}}return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={connectionIds:[],rejectedConnectionIds:[],rejectedConnectorIds:[]};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.connectionIds.push(t.string());continue;case 2:if(18!==i)break;a.rejectedConnectionIds.push(t.string());continue;case 3:if(26!==i)break;a.rejectedConnectorIds.push(t.string());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iN.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iN.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iN.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iN.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{connectionIds:globalThis.Array.isArray(null==e?void 0:e.connectionIds)?e.connectionIds.map(function(e){return globalThis.String(e)}):[],rejectedConnectionIds:globalThis.Array.isArray(null==e?void 0:e.rejectedConnectionIds)?e.rejectedConnectionIds.map(function(e){return globalThis.String(e)}):[],rejectedConnectorIds:globalThis.Array.isArray(null==e?void 0:e.rejectedConnectorIds)?e.rejectedConnectorIds.map(function(e){return globalThis.String(e)}):[]}},toJSON:function(e){var n,t,r,a={};return(null==(n=e.connectionIds)?void 0:n.length)&&(a.connectionIds=e.connectionIds),(null==(t=e.rejectedConnectionIds)?void 0:t.length)&&(a.rejectedConnectionIds=e.rejectedConnectionIds),(null==(r=e.rejectedConnectorIds)?void 0:r.length)&&(a.rejectedConnectorIds=e.rejectedConnectorIds),a}};c.set(iN.$type,iN);var iO={$type:"replit.ai.chat.InitialBuildStateUpdateEventContents",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.phase&&n.uint32(8).int32(e.phase),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={phase:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.phase=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iO.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iO.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iO.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iO.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{phase:i4(e.phase)?function(e){switch(e){case 0:case"INITIAL_BUILD_PHASE_VISUAL_STARTED":return A.ys.VISUAL_STARTED;case 1:case"INITIAL_BUILD_PHASE_VISUAL_COMPLETE_PENDING_REVIEW":return A.ys.VISUAL_COMPLETE_PENDING_REVIEW;case 2:case"INITIAL_BUILD_PHASE_VISUAL_COMPLETE":return A.ys.VISUAL_COMPLETE;case 3:case"INITIAL_BUILD_PHASE_MVP_STARTED":return A.ys.MVP_STARTED;case 4:case"INITIAL_BUILD_PHASE_MVP_COMPLETE_PENDING_REVIEW":return A.ys.MVP_COMPLETE_PENDING_REVIEW;case 5:case"INITIAL_BUILD_PHASE_MVP_COMPLETE":return A.ys.MVP_COMPLETE;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum InitialBuildPhase")}}(e.phase):0}},toJSON:function(e){var n={};return 0!==e.phase&&(n.phase=function(e){switch(e){case A.ys.VISUAL_STARTED:return"INITIAL_BUILD_PHASE_VISUAL_STARTED";case A.ys.VISUAL_COMPLETE_PENDING_REVIEW:return"INITIAL_BUILD_PHASE_VISUAL_COMPLETE_PENDING_REVIEW";case A.ys.VISUAL_COMPLETE:return"INITIAL_BUILD_PHASE_VISUAL_COMPLETE";case A.ys.MVP_STARTED:return"INITIAL_BUILD_PHASE_MVP_STARTED";case A.ys.MVP_COMPLETE_PENDING_REVIEW:return"INITIAL_BUILD_PHASE_MVP_COMPLETE_PENDING_REVIEW";case A.ys.MVP_COMPLETE:return"INITIAL_BUILD_PHASE_MVP_COMPLETE";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum InitialBuildPhase")}}(e.phase)),n}};c.set(iO.$type,iO);var iP={$type:"replit.ai.chat.SearchIntegrationsData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.query&&n.uint32(10).string(e.query),0!==e.numResults&&n.uint32(16).int32(e.numResults),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={query:"",numResults:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.query=t.string();continue;case 2:if(16!==i)break;a.numResults=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iP.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iP.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iP.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iP.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{query:i4(e.query)?globalThis.String(e.query):"",numResults:i4(e.numResults)?globalThis.Number(e.numResults):0}},toJSON:function(e){var n={};return""!==e.query&&(n.query=e.query),0!==e.numResults&&(n.numResults=Math.round(e.numResults)),n}};c.set(iP.$type,iP);var iF={$type:"replit.ai.chat.ViewIntegrationData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.name&&n.uint32(10).string(e.name),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={name:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.name=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iF.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iF.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iF.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iF.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{name:i4(e.name)?globalThis.String(e.name):""}},toJSON:function(e){var n={};return""!==e.name&&(n.name=e.name),n}};c.set(iF.$type,iF);var iU={$type:"replit.ai.chat.ViewLogsData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return!1!==e.webviewConsole&&n.uint32(8).bool(e.webviewConsole),!1!==e.workflows&&n.uint32(16).bool(e.workflows),!1!==e.deployment&&n.uint32(32).bool(e.deployment),!1!==e.lsp&&n.uint32(24).bool(e.lsp),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={webviewConsole:!1,workflows:!1,deployment:!1,lsp:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.webviewConsole=t.bool();continue;case 2:if(16!==i)break;a.workflows=t.bool();continue;case 4:if(32!==i)break;a.deployment=t.bool();continue;case 3:if(24!==i)break;a.lsp=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iU.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iU.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iU.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iU.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{webviewConsole:!!i4(e.webviewConsole)&&globalThis.Boolean(e.webviewConsole),workflows:!!i4(e.workflows)&&globalThis.Boolean(e.workflows),deployment:!!i4(e.deployment)&&globalThis.Boolean(e.deployment),lsp:!!i4(e.lsp)&&globalThis.Boolean(e.lsp)}},toJSON:function(e){var n={};return!1!==e.webviewConsole&&(n.webviewConsole=e.webviewConsole),!1!==e.workflows&&(n.workflows=e.workflows),!1!==e.deployment&&(n.deployment=e.deployment),!1!==e.lsp&&(n.lsp=e.lsp),n}};c.set(iU.$type,iU);var iL={$type:"replit.ai.chat.SetupModelfarmData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iL.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iL.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iL.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iL.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(iL.$type,iL);var iM={$type:"replit.ai.chat.ViewSpecialFilesData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.fileType&&n.uint32(8).int32(e.fileType),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={fileType:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.fileType=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iM.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iM.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iM.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iM.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{fileType:i4(e.fileType)?function(e){switch(e){case 0:case"SPECIAL_FILE_TYPE_UNKNOWN":return A.un.UNKNOWN;case 1:case"LOG_FILE":return A.un.LOG_FILE;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum SpecialFileType")}}(e.fileType):0}},toJSON:function(e){var n={};return 0!==e.fileType&&(n.fileType=function(e){switch(e){case A.un.UNKNOWN:return"SPECIAL_FILE_TYPE_UNKNOWN";case A.un.LOG_FILE:return"LOG_FILE";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum SpecialFileType")}}(e.fileType)),n}};c.set(iM.$type,iM);var iJ={$type:"replit.ai.chat.DesignGuidelinesData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n;t.pos<r;){var a=t.uint32();if((7&a)==4||0===a)break;t.skip(7&a)}return{}},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iJ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iJ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iJ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iJ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{}},toJSON:function(e){return{}}};c.set(iJ.$type,iJ);var iH={$type:"replit.ai.chat.MCPToolData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.toolName&&n.uint32(10).string(e.toolName),""!==e.serverName&&n.uint32(18).string(e.serverName),void 0!==e.parameters&&ag.encode(e.parameters,n.uint32(26).fork()).join(),void 0!==e.result&&iV.encode(e.result,n.uint32(34).fork()).join(),void 0!==e.progress&&i$.encode(e.progress,n.uint32(42).fork()).join(),""!==e.insecureError&&n.uint32(50).string(e.insecureError),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={toolName:"",serverName:"",parameters:void 0,result:void 0,progress:void 0,insecureError:""};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.toolName=t.string();continue;case 2:if(18!==i)break;a.serverName=t.string();continue;case 3:if(26!==i)break;a.parameters=ag.decode(t,t.uint32());continue;case 4:if(34!==i)break;a.result=iV.decode(t,t.uint32());continue;case 5:if(42!==i)break;a.progress=i$.decode(t,t.uint32());continue;case 6:if(50!==i)break;a.insecureError=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iH.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iH.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iH.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iH.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{toolName:i4(e.toolName)?globalThis.String(e.toolName):"",serverName:i4(e.serverName)?globalThis.String(e.serverName):"",parameters:i4(e.parameters)?ag.fromJSON(e.parameters):void 0,result:i4(e.result)?iV.fromJSON(e.result):void 0,progress:i4(e.progress)?i$.fromJSON(e.progress):void 0,insecureError:i4(e.insecureError)?globalThis.String(e.insecureError):""}},toJSON:function(e){var n={};return""!==e.toolName&&(n.toolName=e.toolName),""!==e.serverName&&(n.serverName=e.serverName),void 0!==e.parameters&&(n.parameters=ag.toJSON(e.parameters)),void 0!==e.result&&(n.result=iV.toJSON(e.result)),void 0!==e.progress&&(n.progress=i$.toJSON(e.progress)),""!==e.insecureError&&(n.insecureError=e.insecureError),n}};c.set(iH.$type,iH);var iB={$type:"replit.ai.chat.MCPToolParameter",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.key&&n.uint32(10).string(e.key),void 0!==e.value&&av.encode(e.value,n.uint32(18).fork()).join(),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={key:"",value:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.key=t.string();continue;case 2:if(18!==i)break;a.value=av.decode(t,t.uint32());continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iB.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iB.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iB.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iB.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{key:i4(e.key)?globalThis.String(e.key):"",value:i4(e.value)?av.fromJSON(e.value):void 0}},toJSON:function(e){var n={};return""!==e.key&&(n.key=e.key),void 0!==e.value&&(n.value=av.toJSON(e.value)),n}};c.set(iB.$type,iB);var iV={$type:"replit.ai.chat.MCPToolResult",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;""!==e.content&&n.uint32(10).string(e.content);var t=!0,r=!1,a=void 0;try{for(var i,o=e.contentBlocks[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;iG.encode(s,n.uint32(34).fork()).join()}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return void 0!==e.structuredContent&&ag.encode(e.structuredContent,n.uint32(18).fork()).join(),!1!==e.isError&&n.uint32(24).bool(e.isError),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={content:"",contentBlocks:[],structuredContent:void 0,isError:!1};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.content=t.string();continue;case 4:if(34!==i)break;a.contentBlocks.push(iG.decode(t,t.uint32()));continue;case 2:if(18!==i)break;a.structuredContent=ag.decode(t,t.uint32());continue;case 3:if(24!==i)break;a.isError=t.bool();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iV.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iV.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iV.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iV.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{content:i4(e.content)?globalThis.String(e.content):"",contentBlocks:globalThis.Array.isArray(null==e?void 0:e.contentBlocks)?e.contentBlocks.map(function(e){return iG.fromJSON(e)}):[],structuredContent:i4(e.structuredContent)?ag.fromJSON(e.structuredContent):void 0,isError:!!i4(e.isError)&&globalThis.Boolean(e.isError)}},toJSON:function(e){var n,t={};return""!==e.content&&(t.content=e.content),(null==(n=e.contentBlocks)?void 0:n.length)&&(t.contentBlocks=e.contentBlocks.map(function(e){return iG.toJSON(e)})),void 0!==e.structuredContent&&(t.structuredContent=ag.toJSON(e.structuredContent)),!1!==e.isError&&(t.isError=e.isError),t}};c.set(iV.$type,iV);var i$={$type:"replit.ai.chat.MCPToolProgress",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.progress&&n.uint32(13).float(e.progress),void 0!==e.total&&n.uint32(21).float(e.total),void 0!==e.message&&n.uint32(26).string(e.message),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={progress:0,total:void 0,message:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(13!==i)break;a.progress=t.float();continue;case 2:if(21!==i)break;a.total=t.float();continue;case 3:if(26!==i)break;a.message=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([i$.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([i$.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([i$.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([i$.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{progress:i4(e.progress)?globalThis.Number(e.progress):0,total:i4(e.total)?globalThis.Number(e.total):void 0,message:i4(e.message)?globalThis.String(e.message):void 0}},toJSON:function(e){var n={};return 0!==e.progress&&(n.progress=e.progress),void 0!==e.total&&(n.total=e.total),void 0!==e.message&&(n.message=e.message),n}};c.set(i$.$type,i$);var iG={$type:"replit.ai.chat.MCPContentBlock",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(null==(n=e.block)?void 0:n.$case){case"textContent":iW.encode(e.block.value,t.uint32(10).fork()).join();break;case"imageContent":ij.encode(e.block.value,t.uint32(18).fork()).join();break;case"audioContent":iq.encode(e.block.value,t.uint32(26).fork()).join();break;case"resourceLink":iZ.encode(e.block.value,t.uint32(34).fork()).join();break;case"embeddedResource":iQ.encode(e.block.value,t.uint32(42).fork()).join()}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={block:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.block={$case:"textContent",value:iW.decode(t,t.uint32())};continue;case 2:if(18!==i)break;a.block={$case:"imageContent",value:ij.decode(t,t.uint32())};continue;case 3:if(26!==i)break;a.block={$case:"audioContent",value:iq.decode(t,t.uint32())};continue;case 4:if(34!==i)break;a.block={$case:"resourceLink",value:iZ.decode(t,t.uint32())};continue;case 5:if(42!==i)break;a.block={$case:"embeddedResource",value:iQ.decode(t,t.uint32())};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iG.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iG.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iG.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iG.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{block:i4(e.textContent)?{$case:"textContent",value:iW.fromJSON(e.textContent)}:i4(e.imageContent)?{$case:"imageContent",value:ij.fromJSON(e.imageContent)}:i4(e.audioContent)?{$case:"audioContent",value:iq.fromJSON(e.audioContent)}:i4(e.resourceLink)?{$case:"resourceLink",value:iZ.fromJSON(e.resourceLink)}:i4(e.embeddedResource)?{$case:"embeddedResource",value:iQ.fromJSON(e.embeddedResource)}:void 0}},toJSON:function(e){var n,t,r,a,i,o={};return(null==(n=e.block)?void 0:n.$case)==="textContent"?o.textContent=iW.toJSON(e.block.value):(null==(t=e.block)?void 0:t.$case)==="imageContent"?o.imageContent=ij.toJSON(e.block.value):(null==(r=e.block)?void 0:r.$case)==="audioContent"?o.audioContent=iq.toJSON(e.block.value):(null==(a=e.block)?void 0:a.$case)==="resourceLink"?o.resourceLink=iZ.toJSON(e.block.value):(null==(i=e.block)?void 0:i.$case)==="embeddedResource"&&(o.embeddedResource=iQ.toJSON(e.block.value)),o}};c.set(iG.$type,iG);var iz={$type:"replit.ai.chat.MCPAnnotations",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI,t=!0,r=!1,a=void 0;try{for(var i,o=e.audience[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;n.uint32(10).string(s)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return void 0!==e.priority&&n.uint32(21).float(e.priority),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={audience:[],priority:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.audience.push(t.string());continue;case 2:if(21!==i)break;a.priority=t.float();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iz.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iz.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iz.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iz.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{audience:globalThis.Array.isArray(null==e?void 0:e.audience)?e.audience.map(function(e){return globalThis.String(e)}):[],priority:i4(e.priority)?globalThis.Number(e.priority):void 0}},toJSON:function(e){var n,t={};return(null==(n=e.audience)?void 0:n.length)&&(t.audience=e.audience),void 0!==e.priority&&(t.priority=e.priority),t}};c.set(iz.$type,iz);var iW={$type:"replit.ai.chat.MCPContentBlockTextContent",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.text&&n.uint32(10).string(e.text),void 0!==e.annotations&&iz.encode(e.annotations,n.uint32(18).fork()).join(),void 0!==e.meta&&n.uint32(26).string(e.meta),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={text:"",annotations:void 0,meta:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.text=t.string();continue;case 2:if(18!==i)break;a.annotations=iz.decode(t,t.uint32());continue;case 3:if(26!==i)break;a.meta=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iW.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iW.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iW.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iW.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{text:i4(e.text)?globalThis.String(e.text):"",annotations:i4(e.annotations)?iz.fromJSON(e.annotations):void 0,meta:i4(e.meta)?globalThis.String(e.meta):void 0}},toJSON:function(e){var n={};return""!==e.text&&(n.text=e.text),void 0!==e.annotations&&(n.annotations=iz.toJSON(e.annotations)),void 0!==e.meta&&(n.meta=e.meta),n}};c.set(iW.$type,iW);var ij={$type:"replit.ai.chat.MCPContentBlockImageContent",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.data&&n.uint32(10).string(e.data),""!==e.mimeType&&n.uint32(18).string(e.mimeType),void 0!==e.annotations&&iz.encode(e.annotations,n.uint32(26).fork()).join(),void 0!==e.meta&&n.uint32(34).string(e.meta),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={data:"",mimeType:"",annotations:void 0,meta:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.data=t.string();continue;case 2:if(18!==i)break;a.mimeType=t.string();continue;case 3:if(26!==i)break;a.annotations=iz.decode(t,t.uint32());continue;case 4:if(34!==i)break;a.meta=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ij.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ij.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([ij.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([ij.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{data:i4(e.data)?globalThis.String(e.data):"",mimeType:i4(e.mimeType)?globalThis.String(e.mimeType):"",annotations:i4(e.annotations)?iz.fromJSON(e.annotations):void 0,meta:i4(e.meta)?globalThis.String(e.meta):void 0}},toJSON:function(e){var n={};return""!==e.data&&(n.data=e.data),""!==e.mimeType&&(n.mimeType=e.mimeType),void 0!==e.annotations&&(n.annotations=iz.toJSON(e.annotations)),void 0!==e.meta&&(n.meta=e.meta),n}};c.set(ij.$type,ij);var iq={$type:"replit.ai.chat.MCPContentBlockAudioContent",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.data&&n.uint32(10).string(e.data),""!==e.mimeType&&n.uint32(18).string(e.mimeType),void 0!==e.annotations&&iz.encode(e.annotations,n.uint32(26).fork()).join(),void 0!==e.meta&&n.uint32(34).string(e.meta),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={data:"",mimeType:"",annotations:void 0,meta:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.data=t.string();continue;case 2:if(18!==i)break;a.mimeType=t.string();continue;case 3:if(26!==i)break;a.annotations=iz.decode(t,t.uint32());continue;case 4:if(34!==i)break;a.meta=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iq.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iq.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iq.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iq.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{data:i4(e.data)?globalThis.String(e.data):"",mimeType:i4(e.mimeType)?globalThis.String(e.mimeType):"",annotations:i4(e.annotations)?iz.fromJSON(e.annotations):void 0,meta:i4(e.meta)?globalThis.String(e.meta):void 0}},toJSON:function(e){var n={};return""!==e.data&&(n.data=e.data),""!==e.mimeType&&(n.mimeType=e.mimeType),void 0!==e.annotations&&(n.annotations=iz.toJSON(e.annotations)),void 0!==e.meta&&(n.meta=e.meta),n}};c.set(iq.$type,iq);var iZ={$type:"replit.ai.chat.MCPContentBlockResourceLink",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return""!==e.name&&n.uint32(10).string(e.name),void 0!==e.title&&n.uint32(18).string(e.title),""!==e.uri&&n.uint32(26).string(e.uri),void 0!==e.description&&n.uint32(34).string(e.description),void 0!==e.mimeType&&n.uint32(42).string(e.mimeType),void 0!==e.size&&n.uint32(48).int64(e.size),void 0!==e.annotations&&iz.encode(e.annotations,n.uint32(58).fork()).join(),void 0!==e.meta&&n.uint32(66).string(e.meta),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={name:"",title:void 0,uri:"",description:void 0,mimeType:void 0,size:void 0,annotations:void 0,meta:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.name=t.string();continue;case 2:if(18!==i)break;a.title=t.string();continue;case 3:if(26!==i)break;a.uri=t.string();continue;case 4:if(34!==i)break;a.description=t.string();continue;case 5:if(42!==i)break;a.mimeType=t.string();continue;case 6:if(48!==i)break;a.size=i3(t.int64());continue;case 7:if(58!==i)break;a.annotations=iz.decode(t,t.uint32());continue;case 8:if(66!==i)break;a.meta=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iZ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iZ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iZ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iZ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{name:i4(e.name)?globalThis.String(e.name):"",title:i4(e.title)?globalThis.String(e.title):void 0,uri:i4(e.uri)?globalThis.String(e.uri):"",description:i4(e.description)?globalThis.String(e.description):void 0,mimeType:i4(e.mimeType)?globalThis.String(e.mimeType):void 0,size:i4(e.size)?globalThis.Number(e.size):void 0,annotations:i4(e.annotations)?iz.fromJSON(e.annotations):void 0,meta:i4(e.meta)?globalThis.String(e.meta):void 0}},toJSON:function(e){var n={};return""!==e.name&&(n.name=e.name),void 0!==e.title&&(n.title=e.title),""!==e.uri&&(n.uri=e.uri),void 0!==e.description&&(n.description=e.description),void 0!==e.mimeType&&(n.mimeType=e.mimeType),void 0!==e.size&&(n.size=Math.round(e.size)),void 0!==e.annotations&&(n.annotations=iz.toJSON(e.annotations)),void 0!==e.meta&&(n.meta=e.meta),n}};c.set(iZ.$type,iZ);var iK={$type:"replit.ai.chat.MCPResourceContents",encode:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;switch(""!==e.uri&&t.uint32(10).string(e.uri),void 0!==e.mimeType&&t.uint32(18).string(e.mimeType),void 0!==e.meta&&t.uint32(26).string(e.meta),null==(n=e.contents)?void 0:n.$case){case"text":t.uint32(34).string(e.contents.value);break;case"blob":t.uint32(42).string(e.contents.value)}return t},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={uri:"",mimeType:void 0,meta:void 0,contents:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.uri=t.string();continue;case 2:if(18!==i)break;a.mimeType=t.string();continue;case 3:if(26!==i)break;a.meta=t.string();continue;case 4:if(34!==i)break;a.contents={$case:"text",value:t.string()};continue;case 5:if(42!==i)break;a.contents={$case:"blob",value:t.string()};continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iK.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iK.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iK.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iK.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{uri:i4(e.uri)?globalThis.String(e.uri):"",mimeType:i4(e.mimeType)?globalThis.String(e.mimeType):void 0,meta:i4(e.meta)?globalThis.String(e.meta):void 0,contents:i4(e.text)?{$case:"text",value:globalThis.String(e.text)}:i4(e.blob)?{$case:"blob",value:globalThis.String(e.blob)}:void 0}},toJSON:function(e){var n,t,r={};return""!==e.uri&&(r.uri=e.uri),void 0!==e.mimeType&&(r.mimeType=e.mimeType),void 0!==e.meta&&(r.meta=e.meta),(null==(n=e.contents)?void 0:n.$case)==="text"?r.text=e.contents.value:(null==(t=e.contents)?void 0:t.$case)==="blob"&&(r.blob=e.contents.value),r}};c.set(iK.$type,iK);var iQ={$type:"replit.ai.chat.MCPContentBlockEmbeddedResource",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return void 0!==e.resource&&iK.encode(e.resource,n.uint32(10).fork()).join(),void 0!==e.annotations&&iz.encode(e.annotations,n.uint32(18).fork()).join(),void 0!==e.meta&&n.uint32(26).string(e.meta),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={resource:void 0,annotations:void 0,meta:void 0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(10!==i)break;a.resource=iK.decode(t,t.uint32());continue;case 2:if(18!==i)break;a.annotations=iz.decode(t,t.uint32());continue;case 3:if(26!==i)break;a.meta=t.string();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iQ.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iQ.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iQ.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iQ.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{resource:i4(e.resource)?iK.fromJSON(e.resource):void 0,annotations:i4(e.annotations)?iz.fromJSON(e.annotations):void 0,meta:i4(e.meta)?globalThis.String(e.meta):void 0}},toJSON:function(e){var n={};return void 0!==e.resource&&(n.resource=iK.toJSON(e.resource)),void 0!==e.annotations&&(n.annotations=iz.toJSON(e.annotations)),void 0!==e.meta&&(n.meta=e.meta),n}};c.set(iQ.$type,iQ);var iX={$type:"replit.ai.chat.AlertData",encode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.fI;return 0!==e.alertLevel&&n.uint32(8).int32(e.alertLevel),""!==e.message&&n.uint32(18).string(e.message),0!==e.nextAction&&n.uint32(24).int32(e.nextAction),n},decode:function(e,n){for(var t=(0,o._)(e,u.V5)?e:new u.V5(e),r=void 0===n?t.len:t.pos+n,a={alertLevel:0,message:"",nextAction:0};t.pos<r;){var i=t.uint32();switch(i>>>3){case 1:if(8!==i)break;a.alertLevel=t.int32();continue;case 2:if(18!==i)break;a.message=t.string();continue;case 3:if(24!==i)break;a.nextAction=t.int32();continue}if((7&i)==4||0===i)break;t.skip(7&i)}return a},encodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iX.encode(v).finish()])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iX.encode(c).finish()])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},decodeTransform:function(e){return(0,s._)(function(){var n,t,o,s,u,c,d,f,p,h,m,v,g,b;return(0,l.YH)(this,function(y){switch(y.label){case 0:n=!1,t=!1,y.label=1;case 1:y.trys.push([1,16,17,22]),s=(0,a._)(e),y.label=2;case 2:return[4,(0,i._)(s.next())];case 3:if(!(n=!(u=y.sent()).done))return[3,15];if(c=u.value,!globalThis.Array.isArray(c))return[3,12];d=!0,f=!1,p=void 0,y.label=4;case 4:y.trys.push([4,9,10,11]),h=c[Symbol.iterator](),y.label=5;case 5:if(d=(m=h.next()).done)return[3,8];return v=m.value,[5,(0,l.Ju)((0,r._)((0,a._)([iX.decode(v)])))];case 6:y.sent(),y.label=7;case 7:return d=!0,[3,5];case 8:return[3,11];case 9:return g=y.sent(),f=!0,p=g,[3,11];case 10:try{d||null==h.return||h.return()}finally{if(f)throw p}return[7];case 11:return[3,14];case 12:return[5,(0,l.Ju)((0,r._)((0,a._)([iX.decode(c)])))];case 13:y.sent(),y.label=14;case 14:return n=!1,[3,2];case 15:return[3,22];case 16:return b=y.sent(),t=!0,o=b,[3,22];case 17:if(y.trys.push([17,,20,21]),!(n&&null!=s.return))return[3,19];return[4,(0,i._)(s.return())];case 18:y.sent(),y.label=19;case 19:return[3,21];case 20:if(t)throw o;return[7];case 21:return[7];case 22:return[2]}})})()},fromJSON:function(e){return{alertLevel:i4(e.alertLevel)?function(e){switch(e){case 0:case"ALERT_LEVEL_UNSPECIFIED":return A.NY.UNSPECIFIED;case 1:case"ALERT_LEVEL_INFO":return A.NY.INFO;case 2:case"ALERT_LEVEL_WARNING":return A.NY.WARNING;case 3:case"ALERT_LEVEL_ERROR":return A.NY.ERROR;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AlertLevel")}}(e.alertLevel):0,message:i4(e.message)?globalThis.String(e.message):"",nextAction:i4(e.nextAction)?function(e){switch(e){case 0:case"ALERT_NEXT_ACTION_NONE":return A.mX.NONE;case 1:case"ALERT_NEXT_ACTION_OPEN_MCP_PANE":return A.mX.OPEN_MCP_PANE;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AlertNextAction")}}(e.nextAction):0}},toJSON:function(e){var n={};return 0!==e.alertLevel&&(n.alertLevel=function(e){switch(e){case A.NY.UNSPECIFIED:return"ALERT_LEVEL_UNSPECIFIED";case A.NY.INFO:return"ALERT_LEVEL_INFO";case A.NY.WARNING:return"ALERT_LEVEL_WARNING";case A.NY.ERROR:return"ALERT_LEVEL_ERROR";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AlertLevel")}}(e.alertLevel)),""!==e.message&&(n.message=e.message),0!==e.nextAction&&(n.nextAction=function(e){switch(e){case A.mX.NONE:return"ALERT_NEXT_ACTION_NONE";case A.mX.OPEN_MCP_PANE:return"ALERT_NEXT_ACTION_OPEN_MCP_PANE";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum AlertNextAction")}}(e.nextAction)),n}};function i0(e){return{seconds:Math.trunc(e.getTime()/1e3),nanos:e.getTime()%1e3*1e6}}function i1(e){var n=1e3*(e.seconds||0);return new globalThis.Date(n+=(e.nanos||0)/1e6)}function i2(e){return(0,o._)(e,globalThis.Date)?e:"string"==typeof e?new globalThis.Date(e):i1(d.fromJSON(e))}function i3(e){var n=globalThis.Number(e.toString());if(n>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(n<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return n}function i4(e){return null!=e}c.set(iX.$type,iX)},97679:(e,n,t)=>{"use strict";t.d(n,{J:()=>b});var r=t(83846),a=t(17844),i=t(93629),o=t(17459),s=t(12694),l=t(34837),u=t(21462),c=t(39534),d=t(90233),f=t(25227),p=t(33683),h=t(91467),m=t(83068),v=t.n(m),g=(0,c.CK)("SendButton.module.css",["--background-color","--background-color-hover","--size"]);function b(e){var n,t,m=e.loading,b=e.variant,y=e.iconOverride,w=e.size,_=e.colorway,S=e.disabled,A=e.disabledReason,k=e.planModeStyle,C=(0,o._)(e,["loading","variant","iconOverride","size","colorway","disabled","disabledReason","planModeStyle"]),Y=null!=_?_:"agent"===b?"blue":"teal",E=null!=S?S:m,x=!!(S&&A),T=(0,s._)((0,u.useState)(!1),2),D=T[0],I=T[1],R=function(){I(!0),setTimeout(function(){I(!1)},3e3)};return(0,l.Y)(d.m_,{tooltip:A,isDisabled:!x,isOpen:x?D:void 0,placement:"top-start",hideWhenOutOfBounds:!1,children:(0,l.Y)(f.S,(0,i._)((0,a._)({align:"center",justify:"center",clsx:[v().root,x&&v().disabledWithReason],style:(t={},(0,r._)(t,g.backgroundColor,k?c.LU.backgroundHighest:c.ky[Y].dimmer),(0,r._)(t,g.backgroundColorHover,k?c.LU.outlineDimmer:c.ky[Y].default),(0,r._)(t,g.size,"".concat(null!=w?w:24,"px")),t),tag:"button",alt:null!=(n=C.alt)?n:"Send",disabled:!x&&E,onMouseDown:function(e){x&&(e.preventDefault(),R())}},C),{children:y||(0,l.Y)(l.FK,{children:m?(0,l.Y)(p.A,{}):(0,l.Y)(h.A,{})})}))})}},97902:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{d:"M22.334 3.589 17.805 20.41h-1.482L20.853 3.59h1.482ZM12.285 12.15l.11-3.018-2.553 1.62-.658-1.153 2.69-1.4-2.69-1.4.658-1.152 2.553 1.619-.11-3.019h1.317l-.11 3.019 2.553-1.62.658 1.154-2.69 1.4 2.69 1.399-.658 1.152-2.553-1.619.11 3.019h-1.317ZM7.676 3.589 3.148 20.41H1.666L6.194 3.59h1.482Z"})}))}},98016:e=>{e.exports={conflictPromptOption:"GeneratingDiffStatementsPaused_conflictPromptOption__GgIHj",conflictPromptOptionLabel:"GeneratingDiffStatementsPaused_conflictPromptOptionLabel___PIQk",conflictPromptOptionHighlight:"GeneratingDiffStatementsPaused_conflictPromptOptionHighlight__Fj82f"}},98207:(e,n,t)=>{"use strict";t.d(n,{u:()=>m});var r=t(83846),a=t(34837),i=t(27608),o=t(39534),s=t(70764),l=t(19944),u=t(18712),c=t(25227),d=(0,l.v)(["fontSize"]),f=d.cssVars,p=d.styleTokens,h=(0,s.x)({button:[u.wp.reset.button,u.wp.flex.row,u.wp.align.center,u.wp.cursor.pointer,u.wp.hover({opacity:1}),{opacity:.6,fontFamily:o.LU.fontFamilyDefault,"*":{fontSize:p.fontSize,borderColor:o.LU.foregroundDimmest,color:o.LU.foregroundDimmest},":hover *":{borderColor:o.LU.foregroundDefault,color:o.LU.foregroundDefault}}],keyCombo:[{marginLeft:"calc(".concat(p.fontSize," * 0.3)")}]});function m(e){return(0,a.FD)(c.S,{className:e.className,tag:"button",css:h.button,style:(0,r._)({},f.fontSize,e.fontSize+"px"),onClick:e.onClick,children:[(0,a.Y)(c.S,{children:e.text}),e.keyCombo?(0,a.Y)(c.S,{css:h.keyCombo,justify:"center",children:(0,a.Y)(i._y,{fontSize:.8*e.fontSize,keyCombo:e.keyCombo})}):null]})}},98803:(e,n,t)=>{"use strict";t.d(n,{k:()=>o});var r=t(90629),a=t(86035),i=t(80719);function o(){(0,i.zv)("agent-state-changed",function(e){var n,t,i,o;r.ZQ({category:"chatter",message:"Agent state changed to ".concat((i=function(e){switch(e){case a.g32.AGENT_STATE_NOT_STARTED:return"Not started";case a.g32.AGENT_STATE_PAUSED:return"Paused";case a.g32.AGENT_STATE_PAUSING:return"Pausing";case a.g32.AGENT_STATE_RUNNING:return"Running";case a.g32.AGENT_STATE_UNKNOWN:default:return"Unknown"}}((n=e.state).state),o=null==(t=n.reason)?void 0:t.$kind,"".concat(i," (reason: ").concat(o,")"))),level:"info"})}),(0,i.zv)("client-created-session",function(e){r.ZQ({category:"chatter",message:"Client created ".concat(function(e){switch(e){case a.dF3.CHAT:return"Assistant";case a.dF3.INLINE_CHAT:return"Assistant (inline)";case a.dF3.AGENT_SESSION:return"Agent";default:return"Unknown"}}(e.request.sessionType)," session ").concat(e.session.id),data:e.request,level:"info"})}),(0,i.zv)("client-updated-session",function(e){r.ZQ({category:"chatter",message:"Client updated session ".concat(e.session.id),data:e.request,level:"info"})}),(0,i.zv)("session-graph-fetched",function(e){r.ZQ({category:"chatter",message:"Session graph fetched for session ".concat(e.session.id," (size: ").concat(e.size,")"),level:"info"})}),(0,i.zv)("unexpected-disconnect",function(e){r.ZQ({category:"chatter",message:"Unexpected disconnect: ".concat(e.error.message),level:"error"})}),(0,i.zv)("unhandled-exception",function(e){r.ZQ({category:"chatter",message:"Unhandled exception: ".concat(e.error.message),data:e.error,level:"error"})})}},98867:(e,n,t)=>{"use strict";t.d(n,{b:()=>A});var r=t(29935),a=t(17844),i=t(86105),o=t(82643),s=t(21462),l=t(90629),u=t(86035),c=t(80719),d=t(69832),f=t(39938),p=t(33868),h=t(40115),m=t(2976),v=t(41426),g=t(65242),b=t(82817),y=t(33369),w=t(13927),_=t(32264),S=t(58422);function A(e,n){var t=(0,f.A)(n),A=(0,c.NC)(),k=(0,h.A)().fs,C=(0,S.y)().isEditModeActive,Y=(0,g.Zo)({context:"agent"}),E=Y.clearSelection,x=Y.setVisualSelectorEnabled,T=Y.element,D=Y.screenshotBlob,I=(0,d.HJ)(null),R=(0,d.HJ)(!1),N=(0,c.hM)(),O=(0,s.useCallback)(function(){return(0,r._)(function(){var n,r;return(0,o.YH)(this,function(a){switch(a.label){case 0:if(R.current)return[2,null];if(e)return[2,e];return R.set(!0),[4,A.sessions.create({sessionType:u.dF3.AGENT_SESSION})];case 1:if(!(r=a.sent()).ok)return I.set(r),R.set(!1),[2,null];return R.set(!1),null==(n=t.current)||n.call(t,r.payload),[2,r.payload]}})})()},[A,I,R,t,e]);return{sendMessage:(0,s.useCallback)(function(n){return(0,r._)(function(){var r,s,c,d,f,h,g,S,Y,O,P,F,U;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(R.current)return[2];if(R.set(!0),s=e)return[3,2];return[4,A.sessions.create({sessionType:u.dF3.AGENT_SESSION})];case 1:if(!(d=o.sent()).ok)return I.set(d),R.set(!1),[2];s=d.payload,null==(c=t.current)||c.call(t,s),o.label=2;case 2:if(f=n.message,h=(0,i._)(n.attachments),!(D&&!(null==T?void 0:T.filePath)))return[3,7];o.label=3;case 3:if(o.trys.push([3,6,,7]),g=Date.now(),S="".concat(b.m).concat(g,".png"),!(Y=(0,y.ti)(D,S)))return[3,5];return[4,(0,p.Zn)({parentPath:v.Ls,files:Y?[Y]:[],fs:k,onError:function(e){throw e}})];case 4:o.sent(),h.push({path:"".concat(v.Ls,"/").concat(S),mimeType:Y.type,file:Y,isLoading:!1}),o.label=5;case 5:return[3,7];case 6:return O=o.sent(),l.Cp(O,{extra:{message:"[VisualSelector] Error processing screenshot",sessionId:s.id}}),[3,7];case 7:return P=h.map(function(e){return{path:e.path,mimeType:e.file.type}}),[4,s.appendEvent({intent:u.qRv.AGENT,message:f,uploadedFiles:P,kind:"message",webviewTargetedElement:null!=(U=null!=(F=n.webviewTargetedElement)?F:T)?U:void 0,agentConfig:n.agentConfig})];case 8:return o.sent(),R.set(!1),N(!1),(0,w.pI)((0,a._)({action:"user_message_sent",messageText:n.message,sessionId:s.id,agentChatMode:(0,_.MH)(n.agentConfig),autonomyLevel:(null==(r=n.agentConfig)?void 0:r.autonomyLevel)?m.ww[n.agentConfig.autonomyLevel]:void 0},n.figma)),T&&(C?E():x(!1,{shouldClearSelection:!1})),[2]}})})()},[R,e,D,T,A.sessions,t,I,k,C,x,E,N]),ensureSession:O,error:I,loading:R}}},98877:e=>{e.exports={vulnerability:"SASTVulnerability_vulnerability__sKTlU",vulnerabilityHeader:"SASTVulnerability_vulnerabilityHeader__2wLyv",isExpanded:"SASTVulnerability_isExpanded__u6r0Z",analysisVulnerabilityCode:"SASTVulnerability_analysisVulnerabilityCode__PcNYM",filePath:"SASTVulnerability_filePath__ZyJsR"}},98927:(e,n,t)=>{"use strict";t.d(n,{N0:()=>x,Pt:()=>T,Tb:()=>E});var r=t(12694),a=t(86105),i=t(40185),o=t(21462),s=t(23099),l=t.n(s),u=t(76957),c=t(69737),d=t(54222),f=t(86103),p=t(61125),h=t(47737),m=t(13672),v=t(96193),g=t(76428),b=t(45380),y=t(11082),w=t(79320),_=t(62246),S=t(843),A=t(49313),k=(0,u.eU)([]);(0,c.mg)(k,function(e){return new Set(e.map(function(e){return e.type}))},l());var C=["shell","git","diff","envEditor","deployments","database","neon","ghostwriterChat","preferences","multiplayer","objectStorage","adminPanel","webview","project","workflows","integrations","runnerOutput","replitAuth","securityScan","developer","agentChat"],Y=["agentChat","ghostwriterChat","deployments"];function E(){return(0,A.h)(k)}function x(){return(0,A.Ou)(k)}function T(){var e,n,t,a,s,l,u=(0,A.ob)(k),c=(n=(0,p.A)(),(a=(null==(t=(0,d.OR)({variables:{replId:n}}).data)||null==(e=t.getRepl)?void 0:e.__typename)==="Repl"?null==t?void 0:t.getRepl:null)?{repl:a,currentUser:(null==t?void 0:t.currentUser)||null}:{repl:null,currentUser:null}),S=c.repl,E=c.currentUser,x=(0,i.useRouter)(),T=(0,h.m5)(),D=(0,f._P)({controlName:"flag-neon-databases",logFlagToAnalytics:!1}),I=!!(null==S||null==(l=S.authorizations)||null==(s=l.viewDeploymentConfig)?void 0:s.isAuthorized),R=(0,f._P)({controlName:"flag-security-scanning"}),N=(0,f._P)({controlName:"flag-nostalgic-spreadsheet"}),O=(0,f._P)({controlName:"flag-recursive-robotonometry"}),P=(0,v.Q)().hasProject,F=(0,y.oR)(),U=(0,w.A)().isTutorial,L=(0,m.J)().configs.some(function(e){return"nix"!==e.id}),M=(0,b.uE)(),J=(null==E?void 0:E.isAdmin)||!!x.query.debug,H=(0,_.Vv)(),B=(0,g.x)(),V=B.isDotReplitAuthButtonEnabled,$=B.isDotReplitAuthPageEnabled,G=B.isDotReplitAuthLoading,z=B.hasDotReplit&&!G&&(V||$);(0,o.useEffect)(function(){var e=T&&(null==S?void 0:S.authorizations.editPermissions.isAuthorized)?[{type:"multiplayer"}]:[];if(S&&E){var n=[[{type:"shell"},!0],[{type:"webview"},!0],[{type:"vnc"},!0],[{type:"runnerOutput"},!0],[{type:"git"},!0],[{type:"envEditor"},!0],[{type:"tutorial"},U],[{type:"database"},!N],[{type:"neon"},D],[{type:"replAuth"},L&&z],[{type:"replitAuth"},!0],[{type:"preferences"},!0],[{type:"adminPanel"},J],[{type:"deployments"},I],[{type:"ghostwriterChat"},!0],[{type:"searchReplace"},!0],[{type:"extensionStore",data:{page:"store"}},!0],[{type:"extensionDevtools"},F],[{type:"objectStorage"},!0],[{type:"automations"},O],[{type:"workflows"},!0],[{type:"project"},P],[{type:"integrations"},!0],[{type:"agentChat"},T],[{type:"securityScan"},R],[{type:"developer"},!0]],t=!0,a=!1,i=void 0;try{for(var o,s=M[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var l=o.value;n.push([{type:"extension",data:{extensionId:l.extension.extensionId,installationId:l.extension.installationId,name:l.name||l.extension.manifest.name,icon:l.icon||l.extension.manifest.icon,baseUrl:l.extension.baseUrl,path:l.handler}},!0])}}catch(e){a=!0,i=e}finally{try{t||null==s.return||s.return()}finally{if(a)throw i}}var c=!0,d=!1,f=void 0;try{for(var p,h=n[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=(0,r._)(p.value,2),v=m[0];m[1]&&(!T||C.includes(v.type))&&e.push(v)}}catch(e){d=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(d)throw f}}u(e.map(function(e){return{title:H.getTitle(e),pane:e}}).sort(function(e,n){return Y.includes(e.pane.type)?-1:Y.includes(n.pane.type)?1:e.title.localeCompare(n.title)}).map(function(e){return e.pane}))}},[u,T,S,E,L,D,U,J,I,F,M,H,P,z,R,N,O])}(0,u.eU)(function(e){var n=Array.from(e(S.Jp).values()).flat(),t=e(S.tx),r=(0,a._)(n).concat((0,a._)(t)).sort(function(e,n){return n.lastActiveAt-e.lastActiveAt}),i=[],o=!0,s=!1,l=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=function(){var e=u.value;return 8===i.length?"break":(0,_.Dx)(e.pane.type)||"commands"===e.pane.type?"continue":void(-1===i.findIndex(function(n){return n.type===e.pane.type})&&i.push(e.pane))}();if("break"===d)break}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}return i})},99391:(e,n,t)=>{"use strict";t.d(n,{VP:()=>f,XI:()=>p,fI:()=>d});var r=t(17844),a=t(93629),i=t(17459),o=t(34837),s=t(70764),l=t(18712),u=t(25227),c=(0,s.x)({table:{},tableRow:[l.wp.rowWithGap(12),l.wp.align.center,l.wp.border({direction:"bottom"}),{boxSizing:"border-box"}],column:[l.wp.display.flex,l.wp.colWithGap(0),l.wp.justify.center,l.wp.border({direction:"right"}),{":last-child":{borderRight:0}}],cell:[l.wp.rowWithGap(4),l.wp.align.center,l.wp.color.foregroundDimmest,l.wp.justify.spaceBetween,l.wp.fontSize("small"),l.wp.mx(4),l.wp.py(2),{overflow:"hidden",whiteSpace:"nowrap"}]}),d=function(e){var n=e.children,t=(0,i._)(e,["children"]);return(0,o.Y)("tr",(0,a._)((0,r._)({css:c.tableRow},t),{children:(0,o.Y)(u.S,{row:!0,gap:0,children:n})}))},f=function(e){var n=e.header,t=e.width,r=e.last,a=e.children,i={};return(t&&(i.width=t),r&&(i.marginLeft="auto"),void 0!==n&&n)?(0,o.Y)("th",{style:i,children:(0,o.Y)(u.S,{css:c.cell,children:a})}):(0,o.Y)("td",{css:c.column,style:i,children:(0,o.Y)(u.S,{css:c.cell,children:a})})},p=function(e){var n=e.children;return(0,o.Y)("table",{css:c.table,children:n})}},99431:(e,n,t)=>{"use strict";t.d(n,{N_:()=>p,Nx:()=>h,TO:()=>f});var r=t(86105),a=t(40185),i=t(21462),o=t(76957),s=t(54222),l=t(80719),u=t(61125),c=t(49313),d=(0,o.eU)([]);function f(){return(0,c.h)(d)}function p(){var e,n=(0,u.A)(),t=(0,s.OR)({variables:{replId:n}}).data,r=(0,a.useRouter)();return(0,l.jt)()&&((null==t||null==(e=t.currentUser)?void 0:e.isAdmin)||!!r.query.debug)}function h(e){var n=p(),t=(0,c.ob)(d),a=(0,i.useRef)();(0,i.useEffect)(function(){if(n){var i=JSON.stringify(e);if(a.current!==i){a.current=i;var o={timestamp:Date.now(),state:e};t(function(e){return[o].concat((0,r._)(e)).slice(0,100)})}}},[e,n,t])}},99689:(e,n,t)=>{"use strict";t.d(n,{Gz:()=>w,id:()=>S,iu:()=>b});var r=t(17844),a=t(12584),i=t(41114),o=t(39590),s=t(54744),l=t(82784);function u(){var e=(0,a._)(["\n  fragment OrgFeaturedReplsSearchReplItem on Repl {\n    __typename\n    id\n    ...ReplListBoxItemRepl\n    org {\n      id\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function c(){var e=(0,a._)(["\n  fragment OrgFeaturedReplsSearchInputRepls on ReplConnection {\n    items {\n      ...OrgFeaturedReplsSearchReplItem\n    }\n    pageInfo {\n      hasNextPage\n      nextCursor\n    }\n  }\n  ","\n"]);return c=function(){return e},e}function d(){var e=(0,a._)(["\n  mutation OrgFeaturedReplsUpdate($input: UpdateOrgFeaturedReplInput!) {\n    updateOrgFeaturedRepl(input: $input) {\n      ... on Org {\n        id\n        __typename\n        featuredRepls {\n          __typename\n          ... on OrgFeaturedReplConnection {\n            items {\n              repl {\n                ...OrgFeaturedReplsSearchReplItem\n              }\n            }\n          }\n        }\n      }\n      ... on Error {\n        __typename\n        message\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function f(){var e=(0,a._)(["\n  mutation OrgFeaturedReplsDelete($input: RemoveOrgFeaturedReplInput!) {\n    removeOrgFeaturedRepl(input: $input) {\n      ... on Org {\n        id\n        __typename\n        featuredRepls {\n          __typename\n          ... on OrgFeaturedReplConnection {\n            items {\n              repl {\n                ...OrgFeaturedReplsSearchReplItem\n              }\n            }\n          }\n        }\n      }\n      ... on Error {\n        __typename\n        message\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function p(){var e=(0,a._)(["\n  query OrgFeaturedReplsSearchInputList(\n    $searchTerm: String!\n    $orgId: String!\n    $cursor: String\n  ) {\n    currentUser {\n      __typename\n      id\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          id\n          repls(\n            input: {\n              filters: { title: { search: $searchTerm }, visibility: public }\n              cursor: $cursor\n            }\n          ) {\n            __typename\n            ... on ReplConnection {\n              ...OrgFeaturedReplsSearchInputRepls\n            }\n            ... on UserError {\n              message\n            }\n          }\n        }\n        ... on NotFoundError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var h={},m=(0,i.J1)(u(),l.F),v=(0,i.J1)(c(),m),g=(0,i.J1)(d(),m);function b(e){var n=(0,r._)({},h,e);return o.n(g,n)}var y=(0,i.J1)(f(),m);function w(e){var n=(0,r._)({},h,e);return o.n(y,n)}var _=(0,i.J1)(p(),v);function S(e){var n=(0,r._)({},h,e);return s.I(_,n)}},99795:(e,n,t)=>{"use strict";t.d(n,{g:()=>b,k:()=>g});var r=t(17844),a=t(93629),i=t(17459),o=t(86105),s=t(34837),l=t(39534),u=t(70764),c=t(51292),d=t(18712),f=t(14972),p=t(25227),h=t(25590),m=[d.wp.reset.button,d.wp.p(2),d.wp.height(22),d.wp.rowWithGap(4),d.wp.align.center,c.b.nofill,{transitionProperty:"background-color, box-shadow, opacity",opacity:.8,":focus":{zIndex:1,opacity:1}}],v=(0,u.x)({button:m,disabledButton:(0,o._)(m).concat([{color:l.LU.foregroundDimmest,cursor:"default"}]),text:[{fontSize:l.LU.fontSizeSmall}],switchWrapper:[d.wp.height(22),d.wp.pr(4),c.b.nofill,{opacity:.8,userSelect:"none","& > label":{gap:0,cursor:"pointer"},"& > label > svg":{scale:"0.6"}}]});function g(e){var n=e.altText,t=e.buttonText,o=e.icon,l=(0,i._)(e,["altText","buttonText","icon"]);return(0,s.FD)(p.S,(0,a._)((0,r._)({},l),{alt:n,tag:"button",css:l.disabled?v.disabledButton:v.button,children:[(0,s.Y)(h.Vx.Provider,{value:{size:12},children:o}),(0,s.Y)(p.S,{css:v.text,children:t})]}))}function b(e){var n=e.text,t=e.isSelected,r=e.onChange;return(0,s.Y)(p.S,{css:v.switchWrapper,row:!0,align:"center",children:(0,s.Y)(f.d,{colorway:"primary","aria-label":n,isSelected:t,onChange:r,children:(0,s.Y)(p.S,{css:v.text,children:n})})})}},99960:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),a=t(93629),i=t(34837),o=t(25590);function s(e){return(0,i.Y)(o.Ay,(0,a._)((0,r._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M6.25 5a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm8 0a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm-8 7a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm8 0a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm-8 7a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm8 0a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Z",clipRule:"evenodd"})}))}}}]);
//# sourceMappingURL=5531-69031be279590326.js.map