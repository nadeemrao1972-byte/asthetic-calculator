!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="dfa42d8e-aeeb-4d64-8119-ad9c66b7f4b3",e._sentryDebugIdIdentifier="sentry-dbid-dfa42d8e-aeeb-4d64-8119-ad9c66b7f4b3")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"ef5ff8f4"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5122],{9407:e=>{e.exports={rect:"LoadingAnimation_rect___3VEP",rect1:"LoadingAnimation_rect1__a6376",rect2:"LoadingAnimation_rect2__eP5zJ",rect3:"LoadingAnimation_rect3__tMdU6"}},45834:(e,r,n)=>{"use strict";n.d(r,{A:()=>s});var t=n(29935),o=n(82643),i=n(41409),u=n(53899);function s(e){var r=e.container,n=e.dotReplit,s=(0,i.F)(null),l=(0,i.F)(null),a=(0,i.F)(null),c=(0,i.F)(null),f=null;function d(){return c.current?Promise.resolve(c.current):new Promise(function(e){var r=c.subscribe(function(n){n&&(r(),e(n))})})}return r.openChannel({service:"toolchain"},function(e){var r=e.channel;c.set(r);var n=r.onCommand(function(e){if(e.toolchainChanged){if(!e.toolchainChanged.configs)throw Error("Expected toolchain changed configs");s.current=e.toolchainChanged.configs}else if(e.nixModulesChanged){if(!e.nixModulesChanged.modules)throw Error("Expected modules changed modules");l.current=e.nixModulesChanged.modules,a.current=e.nixModulesChanged.modulesV2}});return r.request({toolchainGetRequest:{}}).then(function(e){var r;s.current=(null==(r=e.toolchainGetResponse)?void 0:r.configs)||null}),r.request({nixModulesGetRequest:{}}).then(function(e){var r;l.current=(null==(r=e.nixModulesGetResponse)?void 0:r.modules)||null}),r.request({nixModuleConfigGetRequest:{}}).then(function(e){var r;a.current=(null==(r=e.nixModuleConfigGetResponse)?void 0:r.modules)||null}),function(){n()}}),{configs:s,modules:l,moduleConfig:a,getConfigs:function(){return s.current?Promise.resolve(s.current):new Promise(function(e){var r=s.subscribe(function(n){if(r(),null===n)throw Error("Returned toolchain config should not be null");e(n)})})},getRegistry:function(){return(0,t._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:if(f)return[2,f];return[4,d()];case 1:return[4,e.sent().request({nixModulesGetRegistryRequest:{}})];case 2:return[2,f=e.sent().nixModulesGetRegistryResponse||null]}})})()},getModuleConfig:function(){return(0,t._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return[4,d()];case 1:return[4,e.sent().request({nixModuleConfigGetRequest:{}})];case 2:return[2,e.sent().nixModuleConfigGetResponse||null]}})})()},setModuleConfig:function(e){return(0,t._)(function(){return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,d()];case 1:return[4,r.sent().request({nixModuleConfigSetRequest:{modules:e}})];case 2:return[2,r.sent().nixModuleConfigSetResponse||null]}})})()},addModule:function(e){return(0,t._)(function(){var r,t,i;return(0,o.YH)(this,function(o){switch(o.label){case 0:return t=[],[4,n.getConfig()];case 1:if((i=o.sent()).error&&i.error!==u.DO.NotFound)throw Error("Failed to read .replit"+i.error);if(-1!==(t=(null==(r=i.config)?void 0:r.modules)||[]).indexOf(e))return[3,3];return t.push(e),[4,n.updateDotReplit([{op:"add",path:"modules",value:JSON.stringify(t)}])];case 2:o.sent(),o.label=3;case 3:return[2]}})})()},removeModule:function(e){return(0,t._)(function(){var r,t,i,s;return(0,o.YH)(this,function(o){switch(o.label){case 0:return t=[],[4,n.getConfig()];case 1:if((i=o.sent()).error&&i.error!==u.DO.NotFound)throw Error("Failed to read .replit"+i.error);if((s=(t=(null==(r=i.config)?void 0:r.modules)||[]).filter(function(r){if(e===r)return!1;var n=r.match(/^(.+)\.nix$/);return(n&&n[1])!==e})).length===t.length)return[2];return[4,n.updateDotReplit([{op:"add",path:"modules",value:JSON.stringify(s)}])];case 2:return o.sent(),[2]}})})()},upgradeModule:function(e,r){return(0,t._)(function(){var t,i,s;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,n.getConfig()];case 1:if((i=o.sent()).error&&i.error!==u.DO.NotFound)throw Error("Failed to read .replit"+i.error);return s=((null==(t=i.config)?void 0:t.modules)||[]).map(function(n){return e===n?r:n}),[4,n.updateDotReplit([{op:"add",path:"modules",value:JSON.stringify(s)}])];case 2:return o.sent(),[2]}})})()},buildModules:function(){return(0,t._)(function(){var e,r;return(0,o.YH)(this,function(n){switch(n.label){case 0:return e=this,[4,d()];case 1:return r=n.sent(),[2,new Promise(function(n){var t=e.configs.subscribe(function(e){e&&(t(),n(void 0))});r.send({nixModulesBuildRequest:{}})})]}})}).call(this)}}}},53178:(e,r,n)=>{"use strict";n.d(r,{A:()=>R});var t={};n.r(t),n.d(t,{checkAndTrack:()=>C,ensureTrackedFile:()=>_,storeOp:()=>b});var o=n(67276),i=n(34778),u=n(29935),s=n(12694),l=n(22531),a=n(82643),c=n(52535),f=n(58631),d=n(17844),p={};function h(e,r,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.info("ot client dataloss",(0,d._)({case:r,startTime:n.startTime,opsSinceFlush:n.opsSinceFlush,whileReconnecting:n.whileReconnecting,replid:n.replId,filePath:n.filePath},t))}var g={replsList:function(){return"dataLossRepls"},replFiles:function(e){return"dataLossReplFiles".concat(e)},latestOp:function(e,r){return"dataLossLatestOp--".concat(e,"--").concat(r)},latestFlushedOp:function(e,r){return"dataLossLatestFlushed--".concat(e,"--").concat(r)},latestOwnOp:function(e,r){return"dataLosslatestOwnOp--".concat(e,"--").concat(r)},opsSinceFlush:function(e,r){return"dataLossOpsSinceFlush--".concat(e,"--").concat(r)}};function v(){var e=f.A.get(g.replsList(),"array");return e||(e=[],f.A.set(g.replsList(),e)),e}function m(e){var r=f.A.get(g.replFiles(e),"array");return r||(r=[],f.A.set(g.replFiles(e),r)),r}function y(e){var r=m(e),n=!0,t=!1,o=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var s=i.value;"string"==typeof s&&function(e,r){f.A.remove(g.latestOp(e,r)),f.A.remove(g.latestFlushedOp(e,r)),f.A.remove(g.latestOwnOp(e,r));var n=m(e).filter(function(e){return e!==r});f.A.set(g.replFiles(e),n)}(e,s)}}catch(e){t=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(t)throw o}}f.A.remove(g.replFiles(e));var l=v().filter(function(r){return r!==e});f.A.set(g.replsList(),l)}function _(e){var r,n=e.replId,t=e.filePath;(r=v()).includes(n)||(r.length>20?(y(r[0]),r[0]=n):r.push(n),f.A.set(g.replsList(),r));var o=m(n);o.includes(t)||(o.length>20?(y(o[0]),o[0]=t):o.push(t),f.A.set(g.replFiles(n),o))}function b(e){var r=e.filePath,n=e.replId,t=e.opType,o=e.op;!function(e){var r=e.filePath,n=e.replId,t=e.opType,o=e.logger,i=e.isReconnecting,u=h.bind(null,o),s="".concat(n,"--").concat(r);p[s]||(p[s]={replId:n,filePath:r,timer:null,startTime:null,whileReconnecting:0,opsSinceFlush:0});var l=p[s];if("latestFlushedOp"===t){delete p[s];var a=l.startTime;if(a){var c=Date.now()-a;c>6e4&&u("flush_delay_received",l,{elapsed:c})}var f=l.timer;f&&(clearTimeout(f),l.timer=null)}else{l.opsSinceFlush+=1,i&&(l.whileReconnecting+=1);var d,g=null!=(d=l.startTime)?d:Date.now();l.startTime=g,l.timer||(l.timer=setTimeout(function(){u("flush_delay_timeout",l)},6e4)),150===l.opsSinceFlush?u("flush_delay_small",l):1e3===l.opsSinceFlush&&u("flush_delay_large",l)}}({filePath:r,replId:n,opType:t,logger:e.logger,isReconnecting:e.isReconnecting}),f.A.set(g[t](n,r),o)}var w={};function C(e){return(0,u._)(function(e){var r,n,t,o,i,d,p,h;return(0,a.YH)(this,function(v){return r=e.filePath,n=e.replId,t=e.serverVersion,o=e.serverContent,i=e.fetchOps,d=e.logger,w[r+n]||(w[r+n]=!0,p=function(e,r){var n={latestOp:null,latestFlushedOp:null,latestOwnOp:null},t=Object.keys(n),o=!0,i=!1,u=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done);o=!0){var c=s.value,d=f.A.get(g[c](e,r),"object");d&&d&&(void 0===d?"undefined":(0,l._)(d))==="object"&&"number"==typeof d.crc32&&"number"==typeof d.version&&(n[c]=d)}}catch(e){i=!0,u=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw u}}return n}(n,r),h=c.str(o)>>>0,Object.keys(p).forEach(function(e){return(0,u._)(function(){var r,n,o;return(0,a.YH)(this,function(u){switch(u.label){case 0:if(!(r=p[e]))return[2];if(t<r.version)return d.info("ot client dataloss",{opType:e,case:"server_forgot"}),[2];if(t===r.version)return h!==r.crc32&&d.info("ot client dataloss",{opType:e,case:"crc32_mismatch"}),[2];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,i(r.version,r.version)];case 2:return n=s._.apply(void 0,[u.sent(),1])[0],[3,4];case 3:return o=u.sent(),d.info("ot client dataloss",{opType:e,case:"error_fetching_op",originalError:String(o)}),[2];case 4:if(!n)return d.info("ot client dataloss",{opType:e,case:"op_not_found"}),[2];return n.crc32!==r.crc32&&d.info("ot client dataloss",{opType:e,case:"crc32_mismatch"}),[2]}})})()})),[2]})}).apply(this,arguments)}function R(e){var r=e.container;return(0,o.Ay)({container:r,dataloss:t,track:i.u4})}},78624:(e,r,n)=>{"use strict";n.d(r,{L:()=>u});var t=n(21462),o=n(89357),i=n(39938);function u(){var e=(0,o.RL)(),r=(0,i.A)(e);return(0,t.useCallback)(function(){var e,n;return!Number.isFinite(n=parseInt(null==(e=r.current)?void 0:e.variation("flag-container-retry-minimum-ms",0),10))||n<0?0:n},[r])}},78725:(e,r,n)=>{"use strict";n.d(r,{A:()=>g,v:()=>h});var t=n(29935),o=n(86105),i=n(82643),u=n(16732),s=n(7659),l=n(87380),a=n(62325),c=n(82167),f=n(53899),d=n(36163),p=n(49555),h=".replit";function g(e){var r,n,g,v,m=e.container,y=e.fs,_=e.ctx,b=(0,s.Ay)();b.setMaxListeners(50);var w=null,C=null,R=null;function F(){return(0,t._)(function(){return(0,i.YH)(this,function(e){return w&&"open"===w.status?[2,w]:[2,new Promise(function(e){b.once(f.sV.CHANNEL_OPENED,function(r){e(r)})})]})})()}(0,t._)(function(){return(0,i.YH)(this,function(e){return y.watchDir(d.Dl,{onChange:function(e){if(!e.some(function(e){return e.filename===h&&e.type===p.pt.File})){(null==C?void 0:C.error)!==f.DO.NotFound&&(C={error:f.DO.NotFound,errorMessage:"",config:null},b.emit(f.sV.CHANGE,C));return}M||(M=!0,y.watchFile(h,{onChange:function(){C=null,E.getConfig({bypassCache:!0}).then(function(e){b.emit(f.sV.CHANGE,e)})},onMoveOrDelete:function(){M=!1},onError:function(e,r){C=null,M=!1,e.code||m.unrecoverableError(e,r)}}))},onError:function(e,r){m.unrecoverableError(e,r)}}),[2]})})(),m.openChannel({service:"dotreplit"},function(e){var r=e.channel;return w=r,b.emit(f.sV.CHANNEL_OPENED,r),function(){w=null}});var M=!1,E={watch:function(e){var r=!1,n=!1,t=function(){for(var r=arguments.length,t=Array(r),i=0;i<r;i++)t[i]=arguments[i];n=!0,e.apply(void 0,(0,o._)(t))};return b.on(f.sV.CHANGE,t),E.getConfig().then(function(e){r||n||t(e)}),function(){r=!0,b.removeListener(f.sV.CHANGE,t)}},getConfig:function(e){return(0,t._)(function(){return(0,i.YH)(this,function(r){return(null==e?void 0:e.bypassCache)||!C?[2,(0,t._)(function(){return(0,i.YH)(this,function(e){switch(e.label){case 0:return C=null,R||(R=(0,t._)(function(){return(0,i.YH)(this,function(e){return[2,(0,l.eT)(_,"dotreplit.getConfigFromServer",function(e,r){return(0,t._)(function(){var n,t,o,u;return(0,i.YH)(this,function(i){switch(i.label){case 0:var s,d;return null==r||r.setAttributes((s={},(null==(d=m.getConnectionMetadata())?void 0:d.token)&&(s.tokenCluster=(0,c.pI)(d.token).cluster),s.ssr=!!window.performance.getEntriesByName(a.pY.pageNavStart,"mark").length,s)),[4,F()];case 1:if("closed"===(t=i.sent()).status)return[2,{error:f.DO.Disconnected,errorMessage:"channel closed",config:null}];return[4,t.request({dotReplitGetRequest:{},traceInfo:e?(0,l.mY)(e):void 0})];case 2:if((o=i.sent()).channelClosed)return[2,{error:f.DO.Disconnected,errorMessage:"channel closed",config:null}];if(o.error){if(o.error.includes("unable to decode"))return[2,{error:f.DO.ParseError,errorMessage:o.error,config:null}];if(o.error.includes("no such file"))return[2,{error:f.DO.NotFound,errorMessage:o.error,config:null}];return[2,{error:f.DO.Unknown,errorMessage:o.error,config:null}]}if(!(u=null==(n=o.dotReplitGetResponse)?void 0:n.dotReplit))return m.unrecoverableError(Error("Dotreplit responded with no error and no config")),[2,{error:f.DO.Unknown,errorMessage:"Expected dotReplitGetResponse to include dotReplit",config:null}];return[2,{error:null,errorMessage:null,config:u}]}})})()})]})})()),[4,R];case 1:return C=e.sent(),R=null,[2,C]}})})()]:[2,C]})})()},getRunConfig:function(){return(0,t._)(function(){var e,r;return(0,i.YH)(this,function(n){switch(n.label){case 0:return[4,F()];case 1:return[4,n.sent().request({runConfigGetRequest:{}})];case 2:if((e=n.sent()).channelClosed)return[2,this.getRunConfig()];if(!e.runConfigGetResponse)throw null!=(r=e.error)?r:Error("expected run config");return[2,e.runConfigGetResponse]}})}).call(this)},updateDotReplit:(r=function(e){return(0,t._)(function(){var r;return(0,i.YH)(this,function(n){switch(n.label){case 0:return[4,y.stat(h)];case 1:if(n.sent().exists)return[3,3];return[4,y.writeFile(h,"")];case 2:n.sent(),n.label=3;case 3:return[4,F()];case 4:return[4,n.sent().request({dotReplitUpdateRequest:{ops:e}})];case 5:if((r=n.sent()).channelClosed)return[2,{errorMessage:"Channel closed.",error:f.uZ.ChannelClosed,response:null}];if(r.error){if(r.error.includes("could not parse json")||r.error.includes("is not json")||r.error.includes("parsing value field")||r.error.includes("missing field"))return[2,{errorMessage:r.error,error:f.uZ.JSONParseError,response:null}];if(r.error.includes("could not read file"))return[2,{errorMessage:r.error,error:f.uZ.NotFound,response:null}];if(r.error.includes("could not parse toml"))return[2,{errorMessage:r.error,error:f.uZ.TOMLParseError,response:null}];if(r.error.includes("unknown variant"))return[2,{errorMessage:r.error,error:f.uZ.OpType,response:null}];if(r.error.includes("could not write to file"))return[2,{errorMessage:r.error,error:f.uZ.CouldNotWrite,response:null}];if(r.error.includes("could not read line"))return[2,{errorMessage:r.error,error:f.uZ.ReadLine,response:null}];return[2,{errorMessage:r.error,error:f.uZ.Unknown,response:null}]}if(!r.dotReplitUpdateResponse)throw Error("Expected .replit to be updated");return[2,{response:r.dotReplitUpdateResponse,error:null,errorMessage:null}]}})})()},n=[],g=400,v=(0,u.A)(function(){return(0,t._)(function(){var e;return(0,i.YH)(this,function(t){switch(t.label){case 0:return[4,r(n)];case 1:return e=t.sent(),n=[],[2,e]}})})()},{wait:g}),function(e,r){r&&(g=r);var t=!0,o=!1,i=void 0;try{for(var u,s=e[Symbol.iterator]();!(t=(u=s.next()).done);t=!0)!function(){var e=u.value,r=n.findIndex(function(r){return r.path===e.path});-1!==r?n[r]=e:n.push(e)}()}catch(e){o=!0,i=e}finally{try{t||null==s.return||s.return()}finally{if(o)throw i}}return v()})};return E}},78950:(e,r,n)=>{"use strict";n.d(r,{A:()=>l});var t=n(17844),o=n(93629),i=n(34837),u=n(9407),s=n.n(u);let l=function(e){var r=e.height,n=void 0===r?24:r,u={width:84,height:64,fill:"#F26207",rx:12};return(0,i.FD)("svg",{width:n/1.2,height:n,viewBox:"0 0 200 240",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"loading-animation-title",children:[(0,i.Y)("title",{id:"loading-animation-title",children:"loading animation"}),(0,i.Y)("rect",(0,o._)((0,t._)({clsx:[s().rect,s().rect1]},u),{x:8,y:8})),(0,i.Y)("rect",(0,o._)((0,t._)({clsx:[s().rect,s().rect2]},u),{x:108,y:88})),(0,i.Y)("rect",(0,o._)((0,t._)({clsx:[s().rect,s().rect3]},u),{x:8,y:168}))]})}},81515:(e,r,n)=>{"use strict";n.d(r,{F9:()=>h,K3:()=>f,Ni:()=>c,QC:()=>s,TG:()=>p,gR:()=>g});var t=n(17844),o=n(93629),i=n(86105),u=n(29377);function s(e){return e.split(".").pop()}function l(e,r){return e.some(function(e){return e.path===r})}function a(e,r){var n=e.findIndex(function(e){return s(e.path)===s(r)});if(-1===n)return e;var u=(0,o._)((0,t._)({},e[n]),{path:r});return(0,i._)(e.slice(0,n)).concat([u],(0,i._)(e.slice(n+1)))}function c(e){var r=[];return e.forEach(function(e){var n=s(e.path),t=u.A.allSupportedByPopularity().find(function(e){return e.ext===n});t&&!r.includes(t.key)&&r.push(t.key)}),r}function f(e){var r=e.files,n=e.language,t=u.A.getMainFileName(null!=n?n:"python");if(!t)return r;var o=r;return l(r,t)||(o=a(o,t)),"html"!==n||l(r,"style.css")||(o=a(o,"style.css")),"html"!==n||l(r,"script.js")||(o=a(o,"script.js")),o}var d=["GoogleCloudPlatform","googleapis"];function p(e){return d.includes(e)}var h="b3294059-2b61-4b20-abde-f06b61a9a1b3",g="gcloud"},90352:(e,r,n)=>{"use strict";n.d(r,{$:()=>l,O:()=>s});var t=n(17844),o=n(21462),i=n(23099),u=n.n(i);function s(e){var r=e.repl,n=e.currentUser;return{asViewer:e.asViewer,repl:{__typename:"Repl",authorizations:r.authorizations,id:r.id,language:r.language},currentUser:n?{__typename:"CurrentUser",id:n.id,username:n.username,isSubscribed:n.isSubscribed}:void 0}}function l(e){var r=e?s((0,t._)({},e)):null,n=(0,o.useRef)(r);return u()(r,n.current)||(n.current=r),n.current}}}]);
//# sourceMappingURL=5122-def719b53ea55490.js.map