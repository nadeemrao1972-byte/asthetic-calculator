!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="bcd661cd-e984-4eb7-bab0-bc951ca1a338",e._sentryDebugIdIdentifier="sentry-dbid-bcd661cd-e984-4eb7-bab0-bc951ca1a338")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"ef5ff8f4"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6751],{6751:(e,t,r)=>{r.d(t,{UU:()=>m,_z:()=>u,dx:()=>a});var n=r(99706),o=r(74651);function i(e){return JSON.parse(JSON.stringify(e))}var a=class e{initializeState;procedures;constructor(e,t){this.initializeState=e.initializeState,this.procedures=t}static scaffold(e){return new s(e)}static define(t,r){let n,o;if("initializeState"in t&&"function"==typeof t.initializeState){if(!r)throw Error("Expected procedures to be defined");n=t,o=r}else n={initializeState:()=>({})},o=t;return new e(n,o)}serialize(){return{procedures:Object.fromEntries(Object.entries(this.procedures).map(([e,t])=>[e,{input:i(t.input),output:i(t.output),..."description"in t?{description:t.description}:{},..."errors"in t?{errors:i(t.errors)}:{},type:t.type,..."init"in t?{init:i(t.init)}:{}}]))}}instantiate(e){return Object.freeze({state:this.initializeState(e),procedures:this.procedures})}},s=class{config;constructor(e){this.config=e}procedures(e){return e}finalize(e){return a.define(this.config,e)}},u={rpc:function({input:e,output:t,errors:r=o.ZU.Never(),description:n,handler:i}){return{...n?{description:n}:{},type:"rpc",input:e,output:t,errors:r,handler:i}},upload:function({init:e,input:t,output:r,errors:n=o.ZU.Never(),description:i,handler:a}){return null!=e?{type:"upload",...i?{description:i}:{},init:e,input:t,output:r,errors:n,handler:a}:{type:"upload",...i?{description:i}:{},input:t,output:r,errors:n,handler:a}},subscription:function({input:e,output:t,errors:r=o.ZU.Never(),description:n,handler:i}){return{type:"subscription",...n?{description:n}:{},input:e,output:t,errors:r,handler:i}},stream:function({init:e,input:t,output:r,errors:n=o.ZU.Never(),description:i,handler:a}){return null!=e?{type:"stream",...i?{description:i}:{},init:e,input:t,output:r,errors:n,handler:a}:{type:"stream",...i?{description:i}:{},input:t,output:r,errors:n,handler:a}}};function c(){let e={};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e}var l=class{buffer;mask;top;btm;next;constructor(e){if(!(e>0)||(e-1&e)!=0)throw Error("Max size for a FixedFIFO should be a power of two");this.buffer=Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return void 0===this.buffer[this.btm]}},f=class{size;hwm;head;tail;constructor(e={}){this.hwm=e.splitLimit??16,this.head=new l(this.hwm),this.tail=this.head,this.size=0}calculateSize(e){return e?.byteLength!=null?e.byteLength:1}push(e){if(e?.value!=null&&(this.size+=this.calculateSize(e.value)),!this.head.push(e)){let t=this.head;this.head=t.next=new l(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(void 0===e&&null!=this.tail.next){let t=this.tail.next;this.tail.next=null,this.tail=t,e=this.tail.shift()}return e?.value!=null&&(this.size-=this.calculateSize(e.value)),e}isEmpty(){return this.head.isEmpty()}},p=class extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}};function d(e={}){return function(e,t){let r,n,o,i=(t=t??{}).onEnd,a=new f,s=c(),u=e=>null!=n?n(e):(a.push(e),r),l=e=>{if(o)return r;if(t?.objectMode!==!0&&e?.byteLength==null)throw Error("objectMode was not true but tried to push non-Uint8Array value");return u({done:!1,value:e})},d=e=>o?r:(o=!0,null!=e?(a=new f,null!=n)?n({error:e}):(a.push({error:e}),r):u({done:!0}));if(r={[Symbol.asyncIterator](){return this},next:async()=>{try{if(!a.isEmpty())return e(a);if(o)return{done:!0};return await new Promise((t,o)=>{n=i=>{n=null,a.push(i);try{t(e(a))}catch(e){o(e)}return r}})}finally{a.isEmpty()&&queueMicrotask(()=>{s.resolve(),s=c()})}},return:()=>(a=new f,d(),{done:!0}),throw:e=>(d(e),{done:!0}),push:l,end:d,get readableLength(){return a.size},onEmpty:async e=>{let t,r,n=e?.signal;if(n?.throwIfAborted(),!a.isEmpty()){null!=n&&(t=new Promise((e,t)=>{r=()=>{t(new p)},n.addEventListener("abort",r)}));try{await Promise.race([s.promise,t])}finally{null!=r&&null!=n&&n?.removeEventListener("abort",r)}}}},null==i)return r;let g=r;return r={[Symbol.asyncIterator](){return this},next:()=>g.next(),throw:e=>(g.throw(e),null!=i&&(i(e),i=void 0),{done:!0}),return:()=>(g.return(),null!=i&&(i(),i=void 0),{done:!0}),push:l,end:e=>(g.end(e),null!=i&&(i(e),i=void 0),r),get readableLength(){return g.readableLength},onEmpty:e=>g.onEmpty(e)}}(e=>{let t=e.shift();if(null==t)return{done:!0};if(null!=t.error)throw t.error;return{done:!0===t.done,value:t.value}},e)}var g="UNEXPECTED_DISCONNECT";function h(e){return{ok:!1,payload:e}}o.ZU.Object({code:o.ZU.Union([o.ZU.Literal("UNCAUGHT_ERROR"),o.ZU.Literal(g)]),message:o.ZU.String()});var v=()=>{},y={connectOnInvoke:!0,eagerlyConnect:!0};function m(e,t,r={}){r.handshakeOptions&&e.extendHandshake(r.handshakeOptions);let o={...y,...r};return o.eagerlyConnect&&e.connect(t),function e(t,r){return new Proxy(v,{get(n,o){if("string"==typeof o)return e(t,[...r,o])},apply:(e,n,o)=>t({path:r,args:o})})}(async r=>{let[i,a,s]=[...r.path];if(!(i&&a&&s))throw Error("invalid river call, ensure the service and procedure you are calling exists");let[u]=r.args;if(o.connectOnInvoke&&!e.sessions.has(t)&&e.connect(t),"rpc"===s){var c=e,l=t,f=u,p=i,v=a;let r=(0,n.$C)(),{span:o,ctx:s}=(0,n.ae)(c,"rpc",p,v,r);c.send(l,{streamId:r,serviceName:p,procedureName:v,payload:f,tracing:(0,n.oG)(s),controlFlags:6});let d=!1;return new Promise(e=>{let t=b(l,()=>{n(),e(h({code:g,message:`${l} unexpectedly disconnected`}))});function n(){d||(d=!0,c.removeEventListener("message",i),c.removeEventListener("sessionStatus",t),o.end())}function i(t){t.streamId===r&&t.to===c.clientId&&(n(),e(t.payload))}c.addEventListener("message",i),c.addEventListener("sessionStatus",t)})}if("stream"===s)return function(e,t,r,o,i){let a=(0,n.$C)(),{span:s,ctx:u}=(0,n.ae)(e,"stream",o,i,a),c=d({objectMode:!0}),l=d({objectMode:!0}),f=!0,p=!1,v=!1;function y(t){t.streamId===a&&t.to===e.clientId&&((0,n.rC)(t.controlFlags)?m():l.push(t.payload))}function m(){v||(v=!0,c.end(),l.end(),e.removeEventListener("message",y),e.removeEventListener("sessionStatus",E),s.end())}r&&(e.send(t,{streamId:a,serviceName:o,procedureName:i,payload:r,tracing:(0,n.oG)(u),controlFlags:2}),f=!1),(async()=>{for await(let r of c){let s={streamId:a,payload:r,controlFlags:0};f&&(s.serviceName=o,s.procedureName=i,s.tracing=(0,n.oG)(u),s.controlFlags|=2,f=!1),e.send(t,s)}if(p)return;p=!0;let r=(0,n.gG)(a);r.serviceName=o,r.procedureName=i,r.tracing=(0,n.oG)(u),f&&(r.controlFlags|=2,f=!1),e.send(t,r)})();let E=b(t,()=>{l.push(h({code:g,message:`${t} unexpectedly disconnected`})),p=!0,m()});return e.addEventListener("message",y),e.addEventListener("sessionStatus",E),[c,l,m]}(e,t,u,i,a);if("subscribe"===s)return function(e,t,r,o,i){let a=(0,n.$C)(),{span:s,ctx:u}=(0,n.ae)(e,"subscription",o,i,a);e.send(t,{streamId:a,serviceName:o,procedureName:i,payload:r,tracing:(0,n.oG)(u),controlFlags:2});let c=!1,l=!1,f=d({objectMode:!0});function p(t){t.streamId===a&&t.to===e.clientId&&((0,n.rC)(t.controlFlags)?v():f.push(t.payload))}function v(){l||(l=!0,f.end(),e.removeEventListener("message",p),e.removeEventListener("sessionStatus",y),s.end())}let y=b(t,()=>{f.push(h({code:g,message:`${t} unexpectedly disconnected`})),c=!0,v()});return e.addEventListener("message",p),e.addEventListener("sessionStatus",y),[f,()=>{if(v(),c)return;c=!0;let r=(0,n.gG)(a);r.serviceName=o,r.procedureName=i,r.tracing=(0,n.oG)(u),e.send(t,r)}]}(e,t,u,i,a);if("upload"===s)return function(e,t,r,o,i){let a=(0,n.$C)(),{span:s,ctx:u}=(0,n.ae)(e,"upload",o,i,a),c=d({objectMode:!0}),l=!0,f=!1,p=!1;r&&(e.send(t,{streamId:a,serviceName:o,procedureName:i,payload:r,tracing:(0,n.oG)(u),controlFlags:2}),l=!1),(async()=>{for await(let r of c){let s={streamId:a,payload:r,controlFlags:0};l&&(s.serviceName=o,s.procedureName=i,s.tracing=(0,n.oG)(u),s.controlFlags|=2,l=!1),e.send(t,s)}if(f)return;f=!0;let r=(0,n.gG)(a);r.serviceName=o,r.procedureName=i,r.tracing=(0,n.oG)(u),l&&(r.controlFlags|=2,l=!1),e.send(t,r)})();let v=new Promise(r=>{let n=b(t,()=>{f=!0,o(),r(h({code:g,message:`${t} unexpectedly disconnected`}))});function o(){p||(p=!0,c.end(),e.removeEventListener("message",i),e.removeEventListener("sessionStatus",n),s.end())}function i(t){t.streamId===a&&t.to===e.clientId&&(o(),r(t.payload))}e.addEventListener("message",i),e.addEventListener("sessionStatus",n)});return[c,v]}(e,t,u,i,a);throw Error(`invalid river call, unknown procedure type ${s}`)},[])}function b(e,t){return r=>{"disconnect"===r.status&&r.session.to===e&&t()}}},12405:(e,t,r)=>{function n(e){return Symbol.for(e)}r.d(t,{l:()=>o,n:()=>n});var o=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var o=new e(r._currentContext);return o._currentContext.set(t,n),o},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}},21657:(e,t,r)=>{r.d(t,{_:()=>d});var n=r(12405),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=function(e,t,r){if(r||2==arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},a=function(){function e(){}return e.prototype.active=function(){return n.l},e.prototype.with=function(e,t,r){for(var n=[],a=3;a<arguments.length;a++)n[a-3]=arguments[a];return t.call.apply(t,i([r],o(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),s=r(22077),u=r(41425),c=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},l=function(e,t,r){if(r||2==arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},f="context",p=new a,d=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,s.$G)(f,e,u.K.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return(n=this._getContextManager()).with.apply(n,l([e,t,r],c(o),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,s.mS)(f)||p},e.prototype.disable=function(){this._getContextManager().disable(),(0,s.kv)(f,u.K.instance())},e}()},22077:(e,t,r)=>{r.d(t,{mS:()=>c,$G:()=>u,kv:()=>l});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof r.g?r.g:{},o="1.7.0",i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,a=function(e){var t=new Set([e]),r=new Set,n=e.match(i);if(!n)return function(){return!1};var o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=o.prerelease)return function(t){return t===e};function a(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(i);if(!n)return a(e);var s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=s.prerelease||o.major!==s.major)return a(e);if(0===o.major)return o.minor===s.minor&&o.patch<=s.patch?(t.add(e),!0):a(e);return o.minor<=s.minor?(t.add(e),!0):a(e)}}(o),s=Symbol.for("opentelemetry.js.api."+o.split(".")[0]);function u(e,t,r,i){void 0===i&&(i=!1);var a,u=n[s]=null!=(a=n[s])?a:{version:o};if(!i&&u[e]){var c=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(c.stack||c.message),!1}if(u.version!==o){var c=Error("@opentelemetry/api: Registration of version v"+u.version+" for "+e+" does not match previously registered API v"+o);return r.error(c.stack||c.message),!1}return u[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+o+"."),!0}function c(e){var t,r,o=null==(t=n[s])?void 0:t.version;if(o&&a(o))return null==(r=n[s])?void 0:r[e]}function l(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+o+".");var r=n[s];r&&delete r[e]}},41425:(e,t,r)=>{r.d(t,{K:()=>f});var n,o=r(22077),i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=function(e,t,r){if(r||2==arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},s=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u("verbose",this._namespace,e)},e}();function u(e,t,r){var n=(0,o.mS)("diag");if(n)return r.unshift(t),n[e].apply(n,a([],i(r),!1))}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(n||(n={}));var c=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},l=function(e,t,r){if(r||2==arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},f=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=(0,o.mS)("diag");if(n)return n[e].apply(n,l([],c(t),!1))}}var t=this;t.setLogger=function(e,r){if(void 0===r&&(r={logLevel:n.INFO}),e===t){var i,a,s,u=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(i=u.stack)?i:u.message),!1}"number"==typeof r&&(r={logLevel:r});var c=(0,o.mS)("diag"),l=function(e,t){function r(r,n){var o=t[r];return"function"==typeof o&&e>=n?o.bind(t):function(){}}return e<n.NONE?e=n.NONE:e>n.ALL&&(e=n.ALL),t=t||{},{error:r("error",n.ERROR),warn:r("warn",n.WARN),info:r("info",n.INFO),debug:r("debug",n.DEBUG),verbose:r("verbose",n.VERBOSE)}}(null!=(a=r.logLevel)?a:n.INFO,e);if(c&&!r.suppressOverrideMessage){var f=null!=(s=Error().stack)?s:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+f),l.warn("Current logger will overwrite one already registered from "+f)}return(0,o.$G)("diag",l,t,!0)},t.disable=function(){(0,o.kv)("diag",t)},t.createComponentLogger=function(e){return new s(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},46692:(e,t,r)=>{r.d(t,{u:()=>C});var n,o=r(22077),i=r(21657),a=r(12405);!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(n||(n={}));var s="0000000000000000",u="00000000000000000000000000000000",c={traceId:u,spanId:s,traceFlags:n.NONE},l=function(){function e(e){void 0===e&&(e=c),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),f=(0,a.n)("OpenTelemetry Context Key SPAN");function p(e){return e.getValue(f)||void 0}function d(){return p(i._.getInstance().active())}function g(e,t){return e.setValue(f,t)}function h(e){return e.deleteValue(f)}function v(e,t){return g(e,new l(t))}function y(e){var t;return null==(t=p(e))?void 0:t.spanContext()}var m=/^([0-9a-f]{32})$/i,b=/^[0-9a-f]{16}$/i;function E(e){var t,r;return t=e.traceId,m.test(t)&&t!==u&&(r=e.spanId,b.test(r)&&r!==s)}function S(e){return new l(e)}var w=i._.getInstance(),_=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=w.active()),null==t?void 0:t.root)return new l;var n,o=r&&y(r);return"object"==typeof(n=o)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&E(o)?new l(o):new l},e.prototype.startActiveSpan=function(e,t,r,n){if(!(arguments.length<2)){2==arguments.length?a=t:3==arguments.length?(o=t,a=r):(o=t,i=r,a=n);var o,i,a,s=null!=i?i:w.active(),u=this.startSpan(e,o,s),c=g(s,u);return w.with(c,a,void 0,u)}},e}(),U=new _,L=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):U},e}(),x=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new _},e}()),I=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var n;return null!=(n=this.getDelegateTracer(e,t,r))?n:new L(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!=(e=this._delegate)?e:x},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null==(n=this._delegate)?void 0:n.getTracer(e,t,r)},e}(),N=r(41425),O="trace",C=(function(){function e(){this._proxyTracerProvider=new I,this.wrapSpanContext=S,this.isSpanContextValid=E,this.deleteSpan=h,this.getSpan=p,this.getActiveSpan=d,this.getSpanContext=y,this.setSpan=g,this.setSpanContext=v}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,o.$G)(O,this._proxyTracerProvider,N.K.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,o.mS)(O)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,o.kv)(O,N.K.instance()),this._proxyTracerProvider=new I},e})().getInstance()},99706:(e,t,r)=>{let n;r.d(t,{O9:()=>j,Bi:()=>A,bH:()=>M,gG:()=>P,xH:()=>z,ae:()=>K,iH:()=>H,$C:()=>N,oG:()=>V,sE:()=>D,o0:()=>G,rC:()=>F,VL:()=>q,rE:()=>$});let o=e=>crypto.getRandomValues(new Uint8Array(e));var i,a=r(74651),s=r(22077),u=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),c={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},l={set:function(e,t,r){null!=e&&(e[t]=r)}},f=r(21657),p=(0,r(12405).n)("OpenTelemetry Baggage Key");function d(e){return e.getValue(p)||void 0}function g(){return d(f._.getInstance().active())}function h(e,t){return e.setValue(p,t)}function v(e){return e.deleteValue(p)}var y=r(41425),m=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},b=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},E=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=m(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=new e(this._entries);try{for(var a=b(n),s=a.next();!s.done;s=a.next()){var u=s.value;i._entries.delete(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},e.prototype.clear=function(){return new e},e}();function S(e){return void 0===e&&(e={}),new E(new Map(Object.entries(e)))}y.K.instance();var w="propagation",_=new u,U=(function(){function e(){this.createBaggage=S,this.getBaggage=d,this.getActiveBaggage=g,this.setBaggage=h,this.deleteBaggage=v}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,s.$G)(w,e,y.K.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=l),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=c),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,s.kv)(w,y.K.instance())},e.prototype._getGlobalPropagator=function(){return(0,s.mS)(w)||_},e})().getInstance(),L=f._.getInstance(),x=r(46692);!function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(i||(i={}));var I=((e,t=21)=>((e,t,r)=>{let n=(2<<Math.log2(e.length-1))-1,o=-~(1.6*n*t/e.length);return (i=t)=>{let a="";for(;;){let t=r(o),s=0|o;for(;s--;)if((a+=e[t[s]&n]||"").length>=i)return a}}})(e,0|t,o))("1234567890abcdefghijklmnopqrstuvxyzABCDEFGHIJKLMNOPQRSTUVXYZ"),N=()=>I(12),O=a.ZU.Object({type:a.ZU.Literal("ACK")}),C=a.ZU.Object({type:a.ZU.Literal("CLOSE")}),Z=a.ZU.Object({type:a.ZU.Literal("HANDSHAKE_REQ"),protocolVersion:a.ZU.String(),sessionId:a.ZU.String(),expectedSessionState:a.ZU.Object({nextExpectedSeq:a.ZU.Integer(),nextSentSeq:a.ZU.Integer()}),metadata:a.ZU.Optional(a.ZU.Unknown())}),A=a.ZU.Union([a.ZU.Literal("SESSION_STATE_MISMATCH")]),R=a.ZU.Union([a.ZU.Literal("REJECTED_UNSUPPORTED_CLIENT"),a.ZU.Literal("REJECTED_BY_CUSTOM_HANDLER")]),T=a.ZU.Union([R,a.ZU.Literal("MALFORMED_HANDSHAKE_META"),a.ZU.Literal("MALFORMED_HANDSHAKE"),a.ZU.Literal("PROTOCOL_VERSION_MISMATCH")]),k=a.ZU.Union([A,T]),j=a.ZU.Object({type:a.ZU.Literal("HANDSHAKE_RESP"),status:a.ZU.Union([a.ZU.Object({ok:a.ZU.Literal(!0),sessionId:a.ZU.String()}),a.ZU.Object({ok:a.ZU.Literal(!1),reason:a.ZU.String(),code:k})])});a.ZU.Union([C,O,Z,j]);var M=(n=a.ZU.Unknown(),a.ZU.Object({id:a.ZU.String(),from:a.ZU.String(),to:a.ZU.String(),seq:a.ZU.Integer(),ack:a.ZU.Integer(),serviceName:a.ZU.Optional(a.ZU.String()),procedureName:a.ZU.Optional(a.ZU.String()),streamId:a.ZU.String(),controlFlags:a.ZU.Integer(),tracing:a.ZU.Optional(a.ZU.Object({traceparent:a.ZU.String(),tracestate:a.ZU.String()})),payload:n}));function D({from:e,to:t,sessionId:r,expectedSessionState:n,metadata:o,tracing:i}){return{id:N(),from:e,to:t,seq:0,ack:0,streamId:N(),controlFlags:0,tracing:i,payload:{type:"HANDSHAKE_REQ",protocolVersion:"v1.1",sessionId:r,expectedSessionState:n,metadata:o}}}function P(e){return{streamId:e,controlFlags:4,payload:{type:"CLOSE"}}}function G(e){return(1&e)==1}function F(e){return(4&e)==4}var $="0.26.11";function z(e){return e instanceof Error?e.message||"unknown reason":`[coerced to error] ${String(e)}`}function V(e){let t={traceparent:"",tracestate:""};return U.inject(e,t),t}function H(e,t,r,n){let o=n?U.extract(L.active(),n):L.active(),i=B.startSpan(`session ${e}`,{attributes:{component:"river","river.session.id":e,"river.session.to":t,"river.session.from":r}},o),a=x.u.setSpan(o,i);return{span:i,ctx:a}}function K(e,t,r,n,o){let a=L.active(),s=B.startSpan(`procedure call ${r}.${n}`,{attributes:{component:"river","river.method.kind":t,"river.method.service":r,"river.method.name":n,"river.streamId":o,"span.kind":"client"},kind:i.CLIENT},a),u=x.u.setSpan(a,s);return e.log?.info(`invoked ${r}.${n}`,{clientId:e.clientId,transportMessage:{procedureName:n,serviceName:r},telemetry:{traceId:s.spanContext().traceId,spanId:s.spanContext().spanId}}),{span:s,ctx:u}}var B=x.u.getTracer("river",$),q=B}}]);
//# sourceMappingURL=6751-f1f3e1fc4df645f5.js.map