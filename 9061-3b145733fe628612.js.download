!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="08aae3f8-3ff2-4fa4-8d02-120eb96300a0",e._sentryDebugIdIdentifier="sentry-dbid-08aae3f8-3ff2-4fa4-8d02-120eb96300a0")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"ef5ff8f4"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9061],{6609:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var n=r(34837),i=r(20519),o=r(40315),l=r(98444),a=r(701),u=r(95036),c=r(14106),s=Array.prototype.concat,f=function(e){return{recursive:!!e.recursive,bail:e.bail&&e.bail>0?e.bail:1e3}},d=function(e){return s.apply([],e)},p=function(e,t,r,n){return e.isDirectory?t.recursive?h(e,t,r+1,(0,c.join)(n,e.name)):Promise.resolve([]):new Promise(function(t,r){e.file?e.file(t,r):t(null)}).catch(function(){return null}).then(function(e){return e&&(e.dirPath=(0,c.join)(n,e.name)),e?[e]:[]})},h=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;if(!e||r>=t.bail||!e.isDirectory||!e.createReader)return Promise.resolve([]);var i=null!=n?n:e.name;return new Promise(function(n){e.createReader().readEntries(function(e){return Promise.all(e.map(function(e){return p(e,t,r,i)})).then(function(e){return n(d(e))})},function(){return n([])})})},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h("function"==typeof e.getAsEntry?e.getAsEntry():e.webkitGetAsEntry?e.webkitGetAsEntry():null,f(t))},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=f(t),new Promise(function(r){var n,i;(null==e||null==(n=e.dataTransfer)?void 0:n.items)?Promise.all(d(e.dataTransfer.items).filter(function(e){return"file"===e.kind}).map(function(e){return v(e,t).then(function(t){if(!t.length){var r=e.getAsFile();t=r?[r]:t}return t})})).then(function(e){return r(d(e))}):(null==e||null==(i=e.dataTransfer)?void 0:i.files)?r(d(e.dataTransfer.files)):r([])})},y=r(25189);document.addEventListener("drop",function(e){var t;(null==(t=e.dataTransfer)?void 0:t.files.length)&&e.preventDefault()});var m=null,w=null;function x(e){var t=function(e){var t=e.isTouchBackend;if(w&&t)return w;if(m&&!t)return m;var r={dragDropManager:(0,u.b)(function(e){var r=t?(0,a.qi)(e,void 0,{delayTouchStart:500}):(0,o.t2)(e),n=r.handleTopDropCapture;return r.handleTopDropCapture=function(e){var t,i=r.monitor.getItemType();i===l.HTML||i===l.TEXT||i===l.FILE?(r.dropTargetIds=[],null==(t=r.currentNativeSource)||t.loadDataTransfer(e.dataTransfer),r.enterLeaveCounter.reset()):n.call(r,e),r.currentNativeSource&&(r.currentNativeSource.item.dirContent=g(e,{recursive:!0}))},r})};return t?w=r:m=r,r}({isTouchBackend:(0,y.JD)()});return(0,n.Y)(i.M.Provider,{value:t,children:e.children})}},7471:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(17844),i=r(93629),o=r(34837),l=r(25590);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M14.558 2.724A6.25 6.25 0 0 1 23.202 8.5a6.249 6.249 0 0 1-1.832 4.42l-8.84 8.84a.75.75 0 0 1-1.06 0l-8.84-8.84a6.251 6.251 0 1 1 8.84-8.84l.53.53.53-.53a6.25 6.25 0 0 1 2.028-1.356ZM20.31 5.14a4.75 4.75 0 0 0-6.72 0L12.53 6.2a.75.75 0 0 1-1.06 0l-1.06-1.06a4.751 4.751 0 0 0-6.72 6.72L12 20.17l8.31-8.31a4.752 4.752 0 0 0 0-6.72Z",clipRule:"evenodd"})}))}},13481:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(17844),i=r(34837),o=r(21462),l=r(73496),a=r(860),u=r(23491),c=r(75994),s=r(90479),f=(0,o.memo)(s.Ay);function d(e){var t=e.source,r=e.sourcePos,o=e.fs,s=e.path,d=e.onCodeInsert,p=(0,u.l)(o,s),h=(0,l.A)(t,100),v=(0,a.A)(function(){return{img:p,a:function(e){return(0,i.Y)(c.A,(0,n._)({filePath:s},e))}}},[p,s]);return(0,i.Y)(f,{onCodeInsert:d,components:v,sourcePos:r,children:h})}},22550:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var n=r(21462),i=r(63806),o=r(41390),l=r(64850),a=r(40115),u=r(88233),c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,a.A)().dotReplit,r=(0,l.$)(t),c=(0,u.xi)();return(0,n.useCallback)(function(t){return!!(0,o.yU)(t)||!!e&&!c&&((0,o.rp)(t)||(0,i.RZ)(t)||(0,i._L)(t)||(0,o.Mo)(t,r))},[c,r,e])}},30764:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i,v:()=>o});var n=r(59270),i=function(e){return e.Media="Media",e.Binary="Binary",e.Code="Code",e.Markdown="Markdown",e.Draw="Draw",e}({});function o(e){return(0,n.e$)(e)?"Markdown":(0,n.P1)(e)?"Draw":(0,n.FN)(e)?"Media":(0,n.Go)(e)?"Binary":"Code"}},33868:(e,t,r)=>{"use strict";r.d(t,{Qq:()=>s,Zn:()=>f,lj:()=>u,wr:()=>c});var n=r(29935),i=r(86105),o=r(82643),l=r(41409),a=r(49555),u=function(e){return e.AlreadyExists="ALREADY_EXIST",e.FileRead="FILE_READ",e.Network="NETWORK",e}({}),c=0xc800000,s=1e6;function f(e){return(0,n._)(function(e){var t,r,u,f,d,p,h,v,g,y,m,w;return(0,o.YH)(this,function(x){switch(x.label){case 0:if(t=e.parentPath,r=e.overwrite,u=e.fs,f=e.files,d=e.onStart,p=e.onUpload,h=e.onError,v=e.onDone,g=e.envMigrationFlag,f.length>s)throw Error("Trying to upload too many files at once.");if(f.reduce(function(e,t){return t.size+e},0)>c)throw Error("Total file upload size exceeds maximum limit.");return y=function(e){var t=e.targetPath,i=e.file,l=e.progress;return(0,n._)(function(){var e,n;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(r)return[3,2];return[4,u.stat(t)];case 1:if(o.sent().exists)return h(e={file:i,path:t,error:"ALREADY_EXIST"}),[2,e];o.label=2;case 2:return[4,u.transferFile(t,i,function(e,t){l.current=t/e},g)];case 3:if(o.sent().error===a.Tr.NotReadable)return h(n={file:i,path:t,error:"FILE_READ"}),[2,n];return null==p||p({file:i,path:t}),[2,{path:t,file:i}]}})})()},m=f.map(function(e){var r=e.dirPath||e.webkitRelativePath||e.name;return{targetPath:t?t+"/"+r:r,progress:(0,l.F)(0),file:e}}),null==d||d(m),[4,Promise.all(m.map(y))];case 1:return w=x.sent(),null==v||v({parentPath:t,uploads:w.filter(function(e){return!("error"in e)}),errors:w.reduce(function(e,t){return"error"in t?(0,i._)(e).concat([t]):e},[])}),[2]}})}).apply(this,arguments)}},38693:e=>{e.exports={surface:"InlineCode_surface__XllZg"}},41390:(e,t,r)=>{"use strict";r.d(t,{Mo:()=>a,rp:()=>l,yU:()=>o});var n=r(1196);r(36163);var i=r(12111);function o(e){return".breakpoints"===e.toString()||".cache"===e.toString()||(0,n.fG)((0,n.mc)(".cache"),e)||".local"===e.toString()||(0,n.fG)((0,n.mc)(".local"),e)}function l(e){return i.ap.includes(e.toString())}function a(e,t){if(!t)return!1;var r=(0,n.q)(e).slice(1),i=!0,o=!1,l=void 0;try{for(var a,u=t[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=a.value,s=!0,f=!1,d=void 0;try{for(var p,h=r[Symbol.iterator]();!(s=(p=h.next()).done);s=!0)if(p.value.toString().match(c))return!0}catch(e){f=!0,d=e}finally{try{s||null==h.return||h.return()}finally{if(f)throw d}}}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}return!1}},42602:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,l:()=>n});var n="https://twitter.com/intent/tweet";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text,r=e.url,i=e.hashtags,o=e.via,l=new URLSearchParams;t&&l.append("text",t),r&&l.append("url",r),i&&l.append("hashtags",i.join(",")),o&&l.append("via",o);var a=l.toString();return a.length>0?"".concat(n,"?").concat(a):n}},43383:(e,t,r)=>{"use strict";r.d(t,{A:()=>S});var n=r(34837),i=r(19786),o=r(73712),l=r(70764),a=r(18712),u=r(40756),c=r(93868),s=r(73455),f=r(59784),d=r(91953),p=r(90233),h=r(25227),v=r(13298),g=r(64053),y=r(17844),m=r(93629),w=r(25590),x=function(e){return(0,n.Y)(w.Ay,(0,m._)((0,y._)({viewBox:"0 0 800.5 907.77"},e),{children:(0,n.Y)("path",{d:"M303.36,238.61c31.36-21.37,71.76-12.97,65-6.53c-12.89,12.28,4.26,8.65,6.11,31.31 c1.36,16.69-4.09,25.88-8.78,31.11c-9.79,1.28-21.69,3.67-36.02,8.33c-8.48,2.76-15.85,5.82-22.31,8.9 c-1.7-1.11-3.55-2.47-5.74-4.36C279.5,288.19,280.24,254.37,303.36,238.61 M490.68,370.72c5.69-4.41,31.55-12.72,55.49-15.55 c12.57-1.48,30.49-2.34,34.31-0.2c7.59,4.19,7.59,17.16,2.39,29.14c-7.57,17.4-18.27,36.63-30.39,38.21 c-19.77,2.61-38.46-8.09-59.8-24.03C485.06,392.56,480.38,378.68,490.68,370.72 M526.75,201.27c29.19,13.58,25.37,39.42,26.18,54.6 c0.22,4.36,0.15,7.3-0.22,9.32c-4.04-2.19-10.43-3.8-20.56-3.35c-2.96,0.12-5.84,0.47-8.63,0.91c-10.77-5.77-17.21-17.06-23.1-29.06 c-0.54-1.11-0.96-2.1-1.36-3.06c-0.17-0.44-0.35-0.91-0.52-1.31c-0.07-0.22-0.12-0.39-0.2-0.59c-3.23-10.25-1.06-12.3,0.3-15.46 c1.41-3.23,6.68-5.89-1.11-8.58c-0.67-0.25-1.5-0.39-2.44-0.57C500.25,197.72,515.7,196.17,526.75,201.27 M367.62,510.22 c-31.45-20.19-63.99-49.15-78.22-65.18c-2.39-1.8-2-9.79-2-9.79c12.84,9.98,66.11,48.04,122.44,65.42 c19.87,6.14,50.36,8.46,76.81-6.53c20.21-11.46,44.54-31.43,59.06-52.01l2.66,4.61c-0.1,3.06-6.78,17.97-10.18,23.96 c6.14,3.53,10.72,4.49,17.55,6.36l46.64-7.27c16.74-27.04,28.74-70.65,15.95-112.16c-7.3-23.81-45.36-71.22-48.09-73.83 c-9.56-9.19,1.6-44.69-17.35-83.42C532.86,159.41,480.67,116.69,458,98.1c6.68,4.88,47.82,21.47,67,44.62 c1.8-2.39,2.54-14.82,4.19-17.97c-16.47-21.57-17.75-59.95-17.75-70.21c0-18.81-9.56-40.13-9.56-40.13s16.47,13.04,20.73,35.5 c5.03,26.6,15.75,47.55,29.93,65.28c26.84,33.43,51.08,50.58,63.33,38.23C630.53,138.58,601,72.2,563.28,35.15 C519.25-8.09,507.74-2.52,481.91,6.7c-20.61,7.35-31.75,65.87-85.47,64.71c-9.1-1.06-32.54-1.63-44.13-1.53 c6.04-8.43,11.22-14.94,11.22-14.94s-18.02,7.25-33.38,16.44l-1.18-1.77c5.18-10.92,10.75-17.82,10.75-17.82s-14.4,8.65-27.54,19.01 c2.39-13.02,11.44-21.27,11.44-21.27s-18.19,3.28-41.36,28.77c-26.33,7.2-32.66,11.93-53.64,21.22 c-34.12-7.44-50.21-19.45-65.55-41.56c-11.68-16.89-32.47-19.45-53.71-10.72c-30.97,12.8-70.14,30.33-70.14,30.33 s12.77-0.52,26.08,0.05c-18.22,6.9-35.72,16.39-35.72,16.39s8.53-0.3,19.06-0.12c-7.27,6.04-11.29,8.92-18.22,13.51 c-16.66,12.1-30.17,26.08-30.17,26.08s11.31-5.15,21.47-8.04c-7.1,16.27-21.18,28.25-18.59,48.17 c2.49,18.19,24.82,55.66,53.64,78.66c2.49,2,41.86,38.43,71.56,23.47c29.68-14.94,41.39-28.25,46.27-48.66 c5.74-23.44,2.47-41.17-9.79-92.05c-4.04-16.79-14.57-51.37-19.65-67.91l1.13-0.81c9.71,20.49,34.56,74.5,44.57,110.78 c15.63,56.57,10.75,85.27,3.6,95.79c-21.57,31.73-76.84,35.92-101.98,18.34c-3.85,60.91,9.76,87.73,14.37,101.24 c-2.29,15.53,7.77,44.37,7.77,44.37s1.13-13.11,5.74-20.02c1.23,15.41,9,33.72,9,33.72s-0.47-11.31,3.06-21.08 c4.98,8.43,8.63,10.43,13.34,16.76c4.71,16.47,14.15,28.5,14.15,28.5s-1.53-8.83-0.69-18.02c23.05,22.14,27.02,54.45,29.31,79.28 c6.46,68.26-107.63,122.54-129.74,165.24c-16.76,25.29-26.8,65.3,1.58,88.89c68.6,56.97,42.25,72.65,76.59,97.69 c47.11,34.34,106.05,18.96,126.11-8.97c27.93-38.92,20.76-75.63,10.38-109.97c-8.11-26.85-30.15-71.46-57.41-88.72 c-27.86-17.65-54.95-20.95-77.9-18.59l2.12-2.44c33.01-6.56,67.52-2.96,92.49,13.14c28.35,18.22,54.28,49.47,67.84,97.37 c15.38-2.19,17.55-3.18,31.63-5.18l-31.7-246.76L367.62,510.22z M385.94,819.52l-3.65-34.22l71.29-108.74l80.93,23.64l69.59-116.23 L687.52,639l63.38-132.92l22.53,242.07L385.94,819.52z M774.27,456.51l-254.72,46.17c-6.31,8.13-21.91,22.41-29.41,26.13 c-32.17,16.2-53.91,11.51-72.7,6.63c-12.08-3.06-19.08-4.78-29.11-9.29l-62.17,8.53l37.74,314.87l436.35-78.66L774.27,456.51z"})}))},D=r(63731),b=(0,l.x)({styles0:[{alignItems:"center"}],styles1:[a.wp.align.center]});function S(e){var t=e.replId,r=e.showFlag,l=e.buttonsOnly,a=(0,o.D)().isDarkColorScheme;return(0,n.FD)(n.FK,{children:[(0,n.Y)(c.v,{href:"https://us5.datadoghq.com/logs?"+new URLSearchParams({query:"@replid:".concat(t)}).toString(),iconLeft:(0,n.Y)(x,{color:a?"#FFFFFF":"#632CA6"}),iconRight:(0,n.Y)(v.A,{}),target:"_blank",text:"View Datadog Logs by Repl ID"}),(0,n.Y)(c.v,{href:"https://us5.datadoghq.com/logs?"+new URLSearchParams({query:"@replid:".concat(t),agg_q:"@containerid",agg_q_source:"base",cols:"host,service",messageDisplay:"inline",stream_sort:"desc",top_n:"30",top_o:"top",viz:"transaction",x_missing:"true",live:"true"}).toString(),iconLeft:(0,n.Y)(x,{color:a?"#FFFFFF":"#632CA6"}),iconRight:(0,n.Y)(v.A,{}),target:"_blank",text:"View Datadog Logs by Container ID"}),void 0!==l&&l?(0,n.Y)(p.m_,{maxWidth:300,tooltip:(0,n.Y)(d.EY,{multiline:!1,children:t}),children:(0,n.Y)(u.$n,{iconLeft:(0,n.Y)(g.A,{}),text:"Copy Repl ID",onClick:function(){return(0,i.default)(t)}})}):(0,n.FD)(h.S,{css:b.styles0,row:!0,gap:2,children:[void 0!==r&&r?(0,n.FD)(p.m_,{tooltip:"You are seeing this functionality because you have special permissions.",children:[(0,n.Y)(D.A,{})," "]}):null,(0,n.FD)(d.EY,{css:b.styles1,multiline:!1,children:["Repl ID: ",(0,n.Y)(f.R,{children:t})]}),(0,n.Y)(s.K0,{alt:"Copy to clipboard",onClick:function(){return(0,i.default)(t)},children:(0,n.Y)(g.A,{})})]})]})}},46138:(e,t,r)=>{"use strict";r.d(t,{J:()=>ni,u:()=>nn});var n,i,o,l,a,u=r(83846),c=r(86105),s=r(34837),f=r(21462),d=r(49555),p=r(77135),h=r(14229),v=r(29935),g=r(12694),y=r(82643),m=r(76957),w=r(59270),x=r(35992),D=r(69737),b=r(63806),S=r(36163),_=r(1874),U=r(41390),P=r(82120),Y="No files",A="Loading...";function R(e,t){var r=t.fromIndex;if("next"===t.dir){for(var n=r+1;n<e.length;n++){var i=e[n];if(i&&("dir"===i.type||"file"===i.type))return i}return null}for(var o=r-1;o>=0;o--){var l=e[o];if(l&&("dir"===l.type||"file"===l.type))return l}return null}function E(e,t,r){if(r){var n=b.ap.includes(t.filename),i=b.ap.includes(e.filename);if(n&&!i)return -1;if(!n&&i)return 1;var o=b.UC.includes(t.filename),l=b.UC.includes(e.filename);if(o&&!l)return -1;if(!o&&l)return 1}return t.type===d.pt.Directory&&e.type!==d.pt.Directory?1:e.type===d.pt.Directory&&t.type!==d.pt.Directory?-1:(0,w.yh)(e.filename,t.filename)}function C(e){var t=e.row,r=e.baseDepth;return"dir"===t.type||"file"===t.type||"uploadFile"===t.type?t.path===S.Dl?0:(0,w.jP)(t.path)-1-r:t.dir===S.Dl?0:(0,w.jP)(t.dir)-r}var F=function(e,t){return e===S.Dl?t:e+"/"+t},k=function(e,t){return e===S.Dl&&1===(0,w.jP)(t)||(0,_.GG)(e,t)},T=(0,m.eU)(new Map),I=(0,m.eU)({width:0,height:0}),z=(0,m.eU)(0),L=(0,m.eU)(null),M=(0,m.eU)(new Map),N=(0,m.eU)(function(e){var t;return null!=(t=e(B).root)?t:S.Dl}),O=(0,m.eU)(null),Z=(0,m.eU)(void 0),H=(0,m.eU)(null),W=(0,m.eU)(null,function(e,t,r){e(q)||t(H,r)}),j=(0,m.eU)(function(e){var t=e(B).root,r=void 0===t?S.Dl:t;return r===S.Dl?0:(0,w.jP)(r)}),G=(0,m.eU)(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=0,i=!0,o=!1,l=void 0;try{for(var a,u=(0,c._)(e.values()).sort(function(e,t){return e.index-t.index})[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var s=a.value,f={height:s.height,y:s.y,cols:[]};if(r.push(f),0!==s.depth){var d=s.depth+t;d>n&&(n=d);for(var p="divider"===s.row.type||"error"===s.row.type||"create"===s.row.type||"emptyDir"===s.row.type?s.row.dir:(0,w._6)(s.row.path),h=p.split("/"),v=0;v<(0,w.jP)(p);v++){var y=h.slice(0,Number(v+1)).join("/");f.cols.push(y)}}}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}for(var m=new Map,x=t;x<n;x++){var D=[];m.set(x,D);var b=!0,S=!1,_=void 0;try{for(var U,P=r[Symbol.iterator]();!(b=(U=P.next()).done);b=!0){var Y=U.value,A=Y.cols[x],R=Y.y;if(A){var E=D[D.length-1];E&&E.y+E.height===R?E.height+=Y.height:D.push({y:R,height:Y.height,dir:A,depth:x-t})}}}catch(e){S=!0,_=e}finally{try{b||null==P.return||P.return()}finally{if(S)throw _}}}var C=[],F=!0,k=!1,T=void 0;try{for(var I,z=m[Symbol.iterator]();!(F=(I=z.next()).done);F=!0){var L=(0,g._)(I.value,2),M=(L[0],L[1]);C.push.apply(C,(0,c._)(M))}}catch(e){k=!0,T=e}finally{try{F||null==z.return||z.return()}finally{if(k)throw T}}return C}(e(M),e(j))}),X=(0,m.eU)(!1),K=(0,m.eU)(null,function(e,t,r){var n=new Map,i=e(ev),o=e(j),l=!0,a=!1,u=void 0;try{for(var c,s=r.rows[Symbol.iterator]();!(l=(c=s.next()).done);l=!0){var f=c.value,d=f.key.toString(),p=i[f.index];if(p){var h=Math.max(0,C({row:p,baseDepth:o}));n.set(f.index,{y:f.start+8,height:f.size,index:f.index,key:d,depth:h,row:p})}}}catch(e){a=!0,u=e}finally{try{l||null==s.return||s.return()}finally{if(a)throw u}}t(M,n),t(z,r.scrollHeight+16)}),B=(0,m.eU)({}),V=(0,D.mg)(B,function(e){var t;return null!=(t=e.onContextMenu)?t:null}),q=(0,m.eU)(function(e){return!!e(B).readOnly||!e(X)}),J=(0,m.eU)(function(e){var t;return null!=(t=e(B).fontSize)?t:14}),$=function(e,t){if("divider"===t)switch(e){case 10:return 28;case 12:case 13:case 14:return 38;case 18:return 44;default:return 48}switch(e){case 10:return 18;case 12:case 13:return 24;case 14:return 32;case 18:return 38;default:return 40}},Q=(0,m.eU)(function(e){return $(e(J),"file")}),ee=function(e){switch(e){case 10:case 12:return 12;case 13:case 14:return 16;case 18:return 20;default:return 24}},et=(0,m.eU)(function(e){return ee(e(J))}),er=(0,m.eU)(function(e){return 14>e(J)?4:8}),en=(0,m.eU)(function(e){return 14>=e(J)?4:8}),ei=(0,m.eU)(function(e){return 13===e(J)?6:16>e(J)?4:8}),eo=function(e){switch(e){case 10:return 10;case 12:case 13:case 14:return 12;case 18:return 14;default:return 18}},el=function(e){switch(e){case 10:return 12;case 12:case 13:return 16;case 14:return 24;case 18:return 32;default:return 40}},ea=(0,m.eU)(function(e){return el(e(J))}),eu=(0,m.eU)(function(e){return eo(e(J))}),ec=function(e){switch(e){case 10:case 12:case 13:return 10;case 14:case 18:return 16;default:return 20}},es=(0,m.eU)(function(e){return ec(e(J))}),ef=(0,m.eU)(new Map);function ed(e){var t=e.filename;return b.ap.includes(t)?"Config files":b.UC.includes(t)?"Packager files":null}var ep=(0,m.eU)([]),eh=(0,m.eU)([]),ev=(0,m.eU)(function(e){var t,r,n=e(B),i=n.filter,o=n.alwaysShowCreateRow,l=n.root,a=void 0===l?S.Dl:l,u=n.sort,s=n.readOnly;return function(e){var t=e.root,r=void 0===t?S.Dl:t,n=e.dirInfo,i=e.filter,o=e.sort,l=e.getSection,a=e.readOnly,u=e.pendingUploads,s=e.pendingMoves,f=e.pathBeingRenamed,p=e.alwaysShowCreateRow,h=[],v=(null==u?void 0:u.length)?function(e){var t=new Map,r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var a=o.value,u=(0,w._6)(a.targetPath)||S.Dl,c=t.get(u),s={filename:(0,w.WP)(a.targetPath),progress:a.progress};c?c.push(s):t.set(u,[s])}}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return t}(u):null,y=new Map,m=new Map;if(null==s?void 0:s.length){var x=!0,D=!1,b=void 0;try{for(var _,Y=s[Symbol.iterator]();!(x=(_=Y.next()).done);x=!0){var A=_.value,R=A.from,E=A.to;y.set(R.path,R.type),m.set(E,R.type)}}catch(e){D=!0,b=e}finally{try{x||null==Y.return||Y.return()}finally{if(D)throw b}}}return!function e(t){var u=n.get(t);if(!(!u||y.has(t))&&u.expanded){if(t===r&&u.loading&&!u.children)return void h.push({type:"dir",path:t});if(u.error)return void h.push({type:"error",message:u.error.message,dir:t});var s=u.children?(0,c._)(u.children):void 0;(s=null==s?void 0:s.filter(function(e){return!(0,U.yU)(e.filename)}))&&y.size>0&&(s=s.filter(function(e){return!y.has(F(t,e.filename))}));var x=!0,D=!1,b=void 0;try{for(var _,Y=m[Symbol.iterator]();!(x=(_=Y.next()).done);x=!0)!function(){var e=(0,g._)(_.value,2),r=e[0],n=e[1];if(!k(t,r))return;var i=(0,w.WP)(r);if(null==s?!void 0:!s.some(function(e){return e.filename===i}))s||(s=[]),s.push({filename:i,type:n})}()}catch(e){D=!0,b=e}finally{try{x||null==Y.return||Y.return()}finally{if(D)throw b}}var A=null==v?void 0:v.get(t);if(A){s||(s=[]);var R=!0,E=!1,C=void 0;try{for(var T,I=A[Symbol.iterator]();!(R=(T=I.next()).done);R=!0){var z=T.value,L=z.filename,M=z.progress;s.push({filename:L,type:d.pt.File,progress:M})}}catch(e){E=!0,C=e}finally{try{R||null==I.return||I.return()}finally{if(E)throw C}}}if(s){if(!u.create&&!A&&s&&0===s.length)return void h.push({type:a?"emptyDir":"create",dir:t});var N=function(e,t){var r=t.getSection,n=[],i=new Map,o=!0,l=!1,a=void 0;try{for(var u,c=e[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var s=u.value,f=r(s),p=s.progress?{type:"upload",progress:s.progress,filename:s.filename}:{type:s.type===d.pt.File?"file":"dir",filename:s.filename};if(!f){n.push(p);continue}var h=i.get(f);if(h){h.push(p);continue}i.set(f,[p])}}catch(e){l=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw a}}var v=!0,y=!1,m=void 0;try{for(var w,x=i[Symbol.iterator]();!(v=(w=x.next()).done);v=!0){var D=(0,g._)(w.value,2),b=D[0],S=D[1];n.push({type:"divider",label:b}),(0,P.Yv)(n,S)}}catch(e){y=!0,m=e}finally{try{v||null==x.return||x.return()}finally{if(y)throw m}}return n}(s.filter(i).sort(function(e,n){return o(e,n,t===r)}),{getSection:t===S.Dl?l:function(){return null}}),O=-1,Z=!0,H=!1,W=void 0;try{for(var j,G=N[Symbol.iterator]();!(Z=(j=G.next()).done);Z=!0)!function(){var r=j.value;if("error"===r.type||"emptyDir"===r.type)throw Error("Expected dir, file, or divider row");if("divider"===r.type)return -1===O&&(O=h.length),h.push({type:"divider",dir:t,label:r.label});var i=F(t,r.filename);if("dir"===r.type){var o={type:"dir",path:i};f===i&&(o.rename=!0),m.has(i)&&(o.pending=!0);var l=null==v?void 0:v.get(i);if(l&&(o.uploadProgress=l.map(function(e){return e.progress})),h.push(o),!n.get(i))return;e(i)}else if("upload"===r.type)h.push({type:"uploadFile",path:i,progress:r.progress});else if(!A||!A.some(function(e){return e.filename===r.filename})){var a={type:"file",path:i};f===i&&(a.rename=!0),m.has(i)&&(a.pending=!0),h.push(a)}}()}catch(e){H=!0,W=e}finally{try{Z||null==G.return||G.return()}finally{if(H)throw W}}if(u.create||p){var X={type:"create",dir:t,fileType:u.create?u.create:void 0};-1===O?h.push(X):h.splice(O,0,X)}}}}(r),h}({root:a,dirInfo:e(ef),filter:i,sort:void 0===u?E:u,readOnly:void 0!==s&&s,getSection:ed,pendingUploads:e(ep),pathBeingRenamed:null!=(t=e(H))?t:void 0,pendingMoves:null!=(r=e(eh))?r:void 0,alwaysShowCreateRow:o})}),eg=(0,m.eU)(function(e){var t=e(L);if(!t)return null;var r=e(ev).findIndex(function(e){return("file"===e.type||"dir"===e.type)&&e.path===t});return -1!==r?r:null}),ey=(0,m.eU)(null,function(e,t,r){var n,i=e(eg),o=e(L);if((null==(n=document.activeElement)?void 0:n.tagName)!=="INPUT"&&null!==i&&null!==o){var l=e(ev);switch(r.key){case"ArrowDown":r.preventDefault();var a=R(l,{dir:"next",fromIndex:i});((null==a?void 0:a.type)==="dir"||(null==a?void 0:a.type)==="file")&&t(L,a.path);return;case"ArrowUp":r.preventDefault();var u=R(l,{dir:"previous",fromIndex:i});((null==u?void 0:u.type)==="dir"||(null==u?void 0:u.type)==="file")&&t(L,u.path);return;case"ArrowLeft":case"ArrowRight":r.preventDefault();var c=e(ef).get(o);if(!c)return;"ArrowLeft"===r.key&&c.expanded?t(ex,o):"ArrowRight"!==r.key||c.expanded||t(eb,o);return;case"Enter":case" ":if("Enter"===r.key&&!e(q))return;if(e(ef).has(o))return void t(eS,o);e(B).onFileSelect({event:r,path:o,type:"keydown"});return}}}),em=(0,m.eU)(null,function(e,t,r){var n;r.path===(null!=(n=e(B).root)?n:S.Dl)&&t(X,!0),t(ef,function(e){return(0,x.jM)(e,function(e){var t=r.path===S.Dl?null:r.path+"/",n=!0,i=!1,o=void 0;try{for(var l,a=r.children[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var u,c=l.value,s=t?t+c.filename:c.filename,f=e.get(s);if(c.type!==d.pt.Directory){f&&(null==(u=f.disposeWatcher)||u.call(f),e.delete(s));continue}f||e.set(s,{expanded:!1})}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}var p=e.get(r.path);p&&(p.children=r.children,p.loading=!1,p.error=void 0)})})}),ew=(0,m.eU)(null,function(e,t,r){var n;r.path===(null!=(n=e(B).root)?n:S.Dl)&&t(X,!0),t(ef,function(e){return(0,x.jM)(e,function(e){var t,n=e.get(r.path);n&&(n.loading=!1,n.error=r.error,null==(t=n.disposeWatcher)||t.call(n),n.disposeWatcher=null)})})}),ex=(0,m.eU)(null,function(e,t,r){var n=Array.isArray(r)?r:[r];t(ef,function(e){return(0,x.jM)(e,function(e){var t=!0,r=!1,i=void 0;try{for(var o,l=n[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var a=o.value,u=e.get(a);u&&(u.expanded=!1,u.loading=!1,u.disposeWatcher&&(u.disposeWatcher(),u.disposeWatcher=null))}}catch(e){r=!0,i=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw i}}})})}),eD=(0,m.eU)(null,function(e,t,r){t(ef,function(e){return(0,x.jM)(e,function(e){var t,n=e.get(r);n&&(null==(t=n.disposeWatcher)||t.call(n),e.delete(r))})})}),eb=(0,m.eU)(null,function(e,t,r){var n=Array.isArray(r)?r:[r],i=e(B).fs;t(ef,function(e){return(0,x.jM)(e,function(e){var r=!0,o=!1,l=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)!function(){var r,n=a.value,o=null!=(r=e.get(n))?r:{expanded:!0};e.has(n)?o.expanded=!0:e.set(n,o),o.disposeWatcher?o.disposeWatcher():o.loading=!0,o.disposeWatcher=i.watchDir(n,{onError:function(e){return t(ew,{path:n,error:e})},onChange:function(e){return t(em,{path:n,children:e})},onMoveOrDelete:function(){return t(eD,n)}})}()}catch(e){o=!0,l=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw l}}})})}),eS=(0,m.eU)(null,function(e,t,r){var n=e(ef).get(r);if(!n){t(ef,function(e){return(0,x.jM)(e,function(e){e.set(r,{expanded:!1})})}),t(eb,r);return}n.expanded?t(ex,r):t(eb,r)}),e_=(0,m.eU)(function(e){return e(B).manageWidth?e(X)?function(e){var t=e.rows,r=e.baseDepth,n=[],i=new Map,o=!0,l=!1,a=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var s=u.value,f=function(e){var t=e.row,r=C({row:t,baseDepth:e.baseDepth});switch(t.type){case"file":case"dir":case"uploadFile":return{text:(0,w.WP)(t.path),depth:r};case"error":return{text:t.message,depth:r};case"divider":return{text:t.label,depth:r};case"create":case"emptyDir":return{text:Y,depth:r}}}({row:s,baseDepth:r}),d=f.depth,p=f.text,h=i.get(d);if(!h){i.set(d,new Map([[s.type,p]]));continue}var v=h.get(s.type);v&&(null==v?void 0:v.length)>p.length||h.set(s.type,p)}}catch(e){l=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw a}}var y=!0,m=!1,x=void 0;try{for(var D,b=i[Symbol.iterator]();!(y=(D=b.next()).done);y=!0){var S=(0,g._)(D.value,2),_=S[0],U=S[1],P=!0,A=!1,R=void 0;try{for(var E,F=U[Symbol.iterator]();!(P=(E=F.next()).done);P=!0){var k=(0,g._)(E.value,2),T=k[0],I=k[1];n.push({depth:_,type:T,text:I})}}catch(e){A=!0,R=e}finally{try{P||null==F.return||F.return()}finally{if(A)throw R}}}}catch(e){m=!0,x=e}finally{try{y||null==b.return||b.return()}finally{if(m)throw x}}return n}({rows:e(ev),baseDepth:e(j)}):[{type:"dir",text:A,depth:1}]:null}),eU=(0,m.eU)(null,function(e,t,r){var n=e(B).onCreateStart;if(n)return void n({parentPath:r.parentPath,fileType:r.fileType});t(eb,r.parentPath),t(ef,function(e){return(0,x.jM)(e,function(e){var t=e.get(r.parentPath);t&&(t.create=r.fileType)})}),t(L,null)}),eP=(0,m.eU)(null,function(e,t,r){t(ef,function(e){return(0,x.jM)(e,function(e){var t=e.get(r);t&&(t.create=void 0)})})}),eY=(0,m.eU)(null,function(e,t,r){var n={path:r.path,type:r.fileType};t(L,n.path),t(eF,{node:n}),t(ef,function(e){return(0,x.jM)(e,function(e){var t=e.get(r.parentPath);t&&(t.create=void 0)})}),n.type===d.pt.Directory&&t(eb,n.path)}),eA=(0,m.eU)(new Map),eR=(0,m.eU)(null),eE=(0,m.eU)(function(e){var t,r;return null!=(r=null==(t=e(eR))?void 0:t.path)?r:null}),eC=(0,m.eU)(!0),eF=(0,m.eU)(null,function(e,t,r){var n=r.node,i=r.mode,o=e(ev),l=e(eR);t(eC,!i),t(eA,function(e){return(0,x.jM)(e,function(e){!function(e,t){var r=t.node,n=t.rows,i=t.mode,o=t.anchor;if(!i){e.clear(),e.set(r.path,r.type);return}if("multi"===i&&e.has(r.path))return e.delete(r.path);if("multi"===i)return e.set(r.path,r.type);var l=r.type===d.pt.Directory?"dir":"file",a=n.findIndex(function(e){return e.type===l&&e.path===r.path});if(-1!==a){var u=(null==o?void 0:o.type)===d.pt.Directory?"dir":"file",c=o?n.findIndex(function(e){return e.type===u&&e.path===o.path}):-1;if(-1!==c){var s=c<a?n.slice(c,a+1):n.slice(a,c+1),f=!0,p=!1,h=void 0;try{for(var v,g=n[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var y=v.value;("file"===y.type||"dir"===y.type)&&(s.includes(y)?e.set(y.path,"file"===y.type?d.pt.File:d.pt.Directory):e.delete(y.path))}}catch(e){p=!0,h=e}finally{try{f||null==g.return||g.return()}finally{if(p)throw h}}}}}(e,{node:n,rows:o,mode:i,anchor:l})})});var a=e(eA);if(!(a.size>1)){var u=!0,c=!1,s=void 0;try{for(var f,p=a[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=(0,g._)(f.value,2),v=h[0],y=h[1];t(eR,{path:v,type:y})}}catch(e){c=!0,s=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw s}}}}),ek=(0,m.eU)(null,function(e,t){t(eA,new Map),t(eC,!0),t(eR,null)}),eT=(0,m.eU)(null,function(e,t,r){return(0,v._)(function(){var n,i,o;return(0,y.YH)(this,function(l){switch(l.label){case 0:return n=e(B).fs,[4,Promise.all(r.map(function(e){return(0,v._)(function(){var t;return(0,y.YH)(this,function(r){switch(r.label){case 0:return[4,n.readDir(e)];case 1:return[2,(t=r.sent()).error?t:{path:e,children:t.children,error:null}]}})})()}))];case 1:if((o=(i=l.sent()).filter(function(e){return null!==e.error})).length)return[2,{errors:o}];return t(ef,function(e){return(0,x.jM)(e,function(e){var t=!0,r=!1,n=void 0;try{for(var o,l=i[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var a=o.value;if(a.error)throw Error("Unexpected error");var u=e.get(a.path);if(!u){e.set(a.path,{loading:!1,expanded:!0,children:a.children,error:void 0});continue}u.loading=!1,u.expanded=!0,u.children=a.children,u.error=void 0}}catch(e){r=!0,n=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw n}}})}),[2,{errors:null}]}})})()}),eI=(0,m.eU)(null,function(e,t,r){return(0,v._)(function(){var n,i,o,l,a,u,s,f,d;return(0,y.YH)(this,function(p){switch(p.label){case 0:n=e(ef),i=[],o=!0,l=!1,a=void 0;try{var h;for(u=((h=r.path.split("/")).pop(),[S.Dl].concat((0,c._)(h.map(function(e,t){return h.slice(0,t+1).join("/")}))))[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)f=s.value,null!=(d=n.get(f))&&d.expanded||i.push(f)}catch(e){l=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(l)throw a}}if(!i.length)return[3,2];return[4,t(eT,i)];case 1:p.sent(),p.label=2;case 2:return t(eF,{node:r}),[2]}})})()}),ez=(0,m.eU)(null),eL=(0,m.eU)(null,function(e,t,r){var n=e(ez);if(n)for(var i=e(ev),o=0;o<i.length;o++){var l=i[o];if(("file"===l.type||"dir"===l.type)&&l.path===r&&!(o>n.options.count-1)){n.scrollToIndex(o);break}}}),eM=r(79203),eN=r(26325),eO=r(56813),eZ=(0,f.createContext)(null);function eH(e){return(0,s.Y)(eZ.Provider,{value:e.store,children:e.children})}function eW(){var e=(0,f.useContext)(eZ);if(!e)throw Error("Expected store in context");return e}function ej(e){return(0,eM.md)(e,{store:eW()})}function eG(e){return(0,eO.k)(e,eW())}var eX=function(e){return(0,eM.Xr)(e,{store:eW()})};function eK(e){return(0,eN.yF)((0,f.useCallback)(function(t){return t(e)},[e]),{store:eW()})}var eB=(0,m.eU)(null),eV=(0,m.eU)(null,function(e,t,r){var n=[r];if(!e(eC)){var i=!0,o=!1,l=void 0;try{for(var a,u=e(eA)[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=(0,g._)(a.value,2),s=c[0],f=c[1];r.path!==s&&n.push({path:s,type:f})}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}}t(eB,(0,w.Ag)(n))}),eq=r(17739),eJ=r(2094),e$=r(53501),eQ=r(98444),e0=r(47993),e1=r(74651),e2=r(97858),e5=r(69945),e4=r.n(e5),e3=r(72138),e7=r(35897),e6=r(27600),e8=r(35141),e9=r.n(e8),te=r(88166),tt=r(33868),tr=r(44232),tn=r(93707),ti=r(23099),to=r.n(ti),tl=r(98565),ta=r(860),tu=r(60910),tc=r(65511);function ts(e){var t=e.fileName,r=e.parentPath,n=r===S.Dl?"":r+"/",i=n+t,o=i.split("/");return{pathPrefix:n,newFilePath:i,segments:o}}function tf(e){return(0,v._)(function(e){var t,r,n,i,o,l,a,u,c,s,f,d,p,h,v,m,x,D,b;return(0,y.YH)(this,function(y){switch(y.label){case 0:if(t=e.fileName,r=e.parentPath,n=e.fs,t.startsWith("/"))return[2,"File names cannot include forward slashes"];o=(i=ts({fileName:t,parentPath:r})).pathPrefix,l=i.newFilePath,a=i.segments,u=!0,c=!1,s=void 0,y.label=1;case 1:y.trys.push([1,7,8,9]),f=Object.entries(a)[Symbol.iterator](),y.label=2;case 2:if(u=(d=f.next()).done)return[3,6];if(h=(p=(0,g._)(d.value,2))[0],v=p[1],m=Number(h),x=[],m!==a.length-1)return[3,4];return[4,n.stat(l)];case 3:y.sent().exists&&x.push((0,w.WP)(l)),y.label=4;case 4:if(!(D=(0,tc.U)({fileName:v,siblingNames:x,parentPath:o+a.slice(0,m).join("/")})))return[3,5];return[2,D];case 5:return u=!0,[3,2];case 6:return[3,9];case 7:return b=y.sent(),c=!0,s=b,[3,9];case 8:try{u||null==f.return||f.return()}finally{if(c)throw s}return[7];case 9:return[2,null]}})}).apply(this,arguments)}function td(e){var t=ts({fileName:e.fileName,parentPath:e.parentPath}),r=t.pathPrefix,n=t.segments,i=!0,o=!1,l=void 0;try{for(var a,u=Object.entries(n)[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=(0,g._)(a.value,2),s=c[0],f=c[1],d=Number(s),p=(0,tc.U)({fileName:f,siblingNames:[],parentPath:r+n.slice(0,d).join("/")});if(p)return p}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}return null}var tp=r(19944),th=r(18712),tv=(0,tp.v)(["scrollHeight","fontSize","fontSizeSmall","iconSize","horizontalPadding","borderRadius","gutterWidth","minHeight","iconTextGap","rowWidth","rowHeight","rowLeftIndent","rowY","dropPreviewDepth","dropPreviewHeight","dropPreviewY","dropPreviewOpacity","strokeDashoffset","statusColor","statusBackgroundColor","dirStatusIconSize","nodeBackgroundColor","dragPreviewX","dragPreviewY","contextMenuButtonDisplay","hasUnsavedChangesDisplay"]),tg=tv.cssVars,ty=tv.styleTokens,tm={paddingLeft:ty.horizontalPadding,paddingRight:ty.horizontalPadding},tw={"&& svg":{minWidth:ty.iconSize+" !important",minHeight:ty.iconSize+" !important",width:ty.iconSize+" !important",height:ty.iconSize+" !important"}},tx=[th.wp.truncate,{fontSize:ty.fontSize}];function tD(e,t){return e.shiftKey?"bulk":"altKey"===t&&e.altKey||"cmdOrCtrlKey"===t&&(0,tu.T$)(e)?"multi":void 0}var tb=(0,m.eU)(null,function(e,t,r){var n=r.event,i=r.path;t(L,i);var o=e(B).multiselectModifierKey;t(eF,{node:{path:i,type:d.pt.Directory},mode:o?tD(n,o):void 0}),t(L,i),n.shiftKey||n.altKey||(0,tu.T$)(n)||t(eS,i)});function tS(){return{fontSize:eG(J),fontSizeSmall:eG(eu),iconSize:eG(et),scrollHeight:eG(z),horizontalPadding:eG(er),borderRadius:eG(en),gutterWidth:eG(es),minHeight:eG(Q),iconTextGap:eG(ei)}}function t_(e){return ej((0,ta.A)(function(){return(0,D.mg)(L,function(t){return t===e?0:-1})},[e]))}function tU(e){return ej((0,ta.A)(function(){return(0,D.mg)(M,function(t){var r,n=t.get(e);return n?{style:(r={},(0,u._)(r,tg.rowHeight,n.height+"px"),(0,u._)(r,tg.rowY,n.y+"px"),(0,u._)(r,tg.rowLeftIndent,"calc(".concat(n.depth," * ").concat(ty.gutterWidth,")")),r),depth:n.depth}:void 0},to())},[e]))}function tP(e){var t=e.index,r=e.path,n=(0,f.useRef)(null),i=eG(L);return(0,f.useEffect)(function(){var e=function(e){var t;null==(t=n.current)||t.setAttribute("tabIndex",e.toString())},o=function(n){if(!n)return void e(0===t?0:-1);e(n===r?0:-1)};return o(i.current),i.subscribe(o)},[i,r,t]),(0,f.useEffect)(function(){var e=function(e){null!==t&&clearTimeout(t),e===r&&document.activeElement!==n.current&&(t=setTimeout(function(){var e;null==(e=n.current)||e.focus()},50))},t=null;e(i.current);var o=i.subscribe(e);return function(){null!==t&&clearTimeout(t),o()}},[i,r]),[n,eX(L)]}function tY(e,t){if(t===e.path)return!1;var r=t+"/"+(0,w.WP)(e.path);return!(r===e.path||(0,_.hL)(e.path,t)||(0,_.hL)(r,e.path))}var tA=(0,m.eU)(null,function(e,t,r){return(0,v._)(function(){var n,i,o,l,a,u,c,s,f,p;return(0,y.YH)(this,function(h){switch(h.label){case 0:if(i=null==(n=e(ef).get(r.to))?void 0:n.children)return[3,2];return[4,e(B).fs.readDir(r.to)];case 1:if((o=h.sent()).error)return[2];i=o.children,h.label=2;case 2:var g,m,x,D,b,U;if(!i)throw Error("Expected children");if(g=r.nodes,m=r.to,x=i,l=g.reduce(function(e,t){var r=(0,w.WP)(t.path),n=(0,w._6)(t.path),i=null==x?void 0:x.find(function(e){return e.filename===r});return i&&(""===n?S.Dl:n)!==m&&e.push({type:i.type,path:m===S.Dl?i.filename:m+"/"+i.filename}),e},[]),D=r.nodes,b=r.to,!(a=(U=(0,w.Ag)(D)).every(function(e){return tY(e,b)})?U.map(function(e){var t=(0,w.WP)(e.path);return{from:e,to:b===S.Dl?t:b+"/"+t}}):null)||(c=(u=e(B)).readOnly,s=u.fs,c))return[2];if(!l.length)return[3,4];if(l.some(function(e){return a.some(function(t){var r=t.from;return(0,_.hL)(e.path,r.path)})}))return[2];if(!r.overwrite)return null==(f=e(B).onConflicts)||f({type:"move",nodes:r.nodes,to:r.to,conflicts:l}),[2];return[4,Promise.all(l.map(function(e){return(0,v._)(function(){var t;return(0,y.YH)(this,function(r){switch(r.label){case 0:return[4,e.type===d.pt.Directory?s.deleteDir(e.path):s.deleteFile(e.path)];case 1:return[2,(t=r.sent()).error?{error:t.error,node:e}:null]}})})()}))];case 3:if(h.sent().filter(Boolean).length)return[2];h.label=4;case 4:return t(eh,a),[4,Promise.all(a.map(function(e){var t=e.from,r=e.to;return(0,v._)(function(){var e;return(0,y.YH)(this,function(n){switch(n.label){case 0:return[4,t.type===d.pt.Directory?s.moveDir(t.path,r):s.moveFile(t.path,r)];case 1:return[2,(e=n.sent()).error?{error:e.error,from:t,to:r}:null]}})})()}))];case 5:if(p=h.sent(),t(eh,[]),p.filter(Boolean).length)return[2];return t(eA,new Map(a.map(function(e){return[e.to,e.from.type]}))),[2]}})})()}),tR=r(95793),tE=(0,m.eU)(null,function(e,t,r){return(0,v._)(function(){var n,i,o,l,a,u,s,f,p,h,g;return(0,y.YH)(this,function(m){switch(m.label){case 0:if(i=(n=e(B)).readOnly,o=n.fs,i)return[2];if(l=r.parentPath||S.Dl,u=null==(a=e(ef).get(l))?void 0:a.children,r.files.length>tt.Qq)return r.onError("Trying to upload too many files at once. Please try again with fewer files."),[2];if(r.files.reduce(function(e,t){return t.size+e},0)>tt.wr)return r.onError("Total file upload size exceeds maximum limit. Please try again with smaller files."),[2];if(u)return[3,2];return[4,o.readDir(l)];case 1:if((s=m.sent()).error)return[2];u=s.children,m.label=2;case 2:if(!u)throw Error("Expected children");if(f=(0,c._)(new Set(r.files.map(function(e){return e.dirPath?e.dirPath.split("/")[0]:e.name}))),(h=(p=u.filter(function(e){return f.some(function(t){return t===e.filename})})).length?p.map(function(e){return{path:l===S.Dl?e.filename:l+"/"+e.filename,type:e.type}}):null)&&!r.overwrite)return null==(g=e(B).onConflicts)||g({type:"upload",files:r.files,to:l,conflicts:p.map(function(e){return{path:l===S.Dl?e.filename:l+"/"+e.filename,type:e.type}})}),[2];if(!h)return[3,4];return[4,Promise.all(h.map(function(e){return(0,v._)(function(){var t;return(0,y.YH)(this,function(r){switch(r.label){case 0:return[4,e.type===d.pt.Directory?o.deleteDir(e.path):o.deleteFile(e.path)];case 1:return[2,(t=r.sent()).error?{error:t.error,node:e}:null]}})})()}))];case 3:if(m.sent().filter(Boolean).length)return[2];m.label=4;case 4:return(0,tt.Zn)({parentPath:r.parentPath,files:r.files,fs:o,onStart:function(e){t(ep,function(t){return(0,x.jM)(t,function(t){var r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var a=o.value;t.push(a)}}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}})})},onUpload:function(e){t(ep,function(t){return(0,x.jM)(t,function(t){var r=t.findIndex(function(t){return t.targetPath===e.path});-1!==r&&t.splice(r,1)})})},onError:function(e){e.error===tt.lj.FileRead&&r.onError("Error reading file. Try uploading again."),t(ep,function(t){return(0,x.jM)(t,function(t){var r=t.findIndex(function(t){return t.targetPath===e.path});-1!==r&&t.splice(r,1)})})},onDone:function(e){var t=e.errors,r=e.parentPath;if(!t.length)return void tR.vF.info("Successfully uploaded files",{uploadSource:"filetree",parentPath:r})}}),[2]}})})()}),tC=r(39534),tF=r(70764),tk=r(32289),tT=r(25227),tI=r(24529),tz=(0,m.eU)(0),tL=(0,m.eU)(null),tM=(0,m.eU)(function(e){var t=e(tL);if(null===t)return null;var r=e(M),n=-1!==t?r.get(t):null;return n&&n.depth>0||(null==n?void 0:n.row.type)==="dir"?function(e,t){var r=e.get(t);if(!r)return null;var n=0,i=r.height,o="dir"===r.row.type?r.depth+1:r.depth;if("dir"===r.row.type)o=r.depth+1,n=r.y;else{o=r.depth;for(var l=t-1;l>=0;l--){var a=e.get(l);if(!a)break;if("dir"===a.row.type&&("file"===r.row.type||"uploadFile"===r.row.type?k(a.row.path,r.row.path):a.row.path===r.row.dir)){i+=a.height,n=a.y;break}a.depth>=r.depth&&(i+=a.height)}}for(var u=t+1;u<e.size;u++){var c=e.get(u);if(!c||c.depth<=("dir"===r.row.type?r.depth:r.depth-1))break;i+=c.height}return{y:n,height:i,depth:o}}(r,t):{y:e(tz),depth:1,height:e(I).height-8}}),tN="(".concat(ty.dropPreviewDepth," - 1) * ").concat(ty.gutterWidth),tO=(0,tF.x)({root:[th.wp.position.absolute,th.wp.top(0),th.wp.left(0),th.wp.borderRadius(8),{pointerEvents:"none",transform:"translate(calc(".concat(tN,"), ").concat(ty.dropPreviewY,")"),width:"calc(100% - ".concat(tN,")"),height:ty.dropPreviewHeight,opacity:ty.dropPreviewOpacity,outline:"1px dashed ".concat(ty.statusColor),outlineOffset:-1}]}),tZ=(0,f.memo)(function(){var e=eG(tM),t=eG(tq),r=eG(tV),n=(0,f.useRef)(null);(0,h.d)(n,e,function(e){var t,r,n,i;return i={},(0,u._)(i,tg.dropPreviewY,(null!=(t=null==e?void 0:e.y)?t:0)+"px"),(0,u._)(i,tg.dropPreviewHeight,(null!=(r=null==e?void 0:e.height)?r:0)+"px"),(0,u._)(i,tg.dropPreviewDepth,null!=(n=null==e?void 0:e.depth.toString())?n:"0"),i}),(0,h.d)(n,r,function(e){return(0,u._)({},tg.dropPreviewOpacity,e?"1":"0")}),(0,h.d)(n,t,function(e){return(0,u._)({},tg.statusColor,e?tC.LU.accentPrimaryDefault:tC.LU.accentNegativeDefault)});var i=(0,e6.j)();return(0,s.Y)(tT.S,{style:{transition:i?void 0:"transform 140ms, width 140ms, height 140ms, opacity 140ms ease-out 60ms"},innerRef:n,css:tO.root})}),tH=(0,m.eU)(null,function(e,t,r){if(null!==r){var n=!0,i=!1,o=void 0;try{for(var l,a=e(M)[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var u=(0,g._)(l.value,2),c=u[0],s=u[1];if(!(r.y<s.y)&&!(r.y>s.y+s.height))return t(tL,c),s}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}t(tL,-1)}}),tW=e1.ZU.Object({type:e1.ZU.Literal("nodes"),width:e1.ZU.Number(),height:e1.ZU.Number(),nodes:e1.ZU.Array(e1.ZU.Object({path:e1.ZU.String(),type:e1.ZU.Enum(d.pt)}))}),tj=(0,m.eU)(null,function(e,t,r){t(eA,function(e){return(0,x.jM)(e,function(e){e.set(r.path,r.type)})});var n=[r];if(e(eC))return n;var i=!0,o=!1,l=void 0;try{for(var a,u=e(eA)[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=(0,g._)(a.value,2),s=c[0],f=c[1];s!==r.path&&n.push({path:s,type:f})}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}return n});function tG(e){var t=eX(tL),r=eX(tj),n=ej(q),i=(0,f.useRef)(null),o=(0,g._)((0,eJ.i)({type:e.type,item:function(){var t,n,o=r(e),l=null!=(n=null==(t=i.current)?void 0:t.getBoundingClientRect())?n:{width:160,height:32};return{nodes:o,type:"nodes",width:l.width,height:l.height}},collect:function(t){var r=t.getItem();return{isDragging:!!((null==r?void 0:r.type)==="nodes"&&r.nodes.some(function(t){return t.path===e.path}))}},end:function(){t(null)}}),3),l=o[0],a=o[1],u=o[2],c=l.isDragging;return(0,e3.P)(u),{isDragging:c,dragRef:n?void 0:a,sizeRef:i}}var tX=(0,tF.x)({root:[th.wp.position.absolute,{left:0,top:0,transform:"translate(".concat(ty.dragPreviewX,", ").concat(ty.dragPreviewY,")"),pointerEvents:"none"}],item:[th.wp.backgroundColor.backgroundHighest,th.wp.flex.row,th.wp.align.center,th.wp.shadow(3),tm,{height:ty.rowHeight,borderRadius:ty.borderRadius}],icon:[tw,{marginRight:ty.iconTextGap}],text:[tx,th.wp.flex.growAndShrink(1),{color:ty.statusColor}],count:[tx,th.wp.backgroundColor.accentPrimaryDimmest,th.wp.color.accentPrimaryStrongest,th.wp.fontWeight.medium,th.wp.position.absolute,th.wp.left("calc(50% - 4px)"),th.wp.top("calc(100% - 4px)"),th.wp.borderRadius("full"),th.wp.px(4),th.wp.center,{fontSize:ty.fontSizeSmall}]}),tK=(0,f.memo)(function(e){var t=(0,f.useRef)(null),r=tS(),n=eG(tB);return(0,h.d)(t,n,function(e){var t;return t={},(0,u._)(t,tg.dragPreviewX,(e?e.x:0)+"px"),(0,u._)(t,tg.dragPreviewY,(e?e.y:0)+"px"),t}),(0,h.d)(t,r.horizontalPadding,function(e){return(0,u._)({},tg.horizontalPadding,e+"px")}),(0,h.d)(t,r.fontSize,function(e){return(0,u._)({},tg.fontSize,e+"px")}),(0,h.d)(t,r.fontSizeSmall,function(e){return(0,u._)({},tg.fontSizeSmall,e+"px")}),(0,h.d)(t,r.iconSize,function(e){return(0,u._)({},tg.iconSize,e+"px")}),(0,h.d)(t,r.iconTextGap,function(e){return(0,u._)({},tg.iconTextGap,e+"px")}),(0,h.d)(t,r.borderRadius,function(e){return(0,u._)({},tg.borderRadius,e+"px")}),(0,h.d)(t,r.gutterWidth,function(e){return(0,u._)({},tg.gutterWidth,e+"px")}),(0,s.Y)(tT.S,{innerRef:t,css:tX.root,children:(0,s.FD)(tT.S,{css:tX.item,style:{width:e.width,height:e.height},children:[(0,s.Y)(tT.S,{css:tX.icon,children:e.type===d.pt.File?(0,s.Y)(tk.A,{path:e.path}):(0,s.Y)(tI.A,{})}),(0,s.Y)(tT.S,{css:tX.text,children:(0,w.WP)(e.path)}),e.count>1?(0,s.Y)(tT.S,{css:tX.count,children:e.count}):null]})})}),tB=(0,m.eU)(null);(0,m.eU)(function(e){return null!==e(tB)});var tV=(0,m.eU)(!1),tq=(0,m.eU)(!1);function tJ(){var e=(0,e$.V)(function(e){return{item:e.getItem(),isDragging:e.isDragging(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset()}}),t=e.isDragging,r=e.item,n=e.currentOffset,i=eX(tB);if((0,f.useEffect)(function(){i(n?{x:n.x,y:n.y}:null)},[i,n]),!t||!e2.J(tW,r))return null;var o=r.nodes,l=r.width,a=r.height,u=(0,g._)(o,1)[0];return u?(0,e0.createPortal)((0,s.Y)(tK,{type:u.type,path:u.path,count:o.length,width:l,height:a}),document.body):null}var t$=r(96907),tQ=r.n(t$),t0=r(58631),t1=e1.ZU.Enum(d.pt),t2=e1.ZU.Object({filename:e1.ZU.String({minLength:1}),type:t1}),t5=e1.ZU.Object({scrollOffset:e1.ZU.Number({minimum:0}),dirInfo:e1.ZU.Record(e1.ZU.String(),e1.ZU.Object({expanded:e1.ZU.Boolean(),children:e1.ZU.Array(t2)}))});function t4(e){return"repl:workspace:filetree:"+e}var t3=e1.ZU.Array(e1.ZU.String()),t7="repl:workspace:filetree:savedKeys",t6=(0,D.mg)(B,function(e){return e.localCacheKey?t4(e.localCacheKey):null}),t8=(0,m.eU)(null,function(e){var t=e(B),r=t.localCacheKey,n=t.filter;if(r){var i=null!=(f=null==(s=e(ez))?void 0:s.scrollOffset)?f:0,o=e(ef),l=!1,a=!0,u=!1,c=void 0;try{for(var s,f,d,p=o[Symbol.iterator]();!(a=(d=p.next()).done);a=!0){var h=(0,g._)(d.value,2)[1].children;if(l=!!(null==h?void 0:h.length))break}}catch(e){u=!0,c=e}finally{try{a||null==p.return||p.return()}finally{if(u)throw c}}if(l){var v=function(e,t){var r={dirInfo:Object.create(null),scrollOffset:e.scrollOffset},n=!0,i=!1,o=void 0;try{for(var l,a=e.dirInfo[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var u=(0,g._)(l.value,2),c=u[0],s=u[1],f=s.expanded,d=s.children;if(d){var p=d.filter(t);p.length&&(r.dirInfo[c]={expanded:f,children:p})}}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}({dirInfo:o,scrollOffset:i},n),y=t4(r),m=(_=t0.A.get(t7),e2.J(t3,_)?_:null);if(m){var w=m.filter(function(e){return e!==y});w.unshift(y);var x=w.splice(20),D=!0,b=!1,S=void 0;try{for(var _,U,P=x[Symbol.iterator]();!(D=(U=P.next()).done);D=!0){var Y=U.value;t0.A.remove(Y)}}catch(e){b=!0,S=e}finally{try{D||null==P.return||P.return()}finally{if(b)throw S}}t0.A.set(t7,w)}else t0.A.set(t7,[y]);return t0.A.set(t4(r),v)}}}),t9=r(17844),re=r(93629),rt=r(85609),rr=r(18558),rn=r(26221),ri=r(53847),ro={name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;t.styles.popper.width="".concat(t.rects.reference.width,"px")},effect:function(e){var t=e.state;(0,ri._)(t.elements.reference,HTMLElement)&&(t.elements.popper.style.width="".concat(t.elements.reference.offsetWidth,"px"))}},rl=r(39938),ra=r(51292),ru=r(88589),rc=(0,D.mg)(B,function(e){return e.autocomplete}),rs=(0,tF.x)({icon:[tw,{marginRight:ty.iconTextGap}],item:[tm,th.wp.flex.row,th.wp.align.center,ra.b.listItem,{height:ty.rowHeight}],text:[tx,th.wp.flex.growAndShrink(1)]});function rf(e){var t=e.id,r=e.items,n=e.activeIndex,i=e.onSuggestion,o=e.fileType,l=e.innerRef;return(0,s.Y)(tT.S,{tag:"ul",id:t,"aria-label":"Suggestions",innerRef:l,children:r.map(function(e,t){var r=t===n;return(0,s.FD)(tT.S,{id:e.value,tag:"li",role:"option","aria-selected":r,style:{backgroundColor:r?tC.LU.interactiveBackground:void 0,color:r?tC.LU.foregroundDefault:tC.LU.foregroundDimmer},onClick:function(){return i(e.value)},css:rs.item,children:[(0,s.Y)(tT.S,{css:rs.icon,children:o===d.pt.Directory?(0,s.Y)(tI.A,{}):(0,s.Y)(tk.A,{path:e.value})}),(0,s.Y)(ru.e,{css:rs.text,text:e.value,highlight:e.highlight,dimmed:!r})]},e.value)})})}var rd=r(24499),rp=r(36946),rh=r(3937),rv=r(90843),rg=[ty.horizontalPadding,ty.iconSize,ty.iconTextGap].join(" + "),ry=[ra.b.filled,{height:"100%",width:"100%",paddingLeft:"calc(".concat(rg,")"),paddingRight:ty.horizontalPadding,fontSize:ty.fontSize}],rm=(0,tF.x)({root:[tm,{padding:ty.horizontalPadding}],icon:[tw,th.wp.color.accentNegativeDefault,{marginRight:ty.iconTextGap}],text:[{fontSize:ty.fontSize},th.wp.color.foregroundDimmer,th.wp.flex.growAndShrink(1)]});function rw(e){return(0,s.FD)(tT.S,{css:rm.root,row:!0,children:[(0,s.Y)(tT.S,{css:rm.icon,children:(0,s.Y)(rv.A,{})}),(0,s.Y)(tT.S,{css:rm.text,children:e.message})]})}var rx=(0,tF.x)({root:[th.wp.position.relative,th.wp.flex.growAndShrink(1),{height:"100%"}],icon:[tw,th.wp.position.absolute,th.wp.left(ty.horizontalPadding),th.wp.top("50%"),{transform:"translateY(-50%)"}],input:ry,inputLoading:[ry,rd.S.backgroundPulse()],menu:[th.wp.overflow("hidden"),{borderRadius:ty.borderRadius,border:"1px solid",borderColor:tC.LU.outlineDefault}],label:[th.wp.visuallyHidden]});function rD(e){var t,r,n,i,o,l,a,c,v,y,m,w=(0,f.useId)(),D=(0,f.useId)(),b=(t=(0,f.useRef)(null),r=tS(),(0,h.d)(t,r.fontSize,function(e){return(0,u._)({},tg.fontSize,e+"px")}),(0,h.d)(t,r.iconTextGap,function(e){return(0,u._)({},tg.iconTextGap,e+"px")}),(0,h.d)(t,r.borderRadius,function(e){return(0,u._)({},tg.borderRadius,e+"px")}),(0,h.d)(t,r.horizontalPadding,function(e){return(0,u._)({},tg.horizontalPadding,e+"px")}),(0,h.d)(t,r.iconSize,function(e){return(0,u._)({},tg.iconSize,e+"px")}),(0,h.d)(t,r.fontSize,function(e){return(0,u._)({},tg.rowHeight,$(e,"file")+"px")}),(0,h.d)(t,r.iconTextGap,function(e){return(0,u._)({},tg.iconTextGap,e+"px")}),i=(n=(0,g._)((0,f.useState)(null),2))[0],o=n[1],a=(l=(0,g._)((0,f.useState)(null),2))[0],c=l[1],y=(v=(0,rt.E)(i,a,{modifiers:[{name:"offset",options:{offset:[0,4]}},ro],placement:"bottom-start"})).styles,m=v.attributes,{menuRef:(0,p.S)([t,c],{breadcrumb:"client/workspace/components/Filetree/FileNodeInput.tsx:100"}),menuAnchorRef:o,styles:y.popper,attributes:m.popper}),S=function(e){var t=e.onSuggestion,r=e.siblings,n=e.value,i=ej(rc),o=(0,g._)((0,f.useState)({items:[],activeIndex:null}),2),l=o[0],a=o[1],u=(0,rl.A)(r),c=(0,rl.A)(n),s=(0,g._)((0,f.useTransition)(),2)[1],d=i?function(e){s(function(){var t=i(e);a(function(e){return(0,x.jM)(e,function(e){e.items=t.filter(function(e){return e.value!==c.current&&!u.current.some(function(t){return t.filename===e.value})})})})})}:null;function p(){a({items:[],activeIndex:null})}return{items:l.items.length?l.items:null,activeIndex:l.activeIndex,query:d,onKeyDown:function(e){if("Enter"===e.key){var r=null!==l.activeIndex?l.items[l.activeIndex]:null;if(!r)return;return e.preventDefault(),t(r.value),p(),!0}return"ArrowDown"===e.key?(e.preventDefault(),a(function(e){return(0,x.jM)(e,function(e){if(null===e.activeIndex||e.activeIndex>e.items.length-1){e.activeIndex=0;return}e.activeIndex++})}),!0):"ArrowUp"===e.key?(e.preventDefault(),a(function(e){return(0,x.jM)(e,function(e){if(null===e.activeIndex){e.activeIndex=e.items.length-1;return}if(0===e.activeIndex){e.activeIndex=null;return}e.activeIndex--})}),!0):void 0},clear:p}}({onSuggestion:e.onSuggestion,siblings:e.siblings,value:e.value}),_=eK(ez),U=(0,g._)((0,f.useState)(!0),2),P=U[0],Y=U[1],A=(0,f.useRef)(null);(0,f.useEffect)(function(){if(A.current){var e,t=null==(e=_())?void 0:e.scrollElement;if(t)return(0,rn.l)(A.current,function(){return Y(!0),function(){return Y(!1)}},{root:t})}},[_]);var R=P&&!!(e.error||S.items),E=S.items&&S.activeIndex?S.items[S.activeIndex]:void 0,C=!e.error&&S.items?S.items:null,F=(0,f.useRef)(null),k=S.clear,T=(0,rr.A)(function(e){var t;null!=(t=F.current)&&t.contains(e.target)||k()},[k]),I=(0,rr.A)(function(t){var r,n,i=e.inputRef.current;i&&((null==(r=F.current)?void 0:r.contains(t.target))||(null==(n=T.current)?void 0:n.contains(t.target))||e.onClickOutside({inputValue:i.value}))},[]),z=b.menuAnchorRef,L=(0,p.S)([F,z],{breadcrumb:"client/workspace/components/Filetree/FileNodeInput.tsx:250"});return(0,s.FD)(s.FK,{children:[(0,s.Y)("label",{css:rx.label,htmlFor:w,children:"file name"}),(0,s.FD)(tT.S,{css:rx.root,innerRef:L,children:[(0,s.Y)(tT.S,{css:rx.icon,children:e.fileType===d.pt.Directory?(0,s.Y)(tI.A,{}):(0,s.Y)(tk.A,{path:e.value})}),(0,s.Y)("input",{spellCheck:!1,"aria-controls":S.query?D:void 0,"aria-expanded":S.items?"true":"false","aria-activedescendant":null==E?void 0:E.value,role:S.query?"combobox":void 0,id:w,ref:(0,p.S)([e.inputRef,A,I],{breadcrumb:"client/workspace/components/Filetree/FileNodeInput.tsx:274"}),css:e.loading?rx.inputLoading:rx.input,value:e.value,onChange:e.loading?void 0:function(t){var r;e.onChange(t),null==(r=S.query)||r.call(S,{input:t.currentTarget.value,fileType:e.fileType,type:e.type,siblings:e.siblings})},onKeyDown:function(t){S.onKeyDown(t)||e.onKeyDown(t)}})]}),(0,s.Y)(rp.Z,{children:(0,s.FD)(rh.ui,(0,re._)((0,t9._)({css:rx.menu,elevated:!0,innerRef:b.menuRef,style:(0,re._)((0,t9._)({},b.styles),{display:R?"block":"none"})},b.attributes),{children:[e.error?(0,s.Y)(rw,{message:e.error}):null,C?(0,s.Y)(rf,{id:D,innerRef:T,items:C,activeIndex:S.activeIndex,onSuggestion:function(t){e.onSuggestion(t),k()},fileType:e.fileType}):null]}))})]})}var rb=(0,tF.x)({createFilePicker:[{fontSize:ty.fontSize,paddingRight:ty.horizontalPadding,paddingLeft:ty.horizontalPadding}],button:[th.wp.reset.button,th.wp.p(2),ra.b.filled,th.wp.color.foregroundDimmer,{fontSize:"inherit"}],text:[tx,th.wp.color.foregroundDimmest]});function rS(e){var t,r,n,i,o,l,a,u,c,p,h,m,w,x,b,_,U,P,Y,A,R=(t=e.dir,n=eX(eU),i=eX(eP),o=eX(eY),a=(l=(0,g._)((0,f.useState)(""),2))[0],u=l[1],c=eK(B),h=(p=(0,g._)((0,f.useState)(!1),2))[0],m=p[1],x=(w=(0,g._)((0,f.useState)(null),2))[0],b=w[1],_=(0,ta.A)(function(){return(0,D.mg)(ef,function(e){return e.get(t)})},[t]),U=(0,ta.A)(function(){return(0,D.mg)(_,function(e){var t;return null!=(t=null==e?void 0:e.create)?t:null})},[_]),P=ej((0,ta.A)(function(){return(0,D.mg)(_,function(e){var t;return null!=(t=null==e?void 0:e.children)?t:null})},[_])),Y=ej(U),!(A=x)&&a.includes("/")?A=td({fileName:a,parentPath:t}):A||(A=(0,tc.U)({fileName:a,siblingNames:null!=(r=null==P?void 0:P.map(function(e){return e.filename}))?r:[],parentPath:t})),{value:a,setValue:u,fileType:Y,create:function(e){return(0,v._)(function(){var r,n,i,l,a,s,f,p,h,v;return(0,y.YH)(this,function(g){switch(g.label){case 0:if(!Y||(l=(i=c()).readOnly,a=i.fs,l))return[2];if(s=null,0!==e.length)return[3,1];return s="File names cannot be empty",[3,4];case 1:if(!e.includes("/"))return[3,3];return[4,tf({fileName:e,parentPath:t,fs:a})];case 2:return s=g.sent(),[3,4];case 3:s=(0,tc.U)({fileName:e,siblingNames:null!=(f=null==P?void 0:P.map(function(e){return e.filename}))?f:[],parentPath:t}),g.label=4;case 4:if(s)return b(s),[2];if((h=(p=t===S.Dl?null:t+"/")?p+e:e).includes("//")&&(h=h.split("/").filter(function(e){return e.length>0}).join("/")),m(!0),Y!==d.pt.Directory)return[3,6];return[4,a.createDir(h)];case 5:return v=g.sent(),[3,8];case 6:return[4,a.writeFile(h,new tl.A(""))];case 7:v=g.sent(),g.label=8;case 8:if(v.error)return b("Something went wrong"),[2];return m(!1),u(""),o({parentPath:t,path:h,fileType:Y}),null==(r=(n=c()).onCreate)||r.call(n,{path:h,type:Y}),[2]}})})()},creating:h,error:A,clearError:function(){return b(null)},cancel:(0,ta.A)(function(){return function(){return i(t)}},[t,i]),start:(0,ta.A)(function(){return function(e){return n({parentPath:t,fileType:e})}},[t,n]),siblings:P}),E=(0,f.useRef)(null);return((0,f.useEffect)(function(){var e;R.fileType&&(null==(e=E.current)||e.focus())},[R.fileType]),R.fileType)?(0,s.Y)(rD,{siblings:R.siblings||[],type:"create",inputRef:E,loading:R.creating,error:R.error,value:R.value,fileType:R.fileType,onClickOutside:function(e){var t=e.inputValue;if(""===t)return void R.cancel();R.create(t)},onChange:function(e){R.error&&R.clearError(),R.setValue(e.currentTarget.value)},onKeyDown:function(e){if("Escape"===e.key)return void R.cancel();"Enter"===e.key&&R.create(e.currentTarget.value)},onSuggestion:function(e){R.setValue(e),R.create(e)}}):(0,s.Y)(r_,{create:R.start})}function r_(e){return(0,s.FD)(tT.S,{css:rb.createFilePicker,align:"center",row:!0,gap:4,children:[(0,s.Y)(tT.S,{css:rb.text,children:"Add a"}),(0,s.Y)(tT.S,{tag:"button",css:rb.button,onClick:function(){return e.create(d.pt.File)},children:"file"}),(0,s.Y)(tT.S,{css:rb.text,children:"or "}),(0,s.Y)(tT.S,{tag:"button",css:rb.button,onClick:function(){return e.create(d.pt.Directory)},children:"folder"})]})}var rU=(0,tF.x)({root:[{marginLeft:"auto",paddingLeft:ty.horizontalPadding}],svg:[{transform:"rotate(-90deg)",transformOrigin:"center center","& .inner-circle":{strokeDashoffset:ty.strokeDashoffset}}]});function rP(e){var t=ej(J)/2,r=t/2,n=2*r*Math.PI,i=(0,f.useRef)(null);return(0,h.d)(i,e.progress,function(e){return(0,u._)({},tg.strokeDashoffset,(n-e*n).toString())}),(0,s.Y)(tT.S,{innerRef:i,css:rU.root,children:(0,s.FD)("svg",{css:rU.svg,height:2*t,width:2*t,children:[(0,s.Y)("circle",{fill:tC.LU.backgroundHigher,r:t,cx:t,cy:t}),(0,s.Y)("circle",{className:"inner-circle",stroke:tC.LU.foregroundDimmest,fill:"transparent",strokeWidth:t,strokeDasharray:n+" "+n,r:r,cx:t,cy:t})]})})}var rY=function(e){return e.reduce(function(e,t){return e+t.current},0)/e.length};function rA(e){var t,r,n,i,o=ej(J)/2,l=o/2,a=2*l*Math.PI,c=(t=e.uploadProgress,n=(r=(0,g._)((0,f.useState)(rY(t)),2))[0],i=r[1],(0,f.useEffect)(function(){var e=[],r=!0,n=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var u=l.value;e.push(u.subscribe(function(){i(rY(t))}))}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return function(){e.map(function(e){return e()})}},[t]),n),d=(0,f.useRef)(null);return(0,s.Y)(tT.S,{innerRef:d,css:rU.root,children:(0,s.FD)("svg",{css:rU.svg,height:2*o,width:2*o,children:[(0,s.Y)("circle",{fill:tC.LU.backgroundHigher,r:o,cx:o,cy:o}),(0,s.Y)("circle",{className:"inner-circle",style:(0,u._)({},tg.strokeDashoffset,(a-c*a).toString()),stroke:tC.LU.foregroundDimmest,fill:"transparent",strokeWidth:o,strokeDasharray:a+" "+a,r:l,cx:o,cy:o})]})})}function rR(e){var t,r,n,i,o,l,a,u,c,p,h,m,x,b,_,U,P,Y,A,R,E=(0,g._)((t={path:e.path,type:e.fileType},n=eK(B),o=(i=(0,g._)((0,f.useState)(null),2))[0],l=i[1],a=(0,w._6)(t.path)||S.Dl,u=(0,w.WP)(t.path),c=eX(H),p=eX(L),m=(h=(0,g._)((0,f.useState)(u),2))[0],x=h[1],_=(b=(0,g._)((0,f.useState)(!1),2))[0],U=b[1],P=(0,ta.A)(function(){return(0,D.mg)(ef,function(e){var t;return null==(t=e.get(a))?void 0:t.children})},[a]),Y=m!==u,A=ej(P),R=null,Y&&m.includes("/")?R=td({fileName:m,parentPath:a}):Y&&(R=(0,tc.U)({fileName:m,siblingNames:null!=(r=null==A?void 0:A.map(function(e){return e.filename}))?r:[],parentPath:a})),[{canRename:!!m&&Y&&!R,value:m,renaming:_,error:o||R,siblings:A},{setValue:x,rename:function(e){return(0,v._)(function(){var r,i,o,s,f,h,v,g,m,x,D;return(0,y.YH)(this,function(y){switch(y.label){case 0:if(R||!e||e===u||(i=(r=n()).readOnly,o=r.fs,s=r.onFileRenameStart,f=r.onFileRenameEnd,i))return[2];if(h=null,!e.includes("/"))return[3,2];return[4,tf({fileName:e,parentPath:a,fs:o})];case 1:return h=y.sent(),[3,3];case 2:h=(0,tc.U)({fileName:e,siblingNames:null!=(v=null==A?void 0:A.map(function(e){return e.filename}))?v:[],parentPath:a}),y.label=3;case 3:if(h)return l(h),[2];if(m=(g=a===S.Dl?null:a+"/")?g+e:e,x=(0,w._6)(m)||S.Dl,U(!0),null==s||s({from:t.path,to:m}),x===S.Dl)return[3,6];return[4,o.stat(x)];case 4:if(y.sent().exists)return[3,6];return[4,o.createDir(x)];case 5:y.sent(),y.label=6;case 6:if(t.type!==d.pt.Directory)return[3,8];return[4,o.moveDir(t.path,m)];case 7:return D=y.sent(),[3,10];case 8:return[4,o.moveFile(t.path,m)];case 9:D=y.sent(),y.label=10;case 10:if(D.error)return l("Something went wrong"),U(!1),null==f||f(),[2];return c(null),null==f||f(),p(m),[2]}})})()},cancel:function(){var e=n().onFileRenameEnd;c(null),null==e||e(),p(t.path)}}]),2),C=E[0],F=E[1],k=F.setValue,T=F.rename,I=F.cancel,z=(0,f.useRef)(null),M=(0,f.useRef)(C.value);return(0,f.useEffect)(function(){if(z.current){var e=M.current;if(e){var t=e.lastIndexOf(".");t<=1&&(t=e.length);var r=+!!e.startsWith(".");z.current.focus(),z.current.setSelectionRange(r,t)}}},[]),(0,s.Y)(rD,{siblings:C.siblings?C.siblings.filter(function(t){return t.filename!==(0,w.WP)(e.path)}):[],type:"rename",inputRef:z,loading:C.renaming,error:C.error,value:C.value,fileType:e.fileType,onClickOutside:function(e){var t=e.inputValue;C.canRename?T(t):C.error||I()},onChange:function(e){k(e.currentTarget.value)},onKeyDown:function(e){if("Escape"===e.key)return void I();"Enter"===e.key&&(C.canRename?T(e.currentTarget.value):C.error||I())},onSuggestion:function(e){k(e),T(e)}})}var rE=r(58226),rC=(n={},(0,u._)(n,rE.PX.ADDED,"A"),(0,u._)(n,rE.PX.UNTRACKED,"A"),(0,u._)(n,rE.PX.MODIFIED,"M"),(0,u._)(n,rE.PX.DELETED,"D"),(0,u._)(n,rE.PX.RENAMED,"R"),(0,u._)(n,rE.PX.COPIED,"C"),n),rF=(i={},(0,u._)(i,rE.PX.ADDED,tC.LU.greenDimmest),(0,u._)(i,rE.PX.UNTRACKED,tC.LU.greenDimmest),(0,u._)(i,rE.PX.MODIFIED,tC.LU.yellowDimmest),(0,u._)(i,rE.PX.DELETED,tC.LU.redDimmest),(0,u._)(i,rE.PX.RENAMED,tC.LU.tealDimmest),(0,u._)(i,rE.PX.COPIED,tC.LU.limeDimmest),i),rk=(o={},(0,u._)(o,rE.PX.ADDED,tC.LU.greenStrongest),(0,u._)(o,rE.PX.UNTRACKED,tC.LU.greenStrongest),(0,u._)(o,rE.PX.MODIFIED,tC.LU.yellowStrongest),(0,u._)(o,rE.PX.DELETED,tC.LU.redStrongest),(0,u._)(o,rE.PX.RENAMED,tC.LU.tealStrongest),(0,u._)(o,rE.PX.COPIED,tC.LU.limeStrongest),o);function rT(e){return e===rE.PX.ADDED||e===rE.PX.UNTRACKED||e===rE.PX.MODIFIED||e===rE.PX.DELETED||e===rE.PX.RENAMED||e===rE.PX.COPIED}var rI={color:ty.statusColor,fontSize:ty.fontSizeSmall,minWidth:ty.dirStatusIconSize,height:ty.dirStatusIconSize},rz=(0,tF.x)({fileIcon:[th.wp.fontWeight.bold,th.wp.px(2),th.wp.center,rI],directoryCountIcon:[th.wp.fontWeight.medium,th.wp.borderRadius(4),th.wp.px(2),th.wp.center,rI,{backgroundColor:ty.statusBackgroundColor}],directoryDraftBufferIndicator:[th.wp.width(8),th.wp.height(8),th.wp.ml(8),th.wp.border({color:tC.LU.foregroundDimmer,width:1}),{borderRadius:"50%"}],fileDraftBufferIndicator:[th.wp.width(8),th.wp.height(8),th.wp.backgroundColor.foregroundDimmer,{borderRadius:"50%"}]});function rL(e){return(0,s.Y)(tT.S,{css:rz.fileIcon,children:(0,s.Y)(tT.S,{children:e.text})})}function rM(e){return(0,s.Y)(tT.S,{css:rz.directoryCountIcon,children:(0,s.Y)(tT.S,{children:e.count})})}var rN=r(74955),rO=r(91953),rZ=r(70117),rH=r(33683),rW=r(71936),rj=[th.wp.position.absolute,th.wp.top(0),th.wp.left(0),{width:"calc(100% - ".concat(ty.rowLeftIndent,")"),height:ty.rowHeight,transform:"translateY(".concat(ty.rowY,")"),marginLeft:ty.rowLeftIndent}],rG=(0,tF.x)({divider:(0,c._)(rj).concat([tm,th.wp.flex.growAndShrink(1),th.wp.justify.center]),dividerInner:[{borderTop:"1px dashed",borderColor:tC.LU.outlineDimmest,height:"70%",justifyContent:"end"}],dividerText:[th.wp.truncate,th.wp.color.foregroundDimmer,{fontSize:ty.fontSizeSmall}],error:(0,c._)(rj).concat([th.wp.rowWithGap(4),th.wp.align.center,tm]),emptyDir:(0,c._)(rj).concat([tm,th.wp.color.foregroundDimmest,th.wp.justify.center,{paddingLeft:ty.iconSize,paddingRight:ty.horizontalPadding}]),row:(0,c._)(rj).concat([th.wp.flex.growAndShrink(1),th.wp.flex.row,th.wp.align.center,ra.b.nofill,(a={backgroundColor:ty.nodeBackgroundColor,borderRadius:ty.borderRadius,cursor:"pointer","&:focus":{outline:"none !important",boxShadow:"0 0 0 1px "+tC.LU.accentPrimaryDefault,zIndex:1}},(0,u._)(a,tg.hasUnsavedChangesDisplay,"flex"),(0,u._)(a,"@media (hover: hover)",(0,u._)({},tg.contextMenuButtonDisplay,"none")),(0,u._)(a,"&:hover, &:active, &:focus",(l={},(0,u._)(l,tg.contextMenuButtonDisplay,"flex"),(0,u._)(l,tg.hasUnsavedChangesDisplay,"none"),l)),(0,u._)(a,"transitionDuration","0ms"),a)]),rowContent:[th.wp.flex.row,th.wp.align.center,th.wp.flex.growAndShrink(1),tm],uploadRow:(0,c._)(rj).concat([th.wp.flex.growAndShrink(1),th.wp.align.center,th.wp.flex.row,th.wp.align.center,tm,th.wp.border({color:"transparent"}),(0,u._)({backgroundColor:ty.nodeBackgroundColor,borderRadius:ty.borderRadius},tg.statusColor,tC.LU.foregroundDimmer)]),createRow:(0,c._)(rj).concat([th.wp.justify.center]),icon:[tw,{marginRight:ty.iconTextGap}],text:[tx,th.wp.flex.growAndShrink(1),{color:ty.statusColor}],emptyDirText:[tx,th.wp.display.flex,th.wp.justify.center,th.wp.flex.growAndShrink(1),{color:ty.statusColor}],contextMenuButton:[th.wp.reset.button,th.wp.height("100%"),th.wp.center,th.wp.cursor.pointer,ra.b.filled,tw,{display:ty.contextMenuButtonDisplay,borderRadius:"0 ".concat(ty.borderRadius," ").concat(ty.borderRadius," 0"),transitionDuration:"0ms",backgroundColor:"transparent"}],draftBufferContainer:[{display:ty.hasUnsavedChangesDisplay}]});function rX(e){var t,r=(t=e.path,ej((0,ta.A)(function(){return(0,m.eU)(function(e){var r;return null!=(r=e(T).get(t))?r:null})},[t]))),n=ej(ea);return(null==r?void 0:r.length)?(0,s.Y)(rN.A,{size:n,activeUsers:r}):null}function rK(e){var t,r=(t=e.path,ej((0,ta.A)(function(){return(0,m.eU)(function(e){var r=[],n=!0,i=!1,o=void 0;try{for(var l,a=e(T)[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var u=(0,g._)(l.value,2),s=u[0],f=u[1];if(!(0,_.hL)(t,s))return;r.push.apply(r,(0,c._)(f))}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r.length?r:null})},[t])));return(null==r?void 0:r.length)?(0,s.Y)(rN.A,{activeUsers:r}):null}function rB(e){return(0,s.Y)(tT.S,{title:"menu",tag:"button",css:rG.contextMenuButton,onClick:e.onClick,children:(0,s.Y)(rW.A,{})})}function rV(e,t){var r=eG((0,ta.A)(function(){return(0,D.mg)(eA,function(e){return e.has(t)})},[t]));(0,h.d)(e,r,function(e){return(0,u._)({},tg.nodeBackgroundColor,e?tC.LU.backgroundHigher:"transparent")}),(0,f.useEffect)(function(){var t=function(t){e.current&&e.current.setAttribute("aria-selected",t?"true":"false")};return t(r.current),r.subscribe(t)},[e,r,t])}var rq=(0,f.memo)(function(e){var t,r,n,i,o,l,a,c,h,v,y,m=(0,f.useRef)(null),x=tU(e.index),b=ej((t=e.path,(0,ta.A)(function(){return(0,D.mg)(ef,function(e){var r;return!!(null==(r=e.get(t))?void 0:r.expanded)})},[t]))),S=ej((r=e.path,(0,ta.A)(function(){return(0,D.mg)(ef,function(e){var t;return!!(null==(t=e.get(r))?void 0:t.loading)})},[r]))),U=(i=(n=(0,g._)((0,f.useState)(S),2))[0],o=n[1],(0,f.useEffect)(function(){if(!S)return void o(!1);var e=setTimeout(function(){return o(!0)},500);return function(){clearTimeout(e)}},[S]),i),P=eX(W),Y=ej(N),R=t_(e.path),E=(l=e.path,a=eX(tb),(0,ta.A)(function(){return function(e){a({event:e,path:l})}},[a,l])),C=(0,g._)(tP({path:e.path,index:e.index}),2),F=C[0],k=C[1],T=e.path===Y&&S,I=T?A:(0,w.WP)(e.path),z=tG({path:e.path,type:d.pt.Directory}),L=z.dragRef,M=z.sizeRef,Z=z.isDragging;rV(m,e.path);var H=(c=e.path,ej((0,ta.A)(function(){return(0,D.mg)(O,function(e){return e?function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var u=(0,g._)(l.value,2),c=u[0],s=u[1],f=s.index,d=s.worktree;(0,_.hL)(t,c)&&r.push({path:c,index:f,worktree:d})}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}if(0===r.length)return null;var p=r.every(function(e){return e.index===rE.PX.ADDED||e.worktree===rE.PX.UNTRACKED})?rE.PX.ADDED:rE.PX.MODIFIED;if(!rT(p))return null;var h=r.length;return{color:rk[p],backgroundColor:rF[p],count:h}}(e,c):null},to())},[c]))),j=ej(V);return(0,s.FD)(tT.S,{style:(0,re._)((0,t9._)({},null==x?void 0:x.style),(y={},(0,u._)(y,tg.statusColor,null!=(h=null==H?void 0:H.color)?h:tC.LU.foregroundDimmer),(0,u._)(y,tg.statusBackgroundColor,null==H?void 0:H.backgroundColor),(0,u._)(y,"opacity",Z?.1:void 0),y)),tabIndex:R,role:"treeitem","aria-label":I,"aria-expanded":b,"aria-level":(null!=(v=null==x?void 0:x.depth)?v:0)+1,css:rG.row,onFocus:function(){return k(e.path)},innerRef:(0,p.S)([m,F,M,e.pending?void 0:L],{breadcrumb:"client/workspace/components/Filetree/Row.tsx:345"}),onContextMenu:j?function(t){j(t,{path:e.path,type:d.pt.Directory})}:void 0,onKeyDown:e.pending?void 0:function(t){"Enter"===t.key&&P(e.path)},onClick:e.pending?void 0:function(e){e.currentTarget===e.target&&E(e)},children:[(0,s.FD)(tT.S,{title:e.path,css:rG.rowContent,onClick:e.pending?void 0:E,children:[(0,s.Y)(tT.S,{css:rG.icon,children:T||U&&!b?(0,s.Y)(rH.A,{}):(0,s.Y)(s.FK,{children:b?(0,s.Y)(rZ.A,{color:tC.LU.foregroundDimmer}):(0,s.Y)(tI.A,{color:tC.LU.foregroundDimmer})})}),(0,s.Y)(tT.S,{css:rG.text,children:I}),e.uploadProgress?(0,s.Y)(rA,{uploadProgress:e.uploadProgress}):null,H?(0,s.Y)(rM,{count:H.count}):null,b?null:(0,s.Y)(rK,{path:e.path}),null]}),j?(0,s.Y)(rB,{onClick:function(t){j(t,{path:e.path,type:d.pt.Directory})}}):null]})}),rJ=(0,f.memo)(function(e){var t,r,n,i,o,l,a,c,h=(0,f.useRef)(null),v=tU(e.index),y=(t=e.path,r=eK(B),n=eX(eF),i=eX(L),(0,ta.A)(function(){return{onClick:function(e){var o=r(),l=o.onFileSelect,a=o.multiselectModifierKey,u=a?tD(e,a):void 0;n({node:{path:t,type:d.pt.File},mode:u}),i(t),u||null==l||l({path:t,event:e,type:"click"})},onDoubleClick:function(e){var n=r().onFileDoubleClick;null==n||n(e,t)}}},[t,r,i,n])),m=y.onClick,x=y.onDoubleClick,b=t_(e.path),S=eX(W),_=(0,g._)(tP({path:e.path,index:e.index}),2),U=_[0],P=_[1],Y=(0,w.WP)(e.path),A=tG({path:e.path,type:d.pt.File}),R=A.dragRef,E=A.sizeRef,C=A.isDragging;rV(h,e.path);var F=(o=e.path,ej((0,ta.A)(function(){return(0,D.mg)(O,function(e){return e?function(e,t){var r=null==e?void 0:e.get(t);if(!r)return null;var n=null;return r.worktree!==rE.PX.UNMODIFIED?n=r.worktree:r.index!==rE.PX.UNMODIFIED&&(n=r.index),n&&rT(n)?{color:rk[n],text:rC[n]}:null}(e,o):null},to())},[o]))),k=ej(V);return(0,s.FD)(tT.S,{style:(0,re._)((0,t9._)({},null==v?void 0:v.style),(c={},(0,u._)(c,tg.statusColor,null!=(l=null==F?void 0:F.color)?l:tC.LU.foregroundDimmer),(0,u._)(c,"opacity",C?.1:void 0),c)),tabIndex:b,dataCy:"filetree-file",css:rG.row,onFocus:function(){return P(e.path)},innerRef:(0,p.S)([h,U,E,e.pending?void 0:R],{breadcrumb:"client/workspace/components/Filetree/Row.tsx:464"}),role:"treeitem","aria-label":Y,"aria-level":(null!=(a=null==v?void 0:v.depth)?a:0)+1,onDoubleClick:e.pending?void 0:x,onContextMenu:k?function(t){k(t,{path:e.path,type:d.pt.File})}:void 0,onKeyDown:e.pending?void 0:function(t){"Enter"===t.key&&S(e.path)},onClick:e.pending?void 0:function(e){e.currentTarget===e.target&&m(e)},children:[(0,s.FD)(tT.S,{title:e.path,css:rG.rowContent,onClick:e.pending?void 0:m,children:[(0,s.Y)(tT.S,{css:rG.icon,children:(0,s.Y)(tk.A,{path:e.path})}),(0,s.Y)(tT.S,{css:rG.text,children:Y}),F?(0,s.Y)(rL,{text:F.text}):null,(0,s.Y)(rX,{path:e.path}),null]}),k?(0,s.Y)(rB,{onClick:function(t){k(t,{path:e.path,type:d.pt.File})}}):null]})}),r$=(0,f.memo)(function(e){var t=tU(e.index);return(0,s.Y)(tT.S,{css:rG.divider,style:null==t?void 0:t.style,role:"treeitem",children:(0,s.Y)(tT.S,{css:rG.dividerInner,children:(0,s.Y)(tT.S,{css:rG.dividerText,children:e.label})})})}),rQ=(0,f.memo)(function(e){var t=tU(e.index);return(0,s.FD)(tT.S,{css:rG.error,style:null==t?void 0:t.style,role:"treeitem",children:[(0,s.Y)(rv.A,{}),(0,s.Y)(rO.EY,{multiline:!1,children:e.message})]})}),r0=(0,f.memo)(function(e){var t=tU(e.index);return(0,s.Y)(tT.S,{css:rG.emptyDir,style:null==t?void 0:t.style,role:"treeitem",children:(0,s.Y)(tT.S,{css:rG.emptyDirText,children:Y})})}),r1=(0,f.memo)(function(e){var t=tU(e.index);return(0,s.Y)(tT.S,{css:rG.createRow,style:null==t?void 0:t.style,role:"treeitem",children:(0,s.Y)(rS,{dir:e.dir})})}),r2=(0,f.memo)(function(e){var t=tU(e.index),r=(0,w.WP)(e.path);return(0,s.Y)(tT.S,{style:null==t?void 0:t.style,css:rG.createRow,role:"treeitem","aria-label":r,children:(0,s.Y)(rR,{path:e.path,fileType:e.fileType})})}),r5=(0,f.memo)(function(e){var t=tU(e.index),r=(0,w.WP)(e.path);return(0,s.FD)(tT.S,{style:null==t?void 0:t.style,css:rG.uploadRow,role:"treeitem","aria-label":r,children:[(0,s.Y)(tT.S,{css:rG.icon,children:(0,s.Y)(tk.A,{path:e.path})}),(0,s.Y)(tT.S,{css:rG.text,children:r}),(0,s.Y)(rP,{progress:e.progress})]})}),r4=(0,f.memo)(function(e){var t,r=ej((t=e.index,(0,ta.A)(function(){return(0,m.eU)(function(e){var r,n;return null!=(n=null==(r=e(M).get(t))?void 0:r.row)?n:null})},[t])));return r?"error"===r.type?(0,s.Y)(rQ,{index:e.index,message:r.message}):"divider"===r.type?(0,s.Y)(r$,{index:e.index,label:r.label}):"emptyDir"===r.type?(0,s.Y)(r0,{index:e.index}):"create"===r.type?(0,s.Y)(r1,{index:e.index,dir:r.dir}):"uploadFile"===r.type?(0,s.Y)(r5,{index:e.index,path:r.path,progress:r.progress}):r.rename?(0,s.Y)(r2,{index:e.index,path:r.path,fileType:"file"===r.type?d.pt.File:d.pt.Directory}):"file"===r.type?(0,s.Y)(rJ,{index:e.index,path:r.path,pending:!!r.pending}):(0,s.Y)(rq,{index:e.index,path:r.path,pending:!!r.pending,uploadProgress:r.uploadProgress}):null}),r3=[ty.horizontalPadding,ty.rowLeftIndent,ty.iconSize,ty.iconTextGap].join(" + "),r7=(0,tF.x)({root:[th.wp.overflow("hidden"),th.wp.height(0),{pointerEvents:"none"}],file:[{paddingLeft:"calc(".concat(r3,")"),paddingRight:ty.horizontalPadding}]}),r6=(0,f.memo)(function(){var e=ej(e_);return e?(0,s.Y)(tT.S,{css:r7.root,children:e.map(function(e){var t=e.type,r=e.text,n=e.depth,i=(0,u._)({},tg.rowLeftIndent,"calc(".concat(n," * ").concat(ty.gutterWidth,")")),o=t+n;return"divider"===t?(0,s.Y)(tT.S,{style:i,css:rG.dividerInner,children:(0,s.Y)(rO.EY,{css:rG.dividerInner,multiline:!1,children:r.toUpperCase()})},o):(0,s.Y)(tT.S,{css:r7.file,style:i,children:"create"===t?(0,s.Y)(r_,{create:function(){}}):(0,s.Y)(tT.S,{css:rG.text,children:r.toUpperCase()})},o)})}):null}),r8=r(1196),r9=(0,tF.x)({content:[th.wp.position.relative,{overflowY:"auto",height:"100%",minHeight:ty.minHeight}],scroll:[{position:"relative",height:ty.scrollHeight}],gutter:[th.wp.position.absolute,th.wp.top(0),th.wp.left(0),th.wp.reset.button,th.wp.align.end,th.wp.cursor.pointer,{width:ty.gutterWidth,"& > div":[th.wp.height("100%"),th.wp.highRes({borderLeftWidth:.5}),{borderLeft:"1px solid",marginRight:"25%",opacity:0,borderLeftColor:"transparent",transitionProperty:"border-color",transitionDuration:"0",transitionDelay:"0"}],"&:hover > div":{borderColor:tC.LU.outlineDimmest,transitionDuration:"200ms",transitionDelay:"100ms",opacity:1}}]}),ne=(0,f.memo)(function(e){var t,r,n,i,o,l,a,v,y,m,x,D,b,_,U,P,Y,A,R,E,C,F,k,T=ej(M),z=tS();(0,h.d)(e.scrollRef,z.fontSize,function(e){var t;return t={},(0,u._)(t,tg.fontSize,e+"px"),(0,u._)(t,tg.dirStatusIconSize,e+"px"),t}),(0,h.d)(e.scrollRef,z.fontSizeSmall,function(e){return(0,u._)({},tg.fontSizeSmall,e+"px")}),(0,h.d)(e.scrollRef,z.iconSize,function(e){return(0,u._)({},tg.iconSize,e+"px")}),(0,h.d)(e.scrollRef,z.iconTextGap,function(e){return(0,u._)({},tg.iconTextGap,e+"px")}),(0,h.d)(e.scrollRef,z.horizontalPadding,function(e){return(0,u._)({},tg.horizontalPadding,e+"px")}),(0,h.d)(e.scrollRef,z.borderRadius,function(e){return(0,u._)({},tg.borderRadius,e+"px")}),(0,h.d)(e.scrollRef,z.scrollHeight,function(e){return(0,u._)({},tg.scrollHeight,e+"px")}),(0,h.d)(e.scrollRef,z.gutterWidth,function(e){return(0,u._)({},tg.gutterWidth,e+"px")}),(0,h.d)(e.scrollRef,z.minHeight,function(e){return(0,u._)({},tg.minHeight,e+"px")});var L=eX(ey),O=(t=eX(tH),r=eX(tL),n=(0,f.useRef)(null),i=(0,f.useRef)(null),o=(0,f.useRef)(null),l=(0,e7.A)().showError,a=eK(tz),v=eX(tE),y=eX(tA),m=eX(tq),x=(0,f.useRef)(null),D=eK(ef),b=eK(N),_=eX(I),U=eX(eb),P=ej(q),A=(Y=(0,g._)((0,eq.H)(function(){return{accept:[d.pt.File,d.pt.Directory,eQ.FILE],canDrop:function(){return!0},hover:function(e,r){var l=o.current;if(l){i.current&&function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{scrollZoneSize:{w:50,h:50},scrollVelocity:{x:50,y:50},scrollUpdateThrottle:100},n=r.scrollZoneSize,i=r.scrollVelocity,o=r.scrollUpdateThrottle,l=e4()(function(){var r=t.getClientOffset();if(!r)return[0,0];var o=r.x,l=r.y,a=e.getBoundingClientRect(),u=a.x,c=a.y,s=a.width,f=a.height,d=Math.min(s/2,n.w),p=Math.min(f/2,n.h),h=function(e,t){var r=(0,g._)(t,2),n=r[0],i=r[1];return e9()(e,n[0],n[1])?(e-n[1])/(n[1]-n[0]):e9()(e,i[0],i[1])?(e-i[0])/(i[1]-i[0]):0};return[h(o,[[u,u+d],[u+s-d,u+s]])*i.x,h(l,[[c,c+p],[c+f-p,c+f]])*i.y]},o,{trailing:!1})();if(l){var a=(0,g._)(l,2),u=a[0],c=a[1];if(0!==u||0!==c){var s=e.scrollLeft,f=e.scrollTop,d=e.scrollWidth,p=e.scrollHeight,h=e.clientWidth,v=e.clientHeight;requestAnimationFrame(function(){e.scrollTop=(0,te.E)(0,d-h,s+u),e.scrollTop=(0,te.E)(0,p-v,f+c)})}}}(i.current,r);var u=r.getClientOffset();if(u){var c=t({x:u.x-l.x,y:u.y-l.y+a()});c?"file"===c.row.type||"uploadFile"===c.row.type?n.current=(0,w._6)(c.row.path)||S.Dl:"dir"===c.row.type?n.current=c.row.path:n.current=c.row.dir:n.current=b();var s="nodes"!==e.type||(0,w.Ag)(e.nodes).every(function(e){var t;return tY(e,null!=(t=n.current)?t:b())});if(m(s),(null==c?void 0:c.row.type)!=="dir"){x.current&&(clearTimeout(x.current.timer),x.current=null);return}var f=c.row.path;if(x.current){if(x.current.dir===f)return;clearTimeout(x.current.timer),x.current=null}if(s){var d=setTimeout(function(){var e;null!=(e=D().get(f))&&e.expanded||U(f)},400);x.current={dir:f,timer:d}}}}},drop:function(e,t){var r,i=null!=(r=n.current)?r:b();if("nodes"===e.type){y({to:i,nodes:e.nodes}),n.current=null;return}e.dirContent.then(function(e){var t=e.reduce(function(e,t){return t.size+e},0);return e.length>tt.Qq?void l("Trying to upload too many files at once. Please try again with fewer files."):t>tt.wr?void l("Total file upload size exceeds maximum limit. Please try again with smaller files."):void v({parentPath:i===S.Dl?void 0:i,files:e.filter(Boolean),onError:l})}),n.current=null},collect:function(e){return{isOver:e.isOver()}}}},[]),2))[0].isOver,R=Y[1],E=eX(tV),(0,f.useEffect)(function(){if(E(A),A){var e,t=null==(e=i.current)?void 0:e.getBoundingClientRect();o.current=t?{x:t.x,y:t.y}:null,t&&_({width:t.width,height:t.height});return}x.current&&(clearTimeout(x.current.timer),x.current=null),n.current=null,r(null)},[E,A,r,_]),C=eX(tz),(0,f.useEffect)(function(){var e=i.current;if(e){var t=e4()(function(){C(e.scrollTop)},200);return e.addEventListener("scroll",t),function(){t.cancel(),e.removeEventListener("scroll",t)}}},[C]),{dropRef:P?void 0:R,containerRef:i}),Z=O.dropRef,H=O.containerRef,W=eX(ek),j=ej(V),G=ej(N);F=eX(eL),k=eG(eE),(0,f.useEffect)(function(){var e=function(){k.current&&F(k.current)};return e(),k.subscribe(e)},[k,F]);var X=(0,p.S)([e.scrollRef,Z,H],{breadcrumb:"client/workspace/components/Filetree/index.tsx:163"});return(0,s.FD)(tT.S,{css:r9.content,px:2,innerRef:X,onKeyDown:L,onContextMenu:j?function(e){e.target===e.currentTarget&&j(e,{type:d.pt.Directory,path:G})}:void 0,onClick:function(e){e.target===e.currentTarget&&W()},children:[(0,s.Y)(r6,{}),(0,s.FD)(tT.S,{css:r9.scroll,role:"tree",children:[(0,c._)(T.values()).map(function(e){var t=e.key,r=e.index;return(0,s.Y)(r4,{index:r},t)}),(0,s.Y)(nr,{}),(0,s.Y)(tZ,{}),(0,s.Y)(tJ,{})]})]})}),nt=(0,f.memo)(function(){var e,t,r,n,i,o,l,a,u,p,h,g,m,w,x,D,b,S,_,U,P=(t=(0,f.useRef)(null),r=ej(ev),n=eK(ev),i=eK(J),o=(0,ta.A)(function(){return function(e){var t=n()[e];return t?$(i(),t.type):0}},[n,i]),l=eK(B),a=eG(eg),u=(0,f.useRef)(ej(Z)),p=(0,tr.Te)({count:r.length,overscan:null!=(e=l().overscan)?e:100,getScrollElement:function(){return t.current},getItemKey:function(e){var t=r[e];return t?"error"===t.type?"error:"+t.dir+t.message:"divider"===t.type?"divider:"+t.dir+t.label:"emptyDir"===t.type?"emptyDir:"+t.dir:"create"===t.type?"create:"+t.dir:t.type+":"+t.path:""},estimateSize:o,rangeExtractor:function(e){var t=(0,tn.vp)(e);return null===a.current||t.includes(a.current)||void 0===r[a.current]?t:(0,c._)(t).concat([a.current])}}),(0,f.useEffect)(function(){u.current&&p.scrollToOffset(u.current)},[p,u]),h=eX(K),g=p.getVirtualItems(),m=p.getTotalSize(),(0,f.useEffect)(function(){h({rows:g,scrollHeight:m})},[h,g,m]),w=ej(X),(0,f.useEffect)(function(){if(w){var e=function(e){null!==e&&p.getVirtualItems()[e]&&p.scrollToIndex(e,{align:"auto",behavior:"auto"})};return setTimeout(function(){return e(a.current)}),a.subscribe(e)}},[p,a,w]),x=eX(ez),(0,f.useEffect)(function(){x(p)},[x,p]),{scrollRef:t,virtualizer:p}).scrollRef;return D=eG(eB),b=eK(B),(0,f.useEffect)(function(){return D.subscribe(function(e){if(e){var t=b(),r=t.readOnly,n=t.onDeleteNodes,i=t.fs;!r&&n&&n({nodes:e,confirm:function(){return(0,v._)(function(){return(0,y.YH)(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return e.type===d.pt.Directory?i.deleteDir(e.path):i.deleteFile(e.path)}))];case 1:return[2,{error:t.sent().filter(function(e){return e.error}).length?"Something went wrong deleting files":null}]}})})()}})}})},[b,D]),S=ej(t6),_=eG(ef),U=eX(t8),(0,f.useEffect)(function(){if(S){var e,t,r=null,n=null!=(e=window.requestIdleCallback)?e:window.requestAnimationFrame,i=null!=(t=window.cancelIdleCallback)?t:window.cancelAnimationFrame,o=tQ()(function(){r&&i(r),r=n(U)},1e3),l=_.subscribe(o);return document.addEventListener("visibilitychange",U),document.addEventListener("beforeunload",U),function(){o.cancel(),r&&i(r),document.removeEventListener("visibilitychange",U),document.removeEventListener("beforeunload",U),l(),U()}}},[S,_,U]),(0,s.Y)(ne,{scrollRef:P})}),nr=(0,f.memo)(function(){var e=ej(G),t=eX(ex);return(0,s.Y)(s.FK,{children:e.map(function(e){return(0,s.Y)(tT.S,{tag:"button",onClick:function(){return t(e.dir)},css:r9.gutter,style:{height:e.height,transform:"translate(calc(".concat(e.depth," * ").concat(ty.gutterWidth,"), ").concat(e.y,"px)")},children:(0,s.Y)(tT.S,{})},"gutter"+e.dir+e.depth+e.y)})})});function nn(e){var t,r,n;return t=(0,e7.A)().showError,r=(0,g._)((0,f.useState)(function(){var r,n,i,o,l=(0,m.y$)();l.set(B,e);var a=null!=(r=e.root)?r:S.Dl,u=e.localCacheKey?(i=e.localCacheKey,o=t0.A.get(t4(i)),e2.J(t5,o)?{dirInfo:new Map(Object.entries(o.dirInfo)),scrollOffset:o.scrollOffset}:null):null;u&&l.set(Z,u.scrollOffset);var c=null!=(n=null==u?void 0:u.dirInfo)?n:new Map;return c.has(a)||c.set(a,{expanded:!0}),l.set(ef,c),e.focusedPath&&l.set(L,e.focusedPath),{store:l,create:function(e,t){if(t)return void l.set(eU,{parentPath:t,fileType:e});var r=a,n=l.get(eR);(null==n?void 0:n.type)===d.pt.File?r=(0,w._6)(n.path)||S.Dl:(null==n?void 0:n.type)===d.pt.Directory&&(r=n.path),l.set(eU,{parentPath:r,fileType:e})},setPresenceState:function(e){l.set(T,e)},setFileStatus:function(e){l.set(O,e)},rename:function(e){l.set(W,e)},move:function(e){l.set(tA,e)},upload:function(e){l.set(tE,(0,re._)((0,t9._)({},e),{onError:t}))},onLoad:function(t){var r=e.fs.watchDir(a,{onChange:function(){t({error:null}),r()},onError:function(e){t({error:e}),r()}});return r},select:function(e){return null===e?l.set(ek):l.set(eI,e)},scrollToPath:function(e){return l.set(eL,e)},hasLocalCache:!!u,getChildren:function(e){var t,r;return null!=(r=null==(t=l.get(ef).get(e))?void 0:t.children)?r:null},getSelectedNode:function(){return l.get(eR)},getSelectedNodes:function(){return l.get(eA)},deleteNodes:function(e){l.set(eV,e)},collapse:function(e){return l.set(ex,e)},getExpandedDirs:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.Dl,r=new Set,n=!0,i=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var u=(0,g._)(l.value,2),c=u[0],s=u[1];c!==t&&s.expanded&&(t===S.Dl||(0,_.hL)(t,c))&&r.add(c)}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return 0===r.size?null:r}(l.get(ef),e)},expandParentDirsToPath:function(e){var t=(0,r8.q)(e).slice(0,-1),r=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var u=o.value;l.set(eb,u)}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}}}}),1)[0],(0,f.useEffect)(function(){r.store.set(B,e)},[r.store,e]),(0,f.useEffect)(function(){var e=!0,t=!1,n=void 0;try{for(var i,o=r.store.get(ef)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var l=(0,g._)(i.value,2),a=l[0];l[1].expanded&&r.store.set(eb,a)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}return function(){var e=!0,t=!1,n=void 0;try{for(var i,o=r.store.get(ef)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var l,a=(0,g._)(i.value,2),u=(a[0],a[1]);null==(l=u.disposeWatcher)||l.call(u)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},[r.store]),n=(0,rl.A)(e.onLoad),(0,f.useEffect)(function(){return r.onLoad(function(e){var t;return null==(t=n.current)?void 0:t.call(n,e)})},[r,n]),r}function ni(e){return(0,s.Y)(eH,{store:e.store,children:(0,s.Y)(nt,{})})}},48409:(e,t,r)=>{"use strict";r.d(t,{Df:()=>g,xS:()=>p});var n=r(17844),i=r(12584),o=r(41114),l=r(54744),a=r(41991),u=r(53524);function c(){var e=(0,i._)(["\n  fragment PublishReplData on Repl {\n    id\n    url\n    title\n    description\n    iconUrl\n    publishedAs\n    imageUrl\n    isRenamed\n    templateInfo {\n      iconUrl\n    }\n    replViewSettings {\n      id\n      defaultView\n      replImage\n      replFile\n    }\n    authorizations {\n      editMetadata {\n        isAuthorized\n      }\n      editFileContents {\n        isAuthorized\n      }\n      publish {\n        isAuthorized\n      }\n    }\n    ...CrosisContextRepl\n    ...PublishedReplShareInfoReplData\n  }\n  ","\n  ","\n"]);return c=function(){return e},e}function s(){var e=(0,i._)(["\n  fragment PublishCurrentUser on CurrentUser {\n    id\n    image\n    isTemplateDeveloper: hasRole(role: TEMPLATE_DEVELOPER)\n    ...CrosisContextCurrentUser\n  }\n  ","\n"]);return s=function(){return e},e}function f(){var e=(0,i._)(["\n  query PublishCurrentUser {\n    currentUser {\n      id\n      ...PublishCurrentUser\n    }\n  }\n  ","\n"]);return f=function(){return e},e}var d={},p=(0,o.J1)(c(),a.c,u.E),h=(0,o.J1)(s(),a.N),v=(0,o.J1)(f(),h);function g(e){var t=(0,n._)({},d,e);return l.I(v,t)}},53524:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var n=r(12584);function i(){var e=(0,n._)(["\n  fragment PublishedReplShareInfoReplData on Repl {\n    id\n    url\n    publishedAs\n    title\n  }\n"]);return i=function(){return e},e}var o=(0,r(41114).J1)(i())},55980:(e,t,r)=>{"use strict";r.d(t,{D:()=>l});var n=r(34837),i=r(63082),o=r.n(i);function l(e){var t=e.replPath;return(0,n.Y)(o(),{children:(0,n.Y)("link",{rel:"alternate",type:"application/json+oembed",href:"https://replit.com/data/oembed?url=".concat(encodeURIComponent("https://replit.com".concat(t))),title:"Replit - select language"})})}},56141:(e,t,r)=>{"use strict";r.d(t,{D:()=>M});var n=r(83846),i=r(53847),o=r(12694),l=r(34837),a=r(21462),u=r(59270),c=r(36163),s=r(49555),f=r(18558),d=r(40115),p=r(46138),h=r(22550),v=r(42793),g=r(39534),y=r(70764),m=r(51292),w=r(19944),x=r(18712),D=r(32289),b=r(36946),S=r(3937),_=r(25227),U=r(81512),P=r(24529);function Y(e){var t=e.node;return t.type===s.pt.Directory?(0,l.Y)(P.A,{size:12}):(0,l.Y)(D.A,{size:12,path:t.path})}var A=(0,w.v)(["menuY","menuX"]),R=A.cssVars,E=A.styleTokens,C=(0,y.x)({root:[x.wp.maxHeight(400),x.wp.position.absolute,x.wp.borderRadius(8),x.wp.shadow(3),{border:"1px solid",borderColor:g.LU.outlineDefault,top:E.menuY,left:E.menuX,"& > div":[x.wp.maxHeight(400)]}]}),F=(0,v.AH)([m.b.nofill,{transitionProperty:"background-color, box-shadow, opacity",opacity:.8,":focus":{zIndex:1,opacity:1}}]),k={button:(0,v.AH)([x.wp.reset.button,x.wp.p(2),x.wp.rowWithGap(4),x.wp.align.center,F]),text:(0,v.AH)({fontSize:g.LU.fontSizeSmall})},T={opacity:1};function I(e){var t,r=e.node,s=e.openFile,d=e.expandable,p=void 0===d||d,h=(0,o._)((0,a.useState)(!1),2),v=h[0],g=h[1],y=(0,a.useRef)(null),m=(0,f.A)(function(e){var t;v&&((0,i._)(e.target,HTMLElement)&&(null==(t=y.current)?void 0:t.contains(e.target))||g(!1))},[v]),w=(0,a.useId)(),x=(0,a.useId)(),D=(0,u._6)(r.path)||c.Dl,U=(0,u.WP)(r.path);function P(){var e,t=null==(e=y.current)?void 0:e.getBoundingClientRect();t&&p&&g({x:t.x+"px",y:t.y+t.height+4+"px"})}return(0,l.FD)(l.FK,{children:[(0,l.FD)(_.S,{innerRef:y,tag:"button",id:w,style:v?T:void 0,"aria-haspopup":"true","aria-expanded":!!v,"aria-controls":x,css:k.button,onClick:function(){p&&(v?g(!1):P())},onKeyDown:function(e){switch(e.key){case" ":case"Enter":case"ArrowDown":if(!p)return;P()}},children:[(0,l.Y)(Y,{node:r}),(0,l.Y)(_.S,{css:k.text,children:U})]}),v&&p?(0,l.Y)(b.Z,{children:(0,l.Y)(S.ui,{id:x,css:C.root,innerRef:m,style:(t={},(0,n._)(t,R.menuX,v.x),(0,n._)(t,R.menuY,v.y),t),onKeyDown:function(e){if("Escape"===e.key){var t;g(!1),null==(t=y.current)||t.focus()}},children:(0,l.Y)(z,{openFile:s,parentPath:D,currentPath:r.path,readOnly:e.readOnly})})}):null]})}function z(e){var t=(0,d.A)().fs,r=(0,h.J)(!0),n=(0,a.useCallback)(function(e){return!r(e.filename)},[r]),i=(0,p.u)({fs:t,filter:n,focusedPath:e.currentPath,fontSize:13,root:e.parentPath,manageWidth:!0,onFileSelect:function(t){var r=t.path;e.openFile(r)},alwaysShowCreateRow:!0,readOnly:e.readOnly});return(0,l.Y)(p.J,{store:i.store})}var L=(0,v.AH)([x.wp.flex.row,x.wp.align.center,x.wp.height("100%"),x.wp.px(2)]),M=(0,a.memo)(function(e){var t,r,n=e.path,i=e.onFileClick,o=e.expandable,u=void 0===o||o,c=e.readOnly,f=e.children,d=(r=(t=n.split("/")).length,t.map(function(e,n){return{type:n===r-1?s.pt.File:s.pt.Directory,path:t.slice(0,n+1).join("/")}}));return(0,l.FD)(_.S,{css:L,children:[d.map(function(e){return(0,l.FD)(a.Fragment,{children:[(0,l.Y)(I,{node:e,openFile:i,expandable:u,readOnly:c}),e.type===s.pt.Directory?(0,l.Y)(U.A,{size:12}):null]},CSS.escape(e.path))}),f||null]})})},58226:(e,t,r)=>{"use strict";r.d(t,{PX:()=>i});var n=r(74651),i=function(e){return e.UNTRACKED="UNTRACKED",e.UNMODIFIED="UNMODIFIED",e.MODIFIED="MODIFIED",e.TYPE_CHANGED="TYPE_CHANGED",e.ADDED="ADDED",e.DELETED="DELETED",e.RENAMED="RENAMED",e.COPIED="COPIED",e.UNMERGED="UNMERGED",e}({}),o=n.ZU.Enum(i),l=n.ZU.Object({type:n.ZU.Object({index:o,worktree:o}),path:n.ZU.String(),staged:n.ZU.Boolean(),unmerged:n.ZU.Boolean(),source:n.ZU.Optional(n.ZU.Object({type:n.ZU.Union([n.ZU.Literal("RENAMED"),n.ZU.Literal("COPIED")]),score:n.ZU.Number(),path:n.ZU.String()}))});n.ZU.Object({commit:n.ZU.Union([n.ZU.String(),n.ZU.Null()]),branch:n.ZU.Union([n.ZU.String(),n.ZU.Null()]),upstream:n.ZU.Union([n.ZU.Null(),n.ZU.Object({branch:n.ZU.String(),ahead:n.ZU.Number(),behind:n.ZU.Number()})]),stashes:n.ZU.Number(),changes:n.ZU.Array(l)})},59784:(e,t,r)=>{"use strict";r.d(t,{R:()=>a});var n=r(34837),i=r(3937),o=r(38693),l=r.n(o);function a(e){var t=e.className,r=e.children;return(0,n.Y)(i.ui,{elevated:!0,tag:"span",px:4,clsx:[l().surface,t],children:r})}},64850:(e,t,r)=>{"use strict";r.d(t,{$:()=>g,o:()=>v});var n=r(12694),i=r(21462),o=r(74651),l=r(97858),a=r(20907),u=r(53899),c=r(61125),s=r(860),f=r(58631),d=o.ZU.Array(o.ZU.String()),p=function(e){return"repl:hiddenFiles:"+e},h={get:function(e){var t=f.A.get(p(e));return l.J(d,t)?t:null},set:function(e,t){f.A.set(p(e),t)}},v=function(e){var t=(0,c.A)(),r=(0,n._)((0,i.useState)(function(){return h.get(t)}),2),o=r[0],l=r[1];return(0,i.useEffect)(function(){return e.watch(function(e){var r=function(e){h.set(t,e),l(e)};if(e.error){e.error===u.DO.NotFound&&r([]);return}if(!e.config.hidden)return void r([]);r(e.config.hidden)})},[e,t]),o},g=function(e){var t=v(e);return(0,s.A)(function(){return null===t?null:t.map(function(e){return(0,a.tL)(e)||e})},[t])}},65511:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var n=r(63806),i=r(36163);function o(e){var t=e.siblingNames,r=e.fileName,o=e.initialValue,l=e.parentPath;if(r.includes("/"))return"File names cannot include forward slashes";if("."===r||".."===r)return'File names cannot be "'.concat(r,'"');if(r.match(/^\s/)||r.match(/\s$/))return"File names cannot start or end with whitespace";if(o!==r&&t.includes(r))return"A file or folder with that name already exists";if(r.length>100)return"File names cannot be longer than 100 characters";var a=l===i.Dl?r:l+"/"+r;return(0,n.RZ)(a)?'"'.concat(a,'" is reserved'):null}},68075:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(17844),i=r(93629),o=r(34837),l=r(25590);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M2.25 4.5A2.25 2.25 0 0 1 4.5 2.25h15a2.25 2.25 0 0 1 2.25 2.25v3c0 .576-.217 1.102-.573 1.5.356.398.573.924.573 1.5v3c0 .576-.217 1.102-.573 1.5.356.398.573.924.573 1.5v3a2.25 2.25 0 0 1-2.25 2.25h-11a2.25 2.25 0 0 1-2.25-2.25v-3c0-.576.217-1.102.573-1.5a2.242 2.242 0 0 1-.573-1.5v-3c0-.263.045-.515.128-.75H4.5A2.25 2.25 0 0 1 2.25 7.5v-3ZM19.5 8.25a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75h-15a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h15Zm-11 1.5a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h11a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75h-11Zm11 6h-11a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h11a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75Z",clipRule:"evenodd"})}))}},70111:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(17844),i=r(93629),o=r(34837),l=r(25590);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M20.593 10.91a1.25 1.25 0 0 1 0 2.18l-14.48 8.145a1.25 1.25 0 0 1-1.863-1.09V3.855a1.25 1.25 0 0 1 1.863-1.09l14.48 8.146Z",clipRule:"evenodd"})}))}},70117:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(17844),i=r(93629),o=r(34837),l=r(25590);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M4 21.75A2.75 2.75 0 0 1 1.25 19V5A2.75 2.75 0 0 1 4 2.25h5a.75.75 0 0 1 .624.334l1.777 2.666H20A2.75 2.75 0 0 1 22.75 8v1.213c.835.559 1.34 1.56 1.2 2.643l-.98 7.5a2.75 2.75 0 0 1-2.726 2.394H4ZM3.116 4.116A1.25 1.25 0 0 1 4 3.75h4.599l1.777 2.666A.75.75 0 0 0 11 6.75h9A1.25 1.25 0 0 1 21.25 8v.75H5.256a2.75 2.75 0 0 0-2.506 1.617V5c0-.332.132-.65.366-.884ZM4.278 20.25h15.966a1.25 1.25 0 0 0 1.24-1.088l.978-7.5a1.25 1.25 0 0 0-1.24-1.412H5.256a1.25 1.25 0 0 0-1.24 1.088l-.978 7.5a1.25 1.25 0 0 0 1.24 1.412Z",clipRule:"evenodd"})}))}},72138:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var n=r(21462),i=r(72562);function o(e){(0,n.useEffect)(function(){e((0,i.n)(),{captureDraggingState:!0})},[e])}},74955:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var n=r(83846),i=r(17844),o=r(93629),l=r(34837),a=r(70764),u=r(19944),c=r(18712),s=r(31051),f=r(90233),d=r(25227),p=(0,u.v)(["size","fontSize","listGap","iconTextGap","avatarOverlap","tooltipFontSize"]),h=p.styleTokens,v=p.cssVars,g=(0,a.x)({avatarsRow:[{"& > *":{marginLeft:"calc(-0.4 * ".concat(h.size,")")},"& > *:first-child":{marginLeft:0}}],countCirlce:[c.wp.center,c.wp.overflow("hidden"),c.wp.backgroundColor.backgroundDefault,c.wp.color.foregroundDimmer,c.wp.px(2),{borderRadius:"50%",minWidth:h.size,height:h.size,fontSize:h.fontSize}],tooltop:[{gap:h.listGap,gridTemplateColumns:"repeat(auto-fill, 200px)"}],tooltipText:[c.wp.truncate,c.wp.color.foregroundDimmer,{paddingLeft:h.iconTextGap,fontSize:h.tooltipFontSize}],stackItem:[]}),y={12:{fontSize:8,listGap:2,iconTextGap:2,tooltipAvatarSize:12,tooltipFontSize:8},16:{fontSize:10,listGap:2,iconTextGap:2,tooltipAvatarSize:16,tooltipFontSize:10},24:{fontSize:12,listGap:4,iconTextGap:4,tooltipAvatarSize:16,tooltipFontSize:12},32:{fontSize:14,listGap:4,iconTextGap:4,tooltipAvatarSize:16,tooltipFontSize:14},40:{fontSize:16,listGap:8,iconTextGap:4,tooltipAvatarSize:24,tooltipFontSize:14},48:{fontSize:24,listGap:8,iconTextGap:4,tooltipAvatarSize:24,tooltipFontSize:14}};function m(e){var t,r,a,u,c,p,h,m,w,x=e.activeUsers,D=e.visibleNumOfUsers,b=void 0===D?3:D,S=e.size,_=void 0===S?24:S,U=x.length,P=(w={},(0,n._)(w,v.size,_+"px"),(0,n._)(w,v.fontSize,(null!=(c=null==(t=y[_])?void 0:t.fontSize)?c:_)+"px"),(0,n._)(w,v.listGap,(null!=(p=null==(r=y[_])?void 0:r.listGap)?p:8)+"px"),(0,n._)(w,v.iconTextGap,(null!=(h=null==(a=y[_])?void 0:a.iconTextGap)?h:8)+"px"),(0,n._)(w,v.tooltipFontSize,(null!=(m=null==(u=y[_])?void 0:u.tooltipFontSize)?m:14)+"px"),w),Y=U>b,A=x.slice(0,Y?b-1:b);return(0,l.Y)(f.m_,{tooltip:(0,l.Y)(d.S,{css:g.tooltop,style:P,children:x.map(function(e){var t;return(0,l.FD)(d.S,{row:!0,gap:2,align:"center",children:[(0,l.Y)(s.e,{size:(null==(t=y[_])?void 0:t.tooltipAvatarSize)||_,src:e.image||null,ringColor:e.color,username:e.username},e.id),(0,l.Y)(d.S,{css:g.tooltipText,grow:!0,shrink:!0,children:e.username})]},e.username)})}),children:function(e,t){return(0,l.FD)(d.S,(0,o._)((0,i._)({},e),{tag:"ul",innerRef:t,css:g.avatarsRow,row:!0,style:P,children:[A.map(function(e,t){return(0,l.Y)(d.S,{tag:"li",style:{zIndex:t+1},css:g.stackItem,children:(0,l.Y)(s.e,{size:_,src:e.image||null,ringColor:e.color,username:e.username})},e.id)}),Y?(0,l.Y)(d.S,{tag:"li",css:g.stackItem,style:{zIndex:A.length},children:(0,l.Y)(d.S,{css:g.countCirlce,children:(0,l.FD)(d.S,{children:["+",U-b+1]})})}):null]}))}})}},77898:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(17844),i=r(93629),o=r(34837),l=r(25590);function a(e){return(0,o.FD)(l.Ay,(0,i._)((0,n._)({},e),{children:[(0,o.Y)("path",{fill:"url(#paint0_linear_7101_264)",fillRule:"evenodd",d:"M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0ZM3.43 0a3.429 3.429 0 0 1 3.428 3.429v.027a5.143 5.143 0 0 0 5.14 5.115H12a3.429 3.429 0 1 1 0 6.858h-.007a5.143 5.143 0 0 0-5.136 5.116v.026a3.429 3.429 0 1 1-3.428-3.428h.004a5.143 5.143 0 0 0-.005-10.286 3.429 3.429 0 0 1 0-6.857Zm12 3.429a3.429 3.429 0 1 0-3.43 3.428 5.143 5.143 0 0 1 .005 10.286H12a3.429 3.429 0 1 0 3.429 3.428v-.027a5.143 5.143 0 0 1 5.135-5.115h.007a3.429 3.429 0 1 0 0-6.858h-.003a5.143 5.143 0 0 1-5.14-5.106V3.43Zm5.142 13.714a3.429 3.429 0 1 1 0 6.857 3.429 3.429 0 0 1 0-6.857Z",clipRule:"evenodd"}),(0,o.Y)("defs",{children:(0,o.FD)("linearGradient",{id:"paint0_linear_7101_264",x1:"0",x2:"24",y1:"0",y2:"24",gradientUnits:"userSpaceOnUse",children:[(0,o.Y)("stop",{stopColor:"#A694FF"}),(0,o.Y)("stop",{offset:"1",stopColor:"#795EFF"})]})})]}))}},88166:(e,t,r)=>{"use strict";function n(e){return Math.log(e)*Math.LOG10E+1|0}function i(e,t,r){return Math.floor(Math.min(t,Math.max(e,r)))}r.d(t,{E:()=>i,V:()=>n})},95719:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r(34837),i=r(11901),o=r(49367),l=r(18712),a=r(91953),u=r(25227),c=r(25590);function s(e){var t=e.count,r=e.children,i=e.tooltip,s=e.small,f=(0,o.$)(t);return(0,n.FD)(u.S,{"aria-label":i,"data-microtip-position":"left",role:"tooltip",css:[l.wp.color.foregroundDimmer,{userSelect:"none",lineHeight:1}],row:!0,gap:4,align:"center",children:[(0,n.Y)(c.Z_,{size:s?12:void 0,children:r}),(0,n.Y)(a.EY,{variant:s?"small":void 0,color:"dimmer",multiline:!1,children:f})]})}var f=r(7471),d=r(54139);function p(e){var t=e.repl;return(0,n.FD)(u.S,{row:!0,gap:16,align:"center",children:[(0,n.Y)(s,{small:!0,count:t.publicForkCount,tooltip:(0,i.A)("remix",t.publicForkCount),children:(0,n.Y)(d.A,{})}),(0,n.Y)(s,{small:!0,count:t.likeCount,tooltip:(0,i.A)("like",t.likeCount),children:(0,n.Y)(f.A,{})})]})}}}]);
//# sourceMappingURL=9061-3b145733fe628612.js.map